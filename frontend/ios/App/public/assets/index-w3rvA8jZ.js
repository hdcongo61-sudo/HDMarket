function Rv(t,r){for(var a=0;a<r.length;a++){const l=r[a];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(l,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pm={exports:{}},gt={};var jg;function jv(){if(jg)return gt;jg=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function C(z,G,V){this.props=z,this.context=G,this.refs=E,this.updater=V||v}C.prototype.isReactComponent={},C.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=C.prototype;function k(z,G,V){this.props=z,this.context=G,this.refs=E,this.updater=V||v}var L=k.prototype=new w;L.constructor=k,N(L,C.prototype),L.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(z,G,V){var fe,ge={},we=null,Pe=null;if(G!=null)for(fe in G.ref!==void 0&&(Pe=G.ref),G.key!==void 0&&(we=""+G.key),G)T.call(G,fe)&&!D.hasOwnProperty(fe)&&(ge[fe]=G[fe]);var Le=arguments.length-2;if(Le===1)ge.children=V;else if(1<Le){for(var je=Array(Le),Ye=0;Ye<Le;Ye++)je[Ye]=arguments[Ye+2];ge.children=je}if(z&&z.defaultProps)for(fe in Le=z.defaultProps,Le)ge[fe]===void 0&&(ge[fe]=Le[fe]);return{$$typeof:t,type:z,key:we,ref:Pe,props:ge,_owner:M.current}}function O(z,G){return{$$typeof:t,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function j(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(V){return G[V]})}var Y=/\/+/g;function te(z,G){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):G.toString(36)}function me(z,G,V,fe,ge){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(we){case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case t:case r:Pe=!0}}if(Pe)return Pe=z,ge=ge(Pe),z=fe===""?"."+te(Pe,0):fe,_(ge)?(V="",z!=null&&(V=z.replace(Y,"$&/")+"/"),me(ge,G,V,"",function(Ye){return Ye})):ge!=null&&(I(ge)&&(ge=O(ge,V+(!ge.key||Pe&&Pe.key===ge.key?"":(""+ge.key).replace(Y,"$&/")+"/")+z)),G.push(ge)),1;if(Pe=0,fe=fe===""?".":fe+":",_(z))for(var Le=0;Le<z.length;Le++){we=z[Le];var je=fe+te(we,Le);Pe+=me(we,G,V,je,ge)}else if(je=S(z),typeof je=="function")for(z=je.call(z),Le=0;!(we=z.next()).done;)we=we.value,je=fe+te(we,Le++),Pe+=me(we,G,V,je,ge);else if(we==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Q(z,G,V){if(z==null)return z;var fe=[],ge=0;return me(z,fe,"","",function(we){return G.call(V,we,ge++)}),fe}function ue(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(V){(z._status===0||z._status===-1)&&(z._status=1,z._result=V)},function(V){(z._status===0||z._status===-1)&&(z._status=2,z._result=V)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var ie={current:null},H={transition:null},B={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:H,ReactCurrentOwner:M};function X(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:Q,forEach:function(z,G,V){Q(z,function(){G.apply(this,arguments)},V)},count:function(z){var G=0;return Q(z,function(){G++}),G},toArray:function(z){return Q(z,function(G){return G})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},gt.Component=C,gt.Fragment=a,gt.Profiler=o,gt.PureComponent=k,gt.StrictMode=l,gt.Suspense=p,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,gt.act=X,gt.cloneElement=function(z,G,V){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var fe=N({},z.props),ge=z.key,we=z.ref,Pe=z._owner;if(G!=null){if(G.ref!==void 0&&(we=G.ref,Pe=M.current),G.key!==void 0&&(ge=""+G.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(je in G)T.call(G,je)&&!D.hasOwnProperty(je)&&(fe[je]=G[je]===void 0&&Le!==void 0?Le[je]:G[je])}var je=arguments.length-2;if(je===1)fe.children=V;else if(1<je){Le=Array(je);for(var Ye=0;Ye<je;Ye++)Le[Ye]=arguments[Ye+2];fe.children=Le}return{$$typeof:t,type:z.type,key:ge,ref:we,props:fe,_owner:Pe}},gt.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:c,_context:z},z.Consumer=z},gt.createElement=R,gt.createFactory=function(z){var G=R.bind(null,z);return G.type=z,G},gt.createRef=function(){return{current:null}},gt.forwardRef=function(z){return{$$typeof:f,render:z}},gt.isValidElement=I,gt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ue}},gt.memo=function(z,G){return{$$typeof:g,type:z,compare:G===void 0?null:G}},gt.startTransition=function(z){var G=H.transition;H.transition={};try{z()}finally{H.transition=G}},gt.unstable_act=X,gt.useCallback=function(z,G){return ie.current.useCallback(z,G)},gt.useContext=function(z){return ie.current.useContext(z)},gt.useDebugValue=function(){},gt.useDeferredValue=function(z){return ie.current.useDeferredValue(z)},gt.useEffect=function(z,G){return ie.current.useEffect(z,G)},gt.useId=function(){return ie.current.useId()},gt.useImperativeHandle=function(z,G,V){return ie.current.useImperativeHandle(z,G,V)},gt.useInsertionEffect=function(z,G){return ie.current.useInsertionEffect(z,G)},gt.useLayoutEffect=function(z,G){return ie.current.useLayoutEffect(z,G)},gt.useMemo=function(z,G){return ie.current.useMemo(z,G)},gt.useReducer=function(z,G,V){return ie.current.useReducer(z,G,V)},gt.useRef=function(z){return ie.current.useRef(z)},gt.useState=function(z){return ie.current.useState(z)},gt.useSyncExternalStore=function(z,G,V){return ie.current.useSyncExternalStore(z,G,V)},gt.useTransition=function(){return ie.current.useTransition()},gt.version="18.3.1",gt}var Og;function Gh(){return Og||(Og=1,Pm.exports=jv()),Pm.exports}var u=Gh();const e=Iv(u),Ov=Rv({__proto__:null,default:e},[u]);var Ki={},Tm={exports:{}},ba={},Lm={exports:{}},Mm={};var zg;function zv(){return zg||(zg=1,(function(t){function r(H,B){var X=H.length;H.push(B);e:for(;0<X;){var z=X-1>>>1,G=H[z];if(0<o(G,B))H[z]=B,H[X]=G,X=z;else break e}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var B=H[0],X=H.pop();if(X!==B){H[0]=X;e:for(var z=0,G=H.length,V=G>>>1;z<V;){var fe=2*(z+1)-1,ge=H[fe],we=fe+1,Pe=H[we];if(0>o(ge,X))we<G&&0>o(Pe,ge)?(H[z]=Pe,H[we]=X,z=we):(H[z]=ge,H[fe]=X,z=fe);else if(we<G&&0>o(Pe,X))H[z]=Pe,H[we]=X,z=we;else break e}}return B}function o(H,B){var X=H.sortIndex-B.sortIndex;return X!==0?X:H.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],g=[],y=1,x=null,S=3,v=!1,N=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(H){for(var B=a(g);B!==null;){if(B.callback===null)l(g);else if(B.startTime<=H)l(g),B.sortIndex=B.expirationTime,r(p,B);else break;B=a(g)}}function _(H){if(E=!1,L(H),!N)if(a(p)!==null)N=!0,ue(T);else{var B=a(g);B!==null&&ie(_,B.startTime-H)}}function T(H,B){N=!1,E&&(E=!1,w(R),R=-1),v=!0;var X=S;try{for(L(B),x=a(p);x!==null&&(!(x.expirationTime>B)||H&&!j());){var z=x.callback;if(typeof z=="function"){x.callback=null,S=x.priorityLevel;var G=z(x.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?x.callback=G:x===a(p)&&l(p),L(B)}else l(p);x=a(p)}if(x!==null)var V=!0;else{var fe=a(g);fe!==null&&ie(_,fe.startTime-B),V=!1}return V}finally{x=null,S=X,v=!1}}var M=!1,D=null,R=-1,O=5,I=-1;function j(){return!(t.unstable_now()-I<O)}function Y(){if(D!==null){var H=t.unstable_now();I=H;var B=!0;try{B=D(!0,H)}finally{B?te():(M=!1,D=null)}}else M=!1}var te;if(typeof k=="function")te=function(){k(Y)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Q=me.port2;me.port1.onmessage=Y,te=function(){Q.postMessage(null)}}else te=function(){C(Y,0)};function ue(H){D=H,M||(M=!0,te())}function ie(H,B){R=C(function(){H(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){N||v||(N=!0,ue(T))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return a(p)},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var B=3;break;default:B=S}var X=S;S=B;try{return H()}finally{S=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,B){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=S;S=H;try{return B()}finally{S=X}},t.unstable_scheduleCallback=function(H,B,X){var z=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?z+X:z):X=z,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,H={id:y++,callback:B,priorityLevel:H,startTime:X,expirationTime:G,sortIndex:-1},X>z?(H.sortIndex=X,r(g,H),a(p)===null&&H===a(g)&&(E?(w(R),R=-1):E=!0,ie(_,X-z))):(H.sortIndex=G,r(p,H),N||v||(N=!0,ue(T))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var B=S;return function(){var X=S;S=B;try{return H.apply(this,arguments)}finally{S=X}}}})(Mm)),Mm}var Dg;function Dv(){return Dg||(Dg=1,Lm.exports=zv()),Lm.exports}var Fg;function Fv(){if(Fg)return ba;Fg=1;var t=Gh(),r=Dv();function a(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function c(n,s){d(n,s),d(n+"Capture",s)}function d(n,s){for(o[n]=s,n=0;n<s.length;n++)l.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function S(n){return p.call(x,n)?!0:p.call(y,n)?!1:g.test(n)?x[n]=!0:(y[n]=!0,!1)}function v(n,s,i,m){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N(n,s,i,m){if(s===null||typeof s>"u"||v(n,s,i,m))return!0;if(m)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(n,s,i,m,h,b,P){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=n,this.type=s,this.sanitizeURL=b,this.removeEmptyString=P}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new E(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new E(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new E(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new E(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new E(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new E(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new E(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new E(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new E(n,5,!1,n.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function k(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(w,k);C[s]=new E(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(w,k);C[s]=new E(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(w,k);C[s]=new E(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new E(n,1,!1,n.toLowerCase(),null,!0,!0)});function L(n,s,i,m){var h=C.hasOwnProperty(s)?C[s]:null;(h!==null?h.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,i,h,m)&&(i=null),m||h===null?S(s)&&(i===null?n.removeAttribute(s):n.setAttribute(s,""+i)):h.mustUseProperty?n[h.propertyName]=i===null?h.type===3?!1:"":i:(s=h.attributeName,m=h.attributeNamespace,i===null?n.removeAttribute(s):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,m?n.setAttributeNS(m,s,i):n.setAttribute(s,i))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),H=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,z;function G(n){if(z===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+n}var V=!1;function fe(n,s){if(!n||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(se){var m=se}Reflect.construct(n,[],s)}else{try{s.call()}catch(se){m=se}n.call(s.prototype)}else{try{throw Error()}catch(se){m=se}n()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var h=se.stack.split(`
`),b=m.stack.split(`
`),P=h.length-1,q=b.length-1;1<=P&&0<=q&&h[P]!==b[q];)q--;for(;1<=P&&0<=q;P--,q--)if(h[P]!==b[q]){if(P!==1||q!==1)do if(P--,q--,0>q||h[P]!==b[q]){var W=`
`+h[P].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=P&&0<=q);break}}}finally{V=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?G(n):""}function ge(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function we(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case M:return"Portal";case O:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case me:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j:return(n.displayName||"Context")+".Consumer";case I:return(n._context.displayName||"Context")+".Provider";case Y:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return s=n.displayName||null,s!==null?s:we(n.type)||"Memo";case ue:s=n._payload,n=n._init;try{return we(n(s))}catch{}}return null}function Pe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ye(n){var s=je(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),m=""+n[s];if(!n.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,b=i.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(P){m=""+P,b.call(this,P)}}),Object.defineProperty(n,s,{enumerable:i.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function He(n){n._valueTracker||(n._valueTracker=Ye(n))}function tt(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var i=s.getValue(),m="";return n&&(m=je(n)?n.checked?"true":"false":n.value),n=m,n!==i?(s.setValue(n),!0):!1}function J(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function We(n,s){var i=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function Re(n,s){var i=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;i=Le(s.value!=null?s.value:i),n._wrapperState={initialChecked:m,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function De(n,s){s=s.checked,s!=null&&L(n,"checked",s,!1)}function ve(n,s){De(n,s);var i=Le(s.value),m=s.type;if(i!=null)m==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?_e(n,s.type,i):s.hasOwnProperty("defaultValue")&&_e(n,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Ne(n,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,i||s===n.value||(n.value=s),n.defaultValue=s}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function _e(n,s,i){(s!=="number"||J(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var rt=Array.isArray;function ut(n,s,i,m){if(n=n.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<n.length;i++)h=s.hasOwnProperty("$"+n[i].value),n[i].selected!==h&&(n[i].selected=h),h&&m&&(n[i].defaultSelected=!0)}else{for(i=""+Le(i),s=null,h=0;h<n.length;h++){if(n[h].value===i){n[h].selected=!0,m&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Ke(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(a(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yt(n,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(a(92));if(rt(i)){if(1<i.length)throw Error(a(93));i=i[0]}s=i}s==null&&(s=""),i=s}n._wrapperState={initialValue:Le(i)}}function It(n,s){var i=Le(s.value),m=Le(s.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),s.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),m!=null&&(n.defaultValue=""+m)}function Vt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function he(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?he(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qe,nt=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,m,h){MSApp.execUnsafeLocalFunction(function(){return n(s,i,m,h)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function bt(n,s){if(s){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=s;return}}n.textContent=s}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(n){jr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),jt[s]=jt[n]})});function zt(n,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||jt.hasOwnProperty(n)&&jt[n]?(""+s).trim():s+"px"}function dr(n,s){n=n.style;for(var i in s)if(s.hasOwnProperty(i)){var m=i.indexOf("--")===0,h=zt(i,s[i],m);i==="float"&&(i="cssFloat"),m?n.setProperty(i,h):n[i]=h}}var U=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(n,s){if(s){if(U[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(a(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(a(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(a(61))}if(s.style!=null&&typeof s.style!="object")throw Error(a(62))}}function Te(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=null;function kt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jt=null,ae=null,Fe=null;function F(n){if(n=io(n)){if(typeof Jt!="function")throw Error(a(280));var s=n.stateNode;s&&(s=ci(s),Jt(n.stateNode,n.type,s))}}function ke(n){ae?Fe?Fe.push(n):Fe=[n]:ae=n}function lt(){if(ae){var n=ae,s=Fe;if(Fe=ae=null,F(n),s)for(n=0;n<s.length;n++)F(s[n])}}function Lt(n,s){return n(s)}function ct(){}var Dt=!1;function Ce(n,s,i){if(Dt)return n(s,i);Dt=!0;try{return Lt(n,s,i)}finally{Dt=!1,(ae!==null||Fe!==null)&&(ct(),lt())}}function Ot(n,s){var i=n.stateNode;if(i===null)return null;var m=ci(i);if(m===null)return null;i=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var ot=!1;if(f)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){ot=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{ot=!1}function Gt(n,s,i,m,h,b,P,q,W){var se=Array.prototype.slice.call(arguments,3);try{s.apply(i,se)}catch(ye){this.onError(ye)}}var Rt=!1,ar=null,Fr=!1,Sa=null,Kt={onError:function(n){Rt=!0,ar=n}};function mr(n,s,i,m,h,b,P,q,W){Rt=!1,ar=null,Gt.apply(Kt,arguments)}function _r(n,s,i,m,h,b,P,q,W){if(mr.apply(this,arguments),Rt){if(Rt){var se=ar;Rt=!1,ar=null}else throw Error(a(198));Fr||(Fr=!0,Sa=se)}}function ur(n){var s=n,i=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(i=s.return),n=s.return;while(n)}return s.tag===3?i:null}function $r(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Pr(n){if(ur(n)!==n)throw Error(a(188))}function Yt(n){var s=n.alternate;if(!s){if(s=ur(n),s===null)throw Error(a(188));return s!==n?null:n}for(var i=n,m=s;;){var h=i.return;if(h===null)break;var b=h.alternate;if(b===null){if(m=h.return,m!==null){i=m;continue}break}if(h.child===b.child){for(b=h.child;b;){if(b===i)return Pr(h),n;if(b===m)return Pr(h),s;b=b.sibling}throw Error(a(188))}if(i.return!==m.return)i=h,m=b;else{for(var P=!1,q=h.child;q;){if(q===i){P=!0,i=h,m=b;break}if(q===m){P=!0,m=h,i=b;break}q=q.sibling}if(!P){for(q=b.child;q;){if(q===i){P=!0,i=b,m=h;break}if(q===m){P=!0,m=b,i=h;break}q=q.sibling}if(!P)throw Error(a(189))}}if(i.alternate!==m)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?n:s}function Br(n){return n=Yt(n),n!==null?ta(n):null}function ta(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=ta(n);if(s!==null)return s;n=n.sibling}return null}var nr=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,aa=r.unstable_shouldYield,Vr=r.unstable_requestPaint,Mt=r.unstable_now,Ia=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Wa=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,ja=r.unstable_LowPriority,Ga=r.unstable_IdlePriority,da=null,Zt=null;function ln(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(da,n,void 0,(n.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:ka,on=Math.log,wn=Math.LN2;function ka(n){return n>>>=0,n===0?32:31-(on(n)/wn|0)|0}var ma=64,na=4194304;function de(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pe(n,s){var i=n.pendingLanes;if(i===0)return 0;var m=0,h=n.suspendedLanes,b=n.pingedLanes,P=i&268435455;if(P!==0){var q=P&~h;q!==0?m=de(q):(b&=P,b!==0&&(m=de(b)))}else P=i&~h,P!==0?m=de(P):b!==0&&(m=de(b));if(m===0)return 0;if(s!==0&&s!==m&&(s&h)===0&&(h=m&-m,b=s&-s,h>=b||h===16&&(b&4194240)!==0))return s;if((m&4)!==0&&(m|=i&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=m;0<s;)i=31-wr(s),h=1<<i,m|=n[i],s&=~h;return m}function $e(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(n,s){for(var i=n.suspendedLanes,m=n.pingedLanes,h=n.expirationTimes,b=n.pendingLanes;0<b;){var P=31-wr(b),q=1<<P,W=h[P];W===-1?((q&i)===0||(q&m)!==0)&&(h[P]=$e(q,s)):W<=s&&(n.expiredLanes|=q),b&=~q}}function Ct(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Qt(){var n=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),n}function Sr(n){for(var s=[],i=0;31>i;i++)s.push(n);return s}function ua(n,s,i){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-wr(s),n[s]=i}function cn(n,s){var i=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<i;){var h=31-wr(i),b=1<<h;s[h]=0,m[h]=-1,n[h]=-1,i&=~b}}function Vn(n,s){var i=n.entangledLanes|=s;for(n=n.entanglements;i;){var m=31-wr(i),h=1<<m;h&s|n[m]&s&&(n[m]|=s),i&=~h}}var Nt=0;function vs(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var dn,sa,qn,mn,Es,A=!1,be=[],Ie=null,Ze=null,Ge=null,st=new Map,pt=new Map,xt=[],sr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kr(n,s){switch(n){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ze=null;break;case"mouseover":case"mouseout":Ge=null;break;case"pointerover":case"pointerout":st.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(s.pointerId)}}function pa(n,s,i,m,h,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:i,eventSystemFlags:m,nativeEvent:b,targetContainers:[h]},s!==null&&(s=io(s),s!==null&&sa(s)),n):(n.eventSystemFlags|=m,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function tl(n,s,i,m,h){switch(s){case"focusin":return Ie=pa(Ie,n,s,i,m,h),!0;case"dragenter":return Ze=pa(Ze,n,s,i,m,h),!0;case"mouseover":return Ge=pa(Ge,n,s,i,m,h),!0;case"pointerover":var b=h.pointerId;return st.set(b,pa(st.get(b)||null,n,s,i,m,h)),!0;case"gotpointercapture":return b=h.pointerId,pt.set(b,pa(pt.get(b)||null,n,s,i,m,h)),!0}return!1}function Qo(n){var s=ks(n.target);if(s!==null){var i=ur(s);if(i!==null){if(s=i.tag,s===13){if(s=$r(i),s!==null){n.blockedOn=s,Es(n.priority,function(){qn(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var i=nl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var m=new i.constructor(i.type,i);Tt=m,i.target.dispatchEvent(m),Tt=null}else return s=io(i),s!==null&&sa(s),n.blockedOn=i,!1;s.shift()}return!0}function Xo(n,s,i){rl(n)&&i.delete(s)}function ad(){A=!1,Ie!==null&&rl(Ie)&&(Ie=null),Ze!==null&&rl(Ze)&&(Ze=null),Ge!==null&&rl(Ge)&&(Ge=null),st.forEach(Xo),pt.forEach(Xo)}function Ns(n,s){n.blockedOn===s&&(n.blockedOn=null,A||(A=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ad)))}function ws(n){function s(h){return Ns(h,n)}if(0<be.length){Ns(be[0],n);for(var i=1;i<be.length;i++){var m=be[i];m.blockedOn===n&&(m.blockedOn=null)}}for(Ie!==null&&Ns(Ie,n),Ze!==null&&Ns(Ze,n),Ge!==null&&Ns(Ge,n),st.forEach(s),pt.forEach(s),i=0;i<xt.length;i++)m=xt[i],m.blockedOn===n&&(m.blockedOn=null);for(;0<xt.length&&(i=xt[0],i.blockedOn===null);)Qo(i),i.blockedOn===null&&xt.shift()}var Un=_.ReactCurrentBatchConfig,al=!0;function nd(n,s,i,m){var h=Nt,b=Un.transition;Un.transition=null;try{Nt=1,Xl(n,s,i,m)}finally{Nt=h,Un.transition=b}}function sd(n,s,i,m){var h=Nt,b=Un.transition;Un.transition=null;try{Nt=4,Xl(n,s,i,m)}finally{Nt=h,Un.transition=b}}function Xl(n,s,i,m){if(al){var h=nl(n,s,i,m);if(h===null)bd(n,s,m,Ss,i),kr(n,m);else if(tl(h,n,s,i,m))m.stopPropagation();else if(kr(n,m),s&4&&-1<sr.indexOf(n)){for(;h!==null;){var b=io(h);if(b!==null&&dn(b),b=nl(n,s,i,m),b===null&&bd(n,s,m,Ss,i),b===h)break;h=b}h!==null&&m.stopPropagation()}else bd(n,s,m,null,i)}}var Ss=null;function nl(n,s,i,m){if(Ss=null,n=kt(m),n=ks(n),n!==null)if(s=ur(n),s===null)n=null;else if(i=s.tag,i===13){if(n=$r(s),n!==null)return n;n=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ss=n,null}function Jo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ia()){case Et:return 1;case Wa:return 4;case qr:case ja:return 16;case Ga:return 536870912;default:return 16}default:return 16}}var un=null,Jl=null,sl=null;function Zo(){if(sl)return sl;var n,s=Jl,i=s.length,m,h="value"in un?un.value:un.textContent,b=h.length;for(n=0;n<i&&s[n]===h[n];n++);var P=i-n;for(m=1;m<=P&&s[i-m]===h[b-m];m++);return sl=h.slice(n,1<m?1-m:void 0)}function ll(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ol(){return!0}function ei(){return!1}function Ur(n){function s(i,m,h,b,P){this._reactName=i,this._targetInst=h,this.type=m,this.nativeEvent=b,this.target=P,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(i=n[q],this[q]=i?i(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ol:ei,this.isPropagationStopped=ei,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$=Ur(Hn),Z=X({},Hn,{view:0,detail:0}),Ue=Ur(Z),et,ft,Ka,ti=X({},Z,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ka&&(Ka&&n.type==="mousemove"?(et=n.screenX-Ka.screenX,ft=n.screenY-Ka.screenY):ft=et=0,Ka=n),et)},movementY:function(n){return"movementY"in n?n.movementY:ft}}),wp=Ur(ti),ob=X({},ti,{dataTransfer:0}),ib=Ur(ob),cb=X({},Z,{relatedTarget:0}),ld=Ur(cb),db=X({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=Ur(db),ub=X({},Hn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pb=Ur(ub),fb=X({},Hn,{data:0}),Sp=Ur(fb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yb(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=xb[n])?!!s[n]:!1}function od(){return yb}var bb=X({},Z,{key:function(n){if(n.key){var s=gb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ll(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(n){return n.type==="keypress"?ll(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ll(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vb=Ur(bb),Eb=X({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kp=Ur(Eb),Nb=X({},Z,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),wb=Ur(Nb),Sb=X({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kb=Ur(Sb),Cb=X({},ti,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Ur(Cb),_b=[9,13,27,32],cd=f&&"CompositionEvent"in window,Zl=null;f&&"documentMode"in document&&(Zl=document.documentMode);var Pb=f&&"TextEvent"in window&&!Zl,Cp=f&&(!cd||Zl&&8<Zl&&11>=Zl),Ap=" ",_p=!1;function Pp(n,s){switch(n){case"keyup":return _b.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var il=!1;function Tb(n,s){switch(n){case"compositionend":return Tp(s);case"keypress":return s.which!==32?null:(_p=!0,Ap);case"textInput":return n=s.data,n===Ap&&_p?null:n;default:return null}}function Lb(n,s){if(il)return n==="compositionend"||!cd&&Pp(n,s)?(n=Zo(),sl=Jl=un=null,il=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cp&&s.locale!=="ko"?null:s.data;default:return null}}var Mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Mb[n.type]:s==="textarea"}function Mp(n,s,i,m){ke(m),s=li(s,"onChange"),0<s.length&&(i=new $("onChange","change",null,i,m),n.push({event:i,listeners:s}))}var eo=null,to=null;function Rb(n){Qp(n,0)}function ri(n){var s=pl(n);if(tt(s))return n}function Ib(n,s){if(n==="change")return s}var Rp=!1;if(f){var dd;if(f){var md="oninput"in document;if(!md){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),md=typeof Ip.oninput=="function"}dd=md}else dd=!1;Rp=dd&&(!document.documentMode||9<document.documentMode)}function jp(){eo&&(eo.detachEvent("onpropertychange",Op),to=eo=null)}function Op(n){if(n.propertyName==="value"&&ri(to)){var s=[];Mp(s,to,n,kt(n)),Ce(Rb,s)}}function jb(n,s,i){n==="focusin"?(jp(),eo=s,to=i,eo.attachEvent("onpropertychange",Op)):n==="focusout"&&jp()}function Ob(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ri(to)}function zb(n,s){if(n==="click")return ri(s)}function Db(n,s){if(n==="input"||n==="change")return ri(s)}function Fb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ya=typeof Object.is=="function"?Object.is:Fb;function ro(n,s){if(Ya(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var i=Object.keys(n),m=Object.keys(s);if(i.length!==m.length)return!1;for(m=0;m<i.length;m++){var h=i[m];if(!p.call(s,h)||!Ya(n[h],s[h]))return!1}return!0}function zp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dp(n,s){var i=zp(n);n=0;for(var m;i;){if(i.nodeType===3){if(m=n+i.textContent.length,n<=s&&m>=s)return{node:i,offset:s-n};n=m}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zp(i)}}function Fp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Fp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function $p(){for(var n=window,s=J();s instanceof n.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)n=s.contentWindow;else break;s=J(n.document)}return s}function ud(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function $b(n){var s=$p(),i=n.focusedElem,m=n.selectionRange;if(s!==i&&i&&i.ownerDocument&&Fp(i.ownerDocument.documentElement,i)){if(m!==null&&ud(i)){if(s=m.start,n=m.end,n===void 0&&(n=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(n,i.value.length);else if(n=(s=i.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=i.textContent.length,b=Math.min(m.start,h);m=m.end===void 0?b:Math.min(m.end,h),!n.extend&&b>m&&(h=m,m=b,b=h),h=Dp(i,b);var P=Dp(i,m);h&&P&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==P.node||n.focusOffset!==P.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),b>m?(n.addRange(s),n.extend(P.node,P.offset)):(s.setEnd(P.node,P.offset),n.addRange(s)))}}for(s=[],n=i;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)n=s[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Bb=f&&"documentMode"in document&&11>=document.documentMode,cl=null,pd=null,ao=null,fd=!1;function Bp(n,s,i){var m=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fd||cl==null||cl!==J(m)||(m=cl,"selectionStart"in m&&ud(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ao&&ro(ao,m)||(ao=m,m=li(pd,"onSelect"),0<m.length&&(s=new $("onSelect","select",null,s,i),n.push({event:s,listeners:m}),s.target=cl)))}function ai(n,s){var i={};return i[n.toLowerCase()]=s.toLowerCase(),i["Webkit"+n]="webkit"+s,i["Moz"+n]="moz"+s,i}var dl={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionend:ai("Transition","TransitionEnd")},gd={},Vp={};f&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function ni(n){if(gd[n])return gd[n];if(!dl[n])return n;var s=dl[n],i;for(i in s)if(s.hasOwnProperty(i)&&i in Vp)return gd[n]=s[i];return n}var qp=ni("animationend"),Up=ni("animationiteration"),Hp=ni("animationstart"),Wp=ni("transitionend"),Gp=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(n,s){Gp.set(n,s),c(s,[n])}for(var hd=0;hd<Kp.length;hd++){var xd=Kp[hd],Vb=xd.toLowerCase(),qb=xd[0].toUpperCase()+xd.slice(1);Wn(Vb,"on"+qb)}Wn(qp,"onAnimationEnd"),Wn(Up,"onAnimationIteration"),Wn(Hp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Wp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Yp(n,s,i){var m=n.type||"unknown-event";n.currentTarget=i,_r(m,s,void 0,n),n.currentTarget=null}function Qp(n,s){s=(s&4)!==0;for(var i=0;i<n.length;i++){var m=n[i],h=m.event;m=m.listeners;e:{var b=void 0;if(s)for(var P=m.length-1;0<=P;P--){var q=m[P],W=q.instance,se=q.currentTarget;if(q=q.listener,W!==b&&h.isPropagationStopped())break e;Yp(h,q,se),b=W}else for(P=0;P<m.length;P++){if(q=m[P],W=q.instance,se=q.currentTarget,q=q.listener,W!==b&&h.isPropagationStopped())break e;Yp(h,q,se),b=W}}}if(Fr)throw n=Sa,Fr=!1,Sa=null,n}function qt(n,s){var i=s[kd];i===void 0&&(i=s[kd]=new Set);var m=n+"__bubble";i.has(m)||(Xp(s,n,2,!1),i.add(m))}function yd(n,s,i){var m=0;s&&(m|=4),Xp(i,n,m,s)}var si="_reactListening"+Math.random().toString(36).slice(2);function so(n){if(!n[si]){n[si]=!0,l.forEach(function(i){i!=="selectionchange"&&(Ub.has(i)||yd(i,!1,n),yd(i,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[si]||(s[si]=!0,yd("selectionchange",!1,s))}}function Xp(n,s,i,m){switch(Jo(s)){case 1:var h=nd;break;case 4:h=sd;break;default:h=Xl}i=h.bind(null,s,i,n),h=void 0,!ot||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),m?h!==void 0?n.addEventListener(s,i,{capture:!0,passive:h}):n.addEventListener(s,i,!0):h!==void 0?n.addEventListener(s,i,{passive:h}):n.addEventListener(s,i,!1)}function bd(n,s,i,m,h){var b=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var q=m.stateNode.containerInfo;if(q===h||q.nodeType===8&&q.parentNode===h)break;if(P===4)for(P=m.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===h||W.nodeType===8&&W.parentNode===h))return;P=P.return}for(;q!==null;){if(P=ks(q),P===null)return;if(W=P.tag,W===5||W===6){m=b=P;continue e}q=q.parentNode}}m=m.return}Ce(function(){var se=b,ye=kt(i),Ee=[];e:{var xe=Gp.get(n);if(xe!==void 0){var Me=$,ze=n;switch(n){case"keypress":if(ll(i)===0)break e;case"keydown":case"keyup":Me=vb;break;case"focusin":ze="focus",Me=ld;break;case"focusout":ze="blur",Me=ld;break;case"beforeblur":case"afterblur":Me=ld;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=wb;break;case qp:case Up:case Hp:Me=mb;break;case Wp:Me=kb;break;case"scroll":Me=Ue;break;case"wheel":Me=Ab;break;case"copy":case"cut":case"paste":Me=pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=kp}var Be=(s&4)!==0,pr=!Be&&n==="scroll",re=Be?xe!==null?xe+"Capture":null:xe;Be=[];for(var K=se,ne;K!==null;){ne=K;var Se=ne.stateNode;if(ne.tag===5&&Se!==null&&(ne=Se,re!==null&&(Se=Ot(K,re),Se!=null&&Be.push(lo(K,Se,ne)))),pr)break;K=K.return}0<Be.length&&(xe=new Me(xe,ze,null,i,ye),Ee.push({event:xe,listeners:Be}))}}if((s&7)===0){e:{if(xe=n==="mouseover"||n==="pointerover",Me=n==="mouseout"||n==="pointerout",xe&&i!==Tt&&(ze=i.relatedTarget||i.fromElement)&&(ks(ze)||ze[Sn]))break e;if((Me||xe)&&(xe=ye.window===ye?ye:(xe=ye.ownerDocument)?xe.defaultView||xe.parentWindow:window,Me?(ze=i.relatedTarget||i.toElement,Me=se,ze=ze?ks(ze):null,ze!==null&&(pr=ur(ze),ze!==pr||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Me=null,ze=se),Me!==ze)){if(Be=wp,Se="onMouseLeave",re="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(Be=kp,Se="onPointerLeave",re="onPointerEnter",K="pointer"),pr=Me==null?xe:pl(Me),ne=ze==null?xe:pl(ze),xe=new Be(Se,K+"leave",Me,i,ye),xe.target=pr,xe.relatedTarget=ne,Se=null,ks(ye)===se&&(Be=new Be(re,K+"enter",ze,i,ye),Be.target=ne,Be.relatedTarget=pr,Se=Be),pr=Se,Me&&ze)t:{for(Be=Me,re=ze,K=0,ne=Be;ne;ne=ml(ne))K++;for(ne=0,Se=re;Se;Se=ml(Se))ne++;for(;0<K-ne;)Be=ml(Be),K--;for(;0<ne-K;)re=ml(re),ne--;for(;K--;){if(Be===re||re!==null&&Be===re.alternate)break t;Be=ml(Be),re=ml(re)}Be=null}else Be=null;Me!==null&&Jp(Ee,xe,Me,Be,!1),ze!==null&&pr!==null&&Jp(Ee,pr,ze,Be,!0)}}e:{if(xe=se?pl(se):window,Me=xe.nodeName&&xe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&xe.type==="file")var Ve=Ib;else if(Lp(xe))if(Rp)Ve=Db;else{Ve=Ob;var Qe=jb}else(Me=xe.nodeName)&&Me.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Ve=zb);if(Ve&&(Ve=Ve(n,se))){Mp(Ee,Ve,i,ye);break e}Qe&&Qe(n,xe,se),n==="focusout"&&(Qe=xe._wrapperState)&&Qe.controlled&&xe.type==="number"&&_e(xe,"number",xe.value)}switch(Qe=se?pl(se):window,n){case"focusin":(Lp(Qe)||Qe.contentEditable==="true")&&(cl=Qe,pd=se,ao=null);break;case"focusout":ao=pd=cl=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Bp(Ee,i,ye);break;case"selectionchange":if(Bb)break;case"keydown":case"keyup":Bp(Ee,i,ye)}var Xe;if(cd)e:{switch(n){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else il?Pp(n,i)&&(at="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(at="onCompositionStart");at&&(Cp&&i.locale!=="ko"&&(il||at!=="onCompositionStart"?at==="onCompositionEnd"&&il&&(Xe=Zo()):(un=ye,Jl="value"in un?un.value:un.textContent,il=!0)),Qe=li(se,at),0<Qe.length&&(at=new Sp(at,n,null,i,ye),Ee.push({event:at,listeners:Qe}),Xe?at.data=Xe:(Xe=Tp(i),Xe!==null&&(at.data=Xe)))),(Xe=Pb?Tb(n,i):Lb(n,i))&&(se=li(se,"onBeforeInput"),0<se.length&&(ye=new Sp("onBeforeInput","beforeinput",null,i,ye),Ee.push({event:ye,listeners:se}),ye.data=Xe))}Qp(Ee,s)})}function lo(n,s,i){return{instance:n,listener:s,currentTarget:i}}function li(n,s){for(var i=s+"Capture",m=[];n!==null;){var h=n,b=h.stateNode;h.tag===5&&b!==null&&(h=b,b=Ot(n,i),b!=null&&m.unshift(lo(n,b,h)),b=Ot(n,s),b!=null&&m.push(lo(n,b,h))),n=n.return}return m}function ml(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Jp(n,s,i,m,h){for(var b=s._reactName,P=[];i!==null&&i!==m;){var q=i,W=q.alternate,se=q.stateNode;if(W!==null&&W===m)break;q.tag===5&&se!==null&&(q=se,h?(W=Ot(i,b),W!=null&&P.unshift(lo(i,W,q))):h||(W=Ot(i,b),W!=null&&P.push(lo(i,W,q)))),i=i.return}P.length!==0&&n.push({event:s,listeners:P})}var Hb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function Zp(n){return(typeof n=="string"?n:""+n).replace(Hb,`
`).replace(Wb,"")}function oi(n,s,i){if(s=Zp(s),Zp(n)!==s&&i)throw Error(a(425))}function ii(){}var vd=null,Ed=null;function Nd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(n){return ef.resolve(null).then(n).catch(Yb)}:wd;function Yb(n){setTimeout(function(){throw n})}function Sd(n,s){var i=s,m=0;do{var h=i.nextSibling;if(n.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(m===0){n.removeChild(h),ws(s);return}m--}else i!=="$"&&i!=="$?"&&i!=="$!"||m++;i=h}while(i);ws(s)}function Gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function tf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return n;s--}else i==="/$"&&s++}n=n.previousSibling}return null}var ul=Math.random().toString(36).slice(2),pn="__reactFiber$"+ul,oo="__reactProps$"+ul,Sn="__reactContainer$"+ul,kd="__reactEvents$"+ul,Qb="__reactListeners$"+ul,Xb="__reactHandles$"+ul;function ks(n){var s=n[pn];if(s)return s;for(var i=n.parentNode;i;){if(s=i[Sn]||i[pn]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(n=tf(n);n!==null;){if(i=n[pn])return i;n=tf(n)}return s}n=i,i=n.parentNode}return null}function io(n){return n=n[pn]||n[Sn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function pl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(a(33))}function ci(n){return n[oo]||null}var Cd=[],fl=-1;function Kn(n){return{current:n}}function Ut(n){0>fl||(n.current=Cd[fl],Cd[fl]=null,fl--)}function $t(n,s){fl++,Cd[fl]=n.current,n.current=s}var Yn={},Hr=Kn(Yn),fa=Kn(!1),Cs=Yn;function gl(n,s){var i=n.type.contextTypes;if(!i)return Yn;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var h={},b;for(b in i)h[b]=s[b];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function ga(n){return n=n.childContextTypes,n!=null}function di(){Ut(fa),Ut(Hr)}function rf(n,s,i){if(Hr.current!==Yn)throw Error(a(168));$t(Hr,s),$t(fa,i)}function af(n,s,i){var m=n.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return i;m=m.getChildContext();for(var h in m)if(!(h in s))throw Error(a(108,Pe(n)||"Unknown",h));return X({},i,m)}function mi(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yn,Cs=Hr.current,$t(Hr,n),$t(fa,fa.current),!0}function nf(n,s,i){var m=n.stateNode;if(!m)throw Error(a(169));i?(n=af(n,s,Cs),m.__reactInternalMemoizedMergedChildContext=n,Ut(fa),Ut(Hr),$t(Hr,n)):Ut(fa),$t(fa,i)}var kn=null,ui=!1,Ad=!1;function sf(n){kn===null?kn=[n]:kn.push(n)}function Jb(n){ui=!0,sf(n)}function Qn(){if(!Ad&&kn!==null){Ad=!0;var n=0,s=Nt;try{var i=kn;for(Nt=1;n<i.length;n++){var m=i[n];do m=m(!0);while(m!==null)}kn=null,ui=!1}catch(h){throw kn!==null&&(kn=kn.slice(n+1)),nr(Et,Qn),h}finally{Nt=s,Ad=!1}}return null}var hl=[],xl=0,pi=null,fi=0,Oa=[],za=0,As=null,Cn=1,An="";function _s(n,s){hl[xl++]=fi,hl[xl++]=pi,pi=n,fi=s}function lf(n,s,i){Oa[za++]=Cn,Oa[za++]=An,Oa[za++]=As,As=n;var m=Cn;n=An;var h=32-wr(m)-1;m&=~(1<<h),i+=1;var b=32-wr(s)+h;if(30<b){var P=h-h%5;b=(m&(1<<P)-1).toString(32),m>>=P,h-=P,Cn=1<<32-wr(s)+h|i<<h|m,An=b+n}else Cn=1<<b|i<<h|m,An=n}function _d(n){n.return!==null&&(_s(n,1),lf(n,1,0))}function Pd(n){for(;n===pi;)pi=hl[--xl],hl[xl]=null,fi=hl[--xl],hl[xl]=null;for(;n===As;)As=Oa[--za],Oa[za]=null,An=Oa[--za],Oa[za]=null,Cn=Oa[--za],Oa[za]=null}var Ca=null,Aa=null,Xt=!1,Qa=null;function of(n,s){var i=Ba(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=n,s=n.deletions,s===null?(n.deletions=[i],n.flags|=16):s.push(i)}function cf(n,s){switch(n.tag){case 5:var i=n.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ca=n,Aa=Gn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ca=n,Aa=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=As!==null?{id:Cn,overflow:An}:null,n.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Ba(18,null,null,0),i.stateNode=s,i.return=n,n.child=i,Ca=n,Aa=null,!0):!1;default:return!1}}function Td(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ld(n){if(Xt){var s=Aa;if(s){var i=s;if(!cf(n,s)){if(Td(n))throw Error(a(418));s=Gn(i.nextSibling);var m=Ca;s&&cf(n,s)?of(m,i):(n.flags=n.flags&-4097|2,Xt=!1,Ca=n)}}else{if(Td(n))throw Error(a(418));n.flags=n.flags&-4097|2,Xt=!1,Ca=n}}}function df(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ca=n}function gi(n){if(n!==Ca)return!1;if(!Xt)return df(n),Xt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Nd(n.type,n.memoizedProps)),s&&(s=Aa)){if(Td(n))throw mf(),Error(a(418));for(;s;)of(n,s),s=Gn(s.nextSibling)}if(df(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(s===0){Aa=Gn(n.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}n=n.nextSibling}Aa=null}}else Aa=Ca?Gn(n.stateNode.nextSibling):null;return!0}function mf(){for(var n=Aa;n;)n=Gn(n.nextSibling)}function yl(){Aa=Ca=null,Xt=!1}function Md(n){Qa===null?Qa=[n]:Qa.push(n)}var Zb=_.ReactCurrentBatchConfig;function co(n,s,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var m=i.stateNode}if(!m)throw Error(a(147,n));var h=m,b=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(P){var q=h.refs;P===null?delete q[b]:q[b]=P},s._stringRef=b,s)}if(typeof n!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,n))}return n}function hi(n,s){throw n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function uf(n){var s=n._init;return s(n._payload)}function pf(n){function s(re,K){if(n){var ne=re.deletions;ne===null?(re.deletions=[K],re.flags|=16):ne.push(K)}}function i(re,K){if(!n)return null;for(;K!==null;)s(re,K),K=K.sibling;return null}function m(re,K){for(re=new Map;K!==null;)K.key!==null?re.set(K.key,K):re.set(K.index,K),K=K.sibling;return re}function h(re,K){return re=ns(re,K),re.index=0,re.sibling=null,re}function b(re,K,ne){return re.index=ne,n?(ne=re.alternate,ne!==null?(ne=ne.index,ne<K?(re.flags|=2,K):ne):(re.flags|=2,K)):(re.flags|=1048576,K)}function P(re){return n&&re.alternate===null&&(re.flags|=2),re}function q(re,K,ne,Se){return K===null||K.tag!==6?(K=wm(ne,re.mode,Se),K.return=re,K):(K=h(K,ne),K.return=re,K)}function W(re,K,ne,Se){var Ve=ne.type;return Ve===D?ye(re,K,ne.props.children,Se,ne.key):K!==null&&(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ue&&uf(Ve)===K.type)?(Se=h(K,ne.props),Se.ref=co(re,K,ne),Se.return=re,Se):(Se=$i(ne.type,ne.key,ne.props,null,re.mode,Se),Se.ref=co(re,K,ne),Se.return=re,Se)}function se(re,K,ne,Se){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=Sm(ne,re.mode,Se),K.return=re,K):(K=h(K,ne.children||[]),K.return=re,K)}function ye(re,K,ne,Se,Ve){return K===null||K.tag!==7?(K=Os(ne,re.mode,Se,Ve),K.return=re,K):(K=h(K,ne),K.return=re,K)}function Ee(re,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number")return K=wm(""+K,re.mode,ne),K.return=re,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return ne=$i(K.type,K.key,K.props,null,re.mode,ne),ne.ref=co(re,null,K),ne.return=re,ne;case M:return K=Sm(K,re.mode,ne),K.return=re,K;case ue:var Se=K._init;return Ee(re,Se(K._payload),ne)}if(rt(K)||B(K))return K=Os(K,re.mode,ne,null),K.return=re,K;hi(re,K)}return null}function xe(re,K,ne,Se){var Ve=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ve!==null?null:q(re,K,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return ne.key===Ve?W(re,K,ne,Se):null;case M:return ne.key===Ve?se(re,K,ne,Se):null;case ue:return Ve=ne._init,xe(re,K,Ve(ne._payload),Se)}if(rt(ne)||B(ne))return Ve!==null?null:ye(re,K,ne,Se,null);hi(re,ne)}return null}function Me(re,K,ne,Se,Ve){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return re=re.get(ne)||null,q(K,re,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case T:return re=re.get(Se.key===null?ne:Se.key)||null,W(K,re,Se,Ve);case M:return re=re.get(Se.key===null?ne:Se.key)||null,se(K,re,Se,Ve);case ue:var Qe=Se._init;return Me(re,K,ne,Qe(Se._payload),Ve)}if(rt(Se)||B(Se))return re=re.get(ne)||null,ye(K,re,Se,Ve,null);hi(K,Se)}return null}function ze(re,K,ne,Se){for(var Ve=null,Qe=null,Xe=K,at=K=0,Mr=null;Xe!==null&&at<ne.length;at++){Xe.index>at?(Mr=Xe,Xe=null):Mr=Xe.sibling;var Pt=xe(re,Xe,ne[at],Se);if(Pt===null){Xe===null&&(Xe=Mr);break}n&&Xe&&Pt.alternate===null&&s(re,Xe),K=b(Pt,K,at),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt,Xe=Mr}if(at===ne.length)return i(re,Xe),Xt&&_s(re,at),Ve;if(Xe===null){for(;at<ne.length;at++)Xe=Ee(re,ne[at],Se),Xe!==null&&(K=b(Xe,K,at),Qe===null?Ve=Xe:Qe.sibling=Xe,Qe=Xe);return Xt&&_s(re,at),Ve}for(Xe=m(re,Xe);at<ne.length;at++)Mr=Me(Xe,re,at,ne[at],Se),Mr!==null&&(n&&Mr.alternate!==null&&Xe.delete(Mr.key===null?at:Mr.key),K=b(Mr,K,at),Qe===null?Ve=Mr:Qe.sibling=Mr,Qe=Mr);return n&&Xe.forEach(function(ss){return s(re,ss)}),Xt&&_s(re,at),Ve}function Be(re,K,ne,Se){var Ve=B(ne);if(typeof Ve!="function")throw Error(a(150));if(ne=Ve.call(ne),ne==null)throw Error(a(151));for(var Qe=Ve=null,Xe=K,at=K=0,Mr=null,Pt=ne.next();Xe!==null&&!Pt.done;at++,Pt=ne.next()){Xe.index>at?(Mr=Xe,Xe=null):Mr=Xe.sibling;var ss=xe(re,Xe,Pt.value,Se);if(ss===null){Xe===null&&(Xe=Mr);break}n&&Xe&&ss.alternate===null&&s(re,Xe),K=b(ss,K,at),Qe===null?Ve=ss:Qe.sibling=ss,Qe=ss,Xe=Mr}if(Pt.done)return i(re,Xe),Xt&&_s(re,at),Ve;if(Xe===null){for(;!Pt.done;at++,Pt=ne.next())Pt=Ee(re,Pt.value,Se),Pt!==null&&(K=b(Pt,K,at),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt);return Xt&&_s(re,at),Ve}for(Xe=m(re,Xe);!Pt.done;at++,Pt=ne.next())Pt=Me(Xe,re,at,Pt.value,Se),Pt!==null&&(n&&Pt.alternate!==null&&Xe.delete(Pt.key===null?at:Pt.key),K=b(Pt,K,at),Qe===null?Ve=Pt:Qe.sibling=Pt,Qe=Pt);return n&&Xe.forEach(function(Mv){return s(re,Mv)}),Xt&&_s(re,at),Ve}function pr(re,K,ne,Se){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:e:{for(var Ve=ne.key,Qe=K;Qe!==null;){if(Qe.key===Ve){if(Ve=ne.type,Ve===D){if(Qe.tag===7){i(re,Qe.sibling),K=h(Qe,ne.props.children),K.return=re,re=K;break e}}else if(Qe.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ue&&uf(Ve)===Qe.type){i(re,Qe.sibling),K=h(Qe,ne.props),K.ref=co(re,Qe,ne),K.return=re,re=K;break e}i(re,Qe);break}else s(re,Qe);Qe=Qe.sibling}ne.type===D?(K=Os(ne.props.children,re.mode,Se,ne.key),K.return=re,re=K):(Se=$i(ne.type,ne.key,ne.props,null,re.mode,Se),Se.ref=co(re,K,ne),Se.return=re,re=Se)}return P(re);case M:e:{for(Qe=ne.key;K!==null;){if(K.key===Qe)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){i(re,K.sibling),K=h(K,ne.children||[]),K.return=re,re=K;break e}else{i(re,K);break}else s(re,K);K=K.sibling}K=Sm(ne,re.mode,Se),K.return=re,re=K}return P(re);case ue:return Qe=ne._init,pr(re,K,Qe(ne._payload),Se)}if(rt(ne))return ze(re,K,ne,Se);if(B(ne))return Be(re,K,ne,Se);hi(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,K!==null&&K.tag===6?(i(re,K.sibling),K=h(K,ne),K.return=re,re=K):(i(re,K),K=wm(ne,re.mode,Se),K.return=re,re=K),P(re)):i(re,K)}return pr}var bl=pf(!0),ff=pf(!1),xi=Kn(null),yi=null,vl=null,Rd=null;function Id(){Rd=vl=yi=null}function jd(n){var s=xi.current;Ut(xi),n._currentValue=s}function Od(n,s,i){for(;n!==null;){var m=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),n===i)break;n=n.return}}function El(n,s){yi=n,Rd=vl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(ha=!0),n.firstContext=null)}function Da(n){var s=n._currentValue;if(Rd!==n)if(n={context:n,memoizedValue:s,next:null},vl===null){if(yi===null)throw Error(a(308));vl=n,yi.dependencies={lanes:0,firstContext:n}}else vl=vl.next=n;return s}var Ps=null;function zd(n){Ps===null?Ps=[n]:Ps.push(n)}function gf(n,s,i,m){var h=s.interleaved;return h===null?(i.next=i,zd(s)):(i.next=h.next,h.next=i),s.interleaved=i,_n(n,m)}function _n(n,s){n.lanes|=s;var i=n.alternate;for(i!==null&&(i.lanes|=s),i=n,n=n.return;n!==null;)n.childLanes|=s,i=n.alternate,i!==null&&(i.childLanes|=s),i=n,n=n.return;return i.tag===3?i.stateNode:null}var Xn=!1;function Dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Jn(n,s,i){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(At&2)!==0){var h=m.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),m.pending=s,_n(n,i)}return h=m.interleaved,h===null?(s.next=s,zd(m)):(s.next=h.next,h.next=s),m.interleaved=s,_n(n,i)}function bi(n,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var m=s.lanes;m&=n.pendingLanes,i|=m,s.lanes=i,Vn(n,i)}}function xf(n,s){var i=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,i===m)){var h=null,b=null;if(i=i.firstBaseUpdate,i!==null){do{var P={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};b===null?h=b=P:b=b.next=P,i=i.next}while(i!==null);b===null?h=b=s:b=b.next=s}else h=b=s;i={baseState:m.baseState,firstBaseUpdate:h,lastBaseUpdate:b,shared:m.shared,effects:m.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=s:n.next=s,i.lastBaseUpdate=s}function vi(n,s,i,m){var h=n.updateQueue;Xn=!1;var b=h.firstBaseUpdate,P=h.lastBaseUpdate,q=h.shared.pending;if(q!==null){h.shared.pending=null;var W=q,se=W.next;W.next=null,P===null?b=se:P.next=se,P=W;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,q=ye.lastBaseUpdate,q!==P&&(q===null?ye.firstBaseUpdate=se:q.next=se,ye.lastBaseUpdate=W))}if(b!==null){var Ee=h.baseState;P=0,ye=se=W=null,q=b;do{var xe=q.lane,Me=q.eventTime;if((m&xe)===xe){ye!==null&&(ye=ye.next={eventTime:Me,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var ze=n,Be=q;switch(xe=s,Me=i,Be.tag){case 1:if(ze=Be.payload,typeof ze=="function"){Ee=ze.call(Me,Ee,xe);break e}Ee=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Be.payload,xe=typeof ze=="function"?ze.call(Me,Ee,xe):ze,xe==null)break e;Ee=X({},Ee,xe);break e;case 2:Xn=!0}}q.callback!==null&&q.lane!==0&&(n.flags|=64,xe=h.effects,xe===null?h.effects=[q]:xe.push(q))}else Me={eventTime:Me,lane:xe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ye===null?(se=ye=Me,W=Ee):ye=ye.next=Me,P|=xe;if(q=q.next,q===null){if(q=h.shared.pending,q===null)break;xe=q,q=xe.next,xe.next=null,h.lastBaseUpdate=xe,h.shared.pending=null}}while(!0);if(ye===null&&(W=Ee),h.baseState=W,h.firstBaseUpdate=se,h.lastBaseUpdate=ye,s=h.shared.interleaved,s!==null){h=s;do P|=h.lane,h=h.next;while(h!==s)}else b===null&&(h.shared.lanes=0);Ms|=P,n.lanes=P,n.memoizedState=Ee}}function yf(n,s,i){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var m=n[s],h=m.callback;if(h!==null){if(m.callback=null,m=i,typeof h!="function")throw Error(a(191,h));h.call(m)}}}var mo={},fn=Kn(mo),uo=Kn(mo),po=Kn(mo);function Ts(n){if(n===mo)throw Error(a(174));return n}function Fd(n,s){switch($t(po,s),$t(uo,n),$t(fn,mo),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Je(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Je(s,n)}Ut(fn),$t(fn,s)}function Nl(){Ut(fn),Ut(uo),Ut(po)}function bf(n){Ts(po.current);var s=Ts(fn.current),i=Je(s,n.type);s!==i&&($t(uo,n),$t(fn,i))}function $d(n){uo.current===n&&(Ut(fn),Ut(uo))}var er=Kn(0);function Ei(n){for(var s=n;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bd=[];function Vd(){for(var n=0;n<Bd.length;n++)Bd[n]._workInProgressVersionPrimary=null;Bd.length=0}var Ni=_.ReactCurrentDispatcher,qd=_.ReactCurrentBatchConfig,Ls=0,tr=null,Cr=null,Tr=null,wi=!1,fo=!1,go=0,ev=0;function Wr(){throw Error(a(321))}function Ud(n,s){if(s===null)return!1;for(var i=0;i<s.length&&i<n.length;i++)if(!Ya(n[i],s[i]))return!1;return!0}function Hd(n,s,i,m,h,b){if(Ls=b,tr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ni.current=n===null||n.memoizedState===null?nv:sv,n=i(m,h),fo){b=0;do{if(fo=!1,go=0,25<=b)throw Error(a(301));b+=1,Tr=Cr=null,s.updateQueue=null,Ni.current=lv,n=i(m,h)}while(fo)}if(Ni.current=Ci,s=Cr!==null&&Cr.next!==null,Ls=0,Tr=Cr=tr=null,wi=!1,s)throw Error(a(300));return n}function Wd(){var n=go!==0;return go=0,n}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?tr.memoizedState=Tr=n:Tr=Tr.next=n,Tr}function Fa(){if(Cr===null){var n=tr.alternate;n=n!==null?n.memoizedState:null}else n=Cr.next;var s=Tr===null?tr.memoizedState:Tr.next;if(s!==null)Tr=s,Cr=n;else{if(n===null)throw Error(a(310));Cr=n,n={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Tr===null?tr.memoizedState=Tr=n:Tr=Tr.next=n}return Tr}function ho(n,s){return typeof s=="function"?s(n):s}function Gd(n){var s=Fa(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=n;var m=Cr,h=m.baseQueue,b=i.pending;if(b!==null){if(h!==null){var P=h.next;h.next=b.next,b.next=P}m.baseQueue=h=b,i.pending=null}if(h!==null){b=h.next,m=m.baseState;var q=P=null,W=null,se=b;do{var ye=se.lane;if((Ls&ye)===ye)W!==null&&(W=W.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:n(m,se.action);else{var Ee={lane:ye,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};W===null?(q=W=Ee,P=m):W=W.next=Ee,tr.lanes|=ye,Ms|=ye}se=se.next}while(se!==null&&se!==b);W===null?P=m:W.next=q,Ya(m,s.memoizedState)||(ha=!0),s.memoizedState=m,s.baseState=P,s.baseQueue=W,i.lastRenderedState=m}if(n=i.interleaved,n!==null){h=n;do b=h.lane,tr.lanes|=b,Ms|=b,h=h.next;while(h!==n)}else h===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Kd(n){var s=Fa(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=n;var m=i.dispatch,h=i.pending,b=s.memoizedState;if(h!==null){i.pending=null;var P=h=h.next;do b=n(b,P.action),P=P.next;while(P!==h);Ya(b,s.memoizedState)||(ha=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),i.lastRenderedState=b}return[b,m]}function vf(){}function Ef(n,s){var i=tr,m=Fa(),h=s(),b=!Ya(m.memoizedState,h);if(b&&(m.memoizedState=h,ha=!0),m=m.queue,Yd(Sf.bind(null,i,m,n),[n]),m.getSnapshot!==s||b||Tr!==null&&Tr.memoizedState.tag&1){if(i.flags|=2048,xo(9,wf.bind(null,i,m,h,s),void 0,null),Lr===null)throw Error(a(349));(Ls&30)!==0||Nf(i,s,h)}return h}function Nf(n,s,i){n.flags|=16384,n={getSnapshot:s,value:i},s=tr.updateQueue,s===null?(s={lastEffect:null,stores:null},tr.updateQueue=s,s.stores=[n]):(i=s.stores,i===null?s.stores=[n]:i.push(n))}function wf(n,s,i,m){s.value=i,s.getSnapshot=m,kf(s)&&Cf(n)}function Sf(n,s,i){return i(function(){kf(s)&&Cf(n)})}function kf(n){var s=n.getSnapshot;n=n.value;try{var i=s();return!Ya(n,i)}catch{return!0}}function Cf(n){var s=_n(n,1);s!==null&&en(s,n,1,-1)}function Af(n){var s=gn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:n},s.queue=n,n=n.dispatch=av.bind(null,tr,n),[s.memoizedState,n]}function xo(n,s,i,m){return n={tag:n,create:s,destroy:i,deps:m,next:null},s=tr.updateQueue,s===null?(s={lastEffect:null,stores:null},tr.updateQueue=s,s.lastEffect=n.next=n):(i=s.lastEffect,i===null?s.lastEffect=n.next=n:(m=i.next,i.next=n,n.next=m,s.lastEffect=n)),n}function _f(){return Fa().memoizedState}function Si(n,s,i,m){var h=gn();tr.flags|=n,h.memoizedState=xo(1|s,i,void 0,m===void 0?null:m)}function ki(n,s,i,m){var h=Fa();m=m===void 0?null:m;var b=void 0;if(Cr!==null){var P=Cr.memoizedState;if(b=P.destroy,m!==null&&Ud(m,P.deps)){h.memoizedState=xo(s,i,b,m);return}}tr.flags|=n,h.memoizedState=xo(1|s,i,b,m)}function Pf(n,s){return Si(8390656,8,n,s)}function Yd(n,s){return ki(2048,8,n,s)}function Tf(n,s){return ki(4,2,n,s)}function Lf(n,s){return ki(4,4,n,s)}function Mf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Rf(n,s,i){return i=i!=null?i.concat([n]):null,ki(4,4,Mf.bind(null,s,n),i)}function Qd(){}function If(n,s){var i=Fa();s=s===void 0?null:s;var m=i.memoizedState;return m!==null&&s!==null&&Ud(s,m[1])?m[0]:(i.memoizedState=[n,s],n)}function jf(n,s){var i=Fa();s=s===void 0?null:s;var m=i.memoizedState;return m!==null&&s!==null&&Ud(s,m[1])?m[0]:(n=n(),i.memoizedState=[n,s],n)}function Of(n,s,i){return(Ls&21)===0?(n.baseState&&(n.baseState=!1,ha=!0),n.memoizedState=i):(Ya(i,s)||(i=Qt(),tr.lanes|=i,Ms|=i,n.baseState=!0),s)}function tv(n,s){var i=Nt;Nt=i!==0&&4>i?i:4,n(!0);var m=qd.transition;qd.transition={};try{n(!1),s()}finally{Nt=i,qd.transition=m}}function zf(){return Fa().memoizedState}function rv(n,s,i){var m=rs(n);if(i={lane:m,action:i,hasEagerState:!1,eagerState:null,next:null},Df(n))Ff(s,i);else if(i=gf(n,s,i,m),i!==null){var h=oa();en(i,n,m,h),$f(i,s,m)}}function av(n,s,i){var m=rs(n),h={lane:m,action:i,hasEagerState:!1,eagerState:null,next:null};if(Df(n))Ff(s,h);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var P=s.lastRenderedState,q=b(P,i);if(h.hasEagerState=!0,h.eagerState=q,Ya(q,P)){var W=s.interleaved;W===null?(h.next=h,zd(s)):(h.next=W.next,W.next=h),s.interleaved=h;return}}catch{}i=gf(n,s,h,m),i!==null&&(h=oa(),en(i,n,m,h),$f(i,s,m))}}function Df(n){var s=n.alternate;return n===tr||s!==null&&s===tr}function Ff(n,s){fo=wi=!0;var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}function $f(n,s,i){if((i&4194240)!==0){var m=s.lanes;m&=n.pendingLanes,i|=m,s.lanes=i,Vn(n,i)}}var Ci={readContext:Da,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},nv={readContext:Da,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:Da,useEffect:Pf,useImperativeHandle:function(n,s,i){return i=i!=null?i.concat([n]):null,Si(4194308,4,Mf.bind(null,s,n),i)},useLayoutEffect:function(n,s){return Si(4194308,4,n,s)},useInsertionEffect:function(n,s){return Si(4,2,n,s)},useMemo:function(n,s){var i=gn();return s=s===void 0?null:s,n=n(),i.memoizedState=[n,s],n},useReducer:function(n,s,i){var m=gn();return s=i!==void 0?i(s):s,m.memoizedState=m.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},m.queue=n,n=n.dispatch=rv.bind(null,tr,n),[m.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:Af,useDebugValue:Qd,useDeferredValue:function(n){return gn().memoizedState=n},useTransition:function(){var n=Af(!1),s=n[0];return n=tv.bind(null,n[1]),gn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,i){var m=tr,h=gn();if(Xt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),Lr===null)throw Error(a(349));(Ls&30)!==0||Nf(m,s,i)}h.memoizedState=i;var b={value:i,getSnapshot:s};return h.queue=b,Pf(Sf.bind(null,m,b,n),[n]),m.flags|=2048,xo(9,wf.bind(null,m,b,i,s),void 0,null),i},useId:function(){var n=gn(),s=Lr.identifierPrefix;if(Xt){var i=An,m=Cn;i=(m&~(1<<32-wr(m)-1)).toString(32)+i,s=":"+s+"R"+i,i=go++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=ev++,s=":"+s+"r"+i.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},sv={readContext:Da,useCallback:If,useContext:Da,useEffect:Yd,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Lf,useMemo:jf,useReducer:Gd,useRef:_f,useState:function(){return Gd(ho)},useDebugValue:Qd,useDeferredValue:function(n){var s=Fa();return Of(s,Cr.memoizedState,n)},useTransition:function(){var n=Gd(ho)[0],s=Fa().memoizedState;return[n,s]},useMutableSource:vf,useSyncExternalStore:Ef,useId:zf,unstable_isNewReconciler:!1},lv={readContext:Da,useCallback:If,useContext:Da,useEffect:Yd,useImperativeHandle:Rf,useInsertionEffect:Tf,useLayoutEffect:Lf,useMemo:jf,useReducer:Kd,useRef:_f,useState:function(){return Kd(ho)},useDebugValue:Qd,useDeferredValue:function(n){var s=Fa();return Cr===null?s.memoizedState=n:Of(s,Cr.memoizedState,n)},useTransition:function(){var n=Kd(ho)[0],s=Fa().memoizedState;return[n,s]},useMutableSource:vf,useSyncExternalStore:Ef,useId:zf,unstable_isNewReconciler:!1};function Xa(n,s){if(n&&n.defaultProps){s=X({},s),n=n.defaultProps;for(var i in n)s[i]===void 0&&(s[i]=n[i]);return s}return s}function Xd(n,s,i,m){s=n.memoizedState,i=i(m,s),i=i==null?s:X({},s,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var Ai={isMounted:function(n){return(n=n._reactInternals)?ur(n)===n:!1},enqueueSetState:function(n,s,i){n=n._reactInternals;var m=oa(),h=rs(n),b=Pn(m,h);b.payload=s,i!=null&&(b.callback=i),s=Jn(n,b,h),s!==null&&(en(s,n,h,m),bi(s,n,h))},enqueueReplaceState:function(n,s,i){n=n._reactInternals;var m=oa(),h=rs(n),b=Pn(m,h);b.tag=1,b.payload=s,i!=null&&(b.callback=i),s=Jn(n,b,h),s!==null&&(en(s,n,h,m),bi(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var i=oa(),m=rs(n),h=Pn(i,m);h.tag=2,s!=null&&(h.callback=s),s=Jn(n,h,m),s!==null&&(en(s,n,m,i),bi(s,n,m))}};function Bf(n,s,i,m,h,b,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,b,P):s.prototype&&s.prototype.isPureReactComponent?!ro(i,m)||!ro(h,b):!0}function Vf(n,s,i){var m=!1,h=Yn,b=s.contextType;return typeof b=="object"&&b!==null?b=Da(b):(h=ga(s)?Cs:Hr.current,m=s.contextTypes,b=(m=m!=null)?gl(n,h):Yn),s=new s(i,b),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ai,n.stateNode=s,s._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=b),s}function qf(n,s,i,m){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,m),s.state!==n&&Ai.enqueueReplaceState(s,s.state,null)}function Jd(n,s,i,m){var h=n.stateNode;h.props=i,h.state=n.memoizedState,h.refs={},Dd(n);var b=s.contextType;typeof b=="object"&&b!==null?h.context=Da(b):(b=ga(s)?Cs:Hr.current,h.context=gl(n,b)),h.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Xd(n,s,b,i),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ai.enqueueReplaceState(h,h.state,null),vi(n,i,h,m),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function wl(n,s){try{var i="",m=s;do i+=ge(m),m=m.return;while(m);var h=i}catch(b){h=`
Error generating stack: `+b.message+`
`+b.stack}return{value:n,source:s,stack:h,digest:null}}function Zd(n,s,i){return{value:n,source:null,stack:i??null,digest:s??null}}function em(n,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var ov=typeof WeakMap=="function"?WeakMap:Map;function Uf(n,s,i){i=Pn(-1,i),i.tag=3,i.payload={element:null};var m=s.value;return i.callback=function(){Ii||(Ii=!0,gm=m),em(n,s)},i}function Hf(n,s,i){i=Pn(-1,i),i.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var h=s.value;i.payload=function(){return m(h)},i.callback=function(){em(n,s)}}var b=n.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){em(n,s),typeof m!="function"&&(es===null?es=new Set([this]):es.add(this));var P=s.stack;this.componentDidCatch(s.value,{componentStack:P!==null?P:""})}),i}function Wf(n,s,i){var m=n.pingCache;if(m===null){m=n.pingCache=new ov;var h=new Set;m.set(s,h)}else h=m.get(s),h===void 0&&(h=new Set,m.set(s,h));h.has(i)||(h.add(i),n=Ev.bind(null,n,s,i),s.then(n,n))}function Gf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Kf(n,s,i,m,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=Pn(-1,1),s.tag=2,Jn(i,s,1))),i.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var iv=_.ReactCurrentOwner,ha=!1;function la(n,s,i,m){s.child=n===null?ff(s,null,i,m):bl(s,n.child,i,m)}function Yf(n,s,i,m,h){i=i.render;var b=s.ref;return El(s,h),m=Hd(n,s,i,m,b,h),i=Wd(),n!==null&&!ha?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Tn(n,s,h)):(Xt&&i&&_d(s),s.flags|=1,la(n,s,m,h),s.child)}function Qf(n,s,i,m,h){if(n===null){var b=i.type;return typeof b=="function"&&!Nm(b)&&b.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=b,Xf(n,s,b,m,h)):(n=$i(i.type,null,m,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,(n.lanes&h)===0){var P=b.memoizedProps;if(i=i.compare,i=i!==null?i:ro,i(P,m)&&n.ref===s.ref)return Tn(n,s,h)}return s.flags|=1,n=ns(b,m),n.ref=s.ref,n.return=s,s.child=n}function Xf(n,s,i,m,h){if(n!==null){var b=n.memoizedProps;if(ro(b,m)&&n.ref===s.ref)if(ha=!1,s.pendingProps=m=b,(n.lanes&h)!==0)(n.flags&131072)!==0&&(ha=!0);else return s.lanes=n.lanes,Tn(n,s,h)}return tm(n,s,i,m,h)}function Jf(n,s,i){var m=s.pendingProps,h=m.children,b=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(kl,_a),_a|=i;else{if((i&1073741824)===0)return n=b!==null?b.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,$t(kl,_a),_a|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:i,$t(kl,_a),_a|=m}else b!==null?(m=b.baseLanes|i,s.memoizedState=null):m=i,$t(kl,_a),_a|=m;return la(n,s,h,i),s.child}function Zf(n,s){var i=s.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function tm(n,s,i,m,h){var b=ga(i)?Cs:Hr.current;return b=gl(s,b),El(s,h),i=Hd(n,s,i,m,b,h),m=Wd(),n!==null&&!ha?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Tn(n,s,h)):(Xt&&m&&_d(s),s.flags|=1,la(n,s,i,h),s.child)}function eg(n,s,i,m,h){if(ga(i)){var b=!0;mi(s)}else b=!1;if(El(s,h),s.stateNode===null)Pi(n,s),Vf(s,i,m),Jd(s,i,m,h),m=!0;else if(n===null){var P=s.stateNode,q=s.memoizedProps;P.props=q;var W=P.context,se=i.contextType;typeof se=="object"&&se!==null?se=Da(se):(se=ga(i)?Cs:Hr.current,se=gl(s,se));var ye=i.getDerivedStateFromProps,Ee=typeof ye=="function"||typeof P.getSnapshotBeforeUpdate=="function";Ee||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==m||W!==se)&&qf(s,P,m,se),Xn=!1;var xe=s.memoizedState;P.state=xe,vi(s,m,P,h),W=s.memoizedState,q!==m||xe!==W||fa.current||Xn?(typeof ye=="function"&&(Xd(s,i,ye,m),W=s.memoizedState),(q=Xn||Bf(s,i,q,m,xe,W,se))?(Ee||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(s.flags|=4194308)):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=W),P.props=m,P.state=W,P.context=se,m=q):(typeof P.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{P=s.stateNode,hf(n,s),q=s.memoizedProps,se=s.type===s.elementType?q:Xa(s.type,q),P.props=se,Ee=s.pendingProps,xe=P.context,W=i.contextType,typeof W=="object"&&W!==null?W=Da(W):(W=ga(i)?Cs:Hr.current,W=gl(s,W));var Me=i.getDerivedStateFromProps;(ye=typeof Me=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(q!==Ee||xe!==W)&&qf(s,P,m,W),Xn=!1,xe=s.memoizedState,P.state=xe,vi(s,m,P,h);var ze=s.memoizedState;q!==Ee||xe!==ze||fa.current||Xn?(typeof Me=="function"&&(Xd(s,i,Me,m),ze=s.memoizedState),(se=Xn||Bf(s,i,se,m,xe,ze,W)||!1)?(ye||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,ze,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,ze,W)),typeof P.componentDidUpdate=="function"&&(s.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof P.componentDidUpdate!="function"||q===n.memoizedProps&&xe===n.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===n.memoizedProps&&xe===n.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=ze),P.props=m,P.state=ze,P.context=W,m=se):(typeof P.componentDidUpdate!="function"||q===n.memoizedProps&&xe===n.memoizedState||(s.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||q===n.memoizedProps&&xe===n.memoizedState||(s.flags|=1024),m=!1)}return rm(n,s,i,m,b,h)}function rm(n,s,i,m,h,b){Zf(n,s);var P=(s.flags&128)!==0;if(!m&&!P)return h&&nf(s,i,!1),Tn(n,s,b);m=s.stateNode,iv.current=s;var q=P&&typeof i.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,n!==null&&P?(s.child=bl(s,n.child,null,b),s.child=bl(s,null,q,b)):la(n,s,q,b),s.memoizedState=m.state,h&&nf(s,i,!0),s.child}function tg(n){var s=n.stateNode;s.pendingContext?rf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&rf(n,s.context,!1),Fd(n,s.containerInfo)}function rg(n,s,i,m,h){return yl(),Md(h),s.flags|=256,la(n,s,i,m),s.child}var am={dehydrated:null,treeContext:null,retryLane:0};function nm(n){return{baseLanes:n,cachePool:null,transitions:null}}function ag(n,s,i){var m=s.pendingProps,h=er.current,b=!1,P=(s.flags&128)!==0,q;if((q=P)||(q=n!==null&&n.memoizedState===null?!1:(h&2)!==0),q?(b=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),$t(er,h&1),n===null)return Ld(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(P=m.children,n=m.fallback,b?(m=s.mode,b=s.child,P={mode:"hidden",children:P},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=P):b=Bi(P,m,0,null),n=Os(n,m,i,null),b.return=s,n.return=s,b.sibling=n,s.child=b,s.child.memoizedState=nm(i),s.memoizedState=am,n):sm(s,P));if(h=n.memoizedState,h!==null&&(q=h.dehydrated,q!==null))return cv(n,s,P,m,q,h,i);if(b){b=m.fallback,P=s.mode,h=n.child,q=h.sibling;var W={mode:"hidden",children:m.children};return(P&1)===0&&s.child!==h?(m=s.child,m.childLanes=0,m.pendingProps=W,s.deletions=null):(m=ns(h,W),m.subtreeFlags=h.subtreeFlags&14680064),q!==null?b=ns(q,b):(b=Os(b,P,i,null),b.flags|=2),b.return=s,m.return=s,m.sibling=b,s.child=m,m=b,b=s.child,P=n.child.memoizedState,P=P===null?nm(i):{baseLanes:P.baseLanes|i,cachePool:null,transitions:P.transitions},b.memoizedState=P,b.childLanes=n.childLanes&~i,s.memoizedState=am,m}return b=n.child,n=b.sibling,m=ns(b,{mode:"visible",children:m.children}),(s.mode&1)===0&&(m.lanes=i),m.return=s,m.sibling=null,n!==null&&(i=s.deletions,i===null?(s.deletions=[n],s.flags|=16):i.push(n)),s.child=m,s.memoizedState=null,m}function sm(n,s){return s=Bi({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function _i(n,s,i,m){return m!==null&&Md(m),bl(s,n.child,null,i),n=sm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function cv(n,s,i,m,h,b,P){if(i)return s.flags&256?(s.flags&=-257,m=Zd(Error(a(422))),_i(n,s,P,m)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(b=m.fallback,h=s.mode,m=Bi({mode:"visible",children:m.children},h,0,null),b=Os(b,h,P,null),b.flags|=2,m.return=s,b.return=s,m.sibling=b,s.child=m,(s.mode&1)!==0&&bl(s,n.child,null,P),s.child.memoizedState=nm(P),s.memoizedState=am,b);if((s.mode&1)===0)return _i(n,s,P,null);if(h.data==="$!"){if(m=h.nextSibling&&h.nextSibling.dataset,m)var q=m.dgst;return m=q,b=Error(a(419)),m=Zd(b,m,void 0),_i(n,s,P,m)}if(q=(P&n.childLanes)!==0,ha||q){if(m=Lr,m!==null){switch(P&-P){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(m.suspendedLanes|P))!==0?0:h,h!==0&&h!==b.retryLane&&(b.retryLane=h,_n(n,h),en(m,n,h,-1))}return Em(),m=Zd(Error(a(421))),_i(n,s,P,m)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=Nv.bind(null,n),h._reactRetry=s,null):(n=b.treeContext,Aa=Gn(h.nextSibling),Ca=s,Xt=!0,Qa=null,n!==null&&(Oa[za++]=Cn,Oa[za++]=An,Oa[za++]=As,Cn=n.id,An=n.overflow,As=s),s=sm(s,m.children),s.flags|=4096,s)}function ng(n,s,i){n.lanes|=s;var m=n.alternate;m!==null&&(m.lanes|=s),Od(n.return,s,i)}function lm(n,s,i,m,h){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:i,tailMode:h}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=i,b.tailMode=h)}function sg(n,s,i){var m=s.pendingProps,h=m.revealOrder,b=m.tail;if(la(n,s,m.children,i),m=er.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ng(n,i,s);else if(n.tag===19)ng(n,i,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if($t(er,m),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(i=s.child,h=null;i!==null;)n=i.alternate,n!==null&&Ei(n)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),lm(s,!1,h,i,b);break;case"backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Ei(n)===null){s.child=h;break}n=h.sibling,h.sibling=i,i=h,h=n}lm(s,!0,i,null,b);break;case"together":lm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pi(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Tn(n,s,i){if(n!==null&&(s.dependencies=n.dependencies),Ms|=s.lanes,(i&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,i=ns(n,n.pendingProps),s.child=i,i.return=s;n.sibling!==null;)n=n.sibling,i=i.sibling=ns(n,n.pendingProps),i.return=s;i.sibling=null}return s.child}function dv(n,s,i){switch(s.tag){case 3:tg(s),yl();break;case 5:bf(s);break;case 1:ga(s.type)&&mi(s);break;case 4:Fd(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,h=s.memoizedProps.value;$t(xi,m._currentValue),m._currentValue=h;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?($t(er,er.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?ag(n,s,i):($t(er,er.current&1),n=Tn(n,s,i),n!==null?n.sibling:null);$t(er,er.current&1);break;case 19:if(m=(i&s.childLanes)!==0,(n.flags&128)!==0){if(m)return sg(n,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$t(er,er.current),m)break;return null;case 22:case 23:return s.lanes=0,Jf(n,s,i)}return Tn(n,s,i)}var lg,om,og,ig;lg=function(n,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},om=function(){},og=function(n,s,i,m){var h=n.memoizedProps;if(h!==m){n=s.stateNode,Ts(fn.current);var b=null;switch(i){case"input":h=We(n,h),m=We(n,m),b=[];break;case"select":h=X({},h,{value:void 0}),m=X({},m,{value:void 0}),b=[];break;case"textarea":h=Ke(n,h),m=Ke(n,m),b=[];break;default:typeof h.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=ii)}le(i,m);var P;i=null;for(se in h)if(!m.hasOwnProperty(se)&&h.hasOwnProperty(se)&&h[se]!=null)if(se==="style"){var q=h[se];for(P in q)q.hasOwnProperty(P)&&(i||(i={}),i[P]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(o.hasOwnProperty(se)?b||(b=[]):(b=b||[]).push(se,null));for(se in m){var W=m[se];if(q=h?.[se],m.hasOwnProperty(se)&&W!==q&&(W!=null||q!=null))if(se==="style")if(q){for(P in q)!q.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(i||(i={}),i[P]="");for(P in W)W.hasOwnProperty(P)&&q[P]!==W[P]&&(i||(i={}),i[P]=W[P])}else i||(b||(b=[]),b.push(se,i)),i=W;else se==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,q=q?q.__html:void 0,W!=null&&q!==W&&(b=b||[]).push(se,W)):se==="children"?typeof W!="string"&&typeof W!="number"||(b=b||[]).push(se,""+W):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(o.hasOwnProperty(se)?(W!=null&&se==="onScroll"&&qt("scroll",n),b||q===W||(b=[])):(b=b||[]).push(se,W))}i&&(b=b||[]).push("style",i);var se=b;(s.updateQueue=se)&&(s.flags|=4)}},ig=function(n,s,i,m){i!==m&&(s.flags|=4)};function yo(n,s){if(!Xt)switch(n.tailMode){case"hidden":s=n.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var m=null;i!==null;)i.alternate!==null&&(m=i),i=i.sibling;m===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Gr(n){var s=n.alternate!==null&&n.alternate.child===n.child,i=0,m=0;if(s)for(var h=n.child;h!==null;)i|=h.lanes|h.childLanes,m|=h.subtreeFlags&14680064,m|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)i|=h.lanes|h.childLanes,m|=h.subtreeFlags,m|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=m,n.childLanes=i,s}function mv(n,s,i){var m=s.pendingProps;switch(Pd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(s),null;case 1:return ga(s.type)&&di(),Gr(s),null;case 3:return m=s.stateNode,Nl(),Ut(fa),Ut(Hr),Vd(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(gi(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qa!==null&&(ym(Qa),Qa=null))),om(n,s),Gr(s),null;case 5:$d(s);var h=Ts(po.current);if(i=s.type,n!==null&&s.stateNode!=null)og(n,s,i,m,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(a(166));return Gr(s),null}if(n=Ts(fn.current),gi(s)){m=s.stateNode,i=s.type;var b=s.memoizedProps;switch(m[pn]=s,m[oo]=b,n=(s.mode&1)!==0,i){case"dialog":qt("cancel",m),qt("close",m);break;case"iframe":case"object":case"embed":qt("load",m);break;case"video":case"audio":for(h=0;h<no.length;h++)qt(no[h],m);break;case"source":qt("error",m);break;case"img":case"image":case"link":qt("error",m),qt("load",m);break;case"details":qt("toggle",m);break;case"input":Re(m,b),qt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},qt("invalid",m);break;case"textarea":yt(m,b),qt("invalid",m)}le(i,b),h=null;for(var P in b)if(b.hasOwnProperty(P)){var q=b[P];P==="children"?typeof q=="string"?m.textContent!==q&&(b.suppressHydrationWarning!==!0&&oi(m.textContent,q,n),h=["children",q]):typeof q=="number"&&m.textContent!==""+q&&(b.suppressHydrationWarning!==!0&&oi(m.textContent,q,n),h=["children",""+q]):o.hasOwnProperty(P)&&q!=null&&P==="onScroll"&&qt("scroll",m)}switch(i){case"input":He(m),Ne(m,b,!0);break;case"textarea":He(m),Vt(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=ii)}m=h,s.updateQueue=m,m!==null&&(s.flags|=4)}else{P=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=he(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=P.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=P.createElement(i,{is:m.is}):(n=P.createElement(i),i==="select"&&(P=n,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):n=P.createElementNS(n,i),n[pn]=s,n[oo]=m,lg(n,s,!1,!1),s.stateNode=n;e:{switch(P=Te(i,m),i){case"dialog":qt("cancel",n),qt("close",n),h=m;break;case"iframe":case"object":case"embed":qt("load",n),h=m;break;case"video":case"audio":for(h=0;h<no.length;h++)qt(no[h],n);h=m;break;case"source":qt("error",n),h=m;break;case"img":case"image":case"link":qt("error",n),qt("load",n),h=m;break;case"details":qt("toggle",n),h=m;break;case"input":Re(n,m),h=We(n,m),qt("invalid",n);break;case"option":h=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},h=X({},m,{value:void 0}),qt("invalid",n);break;case"textarea":yt(n,m),h=Ke(n,m),qt("invalid",n);break;default:h=m}le(i,h),q=h;for(b in q)if(q.hasOwnProperty(b)){var W=q[b];b==="style"?dr(n,W):b==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&nt(n,W)):b==="children"?typeof W=="string"?(i!=="textarea"||W!=="")&&bt(n,W):typeof W=="number"&&bt(n,""+W):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?W!=null&&b==="onScroll"&&qt("scroll",n):W!=null&&L(n,b,W,P))}switch(i){case"input":He(n),Ne(n,m,!1);break;case"textarea":He(n),Vt(n);break;case"option":m.value!=null&&n.setAttribute("value",""+Le(m.value));break;case"select":n.multiple=!!m.multiple,b=m.value,b!=null?ut(n,!!m.multiple,b,!1):m.defaultValue!=null&&ut(n,!!m.multiple,m.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=ii)}switch(i){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gr(s),null;case 6:if(n&&s.stateNode!=null)ig(n,s,n.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(a(166));if(i=Ts(po.current),Ts(fn.current),gi(s)){if(m=s.stateNode,i=s.memoizedProps,m[pn]=s,(b=m.nodeValue!==i)&&(n=Ca,n!==null))switch(n.tag){case 3:oi(m.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&oi(m.nodeValue,i,(n.mode&1)!==0)}b&&(s.flags|=4)}else m=(i.nodeType===9?i:i.ownerDocument).createTextNode(m),m[pn]=s,s.stateNode=m}return Gr(s),null;case 13:if(Ut(er),m=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xt&&Aa!==null&&(s.mode&1)!==0&&(s.flags&128)===0)mf(),yl(),s.flags|=98560,b=!1;else if(b=gi(s),m!==null&&m.dehydrated!==null){if(n===null){if(!b)throw Error(a(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[pn]=s}else yl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gr(s),b=!1}else Qa!==null&&(ym(Qa),Qa=null),b=!0;if(!b)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(er.current&1)!==0?Ar===0&&(Ar=3):Em())),s.updateQueue!==null&&(s.flags|=4),Gr(s),null);case 4:return Nl(),om(n,s),n===null&&so(s.stateNode.containerInfo),Gr(s),null;case 10:return jd(s.type._context),Gr(s),null;case 17:return ga(s.type)&&di(),Gr(s),null;case 19:if(Ut(er),b=s.memoizedState,b===null)return Gr(s),null;if(m=(s.flags&128)!==0,P=b.rendering,P===null)if(m)yo(b,!1);else{if(Ar!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(P=Ei(n),P!==null){for(s.flags|=128,yo(b,!1),m=P.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=i,i=s.child;i!==null;)b=i,n=m,b.flags&=14680066,P=b.alternate,P===null?(b.childLanes=0,b.lanes=n,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=P.childLanes,b.lanes=P.lanes,b.child=P.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=P.memoizedProps,b.memoizedState=P.memoizedState,b.updateQueue=P.updateQueue,b.type=P.type,n=P.dependencies,b.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return $t(er,er.current&1|2),s.child}n=n.sibling}b.tail!==null&&Mt()>Cl&&(s.flags|=128,m=!0,yo(b,!1),s.lanes=4194304)}else{if(!m)if(n=Ei(P),n!==null){if(s.flags|=128,m=!0,i=n.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),yo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!P.alternate&&!Xt)return Gr(s),null}else 2*Mt()-b.renderingStartTime>Cl&&i!==1073741824&&(s.flags|=128,m=!0,yo(b,!1),s.lanes=4194304);b.isBackwards?(P.sibling=s.child,s.child=P):(i=b.last,i!==null?i.sibling=P:s.child=P,b.last=P)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Mt(),s.sibling=null,i=er.current,$t(er,m?i&1|2:i&1),s):(Gr(s),null);case 22:case 23:return vm(),m=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(s.flags|=8192),m&&(s.mode&1)!==0?(_a&1073741824)!==0&&(Gr(s),s.subtreeFlags&6&&(s.flags|=8192)):Gr(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function uv(n,s){switch(Pd(s),s.tag){case 1:return ga(s.type)&&di(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Nl(),Ut(fa),Ut(Hr),Vd(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return $d(s),null;case 13:if(Ut(er),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));yl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ut(er),null;case 4:return Nl(),null;case 10:return jd(s.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Ti=!1,Kr=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Sl(n,s){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(m){lr(n,s,m)}else i.current=null}function im(n,s,i){try{i()}catch(m){lr(n,s,m)}}var cg=!1;function fv(n,s){if(vd=al,n=$p(),ud(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var m=i.getSelection&&i.getSelection();if(m&&m.rangeCount!==0){i=m.anchorNode;var h=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{i.nodeType,b.nodeType}catch{i=null;break e}var P=0,q=-1,W=-1,se=0,ye=0,Ee=n,xe=null;t:for(;;){for(var Me;Ee!==i||h!==0&&Ee.nodeType!==3||(q=P+h),Ee!==b||m!==0&&Ee.nodeType!==3||(W=P+m),Ee.nodeType===3&&(P+=Ee.nodeValue.length),(Me=Ee.firstChild)!==null;)xe=Ee,Ee=Me;for(;;){if(Ee===n)break t;if(xe===i&&++se===h&&(q=P),xe===b&&++ye===m&&(W=P),(Me=Ee.nextSibling)!==null)break;Ee=xe,xe=Ee.parentNode}Ee=Me}i=q===-1||W===-1?null:{start:q,end:W}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ed={focusedElem:n,selectionRange:i},al=!1,Oe=s;Oe!==null;)if(s=Oe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Oe=n;else for(;Oe!==null;){s=Oe;try{var ze=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var Be=ze.memoizedProps,pr=ze.memoizedState,re=s.stateNode,K=re.getSnapshotBeforeUpdate(s.elementType===s.type?Be:Xa(s.type,Be),pr);re.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ne=s.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Se){lr(s,s.return,Se)}if(n=s.sibling,n!==null){n.return=s.return,Oe=n;break}Oe=s.return}return ze=cg,cg=!1,ze}function bo(n,s,i){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var h=m=m.next;do{if((h.tag&n)===n){var b=h.destroy;h.destroy=void 0,b!==void 0&&im(s,i,b)}h=h.next}while(h!==m)}}function Li(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var m=i.create;i.destroy=m()}i=i.next}while(i!==s)}}function cm(n){var s=n.ref;if(s!==null){var i=n.stateNode;n.tag,n=i,typeof s=="function"?s(n):s.current=n}}function dg(n){var s=n.alternate;s!==null&&(n.alternate=null,dg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[pn],delete s[oo],delete s[kd],delete s[Qb],delete s[Xb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function mg(n){return n.tag===5||n.tag===3||n.tag===4}function ug(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dm(n,s,i){var m=n.tag;if(m===5||m===6)n=n.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(n,s):i.insertBefore(n,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(n,i)):(s=i,s.appendChild(n)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=ii));else if(m!==4&&(n=n.child,n!==null))for(dm(n,s,i),n=n.sibling;n!==null;)dm(n,s,i),n=n.sibling}function mm(n,s,i){var m=n.tag;if(m===5||m===6)n=n.stateNode,s?i.insertBefore(n,s):i.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(mm(n,s,i),n=n.sibling;n!==null;)mm(n,s,i),n=n.sibling}var Or=null,Ja=!1;function Zn(n,s,i){for(i=i.child;i!==null;)pg(n,s,i),i=i.sibling}function pg(n,s,i){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(da,i)}catch{}switch(i.tag){case 5:Kr||Sl(i,s);case 6:var m=Or,h=Ja;Or=null,Zn(n,s,i),Or=m,Ja=h,Or!==null&&(Ja?(n=Or,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):Or.removeChild(i.stateNode));break;case 18:Or!==null&&(Ja?(n=Or,i=i.stateNode,n.nodeType===8?Sd(n.parentNode,i):n.nodeType===1&&Sd(n,i),ws(n)):Sd(Or,i.stateNode));break;case 4:m=Or,h=Ja,Or=i.stateNode.containerInfo,Ja=!0,Zn(n,s,i),Or=m,Ja=h;break;case 0:case 11:case 14:case 15:if(!Kr&&(m=i.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){h=m=m.next;do{var b=h,P=b.destroy;b=b.tag,P!==void 0&&((b&2)!==0||(b&4)!==0)&&im(i,s,P),h=h.next}while(h!==m)}Zn(n,s,i);break;case 1:if(!Kr&&(Sl(i,s),m=i.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=i.memoizedProps,m.state=i.memoizedState,m.componentWillUnmount()}catch(q){lr(i,s,q)}Zn(n,s,i);break;case 21:Zn(n,s,i);break;case 22:i.mode&1?(Kr=(m=Kr)||i.memoizedState!==null,Zn(n,s,i),Kr=m):Zn(n,s,i);break;default:Zn(n,s,i)}}function fg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new pv),s.forEach(function(m){var h=wv.bind(null,n,m);i.has(m)||(i.add(m),m.then(h,h))})}}function Za(n,s){var i=s.deletions;if(i!==null)for(var m=0;m<i.length;m++){var h=i[m];try{var b=n,P=s,q=P;e:for(;q!==null;){switch(q.tag){case 5:Or=q.stateNode,Ja=!1;break e;case 3:Or=q.stateNode.containerInfo,Ja=!0;break e;case 4:Or=q.stateNode.containerInfo,Ja=!0;break e}q=q.return}if(Or===null)throw Error(a(160));pg(b,P,h),Or=null,Ja=!1;var W=h.alternate;W!==null&&(W.return=null),h.return=null}catch(se){lr(h,s,se)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gg(s,n),s=s.sibling}function gg(n,s){var i=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Za(s,n),hn(n),m&4){try{bo(3,n,n.return),Li(3,n)}catch(Be){lr(n,n.return,Be)}try{bo(5,n,n.return)}catch(Be){lr(n,n.return,Be)}}break;case 1:Za(s,n),hn(n),m&512&&i!==null&&Sl(i,i.return);break;case 5:if(Za(s,n),hn(n),m&512&&i!==null&&Sl(i,i.return),n.flags&32){var h=n.stateNode;try{bt(h,"")}catch(Be){lr(n,n.return,Be)}}if(m&4&&(h=n.stateNode,h!=null)){var b=n.memoizedProps,P=i!==null?i.memoizedProps:b,q=n.type,W=n.updateQueue;if(n.updateQueue=null,W!==null)try{q==="input"&&b.type==="radio"&&b.name!=null&&De(h,b),Te(q,P);var se=Te(q,b);for(P=0;P<W.length;P+=2){var ye=W[P],Ee=W[P+1];ye==="style"?dr(h,Ee):ye==="dangerouslySetInnerHTML"?nt(h,Ee):ye==="children"?bt(h,Ee):L(h,ye,Ee,se)}switch(q){case"input":ve(h,b);break;case"textarea":It(h,b);break;case"select":var xe=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!b.multiple;var Me=b.value;Me!=null?ut(h,!!b.multiple,Me,!1):xe!==!!b.multiple&&(b.defaultValue!=null?ut(h,!!b.multiple,b.defaultValue,!0):ut(h,!!b.multiple,b.multiple?[]:"",!1))}h[oo]=b}catch(Be){lr(n,n.return,Be)}}break;case 6:if(Za(s,n),hn(n),m&4){if(n.stateNode===null)throw Error(a(162));h=n.stateNode,b=n.memoizedProps;try{h.nodeValue=b}catch(Be){lr(n,n.return,Be)}}break;case 3:if(Za(s,n),hn(n),m&4&&i!==null&&i.memoizedState.isDehydrated)try{ws(s.containerInfo)}catch(Be){lr(n,n.return,Be)}break;case 4:Za(s,n),hn(n);break;case 13:Za(s,n),hn(n),h=n.child,h.flags&8192&&(b=h.memoizedState!==null,h.stateNode.isHidden=b,!b||h.alternate!==null&&h.alternate.memoizedState!==null||(fm=Mt())),m&4&&fg(n);break;case 22:if(ye=i!==null&&i.memoizedState!==null,n.mode&1?(Kr=(se=Kr)||ye,Za(s,n),Kr=se):Za(s,n),hn(n),m&8192){if(se=n.memoizedState!==null,(n.stateNode.isHidden=se)&&!ye&&(n.mode&1)!==0)for(Oe=n,ye=n.child;ye!==null;){for(Ee=Oe=ye;Oe!==null;){switch(xe=Oe,Me=xe.child,xe.tag){case 0:case 11:case 14:case 15:bo(4,xe,xe.return);break;case 1:Sl(xe,xe.return);var ze=xe.stateNode;if(typeof ze.componentWillUnmount=="function"){m=xe,i=xe.return;try{s=m,ze.props=s.memoizedProps,ze.state=s.memoizedState,ze.componentWillUnmount()}catch(Be){lr(m,i,Be)}}break;case 5:Sl(xe,xe.return);break;case 22:if(xe.memoizedState!==null){yg(Ee);continue}}Me!==null?(Me.return=xe,Oe=Me):yg(Ee)}ye=ye.sibling}e:for(ye=null,Ee=n;;){if(Ee.tag===5){if(ye===null){ye=Ee;try{h=Ee.stateNode,se?(b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(q=Ee.stateNode,W=Ee.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,q.style.display=zt("display",P))}catch(Be){lr(n,n.return,Be)}}}else if(Ee.tag===6){if(ye===null)try{Ee.stateNode.nodeValue=se?"":Ee.memoizedProps}catch(Be){lr(n,n.return,Be)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;ye===Ee&&(ye=null),Ee=Ee.return}ye===Ee&&(ye=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Za(s,n),hn(n),m&4&&fg(n);break;case 21:break;default:Za(s,n),hn(n)}}function hn(n){var s=n.flags;if(s&2){try{e:{for(var i=n.return;i!==null;){if(mg(i)){var m=i;break e}i=i.return}throw Error(a(160))}switch(m.tag){case 5:var h=m.stateNode;m.flags&32&&(bt(h,""),m.flags&=-33);var b=ug(n);mm(n,b,h);break;case 3:case 4:var P=m.stateNode.containerInfo,q=ug(n);dm(n,q,P);break;default:throw Error(a(161))}}catch(W){lr(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function gv(n,s,i){Oe=n,hg(n)}function hg(n,s,i){for(var m=(n.mode&1)!==0;Oe!==null;){var h=Oe,b=h.child;if(h.tag===22&&m){var P=h.memoizedState!==null||Ti;if(!P){var q=h.alternate,W=q!==null&&q.memoizedState!==null||Kr;q=Ti;var se=Kr;if(Ti=P,(Kr=W)&&!se)for(Oe=h;Oe!==null;)P=Oe,W=P.child,P.tag===22&&P.memoizedState!==null?bg(h):W!==null?(W.return=P,Oe=W):bg(h);for(;b!==null;)Oe=b,hg(b),b=b.sibling;Oe=h,Ti=q,Kr=se}xg(n)}else(h.subtreeFlags&8772)!==0&&b!==null?(b.return=h,Oe=b):xg(n)}}function xg(n){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kr||Li(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!Kr)if(i===null)m.componentDidMount();else{var h=s.elementType===s.type?i.memoizedProps:Xa(s.type,i.memoizedProps);m.componentDidUpdate(h,i.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&yf(s,b,m);break;case 3:var P=s.updateQueue;if(P!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}yf(s,P,i)}break;case 5:var q=s.stateNode;if(i===null&&s.flags&4){i=q;var W=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&i.focus();break;case"img":W.src&&(i.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var se=s.alternate;if(se!==null){var ye=se.memoizedState;if(ye!==null){var Ee=ye.dehydrated;Ee!==null&&ws(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Kr||s.flags&512&&cm(s)}catch(xe){lr(s,s.return,xe)}}if(s===n){Oe=null;break}if(i=s.sibling,i!==null){i.return=s.return,Oe=i;break}Oe=s.return}}function yg(n){for(;Oe!==null;){var s=Oe;if(s===n){Oe=null;break}var i=s.sibling;if(i!==null){i.return=s.return,Oe=i;break}Oe=s.return}}function bg(n){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Li(4,s)}catch(W){lr(s,i,W)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var h=s.return;try{m.componentDidMount()}catch(W){lr(s,h,W)}}var b=s.return;try{cm(s)}catch(W){lr(s,b,W)}break;case 5:var P=s.return;try{cm(s)}catch(W){lr(s,P,W)}}}catch(W){lr(s,s.return,W)}if(s===n){Oe=null;break}var q=s.sibling;if(q!==null){q.return=s.return,Oe=q;break}Oe=s.return}}var hv=Math.ceil,Mi=_.ReactCurrentDispatcher,um=_.ReactCurrentOwner,$a=_.ReactCurrentBatchConfig,At=0,Lr=null,hr=null,zr=0,_a=0,kl=Kn(0),Ar=0,vo=null,Ms=0,Ri=0,pm=0,Eo=null,xa=null,fm=0,Cl=1/0,Ln=null,Ii=!1,gm=null,es=null,ji=!1,ts=null,Oi=0,No=0,hm=null,zi=-1,Di=0;function oa(){return(At&6)!==0?Mt():zi!==-1?zi:zi=Mt()}function rs(n){return(n.mode&1)===0?1:(At&2)!==0&&zr!==0?zr&-zr:Zb.transition!==null?(Di===0&&(Di=Qt()),Di):(n=Nt,n!==0||(n=window.event,n=n===void 0?16:Jo(n.type)),n)}function en(n,s,i,m){if(50<No)throw No=0,hm=null,Error(a(185));ua(n,i,m),((At&2)===0||n!==Lr)&&(n===Lr&&((At&2)===0&&(Ri|=i),Ar===4&&as(n,zr)),ya(n,m),i===1&&At===0&&(s.mode&1)===0&&(Cl=Mt()+500,ui&&Qn()))}function ya(n,s){var i=n.callbackNode;ht(n,s);var m=pe(n,n===Lr?zr:0);if(m===0)i!==null&&ra(i),n.callbackNode=null,n.callbackPriority=0;else if(s=m&-m,n.callbackPriority!==s){if(i!=null&&ra(i),s===1)n.tag===0?Jb(Eg.bind(null,n)):sf(Eg.bind(null,n)),Kb(function(){(At&6)===0&&Qn()}),i=null;else{switch(vs(m)){case 1:i=Et;break;case 4:i=Wa;break;case 16:i=qr;break;case 536870912:i=Ga;break;default:i=qr}i=Pg(i,vg.bind(null,n))}n.callbackPriority=s,n.callbackNode=i}}function vg(n,s){if(zi=-1,Di=0,(At&6)!==0)throw Error(a(327));var i=n.callbackNode;if(Al()&&n.callbackNode!==i)return null;var m=pe(n,n===Lr?zr:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||s)s=Fi(n,m);else{s=m;var h=At;At|=2;var b=wg();(Lr!==n||zr!==s)&&(Ln=null,Cl=Mt()+500,Is(n,s));do try{bv();break}catch(q){Ng(n,q)}while(!0);Id(),Mi.current=b,At=h,hr!==null?s=0:(Lr=null,zr=0,s=Ar)}if(s!==0){if(s===2&&(h=Ct(n),h!==0&&(m=h,s=xm(n,h))),s===1)throw i=vo,Is(n,0),as(n,m),ya(n,Mt()),i;if(s===6)as(n,m);else{if(h=n.current.alternate,(m&30)===0&&!xv(h)&&(s=Fi(n,m),s===2&&(b=Ct(n),b!==0&&(m=b,s=xm(n,b))),s===1))throw i=vo,Is(n,0),as(n,m),ya(n,Mt()),i;switch(n.finishedWork=h,n.finishedLanes=m,s){case 0:case 1:throw Error(a(345));case 2:js(n,xa,Ln);break;case 3:if(as(n,m),(m&130023424)===m&&(s=fm+500-Mt(),10<s)){if(pe(n,0)!==0)break;if(h=n.suspendedLanes,(h&m)!==m){oa(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=wd(js.bind(null,n,xa,Ln),s);break}js(n,xa,Ln);break;case 4:if(as(n,m),(m&4194240)===m)break;for(s=n.eventTimes,h=-1;0<m;){var P=31-wr(m);b=1<<P,P=s[P],P>h&&(h=P),m&=~b}if(m=h,m=Mt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*hv(m/1960))-m,10<m){n.timeoutHandle=wd(js.bind(null,n,xa,Ln),m);break}js(n,xa,Ln);break;case 5:js(n,xa,Ln);break;default:throw Error(a(329))}}}return ya(n,Mt()),n.callbackNode===i?vg.bind(null,n):null}function xm(n,s){var i=Eo;return n.current.memoizedState.isDehydrated&&(Is(n,s).flags|=256),n=Fi(n,s),n!==2&&(s=xa,xa=i,s!==null&&ym(s)),n}function ym(n){xa===null?xa=n:xa.push.apply(xa,n)}function xv(n){for(var s=n;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var m=0;m<i.length;m++){var h=i[m],b=h.getSnapshot;h=h.value;try{if(!Ya(b(),h))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(n,s){for(s&=~pm,s&=~Ri,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var i=31-wr(s),m=1<<i;n[i]=-1,s&=~m}}function Eg(n){if((At&6)!==0)throw Error(a(327));Al();var s=pe(n,0);if((s&1)===0)return ya(n,Mt()),null;var i=Fi(n,s);if(n.tag!==0&&i===2){var m=Ct(n);m!==0&&(s=m,i=xm(n,m))}if(i===1)throw i=vo,Is(n,0),as(n,s),ya(n,Mt()),i;if(i===6)throw Error(a(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,js(n,xa,Ln),ya(n,Mt()),null}function bm(n,s){var i=At;At|=1;try{return n(s)}finally{At=i,At===0&&(Cl=Mt()+500,ui&&Qn())}}function Rs(n){ts!==null&&ts.tag===0&&(At&6)===0&&Al();var s=At;At|=1;var i=$a.transition,m=Nt;try{if($a.transition=null,Nt=1,n)return n()}finally{Nt=m,$a.transition=i,At=s,(At&6)===0&&Qn()}}function vm(){_a=kl.current,Ut(kl)}function Is(n,s){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,Gb(i)),hr!==null)for(i=hr.return;i!==null;){var m=i;switch(Pd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&di();break;case 3:Nl(),Ut(fa),Ut(Hr),Vd();break;case 5:$d(m);break;case 4:Nl();break;case 13:Ut(er);break;case 19:Ut(er);break;case 10:jd(m.type._context);break;case 22:case 23:vm()}i=i.return}if(Lr=n,hr=n=ns(n.current,null),zr=_a=s,Ar=0,vo=null,pm=Ri=Ms=0,xa=Eo=null,Ps!==null){for(s=0;s<Ps.length;s++)if(i=Ps[s],m=i.interleaved,m!==null){i.interleaved=null;var h=m.next,b=i.pending;if(b!==null){var P=b.next;b.next=h,m.next=P}i.pending=m}Ps=null}return n}function Ng(n,s){do{var i=hr;try{if(Id(),Ni.current=Ci,wi){for(var m=tr.memoizedState;m!==null;){var h=m.queue;h!==null&&(h.pending=null),m=m.next}wi=!1}if(Ls=0,Tr=Cr=tr=null,fo=!1,go=0,um.current=null,i===null||i.return===null){Ar=1,vo=s,hr=null;break}e:{var b=n,P=i.return,q=i,W=s;if(s=zr,q.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var se=W,ye=q,Ee=ye.tag;if((ye.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var xe=ye.alternate;xe?(ye.updateQueue=xe.updateQueue,ye.memoizedState=xe.memoizedState,ye.lanes=xe.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Me=Gf(P);if(Me!==null){Me.flags&=-257,Kf(Me,P,q,b,s),Me.mode&1&&Wf(b,se,s),s=Me,W=se;var ze=s.updateQueue;if(ze===null){var Be=new Set;Be.add(W),s.updateQueue=Be}else ze.add(W);break e}else{if((s&1)===0){Wf(b,se,s),Em();break e}W=Error(a(426))}}else if(Xt&&q.mode&1){var pr=Gf(P);if(pr!==null){(pr.flags&65536)===0&&(pr.flags|=256),Kf(pr,P,q,b,s),Md(wl(W,q));break e}}b=W=wl(W,q),Ar!==4&&(Ar=2),Eo===null?Eo=[b]:Eo.push(b),b=P;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var re=Uf(b,W,s);xf(b,re);break e;case 1:q=W;var K=b.type,ne=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(es===null||!es.has(ne)))){b.flags|=65536,s&=-s,b.lanes|=s;var Se=Hf(b,q,s);xf(b,Se);break e}}b=b.return}while(b!==null)}kg(i)}catch(Ve){s=Ve,hr===i&&i!==null&&(hr=i=i.return);continue}break}while(!0)}function wg(){var n=Mi.current;return Mi.current=Ci,n===null?Ci:n}function Em(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Lr===null||(Ms&268435455)===0&&(Ri&268435455)===0||as(Lr,zr)}function Fi(n,s){var i=At;At|=2;var m=wg();(Lr!==n||zr!==s)&&(Ln=null,Is(n,s));do try{yv();break}catch(h){Ng(n,h)}while(!0);if(Id(),At=i,Mi.current=m,hr!==null)throw Error(a(261));return Lr=null,zr=0,Ar}function yv(){for(;hr!==null;)Sg(hr)}function bv(){for(;hr!==null&&!aa();)Sg(hr)}function Sg(n){var s=_g(n.alternate,n,_a);n.memoizedProps=n.pendingProps,s===null?kg(n):hr=s,um.current=null}function kg(n){var s=n;do{var i=s.alternate;if(n=s.return,(s.flags&32768)===0){if(i=mv(i,s,_a),i!==null){hr=i;return}}else{if(i=uv(i,s),i!==null){i.flags&=32767,hr=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ar=6,hr=null;return}}if(s=s.sibling,s!==null){hr=s;return}hr=s=n}while(s!==null);Ar===0&&(Ar=5)}function js(n,s,i){var m=Nt,h=$a.transition;try{$a.transition=null,Nt=1,vv(n,s,i,m)}finally{$a.transition=h,Nt=m}return null}function vv(n,s,i,m){do Al();while(ts!==null);if((At&6)!==0)throw Error(a(327));i=n.finishedWork;var h=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0;var b=i.lanes|i.childLanes;if(cn(n,b),n===Lr&&(hr=Lr=null,zr=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ji||(ji=!0,Pg(qr,function(){return Al(),null})),b=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||b){b=$a.transition,$a.transition=null;var P=Nt;Nt=1;var q=At;At|=4,um.current=null,fv(n,i),gg(i,n),$b(Ed),al=!!vd,Ed=vd=null,n.current=i,gv(i),Vr(),At=q,Nt=P,$a.transition=b}else n.current=i;if(ji&&(ji=!1,ts=n,Oi=h),b=n.pendingLanes,b===0&&(es=null),ln(i.stateNode),ya(n,Mt()),s!==null)for(m=n.onRecoverableError,i=0;i<s.length;i++)h=s[i],m(h.value,{componentStack:h.stack,digest:h.digest});if(Ii)throw Ii=!1,n=gm,gm=null,n;return(Oi&1)!==0&&n.tag!==0&&Al(),b=n.pendingLanes,(b&1)!==0?n===hm?No++:(No=0,hm=n):No=0,Qn(),null}function Al(){if(ts!==null){var n=vs(Oi),s=$a.transition,i=Nt;try{if($a.transition=null,Nt=16>n?16:n,ts===null)var m=!1;else{if(n=ts,ts=null,Oi=0,(At&6)!==0)throw Error(a(331));var h=At;for(At|=4,Oe=n.current;Oe!==null;){var b=Oe,P=b.child;if((Oe.flags&16)!==0){var q=b.deletions;if(q!==null){for(var W=0;W<q.length;W++){var se=q[W];for(Oe=se;Oe!==null;){var ye=Oe;switch(ye.tag){case 0:case 11:case 15:bo(8,ye,b)}var Ee=ye.child;if(Ee!==null)Ee.return=ye,Oe=Ee;else for(;Oe!==null;){ye=Oe;var xe=ye.sibling,Me=ye.return;if(dg(ye),ye===se){Oe=null;break}if(xe!==null){xe.return=Me,Oe=xe;break}Oe=Me}}}var ze=b.alternate;if(ze!==null){var Be=ze.child;if(Be!==null){ze.child=null;do{var pr=Be.sibling;Be.sibling=null,Be=pr}while(Be!==null)}}Oe=b}}if((b.subtreeFlags&2064)!==0&&P!==null)P.return=b,Oe=P;else e:for(;Oe!==null;){if(b=Oe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:bo(9,b,b.return)}var re=b.sibling;if(re!==null){re.return=b.return,Oe=re;break e}Oe=b.return}}var K=n.current;for(Oe=K;Oe!==null;){P=Oe;var ne=P.child;if((P.subtreeFlags&2064)!==0&&ne!==null)ne.return=P,Oe=ne;else e:for(P=K;Oe!==null;){if(q=Oe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Li(9,q)}}catch(Ve){lr(q,q.return,Ve)}if(q===P){Oe=null;break e}var Se=q.sibling;if(Se!==null){Se.return=q.return,Oe=Se;break e}Oe=q.return}}if(At=h,Qn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(da,n)}catch{}m=!0}return m}finally{Nt=i,$a.transition=s}}return!1}function Cg(n,s,i){s=wl(i,s),s=Uf(n,s,1),n=Jn(n,s,1),s=oa(),n!==null&&(ua(n,1,s),ya(n,s))}function lr(n,s,i){if(n.tag===3)Cg(n,n,i);else for(;s!==null;){if(s.tag===3){Cg(s,n,i);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(es===null||!es.has(m))){n=wl(i,n),n=Hf(s,n,1),s=Jn(s,n,1),n=oa(),s!==null&&(ua(s,1,n),ya(s,n));break}}s=s.return}}function Ev(n,s,i){var m=n.pingCache;m!==null&&m.delete(s),s=oa(),n.pingedLanes|=n.suspendedLanes&i,Lr===n&&(zr&i)===i&&(Ar===4||Ar===3&&(zr&130023424)===zr&&500>Mt()-fm?Is(n,0):pm|=i),ya(n,s)}function Ag(n,s){s===0&&((n.mode&1)===0?s=1:(s=na,na<<=1,(na&130023424)===0&&(na=4194304)));var i=oa();n=_n(n,s),n!==null&&(ua(n,s,i),ya(n,i))}function Nv(n){var s=n.memoizedState,i=0;s!==null&&(i=s.retryLane),Ag(n,i)}function wv(n,s){var i=0;switch(n.tag){case 13:var m=n.stateNode,h=n.memoizedState;h!==null&&(i=h.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(a(314))}m!==null&&m.delete(s),Ag(n,i)}var _g;_g=function(n,s,i){if(n!==null)if(n.memoizedProps!==s.pendingProps||fa.current)ha=!0;else{if((n.lanes&i)===0&&(s.flags&128)===0)return ha=!1,dv(n,s,i);ha=(n.flags&131072)!==0}else ha=!1,Xt&&(s.flags&1048576)!==0&&lf(s,fi,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;Pi(n,s),n=s.pendingProps;var h=gl(s,Hr.current);El(s,i),h=Hd(null,s,m,n,h,i);var b=Wd();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ga(m)?(b=!0,mi(s)):b=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Dd(s),h.updater=Ai,s.stateNode=h,h._reactInternals=s,Jd(s,m,n,i),s=rm(null,s,m,!0,b,i)):(s.tag=0,Xt&&b&&_d(s),la(null,s,h,i),s=s.child),s;case 16:m=s.elementType;e:{switch(Pi(n,s),n=s.pendingProps,h=m._init,m=h(m._payload),s.type=m,h=s.tag=kv(m),n=Xa(m,n),h){case 0:s=tm(null,s,m,n,i);break e;case 1:s=eg(null,s,m,n,i);break e;case 11:s=Yf(null,s,m,n,i);break e;case 14:s=Qf(null,s,m,Xa(m.type,n),i);break e}throw Error(a(306,m,""))}return s;case 0:return m=s.type,h=s.pendingProps,h=s.elementType===m?h:Xa(m,h),tm(n,s,m,h,i);case 1:return m=s.type,h=s.pendingProps,h=s.elementType===m?h:Xa(m,h),eg(n,s,m,h,i);case 3:e:{if(tg(s),n===null)throw Error(a(387));m=s.pendingProps,b=s.memoizedState,h=b.element,hf(n,s),vi(s,m,null,i);var P=s.memoizedState;if(m=P.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){h=wl(Error(a(423)),s),s=rg(n,s,m,i,h);break e}else if(m!==h){h=wl(Error(a(424)),s),s=rg(n,s,m,i,h);break e}else for(Aa=Gn(s.stateNode.containerInfo.firstChild),Ca=s,Xt=!0,Qa=null,i=ff(s,null,m,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(yl(),m===h){s=Tn(n,s,i);break e}la(n,s,m,i)}s=s.child}return s;case 5:return bf(s),n===null&&Ld(s),m=s.type,h=s.pendingProps,b=n!==null?n.memoizedProps:null,P=h.children,Nd(m,h)?P=null:b!==null&&Nd(m,b)&&(s.flags|=32),Zf(n,s),la(n,s,P,i),s.child;case 6:return n===null&&Ld(s),null;case 13:return ag(n,s,i);case 4:return Fd(s,s.stateNode.containerInfo),m=s.pendingProps,n===null?s.child=bl(s,null,m,i):la(n,s,m,i),s.child;case 11:return m=s.type,h=s.pendingProps,h=s.elementType===m?h:Xa(m,h),Yf(n,s,m,h,i);case 7:return la(n,s,s.pendingProps,i),s.child;case 8:return la(n,s,s.pendingProps.children,i),s.child;case 12:return la(n,s,s.pendingProps.children,i),s.child;case 10:e:{if(m=s.type._context,h=s.pendingProps,b=s.memoizedProps,P=h.value,$t(xi,m._currentValue),m._currentValue=P,b!==null)if(Ya(b.value,P)){if(b.children===h.children&&!fa.current){s=Tn(n,s,i);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var q=b.dependencies;if(q!==null){P=b.child;for(var W=q.firstContext;W!==null;){if(W.context===m){if(b.tag===1){W=Pn(-1,i&-i),W.tag=2;var se=b.updateQueue;if(se!==null){se=se.shared;var ye=se.pending;ye===null?W.next=W:(W.next=ye.next,ye.next=W),se.pending=W}}b.lanes|=i,W=b.alternate,W!==null&&(W.lanes|=i),Od(b.return,i,s),q.lanes|=i;break}W=W.next}}else if(b.tag===10)P=b.type===s.type?null:b.child;else if(b.tag===18){if(P=b.return,P===null)throw Error(a(341));P.lanes|=i,q=P.alternate,q!==null&&(q.lanes|=i),Od(P,i,s),P=b.sibling}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===s){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}la(n,s,h.children,i),s=s.child}return s;case 9:return h=s.type,m=s.pendingProps.children,El(s,i),h=Da(h),m=m(h),s.flags|=1,la(n,s,m,i),s.child;case 14:return m=s.type,h=Xa(m,s.pendingProps),h=Xa(m.type,h),Qf(n,s,m,h,i);case 15:return Xf(n,s,s.type,s.pendingProps,i);case 17:return m=s.type,h=s.pendingProps,h=s.elementType===m?h:Xa(m,h),Pi(n,s),s.tag=1,ga(m)?(n=!0,mi(s)):n=!1,El(s,i),Vf(s,m,h),Jd(s,m,h,i),rm(null,s,m,!0,n,i);case 19:return sg(n,s,i);case 22:return Jf(n,s,i)}throw Error(a(156,s.tag))};function Pg(n,s){return nr(n,s)}function Sv(n,s,i,m){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(n,s,i,m){return new Sv(n,s,i,m)}function Nm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kv(n){if(typeof n=="function")return Nm(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y)return 11;if(n===Q)return 14}return 2}function ns(n,s){var i=n.alternate;return i===null?(i=Ba(n.tag,s,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=s,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function $i(n,s,i,m,h,b){var P=2;if(m=n,typeof n=="function")Nm(n)&&(P=1);else if(typeof n=="string")P=5;else e:switch(n){case D:return Os(i.children,h,b,s);case R:P=8,h|=8;break;case O:return n=Ba(12,i,s,h|2),n.elementType=O,n.lanes=b,n;case te:return n=Ba(13,i,s,h),n.elementType=te,n.lanes=b,n;case me:return n=Ba(19,i,s,h),n.elementType=me,n.lanes=b,n;case ie:return Bi(i,h,b,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:P=10;break e;case j:P=9;break e;case Y:P=11;break e;case Q:P=14;break e;case ue:P=16,m=null;break e}throw Error(a(130,n==null?n:typeof n,""))}return s=Ba(P,i,s,h),s.elementType=n,s.type=m,s.lanes=b,s}function Os(n,s,i,m){return n=Ba(7,n,m,s),n.lanes=i,n}function Bi(n,s,i,m){return n=Ba(22,n,m,s),n.elementType=ie,n.lanes=i,n.stateNode={isHidden:!1},n}function wm(n,s,i){return n=Ba(6,n,null,s),n.lanes=i,n}function Sm(n,s,i){return s=Ba(4,n.children!==null?n.children:[],n.key,s),s.lanes=i,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Cv(n,s,i,m,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sr(0),this.expirationTimes=Sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.identifierPrefix=m,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function km(n,s,i,m,h,b,P,q,W){return n=new Cv(n,s,i,q,W),s===1?(s=1,b===!0&&(s|=8)):s=0,b=Ba(3,null,null,s),n.current=b,b.stateNode=n,b.memoizedState={element:m,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(b),n}function Av(n,s,i){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:m==null?null:""+m,children:n,containerInfo:s,implementation:i}}function Tg(n){if(!n)return Yn;n=n._reactInternals;e:{if(ur(n)!==n||n.tag!==1)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ga(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(n.tag===1){var i=n.type;if(ga(i))return af(n,i,s)}return s}function Lg(n,s,i,m,h,b,P,q,W){return n=km(i,m,!0,n,h,b,P,q,W),n.context=Tg(null),i=n.current,m=oa(),h=rs(i),b=Pn(m,h),b.callback=s??null,Jn(i,b,h),n.current.lanes=h,ua(n,h,m),ya(n,m),n}function Vi(n,s,i,m){var h=s.current,b=oa(),P=rs(h);return i=Tg(i),s.context===null?s.context=i:s.pendingContext=i,s=Pn(b,P),s.payload={element:n},m=m===void 0?null:m,m!==null&&(s.callback=m),n=Jn(h,s,P),n!==null&&(en(n,h,P,b),bi(n,h,P)),P}function qi(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Mg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<s?i:s}}function Cm(n,s){Mg(n,s),(n=n.alternate)&&Mg(n,s)}function _v(){return null}var Rg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Am(n){this._internalRoot=n}Ui.prototype.render=Am.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));Vi(n,s,null,null)},Ui.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Rs(function(){Vi(null,n,null,null)}),s[Sn]=null}};function Ui(n){this._internalRoot=n}Ui.prototype.unstable_scheduleHydration=function(n){if(n){var s=mn();n={blockedOn:null,target:n,priority:s};for(var i=0;i<xt.length&&s!==0&&s<xt[i].priority;i++);xt.splice(i,0,n),i===0&&Qo(n)}};function _m(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function Pv(n,s,i,m,h){if(h){if(typeof m=="function"){var b=m;m=function(){var se=qi(P);b.call(se)}}var P=Lg(s,m,n,0,null,!1,!1,"",Ig);return n._reactRootContainer=P,n[Sn]=P.current,so(n.nodeType===8?n.parentNode:n),Rs(),P}for(;h=n.lastChild;)n.removeChild(h);if(typeof m=="function"){var q=m;m=function(){var se=qi(W);q.call(se)}}var W=km(n,0,!1,null,null,!1,!1,"",Ig);return n._reactRootContainer=W,n[Sn]=W.current,so(n.nodeType===8?n.parentNode:n),Rs(function(){Vi(s,W,i,m)}),W}function Wi(n,s,i,m,h){var b=i._reactRootContainer;if(b){var P=b;if(typeof h=="function"){var q=h;h=function(){var W=qi(P);q.call(W)}}Vi(s,P,n,h)}else P=Pv(i,s,n,h,m);return qi(P)}dn=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var i=de(s.pendingLanes);i!==0&&(Vn(s,i|1),ya(s,Mt()),(At&6)===0&&(Cl=Mt()+500,Qn()))}break;case 13:Rs(function(){var m=_n(n,1);if(m!==null){var h=oa();en(m,n,1,h)}}),Cm(n,1)}},sa=function(n){if(n.tag===13){var s=_n(n,134217728);if(s!==null){var i=oa();en(s,n,134217728,i)}Cm(n,134217728)}},qn=function(n){if(n.tag===13){var s=rs(n),i=_n(n,s);if(i!==null){var m=oa();en(i,n,s,m)}Cm(n,s)}},mn=function(){return Nt},Es=function(n,s){var i=Nt;try{return Nt=n,s()}finally{Nt=i}},Jt=function(n,s,i){switch(s){case"input":if(ve(n,i),s=i.name,i.type==="radio"&&s!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var m=i[s];if(m!==n&&m.form===n.form){var h=ci(m);if(!h)throw Error(a(90));tt(m),ve(m,h)}}}break;case"textarea":It(n,i);break;case"select":s=i.value,s!=null&&ut(n,!!i.multiple,s,!1)}},Lt=bm,ct=Rs;var Tv={usingClientEntryPoint:!1,Events:[io,pl,ci,ke,lt,bm]},wo={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lv={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Br(n),n===null?null:n.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{da=Gi.inject(Lv),Zt=Gi}catch{}}return ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tv,ba.createPortal=function(n,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(s))throw Error(a(200));return Av(n,s,null,i)},ba.createRoot=function(n,s){if(!_m(n))throw Error(a(299));var i=!1,m="",h=Rg;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=km(n,1,!1,null,null,i,!1,m,h),n[Sn]=s.current,so(n.nodeType===8?n.parentNode:n),new Am(s)},ba.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=Br(s),n=n===null?null:n.stateNode,n},ba.flushSync=function(n){return Rs(n)},ba.hydrate=function(n,s,i){if(!Hi(s))throw Error(a(200));return Wi(null,n,s,!0,i)},ba.hydrateRoot=function(n,s,i){if(!_m(n))throw Error(a(405));var m=i!=null&&i.hydratedSources||null,h=!1,b="",P=Rg;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(b=i.identifierPrefix),i.onRecoverableError!==void 0&&(P=i.onRecoverableError)),s=Lg(s,null,n,1,i??null,h,!1,b,P),n[Sn]=s.current,so(n),m)for(n=0;n<m.length;n++)i=m[n],h=i._getVersion,h=h(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,h]:s.mutableSourceEagerHydrationData.push(i,h);return new Ui(s)},ba.render=function(n,s,i){if(!Hi(s))throw Error(a(200));return Wi(null,n,s,!1,i)},ba.unmountComponentAtNode=function(n){if(!Hi(n))throw Error(a(40));return n._reactRootContainer?(Rs(function(){Wi(null,null,n,!1,function(){n._reactRootContainer=null,n[Sn]=null})}),!0):!1},ba.unstable_batchedUpdates=bm,ba.unstable_renderSubtreeIntoContainer=function(n,s,i,m){if(!Hi(i))throw Error(a(200));if(n==null||n._reactInternals===void 0)throw Error(a(38));return Wi(n,s,i,!1,m)},ba.version="18.3.1-next-f1338f8080-20240426",ba}var $g;function Kh(){if($g)return Tm.exports;$g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Tm.exports=Fv(),Tm.exports}var Bg;function $v(){if(Bg)return Ki;Bg=1;var t=Kh();return Ki.createRoot=t.createRoot,Ki.hydrateRoot=t.hydrateRoot,Ki}var Bv=$v();Kh();function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Oo.apply(this,arguments)}var cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cs||(cs={}));const Vg="popstate";function Vv(t){t===void 0&&(t={});function r(l,o){let{pathname:c,search:d,hash:f}=l.location;return Nu("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(l,o){return typeof o=="string"?o:Nc(o)}return Uv(r,a,null,t)}function rr(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Qu(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function qv(){return Math.random().toString(36).substr(2,8)}function qg(t,r){return{usr:t.state,key:t.key,idx:r}}function Nu(t,r,a,l){return a===void 0&&(a=null),Oo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?ql(r):r,{state:a,key:r&&r.key||l||qv()})}function Nc(t){let{pathname:r="/",search:a="",hash:l=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function ql(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let l=t.indexOf("?");l>=0&&(r.search=t.substr(l),t=t.substr(0,l)),t&&(r.pathname=t)}return r}function Uv(t,r,a,l){l===void 0&&(l={});let{window:o=document.defaultView,v5Compat:c=!1}=l,d=o.history,f=cs.Pop,p=null,g=y();g==null&&(g=0,d.replaceState(Oo({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function x(){f=cs.Pop;let C=y(),w=C==null?null:C-g;g=C,p&&p({action:f,location:E.location,delta:w})}function S(C,w){f=cs.Push;let k=Nu(E.location,C,w);g=y()+1;let L=qg(k,g),_=E.createHref(k);try{d.pushState(L,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(_)}c&&p&&p({action:f,location:E.location,delta:1})}function v(C,w){f=cs.Replace;let k=Nu(E.location,C,w);g=y();let L=qg(k,g),_=E.createHref(k);d.replaceState(L,"",_),c&&p&&p({action:f,location:E.location,delta:0})}function N(C){let w=o.location.origin!=="null"?o.location.origin:o.location.href,k=typeof C=="string"?C:Nc(C);return k=k.replace(/ $/,"%20"),rr(w,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,w)}let E={get action(){return f},get location(){return t(o,d)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vg,x),p=C,()=>{o.removeEventListener(Vg,x),p=null}},createHref(C){return r(o,C)},createURL:N,encodeLocation(C){let w=N(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:S,replace:v,go(C){return d.go(C)}};return E}var Ug;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ug||(Ug={}));function Hv(t,r,a){return a===void 0&&(a="/"),Wv(t,r,a)}function Wv(t,r,a,l){let o=typeof r=="string"?ql(r):r,c=Dl(o.pathname||"/",a);if(c==null)return null;let d=Yh(t);Gv(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=nE(c);f=rE(d[p],g)}return f}function Yh(t,r,a,l){r===void 0&&(r=[]),a===void 0&&(a=[]),l===void 0&&(l="");let o=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(rr(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let g=ms([l,p.relativePath]),y=a.concat(p);c.children&&c.children.length>0&&(rr(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Yh(c.children,r,y,g)),!(c.path==null&&!c.index)&&r.push({path:g,score:eE(g,c.index),routesMeta:y})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,d);else for(let p of Qh(c.path))o(c,d,p)}),r}function Qh(t){let r=t.split("/");if(r.length===0)return[];let[a,...l]=r,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let d=Qh(l.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function Gv(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:tE(r.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const Kv=/^:[\w-]+$/,Yv=3,Qv=2,Xv=1,Jv=10,Zv=-2,Hg=t=>t==="*";function eE(t,r){let a=t.split("/"),l=a.length;return a.some(Hg)&&(l+=Zv),r&&(l+=Qv),a.filter(o=>!Hg(o)).reduce((o,c)=>o+(Kv.test(c)?Yv:c===""?Xv:Jv),l)}function tE(t,r){return t.length===r.length&&t.slice(0,-1).every((l,o)=>l===r[o])?t[t.length-1]-r[r.length-1]:0}function rE(t,r,a){let{routesMeta:l}=t,o={},c="/",d=[];for(let f=0;f<l.length;++f){let p=l[f],g=f===l.length-1,y=c==="/"?r:r.slice(c.length)||"/",x=wu({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),S=p.route;if(!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:ms([c,x.pathname]),pathnameBase:cE(ms([c,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(c=ms([c,x.pathnameBase]))}return d}function wu(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,l]=aE(t.path,t.caseSensitive,t.end),o=r.match(a);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:l.reduce((g,y,x)=>{let{paramName:S,isOptional:v}=y;if(S==="*"){let E=f[x]||"";d=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const N=f[x];return v&&!N?g[S]=void 0:g[S]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function aE(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),Qu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let l=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(l.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(l.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),l]}function nE(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Dl(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,l=t.charAt(a);return l&&l!=="/"?null:t.slice(a)||"/"}const sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lE=t=>sE.test(t);function oE(t,r){r===void 0&&(r="/");let{pathname:a,search:l="",hash:o=""}=typeof t=="string"?ql(t):t,c;if(a)if(lE(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),Qu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+a))}a.startsWith("/")?c=Wg(a.substring(1),"/"):c=Wg(a,r)}else c=r;return{pathname:c,search:dE(l),hash:mE(o)}}function Wg(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Rm(t,r,a,l){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iE(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Xu(t,r){let a=iE(t);return r?a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase):a.map(l=>l.pathnameBase)}function Ju(t,r,a,l){l===void 0&&(l=!1);let o;typeof t=="string"?o=ql(t):(o=Oo({},t),rr(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),rr(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),rr(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let c=t===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=a;else{let x=r.length-1;if(!l&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),x-=1;o.pathname=S.join("/")}f=x>=0?r[x]:"/"}let p=oE(o,f),g=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),cE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xh=["post","put","patch","delete"];new Set(Xh);const pE=["get",...Xh];new Set(pE);function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},zo.apply(this,arguments)}const Oc=u.createContext(null),Jh=u.createContext(null),$n=u.createContext(null),zc=u.createContext(null),Bn=u.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=u.createContext(null);function fE(t,r){let{relative:a}=r===void 0?{}:r;Ul()||rr(!1);let{basename:l,navigator:o}=u.useContext($n),{hash:c,pathname:d,search:f}=Dc(t,{relative:a}),p=d;return l!=="/"&&(p=d==="/"?l:ms([l,d])),o.createHref({pathname:p,search:f,hash:c})}function Ul(){return u.useContext(zc)!=null}function wa(){return Ul()||rr(!1),u.useContext(zc).location}function ex(t){u.useContext($n).static||u.useLayoutEffect(t)}function ea(){let{isDataRoute:t}=u.useContext(Bn);return t?AE():gE()}function gE(){Ul()||rr(!1);let t=u.useContext(Oc),{basename:r,future:a,navigator:l}=u.useContext($n),{matches:o}=u.useContext(Bn),{pathname:c}=wa(),d=JSON.stringify(Xu(o,a.v7_relativeSplatPath)),f=u.useRef(!1);return ex(()=>{f.current=!0}),u.useCallback(function(g,y){if(y===void 0&&(y={}),!f.current)return;if(typeof g=="number"){l.go(g);return}let x=Ju(g,JSON.parse(d),c,y.relative==="path");t==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:ms([r,x.pathname])),(y.replace?l.replace:l.push)(x,y.state,y)},[r,l,d,c,t])}function bs(){let{matches:t}=u.useContext(Bn),r=t[t.length-1];return r?r.params:{}}function Dc(t,r){let{relative:a}=r===void 0?{}:r,{future:l}=u.useContext($n),{matches:o}=u.useContext(Bn),{pathname:c}=wa(),d=JSON.stringify(Xu(o,l.v7_relativeSplatPath));return u.useMemo(()=>Ju(t,JSON.parse(d),c,a==="path"),[t,d,c,a])}function hE(t,r){return xE(t,r)}function xE(t,r,a,l){Ul()||rr(!1);let{navigator:o}=u.useContext($n),{matches:c}=u.useContext(Bn),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=wa(),y;if(r){var x;let C=typeof r=="string"?ql(r):r;p==="/"||(x=C.pathname)!=null&&x.startsWith(p)||rr(!1),y=C}else y=g;let S=y.pathname||"/",v=S;if(p!=="/"){let C=p.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=Hv(t,{pathname:v}),E=NE(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:ms([p,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:ms([p,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,a,l);return r&&E?u.createElement(zc.Provider,{value:{location:zo({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:cs.Pop}},E):E}function yE(){let t=CE(),r=uE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),a?u.createElement("pre",{style:o},a):null,null)}const bE=u.createElement(yE,null);class vE extends u.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?u.createElement(Bn.Provider,{value:this.props.routeContext},u.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EE(t){let{routeContext:r,match:a,children:l}=t,o=u.useContext(Oc);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),u.createElement(Bn.Provider,{value:r},l)}function NE(t,r,a,l){var o;if(r===void 0&&(r=[]),a===void 0&&(a=null),l===void 0&&(l=null),t==null){var c;if(!a)return null;if(a.errors)t=a.matches;else if((c=l)!=null&&c.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let d=t,f=(o=a)==null?void 0:o.errors;if(f!=null){let y=d.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);y>=0||rr(!1),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,g=-1;if(a&&l&&l.v7_partialHydration)for(let y=0;y<d.length;y++){let x=d[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:S,errors:v}=a,N=x.route.loader&&S[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||N){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,x,S)=>{let v,N=!1,E=null,C=null;a&&(v=f&&x.route.id?f[x.route.id]:void 0,E=x.route.errorElement||bE,p&&(g<0&&S===0?(_E("route-fallback"),N=!0,C=null):g===S&&(N=!0,C=x.route.hydrateFallbackElement||null)));let w=r.concat(d.slice(0,S+1)),k=()=>{let L;return v?L=E:N?L=C:x.route.Component?L=u.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=y,u.createElement(EE,{match:x,routeContext:{outlet:y,matches:w,isDataRoute:a!=null},children:L})};return a&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?u.createElement(vE,{location:a.location,revalidation:a.revalidation,component:E,error:v,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}var tx=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(tx||{}),rx=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(rx||{});function wE(t){let r=u.useContext(Oc);return r||rr(!1),r}function SE(t){let r=u.useContext(Jh);return r||rr(!1),r}function kE(t){let r=u.useContext(Bn);return r||rr(!1),r}function ax(t){let r=kE(),a=r.matches[r.matches.length-1];return a.route.id||rr(!1),a.route.id}function CE(){var t;let r=u.useContext(Zh),a=SE(),l=ax();return r!==void 0?r:(t=a.errors)==null?void 0:t[l]}function AE(){let{router:t}=wE(tx.UseNavigateStable),r=ax(rx.UseNavigateStable),a=u.useRef(!1);return ex(()=>{a.current=!0}),u.useCallback(function(o,c){c===void 0&&(c={}),a.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,zo({fromRouteId:r},c)))},[t,r])}const Gg={};function _E(t,r,a){Gg[t]||(Gg[t]=!0)}function PE(t,r){t?.v7_startTransition,t?.v7_relativeSplatPath}function Do(t){let{to:r,replace:a,state:l,relative:o}=t;Ul()||rr(!1);let{future:c,static:d}=u.useContext($n),{matches:f}=u.useContext(Bn),{pathname:p}=wa(),g=ea(),y=Ju(r,Xu(f,c.v7_relativeSplatPath),p,o==="path"),x=JSON.stringify(y);return u.useEffect(()=>g(JSON.parse(x),{replace:a,state:l,relative:o}),[g,x,o,a,l]),null}function it(t){rr(!1)}function TE(t){let{basename:r="/",children:a=null,location:l,navigationType:o=cs.Pop,navigator:c,static:d=!1,future:f}=t;Ul()&&rr(!1);let p=r.replace(/^\/*/,"/"),g=u.useMemo(()=>({basename:p,navigator:c,static:d,future:zo({v7_relativeSplatPath:!1},f)}),[p,f,c,d]);typeof l=="string"&&(l=ql(l));let{pathname:y="/",search:x="",hash:S="",state:v=null,key:N="default"}=l,E=u.useMemo(()=>{let C=Dl(y,p);return C==null?null:{location:{pathname:C,search:x,hash:S,state:v,key:N},navigationType:o}},[p,y,x,S,v,N,o]);return E==null?null:u.createElement($n.Provider,{value:g},u.createElement(zc.Provider,{children:a,value:E}))}function LE(t){let{children:r,location:a}=t;return hE(Su(r),a)}new Promise(()=>{});function Su(t,r){r===void 0&&(r=[]);let a=[];return u.Children.forEach(t,(l,o)=>{if(!u.isValidElement(l))return;let c=[...r,o];if(l.type===u.Fragment){a.push.apply(a,Su(l.props.children,c));return}l.type!==it&&rr(!1),!l.props.index||!l.props.children||rr(!1);let d={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=Su(l.props.children,c)),a.push(d)}),a}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},wc.apply(this,arguments)}function nx(t,r){if(t==null)return{};var a={},l=Object.keys(t),o,c;for(c=0;c<l.length;c++)o=l[c],!(r.indexOf(o)>=0)&&(a[o]=t[o]);return a}function ME(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RE(t,r){return t.button===0&&(!r||r==="_self")&&!ME(t)}function ku(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let l=t[a];return r.concat(Array.isArray(l)?l.map(o=>[a,o]):[[a,l]])},[]))}function IE(t,r){let a=ku(t);return r&&r.forEach((l,o)=>{a.has(o)||r.getAll(o).forEach(c=>{a.append(o,c)})}),a}const jE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zE="6";try{window.__reactRouterVersion=zE}catch{}const DE=u.createContext({isTransitioning:!1}),FE="startTransition",Kg=Ov[FE];function $E(t){let{basename:r,children:a,future:l,window:o}=t,c=u.useRef();c.current==null&&(c.current=Vv({window:o,v5Compat:!0}));let d=c.current,[f,p]=u.useState({action:d.action,location:d.location}),{v7_startTransition:g}=l||{},y=u.useCallback(x=>{g&&Kg?Kg(()=>p(x)):p(x)},[p,g]);return u.useLayoutEffect(()=>d.listen(y),[d,y]),u.useEffect(()=>PE(l),[l]),u.createElement(TE,{basename:r,children:a,location:f.location,navigationType:f.action,navigator:d,future:l})}const BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=u.forwardRef(function(r,a){let{onClick:l,relative:o,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:y,viewTransition:x}=r,S=nx(r,jE),{basename:v}=u.useContext($n),N,E=!1;if(typeof g=="string"&&VE.test(g)&&(N=g,BE))try{let L=new URL(window.location.href),_=g.startsWith("//")?new URL(L.protocol+g):new URL(g),T=Dl(_.pathname,v);_.origin===L.origin&&T!=null?g=T+_.search+_.hash:E=!0}catch{}let C=fE(g,{relative:o}),w=UE(g,{replace:d,state:f,target:p,preventScrollReset:y,relative:o,viewTransition:x});function k(L){l&&l(L),L.defaultPrevented||w(L)}return u.createElement("a",wc({},S,{href:N||C,onClick:E||c?l:k,ref:a,target:p}))}),_t=u.forwardRef(function(r,a){let{"aria-current":l="page",caseSensitive:o=!1,className:c="",end:d=!1,style:f,to:p,viewTransition:g,children:y}=r,x=nx(r,OE),S=Dc(p,{relative:x.relative}),v=wa(),N=u.useContext(Jh),{navigator:E,basename:C}=u.useContext($n),w=N!=null&&HE(S)&&g===!0,k=E.encodeLocation?E.encodeLocation(S).pathname:S.pathname,L=v.pathname,_=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(L=L.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&C&&(_=Dl(_,C)||_);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=L===k||!d&&L.startsWith(k)&&L.charAt(T)==="/",D=_!=null&&(_===k||!d&&_.startsWith(k)&&_.charAt(k.length)==="/"),R={isActive:M,isPending:D,isTransitioning:w},O=M?l:void 0,I;typeof c=="function"?I=c(R):I=[c,M?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let j=typeof f=="function"?f(R):f;return u.createElement(ce,wc({},x,{"aria-current":O,className:I,ref:a,style:j,to:p,viewTransition:g}),typeof y=="function"?y(R):y)});var Cu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cu||(Cu={}));var Yg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));function qE(t){let r=u.useContext(Oc);return r||rr(!1),r}function UE(t,r){let{target:a,replace:l,state:o,preventScrollReset:c,relative:d,viewTransition:f}=r===void 0?{}:r,p=ea(),g=wa(),y=Dc(t,{relative:d});return u.useCallback(x=>{if(RE(x,a)){x.preventDefault();let S=l!==void 0?l:Nc(g)===Nc(y);p(t,{replace:S,state:o,preventScrollReset:c,relative:d,viewTransition:f})}},[g,p,y,l,o,a,t,c,d,f])}function Fc(t){let r=u.useRef(ku(t)),a=u.useRef(!1),l=wa(),o=u.useMemo(()=>IE(l.search,a.current?null:r.current),[l.search]),c=ea(),d=u.useCallback((f,p)=>{const g=ku(typeof f=="function"?f(o):f);a.current=!0,c("?"+g,p)},[c,o]);return[o,d]}function HE(t,r){r===void 0&&(r={});let a=u.useContext(DE);a==null&&rr(!1);let{basename:l}=qE(Cu.useViewTransitionState),o=Dc(t,{relative:r.relative});if(!a.isTransitioning)return!1;let c=Dl(a.currentLocation.pathname,l)||a.currentLocation.pathname,d=Dl(a.nextLocation.pathname,l)||a.nextLocation.pathname;return wu(o.pathname,d)!=null||wu(o.pathname,c)!=null}function sx(t,r){return function(){return t.apply(r,arguments)}}const{toString:WE}=Object.prototype,{getPrototypeOf:Zu}=Object,{iterator:$c,toStringTag:lx}=Symbol,Bc=(t=>r=>{const a=WE.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),nn=t=>(t=t.toLowerCase(),r=>Bc(r)===t),Vc=t=>r=>typeof r===t,{isArray:Hl}=Array,Fl=Vc("undefined");function Uo(t){return t!==null&&!Fl(t)&&t.constructor!==null&&!Fl(t.constructor)&&Ea(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ox=nn("ArrayBuffer");function GE(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&ox(t.buffer),r}const KE=Vc("string"),Ea=Vc("function"),ix=Vc("number"),Ho=t=>t!==null&&typeof t=="object",YE=t=>t===!0||t===!1,ic=t=>{if(Bc(t)!=="object")return!1;const r=Zu(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(lx in t)&&!($c in t)},QE=t=>{if(!Ho(t)||Uo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},XE=nn("Date"),JE=nn("File"),ZE=nn("Blob"),eN=nn("FileList"),tN=t=>Ho(t)&&Ea(t.pipe),rN=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ea(t.append)&&((r=Bc(t))==="formdata"||r==="object"&&Ea(t.toString)&&t.toString()==="[object FormData]"))},aN=nn("URLSearchParams"),[nN,sN,lN,oN]=["ReadableStream","Request","Response","Headers"].map(nn),iN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wo(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let l,o;if(typeof t!="object"&&(t=[t]),Hl(t))for(l=0,o=t.length;l<o;l++)r.call(null,t[l],l,t);else{if(Uo(t))return;const c=a?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let f;for(l=0;l<d;l++)f=c[l],r.call(null,t[f],f,t)}}function cx(t,r){if(Uo(t))return null;r=r.toLowerCase();const a=Object.keys(t);let l=a.length,o;for(;l-- >0;)if(o=a[l],r===o.toLowerCase())return o;return null}const Vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dx=t=>!Fl(t)&&t!==Vs;function Au(){const{caseless:t,skipUndefined:r}=dx(this)&&this||{},a={},l=(o,c)=>{const d=t&&cx(a,c)||c;ic(a[d])&&ic(o)?a[d]=Au(a[d],o):ic(o)?a[d]=Au({},o):Hl(o)?a[d]=o.slice():(!r||!Fl(o))&&(a[d]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Wo(arguments[o],l);return a}const cN=(t,r,a,{allOwnKeys:l}={})=>(Wo(r,(o,c)=>{a&&Ea(o)?t[c]=sx(o,a):t[c]=o},{allOwnKeys:l}),t),dN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mN=(t,r,a,l)=>{t.prototype=Object.create(r.prototype,l),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},uN=(t,r,a,l)=>{let o,c,d;const f={};if(r=r||{},t==null)return r;do{for(o=Object.getOwnPropertyNames(t),c=o.length;c-- >0;)d=o[c],(!l||l(d,t,r))&&!f[d]&&(r[d]=t[d],f[d]=!0);t=a!==!1&&Zu(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},pN=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const l=t.indexOf(r,a);return l!==-1&&l===a},fN=t=>{if(!t)return null;if(Hl(t))return t;let r=t.length;if(!ix(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},gN=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&Zu(Uint8Array)),hN=(t,r)=>{const l=(t&&t[$c]).call(t);let o;for(;(o=l.next())&&!o.done;){const c=o.value;r.call(t,c[0],c[1])}},xN=(t,r)=>{let a;const l=[];for(;(a=t.exec(r))!==null;)l.push(a);return l},yN=nn("HTMLFormElement"),bN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,o){return l.toUpperCase()+o}),Qg=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),vN=nn("RegExp"),mx=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),l={};Wo(a,(o,c)=>{let d;(d=r(o,c,t))!==!1&&(l[c]=d||o)}),Object.defineProperties(t,l)},EN=t=>{mx(t,(r,a)=>{if(Ea(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=t[a];if(Ea(l)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},NN=(t,r)=>{const a={},l=o=>{o.forEach(c=>{a[c]=!0})};return Hl(t)?l(t):l(String(t).split(r)),a},wN=()=>{},SN=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function kN(t){return!!(t&&Ea(t.append)&&t[lx]==="FormData"&&t[$c])}const CN=t=>{const r=new Array(10),a=(l,o)=>{if(Ho(l)){if(r.indexOf(l)>=0)return;if(Uo(l))return l;if(!("toJSON"in l)){r[o]=l;const c=Hl(l)?[]:{};return Wo(l,(d,f)=>{const p=a(d,o+1);!Fl(p)&&(c[f]=p)}),r[o]=void 0,c}}return l};return a(t,0)},AN=nn("AsyncFunction"),_N=t=>t&&(Ho(t)||Ea(t))&&Ea(t.then)&&Ea(t.catch),ux=((t,r)=>t?setImmediate:r?((a,l)=>(Vs.addEventListener("message",({source:o,data:c})=>{o===Vs&&c===a&&l.length&&l.shift()()},!1),o=>{l.push(o),Vs.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ea(Vs.postMessage)),PN=typeof queueMicrotask<"u"?queueMicrotask.bind(Vs):typeof process<"u"&&process.nextTick||ux,TN=t=>t!=null&&Ea(t[$c]),oe={isArray:Hl,isArrayBuffer:ox,isBuffer:Uo,isFormData:rN,isArrayBufferView:GE,isString:KE,isNumber:ix,isBoolean:YE,isObject:Ho,isPlainObject:ic,isEmptyObject:QE,isReadableStream:nN,isRequest:sN,isResponse:lN,isHeaders:oN,isUndefined:Fl,isDate:XE,isFile:JE,isBlob:ZE,isRegExp:vN,isFunction:Ea,isStream:tN,isURLSearchParams:aN,isTypedArray:gN,isFileList:eN,forEach:Wo,merge:Au,extend:cN,trim:iN,stripBOM:dN,inherits:mN,toFlatObject:uN,kindOf:Bc,kindOfTest:nn,endsWith:pN,toArray:fN,forEachEntry:hN,matchAll:xN,isHTMLForm:yN,hasOwnProperty:Qg,hasOwnProp:Qg,reduceDescriptors:mx,freezeMethods:EN,toObjectSet:NN,toCamelCase:bN,noop:wN,toFiniteNumber:SN,findKey:cx,global:Vs,isContextDefined:dx,isSpecCompliantForm:kN,toJSONObject:CN,isAsyncFn:AN,isThenable:_N,setImmediate:ux,asap:PN,isIterable:TN};function dt(t,r,a,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}oe.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const px=dt.prototype,fx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fx[t]={value:t}});Object.defineProperties(dt,fx);Object.defineProperty(px,"isAxiosError",{value:!0});dt.from=(t,r,a,l,o,c)=>{const d=Object.create(px);oe.toFlatObject(t,d,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const f=t&&t.message?t.message:"Error",p=r==null&&t?t.code:r;return dt.call(d,f,p,a,l,o),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",c&&Object.assign(d,c),d};const LN=null;function _u(t){return oe.isPlainObject(t)||oe.isArray(t)}function gx(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function Xg(t,r,a){return t?t.concat(r).map(function(o,c){return o=gx(o),!a&&c?"["+o+"]":o}).join(a?".":""):r}function MN(t){return oe.isArray(t)&&!t.some(_u)}const RN=oe.toFlatObject(oe,{},null,function(r){return/^is[A-Z]/.test(r)});function qc(t,r,a){if(!oe.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=oe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!oe.isUndefined(C[E])});const l=a.metaTokens,o=a.visitor||y,c=a.dots,d=a.indexes,p=(a.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(r);if(!oe.isFunction(o))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(oe.isDate(N))return N.toISOString();if(oe.isBoolean(N))return N.toString();if(!p&&oe.isBlob(N))throw new dt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(N)||oe.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function y(N,E,C){let w=N;if(N&&!C&&typeof N=="object"){if(oe.endsWith(E,"{}"))E=l?E:E.slice(0,-2),N=JSON.stringify(N);else if(oe.isArray(N)&&MN(N)||(oe.isFileList(N)||oe.endsWith(E,"[]"))&&(w=oe.toArray(N)))return E=gx(E),w.forEach(function(L,_){!(oe.isUndefined(L)||L===null)&&r.append(d===!0?Xg([E],_,c):d===null?E:E+"[]",g(L))}),!1}return _u(N)?!0:(r.append(Xg(C,E,c),g(N)),!1)}const x=[],S=Object.assign(RN,{defaultVisitor:y,convertValue:g,isVisitable:_u});function v(N,E){if(!oe.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+E.join("."));x.push(N),oe.forEach(N,function(w,k){(!(oe.isUndefined(w)||w===null)&&o.call(r,w,oe.isString(k)?k.trim():k,E,S))===!0&&v(w,E?E.concat(k):[k])}),x.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return v(t),r}function Jg(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return r[l]})}function ep(t,r){this._pairs=[],t&&qc(t,this,r)}const hx=ep.prototype;hx.append=function(r,a){this._pairs.push([r,a])};hx.toString=function(r){const a=r?function(l){return r.call(this,l,Jg)}:Jg;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function IN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xx(t,r,a){if(!r)return t;const l=a&&a.encode||IN;oe.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let c;if(o?c=o(r,a):c=oe.isURLSearchParams(r)?r.toString():new ep(r,a).toString(l),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Zg{constructor(){this.handlers=[]}use(r,a,l){return this.handlers.push({fulfilled:r,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){oe.forEach(this.handlers,function(l){l!==null&&r(l)})}}const yx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jN=typeof URLSearchParams<"u"?URLSearchParams:ep,ON=typeof FormData<"u"?FormData:null,zN=typeof Blob<"u"?Blob:null,DN={isBrowser:!0,classes:{URLSearchParams:jN,FormData:ON,Blob:zN},protocols:["http","https","file","blob","url","data"]},tp=typeof window<"u"&&typeof document<"u",Pu=typeof navigator=="object"&&navigator||void 0,FN=tp&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),$N=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BN=tp&&window.location.href||"http://localhost",VN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tp,hasStandardBrowserEnv:FN,hasStandardBrowserWebWorkerEnv:$N,navigator:Pu,origin:BN},Symbol.toStringTag,{value:"Module"})),Xr={...VN,...DN};function qN(t,r){return qc(t,new Xr.classes.URLSearchParams,{visitor:function(a,l,o,c){return Xr.isNode&&oe.isBuffer(a)?(this.append(l,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...r})}function UN(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function HN(t){const r={},a=Object.keys(t);let l;const o=a.length;let c;for(l=0;l<o;l++)c=a[l],r[c]=t[c];return r}function bx(t){function r(a,l,o,c){let d=a[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=c>=a.length;return d=!d&&oe.isArray(o)?o.length:d,p?(oe.hasOwnProp(o,d)?o[d]=[o[d],l]:o[d]=l,!f):((!o[d]||!oe.isObject(o[d]))&&(o[d]=[]),r(a,l,o[d],c)&&oe.isArray(o[d])&&(o[d]=HN(o[d])),!f)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const a={};return oe.forEachEntry(t,(l,o)=>{r(UN(l),o,a,0)}),a}return null}function WN(t,r,a){if(oe.isString(t))try{return(r||JSON.parse)(t),oe.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(t)}const Go={transitional:yx,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const l=a.getContentType()||"",o=l.indexOf("application/json")>-1,c=oe.isObject(r);if(c&&oe.isHTMLForm(r)&&(r=new FormData(r)),oe.isFormData(r))return o?JSON.stringify(bx(r)):r;if(oe.isArrayBuffer(r)||oe.isBuffer(r)||oe.isStream(r)||oe.isFile(r)||oe.isBlob(r)||oe.isReadableStream(r))return r;if(oe.isArrayBufferView(r))return r.buffer;if(oe.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let f;if(c){if(l.indexOf("application/x-www-form-urlencoded")>-1)return qN(r,this.formSerializer).toString();if((f=oe.isFileList(r))||l.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return qc(f?{"files[]":r}:r,p&&new p,this.formSerializer)}}return c||o?(a.setContentType("application/json",!1),WN(r)):r}],transformResponse:[function(r){const a=this.transitional||Go.transitional,l=a&&a.forcedJSONParsing,o=this.responseType==="json";if(oe.isResponse(r)||oe.isReadableStream(r))return r;if(r&&oe.isString(r)&&(l&&!this.responseType||o)){const d=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(r,this.parseReviver)}catch(f){if(d)throw f.name==="SyntaxError"?dt.from(f,dt.ERR_BAD_RESPONSE,this,null,this.response):f}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xr.classes.FormData,Blob:Xr.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{Go.headers[t]={}});const GN=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KN=t=>{const r={};let a,l,o;return t&&t.split(`
`).forEach(function(d){o=d.indexOf(":"),a=d.substring(0,o).trim().toLowerCase(),l=d.substring(o+1).trim(),!(!a||r[a]&&GN[a])&&(a==="set-cookie"?r[a]?r[a].push(l):r[a]=[l]:r[a]=r[a]?r[a]+", "+l:l)}),r},e0=Symbol("internals");function So(t){return t&&String(t).trim().toLowerCase()}function cc(t){return t===!1||t==null?t:oe.isArray(t)?t.map(cc):String(t)}function YN(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(t);)r[l[1]]=l[2];return r}const QN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Im(t,r,a,l,o){if(oe.isFunction(l))return l.call(this,r,a);if(o&&(r=a),!!oe.isString(r)){if(oe.isString(l))return r.indexOf(l)!==-1;if(oe.isRegExp(l))return l.test(r)}}function XN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,l)=>a.toUpperCase()+l)}function JN(t,r){const a=oe.toCamelCase(" "+r);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+a,{value:function(o,c,d){return this[l].call(this,r,o,c,d)},configurable:!0})})}let Na=class{constructor(r){r&&this.set(r)}set(r,a,l){const o=this;function c(f,p,g){const y=So(p);if(!y)throw new Error("header name must be a non-empty string");const x=oe.findKey(o,y);(!x||o[x]===void 0||g===!0||g===void 0&&o[x]!==!1)&&(o[x||p]=cc(f))}const d=(f,p)=>oe.forEach(f,(g,y)=>c(g,y,p));if(oe.isPlainObject(r)||r instanceof this.constructor)d(r,a);else if(oe.isString(r)&&(r=r.trim())&&!QN(r))d(KN(r),a);else if(oe.isObject(r)&&oe.isIterable(r)){let f={},p,g;for(const y of r){if(!oe.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[g=y[0]]=(p=f[g])?oe.isArray(p)?[...p,y[1]]:[p,y[1]]:y[1]}d(f,a)}else r!=null&&c(a,r,l);return this}get(r,a){if(r=So(r),r){const l=oe.findKey(this,r);if(l){const o=this[l];if(!a)return o;if(a===!0)return YN(o);if(oe.isFunction(a))return a.call(this,o,l);if(oe.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=So(r),r){const l=oe.findKey(this,r);return!!(l&&this[l]!==void 0&&(!a||Im(this,this[l],l,a)))}return!1}delete(r,a){const l=this;let o=!1;function c(d){if(d=So(d),d){const f=oe.findKey(l,d);f&&(!a||Im(l,l[f],f,a))&&(delete l[f],o=!0)}}return oe.isArray(r)?r.forEach(c):c(r),o}clear(r){const a=Object.keys(this);let l=a.length,o=!1;for(;l--;){const c=a[l];(!r||Im(this,this[c],c,r,!0))&&(delete this[c],o=!0)}return o}normalize(r){const a=this,l={};return oe.forEach(this,(o,c)=>{const d=oe.findKey(l,c);if(d){a[d]=cc(o),delete a[c];return}const f=r?XN(c):String(c).trim();f!==c&&delete a[c],a[f]=cc(o),l[f]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return oe.forEach(this,(l,o)=>{l!=null&&l!==!1&&(a[o]=r&&oe.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const l=new this(r);return a.forEach(o=>l.set(o)),l}static accessor(r){const l=(this[e0]=this[e0]={accessors:{}}).accessors,o=this.prototype;function c(d){const f=So(d);l[f]||(JN(o,d),l[f]=!0)}return oe.isArray(r)?r.forEach(c):c(r),this}};Na.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Na.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(l){this[a]=l}}});oe.freezeMethods(Na);function jm(t,r){const a=this||Go,l=r||a,o=Na.from(l.headers);let c=l.data;return oe.forEach(t,function(f){c=f.call(a,c,o.normalize(),r?r.status:void 0)}),o.normalize(),c}function vx(t){return!!(t&&t.__CANCEL__)}function Wl(t,r,a){dt.call(this,t??"canceled",dt.ERR_CANCELED,r,a),this.name="CanceledError"}oe.inherits(Wl,dt,{__CANCEL__:!0});function Ex(t,r,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?t(a):r(new dt("Request failed with status code "+a.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function ZN(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function ew(t,r){t=t||10;const a=new Array(t),l=new Array(t);let o=0,c=0,d;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),y=l[c];d||(d=g),a[o]=p,l[o]=g;let x=c,S=0;for(;x!==o;)S+=a[x++],x=x%t;if(o=(o+1)%t,o===c&&(c=(c+1)%t),g-d<r)return;const v=y&&g-y;return v?Math.round(S*1e3/v):void 0}}function tw(t,r){let a=0,l=1e3/r,o,c;const d=(g,y=Date.now())=>{a=y,o=null,c&&(clearTimeout(c),c=null),t(...g)};return[(...g)=>{const y=Date.now(),x=y-a;x>=l?d(g,y):(o=g,c||(c=setTimeout(()=>{c=null,d(o)},l-x)))},()=>o&&d(o)]}const Sc=(t,r,a=3)=>{let l=0;const o=ew(50,250);return tw(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,p=d-l,g=o(p),y=d<=f;l=d;const x={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:g||void 0,estimated:g&&f&&y?(f-d)/g:void 0,event:c,lengthComputable:f!=null,[r?"download":"upload"]:!0};t(x)},a)},t0=(t,r)=>{const a=t!=null;return[l=>r[0]({lengthComputable:a,total:t,loaded:l}),r[1]]},r0=t=>(...r)=>oe.asap(()=>t(...r)),rw=Xr.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,Xr.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(Xr.origin),Xr.navigator&&/(msie|trident)/i.test(Xr.navigator.userAgent)):()=>!0,aw=Xr.hasStandardBrowserEnv?{write(t,r,a,l,o,c,d){if(typeof document>"u")return;const f=[`${t}=${encodeURIComponent(r)}`];oe.isNumber(a)&&f.push(`expires=${new Date(a).toUTCString()}`),oe.isString(l)&&f.push(`path=${l}`),oe.isString(o)&&f.push(`domain=${o}`),c===!0&&f.push("secure"),oe.isString(d)&&f.push(`SameSite=${d}`),document.cookie=f.join("; ")},read(t){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sw(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function Nx(t,r,a){let l=!nw(r);return t&&(l||a==!1)?sw(t,r):r}const a0=t=>t instanceof Na?{...t}:t;function Ks(t,r){r=r||{};const a={};function l(g,y,x,S){return oe.isPlainObject(g)&&oe.isPlainObject(y)?oe.merge.call({caseless:S},g,y):oe.isPlainObject(y)?oe.merge({},y):oe.isArray(y)?y.slice():y}function o(g,y,x,S){if(oe.isUndefined(y)){if(!oe.isUndefined(g))return l(void 0,g,x,S)}else return l(g,y,x,S)}function c(g,y){if(!oe.isUndefined(y))return l(void 0,y)}function d(g,y){if(oe.isUndefined(y)){if(!oe.isUndefined(g))return l(void 0,g)}else return l(void 0,y)}function f(g,y,x){if(x in r)return l(g,y);if(x in t)return l(void 0,g)}const p={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(g,y,x)=>o(a0(g),a0(y),x,!0)};return oe.forEach(Object.keys({...t,...r}),function(y){const x=p[y]||o,S=x(t[y],r[y],y);oe.isUndefined(S)&&x!==f||(a[y]=S)}),a}const wx=t=>{const r=Ks({},t);let{data:a,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:c,headers:d,auth:f}=r;if(r.headers=d=Na.from(d),r.url=xx(Nx(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),oe.isFormData(a)){if(Xr.hasStandardBrowserEnv||Xr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(oe.isFunction(a.getHeaders)){const p=a.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([y,x])=>{g.includes(y.toLowerCase())&&d.set(y,x)})}}if(Xr.hasStandardBrowserEnv&&(l&&oe.isFunction(l)&&(l=l(r)),l||l!==!1&&rw(r.url))){const p=o&&c&&aw.read(c);p&&d.set(o,p)}return r},lw=typeof XMLHttpRequest<"u",ow=lw&&function(t){return new Promise(function(a,l){const o=wx(t);let c=o.data;const d=Na.from(o.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:g}=o,y,x,S,v,N;function E(){v&&v(),N&&N(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function w(){if(!C)return;const L=Na.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),T={data:!f||f==="text"||f==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:L,config:t,request:C};Ex(function(D){a(D),E()},function(D){l(D),E()},T),C=null}"onloadend"in C?C.onloadend=w:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(w)},C.onabort=function(){C&&(l(new dt("Request aborted",dt.ECONNABORTED,t,C)),C=null)},C.onerror=function(_){const T=_&&_.message?_.message:"Network Error",M=new dt(T,dt.ERR_NETWORK,t,C);M.event=_||null,l(M),C=null},C.ontimeout=function(){let _=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||yx;o.timeoutErrorMessage&&(_=o.timeoutErrorMessage),l(new dt(_,T.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,t,C)),C=null},c===void 0&&d.setContentType(null),"setRequestHeader"in C&&oe.forEach(d.toJSON(),function(_,T){C.setRequestHeader(T,_)}),oe.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),f&&f!=="json"&&(C.responseType=o.responseType),g&&([S,N]=Sc(g,!0),C.addEventListener("progress",S)),p&&C.upload&&([x,v]=Sc(p),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(y=L=>{C&&(l(!L||L.type?new Wl(null,t,C):L),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const k=ZN(o.url);if(k&&Xr.protocols.indexOf(k)===-1){l(new dt("Unsupported protocol "+k+":",dt.ERR_BAD_REQUEST,t));return}C.send(c||null)})},iw=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let l=new AbortController,o;const c=function(g){if(!o){o=!0,f();const y=g instanceof Error?g:this.reason;l.abort(y instanceof dt?y:new Wl(y instanceof Error?y.message:y))}};let d=r&&setTimeout(()=>{d=null,c(new dt(`timeout ${r} of ms exceeded`,dt.ETIMEDOUT))},r);const f=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(c):g.removeEventListener("abort",c)}),t=null)};t.forEach(g=>g.addEventListener("abort",c));const{signal:p}=l;return p.unsubscribe=()=>oe.asap(f),p}},cw=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let l=0,o;for(;l<a;)o=l+r,yield t.slice(l,o),l=o},dw=async function*(t,r){for await(const a of mw(t))yield*cw(a,r)},mw=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:l}=await r.read();if(a)break;yield l}}finally{await r.cancel()}},n0=(t,r,a,l)=>{const o=dw(t,r);let c=0,d,f=p=>{d||(d=!0,l&&l(p))};return new ReadableStream({async pull(p){try{const{done:g,value:y}=await o.next();if(g){f(),p.close();return}let x=y.byteLength;if(a){let S=c+=x;a(S)}p.enqueue(new Uint8Array(y))}catch(g){throw f(g),g}},cancel(p){return f(p),o.return()}},{highWaterMark:2})},s0=64*1024,{isFunction:Yi}=oe,uw=(({Request:t,Response:r})=>({Request:t,Response:r}))(oe.global),{ReadableStream:l0,TextEncoder:o0}=oe.global,i0=(t,...r)=>{try{return!!t(...r)}catch{return!1}},pw=t=>{t=oe.merge.call({skipUndefined:!0},uw,t);const{fetch:r,Request:a,Response:l}=t,o=r?Yi(r):typeof fetch=="function",c=Yi(a),d=Yi(l);if(!o)return!1;const f=o&&Yi(l0),p=o&&(typeof o0=="function"?(N=>E=>N.encode(E))(new o0):async N=>new Uint8Array(await new a(N).arrayBuffer())),g=c&&f&&i0(()=>{let N=!1;const E=new a(Xr.origin,{body:new l0,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!E}),y=d&&f&&i0(()=>oe.isReadableStream(new l("").body)),x={stream:y&&(N=>N.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!x[N]&&(x[N]=(E,C)=>{let w=E&&E[N];if(w)return w.call(E);throw new dt(`Response type '${N}' is not supported`,dt.ERR_NOT_SUPPORT,C)})});const S=async N=>{if(N==null)return 0;if(oe.isBlob(N))return N.size;if(oe.isSpecCompliantForm(N))return(await new a(Xr.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(N)||oe.isArrayBuffer(N))return N.byteLength;if(oe.isURLSearchParams(N)&&(N=N+""),oe.isString(N))return(await p(N)).byteLength},v=async(N,E)=>{const C=oe.toFiniteNumber(N.getContentLength());return C??S(E)};return async N=>{let{url:E,method:C,data:w,signal:k,cancelToken:L,timeout:_,onDownloadProgress:T,onUploadProgress:M,responseType:D,headers:R,withCredentials:O="same-origin",fetchOptions:I}=wx(N),j=r||fetch;D=D?(D+"").toLowerCase():"text";let Y=iw([k,L&&L.toAbortSignal()],_),te=null;const me=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let Q;try{if(M&&g&&C!=="get"&&C!=="head"&&(Q=await v(R,w))!==0){let z=new a(E,{method:"POST",body:w,duplex:"half"}),G;if(oe.isFormData(w)&&(G=z.headers.get("content-type"))&&R.setContentType(G),z.body){const[V,fe]=t0(Q,Sc(r0(M)));w=n0(z.body,s0,V,fe)}}oe.isString(O)||(O=O?"include":"omit");const ue=c&&"credentials"in a.prototype,ie={...I,signal:Y,method:C.toUpperCase(),headers:R.normalize().toJSON(),body:w,duplex:"half",credentials:ue?O:void 0};te=c&&new a(E,ie);let H=await(c?j(te,I):j(E,ie));const B=y&&(D==="stream"||D==="response");if(y&&(T||B&&me)){const z={};["status","statusText","headers"].forEach(ge=>{z[ge]=H[ge]});const G=oe.toFiniteNumber(H.headers.get("content-length")),[V,fe]=T&&t0(G,Sc(r0(T),!0))||[];H=new l(n0(H.body,s0,V,()=>{fe&&fe(),me&&me()}),z)}D=D||"text";let X=await x[oe.findKey(x,D)||"text"](H,N);return!B&&me&&me(),await new Promise((z,G)=>{Ex(z,G,{data:X,headers:Na.from(H.headers),status:H.status,statusText:H.statusText,config:N,request:te})})}catch(ue){throw me&&me(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,N,te),{cause:ue.cause||ue}):dt.from(ue,ue&&ue.code,N,te)}}},fw=new Map,Sx=t=>{let r=t&&t.env||{};const{fetch:a,Request:l,Response:o}=r,c=[l,o,a];let d=c.length,f=d,p,g,y=fw;for(;f--;)p=c[f],g=y.get(p),g===void 0&&y.set(p,g=f?new Map:pw(r)),y=g;return g};Sx();const rp={http:LN,xhr:ow,fetch:{get:Sx}};oe.forEach(rp,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const c0=t=>`- ${t}`,gw=t=>oe.isFunction(t)||t===null||t===!1;function hw(t,r){t=oe.isArray(t)?t:[t];const{length:a}=t;let l,o;const c={};for(let d=0;d<a;d++){l=t[d];let f;if(o=l,!gw(l)&&(o=rp[(f=String(l)).toLowerCase()],o===void 0))throw new dt(`Unknown adapter '${f}'`);if(o&&(oe.isFunction(o)||(o=o.get(r))))break;c[f||"#"+d]=o}if(!o){const d=Object.entries(c).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=a?d.length>1?`since :
`+d.map(c0).join(`
`):" "+c0(d[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o}const kx={getAdapter:hw,adapters:rp};function Om(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wl(null,t)}function d0(t){return Om(t),t.headers=Na.from(t.headers),t.data=jm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kx.getAdapter(t.adapter||Go.adapter,t)(t).then(function(l){return Om(t),l.data=jm.call(t,t.transformResponse,l),l.headers=Na.from(l.headers),l},function(l){return vx(l)||(Om(t),l&&l.response&&(l.response.data=jm.call(t,t.transformResponse,l.response),l.response.headers=Na.from(l.response.headers))),Promise.reject(l)})}const Cx="1.13.2",Uc={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Uc[t]=function(l){return typeof l===t||"a"+(r<1?"n ":" ")+t}});const m0={};Uc.transitional=function(r,a,l){function o(c,d){return"[Axios v"+Cx+"] Transitional option '"+c+"'"+d+(l?". "+l:"")}return(c,d,f)=>{if(r===!1)throw new dt(o(d," has been removed"+(a?" in "+a:"")),dt.ERR_DEPRECATED);return a&&!m0[d]&&(m0[d]=!0,console.warn(o(d," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(c,d,f):!0}};Uc.spelling=function(r){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${r}`),!0)};function xw(t,r,a){if(typeof t!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let o=l.length;for(;o-- >0;){const c=l[o],d=r[c];if(d){const f=t[c],p=f===void 0||d(f,c,t);if(p!==!0)throw new dt("option "+c+" must be "+p,dt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new dt("Unknown option "+c,dt.ERR_BAD_OPTION)}}const dc={assertOptions:xw,validators:Uc},xn=dc.validators;let Hs=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Zg,response:new Zg}}async request(r,a){try{return await this._request(r,a)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?c&&!String(l.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+c):l.stack=c}catch{}}throw l}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Ks(this.defaults,a);const{transitional:l,paramsSerializer:o,headers:c}=a;l!==void 0&&dc.assertOptions(l,{silentJSONParsing:xn.transitional(xn.boolean),forcedJSONParsing:xn.transitional(xn.boolean),clarifyTimeoutError:xn.transitional(xn.boolean)},!1),o!=null&&(oe.isFunction(o)?a.paramsSerializer={serialize:o}:dc.assertOptions(o,{encode:xn.function,serialize:xn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),dc.assertOptions(a,{baseUrl:xn.spelling("baseURL"),withXsrfToken:xn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&oe.merge(c.common,c[a.method]);c&&oe.forEach(["delete","get","head","post","put","patch","common"],N=>{delete c[N]}),a.headers=Na.concat(d,c);const f=[];let p=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(a)===!1||(p=p&&E.synchronous,f.unshift(E.fulfilled,E.rejected))});const g=[];this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});let y,x=0,S;if(!p){const N=[d0.bind(this),void 0];for(N.unshift(...f),N.push(...g),S=N.length,y=Promise.resolve(a);x<S;)y=y.then(N[x++],N[x++]);return y}S=f.length;let v=a;for(;x<S;){const N=f[x++],E=f[x++];try{v=N(v)}catch(C){E.call(this,C);break}}try{y=d0.call(this,v)}catch(N){return Promise.reject(N)}for(x=0,S=g.length;x<S;)y=y.then(g[x++],g[x++]);return y}getUri(r){r=Ks(this.defaults,r);const a=Nx(r.baseURL,r.url,r.allowAbsoluteUrls);return xx(a,r.params,r.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(r){Hs.prototype[r]=function(a,l){return this.request(Ks(l||{},{method:r,url:a,data:(l||{}).data}))}});oe.forEach(["post","put","patch"],function(r){function a(l){return function(c,d,f){return this.request(Ks(f||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Hs.prototype[r]=a(),Hs.prototype[r+"Form"]=a(!0)});let yw=class Ax{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const l=this;this.promise.then(o=>{if(!l._listeners)return;let c=l._listeners.length;for(;c-- >0;)l._listeners[c](o);l._listeners=null}),this.promise.then=o=>{let c;const d=new Promise(f=>{l.subscribe(f),c=f}).then(o);return d.cancel=function(){l.unsubscribe(c)},d},r(function(c,d,f){l.reason||(l.reason=new Wl(c,d,f),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=l=>{r.abort(l)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new Ax(function(o){r=o}),cancel:r}}};function bw(t){return function(a){return t.apply(null,a)}}function vw(t){return oe.isObject(t)&&t.isAxiosError===!0}const Tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tu).forEach(([t,r])=>{Tu[r]=t});function _x(t){const r=new Hs(t),a=sx(Hs.prototype.request,r);return oe.extend(a,Hs.prototype,r,{allOwnKeys:!0}),oe.extend(a,r,null,{allOwnKeys:!0}),a.create=function(o){return _x(Ks(t,o))},a}const gr=_x(Go);gr.Axios=Hs;gr.CanceledError=Wl;gr.CancelToken=yw;gr.isCancel=vx;gr.VERSION=Cx;gr.toFormData=qc;gr.AxiosError=dt;gr.Cancel=gr.CanceledError;gr.all=function(r){return Promise.all(r)};gr.spread=bw;gr.isAxiosError=vw;gr.mergeConfig=Ks;gr.AxiosHeaders=Na;gr.formToJSON=t=>bx(oe.isHTMLForm(t)?new FormData(t):t);gr.getAdapter=kx.getAdapter;gr.HttpStatusCode=Tu;gr.default=gr;const{Axios:_A,AxiosError:PA,CanceledError:TA,isCancel:LA,CancelToken:MA,VERSION:RA,all:IA,Cancel:jA,isAxiosError:OA,spread:zA,toFormData:DA,AxiosHeaders:FA,HttpStatusCode:$A,formToJSON:BA,getAdapter:VA,mergeConfig:qA}=gr;var $l;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})($l||($l={}));class zm extends Error{constructor(r,a,l){super(r),this.message=r,this.code=a,this.data=l}}const Ew=t=>{var r,a;return t?.androidBridge?"android":!((a=(r=t?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},Nw=t=>{const r=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},o=()=>r!==null?r.name:Ew(t),c=()=>o()!=="web",d=x=>{const S=g.get(x);return!!(S?.platforms.has(o())||f(x))},f=x=>{var S;return(S=a.PluginHeaders)===null||S===void 0?void 0:S.find(v=>v.name===x)},p=x=>t.console.error(x),g=new Map,y=(x,S={})=>{const v=g.get(x);if(v)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),v.proxy;const N=o(),E=f(x);let C;const w=async()=>(!C&&N in S?C=typeof S[N]=="function"?C=await S[N]():C=S[N]:r!==null&&!C&&"web"in S&&(C=typeof S.web=="function"?C=await S.web():C=S.web),C),k=(R,O)=>{var I,j;if(E){const Y=E?.methods.find(te=>O===te.name);if(Y)return Y.rtype==="promise"?te=>a.nativePromise(x,O.toString(),te):(te,me)=>a.nativeCallback(x,O.toString(),te,me);if(R)return(I=R[O])===null||I===void 0?void 0:I.bind(R)}else{if(R)return(j=R[O])===null||j===void 0?void 0:j.bind(R);throw new zm(`"${x}" plugin is not implemented on ${N}`,$l.Unimplemented)}},L=R=>{let O;const I=(...j)=>{const Y=w().then(te=>{const me=k(te,R);if(me){const Q=me(...j);return O=Q?.remove,Q}else throw new zm(`"${x}.${R}()" is not implemented on ${N}`,$l.Unimplemented)});return R==="addListener"&&(Y.remove=async()=>O()),Y};return I.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:R,writable:!1,configurable:!1}),I},_=L("addListener"),T=L("removeListener"),M=(R,O)=>{const I=_({eventName:R},O),j=async()=>{const te=await I;T({eventName:R,callbackId:te},O)},Y=new Promise(te=>I.then(()=>te({remove:j})));return Y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await j()},Y},D=new Proxy({},{get(R,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?M:_;case"removeListener":return T;default:return L(O)}}});return l[x]=D,g.set(x,{name:x,proxy:D,platforms:new Set([...Object.keys(S),...E?[N]:[]])}),D};return a.convertFileSrc||(a.convertFileSrc=x=>x),a.getPlatform=o,a.handleError=p,a.isNativePlatform=c,a.isPluginAvailable=d,a.registerPlugin=y,a.Exception=zm,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},ww=t=>t.Capacitor=Nw(t),Bl=ww(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hc=Bl.registerPlugin;class ap{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,a){let l=!1;this.listeners[r]||(this.listeners[r]=[],l=!0),this.listeners[r].push(a);const c=this.windowListeners[r];c&&!c.registered&&this.addWindowListener(c),l&&this.sendRetainedArgumentsForEvent(r);const d=async()=>this.removeListener(r,a);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,l){const o=this.listeners[r];if(!o){if(l){let c=this.retainedEventArguments[r];c||(c=[]),c.push(a),this.retainedEventArguments[r]=c}return}o.forEach(c=>c(a))}hasListeners(r){var a;return!!(!((a=this.listeners[r])===null||a===void 0)&&a.length)}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:l=>{this.notifyListeners(a,l)}}}unimplemented(r="not implemented"){return new Bl.Exception(r,$l.Unimplemented)}unavailable(r="not available"){return new Bl.Exception(r,$l.Unavailable)}async removeListener(r,a){const l=this.listeners[r];if(!l)return;const o=l.indexOf(a);this.listeners[r].splice(o,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(l=>{this.notifyListeners(r,l)}))}}const u0=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),p0=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Sw extends ap{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(l=>{if(l.length<=0)return;let[o,c]=l.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=p0(o).trim(),c=p0(c).trim(),a[o]=c}),a}async setCookie(r){try{const a=u0(r.key),l=u0(r.value),o=`; expires=${(r.expires||"").replace("expires=","")}`,c=(r.path||"/").replace("path=",""),d=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${l||""}${o}; path=${c}; ${d};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}Hc("CapacitorCookies",{web:()=>new Sw});const kw=async t=>new Promise((r,a)=>{const l=new FileReader;l.onload=()=>{const o=l.result;r(o.indexOf(",")>=0?o.split(",")[1]:o)},l.onerror=o=>a(o),l.readAsDataURL(t)}),Cw=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,c,d)=>(o[c]=t[r[d]],o),{})},Aw=(t,r=!0)=>t?Object.entries(t).reduce((l,o)=>{const[c,d]=o;let f,p;return Array.isArray(d)?(p="",d.forEach(g=>{f=r?encodeURIComponent(g):g,p+=`${c}=${f}&`}),p.slice(0,-1)):(f=r?encodeURIComponent(d):d,p=`${c}=${f}`),`${l}&${p}`},"").substr(1):null,_w=(t,r={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},r),o=Cw(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[d,f]of Object.entries(t.data||{}))c.set(d,f);a.body=c.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const c=new FormData;if(t.data instanceof FormData)t.data.forEach((f,p)=>{c.append(p,f)});else for(const f of Object.keys(t.data))c.append(f,t.data[f]);a.body=c;const d=new Headers(a.headers);d.delete("content-type"),a.headers=d}else(o.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class Pw extends ap{async request(r){const a=_w(r,r.webFetchExtra),l=Aw(r.params,r.shouldEncodeUrlParams),o=l?`${r.url}?${l}`:r.url,c=await fetch(o,a),d=c.headers.get("content-type")||"";let{responseType:f="text"}=c.ok?r:{};d.includes("application/json")&&(f="json");let p,g;switch(f){case"arraybuffer":case"blob":g=await c.blob(),p=await kw(g);break;case"json":p=await c.json();break;default:p=await c.text()}const y={};return c.headers.forEach((x,S)=>{y[S]=x}),{data:p,headers:y,status:c.status,url:c.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}Hc("CapacitorHttp",{web:()=>new Pw});var f0;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(f0||(f0={}));var g0;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(g0||(g0={}));class Tw extends ap{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Hc("SystemBars",{web:()=>new Tw});const ee=gr.create({baseURL:"http://localhost:5001/api",withCredentials:!0}),Lw=120*1e3,Mw="hdmarket:api-cache:",Rw=["/products/public","/shops","/settings","/search","/categories","/cities","/users/notifications"],Iw=["/users","/cart","/orders","/admin","/payments","/support","/chat"],jw=()=>Bl.isNativePlatform(),Px=t=>{const r=t.url||"",a=t.baseURL||"";if(r.startsWith("http"))try{const l=new URL(r);return l.pathname+l.search}catch{return r.replace(a,"")}return r.replace(a,"")},Tx=t=>{const r=Px(t),a=t.params?new URLSearchParams(t.params).toString():"",l=a?r.includes("?")?`&${a}`:`?${a}`:"";return`${Mw}${r}${l}`},Ow=t=>{if(typeof window>"u")return null;const r=window.localStorage.getItem(t);if(!r)return null;try{const a=JSON.parse(r);return!a||typeof a!="object"?null:Date.now()-a.timestamp>Lw?(window.localStorage.removeItem(t),null):a.data}catch{return window.localStorage.removeItem(t),null}},zw=(t,r)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify({timestamp:Date.now(),data:r}))}catch{}},Lx=t=>{if(!jw()||(t.method||"get").toLowerCase()!=="get"||t.skipCache||t.headers?.["x-skip-cache"])return!1;const r=Px(t);return!r.startsWith("/")||Iw.some(a=>r.startsWith(a))?!1:Rw.some(a=>r.startsWith(a))};ee.interceptors.request.use(t=>{t.headers=t.headers||{};const r=localStorage.getItem("qm_token");if(r&&(t.headers.Authorization=`Bearer ${r}`),Lx(t)){const a=Tx(t),l=Ow(a);l?t.adapter=async()=>({data:l,status:200,statusText:"OK",headers:{"x-cache":"HIT"},config:t,request:{fromCache:!0}}):t.__cacheKey=a}return t});ee.interceptors.response.use(t=>{if(Lx(t.config)){const r=t.config.__cacheKey||Tx(t.config);r&&t.status===200&&zw(r,t.data)}return t},t=>{if(!t.response){const r="Impossible de joindre le serveur. Vrifiez votre connexion internet et ressayez.";window.dispatchEvent(new CustomEvent("hdmarket:network-error",{detail:{message:r},bubbles:!0,cancelable:!1}))}return Promise.reject(t)});class Mo extends Error{}Mo.prototype.name="InvalidTokenError";function Dw(t){return decodeURIComponent(atob(t).replace(/(.)/g,(r,a)=>{let l=a.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function Fw(t){let r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Dw(r)}catch{return atob(r)}}function $w(t,r){if(typeof t!="string")throw new Mo("Invalid token specified: must be a string");r||(r={});const a=r.header===!0?0:1,l=t.split(".")[a];if(typeof l!="string")throw new Mo(`Invalid token specified: missing part #${a+1}`);let o;try{o=Fw(l)}catch(c){throw new Mo(`Invalid token specified: invalid base64 for part #${a+1} (${c.message})`)}try{return JSON.parse(o)}catch(c){throw new Mo(`Invalid token specified: invalid json for part #${a+1} (${c.message})`)}}const Bt=u.createContext(),Bw=()=>{if(typeof window>"u")return null;const t=window.localStorage.getItem("qm_token");if(!t)return null;try{const r=$w(t),a=window.localStorage.getItem("qm_user");let l={};if(a)try{l=JSON.parse(a)}catch{l={}}const o={...l,shopHours:Array.isArray(l.shopHours)?l.shopHours:[],shopVerified:!!l.shopVerified,phoneVerified:!!l.phoneVerified,followingShops:Array.isArray(l.followingShops)?l.followingShops:[]};return{id:r.id,role:r.role,token:t,...o}}catch{return window.localStorage.removeItem("qm_token"),window.localStorage.removeItem("qm_user"),null}},Vw=({children:t})=>{const[r,a]=u.useState(()=>Bw()),l=f=>{const{token:p,...g}=f||{};try{localStorage.setItem("qm_user",JSON.stringify(g))}catch{}},o=f=>{localStorage.setItem("qm_token",f.token);const p={id:f._id,role:f.role,token:f.token,name:f.name,email:f.email,phone:f.phone,phoneVerified:!!f.phoneVerified,accountType:f.accountType||"person",shopName:f.shopName||"",shopAddress:f.shopAddress||"",shopLogo:f.shopLogo||"",shopBanner:f.shopBanner||"",shopDescription:f.shopDescription||"",shopHours:Array.isArray(f.shopHours)?f.shopHours:[],shopVerified:!!f.shopVerified,followingShops:Array.isArray(f.followingShops)?f.followingShops:[],country:f.country||"Rpublique du Congo",address:f.address||"",city:f.city||"",gender:f.gender||""};l(p),a(p)},c=()=>{localStorage.removeItem("qm_token"),localStorage.removeItem("qm_user"),a(null)};u.useEffect(()=>{(async()=>{if(r?.token)try{const{data:p}=await ee.get("/users/profile");d(p)}catch(p){if(p.response?.status===401)c();else if(p.response?.status===403&&p.response?.data?.code==="ACCOUNT_BLOCKED"){const g=p.response?.data?.message||"Votre compte est suspendu. Contactez ladministrateur pour plus dinformations.";c(),alert(g)}}})()},[r?.token]);const d=f=>{a(p=>{if(!p)return p;const g={...p,...f};return l(g),g})};return e.createElement(Bt.Provider,{value:{user:r,login:o,logout:c,updateUser:d}},t)},Ml={items:[],totals:{quantity:0,subtotal:0},updatedAt:null},Gl=u.createContext({cart:Ml,loading:!1,error:"",addItem:async()=>{},updateItem:async()=>{},removeItem:async()=>{},clearCart:async()=>{},refresh:async()=>{}}),qw=({children:t})=>{const{user:r}=u.useContext(Bt),[a,l]=u.useState(Ml),[o,c]=u.useState(!1),[d,f]=u.useState(""),p=u.useCallback(E=>{l(E?{items:E.items||[],totals:E.totals||{quantity:0,subtotal:0},updatedAt:E.updatedAt||null}:Ml)},[]),g=u.useCallback(async()=>{if(!r){l(Ml),f("");return}c(!0);try{const{data:E}=await ee.get("/cart");p(E),f("")}catch(E){E.response?.status===401?l(Ml):f(E.response?.data?.message||E.message||"Erreur lors du chargement du panier.")}finally{c(!1)}},[p,r]);u.useEffect(()=>{g()},[g]);const y=u.useCallback(async(E,C=1)=>{if(r){c(!0);try{const{data:w}=await ee.post("/cart/items",{productId:E,quantity:C});p(w),f("")}catch(w){throw f(w.response?.data?.message||w.message||"Impossible dajouter larticle au panier."),w}finally{c(!1)}}},[p,r]),x=u.useCallback(async(E,C)=>{if(r){c(!0);try{if(C<=0){const{data:w}=await ee.delete(`/cart/items/${E}`);p(w)}else{const{data:w}=await ee.put(`/cart/items/${E}`,{quantity:C});p(w)}f("")}catch(w){throw f(w.response?.data?.message||w.message||"Impossible de mettre  jour le panier."),w}finally{c(!1)}}},[p,r]),S=u.useCallback(async E=>{if(r){c(!0);try{const{data:C}=await ee.delete(`/cart/items/${E}`);p(C),f("")}catch(C){throw f(C.response?.data?.message||C.message||"Impossible de retirer larticle."),C}finally{c(!1)}}},[p,r]),v=u.useCallback(async()=>{if(!r){l(Ml);return}c(!0);try{const{data:E}=await ee.delete("/cart");p(E),f("")}catch(E){throw f(E.response?.data?.message||E.message||"Impossible de vider le panier."),E}finally{c(!1)}},[p,r]),N=u.useMemo(()=>({cart:a,loading:o,error:d,addItem:y,updateItem:x,removeItem:S,clearCart:v,refresh:g}),[y,a,v,d,g,o,S,x]);return e.createElement(Gl.Provider,{value:N},t)},Ko=u.createContext({favorites:[],loading:!1,refreshFavorites:()=>Promise.resolve(),addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),toggleFavorite:()=>Promise.resolve(),isFavorite:()=>!1}),Uw=({children:t})=>{const{user:r}=u.useContext(Bt),[a,l]=u.useState([]),[o,c]=u.useState(!1),d=u.useCallback(async()=>{if(!r?.token){l([]);return}c(!0);try{const{data:S}=await ee.get("/users/favorites");l(Array.isArray(S)?S:[])}catch(S){console.error("Impossible de rcuprer les favoris.",S)}finally{c(!1)}},[r?.token]);u.useEffect(()=>{d()},[d]),u.useEffect(()=>{r?.token||(l([]),c(!1))},[r?.token]);const f=u.useCallback(S=>a.some(v=>v._id===S),[a]),p=u.useCallback(async S=>{if(!r?.token||!S?._id)throw new Error("Authentification requise");return await ee.post("/users/favorites",{productId:S._id}),l(v=>v.some(N=>N._id===S._id)?v:[{...S},...v]),!0},[r?.token]),g=u.useCallback(async S=>{if(!r?.token||!S)throw new Error("Authentification requise");return await ee.delete(`/users/favorites/${S}`),l(v=>v.filter(N=>N._id!==S)),!0},[r?.token]),y=u.useCallback(async S=>S?._id?f(S._id)?(await g(S._id),!1):(await p(S),!0):null,[f,p,g]),x=u.useMemo(()=>({favorites:a,loading:o,refreshFavorites:d,addFavorite:p,removeFavorite:g,toggleFavorite:y,isFavorite:f}),[a,o,d,p,g,y,f]);return e.createElement(Ko.Provider,{value:x},t)},h0={waitingPayments:0,unreadFeedback:0};function Hw(t){const[r,a]=u.useState(h0),[l,o]=u.useState(!1),[c,d]=u.useState(""),f=u.useCallback(async()=>{o(!0);try{const{data:p}=await ee.get("/admin/stats");a({waitingPayments:p?.payments?.waiting||0,unreadFeedback:p?.feedback?.unread||0}),d("")}catch(p){d(p.response?.data?.message||p.message||"Erreur lors du chargement des statistiques admin.")}finally{o(!1)}},[]);return u.useEffect(()=>{if(!t){a(h0);return}return f().catch(()=>{}),()=>{}},[t,f]),u.useEffect(()=>{if(!t)return()=>{};const p=()=>{f().catch(()=>{})};return window.addEventListener("hdmarket:admin-counts-refresh",p),()=>{window.removeEventListener("hdmarket:admin-counts-refresh",p)}},[t,f]),{counts:r,loading:l,error:c}}const Ww=Object.freeze({product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,feedback_read:!0}),Mx=()=>({...Ww}),Gw=(t={})=>{const r=Mx();return Object.keys(r).forEach(a=>{typeof t[a]=="boolean"&&(r[a]=t[a])}),r},Qi=()=>({commentAlerts:0,alerts:[],unreadCount:0,preferences:Mx()});function Rx(t){const[r,a]=u.useState(()=>Qi()),[l,o]=u.useState(!1),[c,d]=u.useState(""),f="hdmarket:notifications-refresh",p=u.useCallback(async()=>{if(!t){const x=Qi();return a(x),x}o(!0);try{const{data:x}=await ee.get("/users/notifications"),S=typeof x?.unreadCount=="number"?x.unreadCount:typeof x?.commentAlerts=="number"?x.commentAlerts:0,v=Array.isArray(x?.alerts)?x.alerts:[],N={commentAlerts:S,unreadCount:S,alerts:v,preferences:Gw(x?.preferences)};return a(N),d(""),N}catch(x){return d(x.response?.data?.message||x.message||"Erreur lors du chargement des notifications."),Qi()}finally{o(!1)}},[t]);u.useEffect(()=>{p()},[p]);const g=u.useRef(null),y=u.useRef(null);return u.useEffect(()=>{if(typeof window>"u")return()=>{};const x=()=>{g.current&&(g.current.close(),g.current=null)},S=()=>{y.current&&(clearTimeout(y.current),y.current=null)};if(!t)return x(),S(),a(Qi()),d(""),()=>{x(),S()};const v=window.localStorage.getItem("qm_token");if(!v)return x(),S(),()=>{x(),S()};const N="https://hdmarket-backend.onrender.com/api",E=N.endsWith("/")?N:`${N}/`,C=new URL("users/notifications/stream",E);C.searchParams.set("token",v);const w=()=>{S(),x();const k=new EventSource(C.toString());g.current=k,k.onopen=()=>{p()},k.onmessage=L=>{if(L?.data){try{if(JSON.parse(L.data)?.type==="connected")return}catch{}p()}},k.onerror=()=>{x(),y.current=setTimeout(w,5e3)}};return w(),()=>{x(),S()}},[t,p]),u.useEffect(()=>{const x=()=>{p()};return window.addEventListener(f,x),()=>{window.removeEventListener(f,x)}},[p]),{counts:r,loading:l,error:c,refresh:p}}const Dm=()=>{window.dispatchEvent(new Event("hdmarket:notifications-refresh"))},Kw=(t,r="slug")=>{if(!t)return null;if(typeof t=="string")return t;if(typeof t=="object"){if(t[r])return t[r];if(t._id)return t._id;if(t.id)return t.id;if(t.slug)return t.slug}return null},Ix=(t,r="slug")=>{if(!t)return null;if(typeof t=="string")return t;if(typeof t=="object"){if(t[r])return t[r];if(t.slug)return t.slug}return null},Ft=t=>{const r=Ix(t,"slug");return r?`/product/${r}`:"/product"},Ir=t=>{const r=Kw(t,"slug");return r?`/shop/${r}`:"/shop"},jx=(t,r="")=>{const a=r||(typeof window<"u"?window.location.origin:""),l=Ix(t,"slug");return l?`${a}/product/${l}`:a};const Yw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qw=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,l)=>l?l.toUpperCase():a.toLowerCase()),x0=t=>{const r=Qw(t);return r.charAt(0).toUpperCase()+r.slice(1)},Ox=(...t)=>t.filter((r,a,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===a).join(" ").trim(),Xw=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var Jw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zw=u.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:d,...f},p)=>u.createElement("svg",{ref:p,...Jw,width:r,height:r,stroke:t,strokeWidth:l?Number(a)*24/Number(r):a,className:Ox("lucide",o),...!c&&!Xw(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,y])=>u.createElement(g,y)),...Array.isArray(c)?c:[c]]));const Ae=(t,r)=>{const a=u.forwardRef(({className:l,...o},c)=>u.createElement(Zw,{ref:c,iconNode:r,className:Ox(`lucide-${Yw(x0(t))}`,`lucide-${t}`,l),...o}));return a.displayName=x0(t),a};const e1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],an=Ae("arrow-left",e1);const t1=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],r1=Ae("arrow-up",t1);const a1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zx=Ae("award",a1);const n1=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y0=Ae("ban",n1);const s1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fm=Ae("bell",s1);const l1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Dx=Ae("camera",l1);const o1=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],i1=Ae("car",o1);const c1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jl=Ae("chart-column",c1);const d1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b0=Ae("chevron-down",d1);const m1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],u1=Ae("chevron-left",m1);const p1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],va=Ae("chevron-right",p1);const f1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zn=Ae("circle-alert",f1);const g1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xr=Ae("circle-check-big",g1);const h1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lu=Ae("circle-check",h1);const x1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],y1=Ae("circle-user",x1);const b1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$m=Ae("circle-x",b1);const v1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Qr=Ae("clipboard-list",v1);const E1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yr=Ae("clock",E1);const N1=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],v0=Ae("corner-down-left",N1);const w1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Mu=Ae("credit-card",w1);const S1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],k1=Ae("crown",S1);const C1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],np=Ae("dollar-sign",C1);const A1=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],_1=Ae("dumbbell",A1);const P1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Wc=Ae("eye-off",P1);const T1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kl=Ae("eye",T1);const L1=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],M1=Ae("factory",L1);const R1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bn=Ae("file-text",R1);const I1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fx=Ae("funnel",I1);const j1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],O1=Ae("hash",j1);const z1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],D1=Ae("heart-pulse",z1);const F1=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Dr=Ae("heart",F1);const $1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mc=Ae("house",$1);const B1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$x=Ae("image",B1);const V1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],q1=Ae("layout-grid",V1);const U1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],H1=Ae("loader-circle",U1);const W1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ua=Ae("lock",W1);const G1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],K1=Ae("log-in",G1);const Y1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E0=Ae("log-out",Y1);const Q1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vl=Ae("mail",Q1);const X1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wt=Ae("map-pin",X1);const J1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],N0=Ae("menu",J1);const Z1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],br=Ae("message-circle",Z1);const e2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],On=Ae("message-square",e2);const t2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],w0=Ae("moon",t2);const r2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],vr=Ae("package",r2);const a2=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],uc=Ae("paperclip",a2);const n2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fo=Ae("pen-line",n2);const s2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hs=Ae("phone",s2);const l2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ro=Ae("plus",l2);const o2=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],$o=Ae("refresh-ccw",o2);const i2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c2=Ae("refresh-cw",i2);const d2=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],m2=Ae("reply",d2);const u2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gc=Ae("save",u2);const p2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rn=Ae("search",p2);const f2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bx=Ae("send",f2);const g2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S0=Ae("settings",g2);const h2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],x2=Ae("share-2",h2);const y2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ha=Ae("shield-check",y2);const b2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fr=Ae("shield",b2);const v2=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],E2=Ae("shirt",v2);const N2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pc=Ae("shopping-cart",N2);const w2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ol=Ae("smartphone",w2);const S2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ws=Ae("sparkles",S2);const k2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k0=Ae("square-pen",k2);const C2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],cr=Ae("star",C2);const A2=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],La=Ae("store",A2);const _2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],C0=Ae("sun",_2);const P2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ys=Ae("tag",P2);const T2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sp=Ae("trash-2",T2);const L2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Rl=Ae("trending-up",L2);const M2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bm=Ae("triangle-alert",M2);const R2=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Nr=Ae("truck",R2);const I2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],is=Ae("upload",I2);const j2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kc=Ae("user-plus",j2);const O2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jr=Ae("user",O2);const z2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qs=Ae("users",z2);const D2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vx=Ae("video",D2);const F2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dn=Ae("x",F2);const $2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fc=Ae("zap",$2);const B2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],V2=Ae("zoom-in",B2);function ia({verified:t,showLabel:r=!0,className:a="",verifiedLabel:l="Boutique vrifie",unverifiedLabel:o="Boutique non vrifie"}){const c=t?Ha:fr,d=t?l:o,f=t?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-100 text-gray-500",p=r?"px-2":"px-1.5";return e.createElement("span",{className:`inline-flex items-center gap-1 rounded-full border ${p} py-0.5 text-[11px] font-semibold ${f} ${a}`,"aria-label":d,title:r?void 0:d},e.createElement(c,{size:12}),r?e.createElement("span",null,d):null)}const q2=t=>{if(!t)return"";const r=new Date(t);if(Number.isNaN(r.getTime()))return"";const l=new Date-r,o=Math.floor(l/(1e3*60)),c=Math.floor(l/(1e3*60*60)),d=Math.floor(l/(1e3*60*60*24));return o<1?" l'instant":o<60?`Il y a ${o} min`:c<24?`Il y a ${c} h`:d===1?"Hier":d<7?`Il y a ${d} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:d>365?"numeric":void 0})};function U2(){const t=ea(),{user:r,logout:a}=u.useContext(Bt),{cart:l}=u.useContext(Gl),{favorites:o}=u.useContext(Ko),c=l?.totals?.quantity||0,d=o.length,[f,p]=u.useState(0),[g,y]=u.useState(0),x=r?.role==="admin",S=r?.role==="manager",v=x||S,N=S?"Gestion":"Admin",E=!!(r&&!x),{counts:C}=Hw(v),w=C.waitingPayments||0,k=C.unreadFeedback||0,{counts:L}=Rx(!!r),_=L.commentAlerts||0,T=f>0,M=f>99?"99+":f,D=g>0,R=g>99?"99+":g,[O,I]=u.useState(!1),[j,Y]=u.useState(!1),[te,me]=u.useState(""),[Q,ue]=u.useState([]),[ie,H]=u.useState(!1),[B,X]=u.useState(!1),[z,G]=u.useState(""),[V,fe]=u.useState(!1),[ge,we]=u.useState([]),[Pe,Le]=u.useState(!1),[je,Ye]=u.useState([]),[He,tt]=u.useState(!1),[J,We]=u.useState(""),[Re,De]=u.useState({desktop:"",mobile:""}),[ve,Ne]=u.useState(!1),_e=u.useRef(null),[rt,ut]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<1024),Ke=O&&rt,yt=u.useRef(V),It=Re.desktop||Re.mobile,Vt=Re.mobile||Re.desktop;u.useEffect(()=>{document.documentElement.classList.toggle("dark",j)},[j]),u.useEffect(()=>{if(!r)return p(0),()=>{};let ae=!1,Fe;const F=async()=>{try{const{data:ke}=await ee.get("/orders?limit=50");if(!ae){const Lt=(Array.isArray(ke)?ke:ke?.items||[]).filter(ct=>ct?.status!=="delivered").length;p(Lt)}}catch{ae||p(0)}};return F(),Fe=setInterval(F,6e4),()=>{ae=!0,Fe&&clearInterval(Fe)}},[r]),u.useEffect(()=>{if(!r||x)return y(0),()=>{};let ae=!1,Fe;const F=async()=>{try{const{data:ke}=await ee.get("/orders/seller?limit=50");if(!ae){const Lt=(Array.isArray(ke)?ke:ke?.items||[]).filter(ct=>ct?.status!=="delivered").length;y(Lt)}}catch{ae||y(0)}};return F(),Fe=setInterval(F,6e4),()=>{ae=!0,Fe&&clearInterval(Fe)}},[r,x]);const he=u.useCallback(()=>{_e.current&&(clearTimeout(_e.current),_e.current=null)},[]),Je=u.useCallback(()=>{he(),Ne(!0)},[he]),qe=u.useCallback(()=>{he(),_e.current=setTimeout(()=>{Ne(!1),_e.current=null},1500)},[he]);u.useEffect(()=>()=>{he()},[he]),u.useEffect(()=>{if(typeof window>"u")return;const ae=()=>{ut(window.innerWidth<1024)};return ae(),window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),u.useEffect(()=>{Ke&&(H(!1),fe(!1))},[Ke]),u.useEffect(()=>{yt.current=V},[V]),u.useEffect(()=>{if(typeof document>"u")return;const ae=document.body;return O?ae.style.overflow="hidden":ae.style.overflow="",()=>{ae.style.overflow=""}},[O]),u.useEffect(()=>{if(!te.trim()){ue([]),G("");return}fe(!1);const ae=new AbortController,Fe=setTimeout(async()=>{X(!0),G("");try{const{data:F}=await ee.get(`/search?q=${encodeURIComponent(te)}`,{signal:ae.signal});ue(Array.isArray(F?.products)?F.products:[]),H(!0)}catch(F){F.name!=="CanceledError"&&F.name!=="AbortError"&&(console.error("Search error:",F),G("Erreur lors de la recherche. Veuillez ressayer."),ue([]))}finally{X(!1)}},300);return()=>{clearTimeout(Fe),ae.abort()}},[te]);const nt=u.useCallback(async()=>{if(!r)return we([]),[];Le(!0);try{const{data:ae}=await ee.get("/users/search-history"),Fe=Array.isArray(ae)?ae:[];return we(Fe),Fe}catch{return we([]),[]}finally{Le(!1)}},[r]),bt=async()=>{if(!r){t("/login",{state:{from:"/profile"}});return}await nt(),H(!0),fe(!0)},jt=()=>{fe(!1),H(!1)},jr=async ae=>{if(ae)try{await ee.delete(`/users/search-history/${ae}`),we(Fe=>Fe.filter(F=>F._id!==ae))}catch{}},zt=async()=>{if(r)try{await ee.delete("/users/search-history"),we([])}catch{}},dr=ae=>{const Fe=ae.metadata?.type,F=ae.metadata?.targetSlug,ke=ae.metadata?.targetId,lt=!!F;return Fe==="shop"?lt||ke?Ir(lt?{slug:F}:{_id:ke}):"/shops/verified":lt?Ft({slug:F}):"/shops/verified"},U=ae=>{H(!1),fe(!1);const Fe=te.trim();if(Fe&&r)try{ee.post("/users/search-history",{query:Fe,metadata:{type:ae?.type,targetId:ae?._id,targetSlug:ae?.slug}}).then(F=>{const ke=F.data;ke&&we(lt=>[ke,...lt].slice(0,20))}).catch(()=>{})}catch{}if(me(""),ue([]),ae?.type==="shop"){t(Ir(ae));return}ae?.slug&&t(Ft(ae))},le=ae=>{ae.key==="Enter"&&(ae.preventDefault(),Q.length>0&&U(Q[0]))},Te=ae=>{if(!ae)return;const Fe=dr(ae);Fe&&(jt(),t(Fe))},Tt=()=>e.createElement(e.Fragment,null,B&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3"},e.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-indigo-600 border-t-transparent"}),e.createElement("span",{className:"text-sm text-gray-500"},"Recherche en cours...")),!B&&z&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},e.createElement(zn,{size:16}),z),!B&&!z&&Q.length===0&&te.trim()&&e.createElement("div",{className:"px-4 py-3 text-center text-gray-500"},"Aucun rsultat pour  ",te," "),te.trim()&&e.createElement("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-center"},e.createElement(ce,{to:`/products?search=${encodeURIComponent(te.trim())}`,className:"font-semibold text-indigo-600 hover:text-indigo-500",onClick:()=>{fe(!1),H(!1)}},"Voir tous les rsultats")),Q.map(ae=>e.createElement("button",{key:ae._id,type:"button",onClick:()=>U(ae),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},e.createElement("img",{src:ae.image||ae.shopLogo||"/api/placeholder/60/60",alt:ae.title,className:"h-10 w-10 rounded-lg object-cover border border-gray-200 dark:border-gray-600",onError:Fe=>{Fe.target.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white text-sm block truncate"},ae.title),e.createElement("div",{className:"text-gray-500 text-xs flex items-center gap-2 mt-1 flex-wrap"},e.createElement("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${ae.type==="shop"?"bg-green-100 text-green-700":ae.type==="category"?"bg-blue-100 text-blue-700":"bg-indigo-100 text-indigo-700"}`},ae.type==="shop"?"Boutique":ae.type==="category"?"Catgorie":"Produit"),ae.type==="shop"?e.createElement("span",{className:"flex items-center gap-2 truncate"},ae.shopAddress||"Adresse non renseigne",e.createElement(ia,{verified:!!ae.shopVerified,showLabel:!1})):e.createElement(e.Fragment,null,ae.shopName&&e.createElement("span",{className:"flex items-center gap-2 truncate"},ae.shopName,e.createElement(ia,{verified:!!ae.shopVerified,showLabel:!1})),ae.type!=="category"&&e.createElement("span",{className:"truncate"},ae.category))))))),kt=()=>e.createElement(e.Fragment,null,B&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3"},e.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-indigo-600 border-t-transparent"}),e.createElement("span",{className:"text-sm text-gray-500"},"Recherche en cours...")),!B&&z&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},e.createElement(zn,{size:16}),z),!B&&!z&&Q.length===0&&te.trim()&&e.createElement("div",{className:"px-4 py-3 text-center text-gray-500"},"Aucun rsultat pour  ",te," "),Q.map(ae=>{const Fe=ae.images?.[0]||ae.image||ae.shopLogo||"/api/placeholder/60/60";return e.createElement("button",{key:ae._id||ae.slug||ae.shopId||Fe,type:"button",onClick:()=>U(ae),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors"},e.createElement("img",{src:Fe,alt:ae.title||"Rsultat de recherche",className:"w-12 h-12 rounded-xl object-cover border border-gray-100 dark:border-gray-700",onError:F=>{F.currentTarget.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate"},ae.title),e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2 flex-wrap"},e.createElement("span",{className:`px-2 py-0.5 rounded-full text-[11px] font-semibold ${ae.type==="shop"?"bg-green-100 text-green-700":ae.type==="category"?"bg-blue-100 text-blue-700":"bg-indigo-100 text-indigo-700"}`},ae.type==="shop"?"Boutique":ae.type==="category"?"Catgorie":"Produit"),ae.type==="shop"?e.createElement("span",{className:"flex items-center gap-2 truncate"},ae.shopAddress||"Adresse non renseigne",e.createElement(ia,{verified:!!ae.shopVerified,showLabel:!1})):e.createElement(e.Fragment,null,ae.shopName&&e.createElement("span",{className:"flex items-center gap-2 truncate"},ae.shopName,e.createElement(ia,{verified:!!ae.shopVerified,showLabel:!1})),ae.type!=="category"&&e.createElement("span",{className:"truncate"},ae.category)))))})),Jt=()=>e.createElement("div",{className:"px-4 py-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-sm text-gray-900 dark:text-white space-y-3"},e.createElement("div",{className:"flex items-center justify-between mb-1"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-300"},"Historique des recherches"),e.createElement("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white"},ge.length?`${ge.length} requte(s)`:"Aucune recherche enregistre")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:zt,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Effacer tout"),e.createElement("button",{type:"button","aria-label":"Fermer l'historique",onClick:jt,className:"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},e.createElement(Dn,{size:18})))),e.createElement("div",{className:"space-y-2 max-h-60 overflow-auto"},Pe?e.createElement("div",{className:"space-y-2"},[1,2,3].map(ae=>e.createElement("div",{key:ae,className:"h-10 rounded-xl bg-gray-100 dark:bg-gray-800 animate-pulse"}))):ge.length?ge.map(ae=>{const Fe=ae.metadata?.type==="shop"?"Boutique":ae.metadata?.type==="category"?"Catgorie":"Produit";return e.createElement("div",{key:ae._id,role:"button",tabIndex:0,onClick:()=>Te(ae),onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),Te(ae))},className:"flex items-center justify-between gap-3 rounded-2xl border border-gray-100 dark:border-gray-800 px-3 py-2 bg-white dark:bg-gray-900 hover:border-indigo-200 hover:bg-indigo-50 dark:hover:bg-gray-800 transition-all"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-sm text-gray-900 dark:text-white truncate"},ae.query),e.createElement("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1 flex-wrap"},e.createElement("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold border border-gray-200 dark:border-gray-700"},Fe),e.createElement("span",null,q2(ae.createdAt)))),e.createElement("div",{className:"flex items-center gap-3 flex-shrink-0"},e.createElement("button",{type:"button",onClick:F=>{F.stopPropagation(),Te(ae)},className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Voir"),e.createElement("button",{type:"button",onClick:F=>{F.stopPropagation(),jr(ae._id)},className:"text-gray-400 hover:text-red-500 transition-colors"},e.createElement(sp,{size:16}))))}):e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-300"},"Aucune recherche enregistre pour le moment.")));return u.useEffect(()=>{let ae=!1;return(async()=>{tt(!0),We("");try{const{data:F}=await ee.get("/shops");ae||Ye(Array.isArray(F)?F:[])}catch(F){ae||(console.error("Shops loading error:",F),We("Impossible de charger les boutiques. Vrifiez votre connexion."),Ye([]))}finally{ae||tt(!1)}})(),()=>{ae=!0}},[]),u.useEffect(()=>{let ae=!1;return(async()=>{try{const{data:F}=await ee.get("/settings/app-logo");if(ae)return;De({desktop:F?.appLogoDesktop||"",mobile:F?.appLogoMobile||""})}catch{ae||De({desktop:"",mobile:""})}})(),()=>{ae=!0}},[]),e.createElement(e.Fragment,null,e.createElement("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-lg border-b border-gray-200/50 dark:border-gray-800/50",style:{paddingTop:"env(safe-area-inset-top)"}},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},e.createElement("div",{className:"flex items-center justify-between h-16"},e.createElement(ce,{to:"/",className:"flex items-center space-x-3 group"},It||Vt?e.createElement(e.Fragment,null,e.createElement("img",{src:Vt||It,alt:"Logo HDMarket",className:"h-14 w-14 rounded-xl object-contain border border-gray-200 bg-white shadow-sm sm:hidden"}),e.createElement("img",{src:It||Vt,alt:"Logo HDMarket",className:"hidden h-20 w-auto max-w-[200px] object-contain sm:block"})):e.createElement(e.Fragment,null,e.createElement("div",{className:"w-9 h-9 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105"},e.createElement("span",{className:"text-white font-bold text-sm"},"HD")),e.createElement("div",{className:"hidden sm:flex flex-col"},e.createElement("span",{className:"text-xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"HDMarket"),e.createElement("span",{className:"text-xs text-gray-500 -mt-1"},"Marketplace Premium")))),r&&e.createElement("div",{className:"md:hidden flex items-center gap-2"},e.createElement(ce,{to:"/profile",className:"flex items-center gap-2 p-2 rounded-xl bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border border-indigo-100 dark:border-indigo-800"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center"},e.createElement(y1,{className:"text-white",size:16})),e.createElement("div",{className:"hidden xs:flex flex-col items-start max-w-24"},e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white text-xs truncate"},r.name||"Profil"),e.createElement("span",{className:"text-[10px] text-indigo-600 font-medium"},"Voir profil"))),e.createElement(ce,{to:"/notifications",className:"relative flex items-center gap-2 p-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-100 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Notifications"},e.createElement("div",{className:"w-8 h-8 rounded-full bg-rose-100 dark:bg-rose-900/30 flex items-center justify-center"},e.createElement(Fm,{className:"text-rose-600 dark:text-rose-200",size:16})),e.createElement("div",{className:"hidden xs:flex flex-col items-start"},e.createElement("span",{className:"text-[10px] uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Alertes"),e.createElement("span",{className:"text-xs font-semibold text-gray-900 dark:text-white"},"Voir")),_>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full"},_)),e.createElement(ce,{to:"/orders",className:"relative flex items-center gap-2 p-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-100 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Mes commandes"},e.createElement("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center"},e.createElement(Qr,{className:"text-indigo-600 dark:text-indigo-200",size:16})),e.createElement("div",{className:"hidden xs:flex flex-col items-start"},e.createElement("span",{className:"text-[10px] uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Commandes"),e.createElement("span",{className:"text-xs font-semibold text-gray-900 dark:text-white"},"Suivre")),T&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-indigo-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full"},M)),E&&e.createElement(ce,{to:"/seller/orders",className:"relative flex items-center gap-2 p-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-100 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Commandes clients"},e.createElement("div",{className:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center"},e.createElement(vr,{className:"text-emerald-600 dark:text-emerald-200",size:16})),e.createElement("div",{className:"hidden xs:flex flex-col items-start"},e.createElement("span",{className:"text-[10px] uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Ventes"),e.createElement("span",{className:"text-xs font-semibold text-gray-900 dark:text-white"},"Commandes")),D&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full"},R)),v&&e.createElement(ce,{to:"/admin/orders",className:"relative flex items-center gap-2 p-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-100 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Commandes admin"},e.createElement("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},e.createElement(Qr,{className:"text-amber-600 dark:text-amber-200",size:16})),e.createElement("div",{className:"hidden xs:flex flex-col items-start"},e.createElement("span",{className:"text-[10px] uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Admin"),e.createElement("span",{className:"text-xs font-semibold text-gray-900 dark:text-white"},"Commandes")))),e.createElement("div",{className:"hidden md:flex items-center gap-2"},e.createElement(_t,{to:"/",className:({isActive:ae})=>`flex items-center gap-2 px-3 py-2 rounded-xl transition-all duration-200 ${ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"}`},e.createElement(mc,{size:18}),e.createElement("span",{className:"font-medium"},"Accueil")),e.createElement("div",{className:"relative"},e.createElement("button",{onClick:()=>{window.matchMedia("(max-width: 767px)").matches&&(t("/shops/verified"),Ne(!1))},onMouseEnter:ae=>{window.matchMedia("(max-width: 767px)").matches||Je()},onMouseLeave:ae=>{window.matchMedia("(max-width: 767px)").matches||qe()},className:"flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(La,{size:18}),e.createElement("span",{className:"font-medium"},"Boutiques"),e.createElement(b0,{size:16,className:`transition-transform duration-200 ${ve?"rotate-180":""}`})),ve&&e.createElement("div",{className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl z-40 overflow-hidden",onMouseEnter:Je,onMouseLeave:qe},e.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between gap-3"},e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white"},"Nos Boutiques"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Dcouvrez nos vendeurs professionnels")),e.createElement(ce,{to:"/shops/verified",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500",onClick:()=>Ne(!1)},"Tout voir ")),e.createElement("div",{className:"max-h-96 overflow-auto"},He?e.createElement("div",{className:"p-4 flex items-center justify-center"},e.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-indigo-600 border-t-transparent"})):J?e.createElement("div",{className:"p-4 text-center text-red-500 text-sm flex items-center justify-center gap-2"},e.createElement(zn,{size:16}),J):je.length===0?e.createElement("div",{className:"p-4 text-center text-gray-500 text-sm"},"Aucune boutique enregistre pour le moment."):e.createElement("div",{className:"p-2"},je.map(ae=>e.createElement(ce,{key:ae._id,to:Ir(ae),className:"flex items-center gap-3 rounded-xl p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",onClick:()=>Ne(!1)},e.createElement("img",{src:ae.shopLogo||"/api/placeholder/60/60",alt:ae.shopName,className:"h-12 w-12 rounded-xl object-cover border border-gray-200 dark:border-gray-600 group-hover:border-indigo-300 transition-colors",onError:Fe=>{Fe.target.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white text-sm block group-hover:text-indigo-600 transition-colors"},ae.shopName),e.createElement(ia,{verified:!!ae.shopVerified,showLabel:!1})),e.createElement("span",{className:"text-xs text-gray-500 block mt-1 truncate"},ae.shopAddress||"Adresse non renseigne"),e.createElement("span",{className:"text-xs text-indigo-600 font-semibold"},ae.productCount||0," annonce",ae.productCount>1?"s":"")))))))),r&&e.createElement(e.Fragment,null,r.accountType==="shop"&&e.createElement(_t,{to:"/my/stats",className:({isActive:ae})=>`flex items-center gap-2 px-3 py-2 rounded-xl transition-all duration-200 ${ae?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"}`},e.createElement(jl,{size:18}),e.createElement("span",{className:"font-medium"},"Statistiques")),e.createElement(_t,{to:"/notifications",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(Fm,{size:18}),e.createElement("span",{className:"font-medium"},"Notifications"),_>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},_)),E&&e.createElement(_t,{to:"/seller/orders",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(vr,{size:18}),e.createElement("span",{className:"font-medium"},"Commandes clients"),D&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},R))),v&&e.createElement(_t,{to:"/admin",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-all duration-200"},e.createElement(S0,{size:18}),e.createElement("span",{className:"font-medium"},N),w>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-black text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},w)),v&&e.createElement(_t,{to:"/admin/orders",className:"flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(Qr,{size:18}),e.createElement("span",{className:"font-medium"},"Commandes")),x&&e.createElement(_t,{to:"/admin/feedback",className:"flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(On,{size:18}),e.createElement("span",{className:"font-medium"},"Avis amlioration"),k>0&&e.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},k>99?"99+":k)),e.createElement(_t,{to:"/favorites",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(Dr,{size:18}),e.createElement("span",{className:"font-medium"},"Favoris"),d>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-pink-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},d)),e.createElement(_t,{to:"/cart",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},e.createElement(pc,{size:18}),e.createElement("span",{className:"font-medium"},"Panier"),c>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-indigo-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},c)),e.createElement("button",{onClick:()=>Y(ae=>!ae),className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":j?"Activer le mode clair":"Activer le mode sombre"},j?e.createElement(C0,{size:18}):e.createElement(w0,{size:18})),r?e.createElement("div",{className:"relative group"},e.createElement("button",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center"},e.createElement("span",{className:"text-white font-semibold text-sm"},r.name?.charAt(0)?.toUpperCase()||"U")),e.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200 max-w-24 truncate hidden lg:block"},r.name||"Mon compte"),e.createElement(b0,{size:16,className:"text-gray-500 hidden lg:block"})),e.createElement("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50"},e.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white truncate"},r.name||"Utilisateur"),e.createElement("p",{className:"text-sm text-gray-500 truncate"},r.email)),e.createElement("div",{className:"p-2"},e.createElement(ce,{to:"/profile",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Jr,{size:16}),e.createElement("span",null,"Mon profil")),e.createElement(ce,{to:"/my",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(vr,{size:16}),e.createElement("span",null,"Mes annonces")),e.createElement(ce,{to:"/orders",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Qr,{size:16}),e.createElement("span",null,"Mes commandes"),T&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},M)),v&&e.createElement(ce,{to:"/admin/delivery-guys",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Nr,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Livreurs")),r?.role==="admin"&&e.createElement(ce,{to:"/admin/chat-templates",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(On,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Chat templates")),r?.role==="admin"&&e.createElement(ce,{to:"/admin/product-boosts",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Ws,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Boost produits")),e.createElement(ce,{to:"/my/stats",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(jl,{size:16}),e.createElement("span",null,"Statistiques")),e.createElement("button",{onClick:a,className:"flex items-center gap-3 px-3 py-2 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left"},e.createElement(E0,{size:16}),e.createElement("span",null,"Dconnexion"))))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement(_t,{to:"/login",className:"px-3 py-2 rounded-xl border border-indigo-600 text-indigo-600 font-medium hover:bg-indigo-50 transition-all duration-200"},"Connexion"),e.createElement(_t,{to:"/register",className:"px-3 py-2 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium hover:from-indigo-700 hover:to-purple-700 shadow-lg hover:shadow-xl transition-all duration-200"},"Inscription"))),e.createElement("button",{onClick:()=>I(!O),className:"md:hidden flex items-center justify-center w-9 h-9 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":O?"Fermer le menu":"Ouvrir le menu"},O?e.createElement(Dn,{size:20}):e.createElement(N0,{size:20})))),!Ke&&e.createElement("div",{className:"hidden lg:block mt-2 border-t border-gray-200 dark:border-gray-800 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3"},e.createElement("div",{className:"flex items-center justify-center"},e.createElement("div",{className:"w-full max-w-2xl"},e.createElement("div",{className:"relative"},e.createElement(rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.createElement("input",{type:"text",value:te,onChange:ae=>me(ae.target.value),placeholder:"Rechercher des produits, marques, catgories ou boutiques...",className:"w-full pl-12 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-all duration-200 placeholder-gray-500 text-sm",onFocus:()=>H(!0),onKeyDown:le,onBlur:()=>setTimeout(()=>H(!1),150)}),e.createElement("div",{className:"absolute right-4 top-full mt-2 text-xs text-indigo-600 dark:text-indigo-400"},e.createElement("button",{onClick:bt,className:"font-semibold hover:underline"},"Historique")),ie&&e.createElement("div",{className:"absolute top-14 left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-80 overflow-auto z-50 w-full"},V?Jt():Tt())))))),e.createElement("div",{className:`lg:hidden mt-2 border-t border-gray-200 dark:border-gray-800 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm mb-6 ${Ke?"hidden":""}`},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3"},e.createElement("div",{className:"relative"},e.createElement(rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{type:"text",value:te,onChange:ae=>me(ae.target.value),placeholder:"Rechercher produits, boutiques...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-all duration-200 text-base sm:text-sm",onFocus:()=>H(!0),onKeyDown:le,onBlur:()=>setTimeout(()=>H(!1),150)}),e.createElement("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs text-indigo-600 dark:text-indigo-400"},e.createElement("button",{onClick:bt,className:"font-semibold hover:underline"},"Historique")),ie&&e.createElement("div",{className:"absolute top-12 left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-auto z-40"},V?Jt():kt()))))),O&&e.createElement("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm mt-16"},e.createElement("div",{className:"bg-white dark:bg-gray-900 h-full overflow-y-auto pb-32"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-3"},e.createElement(_t,{to:"/",onClick:()=>I(!1),className:({isActive:ae})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(mc,{size:20}),"Accueil"),e.createElement(_t,{to:"/shops/verified",onClick:()=>I(!1),className:({isActive:ae})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(La,{size:20}),"Boutiques"),e.createElement(_t,{to:"/suggestions",onClick:()=>I(!1),className:({isActive:ae})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(Ws,{size:20}),"Suggestions"),r&&e.createElement(e.Fragment,null,e.createElement(_t,{to:"/my",onClick:()=>I(!1),className:({isActive:ae})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(vr,{size:20}),"Mes annonces"),r.accountType==="shop"&&e.createElement(_t,{to:"/my/stats",onClick:()=>I(!1),className:({isActive:ae})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ae?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(jl,{size:20}),"Statistiques"),e.createElement(_t,{to:"/notifications",onClick:()=>I(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Fm,{size:20}),"Notifications",_>0&&e.createElement("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"},_)),e.createElement(_t,{to:"/orders",onClick:()=>I(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Qr,{size:20}),"Mes commandes",T&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},M)),E&&e.createElement(_t,{to:"/seller/orders",onClick:()=>I(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(vr,{size:20}),"Commandes clients",D&&e.createElement("span",{className:"ml-auto bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full"},R)),v&&e.createElement(_t,{to:"/admin/orders",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Qr,{size:20}),"Commandes admin"),x&&e.createElement(_t,{to:"/admin/feedback",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(On,{size:20}),"Avis amlioration",k>0&&e.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full"},k>99?"99+":k)),v&&e.createElement(_t,{to:"/admin/delivery-guys",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Nr,{size:20}),"Livreurs")),v&&e.createElement(e.Fragment,null,e.createElement(_t,{to:"/admin",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-medium hover:bg-amber-200 dark:hover:bg-amber-900/30 transition-colors"},e.createElement(S0,{size:20}),S?"Espace gestionnaire":"Administration",w>0&&e.createElement("span",{className:"ml-auto bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},w)),r?.role==="admin"&&e.createElement(e.Fragment,null,e.createElement(_t,{to:"/admin/chat-templates",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},e.createElement(On,{size:20}),"Chat templates"),e.createElement(_t,{to:"/admin/product-boosts",onClick:()=>I(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},e.createElement(Ws,{size:20}),"Boost produits"))),e.createElement(_t,{to:"/favorites",onClick:()=>I(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Dr,{size:20}),"Favoris",d>0&&e.createElement("span",{className:"ml-auto bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full"},d)),e.createElement(_t,{to:"/cart",onClick:()=>I(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(pc,{size:20}),"Panier",c>0&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},c)),e.createElement("button",{onClick:()=>Y(!j),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},j?e.createElement(C0,{size:20}):e.createElement(w0,{size:20}),j?"Mode clair":"Mode sombre"),r?e.createElement("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800"},e.createElement("button",{onClick:()=>{a(),I(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},e.createElement(E0,{size:20}),"Dconnexion")):e.createElement("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-200 dark:border-gray-800"},e.createElement(_t,{to:"/login",onClick:()=>I(!1),className:"px-4 py-3 rounded-xl border border-indigo-600 text-indigo-600 text-center font-medium hover:bg-indigo-50 transition-colors"},"Connexion"),e.createElement(_t,{to:"/register",onClick:()=>I(!1),className:"px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-center font-medium hover:from-indigo-700 hover:to-purple-700 transition-colors"},"Inscription"))))),e.createElement("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 border-t border-gray-200 dark:border-gray-800 shadow-xl backdrop-blur-xl"},e.createElement("div",{className:"max-w-3xl mx-auto px-2 py-2"},e.createElement("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-500 dark:text-gray-300"},e.createElement(_t,{to:"/",className:({isActive:ae})=>`flex flex-col items-center justify-center flex-1 gap-1 py-1 rounded-xl transition-colors text-gray-500 dark:text-gray-300 ${ae?"text-indigo-600":""}`},e.createElement(mc,{size:20}),"Accueil"),e.createElement(_t,{to:"/shops/verified",className:({isActive:ae})=>`flex flex-col items-center justify-center flex-1 gap-1 py-1 rounded-xl transition-colors text-gray-500 dark:text-gray-300 ${ae?"text-indigo-600":""}`,onClick:()=>I(!1)},e.createElement(La,{size:20}),"Boutiques"),e.createElement(_t,{to:"/favorites",className:({isActive:ae})=>`relative flex flex-col items-center justify-center flex-1 gap-1 py-1 rounded-xl transition-colors text-gray-500 dark:text-gray-300 ${ae?"text-pink-600":""}`},e.createElement(Dr,{size:20}),"Favoris",d>0&&e.createElement("span",{className:"absolute -top-1 right-2 bg-pink-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full"},d)),e.createElement(_t,{to:"/cart",className:({isActive:ae})=>`relative flex flex-col items-center justify-center flex-1 gap-1 py-1 rounded-xl transition-colors text-gray-500 dark:text-gray-300 ${ae?"text-indigo-600":""}`},e.createElement(pc,{size:20}),"Panier",c>0&&e.createElement("span",{className:"absolute -top-1 right-2 bg-indigo-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full"},c)),e.createElement("button",{type:"button",onClick:()=>I(!0),className:"flex flex-col items-center justify-center flex-1 gap-1 py-1 rounded-xl text-gray-500 dark:text-gray-300 transition-colors"},e.createElement(N0,{size:20}),"Menu")))),e.createElement("div",{className:"h-16 lg:h-24"}),e.createElement("div",{className:"md:hidden h-20"}))}function H2(){const t=new Date().getFullYear();return e.createElement("footer",{className:"hidden md:block bg-gray-900 text-gray-300"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 grid gap-8 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-indigo-400 uppercase tracking-widest"},"ETS HD Tech Filial"),e.createElement("h3",{className:"mt-2 text-xl font-bold text-white"},"HDMarket"),e.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Marketplace premium opre par ETS HD Tech Filial. Achetez et vendez en toute confiance, partout au Congo.")),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Navigation"),e.createElement("ul",{className:"mt-3 space-y-2 text-sm"},e.createElement("li",null,e.createElement(ce,{to:"/",className:"hover:text-white"},"Accueil")),e.createElement("li",null,e.createElement(ce,{to:"/products",className:"hover:text-white"},"Produits")),e.createElement("li",null,e.createElement(ce,{to:"/top-deals",className:"hover:text-white"},"Bons plans")),e.createElement("li",null,e.createElement(ce,{to:"/help",className:"hover:text-white"},"Aide et service client")))),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Support"),e.createElement("ul",{className:"mt-3 space-y-2 text-sm"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Vl,{size:16,className:"text-indigo-400"}),"support@hdmarket.cg"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(hs,{size:16,className:"text-indigo-400"}),"+242 06 000 00 00"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Wt,{size:16,className:"text-indigo-400"}),"Brazzaville, Congo"))),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Communaut"),e.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Rejoignez les vendeurs et acheteurs professionnels accompagns par ETS HD Tech Filial."),e.createElement(ce,{to:"/help",className:"mt-4 inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500"},"Contacter le support"))),e.createElement("div",{className:"border-t border-gray-800"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col gap-2 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null," ",t," ETS HD Tech Filial  Tous droits rservs."),e.createElement("p",null,"HDMarket, marketplace scurise pour les vendeurs et acheteurs congolais."))))}const W2=t=>t?String(t).replace(/[^\d+]/g,""):"",G2=(t,r)=>{const a=t?`"${t}"`:"votre annonce";return encodeURIComponent(`Bonjour, je suis intress par ${a} sur HDMarket. Pouvez-vous me donner plus d'informations ? ${r||""}`.trim())},lp=(t,r)=>{const a=W2(r);if(!t?._id||!a)return null;const l=typeof window<"u"?window.location.origin:"",o=jx(t,l),c=G2(t.title,o);return`https://wa.me/${a}?text=${c}`},qx="hdmarket:recent-product-views",K2=50,Y2=t=>{if(!t)return[];try{const r=JSON.parse(t);return Array.isArray(r)?r:[]}catch{return[]}},gc=()=>typeof window>"u"?[]:Y2(window.localStorage.getItem(qx)),Q2=t=>{typeof window>"u"||window.localStorage.setItem(qx,JSON.stringify(t))},Kc=t=>{if(!t?._id)return;const r=t.category||"",a=gc(),l=[{id:String(t._id),category:r,visitedAt:Date.now()},...a.filter(o=>String(o.id)!==String(t._id))].slice(0,K2);if(Q2(l),typeof window<"u"&&window.localStorage.getItem("qm_token")){const c=t.slug||t._id;ee.post(`/users/product-views/${c}`).catch(()=>{})}},X2=async(t=50)=>{const{data:r}=await ee.get("/users/product-views",{params:{limit:t}});return Array.isArray(r)?r:[]},J2=(t,r=4)=>{const a=new Map;return t.forEach(l=>{if(!l?.category)return;const o=a.get(l.category)||{count:0,last:0};a.set(l.category,{count:o.count+1,last:Math.max(o.last,Number(l.visitedAt)||0)})}),Array.from(a.entries()).sort((l,o)=>{const c=o[1].count-l[1].count;return c!==0?c:o[1].last-l[1].last}).slice(0,r).map(([l])=>l)},Z2=767;function Yl(t=Z2){const r=()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${t}px)`).matches,[a,l]=u.useState(r);return u.useEffect(()=>{if(typeof window>"u")return;const o=window.matchMedia(`(max-width: ${t}px)`),c=d=>l(d.matches);return o.addEventListener?o.addEventListener("change",c):o.addListener(c),()=>{o.removeEventListener?o.removeEventListener("change",c):o.removeListener(c)}},[t]),a}function sn(){return Yl()?{}:{target:"_blank",rel:"noopener noreferrer"}}function Ra({p:t,hideMobileDiscountBadge:r=!1,productLink:a,onProductClick:l}){const{user:o}=u.useContext(Bt),{addItem:c,cart:d}=u.useContext(Gl),f=ea(),p=wa(),[g,y]=u.useState(!1),[x,S]=u.useState(""),[v,N]=u.useState(""),[E,C]=u.useState(!1),[w,k]=u.useState(!1),L=!!(o&&d?.items?.some(Re=>Re.product?._id===t._id)),{toggleFavorite:_,isFavorite:T}=u.useContext(Ko),M=T(t._id),[D,R]=u.useState(t.whatsappClicks||0),[O,I]=u.useState(t.favoritesCount||0),j=sn(),Y=a||Ft(t),te=l||Kc,me=u.useMemo(()=>lp(t,t?.user?.phone||t?.contactPhone),[t]);u.useEffect(()=>{R(t.whatsappClicks||0)},[t._id,t.whatsappClicks]),u.useEffect(()=>{I(t.favoritesCount||0)},[t._id,t.favoritesCount]);const Q=`${p.pathname}${p.search}${p.hash}`,ue=()=>{f("/login",{state:{from:Q||"/"}})},ie=()=>o?!0:(ue(),!1);u.useEffect(()=>{L||S("")},[L]);const H=typeof t.discount=="number"&&t.discount>0,B=Number(t.price).toLocaleString(),X=H&&t.priceBeforeDiscount?Number(t.priceBeforeDiscount).toLocaleString():null,z=Number(t.ratingAverage||0).toFixed(1),G=t.ratingCount||0,V=t.commentCount||0,fe=!!(t.user?.shopVerified??t.shopVerified),ge=t.user?.shopLogo||t.shopLogo||null,{publishedLabel:we,daysSince:Pe,isNew:Le}=u.useMemo(()=>{if(!t?.createdAt)return{publishedLabel:"",daysSince:null,isNew:!1};const Re=new Date(t.createdAt);if(Number.isNaN(Re.getTime()))return{publishedLabel:"",daysSince:null,isNew:!1};const De=Date.now()-Re.getTime(),ve=Math.max(0,Math.floor(De/(1e3*60*60*24))),Ne=ve<=7;return ve===0?{publishedLabel:"Aujourd'hui",daysSince:0,isNew:Ne}:ve===1?{publishedLabel:"Hier",daysSince:1,isNew:Ne}:{publishedLabel:`Il y a ${ve}j`,daysSince:ve,isNew:Ne}},[t.createdAt]),je=t?.user?._id||t?.user;o&&je&&(String(je),o.id);const Ye=t?.condition==="new"?"Neuf":"Occasion",He=t?.condition==="new"?"from-emerald-500 to-green-500":"from-amber-500 to-orange-500",tt=async Re=>{if(Re&&(Re.preventDefault(),Re.stopPropagation()),!!ie())try{const De=await _(t);De===!0?I(ve=>ve+1):De===!1&&I(ve=>Math.max(0,ve-1))}catch(De){console.error("Impossible de modifier les favoris.",De)}},J=async()=>{if(!(!ie()||L)){y(!0),N("");try{await c(t._id,1),S("Ajout au panier !")}catch(Re){N(Re.response?.data?.message||Re.message||"Impossible d'ajouter cet article.")}finally{y(!1)}}},We=async Re=>{if(!ie()){Re.preventDefault();return}try{const De=t.slug||t._id,{data:ve}=await ee.post(`/products/public/${De}/whatsapp-click`);R(Ne=>typeof ve?.whatsappClicks=="number"?ve.whatsappClicks:(Ne||0)+1)}catch(De){console.error("Impossible de comptabiliser le clic WhatsApp",De)}};return e.createElement("div",{className:"group relative flex h-full w-full flex-col rounded-2xl border border-gray-200 bg-white overflow-hidden shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl"},e.createElement(ce,{to:Y,...j,onClick:()=>te?.(t),className:"relative flex h-full w-full flex-col overflow-hidden"},e.createElement("div",{className:"aspect-square bg-gray-100 flex items-center justify-center w-full lg:w-[400px] lg:h-[400px] mx-auto"},e.createElement("img",{src:w?"https://via.placeholder.com/400x400?text=HDMarket":t.images?.[0]||"https://via.placeholder.com/400x400",alt:t.title,className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${E?"opacity-100":"opacity-0"}`,onLoad:()=>C(!0),onError:()=>k(!0)}),!E&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse"})),H&&e.createElement("span",{className:"sm:hidden absolute top-3 left-3 z-20 inline-flex items-center rounded-full bg-gradient-to-r from-red-500 to-pink-500 px-3 py-1 text-[11px] font-semibold text-white shadow-lg"},"-",t.discount,"%"),e.createElement("div",{className:"hidden sm:flex absolute top-3 left-3 flex-col space-y-2"},H&&e.createElement("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg"},"-",t.discount,"%"),Le&&e.createElement("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg"},"Nouveau"),e.createElement("span",{className:`bg-gradient-to-r ${He} text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg`},Ye),t.certified&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-[11px] font-semibold text-emerald-700 shadow-sm"},e.createElement(Ha,{className:"h-3 w-3"}),"Certifi")),e.createElement("button",{type:"button",onClick:Re=>tt(Re),className:"absolute top-3 right-3 z-30 bg-white/90 backdrop-blur-sm p-2.5 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 group/fav","aria-label":M?"Retirer des favoris":"Ajouter aux favoris"},e.createElement(Dr,{size:20,className:`transition-all duration-300 ${M?"text-red-500 transform scale-110":"text-gray-600 group-hover/fav:text-red-400"}`,strokeWidth:1.5,fill:M?"currentColor":"none"})),e.createElement("div",{className:"hidden sm:flex absolute bottom-3 left-3 right-3 justify-between items-center text-white text-xs"},e.createElement("div",{className:"bg-black/60 backdrop-blur-sm rounded-full px-3 py-1.5 flex items-center space-x-1"},e.createElement(Kl,{size:12}),e.createElement("span",null,t.views||0)),e.createElement("div",{className:"bg-black/60 backdrop-blur-sm rounded-full px-3 py-1.5 flex items-center space-x-1"},e.createElement(br,{size:12}),e.createElement("span",null,V)))),e.createElement("div",{className:"sm:hidden space-y-2 px-4 py-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-slate-500"},e.createElement("span",{className:"uppercase tracking-widest"},t.condition==="new"?"Neuf":"Occasion"),e.createElement("span",null,we)),e.createElement("div",{className:"flex items-center justify-between text-base font-semibold text-slate-900"},e.createElement("span",{className:"text-sm font-semibold sm:text-base"},B," FCFA"),H&&!r&&e.createElement("span",{className:"text-xs font-semibold uppercase text-red-500"},"-",t.discount,"%")),e.createElement("div",{className:"flex items-center justify-between text-xs text-slate-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(cr,{className:"h-3 w-3 text-amber-500"}),z),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3"}),V),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(fc,{className:"h-3 w-3"}),D))),e.createElement("div",{className:"hidden flex-1 flex-col gap-3 px-4 py-3 sm:flex"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-indigo-500"},t.category||"Produit"),e.createElement("h3",{className:"text-base font-semibold text-slate-900 truncate"},t.title)),e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-2xl font-bold text-slate-900"},H?Number(t.priceAfterDiscount||t.price).toLocaleString():Number(t.price).toLocaleString()),X&&e.createElement("p",{className:"text-xs text-slate-500 line-through"},X))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-500"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(cr,{className:"h-3 w-3 text-amber-500"}),e.createElement("span",null,z),e.createElement("span",{className:"text-[11px] text-slate-400"},"(",G,")")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3"}),e.createElement("span",null,V," commentaires")),we&&e.createElement("span",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400"},we)),e.createElement("div",{className:"flex items-center justify-between text-xs text-slate-500"},e.createElement("div",{className:"flex min-w-0 items-center gap-2"},fe&&ge&&e.createElement("img",{src:ge,alt:t.user?.shopName||"Logo boutique",className:"h-5 w-5 rounded-full border border-slate-200 object-cover",loading:"lazy"}),e.createElement(ce,{to:Ir(t.user),...j,className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-500 truncate hover:text-indigo-600"},t.user?.shopName||"Boutique HDMarket")),fe&&e.createElement(ia,{verified:!0,className:"text-[10px]"})),x&&e.createElement("p",{className:"text-xs text-emerald-600"},x),v&&e.createElement("p",{className:"text-xs text-red-600"},v),e.createElement("div",{className:"mt-auto flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:J,disabled:g||L,className:`flex-1 rounded-2xl bg-gradient-to-r from-indigo-600 to-cyan-600 px-3 py-2 text-center text-xs font-semibold text-white transition hover:opacity-90 ${g||L?"cursor-not-allowed opacity-60":""}`},g?"Ajout en cours":L?"Dans le panier":"Ajouter au panier"),e.createElement("a",{href:me,target:"_blank",rel:"noreferrer",onClick:We,className:"flex-1 rounded-2xl border border-slate-200 px-3 py-2 text-center text-xs font-semibold text-slate-700 transition hover:border-slate-400"},"Contacter via WhatsApp"))),e.createElement("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-indigo-200 rounded-2xl pointer-events-none transition-all duration-300"}))}function eS({visible:t,logoSrc:r,label:a="HDMarket"}){return t?e.createElement("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-white"},r?e.createElement("img",{src:r,alt:a,className:"h-20 w-20 object-contain"}):e.createElement("span",{className:"text-2xl font-semibold text-gray-900"},a)):null}const xs=[{id:"electronics",label:"lectronique & High-Tech",description:"Smartphones, ordinateurs, accessoires et plus encore.",icon:Ol,options:[{value:"telephones",label:"Tlphones & Accessoires"},{value:"informatique",label:"Ordinateurs & Composants"},{value:"gadgets",label:"Gadgets Connects"},{value:"audio",label:"Audio & Vido"}]},{id:"fashion",label:"Mode & Accessoires",description:"Prt--porter, chaussures, bijoux et sacs tendance.",icon:E2,options:[{value:"pret-porter",label:"Prt--porter"},{value:"chaussures",label:"Chaussures"},{value:"bijoux",label:"Bijoux & Montres"},{value:"sacs",label:"Sacs & Accessoires"}]},{id:"sport",label:"Sport & Fitness",description:"quipements sportifs, fitness, plein air et loisirs.",icon:_1,options:[{value:"sports-loisirs",label:"Sports & Loisirs"},{value:"fitness",label:"Fitness & Musculation"},{value:"sports-collectifs",label:"Sports Collectifs"},{value:"sports-plein-air",label:"Plein Air & Randonne"},{value:"velos",label:"Vlos & Mobilit"},{value:"accessoires-sport",label:"Accessoires Sportifs"}]},{id:"home",label:"Maison & Jardin",description:"Meubles, dcoration, cuisine et jardinage pour la maison.",icon:mc,options:[{value:"meubles",label:"Meubles"},{value:"decoration",label:"Dcoration"},{value:"cuisine",label:"Ustensiles de Cuisine"},{value:"jardinage",label:"Jardinage"}]},{id:"industry",label:"Industrie & Business",description:"Machines, outils, matires premires et emballages.",icon:M1,options:[{value:"machines-industrielles",label:"Machines Industrielles"},{value:"outils",label:"Outils"},{value:"matieres-premieres",label:"Matires Premires"},{value:"emballage",label:"Emballage"}]},{id:"health",label:"Sant, Beaut & Loisirs",description:"Cosmtiques, soins, quipements mdicaux et sports.",icon:D1,options:[{value:"cosmetiques",label:"Cosmtiques"},{value:"soins-peau",label:"Soins de la Peau"},{value:"equipement-medical",label:"quipement Mdical"},{value:"complements",label:"Complments Alimentaires"}]},{id:"automobile",label:"Automobile & Accessoires",description:"Voitures, motos, pices dtaches et quipements automobiles.",icon:i1,options:[{value:"voitures",label:"Voitures"},{value:"motos",label:"Motos & Scooters"},{value:"pieces-detachees",label:"Pices Dtaches"},{value:"accessoires-auto",label:"Accessoires Auto & Moto"},{value:"entretien",label:"Produits dEntretien & Rparation"},{value:"pneus-jantes",label:"Pneus & Jantes"},{value:"audio-auto",label:"Audio & lectronique de Bord"}]},{id:"transport",label:"Transport & Vhicules Professionnels",description:"Camions, bus, engins, bateaux et quipements de transport.",icon:Nr,options:[{value:"camions",label:"Camions & Vhicules Utilitaires"},{value:"bus",label:"Bus & Minibus"},{value:"engins",label:"Engins & Matriels Lourds"},{value:"bateaux",label:"Bateaux & Accessoires Maritimes"},{value:"remorques",label:"Remorques & Porte-charges"},{value:"pieces-transport",label:"Pices & Accessoires de Transport"}]}],tS={"sports,-loisirs":"sports-loisirs"},Cc=new Map;xs.forEach(t=>{t.options.forEach(r=>{Cc.set(r.value,{...r,group:t})})});Object.entries(tS).forEach(([t,r])=>{const a=Cc.get(r);a&&Cc.set(t,{...a,legacyValue:t})});Array.from(xs.flatMap(t=>t.options));const op=t=>t&&Cc.get(t)||null;function A0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ip(t={},r={}){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(l=>a.indexOf(l)<0).forEach(l=>{typeof t[l]>"u"?t[l]=r[l]:A0(r[l])&&A0(t[l])&&Object.keys(r[l]).length>0&&ip(t[l],r[l])})}const Ux={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function vn(){const t=typeof document<"u"?document:{};return ip(t,Ux),t}const rS={document:Ux,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ca(){const t=typeof window<"u"?window:{};return ip(t,rS),t}function aS(t=""){return t.trim().split(" ").filter(r=>!!r.trim())}function nS(t){const r=t;Object.keys(r).forEach(a=>{try{r[a]=null}catch{}try{delete r[a]}catch{}})}function Hx(t,r=0){return setTimeout(t,r)}function Ac(){return Date.now()}function sS(t){const r=ca();let a;return r.getComputedStyle&&(a=r.getComputedStyle(t,null)),!a&&t.currentStyle&&(a=t.currentStyle),a||(a=t.style),a}function lS(t,r="x"){const a=ca();let l,o,c;const d=sS(t);return a.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(f=>f.replace(",",".")).join(", ")),c=new a.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),l=c.toString().split(",")),r==="x"&&(a.WebKitCSSMatrix?o=c.m41:l.length===16?o=parseFloat(l[12]):o=parseFloat(l[4])),r==="y"&&(a.WebKitCSSMatrix?o=c.m42:l.length===16?o=parseFloat(l[13]):o=parseFloat(l[5])),o||0}function Xi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function oS(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ta(...t){const r=Object(t[0]),a=["__proto__","constructor","prototype"];for(let l=1;l<t.length;l+=1){const o=t[l];if(o!=null&&!oS(o)){const c=Object.keys(Object(o)).filter(d=>a.indexOf(d)<0);for(let d=0,f=c.length;d<f;d+=1){const p=c[d],g=Object.getOwnPropertyDescriptor(o,p);g!==void 0&&g.enumerable&&(Xi(r[p])&&Xi(o[p])?o[p].__swiper__?r[p]=o[p]:Ta(r[p],o[p]):!Xi(r[p])&&Xi(o[p])?(r[p]={},o[p].__swiper__?r[p]=o[p]:Ta(r[p],o[p])):r[p]=o[p])}}}return r}function Ji(t,r,a){t.style.setProperty(r,a)}function Wx({swiper:t,targetPosition:r,side:a}){const l=ca(),o=-t.translate;let c=null,d;const f=t.params.speed;t.wrapperEl.style.scrollSnapType="none",l.cancelAnimationFrame(t.cssModeFrameID);const p=r>o?"next":"prev",g=(x,S)=>p==="next"&&x>=S||p==="prev"&&x<=S,y=()=>{d=new Date().getTime(),c===null&&(c=d);const x=Math.max(Math.min((d-c)/f,1),0),S=.5-Math.cos(x*Math.PI)/2;let v=o+S*(r-o);if(g(v,r)&&(v=r),t.wrapperEl.scrollTo({[a]:v}),g(v,r)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:v})}),l.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=l.requestAnimationFrame(y)};y()}function yn(t,r=""){const a=ca(),l=[...t.children];return a.HTMLSlotElement&&t instanceof HTMLSlotElement&&l.push(...t.assignedElements()),r?l.filter(o=>o.matches(r)):l}function iS(t,r){const a=[r];for(;a.length>0;){const l=a.shift();if(t===l)return!0;a.push(...l.children,...l.shadowRoot?l.shadowRoot.children:[],...l.assignedElements?l.assignedElements():[])}}function cS(t,r){const a=ca();let l=r.contains(t);return!l&&a.HTMLSlotElement&&r instanceof HTMLSlotElement&&(l=[...r.assignedElements()].includes(t),l||(l=iS(t,r))),l}function _c(t){try{console.warn(t);return}catch{}}function Pc(t,r=[]){const a=document.createElement(t);return a.classList.add(...Array.isArray(r)?r:aS(r)),a}function dS(t,r){const a=[];for(;t.previousElementSibling;){const l=t.previousElementSibling;r?l.matches(r)&&a.push(l):a.push(l),t=l}return a}function mS(t,r){const a=[];for(;t.nextElementSibling;){const l=t.nextElementSibling;r?l.matches(r)&&a.push(l):a.push(l),t=l}return a}function ds(t,r){return ca().getComputedStyle(t,null).getPropertyValue(r)}function Tc(t){let r=t,a;if(r){for(a=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(a+=1);return a}}function Gx(t,r){const a=[];let l=t.parentElement;for(;l;)r?l.matches(r)&&a.push(l):a.push(l),l=l.parentElement;return a}function Ru(t,r,a){const l=ca();return t[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(l.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(l.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function Rr(t){return(Array.isArray(t)?t:[t]).filter(r=>!!r)}function Bo(t,r=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:a=>a}).createHTML(r):t.innerHTML=r}let Vm;function uS(){const t=ca(),r=vn();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)}}function Kx(){return Vm||(Vm=uS()),Vm}let qm;function pS({userAgent:t}={}){const r=Kx(),a=ca(),l=a.navigator.platform,o=t||a.navigator.userAgent,c={ios:!1,android:!1},d=a.screen.width,f=a.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const y=o.match(/(iPod)(.*OS\s([\d_]+))?/),x=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=l==="Win32";let v=l==="MacIntel";const N=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&v&&r.touch&&N.indexOf(`${d}x${f}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),v=!1),p&&!S&&(c.os="android",c.android=!0),(g||x||y)&&(c.os="ios",c.ios=!0),c}function Yx(t={}){return qm||(qm=pS(t)),qm}let Um;function fS(){const t=ca(),r=Yx();let a=!1;function l(){const f=t.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(l()){const f=String(t.navigator.userAgent);if(f.includes("Version/")){const[p,g]=f.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));a=p<16||p===16&&g<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),c=l(),d=c||o&&r.ios;return{isSafari:a||c,needPerspectiveFix:a,need3dFix:d,isWebView:o}}function Qx(){return Um||(Um=fS()),Um}function gS({swiper:t,on:r,emit:a}){const l=ca();let o=null,c=null;const d=()=>{!t||t.destroyed||!t.initialized||(a("beforeResize"),a("resize"))},f=()=>{!t||t.destroyed||!t.initialized||(o=new ResizeObserver(y=>{c=l.requestAnimationFrame(()=>{const{width:x,height:S}=t;let v=x,N=S;y.forEach(({contentBoxSize:E,contentRect:C,target:w})=>{w&&w!==t.el||(v=C?C.width:(E[0]||E).inlineSize,N=C?C.height:(E[0]||E).blockSize)}),(v!==x||N!==S)&&d()})}),o.observe(t.el))},p=()=>{c&&l.cancelAnimationFrame(c),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null)},g=()=>{!t||t.destroyed||!t.initialized||a("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&typeof l.ResizeObserver<"u"){f();return}l.addEventListener("resize",d),l.addEventListener("orientationchange",g)}),r("destroy",()=>{p(),l.removeEventListener("resize",d),l.removeEventListener("orientationchange",g)})}function hS({swiper:t,extendParams:r,on:a,emit:l}){const o=[],c=ca(),d=(g,y={})=>{const x=c.MutationObserver||c.WebkitMutationObserver,S=new x(v=>{if(t.__preventObserver__)return;if(v.length===1){l("observerUpdate",v[0]);return}const N=function(){l("observerUpdate",v[0])};c.requestAnimationFrame?c.requestAnimationFrame(N):c.setTimeout(N,0)});S.observe(g,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:t.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),o.push(S)},f=()=>{if(t.params.observer){if(t.params.observeParents){const g=Gx(t.hostEl);for(let y=0;y<g.length;y+=1)d(g[y])}d(t.hostEl,{childList:t.params.observeSlideChildren}),d(t.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",f),a("destroy",p)}var xS={on(t,r,a){const l=this;if(!l.eventsListeners||l.destroyed||typeof r!="function")return l;const o=a?"unshift":"push";return t.split(" ").forEach(c=>{l.eventsListeners[c]||(l.eventsListeners[c]=[]),l.eventsListeners[c][o](r)}),l},once(t,r,a){const l=this;if(!l.eventsListeners||l.destroyed||typeof r!="function")return l;function o(...c){l.off(t,o),o.__emitterProxy&&delete o.__emitterProxy,r.apply(l,c)}return o.__emitterProxy=r,l.on(t,o,a)},onAny(t,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const l=r?"unshift":"push";return a.eventsAnyListeners.indexOf(t)<0&&a.eventsAnyListeners[l](t),a},offAny(t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const a=r.eventsAnyListeners.indexOf(t);return a>=0&&r.eventsAnyListeners.splice(a,1),r},off(t,r){const a=this;return!a.eventsListeners||a.destroyed||!a.eventsListeners||t.split(" ").forEach(l=>{typeof r>"u"?a.eventsListeners[l]=[]:a.eventsListeners[l]&&a.eventsListeners[l].forEach((o,c)=>{(o===r||o.__emitterProxy&&o.__emitterProxy===r)&&a.eventsListeners[l].splice(c,1)})}),a},emit(...t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let a,l,o;return typeof t[0]=="string"||Array.isArray(t[0])?(a=t[0],l=t.slice(1,t.length),o=r):(a=t[0].events,l=t[0].data,o=t[0].context||r),l.unshift(o),(Array.isArray(a)?a:a.split(" ")).forEach(d=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(f=>{f.apply(o,[d,...l])}),r.eventsListeners&&r.eventsListeners[d]&&r.eventsListeners[d].forEach(f=>{f.apply(o,l)})}),r}};function yS(){const t=this;let r,a;const l=t.el;typeof t.params.width<"u"&&t.params.width!==null?r=t.params.width:r=l.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?a=t.params.height:a=l.clientHeight,!(r===0&&t.isHorizontal()||a===0&&t.isVertical())&&(r=r-parseInt(ds(l,"padding-left")||0,10)-parseInt(ds(l,"padding-right")||0,10),a=a-parseInt(ds(l,"padding-top")||0,10)-parseInt(ds(l,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(a)&&(a=0),Object.assign(t,{width:r,height:a,size:t.isHorizontal()?r:a}))}function bS(){const t=this;function r(I,j){return parseFloat(I.getPropertyValue(t.getDirectionLabel(j))||0)}const a=t.params,{wrapperEl:l,slidesEl:o,rtlTranslate:c,wrongRTL:d}=t,f=t.virtual&&a.virtual.enabled,p=f?t.virtual.slides.length:t.slides.length,g=yn(o,`.${t.params.slideClass}, swiper-slide`),y=f?t.virtual.slides.length:g.length;let x=[];const S=[],v=[];let N=a.slidesOffsetBefore;typeof N=="function"&&(N=a.slidesOffsetBefore.call(t));let E=a.slidesOffsetAfter;typeof E=="function"&&(E=a.slidesOffsetAfter.call(t));const C=t.snapGrid.length,w=t.slidesGrid.length,k=t.size-N-E;let L=a.spaceBetween,_=-N,T=0,M=0;if(typeof k>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*k:typeof L=="string"&&(L=parseFloat(L)),t.virtualSize=-L-N-E,g.forEach(I=>{c?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(Ji(l,"--swiper-centered-offset-before",""),Ji(l,"--swiper-centered-offset-after",""));const D=a.grid&&a.grid.rows>1&&t.grid;D?t.grid.initSlides(g):t.grid&&t.grid.unsetSlides();let R;const O=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(I=>typeof a.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<y;I+=1){R=0;const j=g[I];if(!(j&&(D&&t.grid.updateSlide(I,j,g),ds(j,"display")==="none"))){if(f&&a.slidesPerView==="auto")a.virtual.slidesPerViewAutoSlideSize&&(R=a.virtual.slidesPerViewAutoSlideSize),R&&j&&(a.roundLengths&&(R=Math.floor(R)),j.style[t.getDirectionLabel("width")]=`${R}px`);else if(a.slidesPerView==="auto"){O&&(j.style[t.getDirectionLabel("width")]="");const Y=getComputedStyle(j),te=j.style.transform,me=j.style.webkitTransform;if(te&&(j.style.transform="none"),me&&(j.style.webkitTransform="none"),a.roundLengths)R=t.isHorizontal()?Ru(j,"width"):Ru(j,"height");else{const Q=r(Y,"width"),ue=r(Y,"padding-left"),ie=r(Y,"padding-right"),H=r(Y,"margin-left"),B=r(Y,"margin-right"),X=Y.getPropertyValue("box-sizing");if(X&&X==="border-box")R=Q+H+B;else{const{clientWidth:z,offsetWidth:G}=j;R=Q+ue+ie+H+B+(G-z)}}te&&(j.style.transform=te),me&&(j.style.webkitTransform=me),a.roundLengths&&(R=Math.floor(R))}else R=(k-(a.slidesPerView-1)*L)/a.slidesPerView,a.roundLengths&&(R=Math.floor(R)),j&&(j.style[t.getDirectionLabel("width")]=`${R}px`);j&&(j.swiperSlideSize=R),v.push(R),a.centeredSlides?(_=_+R/2+T/2+L,T===0&&I!==0&&(_=_-k/2-L),I===0&&(_=_-k/2-L),Math.abs(_)<1/1e3&&(_=0),a.roundLengths&&(_=Math.floor(_)),M%a.slidesPerGroup===0&&x.push(_),S.push(_)):(a.roundLengths&&(_=Math.floor(_)),(M-Math.min(t.params.slidesPerGroupSkip,M))%t.params.slidesPerGroup===0&&x.push(_),S.push(_),_=_+R+L),t.virtualSize+=R+L,T=R,M+=1}}if(t.virtualSize=Math.max(t.virtualSize,k)+E,c&&d&&(a.effect==="slide"||a.effect==="coverflow")&&(l.style.width=`${t.virtualSize+L}px`),a.setWrapperSize&&(l.style[t.getDirectionLabel("width")]=`${t.virtualSize+L}px`),D&&t.grid.updateWrapperSize(R,x),!a.centeredSlides){const I=[];for(let j=0;j<x.length;j+=1){let Y=x[j];a.roundLengths&&(Y=Math.floor(Y)),x[j]<=t.virtualSize-k&&I.push(Y)}x=I,Math.floor(t.virtualSize-k)-Math.floor(x[x.length-1])>1&&x.push(t.virtualSize-k)}if(f&&a.loop){const I=v[0]+L;if(a.slidesPerGroup>1){const j=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/a.slidesPerGroup),Y=I*a.slidesPerGroup;for(let te=0;te<j;te+=1)x.push(x[x.length-1]+Y)}for(let j=0;j<t.virtual.slidesBefore+t.virtual.slidesAfter;j+=1)a.slidesPerGroup===1&&x.push(x[x.length-1]+I),S.push(S[S.length-1]+I),t.virtualSize+=I}if(x.length===0&&(x=[0]),L!==0){const I=t.isHorizontal()&&c?"marginLeft":t.getDirectionLabel("marginRight");g.filter((j,Y)=>!a.cssMode||a.loop?!0:Y!==g.length-1).forEach(j=>{j.style[I]=`${L}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let I=0;v.forEach(Y=>{I+=Y+(L||0)}),I-=L;const j=I>k?I-k:0;x=x.map(Y=>Y<=0?-N:Y>j?j+E:Y)}if(a.centerInsufficientSlides){let I=0;v.forEach(Y=>{I+=Y+(L||0)}),I-=L;const j=(N||0)+(E||0);if(I+j<k){const Y=(k-I-j)/2;x.forEach((te,me)=>{x[me]=te-Y}),S.forEach((te,me)=>{S[me]=te+Y})}}if(Object.assign(t,{slides:g,snapGrid:x,slidesGrid:S,slidesSizesGrid:v}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){Ji(l,"--swiper-centered-offset-before",`${-x[0]}px`),Ji(l,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const I=-t.snapGrid[0],j=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(Y=>Y+I),t.slidesGrid=t.slidesGrid.map(Y=>Y+j)}if(y!==p&&t.emit("slidesLengthChange"),x.length!==C&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==w&&t.emit("slidesGridLengthChange"),a.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!f&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const I=`${a.containerModifierClass}backface-hidden`,j=t.el.classList.contains(I);y<=a.maxBackfaceHiddenSlides?j||t.el.classList.add(I):j&&t.el.classList.remove(I)}}function vS(t){const r=this,a=[],l=r.virtual&&r.params.virtual.enabled;let o=0,c;typeof t=="number"?r.setTransition(t):t===!0&&r.setTransition(r.params.speed);const d=f=>l?r.slides[r.getSlideIndexByData(f)]:r.slides[f];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(f=>{a.push(f)});else for(c=0;c<Math.ceil(r.params.slidesPerView);c+=1){const f=r.activeIndex+c;if(f>r.slides.length&&!l)break;a.push(d(f))}else a.push(d(r.activeIndex));for(c=0;c<a.length;c+=1)if(typeof a[c]<"u"){const f=a[c].offsetHeight;o=f>o?f:o}(o||o===0)&&(r.wrapperEl.style.height=`${o}px`)}function ES(){const t=this,r=t.slides,a=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let l=0;l<r.length;l+=1)r[l].swiperSlideOffset=(t.isHorizontal()?r[l].offsetLeft:r[l].offsetTop)-a-t.cssOverflowAdjustment()}const _0=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function NS(t=this&&this.translate||0){const r=this,a=r.params,{slides:l,rtlTranslate:o,snapGrid:c}=r;if(l.length===0)return;typeof l[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let d=-t;o&&(d=t),r.visibleSlidesIndexes=[],r.visibleSlides=[];let f=a.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*r.size:typeof f=="string"&&(f=parseFloat(f));for(let p=0;p<l.length;p+=1){const g=l[p];let y=g.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(y-=l[0].swiperSlideOffset);const x=(d+(a.centeredSlides?r.minTranslate():0)-y)/(g.swiperSlideSize+f),S=(d-c[0]+(a.centeredSlides?r.minTranslate():0)-y)/(g.swiperSlideSize+f),v=-(d-y),N=v+r.slidesSizesGrid[p],E=v>=0&&v<=r.size-r.slidesSizesGrid[p],C=v>=0&&v<r.size-1||N>1&&N<=r.size||v<=0&&N>=r.size;C&&(r.visibleSlides.push(g),r.visibleSlidesIndexes.push(p)),_0(g,C,a.slideVisibleClass),_0(g,E,a.slideFullyVisibleClass),g.progress=o?-x:x,g.originalProgress=o?-S:S}}function wS(t){const r=this;if(typeof t>"u"){const y=r.rtlTranslate?-1:1;t=r&&r.translate&&r.translate*y||0}const a=r.params,l=r.maxTranslate()-r.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:f}=r;const p=c,g=d;if(l===0)o=0,c=!0,d=!0;else{o=(t-r.minTranslate())/l;const y=Math.abs(t-r.minTranslate())<1,x=Math.abs(t-r.maxTranslate())<1;c=y||o<=0,d=x||o>=1,y&&(o=0),x&&(o=1)}if(a.loop){const y=r.getSlideIndexByData(0),x=r.getSlideIndexByData(r.slides.length-1),S=r.slidesGrid[y],v=r.slidesGrid[x],N=r.slidesGrid[r.slidesGrid.length-1],E=Math.abs(t);E>=S?f=(E-S)/N:f=(E+N-v)/N,f>1&&(f-=1)}Object.assign(r,{progress:o,progressLoop:f,isBeginning:c,isEnd:d}),(a.watchSlidesProgress||a.centeredSlides&&a.autoHeight)&&r.updateSlidesProgress(t),c&&!p&&r.emit("reachBeginning toEdge"),d&&!g&&r.emit("reachEnd toEdge"),(p&&!c||g&&!d)&&r.emit("fromEdge"),r.emit("progress",o)}const Hm=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function SS(){const t=this,{slides:r,params:a,slidesEl:l,activeIndex:o}=t,c=t.virtual&&a.virtual.enabled,d=t.grid&&a.grid&&a.grid.rows>1,f=x=>yn(l,`.${a.slideClass}${x}, swiper-slide${x}`)[0];let p,g,y;if(c)if(a.loop){let x=o-t.virtual.slidesBefore;x<0&&(x=t.virtual.slides.length+x),x>=t.virtual.slides.length&&(x-=t.virtual.slides.length),p=f(`[data-swiper-slide-index="${x}"]`)}else p=f(`[data-swiper-slide-index="${o}"]`);else d?(p=r.find(x=>x.column===o),y=r.find(x=>x.column===o+1),g=r.find(x=>x.column===o-1)):p=r[o];p&&(d||(y=mS(p,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!y&&(y=r[0]),g=dS(p,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!g===0&&(g=r[r.length-1]))),r.forEach(x=>{Hm(x,x===p,a.slideActiveClass),Hm(x,x===y,a.slideNextClass),Hm(x,x===g,a.slidePrevClass)}),t.emitSlidesClasses()}const hc=(t,r)=>{if(!t||t.destroyed||!t.params)return;const a=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,l=r.closest(a());if(l){let o=l.querySelector(`.${t.params.lazyPreloaderClass}`);!o&&t.isElement&&(l.shadowRoot?o=l.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{l.shadowRoot&&(o=l.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},Wm=(t,r)=>{if(!t.slides[r])return;const a=t.slides[r].querySelector('[loading="lazy"]');a&&a.removeAttribute("loading")},Iu=t=>{if(!t||t.destroyed||!t.params)return;let r=t.params.lazyPreloadPrevNext;const a=t.slides.length;if(!a||!r||r<0)return;r=Math.min(r,a);const l=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),o=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const d=o,f=[d-r];f.push(...Array.from({length:r}).map((p,g)=>d+l+g)),t.slides.forEach((p,g)=>{f.includes(p.column)&&Wm(t,g)});return}const c=o+l-1;if(t.params.rewind||t.params.loop)for(let d=o-r;d<=c+r;d+=1){const f=(d%a+a)%a;(f<o||f>c)&&Wm(t,f)}else for(let d=Math.max(o-r,0);d<=Math.min(c+r,a-1);d+=1)d!==o&&(d>c||d<o)&&Wm(t,d)};function kS(t){const{slidesGrid:r,params:a}=t,l=t.rtlTranslate?t.translate:-t.translate;let o;for(let c=0;c<r.length;c+=1)typeof r[c+1]<"u"?l>=r[c]&&l<r[c+1]-(r[c+1]-r[c])/2?o=c:l>=r[c]&&l<r[c+1]&&(o=c+1):l>=r[c]&&(o=c);return a.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function CS(t){const r=this,a=r.rtlTranslate?r.translate:-r.translate,{snapGrid:l,params:o,activeIndex:c,realIndex:d,snapIndex:f}=r;let p=t,g;const y=v=>{let N=v-r.virtual.slidesBefore;return N<0&&(N=r.virtual.slides.length+N),N>=r.virtual.slides.length&&(N-=r.virtual.slides.length),N};if(typeof p>"u"&&(p=kS(r)),l.indexOf(a)>=0)g=l.indexOf(a);else{const v=Math.min(o.slidesPerGroupSkip,p);g=v+Math.floor((p-v)/o.slidesPerGroup)}if(g>=l.length&&(g=l.length-1),p===c&&!r.params.loop){g!==f&&(r.snapIndex=g,r.emit("snapIndexChange"));return}if(p===c&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=y(p);return}const x=r.grid&&o.grid&&o.grid.rows>1;let S;if(r.virtual&&o.virtual.enabled&&o.loop)S=y(p);else if(x){const v=r.slides.find(E=>E.column===p);let N=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(N)&&(N=Math.max(r.slides.indexOf(v),0)),S=Math.floor(N/o.grid.rows)}else if(r.slides[p]){const v=r.slides[p].getAttribute("data-swiper-slide-index");v?S=parseInt(v,10):S=p}else S=p;Object.assign(r,{previousSnapIndex:f,snapIndex:g,previousRealIndex:d,realIndex:S,previousIndex:c,activeIndex:p}),r.initialized&&Iu(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(d!==S&&r.emit("realIndexChange"),r.emit("slideChange"))}function AS(t,r){const a=this,l=a.params;let o=t.closest(`.${l.slideClass}, swiper-slide`);!o&&a.isElement&&r&&r.length>1&&r.includes(t)&&[...r.slice(r.indexOf(t)+1,r.length)].forEach(f=>{!o&&f.matches&&f.matches(`.${l.slideClass}, swiper-slide`)&&(o=f)});let c=!1,d;if(o){for(let f=0;f<a.slides.length;f+=1)if(a.slides[f]===o){c=!0,d=f;break}}if(o&&c)a.clickedSlide=o,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):a.clickedIndex=d;else{a.clickedSlide=void 0,a.clickedIndex=void 0;return}l.slideToClickedSlide&&a.clickedIndex!==void 0&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}var _S={updateSize:yS,updateSlides:bS,updateAutoHeight:vS,updateSlidesOffset:ES,updateSlidesProgress:NS,updateProgress:wS,updateSlidesClasses:SS,updateActiveIndex:CS,updateClickedSlide:AS};function PS(t=this.isHorizontal()?"x":"y"){const r=this,{params:a,rtlTranslate:l,translate:o,wrapperEl:c}=r;if(a.virtualTranslate)return l?-o:o;if(a.cssMode)return o;let d=lS(c,t);return d+=r.cssOverflowAdjustment(),l&&(d=-d),d||0}function TS(t,r){const a=this,{rtlTranslate:l,params:o,wrapperEl:c,progress:d}=a;let f=0,p=0;const g=0;a.isHorizontal()?f=l?-t:t:p=t,o.roundLengths&&(f=Math.floor(f),p=Math.floor(p)),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?f:p,o.cssMode?c[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-f:-p:o.virtualTranslate||(a.isHorizontal()?f-=a.cssOverflowAdjustment():p-=a.cssOverflowAdjustment(),c.style.transform=`translate3d(${f}px, ${p}px, ${g}px)`);let y;const x=a.maxTranslate()-a.minTranslate();x===0?y=0:y=(t-a.minTranslate())/x,y!==d&&a.updateProgress(t),a.emit("setTranslate",a.translate,r)}function LS(){return-this.snapGrid[0]}function MS(){return-this.snapGrid[this.snapGrid.length-1]}function RS(t=0,r=this.params.speed,a=!0,l=!0,o){const c=this,{params:d,wrapperEl:f}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const p=c.minTranslate(),g=c.maxTranslate();let y;if(l&&t>p?y=p:l&&t<g?y=g:y=t,c.updateProgress(y),d.cssMode){const x=c.isHorizontal();if(r===0)f[x?"scrollLeft":"scrollTop"]=-y;else{if(!c.support.smoothScroll)return Wx({swiper:c,targetPosition:-y,side:x?"left":"top"}),!0;f.scrollTo({[x?"left":"top"]:-y,behavior:"smooth"})}return!0}return r===0?(c.setTransition(0),c.setTranslate(y),a&&(c.emit("beforeTransitionStart",r,o),c.emit("transitionEnd"))):(c.setTransition(r),c.setTranslate(y),a&&(c.emit("beforeTransitionStart",r,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(S){!c||c.destroyed||S.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,a&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var IS={getTranslate:PS,setTranslate:TS,minTranslate:LS,maxTranslate:MS,translateTo:RS};function jS(t,r){const a=this;a.params.cssMode||(a.wrapperEl.style.transitionDuration=`${t}ms`,a.wrapperEl.style.transitionDelay=t===0?"0ms":""),a.emit("setTransition",t,r)}function Xx({swiper:t,runCallbacks:r,direction:a,step:l}){const{activeIndex:o,previousIndex:c}=t;let d=a;d||(o>c?d="next":o<c?d="prev":d="reset"),t.emit(`transition${l}`),r&&d==="reset"?t.emit(`slideResetTransition${l}`):r&&o!==c&&(t.emit(`slideChangeTransition${l}`),d==="next"?t.emit(`slideNextTransition${l}`):t.emit(`slidePrevTransition${l}`))}function OS(t=!0,r){const a=this,{params:l}=a;l.cssMode||(l.autoHeight&&a.updateAutoHeight(),Xx({swiper:a,runCallbacks:t,direction:r,step:"Start"}))}function zS(t=!0,r){const a=this,{params:l}=a;a.animating=!1,!l.cssMode&&(a.setTransition(0),Xx({swiper:a,runCallbacks:t,direction:r,step:"End"}))}var DS={setTransition:jS,transitionStart:OS,transitionEnd:zS};function FS(t=0,r,a=!0,l,o){typeof t=="string"&&(t=parseInt(t,10));const c=this;let d=t;d<0&&(d=0);const{params:f,snapGrid:p,slidesGrid:g,previousIndex:y,activeIndex:x,rtlTranslate:S,wrapperEl:v,enabled:N}=c;if(!N&&!l&&!o||c.destroyed||c.animating&&f.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=c.params.speed);const E=Math.min(c.params.slidesPerGroupSkip,d);let C=E+Math.floor((d-E)/c.params.slidesPerGroup);C>=p.length&&(C=p.length-1);const w=-p[C];if(f.normalizeSlideIndex)for(let D=0;D<g.length;D+=1){const R=-Math.floor(w*100),O=Math.floor(g[D]*100),I=Math.floor(g[D+1]*100);typeof g[D+1]<"u"?R>=O&&R<I-(I-O)/2?d=D:R>=O&&R<I&&(d=D+1):R>=O&&(d=D)}if(c.initialized&&d!==x&&(!c.allowSlideNext&&(S?w>c.translate&&w>c.minTranslate():w<c.translate&&w<c.minTranslate())||!c.allowSlidePrev&&w>c.translate&&w>c.maxTranslate()&&(x||0)!==d))return!1;d!==(y||0)&&a&&c.emit("beforeSlideChangeStart"),c.updateProgress(w);let k;d>x?k="next":d<x?k="prev":k="reset";const L=c.virtual&&c.params.virtual.enabled;if(!(L&&o)&&(S&&-w===c.translate||!S&&w===c.translate))return c.updateActiveIndex(d),f.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),f.effect!=="slide"&&c.setTranslate(w),k!=="reset"&&(c.transitionStart(a,k),c.transitionEnd(a,k)),!1;if(f.cssMode){const D=c.isHorizontal(),R=S?w:-w;if(r===0)L&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),L&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[D?"scrollLeft":"scrollTop"]=R})):v[D?"scrollLeft":"scrollTop"]=R,L&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return Wx({swiper:c,targetPosition:R,side:D?"left":"top"}),!0;v.scrollTo({[D?"left":"top"]:R,behavior:"smooth"})}return!0}const M=Qx().isSafari;return L&&!o&&M&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(r),c.setTranslate(w),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",r,l),c.transitionStart(a,k),r===0?c.transitionEnd(a,k):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(R){!c||c.destroyed||R.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(a,k))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function $S(t=0,r,a=!0,l){typeof t=="string"&&(t=parseInt(t,10));const o=this;if(o.destroyed)return;typeof r>"u"&&(r=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let f;if(c){const E=d*o.params.grid.rows;f=o.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===E).column}else f=o.getSlideIndexByData(d);const p=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:g,slidesOffsetBefore:y,slidesOffsetAfter:x}=o.params,S=g||!!y||!!x;let v=o.params.slidesPerView;v==="auto"?v=o.slidesPerViewDynamic():(v=Math.ceil(parseFloat(o.params.slidesPerView,10)),S&&v%2===0&&(v=v+1));let N=p-f<v;if(S&&(N=N||f<Math.ceil(v/2)),l&&S&&o.params.slidesPerView!=="auto"&&!c&&(N=!1),N){const E=S?f<o.activeIndex?"prev":"next":f-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?f+1:f-p+1,slideRealIndex:E==="next"?o.realIndex:void 0})}if(c){const E=d*o.params.grid.rows;d=o.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===E).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,r,a,l)}),o}function BS(t,r=!0,a){const l=this,{enabled:o,params:c,animating:d}=l;if(!o||l.destroyed)return l;typeof t>"u"&&(t=l.params.speed);let f=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(f=Math.max(l.slidesPerViewDynamic("current",!0),1));const p=l.activeIndex<c.slidesPerGroupSkip?1:f,g=l.virtual&&c.virtual.enabled;if(c.loop){if(d&&!g&&c.loopPreventsSliding)return!1;if(l.loopFix({direction:"next"}),l._clientLeft=l.wrapperEl.clientLeft,l.activeIndex===l.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{l.slideTo(l.activeIndex+p,t,r,a)}),!0}return c.rewind&&l.isEnd?l.slideTo(0,t,r,a):l.slideTo(l.activeIndex+p,t,r,a)}function VS(t,r=!0,a){const l=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:f,enabled:p,animating:g}=l;if(!p||l.destroyed)return l;typeof t>"u"&&(t=l.params.speed);const y=l.virtual&&o.virtual.enabled;if(o.loop){if(g&&!y&&o.loopPreventsSliding)return!1;l.loopFix({direction:"prev"}),l._clientLeft=l.wrapperEl.clientLeft}const x=f?l.translate:-l.translate;function S(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const v=S(x),N=c.map(k=>S(k)),E=o.freeMode&&o.freeMode.enabled;let C=c[N.indexOf(v)-1];if(typeof C>"u"&&(o.cssMode||E)){let k;c.forEach((L,_)=>{v>=L&&(k=_)}),typeof k<"u"&&(C=E?c[k]:c[k>0?k-1:k])}let w=0;if(typeof C<"u"&&(w=d.indexOf(C),w<0&&(w=l.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(w=w-l.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),o.rewind&&l.isBeginning){const k=l.params.virtual&&l.params.virtual.enabled&&l.virtual?l.virtual.slides.length-1:l.slides.length-1;return l.slideTo(k,t,r,a)}else if(o.loop&&l.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{l.slideTo(w,t,r,a)}),!0;return l.slideTo(w,t,r,a)}function qS(t,r=!0,a){const l=this;if(!l.destroyed)return typeof t>"u"&&(t=l.params.speed),l.slideTo(l.activeIndex,t,r,a)}function US(t,r=!0,a,l=.5){const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),f=d+Math.floor((c-d)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[f]){const g=o.snapGrid[f],y=o.snapGrid[f+1];p-g>(y-g)*l&&(c+=o.params.slidesPerGroup)}else{const g=o.snapGrid[f-1],y=o.snapGrid[f];p-g<=(y-g)*l&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,t,r,a)}function HS(){const t=this;if(t.destroyed)return;const{params:r,slidesEl:a}=t,l=r.slidesPerView==="auto"?t.slidesPerViewDynamic():r.slidesPerView;let o=t.getSlideIndexWhenGrid(t.clickedIndex),c;const d=t.isElement?"swiper-slide":`.${r.slideClass}`,f=t.grid&&t.params.grid&&t.params.grid.rows>1;if(r.loop){if(t.animating)return;c=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?t.slideToLoop(c):o>(f?(t.slides.length-l)/2-(t.params.grid.rows-1):t.slides.length-l)?(t.loopFix(),o=t.getSlideIndex(yn(a,`${d}[data-swiper-slide-index="${c}"]`)[0]),Hx(()=>{t.slideTo(o)})):t.slideTo(o)}else t.slideTo(o)}var WS={slideTo:FS,slideToLoop:$S,slideNext:BS,slidePrev:VS,slideReset:qS,slideToClosest:US,slideToClickedSlide:HS};function GS(t,r){const a=this,{params:l,slidesEl:o}=a;if(!l.loop||a.virtual&&a.params.virtual.enabled)return;const c=()=>{yn(o,`.${l.slideClass}, swiper-slide`).forEach((N,E)=>{N.setAttribute("data-swiper-slide-index",E)})},d=()=>{const v=yn(o,`.${l.slideBlankClass}`);v.forEach(N=>{N.remove()}),v.length>0&&(a.recalcSlides(),a.updateSlides())},f=a.grid&&l.grid&&l.grid.rows>1;l.loopAddBlankSlides&&(l.slidesPerGroup>1||f)&&d();const p=l.slidesPerGroup*(f?l.grid.rows:1),g=a.slides.length%p!==0,y=f&&a.slides.length%l.grid.rows!==0,x=v=>{for(let N=0;N<v;N+=1){const E=a.isElement?Pc("swiper-slide",[l.slideBlankClass]):Pc("div",[l.slideClass,l.slideBlankClass]);a.slidesEl.append(E)}};if(g){if(l.loopAddBlankSlides){const v=p-a.slides.length%p;x(v),a.recalcSlides(),a.updateSlides()}else _c("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(y){if(l.loopAddBlankSlides){const v=l.grid.rows-a.slides.length%l.grid.rows;x(v),a.recalcSlides(),a.updateSlides()}else _c("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const S=l.centeredSlides||!!l.slidesOffsetBefore||!!l.slidesOffsetAfter;a.loopFix({slideRealIndex:t,direction:S?void 0:"next",initial:r})}function KS({slideRealIndex:t,slideTo:r=!0,direction:a,setTranslate:l,activeSlideIndex:o,initial:c,byController:d,byMousewheel:f}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:y,allowSlideNext:x,slidesEl:S,params:v}=p,{centeredSlides:N,slidesOffsetBefore:E,slidesOffsetAfter:C,initialSlide:w}=v,k=N||!!E||!!C;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&v.virtual.enabled){r&&(!k&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):k&&p.snapIndex<v.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=y,p.allowSlideNext=x,p.emit("loopFix");return}let L=v.slidesPerView;L==="auto"?L=p.slidesPerViewDynamic():(L=Math.ceil(parseFloat(v.slidesPerView,10)),k&&L%2===0&&(L=L+1));const _=v.slidesPerGroupAuto?L:v.slidesPerGroup;let T=k?Math.max(_,Math.ceil(L/2)):_;T%_!==0&&(T+=_-T%_),T+=v.loopAdditionalSlides,p.loopedSlides=T;const M=p.grid&&v.grid&&v.grid.rows>1;g.length<L+T||p.params.effect==="cards"&&g.length<L+T*2?_c("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):M&&v.grid.fill==="row"&&_c("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],R=[],O=M?Math.ceil(g.length/v.grid.rows):g.length,I=c&&O-w<L&&!k;let j=I?w:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(g.find(H=>H.classList.contains(v.slideActiveClass))):j=o;const Y=a==="next"||!a,te=a==="prev"||!a;let me=0,Q=0;const ie=(M?g[o].column:o)+(k&&typeof l>"u"?-L/2+.5:0);if(ie<T){me=Math.max(T-ie,_);for(let H=0;H<T-ie;H+=1){const B=H-Math.floor(H/O)*O;if(M){const X=O-B-1;for(let z=g.length-1;z>=0;z-=1)g[z].column===X&&D.push(z)}else D.push(O-B-1)}}else if(ie+L>O-T){Q=Math.max(ie-(O-T*2),_),I&&(Q=Math.max(Q,L-O+w+1));for(let H=0;H<Q;H+=1){const B=H-Math.floor(H/O)*O;M?g.forEach((X,z)=>{X.column===B&&R.push(z)}):R.push(B)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<L+T*2&&(R.includes(o)&&R.splice(R.indexOf(o),1),D.includes(o)&&D.splice(D.indexOf(o),1)),te&&D.forEach(H=>{g[H].swiperLoopMoveDOM=!0,S.prepend(g[H]),g[H].swiperLoopMoveDOM=!1}),Y&&R.forEach(H=>{g[H].swiperLoopMoveDOM=!0,S.append(g[H]),g[H].swiperLoopMoveDOM=!1}),p.recalcSlides(),v.slidesPerView==="auto"?p.updateSlides():M&&(D.length>0&&te||R.length>0&&Y)&&p.slides.forEach((H,B)=>{p.grid.updateSlide(B,H,p.slides)}),v.watchSlidesProgress&&p.updateSlidesOffset(),r){if(D.length>0&&te){if(typeof t>"u"){const H=p.slidesGrid[j],X=p.slidesGrid[j+me]-H;f?p.setTranslate(p.translate-X):(p.slideTo(j+Math.ceil(me),0,!1,!0),l&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-X,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-X))}else if(l){const H=M?D.length/v.grid.rows:D.length;p.slideTo(p.activeIndex+H,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(R.length>0&&Y)if(typeof t>"u"){const H=p.slidesGrid[j],X=p.slidesGrid[j-Q]-H;f?p.setTranslate(p.translate-X):(p.slideTo(j-Q,0,!1,!0),l&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-X,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-X))}else{const H=M?R.length/v.grid.rows:R.length;p.slideTo(p.activeIndex-H,0,!1,!0)}}if(p.allowSlidePrev=y,p.allowSlideNext=x,p.controller&&p.controller.control&&!d){const H={slideRealIndex:t,direction:a,setTranslate:l,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix({...H,slideTo:B.params.slidesPerView===v.slidesPerView?r:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...H,slideTo:p.controller.control.params.slidesPerView===v.slidesPerView?r:!1})}p.emit("loopFix")}function YS(){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||!a||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const l=[];t.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;l[c]=o}),t.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),l.forEach(o=>{a.append(o)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var QS={loopCreate:GS,loopFix:KS,loopDestroy:YS};function XS(t){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const a=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),a.style.cursor="move",a.style.cursor=t?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function JS(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var ZS={setGrabCursor:XS,unsetGrabCursor:JS};function ek(t,r=this){function a(l){if(!l||l===vn()||l===ca())return null;l.assignedSlot&&(l=l.assignedSlot);const o=l.closest(t);return!o&&!l.getRootNode?null:o||a(l.getRootNode().host)}return a(r)}function P0(t,r,a){const l=ca(),{params:o}=t,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(a<=d||a>=l.innerWidth-d)?c==="prevent"?(r.preventDefault(),!0):!1:!0}function tk(t){const r=this,a=vn();let l=t;l.originalEvent&&(l=l.originalEvent);const o=r.touchEventsData;if(l.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==l.pointerId)return;o.pointerId=l.pointerId}else l.type==="touchstart"&&l.targetTouches.length===1&&(o.touchId=l.targetTouches[0].identifier);if(l.type==="touchstart"){P0(r,l,l.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:f}=r;if(!f||!c.simulateTouch&&l.pointerType==="mouse"||r.animating&&c.preventInteractionOnTransition)return;!r.animating&&c.cssMode&&c.loop&&r.loopFix();let p=l.target;if(c.touchEventsTarget==="wrapper"&&!cS(p,r.wrapperEl)||"which"in l&&l.which===3||"button"in l&&l.button>0||o.isTouched&&o.isMoved)return;const g=!!c.noSwipingClass&&c.noSwipingClass!=="",y=l.composedPath?l.composedPath():l.path;g&&l.target&&l.target.shadowRoot&&y&&(p=y[0]);const x=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,S=!!(l.target&&l.target.shadowRoot);if(c.noSwiping&&(S?ek(x,p):p.closest(x))){r.allowClick=!0;return}if(c.swipeHandler&&!p.closest(c.swipeHandler))return;d.currentX=l.pageX,d.currentY=l.pageY;const v=d.currentX,N=d.currentY;if(!P0(r,l,v))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=v,d.startY=N,o.touchStartTime=Ac(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let E=!0;p.matches(o.focusableElements)&&(E=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),a.activeElement&&a.activeElement.matches(o.focusableElements)&&a.activeElement!==p&&(l.pointerType==="mouse"||l.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&a.activeElement.blur();const C=E&&r.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||C)&&!p.isContentEditable&&l.preventDefault(),c.freeMode&&c.freeMode.enabled&&r.freeMode&&r.animating&&!c.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",l)}function rk(t){const r=vn(),a=this,l=a.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:f}=a;if(!f||!o.simulateTouch&&t.pointerType==="mouse")return;let p=t;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(l.touchId!==null||p.pointerId!==l.pointerId))return;let g;if(p.type==="touchmove"){if(g=[...p.changedTouches].find(T=>T.identifier===l.touchId),!g||g.identifier!==l.touchId)return}else g=p;if(!l.isTouched){l.startMoving&&l.isScrolling&&a.emit("touchMoveOpposite",p);return}const y=g.pageX,x=g.pageY;if(p.preventedByNestedSwiper){c.startX=y,c.startY=x;return}if(!a.allowTouchMove){p.target.matches(l.focusableElements)||(a.allowClick=!1),l.isTouched&&(Object.assign(c,{startX:y,startY:x,currentX:y,currentY:x}),l.touchStartTime=Ac());return}if(o.touchReleaseOnEdges&&!o.loop)if(a.isVertical()){if(x<c.startY&&a.translate<=a.maxTranslate()||x>c.startY&&a.translate>=a.minTranslate()){l.isTouched=!1,l.isMoved=!1;return}}else{if(d&&(y>c.startX&&-a.translate<=a.maxTranslate()||y<c.startX&&-a.translate>=a.minTranslate()))return;if(!d&&(y<c.startX&&a.translate<=a.maxTranslate()||y>c.startX&&a.translate>=a.minTranslate()))return}if(r.activeElement&&r.activeElement.matches(l.focusableElements)&&r.activeElement!==p.target&&p.pointerType!=="mouse"&&r.activeElement.blur(),r.activeElement&&p.target===r.activeElement&&p.target.matches(l.focusableElements)){l.isMoved=!0,a.allowClick=!1;return}l.allowTouchCallbacks&&a.emit("touchMove",p),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=y,c.currentY=x;const S=c.currentX-c.startX,v=c.currentY-c.startY;if(a.params.threshold&&Math.sqrt(S**2+v**2)<a.params.threshold)return;if(typeof l.isScrolling>"u"){let T;a.isHorizontal()&&c.currentY===c.startY||a.isVertical()&&c.currentX===c.startX?l.isScrolling=!1:S*S+v*v>=25&&(T=Math.atan2(Math.abs(v),Math.abs(S))*180/Math.PI,l.isScrolling=a.isHorizontal()?T>o.touchAngle:90-T>o.touchAngle)}if(l.isScrolling&&a.emit("touchMoveOpposite",p),typeof l.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(l.startMoving=!0),l.isScrolling||p.type==="touchmove"&&l.preventTouchMoveFromPointerMove){l.isTouched=!1;return}if(!l.startMoving)return;a.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let N=a.isHorizontal()?S:v,E=a.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(N=Math.abs(N)*(d?1:-1),E=Math.abs(E)*(d?1:-1)),c.diff=N,N*=o.touchRatio,d&&(N=-N,E=-E);const C=a.touchesDirection;a.swipeDirection=N>0?"prev":"next",a.touchesDirection=E>0?"prev":"next";const w=a.params.loop&&!o.cssMode,k=a.touchesDirection==="next"&&a.allowSlideNext||a.touchesDirection==="prev"&&a.allowSlidePrev;if(!l.isMoved){if(w&&k&&a.loopFix({direction:a.swipeDirection}),l.startTranslate=a.getTranslate(),a.setTransition(0),a.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});a.wrapperEl.dispatchEvent(T)}l.allowMomentumBounce=!1,o.grabCursor&&(a.allowSlideNext===!0||a.allowSlidePrev===!0)&&a.setGrabCursor(!0),a.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&l.isMoved&&l.allowThresholdMove&&C!==a.touchesDirection&&w&&k&&Math.abs(N)>=1){Object.assign(c,{startX:y,startY:x,currentX:y,currentY:x,startTranslate:l.currentTranslate}),l.loopSwapReset=!0,l.startTranslate=l.currentTranslate;return}a.emit("sliderMove",p),l.isMoved=!0,l.currentTranslate=N+l.startTranslate;let L=!0,_=o.resistanceRatio;if(o.touchReleaseOnEdges&&(_=0),N>0?(w&&k&&l.allowThresholdMove&&l.currentTranslate>(o.centeredSlides?a.minTranslate()-a.slidesSizesGrid[a.activeIndex+1]-(o.slidesPerView!=="auto"&&a.slides.length-o.slidesPerView>=2?a.slidesSizesGrid[a.activeIndex+1]+a.params.spaceBetween:0)-a.params.spaceBetween:a.minTranslate())&&a.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),l.currentTranslate>a.minTranslate()&&(L=!1,o.resistance&&(l.currentTranslate=a.minTranslate()-1+(-a.minTranslate()+l.startTranslate+N)**_))):N<0&&(w&&k&&l.allowThresholdMove&&l.currentTranslate<(o.centeredSlides?a.maxTranslate()+a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween+(o.slidesPerView!=="auto"&&a.slides.length-o.slidesPerView>=2?a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween:0):a.maxTranslate())&&a.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:a.slides.length-(o.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),l.currentTranslate<a.maxTranslate()&&(L=!1,o.resistance&&(l.currentTranslate=a.maxTranslate()+1-(a.maxTranslate()-l.startTranslate-N)**_))),L&&(p.preventedByNestedSwiper=!0),!a.allowSlideNext&&a.swipeDirection==="next"&&l.currentTranslate<l.startTranslate&&(l.currentTranslate=l.startTranslate),!a.allowSlidePrev&&a.swipeDirection==="prev"&&l.currentTranslate>l.startTranslate&&(l.currentTranslate=l.startTranslate),!a.allowSlidePrev&&!a.allowSlideNext&&(l.currentTranslate=l.startTranslate),o.threshold>0)if(Math.abs(N)>o.threshold||l.allowThresholdMove){if(!l.allowThresholdMove){l.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,l.currentTranslate=l.startTranslate,c.diff=a.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{l.currentTranslate=l.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&a.freeMode||o.watchSlidesProgress)&&(a.updateActiveIndex(),a.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&a.freeMode&&a.freeMode.onTouchMove(),a.updateProgress(l.currentTranslate),a.setTranslate(l.currentTranslate))}function ak(t){const r=this,a=r.touchEventsData;let l=t;l.originalEvent&&(l=l.originalEvent);let o;if(l.type==="touchend"||l.type==="touchcancel"){if(o=[...l.changedTouches].find(T=>T.identifier===a.touchId),!o||o.identifier!==a.touchId)return}else{if(a.touchId!==null||l.pointerId!==a.pointerId)return;o=l}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(l.type)&&!(["pointercancel","contextmenu"].includes(l.type)&&(r.browser.isSafari||r.browser.isWebView)))return;a.pointerId=null,a.touchId=null;const{params:d,touches:f,rtlTranslate:p,slidesGrid:g,enabled:y}=r;if(!y||!d.simulateTouch&&l.pointerType==="mouse")return;if(a.allowTouchCallbacks&&r.emit("touchEnd",l),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&d.grabCursor&&r.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}d.grabCursor&&a.isMoved&&a.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const x=Ac(),S=x-a.touchStartTime;if(r.allowClick){const T=l.path||l.composedPath&&l.composedPath();r.updateClickedSlide(T&&T[0]||l.target,T),r.emit("tap click",l),S<300&&x-a.lastClickTime<300&&r.emit("doubleTap doubleClick",l)}if(a.lastClickTime=Ac(),Hx(()=>{r.destroyed||(r.allowClick=!0)}),!a.isTouched||!a.isMoved||!r.swipeDirection||f.diff===0&&!a.loopSwapReset||a.currentTranslate===a.startTranslate&&!a.loopSwapReset){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;let v;if(d.followFinger?v=p?r.translate:-r.translate:v=-a.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:v});return}const N=v>=-r.maxTranslate()&&!r.params.loop;let E=0,C=r.slidesSizesGrid[0];for(let T=0;T<g.length;T+=T<d.slidesPerGroupSkip?1:d.slidesPerGroup){const M=T<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof g[T+M]<"u"?(N||v>=g[T]&&v<g[T+M])&&(E=T,C=g[T+M]-g[T]):(N||v>=g[T])&&(E=T,C=g[g.length-1]-g[g.length-2])}let w=null,k=null;d.rewind&&(r.isBeginning?k=d.virtual&&d.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(w=0));const L=(v-g[E])/C,_=E<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(S>d.longSwipesMs){if(!d.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(L>=d.longSwipesRatio?r.slideTo(d.rewind&&r.isEnd?w:E+_):r.slideTo(E)),r.swipeDirection==="prev"&&(L>1-d.longSwipesRatio?r.slideTo(E+_):k!==null&&L<0&&Math.abs(L)>d.longSwipesRatio?r.slideTo(k):r.slideTo(E))}else{if(!d.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(l.target===r.navigation.nextEl||l.target===r.navigation.prevEl)?l.target===r.navigation.nextEl?r.slideTo(E+_):r.slideTo(E):(r.swipeDirection==="next"&&r.slideTo(w!==null?w:E+_),r.swipeDirection==="prev"&&r.slideTo(k!==null?k:E))}}function T0(){const t=this,{params:r,el:a}=t;if(a&&a.offsetWidth===0)return;r.breakpoints&&t.setBreakpoint();const{allowSlideNext:l,allowSlidePrev:o,snapGrid:c}=t,d=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const f=d&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!f?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!d?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=o,t.allowSlideNext=l,t.params.watchOverflow&&c!==t.snapGrid&&t.checkOverflow()}function nk(t){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&t.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function sk(){const t=this,{wrapperEl:r,rtlTranslate:a,enabled:l}=t;if(!l)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-r.scrollLeft:t.translate=-r.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let o;const c=t.maxTranslate()-t.minTranslate();c===0?o=0:o=(t.translate-t.minTranslate())/c,o!==t.progress&&t.updateProgress(a?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function lk(t){const r=this;hc(r,t.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function ok(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Jx=(t,r)=>{const a=vn(),{params:l,el:o,wrapperEl:c,device:d}=t,f=!!l.nested,p=r==="on"?"addEventListener":"removeEventListener",g=r;!o||typeof o=="string"||(a[p]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:f}),o[p]("touchstart",t.onTouchStart,{passive:!1}),o[p]("pointerdown",t.onTouchStart,{passive:!1}),a[p]("touchmove",t.onTouchMove,{passive:!1,capture:f}),a[p]("pointermove",t.onTouchMove,{passive:!1,capture:f}),a[p]("touchend",t.onTouchEnd,{passive:!0}),a[p]("pointerup",t.onTouchEnd,{passive:!0}),a[p]("pointercancel",t.onTouchEnd,{passive:!0}),a[p]("touchcancel",t.onTouchEnd,{passive:!0}),a[p]("pointerout",t.onTouchEnd,{passive:!0}),a[p]("pointerleave",t.onTouchEnd,{passive:!0}),a[p]("contextmenu",t.onTouchEnd,{passive:!0}),(l.preventClicks||l.preventClicksPropagation)&&o[p]("click",t.onClick,!0),l.cssMode&&c[p]("scroll",t.onScroll),l.updateOnWindowResize?t[g](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",T0,!0):t[g]("observerUpdate",T0,!0),o[p]("load",t.onLoad,{capture:!0}))};function ik(){const t=this,{params:r}=t;t.onTouchStart=tk.bind(t),t.onTouchMove=rk.bind(t),t.onTouchEnd=ak.bind(t),t.onDocumentTouchStart=ok.bind(t),r.cssMode&&(t.onScroll=sk.bind(t)),t.onClick=nk.bind(t),t.onLoad=lk.bind(t),Jx(t,"on")}function ck(){Jx(this,"off")}var dk={attachEvents:ik,detachEvents:ck};const L0=(t,r)=>t.grid&&r.grid&&r.grid.rows>1;function mk(){const t=this,{realIndex:r,initialized:a,params:l,el:o}=t,c=l.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=vn(),f=l.breakpointsBase==="window"||!l.breakpointsBase?l.breakpointsBase:"container",p=["window","container"].includes(l.breakpointsBase)||!l.breakpointsBase?t.el:d.querySelector(l.breakpointsBase),g=t.getBreakpoint(c,f,p);if(!g||t.currentBreakpoint===g)return;const x=(g in c?c[g]:void 0)||t.originalParams,S=L0(t,l),v=L0(t,x),N=t.params.grabCursor,E=x.grabCursor,C=l.enabled;S&&!v?(o.classList.remove(`${l.containerModifierClass}grid`,`${l.containerModifierClass}grid-column`),t.emitContainerClasses()):!S&&v&&(o.classList.add(`${l.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&l.grid.fill==="column")&&o.classList.add(`${l.containerModifierClass}grid-column`),t.emitContainerClasses()),N&&!E?t.unsetGrabCursor():!N&&E&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(M=>{if(typeof x[M]>"u")return;const D=l[M]&&l[M].enabled,R=x[M]&&x[M].enabled;D&&!R&&t[M].disable(),!D&&R&&t[M].enable()});const w=x.direction&&x.direction!==l.direction,k=l.loop&&(x.slidesPerView!==l.slidesPerView||w),L=l.loop;w&&a&&t.changeDirection(),Ta(t.params,x);const _=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!_?t.disable():!C&&_&&t.enable(),t.currentBreakpoint=g,t.emit("_beforeBreakpoint",x),a&&(k?(t.loopDestroy(),t.loopCreate(r),t.updateSlides()):!L&&T?(t.loopCreate(r),t.updateSlides()):L&&!T&&t.loopDestroy()),t.emit("breakpoint",x)}function uk(t,r="window",a){if(!t||r==="container"&&!a)return;let l=!1;const o=ca(),c=r==="window"?o.innerHeight:a.clientHeight,d=Object.keys(t).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const p=parseFloat(f.substr(1));return{value:c*p,point:f}}return{value:f,point:f}});d.sort((f,p)=>parseInt(f.value,10)-parseInt(p.value,10));for(let f=0;f<d.length;f+=1){const{point:p,value:g}=d[f];r==="window"?o.matchMedia(`(min-width: ${g}px)`).matches&&(l=p):g<=a.clientWidth&&(l=p)}return l||"max"}var pk={setBreakpoint:mk,getBreakpoint:uk};function fk(t,r){const a=[];return t.forEach(l=>{typeof l=="object"?Object.keys(l).forEach(o=>{l[o]&&a.push(r+o)}):typeof l=="string"&&a.push(r+l)}),a}function gk(){const t=this,{classNames:r,params:a,rtl:l,el:o,device:c}=t,d=fk(["initialized",a.direction,{"free-mode":t.params.freeMode&&a.freeMode.enabled},{autoheight:a.autoHeight},{rtl:l},{grid:a.grid&&a.grid.rows>1},{"grid-column":a.grid&&a.grid.rows>1&&a.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":a.cssMode},{centered:a.cssMode&&a.centeredSlides},{"watch-progress":a.watchSlidesProgress}],a.containerModifierClass);r.push(...d),o.classList.add(...r),t.emitContainerClasses()}function hk(){const t=this,{el:r,classNames:a}=t;!r||typeof r=="string"||(r.classList.remove(...a),t.emitContainerClasses())}var xk={addClasses:gk,removeClasses:hk};function yk(){const t=this,{isLocked:r,params:a}=t,{slidesOffsetBefore:l}=a;if(l){const o=t.slides.length-1,c=t.slidesGrid[o]+t.slidesSizesGrid[o]+l*2;t.isLocked=t.size>c}else t.isLocked=t.snapGrid.length===1;a.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),a.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),r&&r!==t.isLocked&&(t.isEnd=!1),r!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var bk={checkOverflow:yk},ju={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function vk(t,r){return function(l={}){const o=Object.keys(l)[0],c=l[o];if(typeof c!="object"||c===null){Ta(r,l);return}if(t[o]===!0&&(t[o]={enabled:!0}),o==="navigation"&&t[o]&&t[o].enabled&&!t[o].prevEl&&!t[o].nextEl&&(t[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&t[o]&&t[o].enabled&&!t[o].el&&(t[o].auto=!0),!(o in t&&"enabled"in c)){Ta(r,l);return}typeof t[o]=="object"&&!("enabled"in t[o])&&(t[o].enabled=!0),t[o]||(t[o]={enabled:!1}),Ta(r,l)}}const Gm={eventsEmitter:xS,update:_S,translate:IS,transition:DS,slide:WS,loop:QS,grabCursor:ZS,events:dk,breakpoints:pk,checkOverflow:bk,classes:xk},Km={};let cp=class jn{constructor(...r){let a,l;r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?l=r[0]:[a,l]=r,l||(l={}),l=Ta({},l),a&&!l.el&&(l.el=a);const o=vn();if(l.el&&typeof l.el=="string"&&o.querySelectorAll(l.el).length>1){const p=[];return o.querySelectorAll(l.el).forEach(g=>{const y=Ta({},l,{el:g});p.push(new jn(y))}),p}const c=this;c.__swiper__=!0,c.support=Kx(),c.device=Yx({userAgent:l.userAgent}),c.browser=Qx(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],l.modules&&Array.isArray(l.modules)&&c.modules.push(...l.modules);const d={};c.modules.forEach(p=>{p({params:l,swiper:c,extendParams:vk(l,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=Ta({},ju,d);return c.params=Ta({},f,Km,l),c.originalParams=Ta({},c.params),c.passedParams=Ta({},l),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:a,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:a,params:l}=this,o=yn(a,`.${l.slideClass}, swiper-slide`),c=Tc(o[0]);return Tc(r)-c}getSlideIndexByData(r){return this.getSlideIndex(this.slides.find(a=>a.getAttribute("data-swiper-slide-index")*1===r))}getSlideIndexWhenGrid(r){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?r=Math.floor(r/this.params.grid.rows):this.params.grid.fill==="row"&&(r=r%Math.ceil(this.slides.length/this.params.grid.rows))),r}recalcSlides(){const r=this,{slidesEl:a,params:l}=r;r.slides=yn(a,`.${l.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,a){const l=this;r=Math.min(Math.max(r,0),1);const o=l.minTranslate(),d=(l.maxTranslate()-o)*r+o;l.translateTo(d,typeof a>"u"?0:a),l.updateActiveIndex(),l.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=r.el.className.split(" ").filter(l=>l.indexOf("swiper")===0||l.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",a.join(" "))}getSlideClasses(r){const a=this;return a.destroyed?"":r.className.split(" ").filter(l=>l.indexOf("swiper-slide")===0||l.indexOf(a.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=[];r.slides.forEach(l=>{const o=r.getSlideClasses(l);a.push({slideEl:l,classNames:o}),r.emit("_slideClass",l,o)}),r.emit("_slideClasses",a)}slidesPerViewDynamic(r="current",a=!1){const l=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:f,size:p,activeIndex:g}=l;let y=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let x=c[g]?Math.ceil(c[g].swiperSlideSize):0,S;for(let v=g+1;v<c.length;v+=1)c[v]&&!S&&(x+=Math.ceil(c[v].swiperSlideSize),y+=1,x>p&&(S=!0));for(let v=g-1;v>=0;v-=1)c[v]&&!S&&(x+=c[v].swiperSlideSize,y+=1,x>p&&(S=!0))}else if(r==="current")for(let x=g+1;x<c.length;x+=1)(a?d[x]+f[x]-d[g]<p:d[x]-d[g]<p)&&(y+=1);else for(let x=g-1;x>=0;x-=1)d[g]-d[x]<p&&(y+=1);return y}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:a,params:l}=r;l.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&hc(r,d)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function o(){const d=r.rtlTranslate?r.translate*-1:r.translate,f=Math.min(Math.max(d,r.maxTranslate()),r.minTranslate());r.setTranslate(f),r.updateActiveIndex(),r.updateSlidesClasses()}let c;if(l.freeMode&&l.freeMode.enabled&&!l.cssMode)o(),l.autoHeight&&r.updateAutoHeight();else{if((l.slidesPerView==="auto"||l.slidesPerView>1)&&r.isEnd&&!l.centeredSlides){const d=r.virtual&&l.virtual.enabled?r.virtual.slides:r.slides;c=r.slideTo(d.length-1,0,!1,!0)}else c=r.slideTo(r.activeIndex,0,!1,!0);c||o()}l.watchOverflow&&a!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,a=!0){const l=this,o=l.params.direction;return r||(r=o==="horizontal"?"vertical":"horizontal"),r===o||r!=="horizontal"&&r!=="vertical"||(l.el.classList.remove(`${l.params.containerModifierClass}${o}`),l.el.classList.add(`${l.params.containerModifierClass}${r}`),l.emitContainerClasses(),l.params.direction=r,l.slides.forEach(c=>{r==="vertical"?c.style.width="":c.style.height=""}),l.emit("changeDirection"),a&&l.update()),l}changeLanguageDirection(r){const a=this;a.rtl&&r==="rtl"||!a.rtl&&r==="ltr"||(a.rtl=r==="rtl",a.rtlTranslate=a.params.direction==="horizontal"&&a.rtl,a.rtl?(a.el.classList.add(`${a.params.containerModifierClass}rtl`),a.el.dir="rtl"):(a.el.classList.remove(`${a.params.containerModifierClass}rtl`),a.el.dir="ltr"),a.update())}mount(r){const a=this;if(a.mounted)return!0;let l=r||a.params.el;if(typeof l=="string"&&(l=document.querySelector(l)),!l)return!1;l.swiper=a,l.parentNode&&l.parentNode.host&&l.parentNode.host.nodeName===a.params.swiperElementNodeName.toUpperCase()&&(a.isElement=!0);const o=()=>`.${(a.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=l&&l.shadowRoot&&l.shadowRoot.querySelector?l.shadowRoot.querySelector(o()):yn(l,o())[0];return!d&&a.params.createElements&&(d=Pc("div",a.params.wrapperClass),l.append(d),yn(l,`.${a.params.slideClass}`).forEach(f=>{d.append(f)})),Object.assign(a,{el:l,wrapperEl:d,slidesEl:a.isElement&&!l.parentNode.host.slideSlots?l.parentNode.host:d,hostEl:a.isElement?l.parentNode.host:l,mounted:!0,rtl:l.dir.toLowerCase()==="rtl"||ds(l,"direction")==="rtl",rtlTranslate:a.params.direction==="horizontal"&&(l.dir.toLowerCase()==="rtl"||ds(l,"direction")==="rtl"),wrongRTL:ds(d,"display")==="-webkit-box"}),!0}init(r){const a=this;if(a.initialized||a.mount(r)===!1)return a;a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.enabled&&a.setGrabCursor(),a.params.loop&&a.virtual&&a.params.virtual.enabled?a.slideTo(a.params.initialSlide+a.virtual.slidesBefore,0,a.params.runCallbacksOnInit,!1,!0):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit,!1,!0),a.params.loop&&a.loopCreate(void 0,!0),a.attachEvents();const o=[...a.el.querySelectorAll('[loading="lazy"]')];return a.isElement&&o.push(...a.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?hc(a,c):c.addEventListener("load",d=>{hc(a,d.target)})}),Iu(a),a.initialized=!0,Iu(a),a.emit("init"),a.emit("afterInit"),a}destroy(r=!0,a=!0){const l=this,{params:o,el:c,wrapperEl:d,slides:f}=l;return typeof l.params>"u"||l.destroyed||(l.emit("beforeDestroy"),l.initialized=!1,l.detachEvents(),o.loop&&l.loopDestroy(),a&&(l.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),f&&f.length&&f.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),l.emit("destroy"),Object.keys(l.eventsListeners).forEach(p=>{l.off(p)}),r!==!1&&(l.el&&typeof l.el!="string"&&(l.el.swiper=null),nS(l)),l.destroyed=!0),null}static extendDefaults(r){Ta(Km,r)}static get extendedDefaults(){return Km}static get defaults(){return ju}static installModule(r){jn.prototype.__modules__||(jn.prototype.__modules__=[]);const a=jn.prototype.__modules__;typeof r=="function"&&a.indexOf(r)<0&&a.push(r)}static use(r){return Array.isArray(r)?(r.forEach(a=>jn.installModule(a)),jn):(jn.installModule(r),jn)}};Object.keys(Gm).forEach(t=>{Object.keys(Gm[t]).forEach(r=>{cp.prototype[r]=Gm[t][r]})});cp.use([gS,hS]);const Zx=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function zl(t,r){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(l=>a.indexOf(l)<0).forEach(l=>{typeof t[l]>"u"?t[l]=r[l]:Qs(r[l])&&Qs(t[l])&&Object.keys(r[l]).length>0?r[l].__swiper__?t[l]=r[l]:zl(t[l],r[l]):t[l]=r[l]})}function ey(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function ty(t={}){return t.pagination&&typeof t.pagination.el>"u"}function ry(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function ay(t=""){const r=t.split(" ").map(l=>l.trim()).filter(l=>!!l),a=[];return r.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a.join(" ")}function Ek(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Nk({swiper:t,slides:r,passedParams:a,changedParams:l,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:f}){const p=l.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:g,pagination:y,navigation:x,scrollbar:S,virtual:v,thumbs:N}=t;let E,C,w,k,L,_,T,M;l.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(E=!0),l.includes("controller")&&a.controller&&a.controller.control&&g.controller&&!g.controller.control&&(C=!0),l.includes("pagination")&&a.pagination&&(a.pagination.el||f)&&(g.pagination||g.pagination===!1)&&y&&!y.el&&(w=!0),l.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&S&&!S.el&&(k=!0),l.includes("navigation")&&a.navigation&&(a.navigation.prevEl||c)&&(a.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&x&&!x.prevEl&&!x.nextEl&&(L=!0);const D=R=>{t[R]&&(t[R].destroy(),R==="navigation"?(t.isElement&&(t[R].prevEl.remove(),t[R].nextEl.remove()),g[R].prevEl=void 0,g[R].nextEl=void 0,t[R].prevEl=void 0,t[R].nextEl=void 0):(t.isElement&&t[R].el.remove(),g[R].el=void 0,t[R].el=void 0))};l.includes("loop")&&t.isElement&&(g.loop&&!a.loop?_=!0:!g.loop&&a.loop?T=!0:M=!0),p.forEach(R=>{if(Qs(g[R])&&Qs(a[R]))Object.assign(g[R],a[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in a[R]&&!a[R].enabled&&D(R);else{const O=a[R];(O===!0||O===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?O===!1&&D(R):g[R]=a[R]}}),p.includes("controller")&&!C&&t.controller&&t.controller.control&&g.controller&&g.controller.control&&(t.controller.control=g.controller.control),l.includes("children")&&r&&v&&g.virtual.enabled?(v.slides=r,v.update(!0)):l.includes("virtual")&&v&&g.virtual.enabled&&(r&&(v.slides=r),v.update(!0)),l.includes("children")&&r&&g.loop&&(M=!0),E&&N.init()&&N.update(!0),C&&(t.controller.control=g.controller.control),w&&(t.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),t.el.appendChild(f)),f&&(g.pagination.el=f),y.init(),y.render(),y.update()),k&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),t.el.appendChild(d)),d&&(g.scrollbar.el=d),S.init(),S.updateSize(),S.setTranslate()),L&&(t.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Bo(o,t.navigation.arrowSvg),o.part.add("button-next"),t.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Bo(c,t.navigation.arrowSvg),c.part.add("button-prev"),t.el.appendChild(c))),o&&(g.navigation.nextEl=o),c&&(g.navigation.prevEl=c),x.init(),x.update()),l.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),l.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),l.includes("direction")&&t.changeDirection(a.direction,!1),(_||M)&&t.loopDestroy(),(T||M)&&t.loopCreate(),t.update()}function wk(t={},r=!0){const a={on:{}},l={},o={};zl(a,ju),a._emitClasses=!0,a.init=!1;const c={},d=Zx.map(p=>p.replace(/_/,"")),f=Object.assign({},t);return Object.keys(f).forEach(p=>{typeof t[p]>"u"||(d.indexOf(p)>=0?Qs(t[p])?(a[p]={},o[p]={},zl(a[p],t[p]),zl(o[p],t[p])):(a[p]=t[p],o[p]=t[p]):p.search(/on[A-Z]/)===0&&typeof t[p]=="function"?r?l[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:a.on[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:c[p]=t[p])}),["navigation","pagination","scrollbar"].forEach(p=>{a[p]===!0&&(a[p]={}),a[p]===!1&&delete a[p]}),{params:a,passedParams:o,rest:c,events:l}}function Sk({el:t,nextEl:r,prevEl:a,paginationEl:l,scrollbarEl:o,swiper:c},d){ey(d)&&r&&a&&(c.params.navigation.nextEl=r,c.originalParams.navigation.nextEl=r,c.params.navigation.prevEl=a,c.originalParams.navigation.prevEl=a),ty(d)&&l&&(c.params.pagination.el=l,c.originalParams.pagination.el=l),ry(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(t)}function kk(t,r,a,l,o){const c=[];if(!r)return c;const d=p=>{c.indexOf(p)<0&&c.push(p)};if(a&&l){const p=l.map(o),g=a.map(o);p.join("")!==g.join("")&&d("children"),l.length!==a.length&&d("children")}return Zx.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in t&&p in r)if(Qs(t[p])&&Qs(r[p])){const g=Object.keys(t[p]),y=Object.keys(r[p]);g.length!==y.length?d(p):(g.forEach(x=>{t[p][x]!==r[p][x]&&d(p)}),y.forEach(x=>{t[p][x]!==r[p][x]&&d(p)}))}else t[p]!==r[p]&&d(p)}),c}const Ck=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Lc.apply(this,arguments)}function ny(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function sy(t){const r=[];return e.Children.toArray(t).forEach(a=>{ny(a)?r.push(a):a.props&&a.props.children&&sy(a.props.children).forEach(l=>r.push(l))}),r}function Ak(t){const r=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(t).forEach(l=>{if(ny(l))r.push(l);else if(l.props&&l.props.slot&&a[l.props.slot])a[l.props.slot].push(l);else if(l.props&&l.props.children){const o=sy(l.props.children);o.length>0?o.forEach(c=>r.push(c)):a["container-end"].push(l)}else a["container-end"].push(l)}),{slides:r,slots:a}}function _k(t,r,a){if(!a)return null;const l=y=>{let x=y;return y<0?x=r.length+y:x>=r.length&&(x=x-r.length),x},o=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},{from:c,to:d}=a,f=t.params.loop?-r.length:0,p=t.params.loop?r.length*2:r.length,g=[];for(let y=f;y<p;y+=1)y>=c&&y<=d&&g.push(r[l(y)]);return g.map((y,x)=>e.cloneElement(y,{swiper:t,style:o,key:y.props.virtualIndex||y.key||`slide-${x}`}))}function jo(t,r){return typeof window>"u"?u.useEffect(t,r):u.useLayoutEffect(t,r)}const M0=u.createContext(null),Pk=u.createContext(null),ly=u.forwardRef(({className:t,tag:r="div",wrapperTag:a="div",children:l,onSwiper:o,...c}={},d)=>{let f=!1;const[p,g]=u.useState("swiper"),[y,x]=u.useState(null),[S,v]=u.useState(!1),N=u.useRef(!1),E=u.useRef(null),C=u.useRef(null),w=u.useRef(null),k=u.useRef(null),L=u.useRef(null),_=u.useRef(null),T=u.useRef(null),M=u.useRef(null),{params:D,passedParams:R,rest:O,events:I}=wk(c),{slides:j,slots:Y}=Ak(l),te=()=>{v(!S)};Object.assign(D.on,{_containerClasses(H,B){g(B)}});const me=()=>{Object.assign(D.on,I),f=!0;const H={...D};if(delete H.wrapperClass,C.current=new cp(H),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=j;const B={cache:!1,slides:j,renderExternal:x,renderExternalUpdate:!1};zl(C.current.params.virtual,B),zl(C.current.originalParams.virtual,B)}};E.current||me(),C.current&&C.current.on("_beforeBreakpoint",te);const Q=()=>{f||!I||!C.current||Object.keys(I).forEach(H=>{C.current.on(H,I[H])})},ue=()=>{!I||!C.current||Object.keys(I).forEach(H=>{C.current.off(H,I[H])})};u.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",te)}),u.useEffect(()=>{!N.current&&C.current&&(C.current.emitSlidesClasses(),N.current=!0)}),jo(()=>{if(d&&(d.current=E.current),!!E.current)return C.current.destroyed&&me(),Sk({el:E.current,nextEl:L.current,prevEl:_.current,paginationEl:T.current,scrollbarEl:M.current,swiper:C.current},D),o&&!C.current.destroyed&&o(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),jo(()=>{Q();const H=kk(R,w.current,j,k.current,B=>B.key);return w.current=R,k.current=j,H.length&&C.current&&!C.current.destroyed&&Nk({swiper:C.current,slides:j,passedParams:R,changedParams:H,nextEl:L.current,prevEl:_.current,scrollbarEl:M.current,paginationEl:T.current}),()=>{ue()}}),jo(()=>{Ck(C.current)},[y]);function ie(){return D.virtual?_k(C.current,j,y):j.map((H,B)=>e.cloneElement(H,{swiper:C.current,swiperSlideIndex:B}))}return e.createElement(r,Lc({ref:E,className:ay(`${p}${t?` ${t}`:""}`)},O),e.createElement(Pk.Provider,{value:C.current},Y["container-start"],e.createElement(a,{className:Ek(D.wrapperClass)},Y["wrapper-start"],ie(),Y["wrapper-end"]),ey(D)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:_,className:"swiper-button-prev"}),e.createElement("div",{ref:L,className:"swiper-button-next"})),ry(D)&&e.createElement("div",{ref:M,className:"swiper-scrollbar"}),ty(D)&&e.createElement("div",{ref:T,className:"swiper-pagination"}),Y["container-end"]))});ly.displayName="Swiper";const oy=u.forwardRef(({tag:t="div",children:r,className:a="",swiper:l,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:f,...p}={},g)=>{const y=u.useRef(null),[x,S]=u.useState("swiper-slide"),[v,N]=u.useState(!1);function E(L,_,T){_===y.current&&S(T)}jo(()=>{if(typeof f<"u"&&(y.current.swiperSlideIndex=f),g&&(g.current=y.current),!(!y.current||!l)){if(l.destroyed){x!=="swiper-slide"&&S("swiper-slide");return}return l.on("_slideClass",E),()=>{l&&l.off("_slideClass",E)}}}),jo(()=>{l&&y.current&&!l.destroyed&&S(l.getSlideClasses(y.current))},[l]);const C={isActive:x.indexOf("swiper-slide-active")>=0,isVisible:x.indexOf("swiper-slide-visible")>=0,isPrev:x.indexOf("swiper-slide-prev")>=0,isNext:x.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(C):r,k=()=>{N(!0)};return e.createElement(t,Lc({ref:y,className:ay(`${x}${a?` ${a}`:""}`),"data-swiper-slide-index":d,onLoad:k},p),o&&e.createElement(M0.Provider,{value:C},e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},w(),c&&!v&&e.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&e.createElement(M0.Provider,{value:C},w(),c&&!v&&e.createElement("div",{className:"swiper-lazy-preloader"})))});oy.displayName="SwiperSlide";function iy(t,r,a,l){return t.params.createElements&&Object.keys(l).forEach(o=>{if(!a[o]&&a.auto===!0){let c=yn(t.el,`.${l[o]}`)[0];c||(c=Pc("div",l[o]),c.className=l[o],t.el.append(c)),a[o]=c,r[o]=c}}),a}const R0='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Tk({swiper:t,extendParams:r,on:a,emit:l}){r({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:R0};function o(v){let N;return v&&typeof v=="string"&&t.isElement&&(N=t.el.querySelector(v)||t.hostEl.querySelector(v),N)?N:(v&&(typeof v=="string"&&(N=[...document.querySelectorAll(v)]),t.params.uniqueNavElements&&typeof v=="string"&&N&&N.length>1&&t.el.querySelectorAll(v).length===1?N=t.el.querySelector(v):N&&N.length===1&&(N=N[0])),v&&!N?v:N)}function c(v,N){const E=t.params.navigation;v=Rr(v),v.forEach(C=>{C&&(C.classList[N?"add":"remove"](...E.disabledClass.split(" ")),C.tagName==="BUTTON"&&(C.disabled=N),t.params.watchOverflow&&t.enabled&&C.classList[t.isLocked?"add":"remove"](E.lockClass))})}function d(){const{nextEl:v,prevEl:N}=t.navigation;if(t.params.loop){c(N,!1),c(v,!1);return}c(N,t.isBeginning&&!t.params.rewind),c(v,t.isEnd&&!t.params.rewind)}function f(v){v.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),l("navigationPrev"))}function p(v){v.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),l("navigationNext"))}function g(){const v=t.params.navigation;if(t.params.navigation=iy(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let N=o(v.nextEl),E=o(v.prevEl);Object.assign(t.navigation,{nextEl:N,prevEl:E}),N=Rr(N),E=Rr(E);const C=(w,k)=>{if(w){if(v.addIcons&&w.matches(".swiper-button-next,.swiper-button-prev")&&!w.querySelector("svg")){const L=document.createElement("div");Bo(L,R0),w.appendChild(L.querySelector("svg")),L.remove()}w.addEventListener("click",k==="next"?p:f)}!t.enabled&&w&&w.classList.add(...v.lockClass.split(" "))};N.forEach(w=>C(w,"next")),E.forEach(w=>C(w,"prev"))}function y(){let{nextEl:v,prevEl:N}=t.navigation;v=Rr(v),N=Rr(N);const E=(C,w)=>{C.removeEventListener("click",w==="next"?p:f),C.classList.remove(...t.params.navigation.disabledClass.split(" "))};v.forEach(C=>E(C,"next")),N.forEach(C=>E(C,"prev"))}a("init",()=>{t.params.navigation.enabled===!1?S():(g(),d())}),a("toEdge fromEdge lock unlock",()=>{d()}),a("destroy",()=>{y()}),a("enable disable",()=>{let{nextEl:v,prevEl:N}=t.navigation;if(v=Rr(v),N=Rr(N),t.enabled){d();return}[...v,...N].filter(E=>!!E).forEach(E=>E.classList.add(t.params.navigation.lockClass))}),a("click",(v,N)=>{let{nextEl:E,prevEl:C}=t.navigation;E=Rr(E),C=Rr(C);const w=N.target;let k=C.includes(w)||E.includes(w);if(t.isElement&&!k){const L=N.path||N.composedPath&&N.composedPath();L&&(k=L.find(_=>E.includes(_)||C.includes(_)))}if(t.params.navigation.hideOnClick&&!k){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===w||t.pagination.el.contains(w)))return;let L;E.length?L=E[0].classList.contains(t.params.navigation.hiddenClass):C.length&&(L=C[0].classList.contains(t.params.navigation.hiddenClass)),l(L===!0?"navigationShow":"navigationHide"),[...E,...C].filter(_=>!!_).forEach(_=>_.classList.toggle(t.params.navigation.hiddenClass))}});const x=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),g(),d()},S=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),y()};Object.assign(t.navigation,{enable:x,disable:S,update:d,init:g,destroy:y})}function ko(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Lk({swiper:t,extendParams:r,on:a,emit:l}){const o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let c,d=0;function f(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function p(w,k){const{bulletActiveClass:L}=t.params.pagination;w&&(w=w[`${k==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${L}-${k}`),w=w[`${k==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${L}-${k}-${k}`)))}function g(w,k,L){if(w=w%L,k=k%L,k===w+1)return"next";if(k===w-1)return"previous"}function y(w){const k=w.target.closest(ko(t.params.pagination.bulletClass));if(!k)return;w.preventDefault();const L=Tc(k)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===L)return;const _=g(t.realIndex,L,t.slides.length);_==="next"?t.slideNext():_==="previous"?t.slidePrev():t.slideToLoop(L)}else t.slideTo(L)}function x(){const w=t.rtl,k=t.params.pagination;if(f())return;let L=t.pagination.el;L=Rr(L);let _,T;const M=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,D=t.params.loop?Math.ceil(M/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(T=t.previousRealIndex||0,_=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(_=t.snapIndex,T=t.previousSnapIndex):(T=t.previousIndex||0,_=t.activeIndex||0),k.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const R=t.pagination.bullets;let O,I,j;if(k.dynamicBullets&&(c=Ru(R[0],t.isHorizontal()?"width":"height"),L.forEach(Y=>{Y.style[t.isHorizontal()?"width":"height"]=`${c*(k.dynamicMainBullets+4)}px`}),k.dynamicMainBullets>1&&T!==void 0&&(d+=_-(T||0),d>k.dynamicMainBullets-1?d=k.dynamicMainBullets-1:d<0&&(d=0)),O=Math.max(_-d,0),I=O+(Math.min(R.length,k.dynamicMainBullets)-1),j=(I+O)/2),R.forEach(Y=>{const te=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(me=>`${k.bulletActiveClass}${me}`)].map(me=>typeof me=="string"&&me.includes(" ")?me.split(" "):me).flat();Y.classList.remove(...te)}),L.length>1)R.forEach(Y=>{const te=Tc(Y);te===_?Y.classList.add(...k.bulletActiveClass.split(" ")):t.isElement&&Y.setAttribute("part","bullet"),k.dynamicBullets&&(te>=O&&te<=I&&Y.classList.add(...`${k.bulletActiveClass}-main`.split(" ")),te===O&&p(Y,"prev"),te===I&&p(Y,"next"))});else{const Y=R[_];if(Y&&Y.classList.add(...k.bulletActiveClass.split(" ")),t.isElement&&R.forEach((te,me)=>{te.setAttribute("part",me===_?"bullet-active":"bullet")}),k.dynamicBullets){const te=R[O],me=R[I];for(let Q=O;Q<=I;Q+=1)R[Q]&&R[Q].classList.add(...`${k.bulletActiveClass}-main`.split(" "));p(te,"prev"),p(me,"next")}}if(k.dynamicBullets){const Y=Math.min(R.length,k.dynamicMainBullets+4),te=(c*Y-c)/2-j*c,me=w?"right":"left";R.forEach(Q=>{Q.style[t.isHorizontal()?me:"top"]=`${te}px`})}}L.forEach((R,O)=>{if(k.type==="fraction"&&(R.querySelectorAll(ko(k.currentClass)).forEach(I=>{I.textContent=k.formatFractionCurrent(_+1)}),R.querySelectorAll(ko(k.totalClass)).forEach(I=>{I.textContent=k.formatFractionTotal(D)})),k.type==="progressbar"){let I;k.progressbarOpposite?I=t.isHorizontal()?"vertical":"horizontal":I=t.isHorizontal()?"horizontal":"vertical";const j=(_+1)/D;let Y=1,te=1;I==="horizontal"?Y=j:te=j,R.querySelectorAll(ko(k.progressbarFillClass)).forEach(me=>{me.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${te})`,me.style.transitionDuration=`${t.params.speed}ms`})}k.type==="custom"&&k.renderCustom?(Bo(R,k.renderCustom(t,_+1,D)),O===0&&l("paginationRender",R)):(O===0&&l("paginationRender",R),l("paginationUpdate",R)),t.params.watchOverflow&&t.enabled&&R.classList[t.isLocked?"add":"remove"](k.lockClass)})}function S(){const w=t.params.pagination;if(f())return;const k=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let L=t.pagination.el;L=Rr(L);let _="";if(w.type==="bullets"){let T=t.params.loop?Math.ceil(k/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&T>k&&(T=k);for(let M=0;M<T;M+=1)w.renderBullet?_+=w.renderBullet.call(t,M,w.bulletClass):_+=`<${w.bulletElement} ${t.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?_=w.renderFraction.call(t,w.currentClass,w.totalClass):_=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?_=w.renderProgressbar.call(t,w.progressbarFillClass):_=`<span class="${w.progressbarFillClass}"></span>`),t.pagination.bullets=[],L.forEach(T=>{w.type!=="custom"&&Bo(T,_||""),w.type==="bullets"&&t.pagination.bullets.push(...T.querySelectorAll(ko(w.bulletClass)))}),w.type!=="custom"&&l("paginationRender",L[0])}function v(){t.params.pagination=iy(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const w=t.params.pagination;if(!w.el)return;let k;typeof w.el=="string"&&t.isElement&&(k=t.el.querySelector(w.el)),!k&&typeof w.el=="string"&&(k=[...document.querySelectorAll(w.el)]),k||(k=w.el),!(!k||k.length===0)&&(t.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(k)&&k.length>1&&(k=[...t.el.querySelectorAll(w.el)],k.length>1&&(k=k.find(L=>Gx(L,".swiper")[0]===t.el))),Array.isArray(k)&&k.length===1&&(k=k[0]),Object.assign(t.pagination,{el:k}),k=Rr(k),k.forEach(L=>{w.type==="bullets"&&w.clickable&&L.classList.add(...(w.clickableClass||"").split(" ")),L.classList.add(w.modifierClass+w.type),L.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(L.classList.add(`${w.modifierClass}${w.type}-dynamic`),d=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&L.classList.add(w.progressbarOppositeClass),w.clickable&&L.addEventListener("click",y),t.enabled||L.classList.add(w.lockClass)}))}function N(){const w=t.params.pagination;if(f())return;let k=t.pagination.el;k&&(k=Rr(k),k.forEach(L=>{L.classList.remove(w.hiddenClass),L.classList.remove(w.modifierClass+w.type),L.classList.remove(t.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(L.classList.remove(...(w.clickableClass||"").split(" ")),L.removeEventListener("click",y))})),t.pagination.bullets&&t.pagination.bullets.forEach(L=>L.classList.remove(...w.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const w=t.params.pagination;let{el:k}=t.pagination;k=Rr(k),k.forEach(L=>{L.classList.remove(w.horizontalClass,w.verticalClass),L.classList.add(t.isHorizontal()?w.horizontalClass:w.verticalClass)})}),a("init",()=>{t.params.pagination.enabled===!1?C():(v(),S(),x())}),a("activeIndexChange",()=>{typeof t.snapIndex>"u"&&x()}),a("snapIndexChange",()=>{x()}),a("snapGridLengthChange",()=>{S(),x()}),a("destroy",()=>{N()}),a("enable disable",()=>{let{el:w}=t.pagination;w&&(w=Rr(w),w.forEach(k=>k.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{x()}),a("click",(w,k)=>{const L=k.target,_=Rr(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&_&&_.length>0&&!L.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&L===t.navigation.nextEl||t.navigation.prevEl&&L===t.navigation.prevEl))return;const T=_[0].classList.contains(t.params.pagination.hiddenClass);l(T===!0?"paginationShow":"paginationHide"),_.forEach(M=>M.classList.toggle(t.params.pagination.hiddenClass))}});const E=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Rr(w),w.forEach(k=>k.classList.remove(t.params.pagination.paginationDisabledClass))),v(),S(),x()},C=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:w}=t.pagination;w&&(w=Rr(w),w.forEach(k=>k.classList.add(t.params.pagination.paginationDisabledClass))),N()};Object.assign(t.pagination,{enable:E,disable:C,render:S,update:x,init:v,destroy:N})}function Mk({swiper:t,extendParams:r,on:a,emit:l,params:o}){t.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,g,y=new Date().getTime(),x,S,v,N,E,C,w;function k(ie){!t||t.destroyed||!t.wrapperEl||ie.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",k),!(w||ie.detail&&ie.detail.bySwiperTouchMove)&&O())}const L=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?x=!0:x&&(p=g,x=!1);const ie=t.autoplay.paused?g:y+p-new Date().getTime();t.autoplay.timeLeft=ie,l("autoplayTimeLeft",ie,ie/f),d=requestAnimationFrame(()=>{L()})},_=()=>{let ie;return t.virtual&&t.params.virtual.enabled?ie=t.slides.find(B=>B.classList.contains("swiper-slide-active")):ie=t.slides[t.activeIndex],ie?parseInt(ie.getAttribute("data-swiper-autoplay"),10):void 0},T=ie=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(d),L();let H=typeof ie>"u"?t.params.autoplay.delay:ie;f=t.params.autoplay.delay,p=t.params.autoplay.delay;const B=_();!Number.isNaN(B)&&B>0&&typeof ie>"u"&&(H=B,f=B,p=B),g=H;const X=t.params.speed,z=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(X,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,X,!0,!0),l("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(X,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,X,!0,!0),l("autoplay")),t.params.cssMode&&(y=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return H>0?(clearTimeout(c),c=setTimeout(()=>{z()},H)):requestAnimationFrame(()=>{z()}),H},M=()=>{y=new Date().getTime(),t.autoplay.running=!0,T(),l("autoplayStart")},D=()=>{t.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(d),l("autoplayStop")},R=(ie,H)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(c),ie||(C=!0);const B=()=>{l("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",k):O()};if(t.autoplay.paused=!0,H){E&&(g=t.params.autoplay.delay),E=!1,B();return}g=(g||t.params.autoplay.delay)-(new Date().getTime()-y),!(t.isEnd&&g<0&&!t.params.loop)&&(g<0&&(g=0),B())},O=()=>{t.isEnd&&g<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(y=new Date().getTime(),C?(C=!1,T(g)):T(),t.autoplay.paused=!1,l("autoplayResume"))},I=()=>{if(t.destroyed||!t.autoplay.running)return;const ie=vn();ie.visibilityState==="hidden"&&(C=!0,R(!0)),ie.visibilityState==="visible"&&O()},j=ie=>{ie.pointerType==="mouse"&&(C=!0,w=!0,!(t.animating||t.autoplay.paused)&&R(!0))},Y=ie=>{ie.pointerType==="mouse"&&(w=!1,t.autoplay.paused&&O())},te=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",j),t.el.addEventListener("pointerleave",Y))},me=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",j),t.el.removeEventListener("pointerleave",Y))},Q=()=>{vn().addEventListener("visibilitychange",I)},ue=()=>{vn().removeEventListener("visibilitychange",I)};a("init",()=>{t.params.autoplay.enabled&&(te(),Q(),M())}),a("destroy",()=>{me(),ue(),t.autoplay.running&&D()}),a("_freeModeStaticRelease",()=>{(v||C)&&O()}),a("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?D():R(!0,!0)}),a("beforeTransitionStart",(ie,H,B)=>{t.destroyed||!t.autoplay.running||(B||!t.params.autoplay.disableOnInteraction?R(!0,!0):D())}),a("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){D();return}S=!0,v=!1,C=!1,N=setTimeout(()=>{C=!0,v=!0,R(!0)},200)}}),a("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!S)){if(clearTimeout(N),clearTimeout(c),t.params.autoplay.disableOnInteraction){v=!1,S=!1;return}v&&t.params.cssMode&&O(),v=!1,S=!1}}),a("slideChange",()=>{t.destroyed||!t.autoplay.running||(E=!0)}),Object.assign(t.autoplay,{start:M,stop:D,pause:R,resume:O})}function Rk(){const[t,r]=u.useState([]),[a,l]=u.useState([]),[o,c]=u.useState(""),[d,f]=u.useState("new"),[p,g]=u.useState(1),[y,x]=u.useState(!1),[S,v]=u.useState(1),[N,E]=u.useState(!1),[C,w]=Fc(),k=Number(C.get("page")),L=u.useRef(Number.isInteger(k)&&k>0?k:1),[_,T]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[M,D]=u.useState({favorites:[],topRated:[],topDeals:[],topDiscounts:[],newProducts:[],usedProducts:[],cityHighlights:{}}),[R,O]=u.useState(!1),[I,j]=u.useState([]),[Y,te]=u.useState(!1),[me,Q]=u.useState(0),[ue,ie]=u.useState([]),[H,B]=u.useState(!1),[X,z]=u.useState(""),[G,V]=u.useState(""),[fe,ge]=u.useState(""),[we,Pe]=u.useState(""),[Le,je]=u.useState(""),[Ye,He]=u.useState(""),[tt,J]=u.useState(()=>new Date),[We,Re]=u.useState(""),[De,ve]=u.useState(!1),Ne=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],_e=sn(),rt=U=>Number(U||0).toLocaleString("fr-FR"),ut="/promo-default.svg",Ke=u.useCallback(U=>U?.slug&&_?`/product-preview/${U.slug}`:Ft(U),[_]),yt=u.useCallback(U=>{if(!U)return null;const le=new Date(U);return Number.isNaN(le.getTime())?null:le},[]),It=u.useMemo(()=>{if(!G)return!1;const U=yt(Le),le=yt(Ye);return!(U&&tt<U||le&&tt>le)},[yt,G,Ye,Le,tt]),Vt=_&&!De&&N&&p===1,he=u.useMemo(()=>{const U={page:p,limit:12,sort:d};return o&&(U.category=o),U},[o,p,d]),Je=async()=>{E(!0);try{const{data:U}=await ee.get("/products/public",{params:he}),le=Array.isArray(U)?U:U.items||[],Te=Array.isArray(U)?1:U.pagination?.pages||1,Tt=Array.isArray(U)?le.length:Number(U?.pagination?.total)||le.length;r(kt=>_&&p>1?[...kt,...le]:le),v(Te),Q(Tt)}catch(U){console.error("Erreur chargement produits:",U)}finally{E(!1)}},qe=u.useCallback(async()=>{try{console.debug("loading certified products",{params:{certified:!0,sort:"recent",limit:8,page:1}});const{data:U}=await ee.get("/products/public",{params:{certified:!0,sort:"new",limit:8,page:1}}),le=Array.isArray(U)?U:U?.items||[];l(le.filter(Te=>Te?.certified))}catch(U){console.error("Erreur chargement produits certifis:",U?.response?.status,U?.response?.data,U)}},[]);u.useEffect(()=>{let U=!0;return(async()=>{try{const{data:Te}=await ee.get("/settings/hero-banner");if(!U)return;z(Te?.heroBanner||"")}catch{if(!U)return;z("")}})(),()=>{U=!1}},[]),u.useEffect(()=>{let U=!0;return(async()=>{try{const{data:Te}=await ee.get("/settings/app-logo");if(!U)return;Re(Te?.appLogoMobile||Te?.appLogoDesktop||"")}catch{if(!U)return;Re("")}})(),()=>{U=!1}},[]),u.useEffect(()=>{let U=!0;return(async()=>{try{const{data:Te}=await ee.get("/settings/promo-banner");if(!U)return;V(Te?.promoBanner||""),ge(Te?.promoBannerMobile||""),Pe(Te?.promoBannerLink||""),je(Te?.promoBannerStartAt||""),He(Te?.promoBannerEndAt||"")}catch{if(!U)return;V(""),ge(""),Pe(""),je(""),He("")}})(),()=>{U=!1}},[]),u.useEffect(()=>{!N&&p===1&&ve(!0)},[N,p]),u.useEffect(()=>{const U=setInterval(()=>{J(new Date)},6e4);return()=>clearInterval(U)},[]);const nt=async()=>{O(!0);try{const{data:U}=await ee.get("/products/public/highlights");D({favorites:Array.isArray(U?.favorites)?U.favorites:[],topRated:Array.isArray(U?.topRated)?U.topRated:[],topDeals:Array.isArray(U?.topDeals)?U.topDeals:[],topDiscounts:Array.isArray(U?.topDiscounts)?U.topDiscounts:[],newProducts:Array.isArray(U?.newProducts)?U.newProducts:[],usedProducts:Array.isArray(U?.usedProducts)?U.usedProducts:[],cityHighlights:U?.cityHighlights&&typeof U.cityHighlights=="object"?U.cityHighlights:{}})}catch(U){console.error("Erreur chargement highlights:",U)}finally{O(!1)}},bt=async()=>{B(!0);try{const{data:U}=await ee.get("/shops"),le=Array.isArray(U)?U.filter(Te=>Te.shopVerified):[];ie(le.slice(0,6))}catch(U){console.error("Erreur chargement boutiques vrifies:",U),ie([])}finally{B(!1)}},jt=async()=>{te(!0);try{const{data:U}=await ee.get("/products/public",{params:{sort:"discount",limit:8,page:1}}),Tt=[...(Array.isArray(U)?U:U.items||[]).filter(kt=>kt.discount>0&&kt.priceBeforeDiscount&&kt.price<kt.priceBeforeDiscount)].sort(()=>Math.random()-.5);j(Tt.slice(0,4))}catch(U){console.error("Erreur chargement produits en promotion:",U)}finally{te(!1)}},jr=()=>{if(!G)return null;const le=It?_&&fe?fe:G:ut,Te=It?we:"/products",Tt=e.createElement("img",{src:le,alt:"Bannire promotionnelle",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),kt="group block w-full overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm aspect-[16/9] sm:aspect-[21/7] lg:aspect-[24/7]";return Te?Te.startsWith("/")?e.createElement(ce,{to:Te,..._e,className:kt},Tt):e.createElement("a",{href:Te,target:"_blank",rel:"noopener noreferrer",className:kt},Tt):e.createElement("div",{className:kt},Tt)};u.useEffect(()=>{L.current=1,g(1)},[d,o]),u.useEffect(()=>{Je()},[p,d,o,_]),u.useEffect(()=>{p===L.current?w(U=>{const le=new URLSearchParams(U);return p===1?le.delete("page"):le.set("page",String(p)),le},{replace:!0}):w(U=>{const le=new URLSearchParams(U);return p===1?le.delete("page"):le.set("page",String(p)),le},{replace:!1})},[p,w]),u.useEffect(()=>{L.current=Number.isInteger(k)&&k>0?k:1,g(L.current)},[k]),u.useEffect(()=>{const U=()=>{typeof window>"u"||T(window.innerWidth<=767)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),u.useEffect(()=>{if(!_||N||p>=S)return;const U=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&g(Te=>Math.min(Te+1,S))};return window.addEventListener("scroll",U,{passive:!0}),()=>window.removeEventListener("scroll",U)},[_,N,p,S]),u.useEffect(()=>{nt(),jt(),bt(),qe()},[]);const zt=M.cityHighlights||{},dr=()=>_||S<=1?null:e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8"},e.createElement("button",{onClick:()=>g(U=>Math.max(1,U-1)),disabled:p<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),Array.from({length:Math.min(5,S)},(U,le)=>{const Te=le+1;return e.createElement("button",{key:Te,onClick:()=>g(Te),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${p===Te?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},Te)}),S>5&&e.createElement("span",{className:"px-2 text-gray-500"},"..."),e.createElement("button",{onClick:()=>g(U=>Math.min(S,U+1)),disabled:p>=S,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""));return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement(eS,{visible:Vt,logoSrc:We,label:"HDMarket"}),e.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 space-y-6"},e.createElement("section",{className:"relative bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800 rounded-2xl overflow-hidden shadow-lg"},X&&e.createElement("div",{className:"absolute inset-0"},e.createElement("img",{src:X,alt:"Bannire HDMarket",className:"h-full w-full object-cover",loading:"lazy"}),e.createElement("div",{className:"absolute inset-0 bg-slate-950/65"})),e.createElement("div",{className:"relative z-10 px-4 py-6 sm:py-10 text-left"},e.createElement("div",{className:"inline-flex items-center px-3 py-1 bg-white/10 backdrop-blur-sm rounded-full border border-white/20 mb-4"},e.createElement(cr,{className:"w-3 h-3 text-yellow-300 mr-1",fill:"currentColor"}),e.createElement("span",{className:"text-xs text-white font-medium"},"Marketplace Premium")),e.createElement("h1",{className:"text-2xl sm:text-3xl font-black text-white mb-4 leading-tight"},"Votre March",e.createElement("span",{className:"block bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent"},"Digital")),e.createElement("p",{className:"text-sm text-indigo-100 mb-6 max-w-md leading-relaxed"},"Dcouvrez ",rt(me)," produits vrifis. Vendez et achetez en toute confiance."),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 justify-start items-start"},e.createElement(ce,{to:"/my",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-400 text-gray-900 font-bold rounded-xl hover:from-yellow-300 hover:to-orange-300 transition-all transform hover:scale-105 shadow-lg text-sm"},e.createElement(fc,{className:"w-4 h-4 mr-2"}),"Publier un produit"),e.createElement(ce,{to:"/products",..._e,className:"inline-flex items-center px-6 py-3 bg-white/10 backdrop-blur-sm text-white font-semibold rounded-xl border border-white/20 hover:bg-white/20 transition-all text-sm"},"Explorer le march")))),G&&e.createElement("section",null,jr()),e.createElement("section",{className:"bg-white rounded-2xl border border-indigo-100 shadow-sm p-4 sm:p-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center shadow-inner"},e.createElement(Nr,{className:"w-6 h-6 text-white"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-semibold text-green-600 uppercase tracking-wide mb-1"},"Livraison gratuite HDMarket"),e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"0 FCFA de frais dans la ville de la boutique, sous 48h"),e.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Ds que votre paiement est vrifi et la commande confirme par nos quipes, nous livrons gratuitement dans la ville o se trouve la boutique en moins de 48h. Disponible  Brazzaville, Pointe-Noire, Oyo, Ouesso et bien plus encore."))),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-50 text-green-700 text-xs font-semibold px-4 py-2 border border-green-100"},e.createElement(fr,{size:14}),"Paiement confirm"),e.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 text-indigo-700 text-xs font-semibold px-4 py-2 border border-indigo-100"},e.createElement(yr,{size:14}),"Livraison 48h"))),e.createElement("section",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},[{icon:fr,title:"Scuris",desc:"Paiements protgs"},{icon:Nr,title:"Livraison gratuite",desc:"< 48h dans la ville du vendeur"},{icon:zx,title:"Qualit",desc:"Produits vrifis"},{icon:Dr,title:"Confiance",desc:"Avis authentiques"}].map((U,le)=>e.createElement("div",{key:le,className:"bg-white rounded-xl p-3 text-center shadow-sm border border-gray-100"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-xl flex items-center justify-center mx-auto mb-2"},e.createElement(U.icon,{className:"w-4 h-4 text-indigo-600"})),e.createElement("h3",{className:"font-semibold text-gray-900 text-xs mb-1"},U.title),e.createElement("p",{className:"text-[10px] text-gray-500"},U.desc)))),e.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement("div",{className:"w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center"},e.createElement(q1,{className:"w-5 h-5 text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Explorer par catgories"),e.createElement("p",{className:"text-xs text-gray-500"},"Dcouvrez les univers populaires et accdez aux slections par icne."))),e.createElement("button",{type:"button",onClick:()=>x(!0),className:"text-xs font-semibold uppercase tracking-wide text-indigo-600 hover:text-indigo-500"},"Voir toutes les catgories")),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4"},xs.map(U=>{const le=U.icon,Te=U.options?.[0]?.value||"";return e.createElement(ce,{key:U.id,to:`/categories/${Te}`,className:"flex flex-col items-center gap-3 text-center transition-transform hover:-translate-y-1"},e.createElement("div",{className:"h-20 w-20 rounded-full border border-gray-200 bg-white shadow-sm flex items-center justify-center transition-colors hover:border-indigo-200"},le?e.createElement(le,{className:"h-7 w-7 text-indigo-600"}):null),e.createElement("p",{className:"text-xs font-semibold text-gray-900"},U.label))}))),y&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-2 sm:p-4",onClick:()=>x(!1)},e.createElement("div",{className:"h-full w-full max-w-lg overflow-hidden rounded-2xl bg-white shadow-2xl",onClick:U=>U.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between border-b border-gray-100 px-4 py-3"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Explorer les catgories"),e.createElement("p",{className:"text-xs text-gray-500"},"Touchez une icne pour accder aux sous-catgories")),e.createElement("button",{type:"button",onClick:()=>x(!1),className:"text-xs font-semibold uppercase tracking-wide text-gray-500 hover:text-gray-900"},"Fermer")),e.createElement("div",{className:"max-h-[90vh] overflow-y-auto px-4 py-4 pb-6"},e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3"},xs.map(U=>{const le=U.icon;return e.createElement(ce,{key:U.id,to:`/categories/${U.options?.[0]?.value||""}`,onClick:()=>x(!1),className:"flex flex-col items-center gap-3 rounded-2xl border border-gray-100 bg-gray-50 p-4 text-center shadow-sm transition hover:border-indigo-200 hover:bg-white"},e.createElement("div",{className:"h-14 w-14 rounded-full border border-gray-200 bg-white flex items-center justify-center"},le?e.createElement(le,{className:"h-6 w-6 text-indigo-600"}):null),e.createElement("p",{className:"text-xs font-semibold text-gray-900"},U.label),e.createElement("p",{className:"text-[11px] text-gray-500"},U.description))}))))),e.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center"},e.createElement(fc,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Bonnes Affaires"),e.createElement("p",{className:"text-gray-500 text-xs"},"Prix imbattables du moment"))),!R&&M.topDeals.length>0&&e.createElement(ce,{to:"/top-deals",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold flex items-center"},"Tout voir ",e.createElement(va,{className:"w-3 h-3 ml-1"}))),R?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:4}).map((U,le)=>e.createElement("div",{key:le,className:"animate-pulse"},e.createElement("div",{className:"bg-gray-200 rounded-lg aspect-square mb-2"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded mb-1"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"})))):M.topDeals.length>0?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},M.topDeals.slice(0,6).map((U,le)=>e.createElement("div",{key:`top-deal-${U._id}-${le}`,className:"group"},e.createElement("div",{className:"relative bg-gray-100 rounded-lg aspect-square overflow-hidden mb-2"},e.createElement("img",{src:U.images?.[0]||"/api/placeholder/200/200",alt:U.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),U.discount>0&&e.createElement("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded"},"-",U.discount,"%")),e.createElement("div",{className:"mb-2"},e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},Number(U.price||0).toLocaleString()," FCFA"),U.priceBeforeDiscount>U.price&&e.createElement("span",{className:"text-xs text-gray-500 line-through"},Number(U.priceBeforeDiscount).toLocaleString()," FCFA")),U.discount>0&&e.createElement("div",{className:"text-xs text-red-500 font-semibold"},"conomisez ",Math.round((U.priceBeforeDiscount-U.price)/100)*100," FCFA")),e.createElement(ce,{to:Ke(U),..._e,className:"block w-full text-center bg-indigo-600 text-white text-xs font-semibold py-2 rounded-lg hover:bg-indigo-700 transition-colors"},"Voir l'offre")))):e.createElement("div",{className:"text-center py-6 text-gray-500"},e.createElement(fc,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-sm"},"Aucune bonne affaire pour le moment"))),e.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center"},e.createElement(Ys,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Produits en Promotion"),e.createElement("p",{className:"text-gray-500 text-xs"},"Rductions exceptionnelles"))),!Y&&I.length>0&&e.createElement(ce,{to:"/top-discounts",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold flex items-center"},"Tout voir ",e.createElement(va,{className:"w-3 h-3 ml-1"}))),Y?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},Array.from({length:4}).map((U,le)=>e.createElement("div",{key:le,className:"animate-pulse"},e.createElement("div",{className:"bg-gray-200 rounded-lg aspect-square mb-2"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded mb-1"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"})))):I.length>0?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},I.slice(0,8).map((U,le)=>e.createElement("div",{key:`discount-${U._id}-${le}`,className:"group"},e.createElement("div",{className:"relative bg-gray-100 rounded-lg aspect-square overflow-hidden mb-2"},e.createElement("img",{src:U.images?.[0]||"/api/placeholder/200/200",alt:U.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.createElement("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded"},"-",U.discount,"%"),e.createElement("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-[10px] font-bold px-1 py-0.5 rounded"},"CONOMIE")),e.createElement("div",{className:"mb-2"},e.createElement("h3",{className:"font-medium text-gray-900 text-xs mb-1 line-clamp-2 h-8"},U.title),e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},Number(U.price||0).toLocaleString()," FCFA")),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-xs text-gray-500 line-through"},Number(U.priceBeforeDiscount).toLocaleString()," FCFA"),e.createElement("span",{className:"text-xs font-bold text-green-600"},"conomie ",Math.round((U.priceBeforeDiscount-U.price)/100)*100," FCFA")))),e.createElement(ce,{to:Ke(U),..._e,className:"block w-full text-center bg-green-600 text-white text-xs font-semibold py-2 rounded-lg hover:bg-green-700 transition-colors"},"Profiter de l'offre")))):e.createElement("div",{className:"text-center py-6 text-gray-500"},e.createElement(Ys,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-sm"},"Aucune promotion en cours"),e.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Revenez bientt pour dcouvrir nos offres"))),Ne.map(U=>{const le=(zt[U]||[]).slice(0,8);return le.length?e.createElement("section",{key:U,className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center"},e.createElement(Wt,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},U),e.createElement("p",{className:"text-gray-500 text-xs"},"Annonces publies depuis ",U))),e.createElement(ce,{to:`/cities?city=${encodeURIComponent(U)}`,..._e,className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold flex items-center"},"Tout voir ",e.createElement(va,{className:"w-3 h-3 ml-1"}))),e.createElement(ly,{modules:[Tk,Lk,Mk],spaceBetween:16,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:4500,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}}},le.map((Te,Tt)=>e.createElement(oy,{key:`city-${U}-${Te._id}-${Tt}`},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-3 shadow-sm hover:shadow-md transition-all duration-200 flex flex-col gap-2 h-full"},e.createElement(ce,{to:Ke(Te),..._e,className:"relative block"},e.createElement("img",{src:Te.images?.[0]||"/api/placeholder/200/200",alt:Te.title,className:"w-full aspect-square rounded-xl object-cover"}),Te.discount>0&&e.createElement("span",{className:"absolute top-2 left-2 px-2 py-1 text-[10px] font-semibold rounded-full bg-rose-500 text-white"},"-",Te.discount,"%"),e.createElement("span",{className:"absolute top-2 right-2 px-2 py-1 text-[10px] font-semibold rounded-full bg-white/90 text-gray-700"},Te.condition==="new"?"Neuf":"Occasion")),e.createElement("div",{className:"flex items-center justify-between text-sm font-bold text-gray-900"},e.createElement("span",null,Number(Te.price||0).toLocaleString()," FCFA"),Te.priceBeforeDiscount>Te.price&&e.createElement("span",{className:"text-xs text-gray-500 font-medium line-through"},Number(Te.priceBeforeDiscount).toLocaleString())),e.createElement("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2"},Te.title),Te.shopName&&e.createElement("p",{className:"text-xs text-gray-500 flex items-center justify-between"},e.createElement("span",null,Te.shopName),e.createElement("span",{className:"text-[10px] text-indigo-600 font-semibold"},Te.condition==="new"?"Neuf":"Occasion"))))))):null}),e.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Explorer toutes les villes"),e.createElement("p",{className:"text-xs text-gray-500"},"Retrouvez la liste complte des annonces par ville et dcouvrez les vendeurs proches de vous.")),e.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},e.createElement(ce,{to:"/cities",..._e,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-700 hover:bg-indigo-100"},"Parcourir les villes"),e.createElement(ce,{to:"/products",..._e,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-indigo-600 hover:bg-gray-50"},"Voir tous les produits")))),e.createElement("section",{className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2"},e.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 h-full flex flex-col"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl flex items-center justify-center"},e.createElement(Dr,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Top Favoris"),e.createElement("p",{className:"text-gray-500 text-xs"},"Les plus enregistrs"))),e.createElement(ce,{to:"/top-favorites",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),R?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((U,le)=>e.createElement("div",{key:le,className:"flex items-center space-x-3 animate-pulse"},e.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-200 rounded"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):M.favorites.length>0?e.createElement("div",{className:"space-y-3 flex-1"},M.favorites.slice(0,3).map((U,le)=>e.createElement(ce,{key:`favorite-${U._id}-${le}`,to:Ke(U),..._e,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},e.createElement("div",{className:"flex items-center justify-center w-6"},e.createElement("span",{className:`text-xs font-bold ${le===0?"text-yellow-500":le===1?"text-gray-400":"text-amber-600"}`},"#",le+1)),e.createElement("img",{src:U.images?.[0]||"/api/placeholder/60/60",alt:U.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},U.title),e.createElement("p",{className:"text-gray-500 text-xs"},Number(U.price||0).toLocaleString()," FCFA")),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"flex items-center justify-end space-x-1 text-xs text-gray-500"},e.createElement(Dr,{className:"w-3 h-3 text-rose-500",fill:"currentColor"}),e.createElement("span",null,U.favoritesCount||0)))))):e.createElement("div",{className:"text-center py-4 text-gray-500"},e.createElement(Dr,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-xs"},"Soyez le premier  ajouter en favoris !"))),e.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 h-full flex flex-col"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-500 rounded-xl flex items-center justify-center"},e.createElement(cr,{className:"w-4 h-4 text-white",fill:"currentColor"})),e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Top Nots"),e.createElement("p",{className:"text-gray-500 text-xs"},"Les mieux valus"))),e.createElement(ce,{to:"/top-ranking",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),R?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((U,le)=>e.createElement("div",{key:le,className:"flex items-center space-x-3 animate-pulse"},e.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-200 rounded"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):M.topRated.length>0?e.createElement("div",{className:"space-y-3 flex-1"},M.topRated.slice(0,3).map((U,le)=>e.createElement(ce,{key:`top-rated-${U._id}-${le}`,to:Ke(U),..._e,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},e.createElement("div",{className:"flex items-center justify-center w-6"},e.createElement("span",{className:`text-xs font-bold ${le===0?"text-yellow-500":le===1?"text-gray-400":"text-amber-600"}`},"#",le+1)),e.createElement("img",{src:U.images?.[0]||"/api/placeholder/60/60",alt:U.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},U.title),e.createElement("p",{className:"text-gray-500 text-xs"},Number(U.price||0).toLocaleString()," FCFA")),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"flex items-center justify-end space-x-1 text-xs"},e.createElement(cr,{className:"w-3 h-3 text-yellow-400",fill:"currentColor"}),e.createElement("span",{className:"font-semibold text-gray-900"},Number(U.ratingAverage||0).toFixed(1))),e.createElement("p",{className:"text-gray-500 text-xs"},U.ratingCount||0," avis"))))):e.createElement("div",{className:"text-center py-4 text-gray-500"},e.createElement(cr,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-xs"},"Les premires valuations arrivent bientt !")))),e.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-sky-500 to-indigo-500 rounded-xl flex items-center justify-center"},e.createElement(Ws,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Produits Neufs"),e.createElement("p",{className:"text-gray-500 text-xs"},"Dernires nouveauts en boutique"))),e.createElement(ce,{to:"/top-new",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),R?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((U,le)=>e.createElement("div",{key:le,className:"flex items-center space-x-3 animate-pulse"},e.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-200 rounded"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):M.newProducts.length>0?e.createElement("div",{className:"space-y-3"},M.newProducts.slice(0,3).map((U,le)=>e.createElement(ce,{key:`new-${U._id}-${le}`,to:Ke(U),..._e,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},e.createElement("img",{src:U.images?.[0]||"/api/placeholder/60/60",alt:U.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},U.title),e.createElement("p",{className:"text-gray-500 text-xs"},Number(U.price||0).toLocaleString()," FCFA")),e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",{className:"font-semibold text-indigo-600"},"Neuf"),e.createElement("p",{className:"text-[10px]"},"Ajout rcemment"))))):e.createElement("div",{className:"text-center py-4 text-gray-500"},e.createElement(Ws,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-xs"},"Aucun produit neuf pour le moment."))),e.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-slate-500 to-slate-700 rounded-xl flex items-center justify-center"},e.createElement($o,{className:"w-4 h-4 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Produits d'occasion"),e.createElement("p",{className:"text-gray-500 text-xs"},"Slection vrifie par la communaut"))),e.createElement(ce,{to:"/top-used",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),R?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((U,le)=>e.createElement("div",{key:le,className:"flex items-center space-x-3 animate-pulse"},e.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-200 rounded"}),e.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):M.usedProducts.length>0?e.createElement("div",{className:"space-y-3"},M.usedProducts.slice(0,3).map((U,le)=>e.createElement(ce,{key:`used-${U._id}-${le}`,to:Ke(U),..._e,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},e.createElement("img",{src:U.images?.[0]||"/api/placeholder/60/60",alt:U.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},U.title),e.createElement("p",{className:"text-gray-500 text-xs"},Number(U.price||0).toLocaleString()," FCFA")),e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",{className:"font-semibold text-slate-600"},"Occasion"),e.createElement("p",{className:"text-[10px]"},"Bon tat garanti"))))):e.createElement("div",{className:"text-center py-4 text-gray-500"},e.createElement($o,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-xs"},"Aucune annonce d'occasion pour l'instant.")))),e.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"flex flex-col gap-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2"},"Filtrer les meilleures offres"),e.createElement("div",{className:"flex flex-wrap gap-2"},[{value:"",label:"Toutes"},{value:"electronics",label:"lectronique"},{value:"fashion",label:"Mode"},{value:"home",label:"Maison"},{value:"sports",label:"Sports"}].map(U=>e.createElement("button",{key:U.value||"all",type:"button",onClick:()=>{c(U.value),g(1)},className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-colors ${o===U.value?"bg-indigo-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},U.label)))),e.createElement("div",null,e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2"},"Trier par"),e.createElement("div",{className:"flex flex-wrap gap-2"},[{value:"new",label:"Nouveauts"},{value:"price_asc",label:"Prix "},{value:"price_desc",label:"Prix "},{value:"discount",label:"Remises"}].map(U=>e.createElement("button",{key:U.value,type:"button",onClick:()=>{f(U.value),g(1)},className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-colors ${d===U.value?"bg-purple-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},U.label)))))),H?e.createElement("section",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100"},e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des boutiques vrifies")):ue.length?e.createElement("section",{className:"bg-gradient-to-br from-indigo-50 via-white to-indigo-100 rounded-2xl p-4 sm:p-6 shadow-sm border border-indigo-100 space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},e.createElement(fr,{className:"w-5 h-5 text-emerald-500"}),"Boutiques vrifies"),e.createElement("p",{className:"text-sm text-gray-500"},"Vendeurs certifis par ETS HD Tech Filial")),e.createElement(ce,{to:"/shops/verified",className:"inline-flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Voir toutes les boutiques",e.createElement(va,{size:16}))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ue.map(U=>e.createElement(ce,{key:U._id,to:Ir(U),className:"flex items-center gap-3 rounded-xl border border-gray-100 hover:border-indigo-200 hover:shadow-md transition-all bg-gradient-to-r from-white to-indigo-50/30 p-4"},e.createElement("img",{src:U.shopLogo||"/api/placeholder/60/60",alt:U.shopName,className:"h-12 w-12 rounded-xl object-cover border border-indigo-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 truncate"},U.shopName),e.createElement("p",{className:"text-xs text-gray-500 truncate"},U.shopAddress||"Adresse non renseigne"),e.createElement("div",{className:"text-xs text-emerald-600 font-semibold mt-1"},U.productCount||0," annonce",U.productCount>1?"s":"")))))):null,a.length>0?e.createElement("section",{className:"bg-gradient-to-br from-emerald-50 via-white to-emerald-100 rounded-2xl p-4 sm:p-6 shadow-sm border border-emerald-100 space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},e.createElement(fr,{className:"w-5 h-5 text-emerald-500"}),"Produits certifis"),e.createElement("p",{className:"text-sm text-gray-500"},"Les annonces garanties HDMarket par nos quipes de vrification.")),e.createElement(ce,{to:"/certified-products",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Voir tous les certifis",e.createElement(va,{size:16}))),e.createElement("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},a.map((U,le)=>e.createElement(ce,{key:`certified-${U._id}-${le}`,to:Ke(U),className:"rounded-2xl border border-gray-100 bg-white p-3 text-xs text-gray-700 hover:border-indigo-200 hover:shadow-lg transition"},e.createElement("div",{className:"flex items-start gap-2"},e.createElement("div",{className:"h-12 w-12 overflow-hidden rounded-lg bg-gray-100"},e.createElement("img",{src:U.images?.[0]||"/api/placeholder/80/80",alt:U.title,className:"h-full w-full object-cover"})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-[11px] uppercase tracking-wide text-emerald-600"},"Certifi"),e.createElement("p",{className:"text-sm font-semibold text-gray-900 line-clamp-2"},U.title))),e.createElement("p",{className:"mt-2 text-xs text-gray-500"},Number(U.price).toLocaleString()," FCFA"))))):null,e.createElement("section",null,e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Tous les Produits"),e.createElement("p",{className:"text-gray-500 text-xs"},t.length," produits disponibles"))),N?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:6}).map((U,le)=>e.createElement("div",{key:le,className:"animate-pulse bg-gray-200 rounded-xl h-48"}))):t.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},t.map((U,le)=>e.createElement(Ra,{key:`product-${U._id}-${le}`,p:U,productLink:Ke(U)}))),dr()):e.createElement("div",{className:"text-center py-8 bg-white rounded-2xl border border-gray-200"},e.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3"},e.createElement(rn,{className:"w-8 h-8 text-gray-400"})),e.createElement("h3",{className:"text-base font-semibold text-gray-900 mb-2"},"Aucun produit trouv"),e.createElement("p",{className:"text-gray-500 text-sm mb-4"},"Modifiez vos critres de filtrage"),e.createElement("button",{onClick:()=>{c(""),f("new"),g(1)},className:"px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors text-sm"},"Rinitialiser")))))}function Ik(){const{user:t,login:r}=u.useContext(Bt),a=ea(),o=wa().state?.from||"/",[c,d]=u.useState({phone:"",password:""}),[f,p]=u.useState(!1),[g,y]=u.useState(!1),x=async S=>{S.preventDefault(),y(!0);try{const{data:v}=await ee.post("/auth/login",c);r(v),a(o,{replace:!0})}catch(v){alert(v.response?.data?.message||v.message)}finally{y(!1)}};return t?e.createElement(Do,{to:o,replace:!0}):e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"max-w-md w-full space-y-8"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"flex justify-center mb-6"},e.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-lg"},e.createElement(fr,{className:"w-10 h-10 text-white"}))),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Content de vous revoir"),e.createElement("p",{className:"text-gray-500"},"Connectez-vous  votre compte HDMarket")),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},e.createElement("form",{onSubmit:x,className:"space-y-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ol,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Numro de tlphone")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"06 000 00 00",value:c.phone,onChange:S=>d({...c,phone:S.target.value}),required:!0}),e.createElement(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:f?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre mot de passe",value:c.password,onChange:S=>d({...c,password:S.target.value}),required:!0}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>p(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},f?e.createElement(Wc,{className:"w-4 h-4"}):e.createElement(Kl,{className:"w-4 h-4"}))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:f,onChange:()=>p(!f),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher le mot de passe")),e.createElement(ce,{to:"/forgot-password",className:"text-sm text-indigo-600 hover:text-indigo-500 transition-colors"},"Mot de passe oubli ?"))),e.createElement("button",{type:"submit",disabled:g||!c.phone||!c.password,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},g?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Connexion...")):e.createElement(e.Fragment,null,e.createElement(K1,{className:"w-5 h-5"}),e.createElement("span",null,"Se connecter")))),e.createElement("div",{className:"relative my-6"},e.createElement("div",{className:"absolute inset-0 flex items-center"},e.createElement("div",{className:"w-full border-t border-gray-200"})),e.createElement("div",{className:"relative flex justify-center text-sm"},e.createElement("span",{className:"px-2 bg-white text-gray-500"},"Nouveau sur HDMarket ?"))),e.createElement(ce,{to:"/register",className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-indigo-300 hover:bg-indigo-50 transition-all group"},e.createElement(kc,{className:"w-5 h-5 text-gray-500 group-hover:text-indigo-600 transition-colors"}),e.createElement("span",null,"Crer un compte"))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},e.createElement("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},e.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-2"},e.createElement(fr,{className:"w-5 h-5 text-blue-600"})),e.createElement("p",{className:"text-sm font-medium text-gray-900"},"Scuris"),e.createElement("p",{className:"text-xs text-gray-500"},"Donnes protges")),e.createElement("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},e.createElement("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-2"},e.createElement(Ol,{className:"w-5 h-5 text-green-600"})),e.createElement("p",{className:"text-sm font-medium text-gray-900"},"Mobile"),e.createElement("p",{className:"text-xs text-gray-500"},"Optimis mobile")),e.createElement("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},e.createElement("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-2"},e.createElement(kc,{className:"w-5 h-5 text-purple-600"})),e.createElement("p",{className:"text-sm font-medium text-gray-900"},"Rapide"),e.createElement("p",{className:"text-xs text-gray-500"},"Inscription simple"))),e.createElement("div",{className:"text-center space-y-1"},e.createElement("p",{className:"text-xs text-gray-500"},"En vous connectant, vous acceptez nos"," ",e.createElement(ce,{to:"/help",className:"text-indigo-600 hover:text-indigo-500"},"conditions d'utilisation et service client")," ","ainsi que notre"," ",e.createElement(ce,{to:"/privacy",className:"text-indigo-600 hover:text-indigo-500"},"politique de confidentialit")),e.createElement("p",{className:"text-[11px] text-gray-400"},"ETS HD Tech Filial"))))}function jk(){const{user:t,login:r}=u.useContext(Bt),a=ea(),o=wa().state?.from||"/",[c,d]=u.useState({name:"",email:"",password:"",phone:"",accountType:"person",address:"",country:"Rpublique du Congo",city:"",gender:""}),[f,p]=u.useState(!1),[g,y]=u.useState(!1),[x,S]=u.useState(""),[v,N]=u.useState(!1),[E,C]=u.useState(!1),[w,k]=u.useState(""),[L,_]=u.useState(""),T=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],M=[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}],D=async()=>{if(!c.phone.trim()){alert("Veuillez renseigner votre numro de tlphone.");return}C(!0),_(""),k("");try{await ee.post("/auth/register/send-code",{phone:c.phone}),N(!0),k("Code envoy par SMS. Vrifiez votre tlphone.")}catch(O){_(O.response?.data?.message||O.message)}finally{C(!1)}},R=async O=>{if(O.preventDefault(),!c.city||!c.gender){alert("Veuillez slectionner votre ville et votre genre.");return}if(!c.address.trim()){alert("Veuillez renseigner votre adresse complte.");return}if(!x.trim()){alert("Veuillez saisir le code de vrification reu par SMS.");return}y(!0);try{const I=new FormData;I.append("name",c.name),I.append("email",c.email),I.append("password",c.password),I.append("phone",c.phone),I.append("accountType","person"),I.append("country","Rpublique du Congo"),I.append("city",c.city),I.append("gender",c.gender),I.append("address",c.address.trim()),I.append("verificationCode",x.trim());const{data:j}=await ee.post("/auth/register",I,{headers:{"Content-Type":"multipart/form-data"}});r(j),a(o,{replace:!0})}catch(I){alert(I.response?.data?.message||I.message)}finally{y(!1)}};return t?e.createElement(Do,{to:o,replace:!0}):e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"max-w-2xl w-full space-y-8"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"flex justify-center mb-6"},e.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl flex items-center justify-center shadow-lg"},e.createElement(kc,{className:"w-10 h-10 text-white"}))),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Rejoignez HDMarket"),e.createElement("p",{className:"text-gray-500"},"Crez votre compte et commencez  vendre ds aujourd'hui")),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},e.createElement("form",{onSubmit:R,className:"space-y-6"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations personnelles")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nom complet *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nom complet",value:c.name,onChange:O=>d({...c,name:O.target.value}),required:!0}),e.createElement(Jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(hs,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Tlphone *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre numro",value:c.phone,onChange:O=>d({...c,phone:O.target.value}),required:!0}),e.createElement(hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ha,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Code de vrification SMS *")),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center"},e.createElement("div",{className:"relative flex-1"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Code reu par SMS",value:x,onChange:O=>S(O.target.value),required:!0}),e.createElement(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),e.createElement("button",{type:"button",onClick:D,disabled:E||!c.phone.trim(),className:"px-4 py-3 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},E?"Envoi...":v?"Renvoyer le code":"Envoyer le code")),L&&e.createElement("p",{className:"text-sm text-red-600"},L),w&&e.createElement("p",{className:"text-sm text-emerald-600"},w)),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse complte *")),e.createElement("div",{className:"relative"},e.createElement("textarea",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",rows:2,placeholder:"Quartier, rue, numro de parcelle...",name:"address",value:c.address,onChange:O=>d({...c,address:O.target.value}),required:!0}),e.createElement(Wt,{className:"absolute left-4 top-4 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Vl,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse email *")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"votre@email.com",value:c.email,onChange:O=>d({...c,email:O.target.value}),required:!0}),e.createElement(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Mot de passe *")),e.createElement("div",{className:"relative"},e.createElement("input",{type:f?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre mot de passe",value:c.password,onChange:O=>d({...c,password:O.target.value}),required:!0}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>p(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},f?e.createElement(Wc,{className:"w-4 h-4"}):e.createElement(Kl,{className:"w-4 h-4"}))),e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:f,onChange:()=>p(!f),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher le mot de passe")))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Pays *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 cursor-not-allowed",value:"Rpublique du Congo",readOnly:!0,disabled:!0}),e.createElement(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Ville *")),e.createElement("div",{className:"relative"},e.createElement("select",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all text-sm",value:c.city,onChange:O=>d({...c,city:O.target.value}),required:!0},e.createElement("option",{value:""},"Choisissez votre ville"),T.map(O=>e.createElement("option",{key:O,value:O},O))),e.createElement(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"space-y-2"},e.createElement("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Jr,{className:"w-4 h-4 text-indigo-500"}),"Genre *"),e.createElement("div",{className:"grid grid-cols-2 gap-3"},M.map(O=>e.createElement("label",{key:O.value,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors cursor-pointer ${c.gender===O.value?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-600"}`},e.createElement("input",{type:"radio",name:"gender",value:O.value,checked:c.gender===O.value,onChange:I=>d({...c,gender:I.target.value}),className:"sr-only"}),O.label))))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Type de compte")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("label",{className:`relative cursor-pointer rounded-2xl border-2 p-4 transition-all ${c.accountType==="person"?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`},e.createElement("input",{type:"radio",name:"accountType",value:"person",checked:c.accountType==="person",onChange:O=>d(I=>({...I,accountType:O.target.value})),className:"sr-only"}),e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${c.accountType==="person"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},c.accountType==="person"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"})),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center space-x-2 mb-1"},e.createElement(Jr,{className:"w-4 h-4 text-gray-600"}),e.createElement("span",{className:"font-semibold text-gray-900"},"Particulier")),e.createElement("p",{className:"text-sm text-gray-500"},"Vendez vos produits occasionnels")))),e.createElement("label",{className:`relative cursor-pointer rounded-2xl border-2 p-4 transition-all ${c.accountType==="shop"?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`},e.createElement("input",{type:"radio",name:"accountType",value:"shop",checked:c.accountType==="shop",onChange:O=>d(I=>({...I,accountType:O.target.value})),className:"sr-only"}),e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${c.accountType==="shop"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},c.accountType==="shop"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"})),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center space-x-2 mb-1"},e.createElement(La,{className:"w-4 h-4 text-gray-600"}),e.createElement("span",{className:"font-semibold text-gray-900"},"Boutique")),e.createElement("p",{className:"text-sm text-gray-500"},"Votre entreprise professionnelle")))))),c.accountType==="shop"&&e.createElement("div",{className:"space-y-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-900"},e.createElement("p",{className:"font-semibold text-amber-900"},"Boutique sous approbation"),e.createElement("p",null,"Seuls les administrateurs peuvent activer un compte boutique pour un utilisateur. Enregistrez-vous d'abord comme particulier puis"," ",e.createElement(ce,{to:"/help",className:"font-semibold text-amber-900 underline"},"contactez l'quipe HDMarket")," ","pour demander la conversion."),e.createElement("p",{className:"text-xs text-amber-800"},"Votre compte restera un profil personnel tant que la conversion n'est pas valide.")),e.createElement("button",{type:"submit",disabled:g||!c.name||!c.email||!c.password||!c.phone||!c.address||!c.city||!c.gender||!x,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},g?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Cration du compte...")):e.createElement(e.Fragment,null,e.createElement(kc,{className:"w-5 h-5"}),e.createElement("span",null,"Crer mon compte")))),e.createElement("div",{className:"text-center mt-6 pt-6 border-t border-gray-100"},e.createElement("p",{className:"text-gray-600"},"Dj un compte ?"," ",e.createElement(ce,{to:"/login",className:"text-indigo-600 hover:text-indigo-500 font-semibold transition-colors"},"Se connecter")))),e.createElement("div",{className:"text-center space-y-1"},e.createElement("p",{className:"text-xs text-gray-500"},"En crant un compte, vous acceptez nos"," ",e.createElement(ce,{to:"/help",className:"text-indigo-600 hover:text-indigo-500"},"conditions d'utilisation et service client")," ","ainsi que notre"," ",e.createElement(ce,{to:"/privacy",className:"text-indigo-600 hover:text-indigo-500"},"politique de confidentialit")),e.createElement("p",{className:"text-[11px] text-gray-400"},"ETS HD Tech Filial"))))}function Ok(){const t=ea(),[r,a]=u.useState({phone:"",verificationCode:"",newPassword:"",confirmPassword:""}),[l,o]=u.useState(!1),[c,d]=u.useState(!1),[f,p]=u.useState(!1),[g,y]=u.useState(!1),[x,S]=u.useState(""),[v,N]=u.useState(""),E=async()=>{if(!r.phone.trim()){N("Veuillez saisir votre numro de tlphone.");return}d(!0),N(""),S("");try{await ee.post("/auth/password/forgot",{phone:r.phone}),p(!0),S("Code envoy par SMS. Vrifiez votre tlphone.")}catch(w){N(w.response?.data?.message||w.message)}finally{d(!1)}},C=async w=>{if(w.preventDefault(),N(""),S(""),!r.verificationCode.trim()){N("Veuillez saisir le code reu par SMS.");return}if(!r.newPassword){N("Veuillez saisir un nouveau mot de passe.");return}if(r.newPassword!==r.confirmPassword){N("Les mots de passe ne correspondent pas.");return}y(!0);try{await ee.post("/auth/password/reset",{phone:r.phone,verificationCode:r.verificationCode.trim(),newPassword:r.newPassword}),S("Mot de passe mis  jour. Redirection vers la connexion..."),setTimeout(()=>{t("/login")},1500)}catch(k){N(k.response?.data?.message||k.message)}finally{y(!1)}};return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"max-w-md w-full space-y-8"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"flex justify-center mb-6"},e.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-lg"},e.createElement(Ha,{className:"w-10 h-10 text-white"}))),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Rinitialiser le mot de passe"),e.createElement("p",{className:"text-gray-500"},"Recevez un code SMS pour scuriser la rinitialisation")),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},e.createElement("form",{onSubmit:C,className:"space-y-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ol,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Numro de tlphone")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"06 000 00 00",value:r.phone,onChange:w=>a(k=>({...k,phone:w.target.value})),required:!0}),e.createElement(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),e.createElement("button",{type:"button",onClick:E,disabled:c||!r.phone.trim(),className:"w-full mt-3 py-3 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},c?"Envoi...":f?"Renvoyer le code":"Envoyer le code")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ha,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Code de vrification")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Code reu par SMS",value:r.verificationCode,onChange:w=>a(k=>({...k,verificationCode:w.target.value})),required:!0}),e.createElement(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nouveau mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:l?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nouveau mot de passe",value:r.newPassword,onChange:w=>a(k=>({...k,newPassword:w.target.value})),required:!0}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>o(w=>!w),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},l?e.createElement(Wc,{className:"w-4 h-4"}):e.createElement(Kl,{className:"w-4 h-4"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Confirmer le mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:l?"text":"password",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Confirmez le mot de passe",value:r.confirmPassword,onChange:w=>a(k=>({...k,confirmPassword:w.target.value})),required:!0}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:l,onChange:()=>o(w=>!w),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher les mots de passe")),v&&e.createElement("p",{className:"text-sm text-red-600"},v),x&&e.createElement("p",{className:"text-sm text-emerald-600"},x),e.createElement("button",{type:"submit",disabled:g,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},g?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Confirmation...")):e.createElement(e.Fragment,null,e.createElement(Ha,{className:"w-5 h-5"}),e.createElement("span",null,"Mettre  jour le mot de passe")))),e.createElement("div",{className:"text-center mt-6 pt-6 border-t border-gray-100"},e.createElement(ce,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-500 font-semibold transition-colors"},e.createElement(an,{className:"w-4 h-4"}),"Retour  la connexion")))))}function zk({product:t,onSubmitted:r}){const a=u.useMemo(()=>Math.round(t.price*.03*100)/100,[t.price]),[l,o]=u.useState({payerName:"",operator:"MTN",transactionNumber:"",amount:a}),[c,d]=u.useState(!1);u.useEffect(()=>o(S=>({...S,amount:a})),[a]);const f=t.payment?.status||null,p=!!t.payment,g=async S=>{if(S.preventDefault(),!p){d(!0);try{await ee.post("/payments",{...l,productId:t._id}),alert("Paiement soumis. En attente de vrification."),r&&await r()}catch(v){alert(v.response?.data?.message||v.message)}finally{d(!1)}}},x={waiting:{title:"Paiement en attente de validation",description:"Votre paiement a t reu et est en cours de vrification par notre quipe. Votre annonce sera publie sous 24h aprs approbation.",icon:yr,tone:"bg-amber-50 border-amber-200 text-amber-800",iconColor:"text-amber-500"},verified:{title:"Paiement vrifi - Annonce active",description:"Votre paiement a t valid avec succs. Votre annonce est maintenant visible par tous les acheteurs sur la plateforme.",icon:xr,tone:"bg-green-50 border-green-200 text-green-800",iconColor:"text-green-500"},rejected:{title:"Paiement rejet",description:"Votre paiement n'a pas pu tre valid. Veuillez contacter notre support ou soumettre un nouveau paiement.",icon:zn,tone:"bg-red-50 border-red-200 text-red-800",iconColor:"text-red-500"}}[f]||{title:"Paiement enregistr",description:"Statut en cours de mise  jour.",icon:yr,tone:"bg-gray-50 border-gray-200 text-gray-700",iconColor:"text-gray-500"};if(p){const S=x.icon;return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-6"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(fr,{className:"w-8 h-8 text-white"})),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Statut de paiement"),e.createElement("p",{className:"text-gray-500"},"Suivi de votre transaction")),e.createElement("div",{className:`rounded-2xl border-2 p-6 ${x.tone} mb-6`},e.createElement("div",{className:"flex items-start space-x-4"},e.createElement("div",{className:"flex-shrink-0"},e.createElement(S,{className:`w-8 h-8 ${x.iconColor}`})),e.createElement("div",{className:"flex-1"},e.createElement("h3",{className:"text-lg font-semibold mb-2"},x.title),e.createElement("p",{className:"text-sm leading-relaxed"},x.description)))),e.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Dtails de la transaction"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Produit:"),e.createElement("span",{className:"font-medium text-gray-900"},t.title)),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Prix du produit:"),e.createElement("span",{className:"font-medium text-gray-900"},Number(t.price).toLocaleString()," FCFA")),t.confirmationNumber&&e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Code produit:"),e.createElement("span",{className:"font-semibold text-gray-900"},t.confirmationNumber))),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Commission (3%):"),e.createElement("span",{className:"font-medium text-gray-900"},a.toLocaleString()," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Statut actuel:"),e.createElement("span",{className:`font-medium px-2 py-1 rounded-full text-xs ${f==="verified"?"bg-green-100 text-green-800":f==="rejected"?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`},f||t.status))))))}return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Mu,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Validation de l'annonce"),e.createElement("p",{className:"text-gray-500"},"Finalisez votre publication en payant la commission")),e.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6"},e.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h3",{className:"font-semibold text-indigo-900 text-sm"},"Commission de publication"),e.createElement("p",{className:"text-indigo-700 text-xs"},"3% du prix du produit")),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"text-2xl font-bold text-indigo-600"},a.toLocaleString()," FCFA"),e.createElement("div",{className:"text-indigo-500 text-xs"},"sur ",Number(t.price).toLocaleString()," FCFA")))),e.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4"},e.createElement("div",{className:"flex items-start space-x-3"},e.createElement(zn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.createElement("div",{className:"space-y-2"},e.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Instructions de paiement"),e.createElement("p",{className:"text-amber-700 text-sm"},"Effectuez un transfert mobile de ",e.createElement("span",{className:"font-bold"},a.toLocaleString()," FCFA"),"et renseignez les dtails de la transaction ci-dessous.")))),t.confirmationNumber&&e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-600"},e.createElement("p",{className:"font-semibold text-gray-900 text-[12px] mb-1"},"Code produit : ",e.createElement("span",{className:"text-indigo-600"},t.confirmationNumber)),e.createElement("p",null,"Communiquez ce code  ladministrateur ou au support lorsque vous confirmez votre commande afin quil identifie rapidement lannonce.")),e.createElement("form",{onSubmit:g,className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nom du payeur *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nom complet",value:l.payerName,onChange:S=>o({...l,payerName:S.target.value}),disabled:c,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Mu,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Oprateur mobile *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:l.operator,onChange:S=>o({...l,operator:S.target.value}),disabled:c,required:!0},e.createElement("option",{value:"MTN"},"MTN"),e.createElement("option",{value:"Airtel"},"Airtel"),e.createElement("option",{value:"Other"},"Autre"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(O1,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Numro de transaction *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Numro reu par SMS",value:l.transactionNumber,onChange:S=>o({...l,transactionNumber:S.target.value}),disabled:c,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(np,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Montant pay (FCFA)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:a,disabled:!0}))),e.createElement("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},c?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Soumission en cours...")):e.createElement(e.Fragment,null,e.createElement(Bx,{className:"w-5 h-5"}),e.createElement("span",null,"Soumettre le paiement"))),e.createElement("p",{className:"text-center text-xs text-gray-500"},"Votre annonce sera approuve sous 24h aprs vrification du paiement"))))}const Dk={MTN:"069822930",Airtel:"050237023"},zs=3,Ym=20,Qm=10,I0=({className:t=""})=>e.createElement("svg",{viewBox:"0 0 24 24",className:t,"aria-hidden":"true",focusable:"false"},e.createElement("path",{fill:"currentColor",d:"M9 3h6l1 2h5v2H3V5h5l1-2zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM6 7h12l-1 14H7L6 7z"}));function Fk(t){const{onCreated:r,onUpdated:a,initialValues:l,productId:o,submitLabel:c}=t,[d,f]=u.useState({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),[p,g]=u.useState([]),[y,x]=u.useState(!1),[S,v]=u.useState([]),[N,E]=u.useState([]),[C,w]=u.useState([]),[k,L]=u.useState(""),{user:_}=u.useContext(Bt),T=!!(_?.shopVerified&&_?.accountType==="shop"),M=_?.accountType==="shop",[D,R]=u.useState(null),[O,I]=u.useState(""),[j,Y]=u.useState(null),[te,me]=u.useState(""),[Q,ue]=u.useState(null),[ie,H]=u.useState(!1),[B,X]=u.useState(0),[z,G]=u.useState(!1),V=ve=>{const Ne=Array.from(ve.target.files||[]);if(!Ne.length)return;const _e=Math.max(0,zs-N.length);if(_e===0){L(`Maximum ${zs} photos au total. Supprimez une image pour en ajouter.`),ve.target.value="";return}const rt=Ne.slice(0,_e);Ne.length>_e?L(`Maximum ${zs} photos au total. Seules les premires ont t conserves.`):L(""),g(rt);const ut=rt.map(Ke=>({url:URL.createObjectURL(Ke),name:Ke.name}));v(ut),ve.target.value=""},fe=ve=>{const Ne=p.filter((rt,ut)=>ut!==ve),_e=S.filter((rt,ut)=>ut!==ve);g(Ne),v(_e),Ne.length<zs&&L("")},ge=ve=>{const Ne=N[ve];Ne&&(E(N.filter((_e,rt)=>rt!==ve)),w(_e=>[..._e,Ne]),N.length-1+p.length<zs&&L(""))},we=ve=>{const Ne=ve.target.files?.[0];if(Ne){if(!Ne.type.startsWith("video/")){I("Le fichier doit tre une vido (MP4, MOV, ...).");return}if(Ne.size>Ym*1024*1024){I(`La vido doit faire moins de ${Ym} Mo.`);return}I(""),R(Ne),ve.target.value=""}},Pe=()=>{R(null),I("")},Le=ve=>{const Ne=ve.target.files?.[0];if(Ne){if(Ne.type!=="application/pdf"){me("Le fichier doit tre un PDF.");return}if(Ne.size>Qm*1024*1024){me(`Le PDF doit faire moins de ${Qm} Mo.`);return}me(""),Y(Ne),H(!1),ve.target.value=""}},je=()=>{Y(null),me("")},Ye=async ve=>{ve.preventDefault(),x(!0),D&&(G(!0),X(0));try{const Ne=new FormData;Object.entries(d).forEach(([Ke,yt])=>{Ke==="discount"&&(yt===""||yt===null||yt===void 0)||Ne.append(Ke,yt)}),p.slice(0,zs).forEach(Ke=>Ne.append("images",Ke)),C.forEach(Ke=>Ne.append("removeImages",Ke)),D&&Ne.append("video",D),j&&Ne.append("pdf",j),ie&&Ne.append("removePdf","true");const _e=`/products${o?`/${o}`:""}`,ut=await ee[o?"put":"post"](_e,Ne,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Ke=>{if(Ke.total){const yt=Math.round(Ke.loaded*100/Ke.total);X(yt)}}});o?a?.(ut.data):r?.(ut.data),f({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),g([]),v([]),E([]),w([]),L(""),R(null),I(""),Y(null),me(""),ue(null),H(!1)}catch(Ne){alert(Ne.response?.data?.message||Ne.message)}finally{x(!1),G(!1),X(0)}},He=()=>{const ve=parseFloat(d.price)||0;return Math.round(ve*.03)};u.useEffect(()=>{if(!l){E([]),ue(null),H(!1),w([]);return}f({title:l.title||"",description:l.description||"",price:l.price||"",category:l.category||"",condition:l.condition||"new",operator:l.operator||"MTN",discount:typeof l.discount=="number"||typeof l.discount=="string"?l.discount:""}),E(Array.isArray(l.images)?l.images:[]),ue(l.pdf||null),H(!1),w([])},[l]);const tt=!!o,J=tt?"Modifier une annonce":"Publier une annonce",We=tt?"Mettez  jour les informations de votre produit":"Remplissez les dtails de votre produit pour commencer  vendre",Re=c||(tt?"Mettre  jour lannonce":"Publier lannonce"),De=tt?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2";return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(vr,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},J),e.createElement("p",{className:"text-gray-500 text-sm"},We)),e.createElement("form",{onSubmit:Ye,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Titre de l'annonce *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:d.title,onChange:ve=>f({...d,title:ve.target.value}),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Description dtaille *")),e.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:d.description,onChange:ve=>f({...d,description:ve.target.value}),required:!0})),e.createElement("div",{className:`grid ${De} gap-4`},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ys,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Catgorie *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:d.category,onChange:ve=>f({...d,category:ve.target.value}),required:!0},e.createElement("option",{value:""},"Slectionnez une catgorie"),xs.map((ve,Ne)=>e.createElement("optgroup",{key:Ne,label:ve.label},ve.options.map(_e=>e.createElement("option",{key:_e.value,value:_e.value},_e.label)))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(np,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Prix (FCFA) *")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 250000",value:d.price,onChange:ve=>f({...d,price:ve.target.value}),required:!0,min:"0"})),tt&&e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ys,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Remise (%)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 5",value:d.discount,onChange:ve=>{const Ne=ve.target.value;if(Ne===""){f(rt=>({...rt,discount:""}));return}const _e=Math.max(0,Math.min(99,Number(Ne)));f(rt=>({...rt,discount:_e}))},min:"0",max:"99"}),e.createElement("p",{className:"text-[11px] text-gray-500"},"Laissez vide pour aucune remise. Le pourcentage maximum est de 99%."))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),e.createElement("div",{className:"flex space-x-4"},e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"new",checked:d.condition==="new",onChange:ve=>f({...d,condition:ve.target.value}),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${d.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},d.condition==="new"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"used",checked:d.condition==="used",onChange:ve=>f({...d,condition:ve.target.value}),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${d.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},d.condition==="used"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Oprateur mobile"),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:d.operator,onChange:ve=>f({...d,operator:ve.target.value})},e.createElement("option",{value:"MTN"},"MTN"),e.createElement("option",{value:"Airtel"},"Airtel"))))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Photos du produit")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Dx,{className:"w-4 h-4 text-blue-500"}),e.createElement("span",null,"Photos"," ",N.length+p.length>0&&`(${N.length+p.length})`)),e.createElement("p",{className:"text-xs text-gray-500"},"Jusqu' ",zs," photos (PNG ou JPG, 10MB max chacun)."),N.length>0&&e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-xs text-gray-500"},"Images actuelles"),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},N.map((ve,Ne)=>e.createElement("div",{key:`${ve}-${Ne}`,className:"relative group"},e.createElement("img",{src:ve,alt:`Image existante ${Ne+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("button",{type:"button",onClick:()=>ge(Ne),className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600 transition-colors","aria-label":"Supprimer l'image"},e.createElement(I0,{className:"w-3.5 h-3.5"})))))),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG jusqu' 10MB")),e.createElement("input",{type:"file",multiple:!0,onChange:V,className:"hidden",accept:"image/*"})),k&&e.createElement("p",{className:"text-xs text-red-500"},k),S.length>0&&e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},S.map((ve,Ne)=>e.createElement("div",{key:Ne,className:"relative group"},e.createElement("img",{src:ve.url,alt:`Preview ${Ne+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("button",{type:"button",onClick:()=>fe(Ne),className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600 transition-colors","aria-label":"Supprimer l'image"},e.createElement(I0,{className:"w-3.5 h-3.5"}))))))),T?e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-2"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vido de prsentation")),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez une courte vido (MP4, MOV, WEBM) pour montrer le produit. Taille maximale ",Ym," Mo."),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(Vx,{className:"w-8 h-8 text-gray-400 group-hover:text-emerald-500 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader votre vido"),e.createElement("input",{type:"file",accept:"video/*",onChange:we,className:"hidden"})),D&&e.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},e.createElement("span",{className:"text-sm text-gray-700 truncate"},D.name),e.createElement("button",{type:"button",onClick:Pe,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")),O&&e.createElement("p",{className:"text-xs text-red-500"},O),z&&e.createElement("div",{className:"mt-2 w-full rounded-full bg-gray-100 h-2 overflow-hidden"},e.createElement("div",{className:"h-full bg-indigo-600 transition-all duration-200",style:{width:`${B}%`}}))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500 space-y-1"},e.createElement("p",{className:"font-semibold text-gray-700"},"Vido rserve aux boutiques certifies"),e.createElement("p",null,"Contactez un administrateur via"," ",e.createElement("a",{href:"/help",className:"font-semibold text-indigo-600 hover:underline"},"le centre daide")," ","pour valider votre boutique.")),M&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-2"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-slate-500 to-gray-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Fiche produit (PDF)")),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez un document PDF pour dtailler votre produit. Taille maximale ",Qm," Mo."),Q&&!j&&!ie&&e.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700"},e.createElement("div",null,e.createElement("span",{className:"font-medium"},"PDF actuel :")," ",e.createElement("a",{href:Q,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline"},"Ouvrir")),e.createElement("button",{type:"button",onClick:()=>H(!0),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-red-200 bg-red-50 text-red-600 transition hover:bg-red-100","aria-label":"Supprimer le PDF",title:"Supprimer le PDF"},e.createElement(sp,{className:"h-4 w-4"}))),ie&&e.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700"},e.createElement("span",null,"Le PDF sera supprim lors de lenregistrement."),e.createElement("button",{type:"button",onClick:()=>H(!1),className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Annuler")),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(bn,{className:"w-8 h-8 text-gray-400 group-hover:text-slate-600 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader un PDF"),e.createElement("input",{type:"file",accept:"application/pdf",onChange:Le,className:"hidden"})),j&&e.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},e.createElement("span",{className:"text-sm text-gray-700 truncate"},j.name),e.createElement("button",{type:"button",onClick:je,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")),te&&e.createElement("p",{className:"text-xs text-red-500"},te)),!tt&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Validation de l'annonce")),e.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 space-y-3"},e.createElement("div",{className:"flex items-start space-x-3"},e.createElement(zn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.createElement("div",{className:"space-y-2"},e.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Commission de publication"),e.createElement("p",{className:"text-amber-700 text-sm"},"Pour valider votre annonce, envoyez ",e.createElement("span",{className:"font-bold"},He().toLocaleString()," FCFA"),"(3% du prix) au numro ",e.createElement("span",{className:"font-bold"},Dk[d.operator])," (",d.operator,")."),e.createElement("div",{className:"flex items-center space-x-2 text-xs text-amber-600"},e.createElement(Lu,{className:"w-4 h-4"}),e.createElement("span",null,"Votre annonce sera approuve sous 24h aprs paiement")))))),e.createElement("button",{type:"submit",disabled:y||!d.title||!d.description||!d.price||!d.category,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},y?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,tt?"Mise  jour en cours...":"Publication en cours...")):e.createElement(e.Fragment,null,e.createElement(Bx,{className:"w-5 h-5"}),e.createElement("span",null,Re)))))}function $k(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(null),[d,f]=u.useState(1),p=sn(),g=6,y=()=>{l(!1),c(null)},x=async()=>{const{data:_}=await ee.get("/products");r(_),f(1)};u.useEffect(()=>{x()},[]);const S={pending:"Annonce en attente de validation aprs paiement.",approved:"Annonce valide et visible par les acheteurs.",rejected:"Annonce rejete. Consultez le support pour plus de dtails.",disabled:"Annonce dsactive. Elle n'est plus visible par les acheteurs."},v={pending:"text-yellow-600",approved:"text-green-600",rejected:"text-red-600",disabled:"text-gray-500"},N=async(_,T)=>{try{await ee.patch(`/products/${_}/${T}`),x()}catch(M){alert(M.response?.data?.message||M.message)}},E=t.length?Math.ceil(t.length/g):1,C=u.useMemo(()=>{const _=(d-1)*g;return t.slice(_,_+g)},[t,d]),w=t.length?(d-1)*g+1:0,k=Math.min(t.length,d*g),L=_=>{const T=Math.min(Math.max(_,1),E);f(T)};return e.createElement("div",{className:"max-w-6xl mx-auto p-4 space-y-6"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("h2",{className:"text-2xl font-bold"},"Mes annonces"),e.createElement("button",{type:"button",onClick:()=>{c(null),l(!0)},className:"inline-flex items-center justify-center gap-2 rounded-full border border-indigo-600 bg-indigo-600/10 px-4 py-2 text-sm font-semibold text-indigo-700 transition hover:bg-indigo-600 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-500"},"Publier une annonce")),a&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/40 px-4 py-6 sm:items-center"},e.createElement("div",{className:"relative w-full max-w-4xl overflow-hidden rounded-2xl bg-white p-0 shadow-2xl sm:p-6"},e.createElement("div",{className:"flex items-center justify-between border-b border-gray-100 px-5 py-4"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},o?"Modifier une annonce":"Publier une annonce"),e.createElement("button",{type:"button",onClick:y,className:"text-xs font-semibold uppercase tracking-wide text-gray-500 transition hover:text-gray-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-500"},"Fermer")),e.createElement("div",{className:"max-h-[85vh] overflow-y-auto px-5 py-6 sm:px-6"},e.createElement(Fk,{initialValues:o,productId:o?._id,onCreated:()=>{x(),y()},onUpdated:()=>{x(),y()}})))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},C.map(_=>e.createElement("div",{key:_._id,className:"border rounded p-3 space-y-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"font-semibold"},_.title),e.createElement("span",{className:"text-xs uppercase"},_.status)),_.images?.length?e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1"},_.images.map((T,M)=>e.createElement("img",{key:T||M,src:T,alt:`${_.title} ${M+1}`,className:"h-24 w-24 object-cover rounded border",loading:"lazy"}))):e.createElement("div",{className:"h-24 w-full bg-gray-100 flex items-center justify-center text-xs text-gray-500 rounded"},"Aucune image"),e.createElement("p",{className:"text-sm text-gray-600"},Number(_.price).toLocaleString()," FCFA"),e.createElement("p",{className:`text-sm font-medium ${v[_.status]||"text-gray-600"}`},S[_.status]||"Statut en cours de mise  jour."),e.createElement("div",{className:"flex items-center gap-2 pt-1 text-sm"},_.status==="approved"&&e.createElement(e.Fragment,null,e.createElement(ce,{to:Ft(_),...p,className:"text-indigo-600 hover:underline"},"Voir l'annonce"),e.createElement("span",{className:"text-gray-300"},"|")),e.createElement("button",{type:"button",className:"text-indigo-600 hover:underline",onClick:()=>{c(_),l(!0)}},"Modifier"),e.createElement("span",{className:"text-gray-300"},"|"),_.status!=="disabled"?e.createElement("button",{onClick:()=>N(_.slug||_._id,"disable"),className:"text-sm text-red-600 hover:underline",type:"button"},"Dsactiver"):e.createElement("button",{onClick:()=>N(_.slug||_._id,"enable"),className:"text-sm text-indigo-600 hover:underline",type:"button"},"Ractiver")),_.status!=="disabled"&&e.createElement(zk,{product:_,onSubmitted:x})))),t.length>g&&e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 px-2 pt-4 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Affichage ",w,"-",k," sur ",t.length," annonces"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>L(d-1),disabled:d===1},"Prcdent"),e.createElement("span",{className:"text-sm font-medium text-gray-700"},"Page ",d," / ",E),e.createElement("button",{type:"button",className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>L(d+1),disabled:d===E},"Suivant"))))}const cy=u.createContext({showToast:()=>{}}),j0={success:"border-green-200 bg-white text-green-700",error:"border-red-200 bg-white text-red-700",info:"border-indigo-200 bg-white text-indigo-700"},O0={success:"bg-green-100 text-green-600",error:"bg-red-100 text-red-600",info:"bg-indigo-100 text-indigo-600"},Bk=({children:t})=>{const[r,a]=u.useState([]),l=u.useCallback(d=>{a(f=>f.filter(p=>p.id!==d))},[]),o=u.useCallback((d,f={})=>{if(!d)return;const p=typeof f=="string"?{variant:f}:Array.isArray(f)?{}:f,{variant:g="success",duration:y=4e3}=p,x=`${Date.now()}-${Math.random().toString(36).slice(2,7)}`;a(S=>[...S,{id:x,message:d,variant:g}]),Number.isFinite(y)&&y>0&&setTimeout(()=>{l(x)},y)},[l]),c=u.useMemo(()=>({showToast:o}),[o]);return u.useEffect(()=>{const d=f=>{const p=f?.detail?.message||"Il semble que vous soyez hors ligne. Connectez-vous  Internet pour continuer.";o(p,{variant:"error"})};return window.addEventListener("hdmarket:network-error",d),()=>{window.removeEventListener("hdmarket:network-error",d)}},[o]),e.createElement(cy.Provider,{value:c},t,e.createElement("div",{className:"fixed top-24 right-4 z-[1050] flex flex-col gap-3"},r.map(d=>{const f=j0[d.variant]||j0.success,p=O0[d.variant]||O0.success;return e.createElement("div",{key:d.id,className:`flex items-start gap-3 rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm transition-all ${f}`},e.createElement("div",{className:`mt-0.5 flex h-8 w-8 items-center justify-center rounded-full ${p}`},e.createElement("span",{className:"text-sm font-semibold"},"!")),e.createElement("div",{className:"flex-1 text-sm leading-relaxed"},d.message),e.createElement("button",{type:"button",onClick:()=>l(d.id),className:"ml-2 text-xs font-semibold uppercase tracking-wide text-gray-400 hover:text-gray-600"},"Fermer"))})))},Yo=()=>{const t=u.useContext(cy);if(!t)throw new Error("useToast doit tre utilis  lintrieur de ToastProvider.");return t},wt=t=>Number(t||0).toLocaleString("fr-FR"),Pa=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Co=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",z0=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Zi=(t,r)=>{if(!r||!t)return"";const a=Number(t)/Number(r)*100,l=a>=1?a.toFixed(1):a.toFixed(2);return`${Number(l).toLocaleString("fr-FR")} %`},Vk=t=>{if(!t)return"";const[r,a]=t.split("-").map(Number);return new Date(r,(a||1)-1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})};function Mn({label:t,value:r,helper:a}){return e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white/80 px-4 py-3 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},t),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},r),a?e.createElement("p",{className:"text-xs text-gray-400 mt-1"},a):null)}const qk={pending:"En attente",approved:"Publie",rejected:"Rejete",disabled:"Dsactive"},Xm={waiting:"En attente",verified:"Valid",rejected:"Rejet"},Jm={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},D0=(t,r=!1)=>{const a=r?[t?.updatedAt,t?.createdAt,t?.product?.updatedAt,t?.product?.createdAt]:[t?.createdAt,t?.updatedAt,t?.product?.createdAt,t?.product?.updatedAt];for(const l of a){if(!l)continue;const o=Date.parse(l);if(!Number.isNaN(o))return o}return 0},_l=10,Pl=10;function Yr({title:t,value:r,subtitle:a,highlight:l}){return e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-1"},e.createElement("p",{className:"text-sm font-medium text-gray-500"},t),e.createElement("p",{className:`text-2xl font-semibold ${l?"text-indigo-600":"text-gray-900"}`},r),a?e.createElement("p",{className:"text-xs text-gray-500"},a):null)}function Uk(){const[t,r]=u.useState([]),[a,l]=u.useState("waiting"),[o,c]=u.useState(1),[d,f]=u.useState(""),[p,g]=u.useState(""),[y,x]=u.useState(null),[S,v]=u.useState(!1),[N,E]=u.useState(""),[C,w]=u.useState(""),[k,L]=u.useState(""),[_,T]=u.useState("person"),[M,D]=u.useState([]),[R,O]=u.useState(1),[I,j]=u.useState(!1),[Y,te]=u.useState(""),[me,Q]=u.useState(""),[ue,ie]=u.useState(""),[H,B]=u.useState(""),[X,z]=u.useState(null),[G,V]=u.useState([]),[fe,ge]=u.useState(!1),[we,Pe]=u.useState(""),[Le,je]=u.useState("pending"),[Ye,He]=u.useState(""),[tt,J]=u.useState(""),[We,Re]=u.useState(""),[De,ve]=u.useState(""),[Ne,_e]=u.useState(""),[rt,ut]=u.useState(""),[Ke,yt]=u.useState(()=>typeof window>"u"?!0:window.innerWidth<1024),[It,Vt]=u.useState("overview"),he=sn(),[Je,qe]=u.useState([]),[nt,bt]=u.useState(""),[jt,jr]=u.useState(!1),[zt,dr]=u.useState(""),[U,le]=u.useState(""),[Te,Tt]=u.useState(!1),[kt,Jt]=u.useState([]),[ae,Fe]=u.useState(!1),[F,ke]=u.useState(""),[lt,Lt]=u.useState(""),{showToast:ct}=Yo(),{user:Dt}=u.useContext(Bt),Ce=Dt?.role==="admin",Ot=Dt?.role==="manager",ot=Ce||Ot,vt=Ce,Gt=Ce,Rt=Ce||Ot,ar=Ce||Ot,Fr=Ot?"Espace gestionnaire":"Tableau de bord administrateur",Sa=Ot?"Validez les preuves de paiement et contrlez la mise en ligne des annonces.":"Visualisez les indicateurs cls de la plateforme et grez la validation des paiements.",Kt=u.useMemo(()=>{const A=[];return vt&&A.push({key:"overview",label:"Statistiques"}),Gt&&A.push({key:"users",label:"Utilisateurs"}),Rt&&A.push({key:"payments",label:"Paiements"}),ar&&A.push({key:"complaints",label:"Rclamations"}),A},[vt,Gt,Rt,ar]),mr={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},_r={pending:"bg-orange-100 text-orange-800",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},ur=[{value:"",label:"Toutes"},{value:"pending",label:"En attente"},{value:"in_review",label:"En cours"},{value:"resolved",label:"Rsolues"}],$r=u.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),Pr=u.useCallback(A=>{if(!A)return A;const be=A.replace(/\\/g,"/");return/^https?:\/\//i.test(be)?be:`${$r}/${be.replace(/^\/+/,"")}`},[$r]),Yt=u.useCallback(async()=>{v(!0);try{const{data:A}=await ee.get("/admin/stats");x(A),E("")}catch(A){E(A.response?.data?.message||A.message||"Erreur lors du chargement des statistiques.")}finally{v(!1)}},[]),Br=u.useCallback(async()=>{Fe(!0),ke("");try{const[A,be,Ie]=await Promise.all([ee.get("/orders/admin",{params:{status:"pending",limit:30}}),ee.get("/orders/admin",{params:{status:"confirmed",limit:30}}),ee.get("/orders/admin",{params:{status:"delivering",limit:30}})]),Ze=Array.isArray(A.data)?A.data:A.data?.items||[],Ge=Array.isArray(be.data)?be.data:be.data?.items||[],st=Array.isArray(Ie.data)?Ie.data:Ie.data?.items||[],pt=[...Ze,...Ge,...st].sort((xt,sr)=>new Date(sr.createdAt).getTime()-new Date(xt.createdAt).getTime());Jt(pt)}catch(A){ke(A.response?.data?.message||"Impossible de charger les commandes en attente de relance."),Jt([])}finally{Fe(!1)}},[]),ta=u.useCallback(async A=>{if(A){Lt(A);try{const{data:be}=await ee.post(`/orders/admin/${A}/reminder`);ct(be?.message||"Rappel envoy aux vendeurs.",{variant:"success"})}catch(be){const Ie=be.response?.data?.message||"Impossible d'envoyer le rappel.";ct(Ie,{variant:"error"})}finally{Lt("")}}},[ct]),nr=u.useCallback(async()=>{const A=new URLSearchParams;["waiting","verified","rejected"].includes(a)&&A.append("status",a),p&&A.append("search",p);let be="/payments/admin";const Ie=A.toString();Ie&&(be+=`?${Ie}`);const{data:Ze}=await ee.get(be);let Ge=Array.isArray(Ze)?Ze.map(xt=>({...xt,product:xt.product?{...xt.product,images:Array.isArray(xt.product.images)?xt.product.images.map(Pr):void 0}:xt.product})):[];const st=Ge.filter(xt=>xt.product?._id&&(!xt.product.images||xt.product.images.length===0));if(st.length){const xt=await Promise.all(st.map(async kr=>{try{const pa=await ee.get(`/products/${kr.product._id}`);return{id:kr.product._id,images:pa.data?.images||[]}}catch{return{id:kr.product._id,images:[]}}})),sr=new Map(xt.map(({id:kr,images:pa})=>[kr,pa.map(Pr)]));Ge=Ge.map(kr=>{const pa=kr.product?._id;if(!pa)return kr;const tl=sr.get(pa);return tl?{...kr,product:{...kr.product,images:tl}}:kr})}a==="disabled_products"&&(Ge=Ge.filter(xt=>xt.product?.status==="disabled"));const pt=a==="verified";Ge=Ge.slice().sort((xt,sr)=>D0(sr,pt)-D0(xt,pt)),r(Ge),c(xt=>{const sr=Math.max(1,Math.ceil(Ge.length/_l));return Math.min(xt,sr)})},[a,p,Pr]),ra=u.useCallback(async()=>{j(!0),te("");try{const A=new URLSearchParams;k&&A.append("search",k),_&&_!=="all"&&A.append("accountType",_);const be=A.toString(),{data:Ie}=await ee.get(be?`/admin/users?${be}`:"/admin/users");D(Array.isArray(Ie)?Ie:[])}catch(A){te(A.response?.data?.message||A.message||"Erreur lors du chargement des utilisateurs.")}finally{j(!1)}},[_,k]),aa=u.useCallback(async()=>{if(!ar){V([]);return}ge(!0),Pe("");try{const A={};Le&&(A.status=Le);const{data:be}=await ee.get("/admin/complaints",{params:A}),Ie=Array.isArray(be)?be.map(Ze=>({...Ze,attachments:(Array.isArray(Ze.attachments)?Ze.attachments:[]).map(Ge=>({...Ge,url:Pr(Ge.path||Ge.url||"")}))})):[];V(Ie)}catch(A){Pe(A.response?.data?.message||A.message||"Erreur lors du chargement des rclamations.")}finally{ge(!1)}},[ar,Le,Pr]),Vr=u.useCallback(async()=>{if(ot){jr(!0),dr("");try{const{data:A}=await ee.get("/admin/prohibited-words");qe(Array.isArray(A)?A:[])}catch(A){dr(A.response?.data?.message||A.message||"Impossible de charger les mots interdits."),qe([])}finally{jr(!1)}}},[ot]),Mt=u.useCallback(async A=>{if(A.preventDefault(),!!nt.trim()){dr(""),le("");try{const{data:be}=await ee.post("/admin/prohibited-words",{word:nt.trim()});qe(Ie=>[...Ie,be]),bt(""),le("Mot ajout  la liste.")}catch(be){dr(be.response?.data?.message||be.message||"chec de lajout du mot interdit.")}}},[nt]),Ia=u.useCallback(async A=>{dr(""),le("");try{await ee.delete(`/admin/prohibited-words/${A}`),qe(be=>be.filter(Ie=>Ie.id!==A)),le("Mot supprim de la liste.")}catch(be){dr(be.response?.data?.message||be.message||"Impossible de supprimer le mot.")}},[]);u.useEffect(()=>{vt&&Yt()},[Yt,vt]),u.useEffect(()=>{Rt&&nr()},[nr,Rt]),u.useEffect(()=>{Rt&&c(1)},[a,p,Rt]),u.useEffect(()=>{Rt||(f(""),g(""))},[Rt]),u.useEffect(()=>{const A=setTimeout(()=>{g(d.trim())},400);return()=>clearTimeout(A)},[d]),u.useEffect(()=>{if(!Gt){D([]),j(!1);return}ra()},[ra,Gt]),u.useEffect(()=>{const A=setTimeout(()=>{L(C.trim())},400);return()=>clearTimeout(A)},[C]),u.useEffect(()=>{Gt&&O(1)},[_,k,Gt]),u.useEffect(()=>{Gt&&O(A=>{const be=Math.max(1,Math.ceil(M.length/Pl));return Math.min(A,be)})},[M.length,Gt]),u.useEffect(()=>{ar||(V([]),ge(!1),Pe(""))},[ar]),u.useEffect(()=>{const A=()=>{typeof window>"u"||yt(window.innerWidth<1024)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),u.useEffect(()=>{Kt.length&&Vt(A=>Kt.some(Ie=>Ie.key===A)?A:Kt[0].key)},[Kt]),u.useEffect(()=>{ar&&aa()},[aa,ar]),u.useEffect(()=>{ot&&Vr()},[ot,Vr]);const Et=u.useCallback(async(A,be)=>{try{ve(""),_e(""),be==="verify"?await ee.put(`/payments/admin/${A}/verify`):await ee.put(`/payments/admin/${A}/reject`),await nr(),Ce&&await Yt(),ve(be==="verify"?"Paiement valid avec succs.":"Paiement rejet avec succs.")}catch(Ie){_e(Ie.response?.data?.message||Ie.message||"Action impossible.")}},[Ce,nr,Yt]),Wa=u.useCallback(async A=>{if(!A){_e("Annonce introuvable.");return}try{ve(""),_e(""),await ee.patch(`/products/${A}/disable`),await nr(),Ce&&await Yt(),ve("Annonce dsactive avec succs.")}catch(be){_e(be.response?.data?.message||be.message||"Impossible de dsactiver cette annonce.")}},[Ce,nr,Yt]),qr=u.useCallback(async A=>{if(!A){_e("Annonce introuvable.");return}try{ve(""),_e(""),await ee.patch(`/products/${A}/enable`),await nr(),Ce&&await Yt(),ve("Annonce ractive avec succs.")}catch(be){_e(be.response?.data?.message||be.message||"Impossible de ractiver cette annonce.")}},[Ce,nr,Yt]),ja=u.useCallback(async(A,be)=>{if(!(!A||!be)){J(""),He(""),Re(A);try{await ee.patch(`/admin/complaints/${A}/status`,{status:be}),He("Statut de la rclamation mis  jour."),ct("Statut de la rclamation mis  jour.",{variant:"success"}),await aa()}catch(Ie){const Ze=Ie.response?.data?.message||Ie.message||"Impossible de mettre  jour le statut.";J(Ze),ct(Ze,{variant:"error"})}finally{Re("")}}},[aa,ct]),Ga=u.useCallback(async A=>{if(!A){_e("Rfrence de transaction introuvable.");return}try{if(!navigator.clipboard)throw new Error("Clipboard API non disponible");await navigator.clipboard.writeText(A),ve("Rfrence copie dans le presse-papiers."),_e("")}catch(be){_e("Impossible de copier la rfrence de transaction."),ve(""),console.error(be)}},[]),da=u.useCallback(async(A,be,Ie={})=>{B(A),te(""),Q("");try{const{data:Ze}=await ee.patch(`/admin/users/${A}/account-type`,{accountType:be,...Ie});D(Ge=>!Array.isArray(Ge)||!Ge.length?Ge:be==="shop"&&_==="person"?Ge.filter(st=>st.id!==Ze.id):be==="person"&&_==="shop"?Ge.filter(st=>st.id!==Ze.id):Ge.map(st=>st.id===Ze.id?Ze:st)),z(null),Q(be==="shop"?"Le compte a t converti en boutique.":"Le compte a t converti en particulier."),await Yt()}catch(Ze){te(Ze.response?.data?.message||Ze.message||"Impossible de mettre  jour le compte utilisateur.")}finally{B("")}},[Yt,_]),Zt=u.useCallback(async(A,be)=>{ie(A),te(""),Q("");try{const{data:Ie}=await ee.patch(`/admin/users/${A}/shop-verification`,{verified:be});D(Ze=>Ze.map(Ge=>Ge.id===Ie.id?Ie:Ge)),Q(be?"La boutique est dsormais vrifie.":"Le badge a t retir.")}catch(Ie){te(Ie.response?.data?.message||Ie.message||"Impossible de mettre  jour ltat de vrification.")}finally{ie("")}},[]),ln=u.useCallback(async(A,be)=>{ut(A),te(""),Q("");try{const{data:Ie}=await ee.patch(`/admin/users/${A}/role`,{role:be});D(Ze=>Ze.map(Ge=>Ge.id===Ie.id?Ie:Ge)),Q(be==="manager"?"Utilisateur promu gestionnaire de ventes.":"Le rle gestionnaire a t retir."),vt&&await Yt()}catch(Ie){te(Ie.response?.data?.message||Ie.message||"Impossible de mettre  jour le rle utilisateur.")}finally{ut("")}},[vt,Yt]),wr=u.useCallback(()=>{vt&&Yt(),Rt&&nr(),Gt&&ra(),ot&&Vr(),ar&&aa()},[Yt,nr,ra,aa,Vr,Rt,Gt,vt,ar,ot]);u.useEffect(()=>{if(!De&&!Ne)return;const A=setTimeout(()=>{ve(""),_e("")},4e3);return()=>clearTimeout(A)},[De,Ne]),u.useEffect(()=>{if(!Ye&&!tt)return;const A=setTimeout(()=>{He(""),J("")},4e3);return()=>clearTimeout(A)},[Ye,tt]),u.useEffect(()=>{Te&&Br()},[Te,Br]);const on=y?.users?.total||0,wn=y?.products?.total||0,ka=y?.orders||{},ma=ka.byStatus||{},na=Array.isArray(y?.demographics?.cities)?y.demographics.cities:[],de=Array.isArray(y?.demographics?.genders)?y.demographics.genders:[],pe=Array.isArray(y?.demographics?.productCities)?y.demographics.productCities:[],$e=Array.isArray(y?.demographics?.productGenders)?y.demographics.productGenders:[],ht=Math.max(1,Math.ceil(M.length/Pl)),Ct=u.useMemo(()=>{const A=(R-1)*Pl;return M.slice(A,A+Pl)},[M,R]),Qt=M.length?(R-1)*Pl+1:0,Sr=M.length?Math.min(R*Pl,M.length):0,ua=[{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"},{value:"all",label:"Tous"}],cn=Math.max(1,Math.ceil(t.length/_l)),Vn=u.useMemo(()=>{const A=(o-1)*_l;return t.slice(A,A+_l)},[t,o]),Nt=t.length?(o-1)*_l+1:0,vs=t.length?Math.min(o*_l,t.length):0,{overdueReminderOrders:dn,regularReminderOrders:sa}=u.useMemo(()=>{if(!kt.length)return{overdueReminderOrders:[],regularReminderOrders:[]};const A=Date.now(),be=2880*60*1e3,Ie=[],Ze=[];return kt.forEach(Ge=>{if(Ge?.status==="delivered")return;const st=Ge?.createdAt?new Date(Ge.createdAt).getTime():0;st&&A-st>=be?Ie.push(Ge):Ze.push(Ge)}),{overdueReminderOrders:Ie,regularReminderOrders:Ze}},[kt]),qn=A=>{const be=Array.isArray(A.items)?A.items:[],Ie=A.status==="pending"?"En attente":A.status==="confirmed"?"Confirme":A.status==="delivering"?"En cours de livraison":"Livre",Ze=new Map;be.forEach(st=>{const pt=st.snapshot?.shopId||st.product?.user?._id||st.product?.user||"",xt=st.snapshot?.shopName||st.product?.user?.shopName||st.product?.user?.name||"Boutique",sr=st.product?.user?.phone||"",kr=pt?String(pt):xt;Ze.has(kr)||Ze.set(kr,{name:xt,phone:sr})});const Ge=Array.from(Ze.values());return e.createElement("div",{key:A._id,className:"rounded-2xl border border-gray-100 p-4 flex flex-col gap-3"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Commande #",A._id.slice(-6)),e.createElement("p",{className:"text-xs text-gray-500"},A.customer?.name||"Client","  ",A.deliveryCity)),e.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-700"},Ie)),Ge.length>0&&e.createElement("div",{className:"text-xs text-gray-600 space-y-1"},Ge.map(st=>e.createElement("p",{key:`${A._id}-${st.name}`},"Vendeur: ",st.name,st.phone?`  ${st.phone}`:""))),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>ta(A._id),disabled:lt===A._id,className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700 hover:bg-amber-100 disabled:opacity-50"},"Rappel"),e.createElement(ce,{to:"/admin/orders",className:"text-xs font-semibold text-indigo-600 hover:underline"},"Voir dans commandes")))},mn=A=>!Ke||It===A,Es=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 sm:px-6 lg:px-8"},e.createElement("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},Fr),e.createElement("p",{className:"text-sm text-gray-500"},Sa)),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:wr,className:"inline-flex items-center justify-center rounded-md border border-indigo-600 px-4 py-2 text-sm font-medium text-indigo-600 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500"},"Actualiser"),e.createElement(ce,{to:"/admin/products",className:"inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"},"Produits & statistiques"))),Ke&&Kt.length>1&&e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-2"},Kt.map(A=>e.createElement("button",{key:A.key,type:"button",onClick:()=>Vt(A.key),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${It===A.key?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},A.label))),vt&&mn("overview")&&e.createElement(e.Fragment,null,e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vue d'ensemble"),y?.generatedAt&&e.createElement("span",{className:"text-xs text-gray-500"},"Mise  jour: ",z0(y.generatedAt))),N?e.createElement("p",{className:"text-sm text-red-600"},N):null,S&&!y?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des statistiques"):e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4"},e.createElement(Yr,{title:"Utilisateurs inscrits",value:wt(y?.users?.total),subtitle:`${wt(y?.users?.newLast30Days)} nouveaux sur 30 jours`}),e.createElement(Yr,{title:"Boutiques actives",value:wt(y?.users?.shops),subtitle:`${wt(y?.users?.admins)} administrateurs`}),e.createElement(Yr,{title:"Annonces actives",value:wt(y?.products?.total),subtitle:`${wt(y?.products?.approved)} publies`}),e.createElement(Yr,{title:"Annonces en attente",value:wt(y?.products?.pending),subtitle:`${wt(y?.products?.rejected)} rejetes`}),e.createElement(Yr,{title:"Paiements en attente",value:wt(y?.payments?.waiting),subtitle:`${wt(y?.payments?.verified)} valids`}),e.createElement(Yr,{title:"Commentaires",value:wt(y?.engagement?.comments),subtitle:`${wt(y?.engagement?.ratings)} valuations`}),e.createElement(Yr,{title:"CA total",value:Pa(y?.payments?.revenue),subtitle:`${Pa(y?.payments?.revenueLast30Days)} sur 30 jours`,highlight:!0}),e.createElement(Yr,{title:"Favoris enregistrs",value:wt(y?.engagement?.favorites),subtitle:"Total cumul"}))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Commandes globales"),e.createElement("button",{type:"button",onClick:()=>Tt(!0),className:"text-xs font-semibold text-indigo-600 hover:underline"},"Relances commandes")),N?e.createElement("p",{className:"text-sm text-red-600"},N):null,S&&!y?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des statistiques"):e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4"},e.createElement(Yr,{title:"Commandes totales",value:wt(ka.total||0),subtitle:"Toutes les commandes"}),e.createElement(Yr,{title:"En attente",value:wt(ma.pending?.count||0),subtitle:" valider"}),e.createElement(Yr,{title:"Confirmes",value:wt(ma.confirmed?.count||0),subtitle:" prparer"}),e.createElement(Yr,{title:"En cours de livraison",value:wt(ma.delivering?.count||0),subtitle:"Expdies"}),e.createElement(Yr,{title:"Livres",value:wt(ma.delivered?.count||0),subtitle:"Termines"}),e.createElement(Yr,{title:"Montant total",value:Pa(ka.totalAmount||0),subtitle:"Volume commandes",highlight:!0}),e.createElement(Yr,{title:"Acomptes encaisss",value:Pa(ka.paidAmount||0),subtitle:"Paiements reus"}),e.createElement(Yr,{title:"Reste  payer",value:Pa(ka.remainingAmount||0),subtitle:"Soldes ouverts"}))),Te&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>Tt(!1)}),e.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:A=>A.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Relances commandes"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commandes en attente, confirmes & en cours de livraison")),e.createElement("button",{type:"button",onClick:()=>Tt(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),ae?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):F?e.createElement("p",{className:"text-sm text-red-600"},F):kt.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande  relancer."):e.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-auto pr-1"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-rose-600"},"Commandes +48h non livres"),e.createElement("span",{className:"text-xs font-semibold text-rose-600"},dn.length)),dn.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande en retard pour le moment."):dn.map(qn)),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Autres commandes  relancer"),sa.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune autre commande  relancer."):sa.map(qn))))),ot&&e.createElement("section",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 shadow-sm space-y-4"},e.createElement("div",null,e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Mots interdits"),e.createElement("p",{className:"text-xs text-gray-500"},"Ajoutez les mots que les vendeurs ne doivent pas utiliser dans leurs annonces. Les annonces contenant ces mots seront bloques.")),e.createElement("form",{onSubmit:Mt,className:"flex flex-col gap-2 sm:flex-row"},e.createElement("input",{type:"text",placeholder:"Ex : contrefaon, interdit...",value:nt,onChange:A=>bt(A.target.value),className:"flex-1 rounded-xl border border-gray-200 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-100",disabled:jt}),e.createElement("button",{type:"submit",disabled:jt,className:"rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors"},"Ajouter")),U&&e.createElement("p",{className:"text-xs text-green-600"},U),zt&&e.createElement("p",{className:"text-xs text-red-600"},zt),e.createElement("div",{className:"flex flex-wrap gap-2"},Je.map(A=>e.createElement("span",{key:A.id,className:"flex items-center gap-2 rounded-full border border-gray-200 bg-gray-50 px-3 py-1 text-xs font-semibold text-gray-700"},A.word,e.createElement("button",{type:"button",onClick:()=>Ia(A.id),className:"text-[11px] text-red-600 hover:text-red-500"},"Supprimer"))),!Je.length&&e.createElement("p",{className:"text-xs text-gray-400"},"Aucun mot interdit dfini pour linstant."))),(na.length>0||de.length>0||pe.length>0||$e.length>0)&&e.createElement("section",{className:"grid grid-cols-1 gap-4 2xl:grid-cols-2"},na.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par ville"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Principales localisations des membres enregistrs."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,na.slice(0,8).map(A=>e.createElement("tr",{key:A.city,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},A.city),e.createElement("td",{className:"p-2 text-gray-900 text-right"},wt(A.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},Zi(A.count,on)))))))),de.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par genre"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Dclaration lors de linscription."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,de.map(A=>e.createElement("tr",{key:A.gender,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},A.gender),e.createElement("td",{className:"p-2 text-gray-900 text-right"},wt(A.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},Zi(A.count,on)))))))),pe.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par ville"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Localisation dclare des vendeurs au moment de la publication."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,pe.slice(0,8).map(A=>e.createElement("tr",{key:A.city,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},A.city),e.createElement("td",{className:"p-2 text-gray-900 text-right"},wt(A.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},Zi(A.count,wn)))))))),$e.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par genre"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Rpartition selon le genre des vendeurs."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,$e.map(A=>e.createElement("tr",{key:A.gender,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},A.gender),e.createElement("td",{className:"p-2 text-gray-900 text-right"},wt(A.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},Zi(A.count,wn))))))))),e.createElement("section",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Tendances des 6 derniers mois"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Nouveaux utilisateurs, annonces cres et revenus vrifis par mois."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Mois"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Revenus"))),e.createElement("tbody",null,y?.monthly?.length?y.monthly.map(A=>e.createElement("tr",{key:A.month,className:"border-t"},e.createElement("td",{className:"p-2 capitalize"},Vk(A.month)),e.createElement("td",{className:"p-2"},wt(A.newUsers)),e.createElement("td",{className:"p-2"},wt(A.newProducts)),e.createElement("td",{className:"p-2"},Pa(A.revenue)))):e.createElement("tr",null,e.createElement("td",{className:"p-2 text-sm text-gray-500",colSpan:4},"Aucune donne disponible pour le moment.")))))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Catgories les plus actives"),e.createElement("p",{className:"text-xs text-gray-500"},"Top 5 des catgories par nombre d'annonces approuves.")),y?.topCategories?.length?e.createElement("ul",{className:"space-y-3"},y.topCategories.map(A=>e.createElement("li",{key:A.category,className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-gray-900"},A.category),e.createElement("p",{className:"text-xs text-gray-500"},"Prix moyen: ",Pa(A.avgPrice))),e.createElement("span",{className:"text-sm font-semibold text-indigo-600"},wt(A.listings)," annonces")))):e.createElement("p",{className:"text-sm text-gray-500"},"Pas encore assez de donnes."))),e.createElement("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Nouveaux utilisateurs"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 derniers inscrits sur la plateforme."),e.createElement("ul",{className:"space-y-3"},y?.recent?.users?.length?y.recent.users.map(A=>e.createElement("li",{key:A.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},A.name),e.createElement("p",{className:"text-xs text-gray-500"},A.email),e.createElement("p",{className:"text-xs text-gray-400"},A.role==="admin"?"Admin  ":"",A.accountType==="shop"?"Boutique":"Particulier","  ",Co(A.createdAt)))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucun utilisateur rcent."))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Dernires annonces"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 annonces rcemment cres."),e.createElement("ul",{className:"space-y-3"},y?.recent?.products?.length?y.recent.products.map(A=>e.createElement("li",{key:A.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},A.title),e.createElement("p",{className:"text-xs text-gray-500"},Pa(A.price),"  ",A.owner||"Auteur inconnu"),e.createElement("p",{className:"text-xs text-gray-400"},qk[A.status]||A.status,"  ",Co(A.createdAt)))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucune annonce rcente."))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between gap-2 mb-3"},e.createElement("div",null,e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Paiements rcents"),e.createElement("p",{className:"text-xs text-gray-500"},"5 derniers paiements reus.")),e.createElement(ce,{to:"/admin/payments",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Voir tous ")),e.createElement("ul",{className:"space-y-3"},y?.recent?.payments?.length?y.recent.payments.map(A=>e.createElement("li",{key:A.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},A.payerName),e.createElement("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Jm[A.status]||"bg-gray-100 text-gray-600"}`},Xm[A.status]||A.status)),e.createElement("p",{className:"text-xs text-gray-500"},Pa(A.amount),"  ",A.operator),e.createElement("p",{className:"text-xs text-gray-400"},A.product||"Produit inconnu","  ",Co(A.createdAt)),A.status==="verified"&&A.validator&&e.createElement("p",{className:"text-xs text-green-600 font-medium"},"Valid par ",A.validator))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucun paiement rcent."))))),Gt&&mn("users")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Gestion des utilisateurs"),e.createElement("p",{className:"text-xs text-gray-500"},"Recherchez un compte particulier et convertissez-le en boutique si ncessaire."),e.createElement(ce,{to:"/admin/users",className:"mt-2 inline-flex items-center text-xs font-medium text-indigo-600 hover:underline"},"Ouvrir la gestion des suspensions ")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mn,{label:"Utilisateurs",value:wt(y?.users?.total),helper:`Boutiques : ${wt(y?.users?.shops)}`}),e.createElement(Mn,{label:"Utilisateurs bloqus",value:wt(y?.users?.blocked||0),helper:" surveiller"}),e.createElement(Mn,{label:"Nouveaux (30j)",value:wt(y?.users?.newLast30Days),helper:"Indicateur 30 jours"})),e.createElement("form",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",onSubmit:A=>{A.preventDefault(),z(null),te(""),Q("")}},e.createElement("input",{type:"search",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:w-60",placeholder:"Nom, email ou tlphone",value:C,onChange:A=>w(A.target.value)}),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center"},Ke?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},ua.map(A=>e.createElement("button",{key:A.value,type:"button",onClick:()=>{z(null),te(""),Q(""),T(A.value)},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${_===A.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},A.label))):e.createElement("select",{className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:_,onChange:A=>{z(null),te(""),Q(""),T(A.target.value)}},ua.map(A=>e.createElement("option",{key:A.value,value:A.value},A.label))),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"submit",className:"rounded bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-60",disabled:I},"Rechercher"),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{z(null),te(""),Q(""),w(""),L(""),T("person")}},"Rinitialiser"))))),Y?e.createElement("p",{className:"text-sm text-red-600"},Y):null,me?e.createElement("p",{className:"text-sm text-green-600"},me):null,Ke?e.createElement("div",{className:"space-y-4"},I?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):Ct.length?Ct.map(A=>{const be=A.role==="manager",Ie=A.role==="admin",Ze=Dt?.id===A.id,Ge=be?"user":"manager";return e.createElement("div",{key:A.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},A.name),e.createElement("p",{className:"break-all text-xs text-gray-500"},A.email),e.createElement("p",{className:"text-xs text-gray-400"},"Inscrit le ",Co(A.createdAt))),e.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},A.role)),e.createElement("div",{className:"space-y-1 text-xs text-gray-600"},e.createElement("p",null,"Tlphone : ",A.phone||""),A.accountType==="shop"?e.createElement("div",{className:"space-y-1"},e.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-[11px] font-semibold text-green-700"},"Boutique"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ia,{verified:!!A.shopVerified}),A.shopName?e.createElement("span",{className:"truncate"},A.shopName):null)):e.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},"Particulier")),e.createElement("div",{className:"space-y-3"},A.accountType==="shop"?e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("button",{type:"button",className:"w-full rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>da(A.id,"person"),disabled:H===A.id},"Convertir en particulier"),e.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-medium text-white ${A.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>Zt(A.id,!A.shopVerified),disabled:ue===A.id},A.shopVerified?"Retirer le badge":"Vrifier la boutique")):X?.id===A.id?e.createElement("div",{className:"space-y-2 rounded border border-gray-200 bg-gray-50 p-3 text-xs"},e.createElement("p",{className:"font-semibold text-gray-700"},"Conversion en boutique"),e.createElement("label",{className:"space-y-1 text-gray-600"},e.createElement("span",null,"Nom de la boutique"),e.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:X.shopName,onChange:st=>z(pt=>pt&&pt.id===A.id?{...pt,shopName:st.target.value}:pt),disabled:H===A.id})),e.createElement("label",{className:"space-y-1 text-gray-600"},e.createElement("span",null,"Adresse de la boutique"),e.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:X.shopAddress,onChange:st=>z(pt=>pt&&pt.id===A.id?{...pt,shopAddress:st.target.value}:pt),disabled:H===A.id})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:H===A.id,onClick:()=>{if(!X?.shopName?.trim()||!X?.shopAddress?.trim()){te("Veuillez renseigner le nom et l'adresse de la boutique."),Q("");return}da(A.id,"shop",{shopName:X.shopName.trim(),shopAddress:X.shopAddress.trim()})}},"Valider"),e.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>z(null),disabled:H===A.id},"Annuler"))):e.createElement("button",{type:"button",className:"w-full rounded bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{z({id:A.id,shopName:A.shopName||"",shopAddress:A.shopAddress||""}),te(""),Q("")}},"Convertir en boutique"),e.createElement("div",{className:"border-t border-gray-100 pt-3"},Ie?e.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",be?"Gestionnaire de ventes":"Utilisateur"),e.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-semibold ${be?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>ln(A.id,Ge),disabled:rt===A.id||Ze},rt===A.id?"Mise  jour...":be?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),Ze?e.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),e.createElement(ce,{to:`/admin/users/${A.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques ")))}):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur ne correspond  la recherche actuelle.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border text-left"},"Nom"),e.createElement("th",{className:"p-2 border text-left"},"Email"),e.createElement("th",{className:"p-2 border text-left"},"Statut"),e.createElement("th",{className:"p-2 border text-left"},"Tlphone"),e.createElement("th",{className:"p-2 border text-left"},"Inscription"),e.createElement("th",{className:"p-2 border text-left"},"Action"))),e.createElement("tbody",null,I?e.createElement("tr",null,e.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Chargement des utilisateurs")):Ct.length?Ct.map(A=>{const be=A.role==="manager",Ie=A.role==="admin",Ze=Dt?.id===A.id,Ge=be?"user":"manager";return e.createElement("tr",{key:A.id,className:"align-top"},e.createElement("td",{className:"p-2 border"},e.createElement("p",{className:"font-medium text-gray-900"},A.name),e.createElement("p",{className:"text-xs text-gray-500"},"Rle: ",A.role)),e.createElement("td",{className:"p-2 border"},A.email),e.createElement("td",{className:"p-2 border"},A.accountType==="shop"?e.createElement("div",{className:"space-y-2"},e.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-xs font-semibold text-green-700"},"Boutique"),e.createElement(ia,{verified:!!A.shopVerified}),A.shopName?e.createElement("p",{className:"text-xs text-gray-600 truncate"},A.shopName):null):e.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-xs font-semibold text-gray-700"},"Particulier")),e.createElement("td",{className:"p-2 border"},A.phone||""),e.createElement("td",{className:"p-2 border"},Co(A.createdAt)),e.createElement("td",{className:"p-2 border"},e.createElement("div",{className:"space-y-3"},A.accountType==="shop"?e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>da(A.id,"person"),disabled:H===A.id},"Convertir en particulier"),e.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-medium text-white ${A.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>Zt(A.id,!A.shopVerified),disabled:ue===A.id},A.shopVerified?"Retirer le badge":"Vrifier la boutique")):X?.id===A.id?e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Nom de la boutique",e.createElement("input",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:X.shopName,onChange:st=>z(pt=>pt&&pt.id===A.id?{...pt,shopName:st.target.value}:pt),disabled:H===A.id})),e.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Adresse de la boutique",e.createElement("textarea",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",rows:2,value:X.shopAddress,onChange:st=>z(pt=>pt&&pt.id===A.id?{...pt,shopAddress:st.target.value}:pt),disabled:H===A.id})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:H===A.id,onClick:()=>{if(!X?.shopName?.trim()||!X?.shopAddress?.trim()){te("Veuillez renseigner le nom et l'adresse de la boutique."),Q("");return}da(A.id,"shop",{shopName:X.shopName.trim(),shopAddress:X.shopAddress.trim()})}},"Valider"),e.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>z(null),disabled:H===A.id},"Annuler"))):e.createElement("button",{type:"button",className:"rounded bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{z({id:A.id,shopName:A.shopName||"",shopAddress:A.shopAddress||""}),te(""),Q("")}},"Convertir en boutique"),e.createElement("div",{className:"border-t border-gray-100 pt-3"},Ie?e.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",be?"Gestionnaire de ventes":"Utilisateur"),e.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-semibold ${be?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>ln(A.id,Ge),disabled:rt===A.id||Ze},rt===A.id?"Mise  jour...":be?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),Ze?e.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),e.createElement(ce,{to:`/admin/users/${A.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques "))))}):e.createElement("tr",null,e.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Aucun utilisateur ne correspond  la recherche actuelle."))))),!I&&e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,M.length?`Affichage ${Qt}-${Sr} sur ${M.length} utilisateurs`:"Aucun utilisateur pour ces critres."),M.length?e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>O(A=>Math.max(1,A-1)),disabled:R<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",R," / ",ht),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>O(A=>Math.min(ht,A+1)),disabled:R>=ht},"Suivant")):null)),Rt&&mn("payments")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vrification des paiements"),e.createElement("p",{className:"text-xs text-gray-500"},"Validez ou rejetez les preuves de paiement envoyes par les vendeurs.")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mn,{label:"En attente",value:wt(y?.payments?.waiting),helper:"Paiements non vrifis"}),e.createElement(Mn,{label:"Valids",value:wt(y?.payments?.verified),helper:"Paiements accepts"}),e.createElement(Mn,{label:"CA valid",value:Pa(y?.payments?.revenue),helper:"Total confirm"})),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},Ke?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},Es.map(A=>e.createElement("button",{key:A.value,type:"button",onClick:()=>l(A.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${a===A.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},A.label))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm text-gray-600",htmlFor:"admin-payments-filter"},"Statut:"),e.createElement("select",{id:"admin-payments-filter",value:a,onChange:A=>l(A.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Es.map(A=>e.createElement("option",{key:A.value,value:A.value},A.label)))),e.createElement("div",{className:"w-full sm:w-64"},e.createElement("input",{type:"search",value:d,onChange:A=>f(A.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})))),De?e.createElement("p",{className:"text-sm text-green-600"},De):null,Ne?e.createElement("p",{className:"text-sm text-red-600"},Ne):null,Ke?e.createElement("div",{className:"space-y-4"},Vn.map(A=>e.createElement("div",{key:A._id,className:"rounded-2xl border border-gray-100 p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},A.product?.title||"Annonce"),e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${Jm[A.status]||"bg-gray-100 text-gray-600"}`},Xm[A.status]||A.status)),e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500"},e.createElement("span",null,"Payeur : ",e.createElement("strong",{className:"text-gray-800"},A.payerName)),e.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),e.createElement("span",null,"Oprateur : ",e.createElement("strong",{className:"text-gray-800"},A.operator)),e.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),e.createElement("span",null,"Montant : ",e.createElement("strong",{className:"text-gray-800"},Pa(A.amount)))),A.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},A.product.images.slice(0,4).map((be,Ie)=>e.createElement("a",{key:be||Ie,href:be,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},e.createElement("img",{src:be,alt:`${A.product?.title||"Produit"} ${Ie+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),A.product.images.length>4&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",A.product.images.length-4," autres")):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune image pour cette annonce."),e.createElement("div",{className:"flex flex-wrap gap-2"},A.product?._id&&e.createElement(ce,{to:Ft(A.product),...he,className:"flex-1 min-w-[140px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),A.transactionNumber&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>Ga(A.transactionNumber)},"Copier la rfrence")),e.createElement("div",{className:"flex flex-wrap gap-2"},A.product?.status!=="disabled"&&A.product?._id&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-red-300 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>Wa(A.product._id)},"Dsactiver l'annonce"),A.product?.status==="disabled"&&A.product?._id&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-green-300 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>qr(A.product._id)},"Activer l'annonce")),e.createElement("div",{className:"flex flex-wrap gap-2"},A.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>Et(A._id,"verify"),className:"flex-1 min-w-[140px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),e.createElement("button",{onClick:()=>Et(A._id,"reject"),className:"flex-1 min-w-[140px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))),!t.length&&e.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement ne correspond  la recherche actuelle.")):e.createElement(e.Fragment,null,e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border"},"Image"),e.createElement("th",{className:"p-2 border"},"Annonce"),e.createElement("th",{className:"p-2 border"},"Prix"),e.createElement("th",{className:"p-2 border"},"Payeur"),e.createElement("th",{className:"p-2 border"},"Oprateur"),e.createElement("th",{className:"p-2 border"},"Montant"),e.createElement("th",{className:"p-2 border"},"Statut"),e.createElement("th",{className:"p-2 border"},"Action"))),e.createElement("tbody",null,Vn.map(A=>e.createElement("tr",{key:A._id},e.createElement("td",{className:"p-2 border align-top"},A.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 max-w-[220px] overflow-x-auto"},A.product.images.slice(0,3).map((be,Ie)=>e.createElement("a",{key:be||Ie,href:be,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",title:"Ouvrir l'image dans un nouvel onglet"},e.createElement("img",{src:be,alt:`${A.product?.title||"Produit"} ${Ie+1}`,className:"h-16 w-20 object-cover rounded border shadow-sm",loading:"lazy"}))),A.product.images.length>3&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",A.product.images.length-3," autres")):e.createElement("span",{className:"text-xs text-gray-500"},"Aucune image")),e.createElement("td",{className:"p-2 border"},A.product?.title),e.createElement("td",{className:"p-2 border"},Pa(A.product?.price)),e.createElement("td",{className:"p-2 border"},A.payerName),e.createElement("td",{className:"p-2 border"},A.operator),e.createElement("td",{className:"p-2 border"},Pa(A.amount)),e.createElement("td",{className:"p-2 border"},e.createElement("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold ${Jm[A.status]||"bg-gray-100 text-gray-600"}`},Xm[A.status]||A.status)),e.createElement("td",{className:"p-2 border"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap"},A.product?._id?e.createElement(ce,{to:Ft(A.product),...he,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"):null,A.transactionNumber?e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>Ga(A.transactionNumber)},"Copier la rfrence"):null,A.product?.status!=="disabled"&&A.product?._id?e.createElement("button",{type:"button",className:"rounded border border-red-300 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>Wa(A.product._id)},"Dsactiver"):null,A.product?.status==="disabled"&&A.product?._id?e.createElement("button",{type:"button",className:"rounded border border-green-300 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>qr(A.product._id)},"Activer"):null,A.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>Et(A._id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),e.createElement("button",{onClick:()=>Et(A._id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):e.createElement("span",{className:"self-center text-xs text-gray-500"},"Action non disponible"))))),!t.length&&e.createElement("tr",null,e.createElement("td",{className:"p-4 text-sm text-gray-500",colSpan:8},"Aucun paiement  afficher pour ce filtre."))))),e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,t.length?`Affichage ${Nt}-${vs} sur ${t.length} paiements`:"Aucun paiement  afficher."),t.length?e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>c(A=>Math.max(1,A-1)),disabled:o<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",o," / ",cn),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>c(A=>Math.min(cn,A+1)),disabled:o>=cn},"Suivant")):null))),ar&&mn("complaints")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rclamations"),e.createElement("p",{className:"text-xs text-gray-500"},"Consultez les plaintes dposes par les utilisateurs et attribuez un statut adapt.")),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},e.createElement("select",{value:Le,onChange:A=>je(A.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},ur.map(A=>e.createElement("option",{key:A.value,value:A.value},A.label))),e.createElement("button",{type:"button",onClick:aa,className:"rounded border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60"},"Actualiser"))),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mn,{label:"Total",value:wt(G.length),helper:"Rclamations enregistres"}),e.createElement(Mn,{label:"En attente",value:wt(G.filter(A=>A.status==="pending").length),helper:"Nouveau et non trait"}),e.createElement(Mn,{label:"Rsolues",value:wt(G.filter(A=>A.status==="resolved").length),helper:"Confirmes"})),(Ye||tt)&&e.createElement("div",{className:`rounded-lg px-3 py-2 text-sm ${tt?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`},tt||Ye),fe?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des rclamations"):we?e.createElement("p",{className:"text-sm text-red-600"},we):e.createElement("ul",{className:"space-y-4"},G.length?G.map(A=>e.createElement("li",{key:A._id,className:"space-y-3 rounded-2xl border border-gray-100 p-4"},e.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},A.subject||"Sans objet"),e.createElement("p",{className:"text-xs text-gray-500 flex flex-wrap gap-2"},e.createElement("span",null,A.user?.name||"Utilisateur anonyme"),e.createElement("span",{className:"text-[11px] text-gray-400"},A.user?.email||"Email introuvable"),e.createElement("span",{className:"text-[11px] text-gray-400"},A.user?.phone||"Tlphone non renseign")),e.createElement("p",{className:"text-xs text-gray-400"},z0(A.createdAt))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${_r[A.status]||"bg-gray-100 text-gray-600"}`},mr[A.status]||A.status),e.createElement("select",{value:A.status,onChange:be=>ja(A._id,be.target.value),disabled:We===A._id,className:"rounded border border-gray-200 px-3 py-1 text-xs text-gray-600 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Object.keys(mr).map(be=>e.createElement("option",{key:be,value:be},mr[be]))))),e.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},A.message),A.attachments?.length?e.createElement("div",{className:"flex flex-wrap gap-2"},A.attachments.filter(be=>be.url).map((be,Ie)=>e.createElement("a",{key:`${be.filename}-${Ie}`,href:be.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-xs font-medium text-gray-600 hover:border-rose-200"},e.createElement(uc,{className:"w-3 h-3"}),be.originalName||be.filename))):null,A.adminNote?e.createElement("p",{className:"text-xs text-gray-500"},e.createElement("span",{className:"font-semibold text-gray-700"},"Note admin :")," ",A.adminNote):null)):e.createElement("li",{className:"text-sm text-gray-500"},"Aucune rclamation pour ce filtre.")))))}const Tl=t=>Number(t||0).toLocaleString("fr-FR"),ls=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,F0=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",$0={waiting:"En attente",verified:"Valid",rejected:"Rejet"},B0={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},Ds=12,V0=t=>{const r=[t?.updatedAt,t?.createdAt,t?.product?.updatedAt,t?.product?.createdAt];for(const a of r){if(!a)continue;const l=Date.parse(a);if(!Number.isNaN(l))return l}return 0},q0=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];function Hk(){const{user:t}=u.useContext(Bt),r=t?.role==="manager",[a,l]=u.useState(null),[o,c]=u.useState(!1),[d,f]=u.useState(""),[p,g]=u.useState([]),[y,x]=u.useState(!1),[S,v]=u.useState(""),[N,E]=u.useState("waiting"),[C,w]=u.useState(""),[k,L]=u.useState(""),[_,T]=u.useState(""),[M,D]=u.useState(""),[R,O]=u.useState(1),[I,j]=u.useState(""),[Y,te]=u.useState(""),[me,Q]=u.useState(!1),ue=sn(),ie=Yl(1023),H=u.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),B=u.useCallback(J=>{if(!J)return J;const We=J.replace(/\\/g,"/");return/^https?:\/\//i.test(We)?We:`${H}/${We.replace(/^\/+/,"")}`},[H]),X=u.useCallback(async()=>{c(!0);try{const{data:J}=await ee.get("/admin/stats");l(J),f("")}catch(J){f(J.response?.data?.message||J.message||"Impossible de charger les statistiques.")}finally{c(!1)}},[]),z=u.useCallback(async()=>{x(!0),v("");try{const J=new URLSearchParams;["waiting","verified","rejected"].includes(N)&&J.append("status",N),k&&J.append("search",k),_&&J.append("startDate",_),M&&J.append("endDate",M);const{data:We}=await ee.get(J.toString()?`/payments/admin?${J}`:"/payments/admin");let Re=Array.isArray(We)?We.map(De=>({...De,product:De.product?{...De.product,images:Array.isArray(De.product.images)?De.product.images.map(B):void 0}:De.product})):[];N==="disabled_products"&&(Re=Re.filter(De=>De.product?.status==="disabled")),Re=Re.slice().sort((De,ve)=>V0(ve)-V0(De)),g(Re),O(De=>{const ve=Math.max(1,Math.ceil(Re.length/Ds));return Math.min(De,ve)})}catch(J){v(J.response?.data?.message||J.message||"Impossible de charger les paiements.")}finally{x(!1)}},[N,B,k,_,M]);u.useEffect(()=>{X()},[X]),u.useEffect(()=>{z()},[z]),u.useEffect(()=>{const J=setTimeout(()=>{L(C.trim())},400);return()=>clearTimeout(J)},[C]),u.useEffect(()=>{O(1)},[N,k,_,M]);const G=u.useMemo(()=>{const J=(R-1)*Ds;return p.slice(J,J+Ds)},[p,R]),V=Math.max(1,Math.ceil(p.length/Ds)),fe=u.useCallback(async(J,We)=>{if(J){Q(!0),j(""),te("");try{await ee.put(`/payments/admin/${J}/${We==="verify"?"verify":"reject"}`),await Promise.all([z(),X()]),j(We==="verify"?"Paiement valid avec succs.":"Paiement rejet.")}catch(Re){te(Re.response?.data?.message||Re.message||"Action impossible sur ce paiement.")}finally{Q(!1)}}},[z,X]),ge=u.useCallback(async J=>{if(J){Q(!0),j(""),te("");try{await ee.patch(`/products/${J}/disable`),await z(),j("Annonce dsactive avec succs.")}catch(We){te(We.response?.data?.message||We.message||"Impossible de dsactiver l'annonce.")}finally{Q(!1)}}},[z]),we=u.useCallback(async J=>{if(J){Q(!0),j(""),te("");try{await ee.patch(`/products/${J}/enable`),await z(),j("Annonce ractive avec succs.")}catch(We){te(We.response?.data?.message||We.message||"Impossible de ractiver l'annonce.")}finally{Q(!1)}}},[z]),Pe=u.useCallback(async J=>{if(J)try{if(!navigator.clipboard)throw new Error("Clipboard API indisponible.");await navigator.clipboard.writeText(J),j("Rfrence copie dans le presse-papiers."),te("")}catch{te("Impossible de copier la rfrence."),j("")}},[]);u.useEffect(()=>{if(!I&&!Y)return;const J=setTimeout(()=>{j(""),te("")},4e3);return()=>clearTimeout(J)},[I,Y]);const Le=a?.payments||{},je=u.useCallback(J=>{const Re=Date.now()-J*24*60*60*1e3;let De=0,ve=0;return p.forEach(Ne=>{const _e=Date.parse(Ne.createdAt);!Number.isNaN(_e)&&_e>=Re&&(De+=1,ve+=Number(Ne.amount||0))}),{count:De,amount:ve}},[p]),Ye=u.useMemo(()=>je(1),[je]),He=u.useMemo(()=>je(7),[je]),tt=u.useMemo(()=>je(30),[je]);return e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},r?"Gestionnaire  Paiements":"Administration  Paiements"),e.createElement("p",{className:"text-sm text-gray-600"},"Suivez ltat des transactions et traitez les preuves de paiement.")),e.createElement(ce,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"}," Retour au tableau de bord")),e.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Total"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Tl(Le.total)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Paiements enregistrs")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"En attente"),e.createElement("p",{className:"text-2xl font-bold text-yellow-600 mt-1"},Tl(Le.waiting)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"}," vrifier")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Valids"),e.createElement("p",{className:"text-2xl font-bold text-green-600 mt-1"},Tl(Le.verified)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Mises en ligne confirmes")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Revenus cumuls"),e.createElement("p",{className:"text-2xl font-bold text-indigo-600 mt-1"},ls(Le.revenue)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes commissions"))),e.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"24 heures"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Tl(Ye.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",ls(Ye.amount))),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"7 jours"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Tl(He.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",ls(He.amount))),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"30 jours"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Tl(tt.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",ls(tt.amount)))),d&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},d),o&&e.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-sm text-gray-500"},"Chargement des statistiques"),e.createElement("section",{className:"rounded-xl border bg-white p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Liste des paiements"),e.createElement("p",{className:"text-xs text-gray-500"},"Utilisez les filtres pour trouver rapidement un produit ou une transaction.")),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3 w-full md:w-auto"},ie?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},q0.map(J=>e.createElement("button",{key:J.value,type:"button",onClick:()=>E(J.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${N===J.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},J.label))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"payments-status-filter",className:"text-sm text-gray-600"},"Statut:"),e.createElement("select",{id:"payments-status-filter",value:N,onChange:J=>E(J.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},q0.map(J=>e.createElement("option",{key:J.value,value:J.value},J.label)))),e.createElement("div",{className:"w-full sm:w-64"},e.createElement("input",{type:"search",value:C,onChange:J=>w(J.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"start-date",className:"text-sm text-gray-600"},"Du"),e.createElement("input",{id:"start-date",type:"date",value:_,onChange:J=>T(J.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"end-date",className:"text-sm text-gray-600"},"Au"),e.createElement("input",{id:"end-date",type:"date",value:M,onChange:J=>D(J.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),(_||M)&&e.createElement("button",{type:"button",onClick:()=>{T(""),D("")},className:"text-xs font-semibold text-gray-600 hover:text-gray-900"},"Rinitialiser")))),S&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},S),I&&e.createElement("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 text-sm text-green-700"},I),Y&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},Y),ie?e.createElement("div",{className:"space-y-4"},y?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des paiements"):G.length?G.map(J=>e.createElement("article",{key:J._id||J.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},J.product?.title||"Produit inconnu"),e.createElement("p",{className:"text-xs text-gray-500"},"#",J.product?._id||"")),e.createElement("span",{className:`inline-flex rounded-full px-2 py-1 text-[11px] font-semibold ${B0[J.status]||"bg-gray-100 text-gray-600"}`},$0[J.status]||J.status)),e.createElement("div",{className:"space-y-1 text-xs text-gray-600"},e.createElement("p",null,"Prix de lannonce : ",J.product?.price?ls(J.product.price):""),e.createElement("p",null,"Payeur : ",e.createElement("span",{className:"font-semibold text-gray-900"},J.payerName||"")),e.createElement("p",null,"Email : ",J.user?.email||""),e.createElement("p",null,"Oprateur : ",J.operator||""),e.createElement("p",{className:"font-semibold text-gray-900"},"Montant reu : ",ls(J.amount)),J.status==="verified"&&J.validatedBy?e.createElement("p",{className:"text-xs text-green-600"},"Valid par ",J.validatedBy.name,J.validatedAt?`  ${F0(J.validatedAt)}`:""):null),J.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},J.product.images.slice(0,4).map((We,Re)=>e.createElement("a",{key:We||Re,href:We,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},e.createElement("img",{src:We,alt:`${J.product?.title||"Produit"} ${Re+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),J.product.images.length>4&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",J.product.images.length-4," autres")):null,e.createElement("div",{className:"flex flex-wrap gap-2"},J.product&&e.createElement(ce,{to:Ft(J.product),...ue,className:"flex-1 min-w-[150px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),J.transactionNumber?e.createElement("button",{type:"button",onClick:()=>Pe(J.transactionNumber),className:"flex-1 min-w-[150px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null),e.createElement("div",{className:"flex flex-wrap gap-2"},J.product?._id&&J.product?.status!=="disabled"&&e.createElement("button",{type:"button",onClick:()=>ge(J.product?.slug||J.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:me},"Dsactiver l'annonce"),J.product?._id&&J.product?.status==="disabled"&&e.createElement("button",{type:"button",onClick:()=>we(J.product?.slug||J.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-green-200 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:me},"Activer l'annonce")),e.createElement("div",{className:"flex flex-wrap gap-2"},J.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>fe(J._id||J.id,"verify"),className:"flex-1 min-w-[150px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:me},"Valider"),e.createElement("button",{type:"button",onClick:()=>fe(J._id||J.id,"reject"),className:"flex-1 min-w-[150px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:me},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border text-left"},"Annonce"),e.createElement("th",{className:"p-2 border text-left"},"Prix"),e.createElement("th",{className:"p-2 border text-left"},"Payeur"),e.createElement("th",{className:"p-2 border text-left"},"Oprateur"),e.createElement("th",{className:"p-2 border text-left"},"Montant"),e.createElement("th",{className:"p-2 border text-left"},"Valid par"),e.createElement("th",{className:"p-2 border text-left"},"Statut"),e.createElement("th",{className:"p-2 border text-left"},"Actions"))),e.createElement("tbody",null,y?e.createElement("tr",null,e.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Chargement des paiements")):G.length?G.map(J=>e.createElement("tr",{key:J._id||J.id},e.createElement("td",{className:"p-2 border align-top"},e.createElement("p",{className:"font-semibold text-gray-900"},J.product?.title||"Produit inconnu"),e.createElement("p",{className:"text-xs text-gray-500"},"#",J.product?._id||"")),e.createElement("td",{className:"p-2 border align-top"},J.product?.price?ls(J.product.price):""),e.createElement("td",{className:"p-2 border align-top"},e.createElement("p",{className:"font-medium text-gray-900"},J.payerName||""),e.createElement("p",{className:"text-xs text-gray-500"},J.user?.email)),e.createElement("td",{className:"p-2 border align-top"},J.operator||""),e.createElement("td",{className:"p-2 border align-top"},ls(J.amount)),e.createElement("td",{className:"p-2 border align-top"},J.status==="verified"&&J.validatedBy?e.createElement("div",null,e.createElement("p",{className:"font-medium text-gray-900"},J.validatedBy.name),J.validatedAt&&e.createElement("p",{className:"text-xs text-gray-500"},F0(J.validatedAt))):e.createElement("span",{className:"text-xs text-gray-500"},"")),e.createElement("td",{className:"p-2 border align-top"},e.createElement("span",{className:`inline-flex items-center rounded px-2 py-1 text-xs font-semibold ${B0[J.status]||"bg-gray-100 text-gray-600"}`},$0[J.status]||J.status)),e.createElement("td",{className:"p-2 border align-top"},e.createElement("div",{className:"flex flex-wrap gap-2"},J.product&&e.createElement(ce,{to:Ft(J.product),...ue,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),J.transactionNumber?e.createElement("button",{type:"button",onClick:()=>Pe(J.transactionNumber),className:"rounded border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null,J.product?.status!=="disabled"&&J.product&&e.createElement("button",{type:"button",onClick:()=>ge(J.product?.slug||J.product?._id),className:"rounded border border-red-200 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:me},"Dsactiver"),J.product?.status==="disabled"&&J.product&&e.createElement("button",{type:"button",onClick:()=>we(J.product?.slug||J.product?._id),className:"rounded border border-green-200 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:me},"Activer"),J.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>fe(J._id||J.id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:me},"Valider"),e.createElement("button",{type:"button",onClick:()=>fe(J._id||J.id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:me},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500 self-center"},"Action indisponible"))))):e.createElement("tr",null,e.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres."))))),p.length>Ds&&e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Affichage ",(R-1)*Ds+1,"-",Math.min(R*Ds,p.length)," sur ",p.length," paiements"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>O(J=>Math.max(1,J-1)),disabled:R<=1,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",R," / ",V),e.createElement("button",{type:"button",onClick:()=>O(J=>Math.min(V,J+1)),disabled:R>=V,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const U0={person:"Particulier",shop:"Boutique"},H0={user:"Utilisateur",admin:"Administrateur"},W0=t=>{const r=Number(t);return Number.isFinite(r)?r.toLocaleString("fr-FR"):"0"},G0=t=>{if(!t)return"";const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleDateString()},Ll=15,K0=[{value:"all",label:"Tous les types"},{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"}],Y0=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actifs"},{value:"blocked",label:"Suspendus"}];function Wk(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(""),[p,g]=u.useState(""),[y,x]=u.useState(""),[S,v]=u.useState("all"),[N,E]=u.useState("all"),[C,w]=u.useState(1),[k,L]=u.useState(""),[_,T]=u.useState(0),M=Yl(1023);u.useEffect(()=>{const B=new AbortController;let X=!0;return(async()=>{l(!0),c("");try{const G={limit:100};y&&(G.search=y),S!=="all"&&(G.accountType=S);const{data:V}=await ee.get("/admin/users",{params:G,signal:B.signal});X&&r(Array.isArray(V)?V:[])}catch(G){if(!X||G.name==="CanceledError"||G.name==="AbortError")return;c(G.response?.data?.message||G.message||"Impossible de charger la liste des utilisateurs.")}finally{X&&l(!1)}})(),()=>{X=!1,B.abort()}},[S,y,_]);const D=u.useMemo(()=>N==="blocked"?t.filter(B=>B.isBlocked):N==="active"?t.filter(B=>!B.isBlocked):t,[N,t]),R=u.useMemo(()=>{const B=t.length,X=t.filter(G=>G.isBlocked).length,z=t.filter(G=>G.accountType==="shop").length;return{total:B,blocked:X,shops:z}},[t]);u.useEffect(()=>{w(1)},[S,N,y]),u.useEffect(()=>{const B=Math.max(1,Math.ceil(D.length/Ll));w(X=>Math.min(X,B))},[D.length]);const O=Math.max(1,Math.ceil(D.length/Ll)),I=u.useMemo(()=>{const B=(C-1)*Ll;return D.slice(B,B+Ll)},[D,C]),j=D.length?(C-1)*Ll+1:0,Y=D.length?Math.min(C*Ll,D.length):0;u.useEffect(()=>{const B=setTimeout(()=>{x(p.trim())},400);return()=>clearTimeout(B)},[p]);const te=B=>{B.preventDefault(),x(p.trim())},me=()=>{g(""),x("")},Q=B=>{r(X=>X.some(G=>G.id===B.id)?X.map(G=>G.id===B.id?B:G):[B,...X])},ue=async B=>{const X=B.blockedReason||"",z=window.prompt("Raison de la suspension (facultatif, visible uniquement par les administrateurs) :",X);if(z!==null){f(""),L(B.id);try{const{data:G}=await ee.patch(`/admin/users/${B.id}/block`,{reason:z||""});Q(G)}catch(G){f(G.response?.data?.message||G.message||"Impossible de suspendre cet utilisateur pour le moment.")}finally{L("")}}},ie=async B=>{f(""),L(B.id);try{const{data:X}=await ee.patch(`/admin/users/${B.id}/unblock`);Q(X)}catch(X){f(X.response?.data?.message||X.message||"Impossible de rtablir cet utilisateur pour le moment.")}finally{L("")}},H=()=>{T(B=>B+1)};return e.createElement("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Gestion des utilisateurs"),e.createElement("p",{className:"text-sm text-gray-500"},"Administrez les comptes, suspendez ou ractivez un utilisateur en cas d'abuse.")),e.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},e.createElement(ce,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-100"},e.createElement(an,{size:16}),"Retour au tableau de bord"),e.createElement("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},e.createElement(c2,{size:16,className:a?"animate-spin":""}),"Actualiser"))),e.createElement("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs totaux"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},R.total)),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Boutiques enregistres"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},R.shops)),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs bloqus"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},R.blocked))),e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("form",{onSubmit:te,className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between"},e.createElement("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center"},e.createElement("div",{className:"relative flex-1"},e.createElement(rn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.createElement("input",{type:"search",placeholder:"Rechercher un nom, email ou tlphone",className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400",value:p,onChange:B=>g(B.target.value)})),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 transition"},"Rechercher"),y&&e.createElement("button",{type:"button",onClick:me,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50"},"Effacer"))),M?e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},K0.map(B=>e.createElement("button",{key:B.value,type:"button",onClick:()=>v(B.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${S===B.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},B.label))),e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},Y0.map(B=>e.createElement("button",{key:B.value,type:"button",onClick:()=>E(B.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${N===B.value?"bg-gray-900 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},B.label)))):e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("select",{value:S,onChange:B=>v(B.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},K0.map(B=>e.createElement("option",{key:B.value,value:B.value},B.label))),e.createElement("select",{value:N,onChange:B=>E(B.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},Y0.map(B=>e.createElement("option",{key:B.value,value:B.value},B.label))))),o&&e.createElement("p",{className:"text-sm text-red-600"},o),d&&e.createElement("p",{className:"text-sm text-red-600"},d),M?e.createElement("div",{className:"space-y-4"},a?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):I.length?I.map(B=>{const X=!!B.isBlocked;return e.createElement("article",{key:B.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},B.name),e.createElement("p",{className:"text-xs text-gray-500 break-all"},B.email),e.createElement("p",{className:"text-xs text-gray-400"},B.phone||""),B.accountType==="shop"&&B.shopName?e.createElement("div",{className:"text-xs space-y-1"},e.createElement("p",{className:"font-semibold text-indigo-600"},"Boutique : ",B.shopName),e.createElement("p",{className:"text-gray-500"},"Abonns : ",W0(B.followersCount))):null),e.createElement("span",{className:"rounded-full bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700"},U0[B.accountType]||B.accountType)),e.createElement("div",{className:"flex flex-wrap gap-2 text-xs text-gray-600"},e.createElement("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 font-semibold text-gray-700"},H0[B.role]||B.role),X?e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 font-semibold text-red-600"},e.createElement(y0,{size:12}),"Suspendu"):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 font-semibold text-green-600"},e.createElement(Lu,{size:12}),"Actif")),X?e.createElement("div",{className:"text-xs text-gray-500 space-y-1"},e.createElement("p",null,"Depuis le ",G0(B.blockedAt)),B.blockedReason?e.createElement("p",{className:"italic"},"Motif : ",B.blockedReason):null):null,e.createElement("div",{className:"flex flex-wrap gap-2"},X?e.createElement("button",{type:"button",onClick:()=>ie(B),disabled:k===B.id,className:"flex-1 min-w-[140px] rounded-lg border border-green-500 px-3 py-2 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):e.createElement("button",{type:"button",onClick:()=>ue(B),disabled:k===B.id,className:"flex-1 min-w-[140px] rounded-lg border border-red-500 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))}):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur  afficher.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Utilisateur"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Type"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Rle"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),e.createElement("tbody",{className:"divide-y divide-gray-100"},a?e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Chargement des utilisateurs")):D.length===0?e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Aucun utilisateur  afficher.")):I.map(B=>{const X=!!B.isBlocked;return e.createElement("tr",{key:B.id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-3 py-3"},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"font-medium text-gray-900"},B.name),e.createElement("span",{className:"text-gray-500"},B.email),e.createElement("span",{className:"text-gray-400 text-xs"},B.phone),B.accountType==="shop"&&B.shopName?e.createElement("div",{className:"text-xs text-gray-500 mt-1 space-y-1"},e.createElement("span",{className:"text-indigo-600 font-semibold"},"Boutique : ",B.shopName),e.createElement("p",null,"Abonns : ",W0(B.followersCount)),e.createElement(ce,{to:Ir(B),className:"text-indigo-500 underline text-xs font-semibold"},"Voir la boutique")):null)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-0.5 text-xs font-semibold text-indigo-700"},U0[B.accountType]||B.accountType)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:"text-sm text-gray-700"},H0[B.role]||B.role)),e.createElement("td",{className:"px-3 py-3"},X?e.createElement("div",{className:"flex flex-col gap-1"},e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 text-xs font-semibold text-red-600"},e.createElement(y0,{size:12}),"Suspendu"),e.createElement("span",{className:"text-xs text-gray-500"},"Depuis le ",G0(B.blockedAt)),B.blockedReason?e.createElement("span",{className:"text-xs text-gray-500 italic"},"Motif : ",B.blockedReason):null):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 text-xs font-semibold text-green-600"},e.createElement(Lu,{size:12}),"Actif")),e.createElement("td",{className:"px-3 py-3"},X?e.createElement("button",{type:"button",onClick:()=>ie(B),disabled:k===B.id,className:"rounded-lg border border-green-500 px-3 py-1.5 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):e.createElement("button",{type:"button",onClick:()=>ue(B),disabled:k===B.id,className:"rounded-lg border border-red-500 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))})))),D.length>0&&!a?e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Affichage ",j,"-",Y," sur ",D.length," utilisateurs"),e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>w(B=>Math.max(1,B-1)),disabled:C<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",C," / ",O),e.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>w(B=>Math.min(O,B+1)),disabled:C>=O},"Suivant"))):null))}const Rn={pending:"En attente",confirmed:"Confirme",delivering:"En cours de livraison",delivered:"Livre"},Q0={pending:"bg-gray-100 text-gray-700",confirmed:"bg-yellow-100 text-yellow-800",delivering:"bg-blue-100 text-blue-800",delivered:"bg-green-100 text-green-800"},Gk=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],X0=12;function Kk(){const t=sn(),[r,a]=u.useState(null),[l,o]=u.useState(!1),[c,d]=u.useState([]),[f,p]=u.useState(!1),[g,y]=u.useState(""),[x,S]=u.useState("all"),[v,N]=u.useState(""),[E,C]=u.useState(""),[w,k]=u.useState(1),[L,_]=u.useState({total:0,totalPages:1}),[T,M]=u.useState(!1),[D,R]=u.useState(""),[O,I]=u.useState(""),[j,Y]=u.useState(!1),[te,me]=u.useState(null),[Q,ue]=u.useState(!1),[ie,H]=u.useState(null),[B,X]=u.useState(""),[z,G]=u.useState(!1),[V,fe]=u.useState(""),[ge,we]=u.useState([]),[Pe,Le]=u.useState(!1),[je,Ye]=u.useState(""),[He,tt]=u.useState(""),[J,We]=u.useState(""),[Re,De]=u.useState([]),[ve,Ne]=u.useState([]),[_e,rt]=u.useState(null),[ut,Ke]=u.useState([]),[yt,It]=u.useState({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),Vt=u.useCallback(()=>{me(null),ue(!1),Y(!0)},[]),he=u.useCallback(F=>{F&&(me(null),Y(!1),H(F),X(F.deliveryGuy?._id||""),fe(""),ue(!0))},[]),Je=u.useCallback(()=>{ue(!1),H(null),X(""),fe("")},[]),qe=F=>Number(F||0).toLocaleString("fr-FR"),nt=F=>String(F??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),bt=F=>F.items&&F.items.length?F.items:F.productSnapshot?[{snapshot:F.productSnapshot,quantity:1,product:F.product?._id}]:[],jt=F=>{const ke=bt(F),lt=nt(F.deliveryGuy?.name||""),Lt=nt(F.deliveryGuy?.phone||""),ct=ke.reduce((mr,_r)=>{const ur=Number(_r.snapshot?.price||_r.product?.price||0),$r=Number(_r.quantity||1);return mr+ur*$r},0),Dt=Number(F.totalAmount??ct),Ce=Number(F.paidAmount||0),Ot=F.remainingAmount!=null?Number(F.remainingAmount):Math.max(0,Dt-Ce),ot=nt(F.paymentName||"Non renseign"),vt=nt(F.paymentTransactionCode||"Non renseign"),Gt=ke.map((mr,_r)=>{const ur=nt(mr.snapshot?.title||"Produit"),$r=nt(mr.snapshot?.shopName||""),Pr=nt(mr.snapshot?.confirmationNumber||""),Yt=Number(mr.quantity||1),Br=qe(mr.snapshot?.price||0),ta=qe((mr.snapshot?.price||0)*Yt);return`
          <tr>
            <td>${_r+1}</td>
            <td>
              <div class="title">${ur}</div>
              ${$r?`<div class="meta">Boutique: ${$r}</div>`:""}
              ${Pr?`<div class="meta">Code: ${Pr}</div>`:""}
            </td>
            <td class="right">x${Yt}</td>
            <td class="right">${Br} FCFA</td>
            <td class="right">${ta} FCFA</td>
          </tr>
        `}).join(""),Rt=nt(F._id||""),ar=nt(F._id?.slice(-6)||""),Sa=`
      <!doctype html>
      <html lang="fr">
        <head>
          <meta charset="utf-8" />
          <title>Bon de commande et de livraison</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body { font-family: "Helvetica Neue", Arial, sans-serif; margin: 32px; color: #111827; }
            .page { position: relative; z-index: 1; }
            .watermark {
              position: fixed;
              top: 45%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-18deg);
              font-size: 40px;
              letter-spacing: 0.4em;
              text-transform: uppercase;
              color: rgba(15, 23, 42, 0.08);
              white-space: nowrap;
              pointer-events: none;
              z-index: 0;
            }
            .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; }
            .brand { display: flex; align-items: center; gap: 12px; }
            .logo { width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; padding: 6px; }
            .title { font-size: 22px; font-weight: 700; }
            .badge { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #6b7280; }
            .meta-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; margin-top: 20px; }
            .meta-box { border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px 14px; }
            .meta-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .meta-box p { margin: 4px 0; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin-top: 24px; }
            th, td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; font-size: 13px; vertical-align: top; }
            th { background: #f9fafb; font-size: 12px; text-transform: uppercase; letter-spacing: 0.15em; color: #6b7280; }
            .right { text-align: right; }
            .total-row td { font-weight: 700; border-top: 2px solid #111827; }
            .signature { margin-top: 32px; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
            .signature-box { border: 1px dashed #cbd5f5; border-radius: 12px; padding: 16px; min-height: 90px; }
            .signature-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .signature-line { margin-top: 24px; border-bottom: 1px solid #9ca3af; height: 1px; }
            .notes { margin-top: 20px; font-size: 12px; color: #6b7280; }
            .print-actions { margin-top: 24px; display: flex; justify-content: flex-end; }
            .print-btn { padding: 10px 16px; border-radius: 999px; border: 1px solid #111827; background: #111827; color: #fff; font-weight: 600; cursor: pointer; }
            .security { margin-top: 12px; font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.2em; }
            @media print {
              body { margin: 0; }
              .print-actions { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="watermark">HDMarket  Document Officiel</div>
          <div class="page">
            <div class="header">
              <div class="brand">
                <img src="${`${window.location.origin}/favicon.svg`}" alt="HDMarket" class="logo" />
                <div>
                  <div class="title">Bon de commande et de livraison</div>
                  <div class="badge">HDMarket</div>
                </div>
              </div>
              <div class="right">
                <div class="badge">Commande #${ar}</div>
                <div>${nt(new Date(F.createdAt).toLocaleDateString("fr-FR"))}</div>
                <div class="security">Rf: ${Rt}</div>
              </div>
            </div>

            <div class="meta-grid">
              <div class="meta-box">
                <h4>Client</h4>
                <p>${nt(F.customer?.name||"Client")}</p>
                <p>${nt(F.customer?.phone||"")}</p>
                <p>${nt(F.customer?.email||"")}</p>
              </div>
            <div class="meta-box">
              <h4>Livraison</h4>
              <p>${nt(F.deliveryAddress||"")}</p>
              <p>${nt(F.deliveryCity||"")}</p>
              ${F.trackingNote?`<p>${nt(F.trackingNote)}</p>`:""}
              ${lt?`<p>Livreur: ${lt}${Lt?`  ${Lt}`:""}</p>`:""}
            </div>
            <div class="meta-box">
              <h4>Paiement</h4>
              <p>Acompte vers: ${qe(Ce)} FCFA</p>
              <p>Reste  payer: ${qe(Ot)} FCFA</p>
              <p>Nom du payeur: ${ot}</p>
              <p>Transaction: ${vt}</p>
            </div>
            </div>

            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Article</th>
                  <th class="right">Qt</th>
                  <th class="right">Prix</th>
                  <th class="right">Total</th>
                </tr>
              </thead>
              <tbody>
                ${Gt}
                <tr class="total-row">
                  <td colspan="4" class="right">Total commande</td>
                  <td class="right">${qe(Dt)} FCFA</td>
                </tr>
              </tbody>
            </table>

            <div class="signature">
              <div class="signature-box">
                <h4>Signature client</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature  la livraison.</p>
              </div>
              <div class="signature-box">
                <h4>Signature livreur</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature.</p>
              </div>
            </div>

            <p class="notes">
              Ce document fait foi de bon de commande et de livraison. Merci de vrifier les articles avant signature.
              Toute copie doit comporter la rfrence unique ${Rt}.
            </p>

            <div class="print-actions">
              <button class="print-btn" id="print-btn">Imprimer / PDF</button>
            </div>

            <script>
              document.getElementById('print-btn').addEventListener('click', () => window.print());
            <\/script>
          </div>
        </body>
      </html>
    `,Kt=window.open("","_blank");if(!Kt){const mr=new Blob([Sa],{type:"text/html"}),_r=URL.createObjectURL(mr);window.location.href=_r,setTimeout(()=>URL.revokeObjectURL(_r),1500);return}Kt.document.open(),Kt.document.write(Sa),Kt.document.close(),Kt.focus()},jr=F=>{Ke(ke=>ke.some(lt=>lt.product._id===F._id)?ke:[...ke,{product:F,quantity:1}])},zt=F=>{Ke(ke=>ke.filter(lt=>lt.product._id!==F))},dr=(F,ke)=>{const lt=Math.max(1,Number(ke)||1);Ke(Lt=>Lt.map(ct=>ct.product._id===F?{...ct,quantity:lt}:ct))},U=u.useCallback(async()=>{o(!0);try{const{data:F}=await ee.get("/orders/admin/stats");a(F)}catch(F){console.error("Erreur stats commandes:",F)}finally{o(!1)}},[]),le=u.useCallback(async()=>{Le(!0),Ye("");try{const{data:F}=await ee.get("/admin/delivery-guys?limit=100"),ke=Array.isArray(F)?F:F?.items||[];we(ke)}catch(F){Ye(F.response?.data?.message||"Impossible de charger les livreurs."),we([])}finally{Le(!1)}},[]),Te=u.useCallback(async()=>{p(!0),y("");try{const F=new URLSearchParams;F.set("page",w),F.set("limit",X0),x!=="all"&&F.append("status",x),E&&F.append("search",E);const{data:ke}=await ee.get(`/orders/admin?${F.toString()}`),lt=Array.isArray(ke)?ke:ke?.items||[];d(lt),_({total:ke?.total??lt.length,totalPages:ke?.totalPages??1}),ke?.page&&ke.page!==w&&k(ke.page)}catch(F){y(F.response?.data?.message||F.message||"Impossible de charger les commandes."),d([]),_({total:0,totalPages:1})}finally{p(!1)}},[x,E,w]),Tt=u.useCallback(async(F="")=>{try{const{data:ke}=await ee.get(F.trim()?`/orders/admin/customers?search=${encodeURIComponent(F.trim())}`:"/orders/admin/customers");De(Array.isArray(ke)?ke:[])}catch(ke){console.error("Erreur chargement clients",ke)}},[]),kt=u.useCallback(async(F="")=>{try{const{data:ke}=await ee.get(F.trim()?`/orders/admin/products?search=${encodeURIComponent(F.trim())}`:"/orders/admin/products");Ne(Array.isArray(ke)?ke:[])}catch(ke){console.error("Erreur chargement produits",ke)}},[]);u.useEffect(()=>{U(),Tt(),kt(),le()},[U,Tt,kt,le]),u.useEffect(()=>{Te()},[Te]),u.useEffect(()=>{const F=setTimeout(()=>{C(v.trim())},400);return()=>clearTimeout(F)},[v]),u.useEffect(()=>{k(1)},[x,E]);const Jt=async(F,ke)=>{const lt=c.find(Lt=>Lt._id===F);try{const{data:Lt}=await ee.patch(`/orders/admin/${F}`,ke),ct=Lt,Dt=lt?.status,Ce=ct?.status||Dt,Ot=x!=="all"&&Ce&&x!==Ce;if(d(ot=>Array.isArray(ot)?Ot?ot.filter(vt=>vt._id!==F):ot.map(vt=>vt._id===F?ct:vt):ot),Ot){const ot=Math.max(0,(L.total||0)-1),vt=Math.max(1,Math.ceil(ot/X0));_(Gt=>({...Gt,total:ot,totalPages:vt})),w>vt&&k(vt)}return Dt&&Ce&&Dt!==Ce&&(a(ot=>ot?.statusCounts?{...ot,statusCounts:{...ot.statusCounts,[Dt]:Math.max(0,(ot.statusCounts[Dt]||0)-1),[Ce]:(ot.statusCounts[Ce]||0)+1}}:ot),me({orderId:F,status:Ce})),ct}catch(Lt){return alert(Lt.response?.data?.message||"Impossible de mettre  jour la commande."),null}},ae=async F=>{if(F.preventDefault(),!(!_e||ut.length===0)){M(!0),R(""),I("");try{await ee.post("/orders/admin",{customerId:_e._id,deliveryAddress:yt.deliveryAddress.trim(),deliveryCity:yt.deliveryCity,trackingNote:yt.trackingNote.trim(),items:ut.map(({product:ke,quantity:lt})=>({productId:ke._id,quantity:lt}))}),I("Commande cre avec succs."),rt(null),Ke([]),It({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),Y(!1),await Promise.all([Te(),U()])}catch(ke){R(ke.response?.data?.message||"Impossible de crer la commande.")}finally{M(!1)}}};u.useEffect(()=>{_e&&It(F=>({...F,deliveryAddress:_e.address||F.deliveryAddress||"",deliveryCity:_e.city||F.deliveryCity||"Brazzaville"}))},[_e]),u.useEffect(()=>{j||(R(""),I(""))},[j]),u.useEffect(()=>{Q||(fe(""),G(!1))},[Q]);const Fe=()=>e.createElement("div",{className:"flex flex-wrap gap-2"},["all","pending","confirmed","delivering","delivered"].map(F=>e.createElement("button",{key:F,type:"button",onClick:()=>S(F),className:`px-3 py-1.5 text-xs font-semibold rounded-full border transition-colors ${x===F?"bg-indigo-600 text-white border-indigo-600":"bg-gray-100 text-gray-600 border-gray-200"}`},F==="all"?"Toutes":Rn[F])));return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},e.createElement(Qr,{className:"w-6 h-6 text-indigo-600"}),"Gestion des commandes"),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:Vt,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700"},e.createElement(Ro,{className:"h-4 w-4"}),"Crer une commande"),e.createElement(ce,{to:"/admin",className:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center gap-1"},e.createElement(an,{className:"w-4 h-4"}),"Retour au tableau de bord"))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},["pending","confirmed","delivering","delivered"].map(F=>e.createElement("div",{key:F,className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase text-gray-500"},Rn[F]),e.createElement("p",{className:"text-2xl font-bold text-gray-900"},l?"...":r?.statusCounts?.[F]||0)),e.createElement("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center"},F==="pending"&&e.createElement(yr,{className:"w-5 h-5 text-gray-500"}),F==="confirmed"&&e.createElement(vr,{className:"w-5 h-5 text-yellow-600"}),F==="delivering"&&e.createElement(Nr,{className:"w-5 h-5 text-blue-600"}),F==="delivered"&&e.createElement(xr,{className:"w-5 h-5 text-green-600"})))))),j&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>Y(!1)}),e.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-xl border border-gray-100 p-4 sm:p-6 max-h-[85vh] overflow-auto",onClick:F=>F.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},e.createElement("div",{className:"flex items-center gap-2 text-gray-900 font-semibold text-lg"},e.createElement(Ro,{className:"w-5 h-5 text-green-600"}),"Crer une commande"),e.createElement("button",{type:"button",onClick:()=>Y(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("form",{className:"space-y-4",onSubmit:ae},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},e.createElement(Jr,{size:16}),"Client"),e.createElement("div",{className:"relative"},e.createElement(rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche client",value:He,onChange:F=>{tt(F.target.value),Tt(F.target.value)}})),e.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},Re.map(F=>e.createElement("button",{type:"button",key:F._id,onClick:()=>rt(F),className:`w-full text-left px-3 py-2 text-sm flex flex-col ${_e?._id===F._id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50"}`},e.createElement("span",{className:"font-semibold"},F.name),e.createElement("span",{className:"text-xs text-gray-500"},F.email),e.createElement("span",{className:"text-xs text-gray-500"},F.phone))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},e.createElement(vr,{size:16}),"Produit"),e.createElement("div",{className:"relative"},e.createElement(rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche produit",value:J,onChange:F=>{We(F.target.value),kt(F.target.value)}})),e.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},ve.map(F=>{const ke=ut.some(lt=>lt.product._id===F._id);return e.createElement("div",{key:F._id,className:"px-3 py-2 text-sm flex flex-col gap-1 hover:bg-gray-50"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("div",null,e.createElement("span",{className:"font-semibold text-gray-900"},F.title),e.createElement("span",{className:"block text-xs text-gray-500"},Number(F.price||0).toLocaleString()," FCFA "," ",F.user?.shopName||F.user?.name||"Boutique")),e.createElement("button",{type:"button",onClick:()=>jr(F),disabled:ke,className:`px-2 py-1 text-xs rounded-full border ${ke?"border-gray-200 text-gray-400 cursor-not-allowed":"border-indigo-200 text-indigo-600 hover:bg-indigo-50"}`},ke?"Ajout":"Ajouter")))})),ut.length>0&&e.createElement("div",{className:"mt-4 bg-gray-50 rounded-2xl border border-gray-100 p-3 space-y-2"},e.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Produits slectionns"),ut.map(({product:F,quantity:ke})=>e.createElement("div",{key:F._id,className:"flex items-center gap-3 text-sm bg-white rounded-xl border border-gray-100 px-3 py-2"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-medium text-gray-900"},F.title),e.createElement("p",{className:"text-xs text-gray-500"},Number(F.price||0).toLocaleString()," FCFA")),e.createElement("input",{type:"number",min:1,value:ke,onChange:lt=>dr(F._id,lt.target.value),className:"w-16 border border-gray-200 rounded-lg px-2 py-1 text-sm text-center"}),e.createElement("button",{type:"button",onClick:()=>zt(F._id),className:"text-xs text-red-600 hover:text-red-500"},"Retirer")))))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Wt,{size:16}),"Adresse de livraison *"),e.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,value:yt.deliveryAddress,onChange:F=>It(ke=>({...ke,deliveryAddress:F.target.value})),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Nr,{size:16}),"Ville de livraison *"),e.createElement("select",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:yt.deliveryCity,onChange:F=>It(ke=>({...ke,deliveryCity:F.target.value}))},Gk.map(F=>e.createElement("option",{key:F,value:F},F))),e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement($o,{size:16}),"Note de suivi"),e.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:yt.trackingNote,onChange:F=>It(ke=>({...ke,trackingNote:F.target.value}))}))),D&&e.createElement("p",{className:"text-sm text-red-600"},D),O&&e.createElement("p",{className:"text-sm text-green-600"},O),e.createElement("button",{type:"submit",disabled:T||!_e||ut.length===0||!yt.deliveryAddress.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},e.createElement(Ro,{size:16}),"Ajouter la commande")))),Q&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:Je}),e.createElement("div",{className:"relative w-full max-w-md rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:F=>F.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Assigner un livreur"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commande #",ie?._id?.slice(-6))),e.createElement("button",{type:"button",onClick:Je,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("div",{className:"space-y-3"},e.createElement("div",null,e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Nr,{size:16}),"Livreur"),e.createElement("select",{value:B,onChange:F=>X(F.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:Pe||z},e.createElement("option",{value:""},"Assigner un livreur"),ge.map(F=>e.createElement("option",{key:F._id,value:F._id},F.name))),je&&e.createElement("p",{className:"mt-2 text-xs text-red-500"},je),V&&e.createElement("p",{className:"mt-2 text-xs text-red-500"},V)),e.createElement("button",{type:"button",onClick:async()=>{if(!ie?._id)return;G(!0),fe(""),await Jt(ie._id,{deliveryGuyId:B})?Je():(fe("Impossible de mettre  jour le livreur."),G(!1))},disabled:z,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},z?"Mise  jour...":"Enregistrer")))),te&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:()=>me(null)}),e.createElement("div",{className:"relative w-full max-w-sm rounded-3xl bg-white shadow-xl border border-gray-100 p-6 text-center",onClick:F=>F.stopPropagation()},e.createElement("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600"},e.createElement(xr,{className:"h-6 w-6"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Statut mis  jour"),e.createElement("p",{className:"mt-1 text-sm text-gray-600"},"Commande #",te.orderId.slice(-6),"  ",Rn[te.status]),e.createElement("button",{type:"button",onClick:()=>me(null),className:"mt-4 inline-flex items-center justify-center rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-300"},"OK"))),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 sm:p-6 space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap items-center gap-2"},Fe(),e.createElement("button",{type:"button",onClick:Vt,className:"inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100"},e.createElement(Ro,{className:"h-4 w-4"}),"Crer une commande")),e.createElement("div",{className:"relative w-full sm:max-w-xs"},e.createElement(rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher (client, produit...)",value:v,onChange:F=>N(F.target.value)}))),g&&e.createElement("p",{className:"text-sm text-red-600"},g),f?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):c.length===0?e.createElement("p",{className:"text-sm text-gray-500 text-center py-6"},"Aucune commande  afficher."):e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-3 md:hidden"},c.map(F=>{const ke=F.items&&F.items.length?F.items:F.productSnapshot?[{snapshot:F.productSnapshot,quantity:1,product:F.product?._id}]:[],lt=ke.reduce((Ce,Ot)=>{const ot=Number(Ot.snapshot?.price||Ot.product?.price||0),vt=Number(Ot.quantity||1);return Ce+ot*vt},0),Lt=Number(F.totalAmount??lt),ct=Number(F.paidAmount||0),Dt=F.remainingAmount!=null?Number(F.remainingAmount):Math.max(0,Lt-ct);return e.createElement("div",{key:F._id,className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"text-sm font-semibold text-gray-900"},"Commande #",F._id.slice(-6)),e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${Q0[F.status]}`},Rn[F.status])),e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-1"},e.createElement(yr,{size:12}),new Date(F.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},e.createElement(Jr,{size:14}),F.customer?.name||"Client"),e.createElement("p",{className:"text-xs text-gray-500"},F.customer?.phone),e.createElement("p",{className:"text-xs text-gray-500"},F.customer?.email)),e.createElement("div",{className:"space-y-2 text-sm text-gray-700"},ke.map(Ce=>e.createElement("div",{key:`${F._id}-${Ce.product}-${Ce.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("span",{className:"font-medium truncate"},Ce.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",Ce.quantity,"  ",Number(Ce.snapshot?.price||0).toLocaleString()," FCFA")),Ce.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",Ce.snapshot.confirmationNumber)))),e.createElement("div",{className:"space-y-1 text-sm text-gray-700"},e.createElement("p",{className:"flex items-center gap-1"},e.createElement(Wt,{size:14,className:"text-gray-500"}),F.deliveryCity),e.createElement("p",{className:"text-xs text-gray-500"},F.deliveryAddress),F.trackingNote&&e.createElement("p",{className:"text-xs text-gray-500 italic"},F.trackingNote)),e.createElement("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3 text-xs text-slate-600 space-y-1"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500"},"Paiement"),e.createElement("p",null,"Acompte vers:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},qe(ct)," FCFA")),e.createElement("p",null,"Reste  payer:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},qe(Dt)," FCFA")),e.createElement("p",null,"Nom du payeur: ",F.paymentName||"Non renseign"),e.createElement("p",null,"Transaction: ",F.paymentTransactionCode||"Non renseign")),e.createElement("div",{className:"space-y-2"},e.createElement("select",{value:F.status,onChange:Ce=>Jt(F._id,{status:Ce.target.value}),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(Rn).map(Ce=>e.createElement("option",{key:Ce,value:Ce},Rn[Ce]))),e.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 px-3 py-2"},e.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),e.createElement("p",{className:"text-xs text-gray-700"},F.deliveryGuy?.name||"Non assign"),e.createElement("button",{type:"button",onClick:()=>he(F),className:"mt-2 text-xs font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),e.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:F.trackingNote||"",onChange:Ce=>Jt(F._id,{trackingNote:Ce.target.value})}),F.status==="confirmed"&&e.createElement("button",{type:"button",onClick:()=>jt(F),className:"w-full inline-flex items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100"},e.createElement(Qr,{size:14}),"Bon de commande (PDF)")))})),e.createElement("div",{className:"hidden md:block overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Commande"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Client"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Livraison"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),e.createElement("tbody",{className:"divide-y divide-gray-100"},c.map(F=>{const ke=F.items&&F.items.length?F.items:F.productSnapshot?[{snapshot:F.productSnapshot,quantity:1,product:F.product?._id}]:[],lt=ke.reduce((Ce,Ot)=>{const ot=Number(Ot.snapshot?.price||Ot.product?.price||0),vt=Number(Ot.quantity||1);return Ce+ot*vt},0),Lt=Number(F.totalAmount??lt),ct=Number(F.paidAmount||0),Dt=F.remainingAmount!=null?Number(F.remainingAmount):Math.max(0,Lt-ct);return e.createElement("tr",{key:F._id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-3 py-3 space-y-2"},e.createElement("div",{className:"font-semibold text-gray-900 flex items-center gap-2"},e.createElement(vr,{size:14,className:"text-gray-400"}),"Commande #",F._id.slice(-6)),e.createElement("div",{className:"space-y-2 text-xs text-gray-600"},ke.map(Ce=>e.createElement("div",{key:`${F._id}-${Ce.product}-${Ce.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",null,e.createElement("span",{className:"font-semibold text-gray-900"},Ce.snapshot?.title||"Produit")," ",e.createElement("span",{className:"text-gray-500"},"x",Ce.quantity,"  ",Number(Ce.snapshot?.price||0).toLocaleString()," FCFA")),Ce.snapshot?.confirmationNumber&&e.createElement("span",{className:"block text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",Ce.snapshot.confirmationNumber)))),e.createElement("div",{className:"text-xs text-gray-400 flex items-center gap-1"},e.createElement(yr,{size:12}),"Cre le"," ",new Date(F.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}))),e.createElement("td",{className:"px-3 py-3"},e.createElement("div",{className:"font-medium text-gray-900"},F.customer?.name),e.createElement("div",{className:"text-xs text-gray-500"},F.customer?.email),e.createElement("div",{className:"text-xs text-gray-500"},F.customer?.phone),e.createElement("div",{className:"mt-2 space-y-1 text-[11px] text-gray-500"},e.createElement("div",null,"Acompte vers:"," ",e.createElement("span",{className:"font-semibold text-gray-700"},qe(ct)," FCFA")),e.createElement("div",null,"Reste  payer:"," ",e.createElement("span",{className:"font-semibold text-gray-700"},qe(Dt)," FCFA")),e.createElement("div",null,"Nom du payeur: ",F.paymentName||"Non renseign"),e.createElement("div",null,"Transaction: ",F.paymentTransactionCode||"Non renseign"))),e.createElement("td",{className:"px-3 py-3 text-xs text-gray-600"},e.createElement("div",null,F.deliveryAddress),e.createElement("div",{className:"text-gray-500"},F.deliveryCity),F.trackingNote&&e.createElement("div",{className:"mt-1 italic text-gray-500"},F.trackingNote)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${Q0[F.status]}`},Rn[F.status])),e.createElement("td",{className:"px-3 py-3 space-y-2"},e.createElement("select",{value:F.status,onChange:Ce=>Jt(F._id,{status:Ce.target.value}),className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(Rn).map(Ce=>e.createElement("option",{key:Ce,value:Ce},Rn[Ce]))),e.createElement("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-2 py-2"},e.createElement("div",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),e.createElement("div",{className:"text-xs text-gray-700"},F.deliveryGuy?.name||"Non assign"),e.createElement("button",{type:"button",onClick:()=>he(F),className:"mt-1 text-[11px] font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),e.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:F.trackingNote||"",onChange:Ce=>Jt(F._id,{trackingNote:Ce.target.value})}),F.status==="confirmed"&&e.createElement("button",{type:"button",onClick:()=>jt(F),className:"inline-flex w-full items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100"},e.createElement(Qr,{size:12}),"Bon de commande (PDF)"),e.createElement("div",{className:"text-xs text-indigo-600 space-y-1"},ke.map(Ce=>Ce.product?e.createElement(ce,{key:`${F._id}-${Ce.product}-${Ce.snapshot?.title}-link`,to:Ft(Ce.product),...t,className:"block hover:text-indigo-500"},"Voir ",Ce.snapshot?.title||"Produit",""):e.createElement("span",{key:`${F._id}-${Ce.snapshot?.title}-text`,className:"block text-gray-500"},Ce.snapshot?.title||"Produit indisponible")))))})))),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-t border-gray-100 pt-4"},e.createElement("p",{className:"text-sm text-gray-500"},"Page ",w," sur ",L.totalPages,"  ",L.total," commande",L.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>k(F=>Math.max(1,F-1)),disabled:w<=1,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>k(F=>Math.min(L.totalPages,F+1)),disabled:w>=L.totalPages,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Suivant"))))))}function Yk(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(!1),[p,g]=u.useState({name:"",phone:"",active:!0}),[y,x]=u.useState(null),[S,v]=u.useState(""),[N,E]=u.useState(""),[C,w]=u.useState(1),[k,L]=u.useState({total:0,totalPages:1}),_=t.reduce((I,j)=>{I.total+=1,j.active&&(I.active+=1);const Y=j.stats||{};return I.assigned+=Number(Y.totalAssigned||0),I.delivering+=Number(Y.delivering||0),I.delivered+=Number(Y.delivered||0),I},{total:0,active:0,assigned:0,delivering:0,delivered:0});_.inactive=Math.max(0,_.total-_.active);const T=async()=>{l(!0),c("");try{const I=new URLSearchParams;I.set("page",C),I.set("limit",12),N&&I.set("search",N);const{data:j}=await ee.get(`/admin/delivery-guys?${I.toString()}`),Y=Array.isArray(j)?j:j?.items||[];r(Y),L({total:j?.total??Y.length,totalPages:j?.totalPages??1}),j?.page&&j.page!==C&&w(j.page)}catch(I){c(I.response?.data?.message||"Impossible de charger les livreurs."),L({total:0,totalPages:1})}finally{l(!1)}};u.useEffect(()=>{T()},[C,N]),u.useEffect(()=>{const I=setTimeout(()=>{E(S.trim())},300);return()=>clearTimeout(I)},[S]),u.useEffect(()=>{w(1)},[N]);const M=()=>{g({name:"",phone:"",active:!0}),x(null)},D=async I=>{if(I.preventDefault(),!!p.name.trim()){f(!0),c("");try{y?await ee.patch(`/admin/delivery-guys/${y}`,{name:p.name.trim(),phone:p.phone.trim(),active:p.active}):await ee.post("/admin/delivery-guys",{name:p.name.trim(),phone:p.phone.trim(),active:p.active}),await T(),M()}catch(j){c(j.response?.data?.message||"Impossible d'enregistrer le livreur.")}finally{f(!1)}}},R=I=>{x(I._id),g({name:I.name||"",phone:I.phone||"",active:!!I.active})},O=async I=>{if(I){f(!0),c("");try{await ee.delete(`/admin/delivery-guys/${I}`),await T(),y===I&&M()}catch(j){c(j.response?.data?.message||"Impossible de supprimer le livreur.")}finally{f(!1)}}};return e.createElement("div",{className:"max-w-5xl mx-auto p-6 space-y-6"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-12 h-12 rounded-2xl bg-indigo-100 flex items-center justify-center text-indigo-600"},e.createElement(Nr,{size:22})),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-semibold text-gray-900"},"Gestion des livreurs"),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez, modifiez et activez les livreurs disponibles."))),o&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},o),e.createElement("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold uppercase text-gray-400"},"Livreurs"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-gray-900"},_.total),e.createElement("p",{className:"text-xs text-gray-500"},"Total enregistrs")),e.createElement("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-emerald-500"},"Actifs"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-emerald-800"},_.active),e.createElement("p",{className:"text-xs text-emerald-700"},_.inactive," inactif(s)")),e.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-indigo-500"},"Commandes assignes"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-indigo-800"},_.assigned),e.createElement("p",{className:"text-xs text-indigo-700"},"Toutes priodes")),e.createElement("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-amber-500"},"En livraison"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-amber-800"},_.delivering),e.createElement("p",{className:"text-xs text-amber-700"},_.delivered," livre(s)"))),e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},e.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},y?"Modifier un livreur":"Ajouter un livreur"),e.createElement("form",{className:"mt-4 grid gap-4 md:grid-cols-[1.2fr_1fr_auto]",onSubmit:D},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Nom"),e.createElement("input",{type:"text",value:p.name,onChange:I=>g(j=>({...j,name:I.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ex: Jean K."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Tlphone"),e.createElement("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2 text-sm focus-within:ring-2 focus-within:ring-indigo-500"},e.createElement(hs,{size:14,className:"text-gray-400"}),e.createElement("input",{type:"text",value:p.phone,onChange:I=>g(j=>({...j,phone:I.target.value})),className:"w-full border-none p-0 text-sm focus:outline-none",placeholder:"06 000 00 00"}))),e.createElement("div",{className:"flex flex-col justify-end gap-2"},e.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600"},e.createElement("input",{type:"checkbox",checked:p.active,onChange:I=>g(j=>({...j,active:I.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Actif"),e.createElement("button",{type:"submit",disabled:d||!p.name.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},y?e.createElement(Gc,{size:16}):e.createElement(Ro,{size:16}),y?"Mettre  jour":"Ajouter")))),e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},e.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Livreurs"),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement(rn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.createElement("input",{type:"search",value:S,onChange:I=>v(I.target.value),className:"w-56 rounded-xl border border-gray-200 py-2 pl-9 pr-3 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un livreur"})),e.createElement("span",{className:"text-xs text-gray-400"},k.total," enregistr(s)"))),a?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement des livreurs"):t.length===0?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun livreur enregistr pour le moment."):e.createElement("div",{className:"mt-4 divide-y divide-gray-100"},t.map(I=>e.createElement("div",{key:I._id,className:"flex flex-wrap items-center justify-between gap-3 py-3"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},I.name),e.createElement("p",{className:"text-xs text-gray-500"},I.phone||"Tlphone non renseign"),e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-gray-500"},e.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-0.5"},"Assignes: ",I.stats?.totalAssigned||0),e.createElement("span",{className:"rounded-full bg-blue-100/70 px-2 py-0.5 text-blue-700"},"En cours: ",I.stats?.delivering||0),e.createElement("span",{className:"rounded-full bg-emerald-100/70 px-2 py-0.5 text-emerald-700"},"Livres: ",I.stats?.delivered||0))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${I.active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`},I.active?"Actif":"Inactif"),e.createElement("button",{type:"button",onClick:()=>R(I),className:"inline-flex items-center gap-1 rounded-lg border border-gray-200 px-2 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},e.createElement(Fo,{size:14}),"Modifier"),e.createElement("button",{type:"button",onClick:()=>O(I._id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-2 py-1 text-xs font-semibold text-red-600 hover:bg-red-50"},e.createElement(sp,{size:14}),"Supprimer"))))),k.totalPages>1&&e.createElement("div",{className:"mt-4 flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Page ",C," sur ",k.totalPages,"  ",k.total," livreur",k.total>1?"s":""),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>w(I=>Math.max(1,I-1)),disabled:C<=1,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>w(I=>Math.min(k.totalPages,I+1)),disabled:C>=k.totalPages,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const Qk=12;function Xk(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState(1),y=async()=>{l(!0),c("");try{const{data:x}=await ee.get("/products/public",{params:{sort:"discount",limit:Qk,page:d}}),v=(Array.isArray(x?.items)?x.items:Array.isArray(x)?x:[]).filter(N=>Number(N.discount)>0);r(v),g(x?.pagination?.pages||1)}catch(x){c(x.response?.data?.message||x.message||"Impossible de charger les bonnes affaires.")}finally{l(!1)}};return u.useEffect(()=>{y()},[d]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Bonnes affaires"),e.createElement("p",{className:"text-sm text-gray-500"},"Dcouvrez les produits au prix le plus bas actuellement approuvs sur la plateforme.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((x,S)=>e.createElement("div",{key:S,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(x=>e.createElement(Ra,{key:x._id,p:x}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",d," / ",p),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>f(x=>Math.max(1,x-1)),disabled:d<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(x=>Math.min(p,x+1)),disabled:d>=p,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bonne affaire disponible pour le moment. Revenez plus tard !"))}const Jk=60,Ao=12;function Zk(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);u.useEffect(()=>{let v=!0;const N=new AbortController;return(async()=>{l(!0),c("");try{const{data:C}=await ee.get("/products/public/highlights",{params:{limit:Jk},signal:N.signal});if(!v)return;const w=Array.isArray(C?.topRated)?C.topRated:[];r(w)}catch(C){if(N.signal.aborted)return;c(C.response?.data?.message||C.message||"Impossible de charger les produits mieux nots.")}finally{v&&l(!1)}})(),()=>{v=!1,N.abort()}},[]),u.useEffect(()=>{const v=()=>{typeof window>"u"||g(window.innerWidth<=767)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),u.useEffect(()=>{f(1)},[t.length]),u.useEffect(()=>{if(!p||d>=Math.max(1,Math.ceil(t.length/Ao)))return;const v=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&f(E=>Math.min(E+1,Math.max(1,Math.ceil(t.length/Ao))))};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[p,t.length,d]);const y=Math.max(1,Math.ceil(t.length/Ao));u.useEffect(()=>{d>y&&f(y)},[d,y]);const x=u.useMemo(()=>{const v=d*Ao;return t.slice(0,v)},[t,d]),S=()=>{if(p||t.length<=Ao)return null;const v=Math.min(5,y),N=Math.floor(v/2);let E=Math.max(1,d-N),C=Math.min(y,E+v-1);E=Math.max(1,C-v+1);const w=Array.from({length:C-E+1},(k,L)=>E+L);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>f(k=>Math.max(1,k-1)),disabled:d<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),E>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>f(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),E>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),w.map(k=>e.createElement("button",{key:k,onClick:()=>f(k),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===k?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},k)),C<y&&e.createElement(e.Fragment,null,C<y-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>f(y),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===y?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},y)),e.createElement("button",{onClick:()=>f(k=>Math.min(y,k+1)),disabled:d>=y,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Top des valuations"),e.createElement("p",{className:"text-sm text-gray-500"},"Les produits les mieux nots par la communaut, classs par moyenne des avis.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((v,N)=>e.createElement("div",{key:N,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},x.map(v=>e.createElement(Ra,{key:v._id,p:v}))),S()):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit n'a encore reu d'valuations suffisantes. Revenez un peu plus tard !"))}const e5=60,_o=12;function t5(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);u.useEffect(()=>{let v=!0;const N=new AbortController;return(async()=>{l(!0),c("");try{const{data:C}=await ee.get("/products/public/highlights",{params:{limit:e5},signal:N.signal});if(!v)return;const w=Array.isArray(C?.favorites)?C.favorites:[];r(w)}catch(C){if(N.signal.aborted)return;c(C.response?.data?.message||C.message||"Impossible de charger les produits favoris.")}finally{v&&l(!1)}})(),()=>{v=!1,N.abort()}},[]),u.useEffect(()=>{f(1)},[t.length]),u.useEffect(()=>{if(!p||d>=Math.max(1,Math.ceil(t.length/_o)))return;const v=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&f(E=>Math.min(E+1,Math.max(1,Math.ceil(t.length/_o))))};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[p,t.length,d]),u.useEffect(()=>{const v=()=>{typeof window>"u"||g(window.innerWidth<=767)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const y=Math.max(1,Math.ceil(t.length/_o));u.useEffect(()=>{d>y&&f(y)},[d,y]);const x=u.useMemo(()=>{const v=d*_o;return t.slice(0,v)},[t,d]),S=()=>{if(p||t.length<=_o)return null;const v=Math.min(5,y),N=Math.floor(v/2);let E=Math.max(1,d-N),C=Math.min(y,E+v-1);E=Math.max(1,C-v+1);const w=Array.from({length:C-E+1},(k,L)=>E+L);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>f(k=>Math.max(1,k-1)),disabled:d<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),E>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>f(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),E>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),w.map(k=>e.createElement("button",{key:k,onClick:()=>f(k),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===k?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},k)),C<y&&e.createElement(e.Fragment,null,C<y-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>f(y),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===y?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},y)),e.createElement("button",{onClick:()=>f(k=>Math.min(y,k+1)),disabled:d>=y,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Favoris de la communaut"),e.createElement("p",{className:"text-sm text-gray-500"},"Les annonces les plus sauvegardes par les acheteurs sur HDMarket.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((v,N)=>e.createElement("div",{key:N,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},x.map(v=>e.createElement(Ra,{key:v._id,p:v}))),S()):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun favori pour le moment. Ajoutez des produits  vos favoris pour les voir ici !"))}const r5=12;function a5(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState(1),y=async()=>{l(!0),c("");try{const{data:x}=await ee.get("/products/public",{params:{sort:"discount",limit:r5,page:d}}),v=(Array.isArray(x?.items)?x.items:Array.isArray(x)?x:[]).filter(N=>Number(N.discount)>0);r(v),g(x?.pagination?.pages||1)}catch(x){c(x.response?.data?.message||x.message||"Impossible de charger les produits en promotion.")}finally{l(!1)}};return u.useEffect(()=>{y()},[d]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Promotions"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez ici les annonces bnficiant des plus fortes rductions actuellement actives.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((x,S)=>e.createElement("div",{key:S,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(x=>e.createElement(Ra,{key:x._id,p:x}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",d," / ",p),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>f(x=>Math.max(1,x-1)),disabled:d<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(x=>Math.min(p,x+1)),disabled:d>=p,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune promotion n'est active pour le moment. Revenez prochainement pour profiter de nouvelles offres."))}const n5=60;function s5(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState("");return u.useEffect(()=>{let d=!0;const f=new AbortController;return(async()=>{l(!0),c("");try{const{data:g}=await ee.get("/products/public/highlights",{params:{limit:n5},signal:f.signal});if(!d)return;const y=Array.isArray(g?.newProducts)?g.newProducts:[];r(y)}catch(g){if(f.signal.aborted)return;c(g.response?.data?.message||g.message||"Impossible de charger les produits neufs.")}finally{d&&l(!1)}})(),()=>{d=!1,f.abort()}},[]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits Neufs"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les nouveauts rcemment ajoutes sur HDMarket.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((d,f)=>e.createElement("div",{key:f,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(d=>e.createElement(Ra,{key:d._id,p:d}))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit neuf n'est disponible pour le moment. Revenez bientt pour dcouvrir les nouveauts."))}const l5=60;function o5(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState("");return u.useEffect(()=>{let d=!0;const f=new AbortController;return(async()=>{l(!0),c("");try{const{data:g}=await ee.get("/products/public/highlights",{params:{limit:l5},signal:f.signal});if(!d)return;const y=Array.isArray(g?.usedProducts)?g.usedProducts:[];r(y)}catch(g){if(f.signal.aborted)return;c(g.response?.data?.message||g.message||"Impossible de charger les produits d'occasion.")}finally{d&&l(!1)}})(),()=>{d=!1,f.abort()}},[]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits d'occasion"),e.createElement("p",{className:"text-sm text-gray-500"},"Les meilleures affaires d'occasion slectionnes pour vous.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((d,f)=>e.createElement("div",{key:f,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(d=>e.createElement(Ra,{key:d._id,p:d}))):e.createElement("p",{className:"text-sm text-gray-500"},"Pas encore d'annonces d'occasion disponibles. Revenez plus tard pour dnicher la bonne affaire."))}const i5=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}];function c5(){const{categoryId:t}=bs(),r=u.useMemo(()=>op(t),[t]),a=r?.group??null,[l,o]=Fc(),c=Number(l.get("page")),d=u.useRef(Number.isInteger(c)&&c>0?c:1),[f,p]=u.useState([]),[g,y]=u.useState(!1),[x,S]=u.useState(""),[v,N]=u.useState("new"),[E,C]=u.useState(d.current),[w,k]=u.useState(1),[L,_]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);u.useEffect(()=>{d.current=1,C(1)},[t]),u.useEffect(()=>{d.current=1,C(1)},[v]),u.useEffect(()=>{if(E===d.current){o(M=>{const D=new URLSearchParams(M);return E===1?D.delete("page"):D.set("page",String(E)),D},{replace:!0});return}o(M=>{const D=new URLSearchParams(M);return E===1?D.delete("page"):D.set("page",String(E)),D},{replace:!1})},[E,o]),u.useEffect(()=>{const M=()=>{typeof window>"u"||_(window.innerWidth<=767)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),u.useEffect(()=>{if(!r){p([]),k(1);return}let M=!0;const D=new AbortController;return(async()=>{y(!0),S("");try{const{data:O}=await ee.get("/products/public",{params:{category:r.value,sort:v,page:E,limit:12},signal:D.signal});if(!M)return;const I=Array.isArray(O)?O:O?.items??[],j=Array.isArray(O)?{pages:1}:O?.pagination??{};p(Y=>L&&E>1?[...Y,...I]:I),k(Math.max(1,Number(j.pages)||1))}catch(O){if(D.signal.aborted)return;S(O.response?.data?.message||O.message||"Impossible de charger les produits de cette catgorie.")}finally{M&&y(!1)}})(),()=>{M=!1,D.abort()}},[r,v,E,L]),u.useEffect(()=>{p([]),k(1)},[r,v]),u.useEffect(()=>{if(!L||g||E>=w)return;const M=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&C(R=>Math.min(R+1,w))};return window.addEventListener("scroll",M,{passive:!0}),()=>window.removeEventListener("scroll",M)},[L,g,E,w]);const T=()=>{if(w<=1)return null;const M=Math.min(5,w),D=[];for(let R=1;R<=M;R+=1)D.push(e.createElement("button",{key:R,onClick:()=>C(R),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${E===R?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},R));return L?null:e.createElement("div",{className:"flex items-center justify-center gap-2 pt-6 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>C(R=>Math.max(1,R-1)),disabled:E<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),D,e.createElement("button",{onClick:()=>C(R=>Math.min(w,R+1)),disabled:E>=w,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""))};return r?e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6 sm:py-8 sm:space-y-8 pb-24 md:pb-16"},e.createElement("header",{className:"space-y-4"},e.createElement("nav",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(ce,{to:"/",className:"hover:text-indigo-600 font-medium"},"Accueil"),e.createElement(va,{className:"w-3 h-3"}),a?e.createElement(e.Fragment,null,e.createElement("span",null,a.label),e.createElement(va,{className:"w-3 h-3"})):null,e.createElement("span",{className:"text-gray-900 font-semibold"},r.label)),e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},r.label),e.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Produits approuvs rcemment ajouts dans cette sous-catgorie.")),e.createElement("div",{className:"w-full md:w-auto flex items-center gap-3"},e.createElement("label",{htmlFor:"category-sort",className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Trier"),e.createElement("select",{id:"category-sort",value:v,onChange:M=>N(M.target.value),className:"flex-1 md:flex-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},i5.map(M=>e.createElement("option",{key:M.value,value:M.value},M.label))))),a&&e.createElement("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1"},a.options.map(M=>{const D=M.value===r.value;return e.createElement(ce,{key:M.value,to:`/categories/${M.value}`,className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium transition-colors ${D?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 bg-white text-gray-600 hover:border-indigo-200 hover:text-indigo-600"}`},M.label,D?null:e.createElement(va,{className:"w-3 h-3"}))}))),x&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},x),g?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},Array.from({length:8}).map((M,D)=>e.createElement("div",{key:D,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):f.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},f.map(M=>e.createElement(Ra,{key:M._id,p:M}))),T()):e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit disponible dans cette catgorie pour le moment. Revenez plus tard ou explorez dautres sous-catgories.")):e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-8 space-y-8"},e.createElement("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Catgorie introuvable"),e.createElement("p",{className:"text-sm text-gray-600"},"Cette catgorie nexiste pas ou nest plus disponible. Parcourez nos catgories populaires ci-dessous."),e.createElement("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},xs.map(M=>e.createElement("div",{key:M.id,className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900 mb-3"},M.label),e.createElement("div",{className:"flex flex-wrap gap-2"},M.options.map(D=>e.createElement(ce,{key:D.value,to:`/categories/${D.value}`,className:"inline-flex items-center gap-1 rounded-full border border-indigo-100 bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 hover:bg-indigo-100 transition-colors"},D.label,e.createElement(va,{className:"w-3 h-3"}))))))),e.createElement("div",{className:"mt-6"},e.createElement(ce,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},e.createElement(an,{className:"w-4 h-4"}),"Retour  laccueil"))))}const d5=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}],m5=12;function u5(){const[t,r]=Fc(),a=(t.get("category")||"").trim(),[l,o]=u.useState([]),[c,d]=u.useState(!1),[f,p]=u.useState(""),[g,y]=u.useState("new"),x=Number(t.get("page")),S=u.useRef(Number.isInteger(x)&&x>0?x:1),[v,N]=u.useState(S.current),[E,C]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[w,k]=u.useState(1),[L,_]=u.useState(""),[T,M]=u.useState(""),[D,R]=u.useState(a);u.useEffect(()=>{R(a)},[a]);const O=u.useCallback(async()=>{d(!0),p("");try{const Q={sort:g,page:v,limit:m5};T&&(Q.q=T),D&&(Q.category=D);const{data:ue}=await ee.get("/products/public",{params:Q}),ie=Array.isArray(ue)?ue:ue?.items||[],H=Array.isArray(ue)?{pages:1}:ue?.pagination||{};o(B=>E&&v>1?[...B,...ie]:ie),k(Math.max(1,Number(H.pages)||1))}catch(Q){p(Q.response?.data?.message||Q.message||"Impossible de charger les produits.")}finally{d(!1)}},[v,g,T,D]);u.useEffect(()=>{S.current=1,N(1),o([]),k(1)},[g,T,D]),u.useEffect(()=>{if(!E||c||v>=w)return;const Q=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&N(ie=>Math.min(ie+1,w))};return window.addEventListener("scroll",Q,{passive:!0}),()=>window.removeEventListener("scroll",Q)},[E,c,v,w]),u.useEffect(()=>{const Q=()=>{typeof window>"u"||C(window.innerWidth<=767)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),u.useEffect(()=>{v===S.current?r(Q=>{const ue=new URLSearchParams(Q);return v===1?ue.delete("page"):ue.set("page",String(v)),ue},{replace:!0}):r(Q=>{const ue=new URLSearchParams(Q);return v===1?ue.delete("page"):ue.set("page",String(v)),ue},{replace:!1})},[v,r]),u.useEffect(()=>{O()},[O]);const I=Q=>{Q.preventDefault(),M(L.trim())},j=()=>{_(""),M("")},Y=u.useMemo(()=>{const Q=[],ue=Math.min(5,w);for(let ie=1;ie<=ue;ie+=1)Q.push(e.createElement("button",{key:ie,type:"button",onClick:()=>N(ie),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${v===ie?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},ie));return Q},[v,w]),te=u.useMemo(()=>op(D),[D]),me=u.useCallback(()=>{R("");const Q=new URLSearchParams(t);Q.delete("category"),r(Q,{replace:!0})},[t,r]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Tous les produits"),e.createElement("p",{className:"text-sm text-gray-500"},"Parcourez les annonces disponibles sur HDMarket et dcouvrez les nouveauts.")),e.createElement("form",{onSubmit:I,className:"w-full md:w-auto flex flex-col sm:flex-row gap-2 sm:items-center"},e.createElement("div",{className:"relative flex-1 sm:min-w-[280px]"},e.createElement("input",{type:"search",value:L,onChange:Q=>_(Q.target.value),placeholder:"Rechercher un produit...",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-base sm:text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700"},"Rechercher"),T&&e.createElement("button",{type:"button",onClick:j,className:"rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-100"},"Effacer")))),e.createElement("section",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},e.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500"},e.createElement("span",null,l.length," rsultat",l.length>1?"s":""," affich",l.length>1?"s":""),T&&e.createElement("span",{className:"rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700"},"Filtre:",T),D&&e.createElement("button",{type:"button",onClick:me,className:"inline-flex items-center gap-2 rounded-full bg-purple-100 px-3 py-1 text-xs font-semibold text-purple-700 hover:bg-purple-200 transition-colors"},"Catgorie:",te?.label||D,e.createElement("span",{"aria-hidden":"true"},""))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"sort-options",className:"text-sm text-gray-600"},"Trier par"),e.createElement("select",{id:"sort-options",value:g,onChange:Q=>y(Q.target.value),className:"rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},d5.map(Q=>e.createElement("option",{key:Q.value,value:Q.value},Q.label))))),f&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},f),c?e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map((Q,ue)=>e.createElement("div",{key:ue,className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm"},e.createElement("div",{className:"mb-3 h-48 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"h-4 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):l.length?e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},l.map(Q=>e.createElement(Ra,{key:Q._id,p:Q,onProductClick:Kc}))):e.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucun produit ne correspond  votre recherche pour le moment."),w>1&&e.createElement("div",{className:"flex items-center justify-center gap-2 pt-4"},e.createElement("button",{type:"button",onClick:()=>N(Q=>Math.max(1,Q-1)),disabled:v<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),Y,e.createElement("button",{type:"button",onClick:()=>N(Q=>Math.min(w,Q+1)),disabled:v>=w,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},"")),e.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'une catgorie spcifique?"),e.createElement(ce,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retour  la page d'accueil")))))}const Zm=["Brazzaville","Pointe-Noire","Ouesso","Oyo"];function p5(){const[t,r]=Fc(),[a,l]=u.useState([]),[o,c]=u.useState(!1),[d,f]=u.useState(""),[p,g]=u.useState({}),y=u.useRef(new Map),x=sn(),[S,v]=u.useState(()=>{const E=t.get("city");return Zm.includes(E)?E:Zm[0]});u.useEffect(()=>{const E=new AbortController;return(async()=>{try{const{data:w}=await ee.get("/products/public/highlights",{params:{limit:12},signal:E.signal});w?.cityHighlights&&typeof w.cityHighlights=="object"&&g(w.cityHighlights)}catch{}})(),()=>E.abort()},[]),u.useEffect(()=>{if(!S)return;const E=y.current.get(S);if(E&&(l(E.items),f(E.error||""),c(!1),E.nextRetry&&Date.now()<E.nextRetry))return;const C=new AbortController;return(async()=>{c(!0),f("");try{const{data:k}=await ee.get("/products/public",{params:{city:S},signal:C.signal}),L=Array.isArray(k)?k:k?.items||[];if(L.length)l(L),y.current.set(S,{items:L,error:"",nextRetry:0});else if(p[S]){const _=p[S];l(_),y.current.set(S,{items:_,error:"",nextRetry:0})}else l([]),y.current.set(S,{items:[],error:"",nextRetry:0})}catch(k){if(C.signal.aborted)return;const L=k.response?.data?.message||k.message||"Impossible de charger les produits.";f(L);const _=y.current.get(S)?.items||p[S]||[];_.length&&l(_),y.current.set(S,{items:_,error:L,nextRetry:Date.now()+60*1e3})}finally{c(!1)}})(),()=>C.abort()},[S,p]),u.useEffect(()=>{if(!a.length&&p[S]?.length){const E=p[S];l(E),y.current.set(S,{items:E,error:"",nextRetry:0})}},[p,S,a.length]),u.useEffect(()=>{S&&r({city:S})},[S,r]);const N=u.useMemo(()=>S?`Produits disponibles  ${S}`:"Produits par ville",[S]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold text-gray-900"},N),e.createElement("p",{className:"text-sm text-gray-500"},"Consultez les annonces publies depuis nos principales villes de la Rpublique du Congo.")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"city-select",className:"text-sm text-gray-600"},"Choisir une ville"),e.createElement("select",{id:"city-select",value:S,onChange:E=>v(E.target.value),className:"rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},Zm.map(E=>e.createElement("option",{key:E,value:E},E))))),d&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d),o?e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map((E,C)=>e.createElement("div",{key:C,className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm"},e.createElement("div",{className:"mb-3 h-48 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"h-4 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):a.length?e.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},a.map(E=>e.createElement(Ra,{key:E._id,p:E}))):e.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucune annonce disponible pour cette ville pour le moment."),e.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},e.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'accder aux annonces d'une catgorie spcifique?"),e.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},e.createElement(ce,{to:"/products",...x,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-700 hover:bg-indigo-100"},"Parcourir tous les produits"),e.createElement(ce,{to:"/#categories",className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-indigo-600 hover:bg-gray-50"},"Voir les catgories"))))))}function or({children:t,role:r,roles:a}){const l=wa(),{user:o}=u.useContext(Bt);if(!o)return e.createElement(Do,{to:"/login",state:{from:l},replace:!0});const c=(Array.isArray(a)&&a.length?a:null)||(r?[r]:null);return c&&!c.includes(o.role)?e.createElement(Do,{to:"/",replace:!0}):t}function f5(){const{slug:t}=bs(),r=ea(),a=u.useContext(Bt),l=a?.user,o=a?.updateUser,{addItem:c,cart:d}=u.useContext(Gl),{toggleFavorite:f,isFavorite:p}=u.useContext(Ko),[g,y]=u.useState(null),[x,S]=u.useState(!0),[v,N]=u.useState(""),[E,C]=u.useState(!1),[w,k]=u.useState(""),[L,_]=u.useState(0),[T,M]=u.useState(0),[D,R]=u.useState(0),[O,I]=u.useState([]),[j,Y]=u.useState([]),[te,me]=u.useState(!1),[Q,ue]=u.useState(!1),[ie,H]=u.useState("description"),[B,X]=u.useState([]),[z,G]=u.useState(""),[V,fe]=u.useState(0),[ge,we]=u.useState(0),[Pe,Le]=u.useState(!1),[je,Ye]=u.useState(!1),[He,tt]=u.useState(""),[J,We]=u.useState(null),[Re,De]=u.useState(""),[ve,Ne]=u.useState(!1),[_e,rt]=u.useState(""),[ut,Ke]=u.useState(!1),[yt,It]=u.useState(""),[Vt,he]=u.useState(""),[Je,qe]=u.useState(!1),[nt,bt]=u.useState(1),[jt,jr]=u.useState(!1),zt=Yl(),dr=sn(),U=l?.role==="admin",le=u.useCallback(()=>{typeof a?.logout=="function"&&a.logout(),r("/",{replace:!0})},[a,r]),Te=g?p(g._id):!1,Tt=g&&l&&d?.items?.some(de=>de.product?._id===g._id),kt=g?lp(g,g?.user?.phone):"",Jt=g?.user?.phone,ae=Jt&&l,Fe=g?.user?.accountType==="shop",F=g?.user?.shopName,ke=g?.user?.shopLogo,lt=g?.user?.shopAddress,Lt=g?.user&&(g.user.slug||g.user._id)?{slug:g.user.slug,_id:g.user._id}:null,ct=g?.user?.city||g?.city||"",Dt=g?.user?.country||g?.country||"Rpublique du Congo",Ce=g?.user&&l&&String(g.user._id||g.user.id)===String(l._id||l.id);u.useEffect(()=>{if(!l||!g?.user?._id){me(!1);return}const pe=(Array.isArray(l.followingShops)?l.followingShops:[]).some($e=>String($e)===String(g.user._id));me(pe)},[g?.user?._id,l?.followingShops,l]);const Ot=async()=>{if(g?.user?._id){if(!l){r("/login",{state:{from:`/product/${t}`}});return}if(!(!Fe||!qr||Ce)){ue(!0);try{const de=te?await ee.delete(`/users/shops/${g.user._id}/follow`):await ee.post(`/users/shops/${g.user._id}/follow`);if(me(!te),typeof o=="function"){const $e=(Array.isArray(l.followingShops)?l.followingShops:[]).map(Ct=>String(Ct)),ht=te?$e.filter(Ct=>Ct!==String(g.user._id)):Array.from(new Set([...$e,String(g.user._id)]));o({followingShops:ht})}de?.data?.followersCount!==void 0&&y(pe=>pe&&{...pe,user:{...pe.user,followersCount:de.data.followersCount}})}catch(de){console.error("Erreur suivi boutique:",de)}finally{ue(!1)}}}};u.useEffect(()=>{(async()=>{try{S(!0),N("");let pe;console.debug("Loading product",{slug:t});try{pe=(await ee.get(`/products/public/${t}`)).data}catch($e){const ht=$e?.response?.status;if(ht===404&&l)try{pe=(await ee.get(`/products/${t}`)).data}catch(Ct){if(Ct?.response?.status===401){le();return}throw Ct}else{if(ht===401){le();return}throw $e}}if(!pe)throw new Error("Produit non trouv");if(y(pe),M(pe.whatsappClicks||0),R(pe.favoritesCount||0),pe.status==="approved"?await Promise.all([ot(pe.slug||pe._id),Gt(pe._id)]):(X([]),we(0),fe(0)),pe.category)try{const $e=await ee.get(`/products/public?category=${pe.category}&limit=4`),Ct=(Array.isArray($e.data?.items)?$e.data.items:[]).filter(Qt=>!(!Qt||pe?._id&&Qt._id&&Qt._id===pe._id||pe?.slug&&Qt.slug&&Qt.slug===pe.slug));I(Ct.slice(0,4))}catch($e){console.error("Erreur chargement produits similaires:",$e),I([])}}catch(pe){if(pe.response?.status===401){le();return}N(pe.response?.data?.message||"Produit non trouv ou indisponible"),console.error("Erreur chargement produit:",pe)}finally{S(!1)}})()},[t]),u.useEffect(()=>{g?._id&&Kc(g)},[g?._id,g?.category]),u.useEffect(()=>{if(!zt||!g||!Fe){Y([]);return}const de=g.user?.slug||g.user?._id;if(!de){Y([]);return}let pe=!0;return(async()=>{try{const{data:ht}=await ee.get(`/shops/${de}`,{params:{limit:12}}),Qt=(Array.isArray(ht?.products)?ht.products:[]).filter(Sr=>!(!Sr||g?._id&&Sr._id&&Sr._id===g._id||g?.slug&&Sr.slug&&Sr.slug===g.slug));pe&&Y(Qt)}catch{pe&&Y([])}})(),()=>{pe=!1}},[zt,Fe,g?._id,g?.slug,g?.user?._id,g?.user?.slug]),u.useEffect(()=>{It(""),he("")},[g?._id]);const ot=async de=>{const pe=de||t;try{const{data:$e}=await ee.get(`/products/public/${pe}/comments`);X(vt(Array.isArray($e)?$e:[]));return}catch($e){if($e.response?.status===404){X([]);return}console.error("Erreur chargement commentaires:",$e),X([])}},vt=de=>{const pe=new Map,$e=[];return de.forEach(ht=>{const Ct=String(ht._id);pe.set(Ct,{...ht,replies:[]})}),de.forEach(ht=>{const Ct=String(ht._id),Qt=pe.get(Ct);if(!Qt)return;const Sr=typeof ht.parent=="string"?ht.parent:ht.parent&&ht.parent._id?String(ht.parent._id):null;if(Sr){const ua=pe.get(Sr);if(ua){ua.replies.push(Qt);return}}$e.push(Qt)}),$e},Gt=async de=>{if(l)try{const pe=de;if(!pe)return;const{data:$e}=await ee.get(`/products/${pe}/rating`,{params:{productId:pe}});we($e?.value||0),fe($e?.value||0)}catch(pe){console.error("Erreur chargement note utilisateur:",pe),we(0),fe(0)}},Rt=async()=>{if(!(!g||ut)){It(""),he(""),Ke(!0);try{const de=!g.certified,{data:pe}=await ee.patch(`/admin/products/${g._id}/certify`,{certified:de});y($e=>$e&&{...$e,certified:pe.certified,certifiedBy:pe.certifiedBy,certifiedAt:pe.certifiedAt}),It(de?"Produit certifi.":"Certification retire.")}catch(de){console.error("Erreur certification produit:",de),he(de?.response?.data?.message||"Une erreur est survenue.")}finally{Ke(!1)}}},ar=async de=>{if(de.preventDefault(),!(!l||!z.trim())){Le(!0),tt("");try{const pe={productId:g?._id,message:z.trim()},$e=await ee.post(`/products/${t}/comments`,pe);G(""),await ot(g?.slug||g?._id)}catch(pe){if(pe.response?.status===401){le();return}console.error("Erreur soumission commentaire:",pe),pe.response?tt(pe.response.data?.message||`Erreur ${pe.response.status}`):pe.request?tt("Erreur rseau - impossible de contacter le serveur"):tt("Erreur inattendue: "+pe.message)}finally{Le(!1)}}},Fr=async de=>{if(!(!l||!Re.trim())){Le(!0),tt("");try{const pe={productId:g?._id,message:Re.trim(),parentId:de._id},$e=await ee.post(`/products/${t}/comments`,pe);De(""),We(null),await ot(g?.slug||g?._id)}catch(pe){if(pe.response?.status===401){le();return}console.error("Erreur soumission rponse:",pe),pe.response&&tt(pe.response.data?.message||`Erreur ${pe.response.status}`)}finally{Le(!1)}}},Sa=async de=>{if(!l){r("/login",{state:{from:`/product/${t}`}});return}Ye(!0);try{await ee.put(`/products/${t}/rating`,{value:de,productId:g?._id}),we(de);const{data:pe}=await ee.get(`/products/public/${t}`);y(pe)}catch(pe){if(pe.response?.status===401){le();return}console.error("Erreur soumission note:",pe);const $e=pe.response?.data?.message||pe.message||"Une erreur est survenue lors de lenvoi de votre note.";alert(`Erreur lors de l'ajout de la note : ${$e}`)}finally{Ye(!1)}},Kt=async()=>{if(g){if(!l){r("/login",{state:{from:`/product/${t}`}});return}if(!Tt){C(!0),k("");try{await c(g._id,1),k(" Ajout au panier !"),setTimeout(()=>k(""),3e3)}catch(de){if(de.response?.status===401){le();return}k(" Erreur lors de l'ajout")}finally{C(!1)}}}},mr=async()=>{if(g){if(!l){r("/login",{state:{from:`/product/${t}`}});return}try{const de=await f(g);de===!0?R(pe=>pe+1):de===!1&&R(pe=>Math.max(0,pe-1))}catch(de){if(de.response?.status===401){le();return}console.error("Erreur favori:",de)}}},_r=async de=>{if(g){if(!l){de?.preventDefault&&de.preventDefault(),alert("Veuillez vous connecter pour contacter le vendeur via WhatsApp."),r("/login",{state:{from:`/product/${t}`}});return}try{const pe=g.slug||g._id,{data:$e}=await ee.post(`/products/public/${pe}/whatsapp-click`);M($e?.whatsappClicks||T+1)}catch(pe){if(pe.response?.status===401){le();return}console.error("Erreur comptage WhatsApp:",pe)}}},ur=g?.discount>0,$r=ur?g?.priceBeforeDiscount:g?.price,Pr=g?.price||0,Yt=g?.discount||0,Br=Number(g?.ratingAverage||0).toFixed(1),ta=g?.ratingCount||0,nr=g?.commentCount||0,ra=g?.condition==="new"?"Neuf":"Occasion",aa=g?.condition==="new"?"from-emerald-500 to-green-500":"from-amber-500 to-orange-500",Vr=g?.createdAt?new Date(g.createdAt):null,Mt=Vr?Math.floor((Date.now()-Vr.getTime())/(1e3*60*60*24)):0,Ia=Mt<=7,Et=Array.isArray(g?.images)?g.images.slice(0,3):[],Wa=u.useMemo(()=>{const de=[];j.forEach($e=>{(Array.isArray($e?.images)?$e.images:[]).forEach(Ct=>{Ct&&de.push({src:Ct,product:$e})})});const pe=[...de];for(let $e=pe.length-1;$e>0;$e-=1){const ht=Math.floor(Math.random()*($e+1));[pe[$e],pe[ht]]=[pe[ht],pe[$e]]}return pe.slice(0,6)},[j]),qr=!!g?.user?.shopVerified,ja=u.useMemo(()=>g?jx(g):window.location.href,[g]);u.useEffect(()=>{if(!Et.length){L!==0&&_(0);return}L>=Et.length&&_(0)},[Et.length,L]);const Ga=Et[L]||"https://via.placeholder.com/600x600",da=zt?"cursor-pointer":"cursor-zoom-in",Zt=u.useCallback((de=L)=>{_(de),qe(!0)},[L]),ln=u.useCallback(()=>{qe(!1)},[]),wr=u.useCallback(()=>{Zt(L)},[Zt,L]),on=u.useCallback(de=>{de.stopPropagation(),Zt(L)},[Zt,L]),wn=u.useCallback(de=>{_(de),Zt(de)},[Zt]),ka=u.useCallback(()=>{Et.length&&_(de=>(de-1+Et.length)%Et.length)},[Et.length]),ma=u.useCallback(()=>{Et.length&&_(de=>(de+1)%Et.length)},[Et.length]);u.useEffect(()=>{Je&&bt(1)},[Je,L]);const na=u.useCallback(de=>{if(zt)return;de.preventDefault();const pe=de.deltaY<0?1:-1,$e=de.ctrlKey?.1:.2;bt(ht=>{const Ct=ht+pe*$e;return Math.max(1,Math.min(3,Number(Ct.toFixed(2))))})},[zt]);return u.useEffect(()=>{if(!Je||typeof document>"u")return;const{style:de}=document.body,pe=de.overflow;return de.overflow="hidden",()=>{de.overflow=pe}},[Je]),x?e.createElement("div",{className:"min-h-screen bg-gray-50 pt-20"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},e.createElement("div",{className:"animate-pulse"},e.createElement("div",{className:"flex items-center space-x-2 mb-6"},e.createElement("div",{className:"h-4 bg-gray-300 rounded w-24"}),e.createElement(va,{size:16,className:"text-gray-400"}),e.createElement("div",{className:"h-4 bg-gray-300 rounded w-32"})),e.createElement("div",{className:"grid lg:grid-cols-2 gap-8"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"aspect-square bg-gray-300 rounded-2xl"}),e.createElement("div",{className:"grid grid-cols-4 gap-2"},[1,2,3,4].map(de=>e.createElement("div",{key:de,className:"aspect-square bg-gray-300 rounded-xl"})))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.createElement("div",{className:"h-6 bg-gray-300 rounded w-1/2"}),e.createElement("div",{className:"h-12 bg-gray-300 rounded w-1/3"}),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"h-4 bg-gray-300 rounded"}),e.createElement("div",{className:"h-4 bg-gray-300 rounded w-5/6"}))))))):v||!g?e.createElement("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center"},e.createElement("div",{className:"text-center max-w-md mx-auto px-4"},e.createElement(zn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Produit non trouv"),e.createElement("p",{className:"text-gray-600 mb-6"},v||"Le produit que vous recherchez n'existe pas ou a t supprim."),e.createElement(ce,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all"},e.createElement(an,{size:20,className:"mr-2"}),"Retour  l'accueil"))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10 sm:z-40"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("button",{onClick:()=>r("/products"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors"},e.createElement(an,{size:20}),e.createElement("span",{className:"font-medium"},"Retour")),e.createElement("div",{className:"flex items-center justify-end gap-3 w-full sm:w-auto"},e.createElement("div",{className:"relative"},e.createElement("button",{type:"button",onClick:()=>Ne(de=>!de),className:"p-2 rounded-full hover:bg-gray-100 transition-colors"},e.createElement(x2,{size:20,className:"text-gray-400"})),ve&&e.createElement("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-gray-100 bg-white shadow-xl z-20"},e.createElement("div",{className:"p-3 border-b border-gray-100"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Partager ce produit"),e.createElement("p",{className:"text-xs text-gray-500"},"Diffusez lannonce en un clic.")),e.createElement("div",{className:"p-2 flex flex-col gap-1"},e.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(ja),rt("Lien copi !"),setTimeout(()=>rt(""),2500)}catch{rt("Impossible de copier."),setTimeout(()=>rt(""),2500)}finally{Ne(!1)}},className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors"},"Copier le lien"),e.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ja)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 transition-colors",onClick:()=>Ne(!1)},"Partager sur Facebook"),e.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${g?.title||"Produit"} - ${ja}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>Ne(!1)},"Envoyer sur WhatsApp"),e.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(ja)}&text=${encodeURIComponent(g?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-sky-50 transition-colors",onClick:()=>Ne(!1)},"Partager sur Telegram"),e.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(ja)}&text=${encodeURIComponent(g?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-black/5 transition-colors",onClick:()=>Ne(!1)},"Partager sur TikTok")),_e&&e.createElement("div",{className:"px-3 pb-3 text-xs text-green-600"},_e))))))),e.createElement("main",{className:"max-w-7xl mx-auto px-4 py-8"},e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-500 mb-8"},e.createElement(ce,{to:"/",className:"hover:text-indigo-600 transition-colors"},"Accueil"),e.createElement(va,{size:16}),e.createElement(ce,{to:`/products?category=${g.category}`,className:"hover:text-indigo-600 transition-colors capitalize"},g.category),e.createElement(va,{size:16}),e.createElement("span",{className:"text-gray-900 font-medium truncate"},g.title)),e.createElement("div",{className:"grid gap-8 lg:grid-cols-2 lg:gap-12"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:`relative aspect-square bg-white rounded-2xl border border-gray-200 overflow-hidden ${da}`,onClick:wr},e.createElement("img",{src:Ga,alt:g?.title||"Produit",className:"w-full h-full object-cover transition-transform duration-500"}),e.createElement("button",{type:"button",onClick:de=>{de.stopPropagation(),mr()},className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-3 rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 group"},e.createElement(Dr,{size:24,className:`transition-all duration-300 ${Te?"text-red-500 transform scale-110":"text-gray-600 group-hover:text-red-400"}`,strokeWidth:1.5,fill:Te?"currentColor":"none"})),e.createElement("div",{className:"absolute top-4 left-4 flex flex-col space-y-2"},ur&&e.createElement("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg"},"-",Yt,"%"),Ia&&e.createElement("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg"},"Nouveau"),e.createElement("span",{className:`bg-gradient-to-r ${aa} text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg`},ra),g.certified&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-2 text-xs font-semibold text-emerald-700 shadow"},e.createElement(fr,{className:"w-4 h-4 text-emerald-500"}),"Certifi HDMarket")),e.createElement("button",{type:"button",onClick:on,className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm p-3 rounded-full shadow-lg hover:shadow-xl transition-all"},e.createElement(V2,{size:20,className:"text-gray-700"})))),Et.length>1&&e.createElement("div",{className:"grid grid-cols-4 gap-2"},Et.map((de,pe)=>e.createElement("button",{key:pe,type:"button",onClick:()=>wn(pe),className:`aspect-square rounded-xl border-2 overflow-hidden transition-all ${L===pe?"border-indigo-500 ring-2 ring-indigo-200":"border-gray-200 hover:border-gray-300"}`},e.createElement("img",{src:de,alt:"",className:"w-full h-full object-cover"})))),g.video&&e.createElement("div",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800"},e.createElement(Vx,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Vido de prsentation")),e.createElement("div",{className:"rounded-xl overflow-hidden border border-gray-100 bg-black"},e.createElement("video",{src:g.video,controls:!0,poster:Et[0],className:"w-full h-full object-contain"})))),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"space-y-3"},e.createElement("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 leading-tight"},g.title),e.createElement("div",{className:"flex flex-wrap items-center gap-3"},e.createElement("span",{className:"inline-flex items-center bg-gray-100 px-3 py-1 rounded-full text-sm text-gray-700"},g.category),e.createElement("div",{className:"flex items-center space-x-1 text-sm text-gray-500"},e.createElement(yr,{size:14}),e.createElement("span",null,Mt===0?"Aujourd'hui":Mt===1?"Hier":`Il y a ${Mt} jours`)))),e.createElement("div",{className:"flex flex-wrap items-center gap-4 py-4 border-y border-gray-200"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"flex items-center gap-1 bg-amber-50 px-3 py-2 rounded-2xl"},e.createElement(cr,{className:"w-5 h-5 text-amber-400",fill:"currentColor"}),e.createElement("span",{className:"font-bold text-gray-900"},Br),e.createElement("span",{className:"text-gray-500"},"(",ta,")"))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{size:16}),e.createElement("span",null,nr," commentaires")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Kl,{size:16}),e.createElement("span",null,g.views||0," vues")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Dr,{size:16,className:"text-pink-500"}),e.createElement("span",null,D," favoris")))),e.createElement("div",{className:"space-y-2"},ur?e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-wrap items-baseline gap-2"},e.createElement("span",{className:"text-3xl font-bold text-gray-900"},Number(Pr).toLocaleString()," FCFA"),e.createElement("span",{className:"text-lg text-gray-500 line-through"},Number($r).toLocaleString()," FCFA")),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-sm font-semibold"},"conomisez ",Number($r-Pr).toLocaleString()," FCFA"))):e.createElement("span",{className:"text-3xl font-bold text-gray-900"},Number(Pr).toLocaleString()," FCFA")),g.confirmationNumber&&e.createElement("p",{className:"text-xs text-gray-500"},"Code produit :",e.createElement("span",{className:"font-semibold text-gray-900 ml-1"},g.confirmationNumber),e.createElement("span",{className:"block text-[11px] text-gray-400"},"Mentionnez ce code  ladministrateur lorsque vous validez votre commande.")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] sm:text-xs"},g.certified&&e.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700"},e.createElement(fr,{className:"w-4 h-4 text-emerald-500"}),"Produit certifi HDMarket"),g.certifiedBy&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-700"},"Certifi par ",g.certifiedBy?.name||"HDMarket"),g.certifiedAt&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-600"},new Date(g.certifiedAt).toLocaleDateString("fr-FR"))),U&&e.createElement("button",{type:"button",onClick:Rt,disabled:ut,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full border border-indigo-200 bg-white px-4 py-2 text-xs font-semibold text-indigo-600 transition hover:bg-indigo-50 disabled:opacity-60 disabled:cursor-not-allowed"},g.certified?"Retirer la certification":"Certifier ce produit")),(yt||Vt)&&e.createElement("p",{className:`text-xs ${Vt?"text-red-600":"text-green-600"}`},Vt||yt)),g.user&&e.createElement("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-4 border border-indigo-100"},e.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center"},e.createElement("div",{className:"flex-shrink-0"},ke?e.createElement("img",{src:ke,alt:F||g.user.name,className:"w-12 h-12 rounded-2xl object-cover border border-gray-200"}):e.createElement("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center"},e.createElement(La,{className:"w-6 h-6 text-white"}))),e.createElement("div",{className:"flex-1 space-y-1"},e.createElement("div",{className:"flex items-center gap-2 flex-wrap"},e.createElement("h3",{className:"font-semibold text-gray-900"},Fe&&Lt?e.createElement(ce,{to:Ir(Lt),className:"hover:text-indigo-600 transition-colors"},F||g.user.name):F||g.user.name),Fe&&e.createElement(ia,{verified:qr,showLabel:!1})),(ct||lt)&&e.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},e.createElement(Wt,{size:14}),e.createElement("span",null,ct?`${ct}, ${Dt}`:"",lt?`${ct?"  ":""}${lt}`:"")),e.createElement("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2 flex-wrap"},e.createElement("span",null,"Vendeur ",Fe?"Professionnel":"Particulier"),Fe&&e.createElement(ia,{verified:qr}))),Fe&&Lt&&e.createElement("div",{className:"flex w-full flex-col gap-2 sm:w-auto"},e.createElement(ce,{to:Ir(Lt),className:"flex w-full items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors text-sm font-semibold"},e.createElement(La,{size:16}),e.createElement("span",null,"Voir la boutique")),!Ce&&e.createElement("button",{type:"button",onClick:Ot,disabled:Q||!qr,className:`flex w-full items-center justify-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold transition-colors ${te?"border border-indigo-200 bg-white text-indigo-600 hover:bg-indigo-50":"bg-indigo-50 text-indigo-700 hover:bg-indigo-100"} ${!qr||Q?"opacity-60 cursor-not-allowed":""}`},Q?"Traitement":te?"Se dsabonner":"Suivre la boutique "))),ae&&e.createElement("div",{className:"mt-3 pt-3 border-t border-indigo-100"},e.createElement("a",{href:`tel:${(Jt||"").replace(/\s+/g,"")}`,className:"flex flex-wrap items-center gap-2 text-sm text-gray-700 hover:text-green-600 transition-colors"},e.createElement(hs,{size:16,className:"text-green-600"}),e.createElement("span",{className:"text-gray-900 font-semibold"},Jt),e.createElement("span",{className:"text-xs text-gray-500"}," Contact direct")))),!Ce&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},e.createElement("button",{onClick:Kt,disabled:E||Tt,className:`flex items-center justify-center space-x-2 px-6 py-4 rounded-2xl font-semibold transition-all ${Tt?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 hover:shadow-lg transform hover:-translate-y-0.5"}`},e.createElement(pc,{size:20}),e.createElement("span",null,Tt?"Dj au panier":E?"Ajout...":"Ajouter au panier")),kt&&e.createElement("a",{href:kt,target:"_blank",rel:"noopener noreferrer",onClick:_r,className:"flex items-center justify-center space-x-2 px-6 py-4 rounded-2xl border border-green-600 text-green-600 font-semibold hover:bg-green-50 transition-all"},e.createElement(br,{size:20}),e.createElement("span",null,"WhatsApp"))),w&&e.createElement("div",{className:`rounded-2xl p-4 text-center font-semibold ${w.includes("")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`},w),kt&&e.createElement("p",{className:"text-center text-sm text-gray-500"},T>0?` Contact ${T} fois via WhatsApp`:" Soyez le premier  contacter ce vendeur")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},e.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},e.createElement(fr,{className:"w-5 h-5 text-green-500"}),e.createElement("span",null,"Paiement scuris")),e.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},e.createElement(Nr,{className:"w-5 h-5 text-blue-500"}),e.createElement("span",null,"Livraison disponible"))))),e.createElement("div",{className:"mt-12"},e.createElement("div",{className:"border-b border-gray-200 overflow-x-auto"},e.createElement("nav",{className:"flex flex-wrap gap-4 sm:gap-8 min-w-full"},[{id:"description",label:"Description"},{id:"specifications",label:"Spcifications"},{id:"reviews",label:`Avis et Commentaires (${nr})`},{id:"shipping",label:"Livraison"}].map(de=>e.createElement("button",{key:de.id,onClick:()=>H(de.id),className:`py-4 px-1 font-medium text-sm border-b-2 transition-colors ${ie===de.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`},de.label)))),e.createElement("div",{className:"py-8"},ie==="description"&&e.createElement("div",{className:"prose max-w-none"},e.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line"},g.description)),ie==="specifications"&&e.createElement("div",{className:"grid gap-4"},e.createElement("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100"},e.createElement("span",{className:"font-medium text-gray-600"},"Condition"),e.createElement("span",{className:"text-gray-900"},ra)),e.createElement("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100"},e.createElement("span",{className:"font-medium text-gray-600"},"Catgorie"),e.createElement("span",{className:"text-gray-900 capitalize"},g.category)),(ct||g.user?.shopAddress)&&e.createElement("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 text-sm"},e.createElement("span",{className:"font-medium text-gray-600"},"Localisation"),e.createElement("span",{className:"text-gray-900 text-right"},ct?`${ct}, ${Dt}`:"",g.user?.shopAddress?`${ct?"  ":""}${g.user.shopAddress}`:""))),ie==="reviews"&&e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-100"},e.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"text-4xl font-bold text-gray-900"},Br),e.createElement("div",{className:"flex items-center justify-center mt-1"},[1,2,3,4,5].map(de=>e.createElement(cr,{key:de,size:20,className:`${de<=Math.floor(Br)?"text-amber-400 fill-current":"text-gray-300"}`}))),e.createElement("div",{className:"text-sm text-gray-600 mt-1"},ta," avis  ",nr," commentaires")),e.createElement("div",{className:"flex-1 w-full max-w-md"},e.createElement("h4",{className:"font-semibold text-gray-900 mb-3"},ge>0?"Votre note":"Notez ce produit"),e.createElement("div",{className:"flex flex-wrap items-center gap-1"},[1,2,3,4,5].map(de=>e.createElement("button",{key:de,type:"button",onClick:()=>{Ce||Sa(de)},disabled:je||Ce,className:"focus:outline-none disabled:opacity-50",title:Ce?"Vous ne pouvez pas noter votre propre produit.":void 0},e.createElement(cr,{size:24,className:`${de<=ge?"text-amber-400 fill-current":"text-gray-300"} ${Ce?"cursor-not-allowed":"hover:text-amber-400"} transition-colors`}))),je&&e.createElement("span",{className:"text-sm text-gray-500 ml-2"},"Envoi...")),ge>0&&e.createElement("p",{className:"text-sm text-green-600 mt-2"}," Vous avez not ",ge,"/5")))),e.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-6 border border-blue-100"},e.createElement("h4",{className:"font-semibold text-gray-900 mb-4"},"Commentaires (",B.length,")"),He&&e.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},e.createElement("p",{className:"text-red-700 text-sm"},He)),l&&e.createElement("form",{onSubmit:ar,className:"mb-6"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},e.createElement("input",{type:"text",value:z,onChange:de=>G(de.target.value),placeholder:"Laissez un commentaire...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:Pe}),e.createElement("button",{type:"submit",disabled:!z.trim()||Pe,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto"},Pe?"Envoi...":"Commenter"))),e.createElement("div",{className:"space-y-4"},B.length===0?e.createElement("div",{className:"text-center py-8 text-gray-500"},e.createElement(br,{size:48,className:"mx-auto mb-3 text-gray-300"}),e.createElement("p",null,"Aucun commentaire pour le moment."),!l&&e.createElement("p",{className:"text-sm mt-2"},e.createElement("button",{onClick:()=>r("/login"),className:"text-indigo-600 hover:text-indigo-700"},"Connectez-vous")," ","pour laisser le premier commentaire.")):B.map(de=>e.createElement(J0,{key:de._id,comment:de,user:l,replyingTo:J,setReplyingTo:We,replyText:Re,setReplyText:De,onSubmitReply:Fr,submittingComment:Pe}))))),ie==="shipping"&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center p-4 bg-blue-50 rounded-2xl text-center sm:text-left"},e.createElement(Nr,{className:"w-6 h-6 text-blue-600"}),e.createElement("div",null,e.createElement("h4",{className:"font-semibold text-gray-900"},"Options de livraison"),e.createElement("p",{className:"text-sm text-gray-600"},"Contactez le vendeur pour les dtails de livraison"))),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center p-4 bg-green-50 rounded-2xl text-center sm:text-left"},e.createElement(fr,{className:"w-6 h-6 text-green-600"}),e.createElement("div",null,e.createElement("h4",{className:"font-semibold text-gray-900"},"Retour et change"),e.createElement("p",{className:"text-sm text-gray-600"},"Politique de retour  discuter avec le vendeur")))))),g?.pdf&&e.createElement("section",{className:"mt-6 rounded-2xl border border-gray-200 bg-white p-4 sm:p-6"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Fiche produit (JPEG)")),e.createElement("div",{className:"mt-4 relative overflow-hidden rounded-xl border border-gray-100 bg-gray-50"},e.createElement("img",{src:g.pdf,alt:`Fiche produit ${g.title||""}`,className:"w-full h-auto object-contain bg-white",loading:"lazy"}))),zt&&Fe&&e.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Photos de la boutique"),e.createElement("span",{className:"text-xs text-gray-500"},"Slection alatoire")),Wa.length>0?e.createElement("div",{className:"grid grid-cols-3 gap-2"},Wa.map(de=>e.createElement(ce,{key:`${de.product?._id||"shop"}-${de.src}`,to:Ft(de.product),...dr,className:"aspect-square overflow-hidden rounded-xl border border-gray-100"},e.createElement("img",{src:de.src,alt:de.product?.title||"Photo boutique",className:"w-full h-full object-cover"})))):e.createElement("div",{className:"grid grid-cols-3 gap-2"},Array.from({length:3}).map((de,pe)=>e.createElement("div",{key:`shop-photo-skeleton-${pe}`,className:"aspect-square rounded-xl border border-gray-100 bg-gray-100 animate-pulse"})))),zt&&O.length>0&&e.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Produits similaires"),e.createElement(ce,{to:`/products?category=${g.category}`,className:"text-xs font-semibold text-indigo-600"},"Voir tout")),e.createElement("div",{className:"grid grid-cols-2 gap-3"},O.map(de=>e.createElement(ce,{key:de._id,to:Ft(de),...dr,className:"overflow-hidden rounded-xl border border-gray-100 bg-gray-50 transition hover:shadow-sm"},e.createElement("div",{className:"aspect-square bg-gray-100"},e.createElement("img",{src:de.images?.[0]||"https://via.placeholder.com/300x300",alt:de.title,className:"w-full h-full object-cover"})),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-xs font-semibold text-gray-900 line-clamp-2"},de.title),e.createElement("p",{className:"text-sm font-bold text-indigo-600 mt-1"},Number(de.price).toLocaleString()," FCFA")))))),zt&&e.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),e.createElement("button",{type:"button",onClick:()=>jr(!0),className:"text-xs font-semibold text-indigo-600"},"Voir tout")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(cr,{className:"h-4 w-4 text-amber-400"}),e.createElement("span",{className:"font-semibold text-gray-900"},Br),e.createElement("span",null,"(",ta,")")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-4 w-4"}),e.createElement("span",null,nr," commentaires"))),B.length>0?e.createElement("div",{className:"mt-4 space-y-3"},B.slice(0,2).map(de=>e.createElement("div",{key:de._id,className:"rounded-xl border border-gray-100 bg-gray-50 p-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",{className:"font-semibold text-gray-800"},de.user?.name||"Utilisateur"),e.createElement("span",null,new Date(de.createdAt).toLocaleDateString("fr-FR"))),e.createElement("p",{className:"mt-2 text-sm text-gray-700 line-clamp-3"},de.message)))):e.createElement("p",{className:"mt-4 text-xs text-gray-500"},"Aucun avis pour le moment.")),!zt&&O.length>0&&e.createElement(g5,{relatedProducts:O,product:g})),zt&&jt&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 px-4 py-6 sm:items-center",onClick:()=>jr(!1)},e.createElement("div",{className:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl max-h-[85vh] overflow-y-auto",onClick:de=>de.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),e.createElement("button",{type:"button",onClick:()=>jr(!1),className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200","aria-label":"Fermer"},e.createElement(Dn,{className:"h-4 w-4"}))),e.createElement("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-600"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(cr,{className:"h-4 w-4 text-amber-400"}),e.createElement("span",{className:"font-semibold text-gray-900"},Br),e.createElement("span",null,"(",ta,")")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-4 w-4"}),e.createElement("span",null,nr," commentaires"))),e.createElement("div",{className:"mt-4 space-y-4"},B.length===0?e.createElement("p",{className:"text-xs text-gray-500"},"Aucun avis pour le moment."):B.map(de=>e.createElement(J0,{key:de._id,comment:de,user:l,replyingTo:J,setReplyingTo:We,replyText:Re,setReplyText:De,onSubmitReply:Fr,submittingComment:Pe}))))),Je&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-6",onClick:ln},e.createElement("div",{className:"relative w-full max-w-3xl",onClick:de=>de.stopPropagation()},e.createElement("div",{className:"max-h-[80vh] overflow-auto rounded-2xl bg-black",onWheel:na},e.createElement("img",{src:Ga,alt:g?.title||"Produit",className:"block max-w-none object-contain",style:{width:`${nt*100}%`,height:"auto"}})),e.createElement("button",{type:"button",onClick:ln,className:"absolute right-3 top-3 rounded-full bg-white/90 p-2 text-gray-700 shadow"},e.createElement(Dn,{size:18})),Et.length>1&&e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:ka,className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-gray-700 shadow"},e.createElement(u1,{size:20})),e.createElement("button",{type:"button",onClick:ma,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full bg-white/90 p-2 text-gray-700 shadow"},e.createElement(va,{size:20})),e.createElement("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs text-white/80"},e.createElement("span",null,L+1),e.createElement("span",null,"/"),e.createElement("span",null,Et.length))))))}function J0({comment:t,user:r,replyingTo:a,setReplyingTo:l,replyText:o,setReplyText:c,onSubmitReply:d,submittingComment:f}){return e.createElement("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden"},e.createElement("div",{className:"p-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center"},e.createElement("span",{className:"text-white text-sm font-semibold"},t.user?.name?.charAt(0)||"U")),e.createElement("div",null,e.createElement("span",{className:"font-semibold text-gray-900"},t.user?.name||"Utilisateur"),e.createElement("div",{className:"text-xs text-gray-500"},new Date(t.createdAt).toLocaleDateString("fr-FR")))),r&&e.createElement("button",{onClick:()=>l(a===t._id?null:t._id),className:"inline-flex items-center gap-1 text-sm text-indigo-600 hover:text-indigo-700 transition-colors"},e.createElement(m2,{size:14}),e.createElement("span",null,"Rpondre"))),e.createElement("p",{className:"text-gray-700"},t.message),a===t._id&&e.createElement("div",{className:"mt-3 pl-4 border-l-2 border-indigo-200"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(v0,{size:14,className:"text-indigo-500"}),e.createElement("span",{className:"text-sm text-gray-600"},"Rponse  ",t.user?.name)),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},e.createElement("input",{type:"text",value:o,onChange:p=>c(p.target.value),placeholder:`Rpondre  ${t.user?.name}...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:f}),e.createElement("button",{onClick:()=>d(t),disabled:!o.trim()||f,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm w-full sm:w-auto"},f?"...":"Envoyer"),e.createElement("button",{onClick:()=>{l(null),c("")},className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 text-sm w-full sm:w-auto"},"Annuler")))),t.replies&&t.replies.length>0&&e.createElement("div",{className:"bg-gray-50 border-t border-gray-200"},t.replies.map(p=>e.createElement("div",{key:p._id,className:"p-4 border-b border-gray-100 last:border-b-0"},e.createElement("div",{className:"flex items-center space-x-2 mb-2"},e.createElement(v0,{size:14,className:"text-gray-400"}),e.createElement("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center"},e.createElement("span",{className:"text-white text-xs font-semibold"},p.user?.name?.charAt(0)||"U")),e.createElement("div",null,e.createElement("span",{className:"font-medium text-gray-900 text-sm"},p.user?.name||"Utilisateur"),e.createElement("div",{className:"text-xs text-gray-500"},new Date(p.createdAt).toLocaleDateString("fr-FR")))),e.createElement("p",{className:"text-gray-700 text-sm ml-8"},p.message)))))}function g5({relatedProducts:t,product:r}){const a=sn();return e.createElement("section",{className:"mt-16"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6"},e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Produits similaires"),e.createElement(ce,{to:`/products?category=${r.category}`,className:"text-indigo-600 hover:text-indigo-700 font-semibold"},"Voir tout")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},t.map(l=>e.createElement(ce,{key:l._id,to:Ft(l),...a,className:"block bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all hover:-translate-y-1"},e.createElement("div",{className:"aspect-square bg-gray-100"},e.createElement("img",{src:l.images?.[0]||"https://via.placeholder.com/300x300",alt:l.title,className:"w-full h-full object-cover"})),e.createElement("div",{className:"p-3"},e.createElement("h3",{className:"font-semibold text-sm text-gray-900 line-clamp-2 mb-2"},l.title),e.createElement("p",{className:"text-lg font-bold text-indigo-600"},Number(l.price).toLocaleString()," FCFA"))))))}const h5=(t=[])=>{if(!t.length)return null;const r=Math.floor(Math.random()*t.length);return t[r]||null},x5=(t=[])=>{const r=Array.isArray(t)?t.filter(Boolean):[];return h5(r)||null},Ou=t=>t?.slug||t?._id||"",Z0=(t=[],r=new Set)=>{const a=[];return t.forEach(l=>{const o=Ou(l);!o||r.has(o)||(r.add(o),a.push(l))}),a},dy=(t=[])=>{const r=[...t];for(let a=r.length-1;a>0;a-=1){const l=Math.floor(Math.random()*(a+1));[r[a],r[l]]=[r[l],r[a]]}return r},eh=(t=[],r=6)=>{const a=t.map(l=>{const o=x5(l?.images);return o?{image:o,product:l}:null}).filter(Boolean);return dy(a).slice(0,r)},y5=(t,r=6)=>{const a=Array.isArray(t?.images)?t.images.filter(Boolean):[];return dy(a).slice(0,r).map(l=>({image:l,product:t}))},th=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,rh=t=>Number(t||0).toLocaleString("fr-FR");function b5(){const{slug:t}=bs(),r=ea(),a=Yl(),[l,o]=u.useState(null),[c,d]=u.useState([]),[f,p]=u.useState(!0),[g,y]=u.useState("");u.useEffect(()=>{if(a)return;const v=t?Ft({slug:t}):"/";r(v,{replace:!0})},[a,r,t]),u.useEffect(()=>{let v=!0;return t?(async()=>{try{p(!0),y(""),d([]);const E=new Set,{data:C}=await ee.get(`/products/public/${t}`);if(!v)return;o(C);const w=Ou(C);w&&E.add(w);let k=[];if(C?.category)try{const{data:L}=await ee.get("/products/public",{params:{category:C.category,limit:12}}),T=(Array.isArray(L?.items)?L.items:[]).filter(R=>!(!R||C?._id&&R._id&&R._id===C._id||C?.slug&&R.slug&&R.slug===C.slug)),M=T.filter(R=>Array.isArray(R.images)&&R.images.length>0),D=Z0(M.length?M:T,E);k=eh(D,6)}catch{}k.length||(k=y5(C,6)),k.forEach(L=>{const _=Ou(L?.product);_&&E.add(_)});try{const{data:L}=await ee.get("/products/public",{params:{boosted:!0,limit:8}}),T=(Array.isArray(L?.items)?L.items:[]).filter(O=>Array.isArray(O?.images)&&O.images.length>0),M=Z0(T,E),D=M.length?M:T,R=eh(D,3);R.length&&(k=[...k,...R])}catch{}v&&d(k)}catch(E){if(!v)return;o(null),d([]),y(E.response?.data?.message||"Produit indisponible.")}finally{v&&p(!1)}})():(p(!1),y("Produit indisponible.")),()=>{v=!1}},[t]),u.useEffect(()=>{l?._id&&Kc(l)},[l?._id,l?.category]);const x=u.useMemo(()=>l?.slug?Ft(l):t?Ft({slug:t}):"/",[l,t]),S=v=>Ft(v);return e.createElement("div",{className:"min-h-screen bg-slate-50"},e.createElement("div",{className:"mx-auto w-full max-w-2xl px-4 pb-10 pt-4 space-y-4"},e.createElement("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-gray-600 hover:text-gray-900"},e.createElement(an,{className:"h-4 w-4"}),"Retour"),f?e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"h-24 w-24 rounded-xl bg-gray-200"}),e.createElement("div",{className:"flex-1 space-y-3"},e.createElement("div",{className:"h-4 w-3/4 rounded bg-gray-200"}),e.createElement("div",{className:"h-4 w-1/2 rounded bg-gray-200"}),e.createElement("div",{className:"h-8 w-32 rounded bg-gray-200"})))),e.createElement("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"h-4 w-32 rounded bg-gray-200 mb-3"}),e.createElement("div",{className:"aspect-square rounded-xl bg-gray-200"}))):g?e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-600"},g):l?e.createElement("div",{className:"space-y-4"},e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"h-24 w-24 overflow-hidden rounded-xl bg-gray-100"},e.createElement("img",{src:l.images?.[0]||"https://via.placeholder.com/120x120",alt:l.title,className:"h-full w-full object-cover"})),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("h1",{className:"text-base font-semibold text-gray-900 line-clamp-2"},l.title),e.createElement("p",{className:"text-sm font-bold text-indigo-600"},th(l.price)),l?.user?.shopName&&e.createElement("p",{className:"text-xs text-gray-500"},l.user.shopName),e.createElement(ce,{to:x,className:"inline-flex items-center justify-center rounded-lg bg-indigo-600 px-3 py-2 text-xs font-semibold text-white"},"Voir le produit")))),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Ws,{className:"h-4 w-4 text-amber-500"}),e.createElement("h2",{className:"text-sm font-semibold text-gray-900"},"Inspiration"))),c.length?e.createElement("div",{className:"grid grid-cols-2 gap-3"},c.map((v,N)=>{const E=Number(v.product?.ratingAverage||0).toFixed(1),C=rh(v.product?.ratingCount||0),w=rh(v.product?.commentCount||0);return e.createElement(ce,{key:`${v.product?._id||"product"}-${v.image}-${N}`,to:S(v.product),className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm"},e.createElement("div",{className:"aspect-[4/5] w-full bg-gray-100"},e.createElement("img",{src:v.image,alt:v.product?.title||"Image lie",className:"h-full w-full object-cover"})),e.createElement("div",{className:"space-y-1 px-2 pb-3 pt-2"},e.createElement("p",{className:"text-xs font-semibold text-gray-900 line-clamp-2"},v.product?.title),e.createElement("p",{className:"text-sm font-bold text-orange-600"},th(v.product?.price)),e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-gray-500"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(cr,{className:"h-3 w-3 text-amber-400"}),E," (",C,")"),e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3"}),w))))})):e.createElement("div",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50 p-6 text-center text-xs text-gray-500"},"Aucune image lie pour le moment."))):null))}function v5(){const{slug:t}=bs(),r=ea(),{user:a}=u.useContext(Bt),{showToast:l}=Yo(),[o,c]=u.useState(!0),[d,f]=u.useState(!1),[p,g]=u.useState(null),[y,x]=u.useState({title:"",description:"",category:"",discount:0,condition:"used",images:[]}),[S,v]=u.useState(""),N=u.useMemo(()=>{if(!p)return{current:"",before:""};const w=Number(p.price).toLocaleString(),k=p.priceBeforeDiscount?Number(p.priceBeforeDiscount).toLocaleString():p.discount>0?Number((p.price/(1-p.discount/100)).toFixed(0)).toLocaleString():"";return{current:w,before:k}},[p]);u.useEffect(()=>{let w=!0;return(async()=>{try{c(!0);const{data:L}=await ee.get(`/products/${t}`);if(!w)return;const _=L.user?._id||L.user;if(a?.role!=="admin"&&_&&String(_)!==a?.id){v("Vous n'tes pas autoris  modifier cette annonce.");return}g(L);const T=op(L.category);x({title:L.title||"",description:L.description||"",category:T?.value||L.category||"",discount:L.discount??0,condition:L.condition||"used",images:L.images||[]}),v("")}catch(L){if(!w)return;const _=L.response?.status===403?"Accs refus. Cette annonce ne vous appartient pas.":L.response?.status===404?"Annonce introuvable.":L.response?.data?.message||L.message||"Erreur lors du chargement.";v(_)}finally{w&&c(!1)}})(),()=>{w=!1}},[id]);const E=(w,k)=>{x(L=>({...L,[w]:k}))},C=async w=>{w.preventDefault(),f(!0);try{const k={title:y.title,description:y.description,category:y.category,discount:y.discount,condition:y.condition};await ee.put(`/products/${t}`,k),l("Annonce mise  jour avec succs !",{variant:"success"}),r("/my")}catch(k){const L=k.response?.data?.message||k.message||"Erreur lors de la mise  jour.";l(L,{variant:"error"})}finally{f(!1)}};return o?e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse"},e.createElement(k0,{className:"w-8 h-8 text-white"})),e.createElement("p",{className:"text-gray-500"},"Chargement de l'annonce"))):S?e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"max-w-md mx-auto text-center"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(zn,{className:"w-8 h-8 text-white"})),e.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},"Erreur"),e.createElement("p",{className:"text-gray-600 mb-6"},S),e.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors"},e.createElement(an,{className:"w-4 h-4"}),"Retour"))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-2xl mx-auto px-4 py-6"},e.createElement("div",{className:"flex items-center justify-between mb-8"},e.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors"},e.createElement(an,{className:"w-5 h-5"}),e.createElement("span",{className:"font-medium"},"Retour"))),e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(k0,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Modifier l'annonce"),e.createElement("p",{className:"text-gray-500"},"Mettez  jour les informations de votre produit")),e.createElement("form",{onSubmit:C,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Titre de l'annonce *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:y.title,onChange:w=>E("title",w.target.value),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Description dtaille *")),e.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:y.description,onChange:w=>E("description",w.target.value),required:!0})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ys,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Catgorie *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:y.category,onChange:w=>E("category",w.target.value),required:!0},e.createElement("option",{value:""},"Slectionnez une catgorie"),xs.map((w,k)=>e.createElement("optgroup",{key:k,label:w.label},w.options.map(L=>e.createElement("option",{key:L.value,value:L.value},L.label)))))),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),e.createElement("div",{className:"flex space-x-4"},e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"new",checked:y.condition==="new",onChange:w=>E("condition",w.target.value),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${y.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},y.condition==="new"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"used",checked:y.condition==="used",onChange:w=>E("condition",w.target.value),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${y.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},y.condition==="used"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-green-500 to-emerald-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Prix et Promotion")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(np,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",{className:"text-sm font-medium text-indigo-900"},"Prix actuel")),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-2xl font-bold text-indigo-600"},N.current," FCFA"),N.before&&e.createElement("p",{className:"text-sm text-gray-500 line-through"},N.before," FCFA")),e.createElement("p",{className:"text-xs text-indigo-700"},"Le prix de vente ne peut pas tre modifi aprs cration"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ys,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Remise promotionnelle (%)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",min:"0",max:"99",step:"1",value:y.discount,onChange:w=>E("discount",Number(w.target.value))}),e.createElement("p",{className:"text-xs text-gray-500"},"Appliquez une remise pour mettre en avant votre annonce"),y.discount>0&&e.createElement("div",{className:"text-xs text-green-600 font-medium"},"Nouveau prix: ",Math.round(p.price*(1-y.discount/100)).toLocaleString()," FCFA")))),y.images?.length>0&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Images du produit")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement($x,{className:"w-4 h-4 text-blue-500"}),e.createElement("span",null,"Images actuelles (",y.images.length,")")),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},y.images.map((w,k)=>e.createElement("div",{key:k,className:"relative group"},e.createElement("img",{src:w,alt:`${y.title} ${k+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center"},e.createElement("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity"},"Vue ",k+1))))),e.createElement("p",{className:"text-xs text-gray-500"},"Les images ne peuvent pas tre modifies aprs cration"))),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-100"},e.createElement("button",{type:"button",onClick:()=>r("/my"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors"},"Annuler"),e.createElement("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2"},d?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Enregistrement...")):e.createElement(e.Fragment,null,e.createElement(Gc,{className:"w-5 h-5"}),e.createElement("span",null,"Enregistrer les modifications")))))))}const eu=({className:t})=>e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t},e.createElement("path",{d:"M4 7h16"}),e.createElement("path",{d:"M10 11v6"}),e.createElement("path",{d:"M14 11v6"}),e.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"}),e.createElement("path",{d:"M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})),E5=({className:t})=>e.createElement("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),ah=({className:t})=>e.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),Fs=t=>Number(t||0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});function N5(){const{cart:t,loading:r,error:a,updateItem:l,removeItem:o,clearCart:c}=u.useContext(Gl),[d,f]=u.useState({}),[p,g]=u.useState(!1),[y,x]=u.useState({}),S=sn(),v=t.items||[],N=t.totals||{quantity:0,subtotal:0},E=async(T,M)=>{const D=Math.max(0,Number.isNaN(Number(M))?0:Number(M));f(R=>({...R,[T]:!0}));try{await l(T,D)}catch(R){console.error(R)}finally{f(R=>({...R,[T]:!1}))}},C=async T=>{f(M=>({...M,[T]:!0}));try{await o(T)}catch(M){console.error(M)}finally{f(M=>({...M,[T]:!1}))}},w=async()=>{f({all:!0});try{await c(),g(!1)}catch(T){console.error(T)}finally{f({})}},k=r||d.all,L=v.reduce((T,M)=>{const D=M.product.discount||0,R=M.product.priceBeforeDiscount||M.product.price,O=D>0?(R-M.product.price)*M.quantity:0;return T+O},0);u.useEffect(()=>{const T={};v.forEach(({product:M})=>{T[M._id]=M.whatsappClicks??0}),x(T)},[v]);const _=async(T,M)=>{if(!M)return;const D=T._id;try{await ee.post(`/products/public/${D}/whatsapp-click`),x(R=>({...R,[D]:(R?.[D]??T.whatsappClicks??0)+1}))}catch(R){console.error("Failed to record WhatsApp click:",R)}finally{typeof window<"u"&&window.open(M,"_blank","noopener,noreferrer")}};return e.createElement("main",{className:"max-w-7xl mx-auto p-6 space-y-8"},e.createElement("header",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Mon Panier"),e.createElement("p",{className:"text-gray-600"},v.length>0?`${v.length} article${v.length>1?"s":""} dans votre panier`:"Votre panier est vide")),v.length>0&&e.createElement("div",{className:"flex items-center gap-3"},e.createElement("button",{onClick:()=>g(!0),disabled:k,className:"inline-flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded-xl hover:bg-red-100 transition-colors disabled:opacity-50"},e.createElement(eu,{className:"w-4 h-4"}),"Vider le panier"))),p&&e.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},e.createElement("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full space-y-4"},e.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center mx-auto"},e.createElement(eu,{className:"w-6 h-6 text-red-600"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 text-center"},"Vider le panier"),e.createElement("p",{className:"text-gray-600 text-center text-sm"},"tes-vous sr de vouloir supprimer tous les articles de votre panier ? Cette action est irrversible."),e.createElement("div",{className:"flex gap-3 pt-2"},e.createElement("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors"},"Annuler"),e.createElement("button",{onClick:w,disabled:d.all,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50"},d.all?"Suppression...":"Vider le panier")))),a&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4"},e.createElement("p",{className:"text-red-700 text-sm"},a)),r&&v.length===0?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600"},e.createElement("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Chargement du panier..."))):v.length===0?e.createElement("div",{className:"text-center py-16"},e.createElement("div",{className:"w-24 h-24 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6"},e.createElement(ah,{className:"w-10 h-10 text-gray-400"})),e.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Panier vide"),e.createElement("p",{className:"text-gray-600 mb-6 max-w-sm mx-auto"},"Votre panier est vide. Dcouvrez nos produits et ajoutez vos articles prfrs."),e.createElement(ce,{to:"/products",className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors font-medium"},e.createElement(ah,{className:"w-5 h-5"}),"Dcouvrir les produits")):e.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_400px] gap-8"},e.createElement("div",{className:"space-y-4"},v.map(({product:T,quantity:M,lineTotal:D})=>{const R=T.user?.phone||T?.contactPhone,O=lp(T,R),I=T.discount||0,j=T.priceBeforeDiscount||T.price,Y=y[T._id]??T.whatsappClicks??0;return e.createElement("div",{key:T._id,className:"group bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200"},e.createElement("div",{className:"flex flex-col md:flex-row gap-6"},e.createElement("div",{className:"w-full md:w-32 lg:w-40"},e.createElement("div",{className:"relative overflow-hidden rounded-xl aspect-[4/3] bg-gray-100 group-hover:shadow-md transition-shadow"},e.createElement("img",{src:T.images?.[0]||"https://via.placeholder.com/300",alt:T.title,className:"absolute inset-0 h-full w-full object-cover",loading:"lazy"}),I>0&&e.createElement("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"},"-",I,"%"))),e.createElement("div",{className:"flex-1 space-y-4"},e.createElement("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-3"},e.createElement("div",{className:"space-y-2 flex-1"},e.createElement(ce,{to:Ft(T),...S,className:"text-xl font-semibold text-gray-900 hover:text-indigo-600 transition-colors line-clamp-2"},T.title),e.createElement("p",{className:"text-sm text-gray-500"},"Catgorie : ",T.category),e.createElement("div",{className:"flex items-center gap-3 flex-wrap"},e.createElement("span",{className:"text-2xl font-bold text-indigo-600"},Fs(T.price)," FCFA"),I>0&&e.createElement(e.Fragment,null,e.createElement("span",{className:"text-lg text-gray-500 line-through"},Fs(j)," FCFA"),e.createElement("span",{className:"text-sm bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium"},"conomie : ",Fs((j-T.price)*M)," FCFA")))),e.createElement("div",{className:"flex flex-col items-end gap-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",className:"w-10 h-10 border border-gray-300 rounded-xl flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50 transition-colors",onClick:()=>E(T._id,M-1),disabled:k||d[T._id]||M<=1},e.createElement("span",{className:"text-lg font-medium"},"")),e.createElement("div",{className:"w-16 text-center"},e.createElement("input",{type:"number",min:"1",className:"w-full border border-gray-300 rounded-xl text-center h-10 font-semibold text-gray-900",value:M,onChange:te=>E(T._id,te.target.value),disabled:k||d[T._id]})),e.createElement("button",{type:"button",className:"w-10 h-10 border border-gray-300 rounded-xl flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50 transition-colors",onClick:()=>E(T._id,M+1),disabled:k||d[T._id]},e.createElement("span",{className:"text-lg font-medium"},"+"))),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"text-sm text-gray-600"},"Sous-total :"),e.createElement("div",{className:"text-xl font-bold text-gray-900"},Fs(D)," FCFA")))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 pt-4 border-t border-gray-100"},O&&e.createElement("button",{type:"button",onClick:()=>_(T,O),className:"inline-flex items-center gap-3 bg-green-50 text-green-700 px-4 py-2 rounded-xl hover:bg-green-100 transition-colors font-medium text-sm text-left"},e.createElement(E5,{className:"w-5 h-5"}),e.createElement("div",{className:"flex flex-col items-start leading-tight text-left"},e.createElement("span",{className:"text-sm font-semibold"},"Commander directement"),e.createElement("span",{className:"text-xs text-green-600 line-clamp-1"},T.title),R&&e.createElement("span",{className:"text-xs text-green-500"},R),e.createElement("span",{className:"text-[11px] text-green-500"},Y," clic",Y>1?"s":""))),e.createElement("button",{type:"button",onClick:()=>C(T._id),disabled:k||d[T._id],className:"inline-flex items-center gap-2 text-red-600 bg-red-50 px-4 py-2 rounded-xl hover:bg-red-100 transition-colors disabled:opacity-50 font-medium text-sm"},e.createElement(eu,{className:"w-4 h-4"}),"Supprimer")))))})),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sticky top-6"},e.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-6"},"Rsum de la commande"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex justify-between items-center text-sm"},e.createElement("span",{className:"text-gray-600"},"Articles (",N.quantity,")"),e.createElement("span",{className:"font-medium text-gray-900"},Fs(N.subtotal)," FCFA")),L>0&&e.createElement("div",{className:"flex justify-between items-center text-sm"},e.createElement("span",{className:"text-green-600"},"conomies"),e.createElement("span",{className:"font-medium text-green-600"},"-",Fs(L)," FCFA")),e.createElement("div",{className:"flex justify-between items-center text-sm"},e.createElement("span",{className:"text-gray-600"},"Livraison estime"),e.createElement("span",{className:"font-medium text-gray-900"},"Gratuite")),e.createElement("div",{className:"border-t border-gray-200 pt-4"},e.createElement("div",{className:"flex justify-between items-center text-lg font-bold"},e.createElement("span",null,"Total"),e.createElement("span",{className:"text-2xl text-indigo-600"},Fs(N.subtotal)," FCFA"))),e.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4"},e.createElement("p",{className:"text-xs text-blue-700 text-center"}," Les paiements sont scuriss et grs aprs validation des annonces. Contactez directement les vendeurs pour finaliser vos achats.")),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement(ce,{to:"/orders/checkout",className:"block w-full bg-indigo-600 text-white text-center py-3.5 rounded-xl hover:bg-indigo-700 transition-colors font-semibold"},"Continuer mes achats")))),e.createElement("div",{className:"bg-gray-50 rounded-2xl p-6 text-center"},e.createElement("h3",{className:"font-semibold text-gray-900 mb-3"},"Paiement scuris"),e.createElement("div",{className:"flex justify-center items-center gap-4 text-gray-400"},e.createElement("div",{className:"text-xs"}," Paiement scuris"),e.createElement("div",{className:"text-xs"}," Livraison garantie"),e.createElement("div",{className:"text-xs"}," Support 24/7"))))))}const w5={name:"",email:"",phone:"",password:"",confirmPassword:"",accountType:"person",shopName:"",shopAddress:"",shopDescription:"",address:"",country:"Rpublique du Congo",city:"",gender:""},S5=(t={})=>({pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t}}),k5=()=>({pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0}}),tu=()=>({listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0},performance:{views:0,clicks:0,conversion:0},orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:S5()},sales:{totalCount:0,totalAmount:0,byStatus:k5()}}}),nh={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine"},C5={pending:"border-gray-200 bg-gray-50 text-gray-700",confirmed:"border-yellow-200 bg-yellow-50 text-yellow-800",delivering:"border-blue-200 bg-blue-50 text-blue-800",delivered:"border-green-200 bg-green-50 text-green-800"},sh=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation.",icon:yr},{id:"confirmed",label:"Commande confirme",description:"Votre commande a t valide et sera prpare pour la livraison.",icon:vr},{id:"delivering",label:"En cours de livraison",description:"Le livreur est en route avec votre colis.",icon:Nr},{id:"delivered",label:"Commande termine",description:"La commande est livre et archive par nos quipes.",icon:xr}],A5=({status:t})=>{const r=sh.findIndex(l=>l.id===t),a=r>=0?r:0;return e.createElement("div",{className:"mt-4 border border-gray-100 rounded-2xl p-3 bg-gray-50"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-3"},"Suivi de lavancement"),e.createElement("div",{className:"space-y-4"},sh.map((l,o)=>{const c=l.icon,d=a>=o,f=a===o;return e.createElement("div",{key:l.id,className:"flex items-start gap-3"},e.createElement("div",{className:`mt-0.5 w-9 h-9 rounded-full border-2 flex items-center justify-center ${d?"border-indigo-600 text-indigo-600 bg-white":"border-gray-200 text-gray-400 bg-white"}`},e.createElement(c,{size:16})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm font-semibold ${d?"text-gray-900":"text-gray-500"}`},l.label,f&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700"},l.id==="pending"?"En attente":l.id==="delivered"?"Termine":"En cours"),!f&&d&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-green-100 text-green-700"},"Termine")),e.createElement("p",{className:"text-xs text-gray-500"},l.description)))})))},_5=new Intl.NumberFormat("fr-FR"),Il=t=>{const r=Number(t);return!Number.isFinite(r)||r<0?"0":_5.format(r)},lh=t=>`${Il(t)} FCFA`,ec=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",zu=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}],xc=()=>zu.map(t=>({day:t.key,label:t.label,open:"",close:"",closed:!0})),P5=t=>{if(!Array.isArray(t)||!t.length)return xc();const r=new Map;return t.forEach(a=>{if(!a||typeof a!="object")return;const l=typeof a.day=="string"?a.day:"",o=zu.find(d=>d.key===l);if(!o)return;const c=typeof a.closed=="boolean"?a.closed:a.closed==="true"||a.closed==="1"||a.closed===1;r.set(l,{day:l,label:o.label,open:typeof a.open=="string"?a.open:"",close:typeof a.close=="string"?a.close:"",closed:c})}),zu.map(a=>{const l=r.get(a.key);return l?{...l,label:a.label}:{day:a.key,label:a.label,open:"",close:"",closed:!0}})};function T5(){const{user:t,updateUser:r}=u.useContext(Bt),{showToast:a}=Yo(),l=ea(),[o,c]=u.useState(w5),[d,f]=u.useState(!1),[p,g]=u.useState(""),[y,x]=u.useState(""),[S,v]=u.useState(null),[N,E]=u.useState(""),[C,w]=u.useState(null),[k,L]=u.useState(""),[_,T]=u.useState(null),[M,D]=u.useState(""),[R,O]=u.useState(!1),[I,j]=u.useState(""),[Y,te]=u.useState(""),[me,Q]=u.useState(null),[ue,ie]=u.useState(""),[H,B]=u.useState(!1),[X,z]=u.useState(""),[G,V]=u.useState(""),[fe,ge]=u.useState(null),[we,Pe]=u.useState(""),[Le,je]=u.useState(!1),[Ye,He]=u.useState(""),[tt,J]=u.useState(""),[We,Re]=u.useState(null),[De,ve]=u.useState(""),[Ne,_e]=u.useState(null),[rt,ut]=u.useState(""),[Ke,yt]=u.useState(""),[It,Vt]=u.useState(""),[he,Je]=u.useState(""),[qe,nt]=u.useState(!1),[bt,jt]=u.useState(""),[jr,zt]=u.useState(""),[dr,U]=u.useState(()=>xc()),[le,Te]=u.useState(()=>tu()),[Tt,kt]=u.useState(!1),[Jt,ae]=u.useState(""),[Fe,F]=u.useState(!1),[ke,lt]=u.useState(""),[Lt,ct]=u.useState(!1),[Dt,Ce]=u.useState(!1),[Ot,ot]=u.useState(""),[vt,Gt]=u.useState(""),[Rt,ar]=u.useState("profile"),[Fr,Sa]=u.useState([]),[Kt,mr]=u.useState(!1),[_r,ur]=u.useState(""),[$r,Pr]=u.useState(!1),[Yt,Br]=u.useState(""),[ta,nr]=u.useState(""),[ra,aa]=u.useState([]),[Vr,Mt]=u.useState(!1),[Ia,Et]=u.useState(""),[Wa,qr]=u.useState(""),[ja,Ga]=u.useState([]),[da,Zt]=u.useState(!1),[ln,wr]=u.useState(""),[on,wn]=u.useState(""),[ka,ma]=u.useState(""),[na,de]=u.useState(!1),[pe,$e]=u.useState(""),[ht,Ct]=u.useState(""),[Qt,Sr]=u.useState({total:0,remaining:5}),[ua,cn]=u.useState([]),[Vn,Nt]=u.useState(!1),[vs,dn]=u.useState(""),[sa,qn]=u.useState(null),mn=t?.accountType==="shop"?Ir(t):null,Es=[{label:"Annonces",value:le.listings?.total||0},{label:"Favoris reus",value:le.engagement?.favoritesReceived||0},{label:"Vues",value:le.performance?.views||0},{label:"WhatsApp",value:le.performance?.clicks||0}],A={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},be={pending:"bg-orange-100 text-orange-700",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-700"},Ie=u.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),Ze=u.useCallback($=>{if(!$)return"";const Z=$.replace(/\\/g,"/");return/^https?:\/\//i.test(Z)?Z:`${Ie}/${Z.replace(/^\/+/,"")}`},[Ie]),Ge=u.useCallback($=>{if(!$)return"";const Z=new Date($);return Number.isNaN(Z.getTime())?"":Z.toISOString().slice(0,10)},[]);u.useEffect(()=>()=>{N&&N.startsWith("blob:")&&URL.revokeObjectURL(N),k&&k.startsWith("blob:")&&URL.revokeObjectURL(k),we&&we.startsWith("blob:")&&URL.revokeObjectURL(we),M&&M.startsWith("blob:")&&URL.revokeObjectURL(M),ue&&ue.startsWith("blob:")&&URL.revokeObjectURL(ue),De&&De.startsWith("blob:")&&URL.revokeObjectURL(De),rt&&rt.startsWith("blob:")&&URL.revokeObjectURL(rt)},[N,k,we,M,ue,De,rt]),u.useEffect(()=>{if(!t){U(xc());return}c($=>({...$,name:t.name||"",email:t.email||"",phone:t.phone||"",accountType:t.accountType||"person",shopName:t.shopName||"",shopAddress:t.shopAddress||"",shopDescription:t.shopDescription||"",address:t.address||"",country:t.country||"Rpublique du Congo",city:t.city||"",gender:t.gender||""})),E(t.shopLogo||""),L(t.shopBanner||""),U(P5(t.shopHours))},[t]),u.useEffect(()=>{if(!t||t.role!=="admin"){Pe(""),ge(null),D(""),T(null),ie(""),Q(null),ve(""),Re(null),ut(""),_e(null),yt(""),Vt(""),Je("");return}let $=!0;const Z=async()=>{He("");try{const{data:ft}=await ee.get("/settings/hero-banner");if(!$)return;Pe(ft?.heroBanner||"")}catch(ft){if(!$)return;He(ft.response?.data?.message||"Impossible de charger la bannire du hero.")}},Ue=async()=>{j(""),z("");try{const{data:ft}=await ee.get("/settings/app-logo");if(!$)return;D(ft?.appLogoDesktop||""),ie(ft?.appLogoMobile||"")}catch(ft){if(!$)return;const Ka=ft.response?.data?.message||"Impossible de charger les logos de l'application.";j(Ka),z(Ka)}},et=async()=>{jt("");try{const{data:ft}=await ee.get("/settings/promo-banner");if(!$)return;ve(ft?.promoBanner||""),ut(ft?.promoBannerMobile||""),yt(ft?.promoBannerLink||""),Vt(Ge(ft?.promoBannerStartAt)),Je(Ge(ft?.promoBannerEndAt))}catch(ft){if(!$)return;jt(ft.response?.data?.message||"Impossible de charger la bannire publicitaire.")}};return Z(),Ue(),et(),()=>{$=!1}},[t]),u.useEffect(()=>{if(!t){Te(tu()),ae(""),kt(!1),Sa([]),Pr(!1),ur("");return}let $=!0;return(async()=>{kt(!0),ae("");try{const{data:Ue}=await ee.get("/users/profile/stats");if(!$)return;const et=tu(),ft=Ue?.orders?.purchases||{},Ka=Ue?.orders?.sales||{};Te({listings:{...et.listings,...Ue?.listings||{}},engagement:{...et.engagement,...Ue?.engagement||{}},performance:{...et.performance,...Ue?.performance||{}},orders:{purchases:{...et.orders.purchases,...ft,byStatus:{...et.orders.purchases.byStatus,...ft.byStatus||{}}},sales:{...et.orders.sales,...Ka,byStatus:{...et.orders.sales.byStatus,...Ka.byStatus||{}}}}})}catch(Ue){if(!$)return;ae(Ue.response?.data?.message||Ue.message||"Impossible de charger les statistiques.")}finally{$&&kt(!1)}})(),()=>{$=!1}},[t]);const st=u.useCallback(async()=>{if(t){mr(!0),ur("");try{const{data:$}=await ee.get("/orders?limit=50"),Z=Array.isArray($)?$:$?.items||[];Sa(Z),Pr(!0)}catch($){ur($.response?.data?.message||$.message||"Impossible de charger vos commandes.")}finally{mr(!1)}}},[t]);u.useEffect(()=>{Rt==="orders"&&t&&!$r&&!Kt&&st()},[Rt,t,$r,Kt,st]);const pt=u.useCallback(async()=>{if(!t){Ga([]),wr("");return}Zt(!0),wr("");try{const{data:$}=await ee.get("/users/complaints"),Z=Array.isArray($)?$.map(Ue=>({...Ue,attachments:(Array.isArray(Ue.attachments)?Ue.attachments:[]).map(et=>({...et,url:Ze(et.path||et.url||"")}))})):[];Ga(Z)}catch($){wr($.response?.data?.message||$.message||"Impossible de charger vos rclamations.")}finally{Zt(!1)}},[Ze,t]);u.useEffect(()=>{pt()},[pt]);const xt=u.useCallback(async()=>{if(!t){Sr({total:0,remaining:5}),cn([]),dn("");return}Nt(!0),dn("");try{const{data:$}=await ee.get("/users/feedback"),Z=Array.isArray($?.items)?$.items:[];cn(Z),Sr({total:Number($?.total||Z.length||0),remaining:Number.isFinite(Number($?.remaining))?Number($.remaining):Math.max(0,5-Number($?.total||Z.length||0))})}catch($){Sr({total:0,remaining:5}),cn([]),dn($.response?.data?.message||$.message||"Impossible de charger vos avis.")}finally{Nt(!1)}},[t]);u.useEffect(()=>{xt()},[xt]);const sr=$=>{const{name:Z,value:Ue}=$.target;if(Z==="accountType"){c(et=>({...et,accountType:Ue,shopName:Ue==="shop"?et.shopName:"",shopAddress:Ue==="shop"?et.shopAddress:"",shopDescription:Ue==="shop"?et.shopDescription:""})),Ue!=="shop"&&(v(null),E(""),w(null),L(""));return}c(et=>({...et,[Z]:Ue}))},kr=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;v(Z),Z&&(N&&N.startsWith("blob:")&&URL.revokeObjectURL(N),E(URL.createObjectURL(Z)))},pa=()=>{v(null),E("")},tl=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;w(Z),Z&&(k&&k.startsWith("blob:")&&URL.revokeObjectURL(k),L(URL.createObjectURL(Z)))},Qo=()=>{w(null),L("")},rl=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;T(Z),j(""),te(""),Z&&(M&&M.startsWith("blob:")&&URL.revokeObjectURL(M),D(URL.createObjectURL(Z)))},Xo=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;Q(Z),z(""),V(""),Z&&(ue&&ue.startsWith("blob:")&&URL.revokeObjectURL(ue),ie(URL.createObjectURL(Z)))},ad=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;ge(Z),He(""),J(""),Z&&(we&&we.startsWith("blob:")&&URL.revokeObjectURL(we),Pe(URL.createObjectURL(Z)))},Ns=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;Re(Z),jt(""),zt(""),Z&&(De&&De.startsWith("blob:")&&URL.revokeObjectURL(De),ve(URL.createObjectURL(Z)))},ws=$=>{const Z=$.target.files&&$.target.files[0]?$.target.files[0]:null;_e(Z),jt(""),zt(""),Z&&(rt&&rt.startsWith("blob:")&&URL.revokeObjectURL(rt),ut(URL.createObjectURL(Z)))},Un=async()=>{if(!fe){He("Veuillez slectionner une image pour la bannire.");return}je(!0),He(""),J("");try{const $=new FormData;$.append("heroBanner",fe);const{data:Z}=await ee.put("/admin/hero-banner",$,{headers:{"Content-Type":"multipart/form-data"}});Pe(Z?.heroBanner||we),ge(null),J("Bannire mise  jour avec succs."),a("Bannire mise  jour.",{variant:"success"})}catch($){const Z=$.response?.data?.message||"Impossible d'enregistrer la bannire.";He(Z),a(Z,{variant:"error"})}finally{je(!1)}},al=async()=>{if(It&&he){const $=new Date(It),Z=new Date(he);if(Number.isNaN($.getTime())||Number.isNaN(Z.getTime())){jt("Dates de bannire invalides.");return}if(Z<$){jt("La date de fin doit tre aprs la date de dbut.");return}}nt(!0),jt(""),zt("");try{const $=new FormData;We&&$.append("promoBanner",We),Ne&&$.append("promoBannerMobile",Ne),$.append("promoBannerLink",Ke.trim()),$.append("promoBannerStartAt",It),$.append("promoBannerEndAt",he);const{data:Z}=await ee.put("/admin/promo-banner",$,{headers:{"Content-Type":"multipart/form-data"}});ve(Z?.promoBanner||De),ut(Z?.promoBannerMobile||rt),yt(Z?.promoBannerLink||Ke),Vt(Ge(Z?.promoBannerStartAt)),Je(Ge(Z?.promoBannerEndAt)),Re(null),_e(null),zt("Bannire publicitaire mise  jour avec succs."),a("Bannire publicitaire mise  jour.",{variant:"success"})}catch($){const Z=$.response?.data?.message||"Impossible d'enregistrer la bannire publicitaire.";jt(Z),a(Z,{variant:"error"})}finally{nt(!1)}},nd=async()=>{if(!_){j("Veuillez slectionner un logo desktop.");return}O(!0),j(""),te("");try{const $=new FormData;$.append("appLogoDesktop",_);const{data:Z}=await ee.put("/admin/app-logo/desktop",$,{headers:{"Content-Type":"multipart/form-data"}});D(Z?.appLogoDesktop||M),T(null),te("Logo desktop mis  jour avec succs."),a("Logo desktop mis  jour.",{variant:"success"})}catch($){const Z=$.response?.data?.message||"Impossible d'enregistrer le logo desktop.";j(Z),a(Z,{variant:"error"})}finally{O(!1)}},sd=async()=>{if(!me){z("Veuillez slectionner un logo mobile.");return}B(!0),z(""),V("");try{const $=new FormData;$.append("appLogoMobile",me);const{data:Z}=await ee.put("/admin/app-logo/mobile",$,{headers:{"Content-Type":"multipart/form-data"}});ie(Z?.appLogoMobile||ue),Q(null),V("Logo mobile mis  jour avec succs."),a("Logo mobile mis  jour.",{variant:"success"})}catch($){const Z=$.response?.data?.message||"Impossible d'enregistrer le logo mobile.";z(Z),a(Z,{variant:"error"})}finally{B(!1)}},Xl=()=>{U(xc())},Ss=($,Z)=>{U(Ue=>Ue.map(et=>et.day===$?{...et,...Z}:et))},nl=($,Z)=>Ue=>{Ss($,{[Z]:Ue.target.value})},Jo=($,Z)=>{Ss($,{closed:Z})},un=$=>{const Z=Array.from($.target.files||[]);if(!Z.length)return;const Ue=Math.max(0,2-ra.length),et=Z.slice(0,Ue);if(!et.length){Et("Vous pouvez ajouter au maximum 2 fichiers."),$.target.value="";return}Z.length>et.length?Et("Maximum 2 fichiers autoriss, seuls les premiers ont t ajouts."):Et(""),aa(ft=>[...ft,...et]),$.target.value=""},Jl=$=>{aa(Z=>Z.filter((Ue,et)=>et!==$)),Et("")},sl=async()=>{Ce(!0),ot(""),Gt("");try{await ee.post("/users/password/send-code"),ct(!0),Gt("Code envoy par SMS."),a("Code envoy par SMS.",{variant:"success"})}catch($){const Z=$.response?.data?.message||$.message||"Impossible denvoyer le code.";ot(Z),a(Z,{variant:"error"})}finally{Ce(!1)}},Zo=async()=>{if(!o.password)return!0;if(!ke.trim()){const $="Veuillez saisir le code SMS avant de modifier le mot de passe.";return ot($),a($,{variant:"error"}),!1}try{return await ee.post("/users/password/change",{verificationCode:ke.trim(),newPassword:o.password}),lt(""),ct(!1),ot(""),Gt("Mot de passe mis  jour."),a("Mot de passe mis  jour.",{variant:"success"}),!0}catch($){const Z=$.response?.data?.message||$.message||"Impossible de modifier le mot de passe.";return ot(Z),a(Z,{variant:"error"}),!1}},ll=async $=>{if($.preventDefault(),o.password&&o.password!==o.confirmPassword){const Z="Les mots de passe ne correspondent pas.";x(Z),a(Z,{variant:"error"});return}if(!o.city||!o.gender){const Z="Veuillez slectionner votre ville et votre genre.";x(Z),a(Z,{variant:"error"});return}if(!o.address.trim()){const Z="Veuillez renseigner votre adresse complte.";x(Z),a(Z,{variant:"error"});return}f(!0),x(""),g("");try{if(o.password&&!await Zo())return;if(o.accountType==="shop"&&(!o.shopName||!o.shopAddress||!o.shopDescription.trim())){const ft="Veuillez renseigner le nom, ladresse et la description de votre boutique.";x(ft),a(ft,{variant:"error"});return}const Z=new FormData,Ue=dr.map(ft=>({day:ft.day,closed:!!ft.closed,open:ft.closed?"":ft.open||"",close:ft.closed?"":ft.close||""}));Z.append("name",o.name),Z.append("email",o.email),Z.append("accountType",o.accountType),Z.append("city",o.city),Z.append("gender",o.gender),Z.append("address",o.address.trim()),o.accountType==="shop"&&(Z.append("shopName",o.shopName),Z.append("shopAddress",o.shopAddress),Z.append("shopDescription",o.shopDescription.trim()),S&&Z.append("shopLogo",S),t?.shopVerified&&C&&Z.append("shopBanner",C),Z.append("shopHours",JSON.stringify(Ue)));const{data:et}=await ee.put("/users/profile",Z,{headers:{"Content-Type":"multipart/form-data"}});r(et),g("Profil mis  jour avec succs !"),a("Profil mis  jour avec succs !",{variant:"success"}),c(ft=>({...ft,password:"",confirmPassword:"",accountType:et.accountType||"person",shopName:et.shopName||"",shopAddress:et.shopAddress||"",shopDescription:et.shopDescription||"",address:et.address||"",country:et.country||"Rpublique du Congo",city:et.city||"",gender:et.gender||""})),E(et.shopLogo||""),v(null),L(et.shopBanner||""),w(null),lt(""),ct(!1),ot(""),Gt(""),setTimeout(()=>{l("/")},2e3)}catch(Z){const Ue=Z.response?.data?.message||Z.message||"Une erreur est survenue.";x(Ue),a(Ue,{variant:"error"})}finally{f(!1)}},ol=async $=>{if($.preventDefault(),$e(""),Ct(""),!on.trim()){$e("Veuillez renseigner un sujet.");return}if(!ka.trim()){$e("Veuillez dtailler votre avis.");return}if(Qt.remaining<=0){$e("Vous avez atteint la limite de 5 avis.");return}de(!0);try{const{data:Z}=await ee.post("/users/feedback",{subject:on.trim(),body:ka.trim()});Ct("Merci ! Votre avis a t envoy."),wn(""),ma(""),Z?.feedback&&cn(Ue=>[Z.feedback,...Ue].slice(0,5)),typeof Z?.remaining=="number"?Sr(Ue=>({total:Ue.total+1,remaining:Z.remaining})):await xt()}catch(Z){const Ue=Z.response?.data?.message||Z.message||"Impossible denvoyer votre avis.";$e(Ue)}finally{de(!1)}},ei=$=>{$&&qn($)},Ur=()=>{qn(null)},Hn=async $=>{if($.preventDefault(),Et(""),qr(""),!ta.trim()){Et("Veuillez dtailler votre rclamation.");return}Mt(!0);try{const Z=new FormData;Z.append("subject",Yt.trim()),Z.append("message",ta.trim()),ra.forEach(Ue=>Z.append("attachments",Ue)),await ee.post("/users/complaints",Z,{headers:{"Content-Type":"multipart/form-data"}}),qr("Votre rclamation a bien t envoye."),Br(""),nr(""),aa([]),a("Rclamation envoye",{variant:"success"}),await pt()}catch(Z){const Ue=Z.response?.data?.message||Z.message||"Une erreur est survenue.";Et(Ue),a(Ue,{variant:"error"})}finally{Mt(!1)}};return t?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Jr,{className:"w-10 h-10 text-white"})),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Mon Profil"),e.createElement("p",{className:"text-gray-500"},"Grez vos informations et consultez vos statistiques"),t?.address?e.createElement("p",{className:"mt-2 flex items-center justify-center text-sm text-gray-600 gap-2"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,t.address)):null,mn&&e.createElement(ce,{to:mn,className:"inline-flex items-center gap-2 mt-4 px-4 py-2 rounded-xl border border-indigo-200 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 transition-colors"},e.createElement(La,{className:"w-4 h-4"}),"Voir ma boutique publique"),e.createElement("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:hidden"},Es.map(({label:$,value:Z})=>e.createElement("div",{key:$,className:"bg-white border border-gray-100 rounded-2xl p-3 shadow-sm flex flex-col"},e.createElement("span",{className:"text-[11px] uppercase tracking-wide text-gray-400"},$),e.createElement("span",{className:"text-lg font-bold text-gray-900"},Il(Z)))))),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-1 bg-white rounded-2xl p-2 sm:p-1 shadow-sm border border-gray-100 mb-6"},[{id:"profile",label:"Profil",icon:Jr},{id:"stats",label:"Statistiques",icon:jl},{id:"performance",label:"Performance",icon:Rl},{id:"orders",label:"Mes commandes",icon:Qr}].map($=>{const Z=$.icon;return e.createElement("button",{key:$.id,onClick:()=>ar($.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl font-medium transition-all flex-1 w-full text-left sm:text-center ${Rt===$.id?"bg-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`},e.createElement(Z,{className:"w-4 h-4"}),e.createElement("span",null,$.label))})),Rt==="profile"&&e.createElement(e.Fragment,null,e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Informations personnelles")),e.createElement("form",{onSubmit:ll,className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nom complet *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"name",value:o.name,onChange:sr,disabled:d,required:!0}),e.createElement(Jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Vl,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse email *")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"email",value:o.email,onChange:sr,disabled:d,required:!0}),e.createElement(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(hs,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Tlphone")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:o.phone,readOnly:!0,disabled:!0}),e.createElement("span",{className:"absolute top-2 right-3 text-[11px] text-gray-500"},"Non modifiable"),e.createElement(hs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Pays *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-500",value:"Rpublique du Congo",readOnly:!0,disabled:!0}),e.createElement(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Ville *")),e.createElement("div",{className:"relative"},e.createElement("select",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"city",value:o.city,onChange:sr,disabled:d,required:!0},e.createElement("option",{value:""},"Choisissez votre ville"),["Brazzaville","Pointe-Noire","Ouesso","Oyo"].map($=>e.createElement("option",{key:$,value:$},$))),e.createElement(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse complte *")),e.createElement("div",{className:"relative"},e.createElement("textarea",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",rows:2,name:"address",value:o.address,onChange:sr,disabled:d,placeholder:"Quartier, rue, numro de parcelle...",required:!0}),e.createElement(Wt,{className:"absolute left-4 top-4 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(qs,{className:"w-4 h-4 text-indigo-500"}),"Genre *",e.createElement("span",{className:"text-[11px] text-gray-500"},"Non modifiable")),e.createElement("div",{className:"grid grid-cols-2 gap-3"},[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}].map($=>e.createElement("label",{key:$.value,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${o.gender===$.value?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-gray-50 text-gray-600"}`},e.createElement("input",{type:"radio",name:"gender",value:$.value,checked:o.gender===$.value,className:"sr-only",disabled:!0}),$.label)))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(fr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Type de compte")),t?.accountType==="shop"?e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"accountType",value:o.accountType,onChange:sr,disabled:d},e.createElement("option",{value:"shop"},"Boutique"),e.createElement("option",{value:"person"},"Particulier")):e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:"Particulier",disabled:!0,readOnly:!0}),e.createElement("div",{className:"absolute right-4 top-1/2 -translate-y-1/2"},e.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"},"Basique"))))),o.accountType==="shop"&&e.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3 flex-wrap gap-y-2"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Informations de la boutique"),e.createElement(ia,{verified:!!t?.shopVerified}),e.createElement("span",{className:"text-xs text-gray-500"},t?.shopVerified?"Boutique vrifie par lquipe HDMarket.":"Contactez un administrateur pour faire vrifier votre boutique.")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(La,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Nom de la boutique *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopName",value:o.shopName,onChange:sr,disabled:d,required:!0}),e.createElement(La,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wt,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Adresse *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopAddress",value:o.shopAddress,onChange:sr,disabled:d,required:!0}),e.createElement(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Fo,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null," propos de la boutique *")),e.createElement("textarea",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 text-sm",rows:4,name:"shopDescription",value:o.shopDescription,onChange:sr,placeholder:"Dcrivez vos engagements, types de produits, services...",disabled:d,required:!0}),e.createElement("p",{className:"text-xs text-gray-500"},"Ce texte saffiche sur votre page publique pour rassurer vos clients.")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900"},e.createElement(yr,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Horaires d'ouverture")),e.createElement("button",{type:"button",onClick:Xl,disabled:d,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500 disabled:opacity-50 transition-colors"},"Rinitialiser")),e.createElement("p",{className:"text-xs text-gray-500"},"Ces horaires sont indiqus aux acheteurs sur votre boutique publique."),e.createElement("div",{className:"space-y-2"},dr.map($=>e.createElement("div",{key:$.day,className:"flex flex-col gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},$.label),e.createElement("p",{className:"text-xs text-gray-500"},$.closed?"Ferm":$.open&&$.close?`${$.open}  ${$.close}`:"Horaires partiels")),e.createElement("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3"},e.createElement("input",{type:"time",value:$.open,onChange:nl($.day,"open"),disabled:$.closed||d,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),e.createElement("span",{className:"text-xs text-gray-400"},""),e.createElement("input",{type:"time",value:$.close,onChange:nl($.day,"close"),disabled:$.closed||d,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),e.createElement("label",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement("input",{type:"checkbox",checked:$.closed,onChange:Z=>Jo($.day,Z.target.checked),disabled:d,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.createElement("span",null,"Ferm")))))),e.createElement("p",{className:"text-xs text-gray-500"},"Laissez un jour en ferme si vous ntes pas disponible ou si aucun horaire nest dfini.")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Dx,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Logo de la boutique")),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},N?e.createElement("div",{className:"text-center"},e.createElement("img",{src:N,alt:"Logo boutique",className:"w-24 h-24 rounded-2xl object-cover mx-auto mb-3 border-2 border-amber-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Logo actuel"),e.createElement("button",{type:"button",onClick:pa,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-amber-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-amber-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - 200x200px recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:kr,className:"hidden"})))),t?.shopVerified?e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement($x,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Bannire de la boutique")),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},k?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:k,alt:"Bannire boutique",className:"h-32 w-full rounded-2xl object-cover mx-auto mb-3 border-2 border-indigo-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire actuelle"),e.createElement("button",{type:"button",onClick:Qo,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - 1200x400px recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:tl,className:"hidden"})))):e.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/50 p-4 text-xs text-indigo-700"},"La bannire est disponible uniquement pour les boutiques certifies.")),t?.role==="admin"&&e.createElement("div",{className:"space-y-4 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Logos de lapplication")),e.createElement("p",{className:"text-sm text-gray-500"},"Deux versions sont utilises dans la barre de navigation. Chaque logo sera converti en PNG."),e.createElement("div",{className:"grid gap-4 md:grid-cols-2"},e.createElement("div",{className:"space-y-3 rounded-2xl border border-gray-100 bg-gray-50/60 p-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Logo desktop"),e.createElement("span",{className:"text-xs text-gray-500"},"Largeur recommande")),I&&e.createElement("p",{className:"text-sm text-red-600"},I),Y&&e.createElement("p",{className:"text-sm text-emerald-600"},Y),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-white hover:bg-gray-50 transition-colors group p-6"},M?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:M,alt:"Logo desktop",className:"h-16 w-auto max-w-full object-contain mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Logo actuel")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG, WEBP - format horizontal")),e.createElement("input",{type:"file",accept:"image/*",onChange:rl,className:"hidden"}))),e.createElement("button",{type:"button",onClick:nd,disabled:R||!_,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},R?"Mise  jour":"Enregistrer le logo desktop")),e.createElement("div",{className:"space-y-3 rounded-2xl border border-gray-100 bg-gray-50/60 p-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Logo mobile"),e.createElement("span",{className:"text-xs text-gray-500"},"Carr recommand")),X&&e.createElement("p",{className:"text-sm text-red-600"},X),G&&e.createElement("p",{className:"text-sm text-emerald-600"},G),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-white hover:bg-gray-50 transition-colors group p-6"},ue?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:ue,alt:"Logo mobile",className:"h-16 w-16 rounded-2xl object-contain mx-auto mb-3 border border-gray-200 bg-white"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Logo actuel")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG, WEBP - format carr")),e.createElement("input",{type:"file",accept:"image/*",onChange:Xo,className:"hidden"}))),e.createElement("button",{type:"button",onClick:sd,disabled:H||!me,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},H?"Mise  jour":"Enregistrer le logo mobile")))),t?.role==="admin"&&e.createElement("div",{className:"space-y-4 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-pink-500 to-rose-500 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Bannire publicitaire")),e.createElement("p",{className:"text-sm text-gray-500"},"Cette bannire apparat sur la page daccueil. Ajoutez un lien pour rediriger les visiteurs."),bt&&e.createElement("p",{className:"text-sm text-red-600"},bt),jr&&e.createElement("p",{className:"text-sm text-emerald-600"},jr),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Lien du banner"),e.createElement("input",{type:"text",value:Ke,onChange:$=>yt($.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"https://exemple.com/promo ou /products"})),e.createElement("div",{className:"grid gap-3 sm:grid-cols-2"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de dbut"),e.createElement("input",{type:"date",value:It,onChange:$=>Vt($.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de fin"),e.createElement("input",{type:"date",value:he,onChange:$=>Je($.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),e.createElement("p",{className:"text-xs text-gray-500"},"En dehors de cette priode, la bannire par dfaut sera affiche."),e.createElement("div",{className:"grid gap-4 lg:grid-cols-2"},e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},De?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:De,alt:"Bannire publicitaire",className:"h-28 w-full rounded-2xl object-cover mx-auto mb-3 border border-gray-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire desktop")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire desktop dfinie."),e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - format large recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:Ns,className:"hidden"}))),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},rt?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:rt,alt:"Bannire publicitaire mobile",className:"h-28 w-full rounded-2xl object-cover mx-auto mb-3 border border-gray-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire mobile")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire mobile dfinie."),e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - format mobile recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:ws,className:"hidden"})))),e.createElement("button",{type:"button",onClick:al,disabled:qe,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},qe?"Mise  jour":"Enregistrer la bannire")),t?.role==="admin"&&e.createElement("div",{className:"space-y-4 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-blue-500 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Bannire du HERO (Accueil)")),e.createElement("p",{className:"text-sm text-gray-500"},"Cette image saffiche en arrire-plan du HERO sur la page daccueil."),Ye&&e.createElement("p",{className:"text-sm text-red-600"},Ye),tt&&e.createElement("p",{className:"text-sm text-emerald-600"},tt),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},we?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:we,alt:"Bannire HERO",className:"h-32 w-full rounded-2xl object-cover mx-auto mb-3 border-2 border-indigo-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire actuelle")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire dfinie pour le moment."),e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(is,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - 1600x600px recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:ad,className:"hidden"}))),e.createElement("button",{type:"button",onClick:Un,disabled:Le||!fe,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},Le?"Mise  jour":"Enregistrer la bannire")),e.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-green-500 to-emerald-500 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Scurit")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Nouveau mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:Fe?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"password",value:o.password,onChange:sr,disabled:d,placeholder:"Laisser vide pour conserver"}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>F(!Fe),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},Fe?e.createElement(Wc,{className:"w-4 h-4"}):e.createElement(Kl,{className:"w-4 h-4"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ua,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Confirmer le mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:Fe?"text":"password",className:"w-full px-4 py-3 pl-11 pr-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"confirmPassword",value:o.confirmPassword,onChange:sr,disabled:d,placeholder:"Confirmez le mot de passe"}),e.createElement(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-4 space-y-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-700"},"Code SMS de scurit"),e.createElement("p",{className:"text-xs text-gray-500"},"Un code est requis pour confirmer la modification du mot de passe.")),e.createElement("button",{type:"button",onClick:sl,disabled:Dt||d,className:"px-4 py-2 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},Dt?"Envoi...":Lt?"Renvoyer le code":"Envoyer le code")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Code reu par SMS",value:ke,onChange:$=>lt($.target.value),disabled:d}),e.createElement(fr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),Ot&&e.createElement("p",{className:"text-sm text-red-600"},Ot),vt&&e.createElement("p",{className:"text-sm text-emerald-600"},vt)),e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:Fe,onChange:()=>F(!Fe),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher les mots de passe"))),e.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex-1"},y&&e.createElement("div",{className:"flex items-center space-x-2 text-red-600"},e.createElement($m,{className:"w-4 h-4"}),e.createElement("span",{className:"text-sm"},y)),p&&e.createElement("div",{className:"flex items-center space-x-2 text-green-600"},e.createElement(xr,{className:"w-4 h-4"}),e.createElement("span",{className:"text-sm"},p))),e.createElement("button",{type:"submit",disabled:d,className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2 shadow-lg"},d?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Enregistrement...")):e.createElement(e.Fragment,null,e.createElement(Gc,{className:"w-5 h-5"}),e.createElement("span",null,"Sauvegarder les modifications"))))),e.createElement("div",{className:"mt-6 space-y-3 border-t border-gray-100 pt-6"},e.createElement("div",{className:"flex items-center justify-between text-sm font-semibold text-gray-700"},e.createElement("span",null,"Suivi de mes rclamations"),da&&e.createElement("span",{className:"text-xs font-normal text-gray-500"},"Chargement")),da?e.createElement("p",{className:"text-xs text-gray-500"},"Chargement des rclamations en cours"):ln?e.createElement("p",{className:"text-xs text-red-600"},ln):ja.length?e.createElement("ul",{className:"space-y-3"},ja.map($=>e.createElement("li",{key:$._id,className:"space-y-2 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-sm text-gray-600 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-gray-900"},$.subject||"Sans objet"),e.createElement("p",{className:"text-[11px] text-gray-500"},ec($.createdAt))),e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${be[$.status]||"bg-gray-100 text-gray-600"}`},A[$.status]||$.status)),e.createElement("p",{className:"text-gray-600 whitespace-pre-line break-words"},$.message),$.attachments?.length?e.createElement("div",{className:"flex flex-wrap gap-2"},$.attachments.filter(Z=>Z.url).map((Z,Ue)=>e.createElement("a",{key:`${Z.filename}-${Ue}`,href:Z.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-1 text-xs font-medium text-gray-600 hover:border-rose-200"},e.createElement(uc,{className:"w-3 h-3"}),Z.originalName||Z.filename))):null))):e.createElement("p",{className:"text-xs text-gray-500"},"Vous navez encore dpos aucune rclamation."))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Avis sur lamlioration"),e.createElement("p",{className:"text-sm text-gray-500"},"Partagez vos ides pour amliorer HDMarket. Limit  5 avis par utilisateur."))),e.createElement("div",{className:"space-y-3 mb-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Vos avis envoys"),e.createElement("span",{className:"text-xs font-semibold text-gray-500"},Qt.total," / 5")),Vn?e.createElement("div",{className:"space-y-2"},Array.from({length:2}).map(($,Z)=>e.createElement("div",{key:`improvement-skeleton-${Z}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("div",{className:"h-4 w-1/2 rounded bg-gray-200"}),e.createElement("div",{className:"mt-2 h-3 w-3/4 rounded bg-gray-200"})))):vs?e.createElement("p",{className:"text-sm text-red-600"},vs):ua.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucun avis envoy pour le moment."):e.createElement("div",{className:"space-y-2"},ua.map($=>{const Z=!!$.readAt;return e.createElement("button",{type:"button",key:$._id,onClick:()=>ei($),className:"w-full text-left rounded-2xl border border-gray-100 bg-white px-4 py-3 shadow-sm hover:border-emerald-200 transition-colors"},e.createElement("div",{className:"flex items-start justify-between gap-2"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},$.subject),e.createElement("p",{className:"text-xs text-gray-500"},ec($.createdAt))),e.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${Z?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},Z?"Lu":"Non lu")),e.createElement("p",{className:"mt-2 text-xs text-gray-600 line-clamp-2"},$.body))}))),e.createElement("form",{onSubmit:ol,className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Sujet *")),e.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Ex : Nouvelle fonctionnalit",value:on,onChange:$=>{wn($.target.value),pe&&$e(""),ht&&Ct("")},maxLength:150,disabled:na,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(br,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Votre avis *")),e.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:ka,onChange:$=>{ma($.target.value),pe&&$e(""),ht&&Ct("")},placeholder:"Expliquez votre ide ou votre suggestion.",disabled:na,maxLength:2e3,required:!0})),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},e.createElement("span",null,Qt.remaining>0?`Il vous reste ${Qt.remaining} avis sur 5.`:"Limite atteinte : 5 avis envoys."),e.createElement("span",null,Qt.total," envoy",Qt.total>1?"s":"")),(pe||ht)&&e.createElement("div",{className:`flex items-center gap-2 text-sm ${pe?"text-red-600":"text-green-600"}`},pe?e.createElement(Bm,{className:"w-4 h-4"}):e.createElement(xr,{className:"w-4 h-4"}),e.createElement("span",null,pe||ht)),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{type:"submit",disabled:na||Qt.remaining<=0,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:from-emerald-600 hover:to-teal-600 disabled:opacity-60 disabled:cursor-not-allowed"},na?e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.createElement("span",null,"Envoi...")):e.createElement(e.Fragment,null,e.createElement(br,{className:"w-4 h-4"}),e.createElement("span",null,"Envoyer lavis")))))),sa&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:Ur}),e.createElement("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:$=>$.stopPropagation()},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Avis sur lamlioration"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},sa.subject)),e.createElement("button",{type:"button",onClick:Ur,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("div",{className:"mt-4 space-y-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,ec(sa.createdAt)),e.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${sa.readAt?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},sa.readAt?"Lu":"Non lu")),e.createElement("p",{className:"text-sm text-gray-700 whitespace-pre-line"},sa.body),sa.readAt&&e.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",ec(sa.readAt))))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-rose-500 to-pink-500 rounded-full"}),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Rclamations"),e.createElement("p",{className:"text-sm text-gray-500"},"Signalez un problme ou partagez une capture dcran : vous pouvez joindre deux fichiers."))),e.createElement("form",{onSubmit:Hn,className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(bn,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Objet (facultatif)")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all",placeholder:"Ex : Annonce non conforme",value:Yt,onChange:$=>{Br($.target.value),Ia&&Et("")},disabled:Vr,maxLength:150}),e.createElement(bn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(br,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Description *")),e.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:ta,onChange:$=>{nr($.target.value),Ia&&Et("")},placeholder:"Expliquez en dtail votre problme pour que nos quipes puissent investiguer.",disabled:Vr,required:!0,maxLength:1500})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(uc,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Fichiers (max 2)")),e.createElement("label",{className:"flex items-center justify-between rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-3 text-xs font-semibold text-gray-600 hover:border-rose-300 hover:bg-rose-50 cursor-pointer"},e.createElement("span",null,"Ajouter un fichier"),e.createElement("span",{className:"text-[11px] text-gray-400"},"PNG, JPG, PDF"),e.createElement("input",{type:"file",multiple:!0,className:"hidden",onChange:un,disabled:Vr})),e.createElement("p",{className:"text-xs text-gray-500"},"Les pices jointes sont visibles uniquement par nos modrateurs.")),ra.length>0&&e.createElement("div",{className:"space-y-2"},ra.map(($,Z)=>e.createElement("div",{key:`${$.name}-${$.size}-${Z}`,className:"flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-600"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(uc,{className:"w-4 h-4 text-gray-400"}),e.createElement("span",{className:"truncate"},$.name)),e.createElement("button",{type:"button",onClick:()=>Jl(Z),disabled:Vr,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")))),(Ia||Wa)&&e.createElement("div",{className:`flex items-center gap-2 text-sm ${Ia?"text-red-600":"text-green-600"}`},Ia?e.createElement(Bm,{className:"w-4 h-4"}):e.createElement(xr,{className:"w-4 h-4"}),e.createElement("span",null,Ia||Wa)),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{type:"submit",disabled:Vr,className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-pink-500 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:from-rose-600 hover:to-pink-600 disabled:opacity-60 disabled:cursor-not-allowed"},Vr?e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.createElement("span",null,"Rclamation...")):e.createElement(e.Fragment,null,e.createElement(Bm,{className:"w-4 h-4"}),e.createElement("span",null,"Envoyer la rclamation"))))))),Rt==="stats"&&e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Vue d'ensemble")),Tt?e.createElement("div",{className:"flex justify-center py-8"},e.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-indigo-600 border-t-transparent"})):Jt?e.createElement("div",{className:"text-center py-8 text-red-600"},e.createElement($m,{className:"w-12 h-12 mx-auto mb-3"}),e.createElement("p",null,Jt)):e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[{label:"Annonces totales",value:le.listings.total,icon:vr,color:"from-blue-500 to-cyan-500"},{label:"Favoris reus",value:le.engagement.favoritesReceived,icon:Dr,color:"from-pink-500 to-rose-500"},{label:"Commentaires",value:le.engagement.commentsReceived,icon:br,color:"from-green-500 to-emerald-500"},{label:"Vues totales",value:le.performance.views,icon:Rl,color:"from-purple-500 to-indigo-500"}].map(($,Z)=>{const Ue=$.icon;return e.createElement("div",{key:Z,className:`bg-gradient-to-br ${$.color} text-white rounded-2xl p-6 shadow-lg`},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement(Ue,{className:"w-8 h-8 text-white opacity-90"}),e.createElement("span",{className:"text-2xl font-bold"},Il($.value))),e.createElement("p",{className:"text-white text-opacity-90 text-sm font-medium"},$.label))}))),!Tt&&!Jt&&e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(vr,{className:"w-5 h-5 text-blue-500"}),e.createElement("span",null,"Statut des annonces")),e.createElement("div",{className:"space-y-4"},[{label:"Approuves",value:le.listings.approved,color:"bg-green-500",icon:xr},{label:"En attente",value:le.listings.pending,color:"bg-yellow-500",icon:yr},{label:"Rejetes",value:le.listings.rejected,color:"bg-red-500",icon:$m},{label:"Dsactives",value:le.listings.disabled,color:"bg-gray-500",icon:vr}].map(($,Z)=>($.icon,e.createElement("div",{key:Z,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:`w-3 h-3 rounded-full ${$.color}`}),e.createElement("span",{className:"text-sm font-medium text-gray-700"},$.label)),e.createElement("span",{className:"text-lg font-bold text-gray-900"},Il($.value))))))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(qs,{className:"w-5 h-5 text-purple-500"}),e.createElement("span",null,"Engagement")),e.createElement("div",{className:"space-y-4"},[{label:"Favoris enregistrs",value:le.engagement.favoritesSaved,icon:Dr},{label:"Taux de conversion",value:`${le.performance.conversion}%`,icon:Rl},{label:"Clicks WhatsApp",value:le.performance.clicks,icon:br}].map(($,Z)=>{const Ue=$.icon;return e.createElement("div",{key:Z,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement(Ue,{className:"w-4 h-4 text-gray-600"}),e.createElement("span",{className:"text-sm font-medium text-gray-700"},$.label)),e.createElement("span",{className:"text-lg font-bold text-gray-900"},$.value))}))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(Qr,{className:"w-5 h-5 text-indigo-500"}),e.createElement("span",null,"Commandes")),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Achats"),[{label:"Total",value:le.orders?.purchases?.totalCount||0},{label:"En attente",value:le.orders?.purchases?.byStatus?.pending?.count||0},{label:"Confirmes",value:le.orders?.purchases?.byStatus?.confirmed?.count||0},{label:"En livraison",value:le.orders?.purchases?.byStatus?.delivering?.count||0},{label:"Livres",value:le.orders?.purchases?.byStatus?.delivered?.count||0}].map($=>e.createElement("div",{key:`purchases-${$.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},$.label),e.createElement("span",{className:"text-sm font-semibold text-gray-900"},Il($.value)))),[{label:"Montant total",value:le.orders?.purchases?.totalAmount||0},{label:"Acompte pay",value:le.orders?.purchases?.paidAmount||0},{label:"Reste  payer",value:le.orders?.purchases?.remainingAmount||0}].map($=>e.createElement("div",{key:`purchases-amount-${$.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-indigo-50/60"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},$.label),e.createElement("span",{className:"text-sm font-semibold text-indigo-700"},lh($.value))))),t?.accountType==="shop"&&e.createElement("div",{className:"space-y-2 pt-3 border-t border-gray-100"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Ventes"),[{label:"Total",value:le.orders?.sales?.totalCount||0},{label:"En attente",value:le.orders?.sales?.byStatus?.pending?.count||0},{label:"Confirmes",value:le.orders?.sales?.byStatus?.confirmed?.count||0},{label:"En livraison",value:le.orders?.sales?.byStatus?.delivering?.count||0},{label:"Livres",value:le.orders?.sales?.byStatus?.delivered?.count||0}].map($=>e.createElement("div",{key:`sales-${$.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},$.label),e.createElement("span",{className:"text-sm font-semibold text-gray-900"},Il($.value)))),e.createElement("div",{className:"flex items-center justify-between p-2 rounded-xl bg-emerald-50/60"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},"Chiffre daffaires"),e.createElement("span",{className:"text-sm font-semibold text-emerald-700"},lh(le.orders?.sales?.totalAmount||0)))))))),Rt==="performance"&&e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Performance et Insights")),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},e.createElement(Rl,{className:"w-5 h-5 text-purple-500"}),e.createElement("span",null,"Vos performances")),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-purple-900"},"Score d'engagement"),e.createElement("p",{className:"text-2xl font-bold text-purple-600"},Math.round((le.engagement.favoritesReceived+le.engagement.commentsReceived)/Math.max(le.listings.approved,1)))),e.createElement(zx,{className:"w-8 h-8 text-purple-500"})),e.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-100"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-blue-900"},"Taux d'approbation"),e.createElement("p",{className:"text-2xl font-bold text-blue-600"},le.listings.total>0?`${Math.round(le.listings.approved/le.listings.total*100)}%`:"0%")),e.createElement(xr,{className:"w-8 h-8 text-blue-500"})))),e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},e.createElement(cr,{className:"w-5 h-5 text-amber-500"}),e.createElement("span",null,"Recommandations")),e.createElement("div",{className:"space-y-3"},le.listings.pending>0&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-amber-50 border border-amber-200"},e.createElement(yr,{className:"w-4 h-4 text-amber-600"}),e.createElement("p",{className:"text-sm text-amber-800"},"Vous avez ",le.listings.pending," annonce(s) en attente de validation")),le.engagement.favoritesReceived===0&&le.listings.approved>0&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-blue-50 border border-blue-200"},e.createElement(Dr,{className:"w-4 h-4 text-blue-600"}),e.createElement("p",{className:"text-sm text-blue-800"},"Amliorez vos photos pour augmenter les favoris")),le.listings.approved>5&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-green-50 border border-green-200"},e.createElement(Rl,{className:"w-4 h-4 text-green-600"}),e.createElement("p",{className:"text-sm text-green-800"},"Excellent ! Pensez  promouvoir vos meilleures annonces")))))),Rt==="orders"&&e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6"},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-indigo-600"},e.createElement(Qr,{className:"w-4 h-4"}),"Historique des commandes"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Mes commandes"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les commandes cres par ladministrateur.")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("span",{className:"text-sm text-gray-500"},"Total : ",Fr.length),e.createElement("button",{type:"button",onClick:st,disabled:Kt,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-60"},Kt?e.createElement(e.Fragment,null,e.createElement("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},e.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:"#c7d2fe",strokeWidth:"4",opacity:"0.3"}),e.createElement("path",{d:"M22 12a10 10 0 00-10-10",stroke:"#6366f1",strokeWidth:"4",strokeLinecap:"round"})),"Chargement"):e.createElement(e.Fragment,null,e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582M20 20v-5h-.581M5 9a7 7 0 0114 0M19 15a7 7 0 01-14 0"})),"Actualiser")))),_r&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-600 mb-6"},_r),!Kt&&!_r&&Fr.length===0&&e.createElement("div",{className:"text-center py-10 border border-dashed border-gray-200 rounded-2xl"},e.createElement("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-3"},e.createElement(Qr,{className:"w-8 h-8 text-gray-400"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Aucune commande disponible"),e.createElement("p",{className:"text-sm text-gray-500 max-w-md mx-auto"},"Un gestionnaire enregistre vos commandes depuis ladmin. Ds quune commande est cre, elle saffichera ici avec son statut.")),(Kt||Fr.length>0)&&e.createElement("div",{className:"space-y-4"},Kt&&Fr.length===0?Array.from({length:2}).map(($,Z)=>e.createElement("div",{key:Z,className:"animate-pulse border border-gray-100 rounded-2xl p-5 bg-gray-50"})):Fr.map($=>{const Z=$.items&&$.items.length?$.items:$.productSnapshot?[{snapshot:$.productSnapshot,quantity:1}]:[];return e.createElement("div",{key:$._id,className:"border border-gray-100 rounded-2xl p-5 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Commande #",$._id.slice(-6)),e.createElement("div",{className:"mt-1 space-y-1 text-sm text-gray-700"},Z.map((Ue,et)=>e.createElement("div",{key:`${$._id}-${et}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"font-medium text-gray-900"},Ue.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",Ue.quantity,"  ",Number(Ue.snapshot?.price||0).toLocaleString()," FCFA")),Ue.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",Ue.snapshot.confirmationNumber)))),e.createElement("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-gray-500"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(fr,{className:"w-3.5 h-3.5 text-indigo-500"}),"Gestionnaire : ",$.createdBy?.name||$.createdBy?.email||"Admin HDMarket"),e.createElement("span",{className:"hidden sm:block text-gray-300"},""),e.createElement("span",{className:"font-semibold text-gray-700"},"Statut : ",nh[$.status]||"Enregistre"))),e.createElement("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border ${C5[$.status]||"border-gray-200 bg-gray-50 text-gray-600"}`},$.status==="pending"&&e.createElement(yr,{size:14}),$.status==="confirmed"&&e.createElement(vr,{size:14}),$.status==="delivering"&&e.createElement(Nr,{size:14}),$.status==="delivered"&&e.createElement(xr,{size:14}),nh[$.status]||"Statut inconnu")),e.createElement("div",{className:"mt-4 grid gap-3 md:grid-cols-2 text-sm text-gray-600"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Adresse de livraison"),e.createElement("p",{className:"font-medium text-gray-900"},$.deliveryAddress),e.createElement("p",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5"},e.createElement(Wt,{size:13}),$.deliveryCity)),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Suivi"),$.trackingNote?e.createElement("p",null,$.trackingNote):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune note ajoute pour le moment."))),e.createElement(A5,{status:$.status}),e.createElement("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-gray-500"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(yr,{size:12}),"Cre le ",new Date($.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),$.shippedAt&&e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(Nr,{size:12}),"Expdie le ",new Date($.shippedAt).toLocaleDateString("fr-FR")),$.deliveredAt&&e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(xr,{size:12}),"Livre le ",new Date($.deliveredAt).toLocaleDateString("fr-FR"))))}))))):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Jr,{className:"w-8 h-8 text-white"})),e.createElement("p",{className:"text-gray-500"},"Vous devez tre connect pour accder  votre profil.")))}const oh={product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,feedback_read:!0},L5=t=>{if(!t)return"";const r=new Date(t);if(Number.isNaN(r.getTime()))return"";const l=new Date-r,o=Math.floor(l/(1e3*60)),c=Math.floor(l/(1e3*60*60)),d=Math.floor(l/(1e3*60*60*24));return o<1?" l'instant":o<60?`Il y a ${o} min`:c<24?`Il y a ${c} h`:d===1?"Hier":d<7?`Il y a ${d} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:d>365?"numeric":void 0})},M5=({preferences:t,onUpdate:r})=>{const[a,l]=u.useState(!1),[o,c]=u.useState(!1),d=async f=>{c(!0);const p={...t,[f]:!t[f]};try{const{data:g}=await ee.patch("/users/notification-preferences",p);r(g?.preferences??p)}catch(g){console.error("Failed to update preferences:",g)}finally{c(!1)}};return e.createElement("div",{className:"relative"},e.createElement("button",{onClick:()=>l(!a),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors"},e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),"Prfrences"),a&&e.createElement("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-10 p-4"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h3",{className:"font-semibold text-gray-900"},"Prfrences de notification"),e.createElement("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600"},e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),e.createElement("div",{className:"space-y-3"},[{key:"product_comment",label:"Nouveaux commentaires"},{key:"reply",label:"Rponses  mes commentaires"},{key:"favorite",label:"Ajouts aux favoris"},{key:"rating",label:"Nouvelles notes"},{key:"product_approval",label:"Approbations d'annonce"},{key:"product_rejection",label:"Rejets d'annonce"},{key:"promotional",label:"Promotions appliques"},{key:"shop_review",label:"Avis sur ma boutique"},{key:"shop_follow",label:"Nouveaux abonns"},{key:"payment_pending",label:"Paiements  valider"},{key:"order_created",label:"Commandes confirmes"},{key:"order_delivering",label:"Commandes en livraison"},{key:"order_received",label:"Nouvelles commandes"},{key:"order_reminder",label:"Relances commandes"},{key:"order_delivered",label:"Commandes livres"},{key:"feedback_read",label:"Avis lus"}].map(({key:f,label:p})=>e.createElement("div",{key:f,className:"flex items-center justify-between"},e.createElement("span",{className:"text-sm text-gray-700"},p),e.createElement("button",{onClick:()=>d(f),disabled:o,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t[f]?"bg-indigo-600":"bg-gray-200"}`},e.createElement("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t[f]?"translate-x-6":"translate-x-1"}`})))))))};function R5(){const t=ea(),{user:r}=u.useContext(Bt),{counts:a,loading:l,error:o,refresh:c}=Rx(!!r),d=a.alerts||[],[f,p]=u.useState(!1),[g,y]=u.useState(""),[x,S]=u.useState("all"),[v,N]=u.useState(()=>({...oh})),[E,C]=u.useState(!1);u.useEffect(()=>{if(a?.preferences){const j={...oh};Object.keys(j).forEach(Y=>{typeof a.preferences[Y]=="boolean"&&(j[Y]=a.preferences[Y])}),N(Y=>Object.keys(j).some(me=>j[me]!==Y[me])?j:Y)}},[a?.preferences]);const w={product_comment:{label:"Commentaire",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))},reply:{label:"Rponse",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"}))},favorite:{label:"Favori",badgeClass:"bg-rose-50 text-rose-700 border border-rose-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))},rating:{label:"Note",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}))},product_approval:{label:"Approbation",badgeClass:"bg-green-50 text-green-700 border border-green-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))},product_rejection:{label:"Rejet",badgeClass:"bg-red-50 text-red-700 border border-red-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))},promotional:{label:"Promotion",badgeClass:"bg-orange-50 text-orange-700 border border-orange-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M4 4v5a2 2 0 002 2h5l9 9V13a2 2 0 00-2-2h-5L4 4z"}))},shop_review:{label:"Avis boutique",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7l1.664 8.319A2 2 0 006.632 17h10.736a2 2 0 001.968-1.681L21 7"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 7h14M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2"}))},shop_follow:{label:"Abonns boutique",badgeClass:"bg-cyan-50 text-cyan-700 border border-cyan-200",icon:e.createElement(qs,{className:"w-4 h-4"})},payment_pending:{label:"Paiement en attente",badgeClass:"bg-yellow-50 text-yellow-700 border border-yellow-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21h6a2 2 0 002-2v-3a2 2 0 00-2-2H9m6 0l-2-2m0 0l-2 2m2-2v6"}))},order_created:{label:"Commande en attente",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M3 7l1.5 12.5A2 2 0 006.5 21h11a2 2 0 002-1.5L21 7M8 7V4a2 2 0 012-2h4a2 2 0 012 2v3"}))},order_delivering:{label:"Commande en livraison",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h13v6H3V7zm13 3h2.5l2.5 3v3h-5v-6zm-9 6a2 2 0 11-4 0m15 0a2 2 0 11-4 0"}))},order_received:{label:"Nouvelle commande",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M3 7l1.5 12.5A2 2 0 006.5 21h11a2 2 0 002-1.5L21 7M8 7V4a2 2 0 012-2h4a2 2 0 012 2v3"}))},order_reminder:{label:"Relance commande",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))},order_delivered:{label:"Commande livre",badgeClass:"bg-green-50 text-green-700 border border-green-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2a2 2 0 012-2h2l4-5V4H9m0 13h6m-6 0v2a2 2 0 002 2h2a2 2 0 002-2v-2m-6 0H5a2 2 0 01-2-2V7m16 0h1a2 2 0 012 2v6a2 2 0 01-2 2h-1"}))},feedback_read:{label:"Avis lu",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200",icon:e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5-1a9 9 0 11-18 0 9 9 0 0118 0z"}))}},k=u.useMemo(()=>{let j=d;return x==="all"?j=j.filter(Y=>v[Y.type]!==!1):x==="unread"?j=j.filter(Y=>v[Y.type]!==!1).filter(Y=>Y.isNew):j=j.filter(Y=>Y.type===x),j},[d,v,x]),L=u.useMemo(()=>k.filter(j=>j.isNew),[k]),_=u.useMemo(()=>k.filter(j=>!j.isNew),[k]),T=(j,Y)=>{const te=j.product?.status,me=w[j.type]||{label:"Notification",badgeClass:"bg-gray-100 text-gray-700 border border-gray-200",icon:null};return e.createElement("div",{key:j._id,className:`group relative p-6 rounded-2xl transition-all duration-200 ${Y?"bg-white border-l-4 border-l-indigo-500 shadow-sm hover:shadow-md":"bg-gray-50/50 border-l-4 border-l-gray-200 hover:bg-white"}`},Y&&e.createElement("div",{className:"absolute -left-2 top-1/2 transform -translate-y-1/2"},e.createElement("div",{className:"w-3 h-3 bg-indigo-500 rounded-full animate-pulse"})),e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:`flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ${Y?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-500"}`},me.icon),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2 flex-wrap"},e.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${me.badgeClass}`},me.icon,me.label),e.createElement("span",{className:"text-xs text-gray-500"},L5(j.createdAt)),Y&&e.createElement("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-red-600"},e.createElement("svg",{className:"w-2 h-2 fill-current",viewBox:"0 0 8 8"},e.createElement("circle",{cx:"4",cy:"4",r:"4"})),"Nouveau")),e.createElement("div",{className:"flex items-center gap-1"},Y&&e.createElement("button",{onClick:()=>D([j._id]),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Marquer comme lu"},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))),e.createElement("button",{onClick:()=>R(j._id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer"},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))))),j.user?.name&&e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-medium"},j.user.name.charAt(0).toUpperCase()),e.createElement("span",{className:"text-sm font-medium text-gray-900"},j.user.name)),j.type==="reply"&&j.parent?.message&&e.createElement("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200"},e.createElement("p",{className:"text-xs text-gray-600 mb-1 font-medium"},"Votre commentaire :"),e.createElement("p",{className:"text-sm text-gray-700 italic"},'"',j.parent.message,'"')),e.createElement("p",{className:"text-gray-800 leading-relaxed mb-3"},j.message),j.type==="shop_review"&&j.metadata?.rating&&e.createElement("div",{className:"flex items-center gap-2 text-sm text-amber-600 font-semibold mb-2"},e.createElement(cr,{size:14,className:"text-amber-500"}),e.createElement("span",null,"Note : ",Number(j.metadata.rating).toFixed(1),"/5")),j.type==="shop_review"&&j.metadata?.comment&&e.createElement("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100 mb-3 text-sm text-gray-700 italic"},'"',j.metadata.comment,'"'),j.type==="payment_pending"&&(r?.role==="admin"||r?.role==="manager")&&e.createElement("div",{className:"mt-2"},e.createElement(ce,{to:"/admin",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-800 transition-colors"},"Accder  la vrification des paiements",e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})))),j.type==="order_delivered"&&j.metadata?.orderId&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-100"},e.createElement(ce,{to:`/orders/delivered?orderId=${j.metadata.orderId}`,className:"inline-flex items-center gap-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 transition-colors group/link"},e.createElement("svg",{className:"w-4 h-4 transition-transform group-hover/link:translate-x-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})),"Voir la commande livre")),j.product&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-100 space-y-1"},e.createElement("button",{type:"button",onClick:()=>{t(Ft(j.product)),Y&&D([j._id])},className:"inline-flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 transition-colors group/link"},e.createElement("svg",{className:"w-4 h-4 transition-transform group-hover/link:translate-x-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})),"Voir l'annonce : ",j.product.title),te&&te!=="approved"&&e.createElement("p",{className:"flex items-center gap-2 text-xs text-gray-500"},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})),"Annonce actuellement  ",te==="pending"?"En attente":te," .")),!j.product&&j.shop&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-100"},e.createElement(ce,{to:Ir(j.shop),className:"inline-flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 transition-colors group/link"},e.createElement("svg",{className:"w-4 h-4 transition-transform group-hover/link:translate-x-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7h16M4 7l1.664 8.319A2 2 0 007.632 17h8.736a2 2 0 001.968-1.681L20 7M9 21h6"})),"Voir la boutique : ",j.shop.shopName||j.shop.name||"Boutique")))))},M=async()=>{if(!(!L.length||f)){p(!0),y("");try{await ee.patch("/users/notifications/read"),Dm(),await c()}catch(j){console.error(j),y(j.response?.data?.message||j.message||"Impossible de marquer les notifications comme lues.")}finally{p(!1)}}},D=async j=>{if(!(!Array.isArray(j)||!j.length))try{await ee.patch("/users/notifications/read",{notificationIds:j}),Dm(),await c()}catch(Y){console.error("Failed to mark notification as read:",Y)}},R=async j=>{try{await ee.delete(`/users/notifications/${j}`),Dm(),await c()}catch(Y){console.error("Failed to delete notification:",Y)}},O=[{key:"all",label:"Toutes",count:d.length},{key:"unread",label:"Non lues",count:L.length},{key:"product_comment",label:"Commentaires",count:d.filter(j=>j.type==="product_comment").length},{key:"reply",label:"Rponses",count:d.filter(j=>j.type==="reply").length},{key:"favorite",label:"Favoris",count:d.filter(j=>j.type==="favorite").length},{key:"rating",label:"Notes",count:d.filter(j=>j.type==="rating").length},{key:"product_approval",label:"Approbations",count:d.filter(j=>j.type==="product_approval").length},{key:"product_rejection",label:"Rejets",count:d.filter(j=>j.type==="product_rejection").length},{key:"promotional",label:"Promotions",count:d.filter(j=>j.type==="promotional").length},{key:"shop_review",label:"Avis boutique",count:d.filter(j=>j.type==="shop_review").length},{key:"payment_pending",label:"Paiements  valider",count:d.filter(j=>j.type==="payment_pending").length},{key:"order_created",label:"Commandes confirmes",count:d.filter(j=>j.type==="order_created").length},{key:"order_delivering",label:"Commandes en livraison",count:d.filter(j=>j.type==="order_delivering").length},{key:"order_received",label:"Nouvelles commandes",count:d.filter(j=>j.type==="order_received").length},{key:"order_reminder",label:"Relances commandes",count:d.filter(j=>j.type==="order_reminder").length},{key:"order_delivered",label:"Commandes livres",count:d.filter(j=>j.type==="order_delivered").length},{key:"feedback_read",label:"Avis lus",count:d.filter(j=>j.type==="feedback_read").length}],I=({variant:j="stack",closeOnSelect:Y=!1}={})=>O.map(({key:te,label:me,count:Q})=>{const ue=x===te,ie=j==="pills",H=ie?`flex-shrink-0 inline-flex items-center gap-2 whitespace-nowrap rounded-full border px-4 py-2 text-sm transition-colors ${ue?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-200 text-gray-600"}`:`w-full flex items-center justify-between px-3 py-2 rounded-xl text-sm transition-colors ${ue?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,B=ie?`text-xs font-semibold ${ue?"text-white/90":"text-gray-500"}`:`px-2 py-1 rounded-full text-xs ${ue?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}`;return e.createElement("button",{key:`${j}-${te}`,onClick:()=>{S(te),Y&&C(!1)},className:H},e.createElement("span",null,me),e.createElement("span",{className:B},Q))});return r?e.createElement("main",{className:"max-w-6xl mx-auto px-4 py-6 sm:px-6 space-y-8"},e.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},"Notifications"),e.createElement("p",{className:"text-gray-600 text-sm sm:text-base"},"Suivez les dernires interactions sur vos annonces et commentaires")),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 w-full md:w-auto"},e.createElement("div",{className:"hidden sm:flex items-center justify-start gap-3"},e.createElement(M5,{preferences:v,onUpdate:N})),L.length>0&&e.createElement("button",{type:"button",onClick:M,disabled:f,className:"inline-flex w-full sm:w-auto items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white transition-all hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md"},f?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Traitement..."):e.createElement(e.Fragment,null,e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})),"Tout marquer comme lu")))),e.createElement("div",{className:"space-y-4 lg:hidden"},e.createElement("div",{className:"grid grid-cols-2 gap-3 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 p-4 text-white"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-100"},"Total"),e.createElement("p",{className:"text-2xl font-semibold"},d.length)),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-100"},"Non lues"),e.createElement("p",{className:"inline-flex items-center gap-2 text-2xl font-semibold"},L.length,!!L.length&&e.createElement("span",{className:"text-xs font-medium bg-white/20 px-2 py-0.5 rounded-full"},"New")))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Filtres rapides"),e.createElement("button",{type:"button",onClick:()=>C(j=>!j),className:"flex items-center gap-1 text-xs font-medium text-gray-500"},E?"Masquer":"Plus",e.createElement("svg",{className:`w-4 h-4 transition-transform ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})))),e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1"},I({variant:"pills"})),E&&e.createElement("div",{className:"space-y-1"},I({variant:"stack",closeOnSelect:!0})))),e.createElement("div",{className:"flex flex-col lg:flex-row gap-6"},e.createElement("div",{className:"hidden lg:block lg:w-64 flex-shrink-0"},e.createElement("div",{className:"sticky top-6 space-y-6"},e.createElement("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-5 text-white"},e.createElement("h3",{className:"font-semibold mb-3"},"Aperu"),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-indigo-100"},"Total"),e.createElement("span",{className:"font-semibold"},d.length)),e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-indigo-100"},"Non lues"),e.createElement("span",{className:"font-semibold bg-white/20 px-2 py-1 rounded-full text-xs"},L.length)))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-200 p-4"},e.createElement("h3",{className:"font-semibold text-gray-900 mb-3"},"Filtrer par"),e.createElement("div",{className:"space-y-1"},I())))),e.createElement("div",{className:"flex-1"},l&&e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600"},e.createElement("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Chargement des notifications..."))),o&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 text-center"},e.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-3"},e.createElement("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),e.createElement("p",{className:"text-red-700 font-medium mb-2"},"Erreur de chargement"),e.createElement("p",{className:"text-red-600 text-sm"},o)),g&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6"},e.createElement("p",{className:"text-red-700 text-sm"},g)),L.length>0&&(x==="all"||x==="unread")&&e.createElement("section",{className:"space-y-4 mb-8"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Non lues"),e.createElement("span",{className:"bg-red-500 text-white text-xs font-medium px-2 py-1 rounded-full"},L.length)),e.createElement("div",{className:"space-y-3"},L.map(j=>T(j,!0)))),_.length>0&&(x==="all"||x!=="unread")&&e.createElement("section",{className:"space-y-4"},e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},x==="all"?"Notifications lues":"Notifications"),e.createElement("div",{className:"space-y-3"},_.map(j=>T(j,!1)))),!l&&!o&&k.length===0&&e.createElement("div",{className:"text-center py-16"},e.createElement("div",{className:"w-24 h-24 bg-gray-100 rounded-3xl flex items-center justify-center mx-auto mb-6"},e.createElement("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},x==="all"?"Aucune notification":"Aucune notification correspondante"),e.createElement("p",{className:"text-gray-600 max-w-sm mx-auto"},x==="all"?"Les notifications concernant vos annonces et commentaires apparatront ici.":"Aucune notification ne correspond aux filtres slectionns."))))):e.createElement("main",{className:"max-w-4xl mx-auto p-6"},e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}))),e.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Connectez-vous"),e.createElement("p",{className:"text-gray-600 max-w-sm mx-auto"},"Connectez-vous  votre compte pour consulter vos notifications et rester inform des dernires activits.")))}const ru=12;function I5(){const{favorites:t,loading:r}=u.useContext(Ko),[a,l]=u.useState(1),[o,c]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),d=t.length>0,f=Math.max(1,Math.ceil(t.length/ru));u.useEffect(()=>{l(1)},[t.length]),u.useEffect(()=>{const y=()=>{typeof window>"u"||c(window.innerWidth<=767)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),u.useEffect(()=>{if(!o||a>=f)return;const y=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&l(S=>Math.min(S+1,f))};return window.addEventListener("scroll",y,{passive:!0}),()=>window.removeEventListener("scroll",y)},[o,a,f]),u.useEffect(()=>{a>f&&l(f)},[a,f]);const p=u.useMemo(()=>{const y=a*ru;return t.slice(0,y)},[t,a]),g=()=>{if(o||t.length<=ru)return null;const y=Math.min(5,f),x=Math.floor(y/2);let S=Math.max(1,a-x),v=Math.min(f,S+y-1);S=Math.max(1,v-y+1);const N=Array.from({length:v-S+1},(E,C)=>S+C);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 mb-4 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>l(E=>Math.max(1,E-1)),disabled:a<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),S>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>l(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${a===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),S>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),N.map(E=>e.createElement("button",{key:E,onClick:()=>l(E),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${a===E?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},E)),v<f&&e.createElement(e.Fragment,null,v<f-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>l(f),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${a===f?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},f)),e.createElement("button",{onClick:()=>l(E=>Math.min(f,E+1)),disabled:a>=f,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"text-center sm:text-left"},e.createElement("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold"},"Vos favoris"),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mt-1"},"Articles enregistrs"),e.createElement("p",{className:"text-gray-600 mt-2"},"Retrouvez rapidement les produits que vous avez ajouts  votre liste de souhaits.")),r?e.createElement("div",{className:"rounded-3xl border border-dashed border-gray-200 bg-white px-6 py-12 text-center shadow-sm"},e.createElement("p",{className:"text-gray-600"},"Chargement de vos favoris")):d?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},p.map(y=>e.createElement(Ra,{key:y._id,p:y}))),g()):e.createElement("div",{className:"rounded-3xl border border-dashed border-gray-300 bg-white px-6 py-12 text-center shadow-sm"},e.createElement("p",{className:"text-lg font-semibold text-gray-700"},"Aucun favori pour le moment"),e.createElement("p",{className:"text-gray-500 mt-2"},"Explorez le catalogue et cliquez sur le coeur d'un produit pour le retrouver ici."),e.createElement(ce,{to:"/",className:"inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-3 font-medium text-white mt-6 hover:bg-indigo-700 transition"},"Dcouvrir les produits")))}const j5={monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche"},O5=new Intl.NumberFormat("fr-FR"),au=t=>{const r=Number(t);return Number.isFinite(r)?O5.format(r):"0"},nu=t=>{if(!t)return"Date inconnue";const r=new Date(t);return Number.isNaN(r.getTime())?"Date inconnue":r.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},tc=t=>{const r=Number(t);return Number.isFinite(r)?r.toFixed(1).replace(".",","):"0,0"},z5=[5,4,3,2,1];function D5(){const{slug:t}=bs(),{user:r,updateUser:a}=u.useContext(Bt),l=ea(),[o,c]=u.useState(null),[d,f]=u.useState([]),[p,g]=u.useState([]),[y,x]=u.useState(!0),[S,v]=u.useState(""),[N,E]=u.useState("all"),[C,w]=u.useState(0),[k,L]=u.useState(!1),[_,T]=u.useState(!1),[M,D]=u.useState(0),[R,O]=u.useState({rating:0,comment:""}),[I,j]=u.useState(!1),[Y,te]=u.useState(""),[me,Q]=u.useState(""),[ue,ie]=u.useState(null),[H,B]=u.useState(!0),[X,z]=u.useState(!1),[G,V]=u.useState([]),[fe,ge]=u.useState(!1),[we,Pe]=u.useState(""),Le=o?.slug||o?._id||t;u.useEffect(()=>{let he=!0;return(async()=>{try{x(!0);const{data:qe}=await ee.get(`/shops/${t}`);if(!he)return;c(qe.shop),f(Array.isArray(qe.products)?qe.products:[]),g(Array.isArray(qe.recentReviews)?qe.recentReviews:[]),v("")}catch(qe){if(!he)return;v(qe.response?.data?.message||qe.message||"Boutique introuvable."),c(null),f([]),g([])}finally{he&&x(!1)}})(),()=>{he=!1}},[t,M]),u.useEffect(()=>{E("all")},[t]),u.useEffect(()=>{te(""),Q("")},[t,r]),u.useEffect(()=>{let he=!0;return!o?._id||!r?(ie(null),O({rating:0,comment:""}),()=>{he=!1}):((async()=>{try{const{data:qe}=await ee.get(`/shops/${Le}/reviews/user`);if(!he)return;ie(qe),O({rating:qe.rating||0,comment:qe.comment||""}),B(!qe.comment?.trim())}catch(qe){if(!he)return;qe.response?.status===404&&(ie(null),O({rating:0,comment:""}),B(!0))}})(),()=>{he=!1})},[o?._id,t,r,M]),u.useEffect(()=>{if(!o){w(0);return}w(Number(o.followersCount??0))},[o?.followersCount,o]),u.useEffect(()=>{if(!o?._id||!r){L(!1);return}const Je=(Array.isArray(r.followingShops)?r.followingShops:[]).some(qe=>String(qe)===String(o._id));L(Je)},[o?._id,r?.followingShops]);const je=u.useMemo(()=>{const he=new Set;return d.reduce((Je,qe)=>{const nt=qe?.category,bt=typeof nt=="string"?nt.trim():"";return!bt||he.has(bt)||(he.add(bt),Je.push(bt)),Je},[])},[d]),Ye=u.useMemo(()=>!N||N==="all"?d:d.filter(he=>{const Je=he?.category;return(typeof Je=="string"?Je.trim():"")===N}),[N,d]),He=!!ue?.comment?.trim(),tt=!He||H;if(y)return e.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10"},e.createElement("p",{className:"text-gray-600"},"Chargement de la boutique"));if(S)return e.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10 space-y-3"},e.createElement("p",{className:"text-red-600 font-semibold"},S),e.createElement(ce,{to:"/",className:"text-indigo-600 underline"},"Retourner  l'accueil"));if(!o)return null;o.phone&&(r?o.phone:`${t}`);const J=Number(o.ratingAverage||0),We=Number(o.ratingCount||0),Re=Array.isArray(o.shopHours)?o.shopHours:[],De=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()]||"monday";o.productCount??d.length;const ve=r&&o.phone?e.createElement("a",{href:`tel:${o.phone}`,className:"inline-flex items-center justify-center rounded-full bg-white/20 px-5 py-2 text-sm font-semibold text-white backdrop-blur transition hover:bg-white/30"},"Appeler la boutique"):e.createElement(ce,{to:"/login",state:{from:`/shop/${t}`},className:"inline-flex items-center justify-center rounded-full border border-white/60 px-5 py-2 text-sm font-semibold text-white transition hover:border-white"},"Connectez-vous pour appeler"),Ne=o?.shopVerified?k?"Boutique suivie":"Suivre la boutique":"Boutique non certifie",_e=async()=>{if(!(!o?._id||_)){if(!r){l("/login",{state:{from:`/shop/${t}`}});return}if(o.shopVerified){T(!0);try{const he=k?await ee.delete(`/users/shops/${o._id}/follow`):await ee.post(`/users/shops/${o._id}/follow`);if(L(!k),w(he.data?.followersCount??C),typeof a=="function"){const qe=(Array.isArray(r.followingShops)?r.followingShops:[]).map(bt=>String(bt)),nt=k?qe.filter(bt=>bt!==String(o._id)):Array.from(new Set([...qe,String(o._id)]));a({followingShops:nt})}}catch(he){console.error(he)}finally{T(!1)}}}},rt=e.createElement("button",{type:"button",onClick:_e,disabled:_||!o?.shopVerified,className:`inline-flex items-center justify-center rounded-full border px-5 py-2 text-sm font-semibold transition motion-safe:hover:scale-105 motion-safe:animate-pulse ${k?"border-white/60 bg-white/20 text-white hover:bg-white/30":"border-white text-white hover:bg-white/10"} ${!o?.shopVerified||_?"opacity-50 cursor-not-allowed motion-safe:animate-none":""}`},_?"Traitement...":Ne),ut=async()=>{ge(!0),Pe("");try{const{data:he}=await ee.get(`/shops/${Le}/reviews`,{params:{page:1,limit:50}});V(Array.isArray(he.reviews)?he.reviews:[])}catch(he){Pe(he.response?.data?.message||he.message||"Impossible de charger les commentaires.")}finally{ge(!1)}},Ke=async()=>{z(!0),await ut()},yt=()=>{z(!1)},It=async he=>{if(he.preventDefault(),!r){l("/login",{state:{from:`/shop/${t}`}});return}const Je=!!R.rating,qe=!!R.comment?.trim();if(!Je&&!qe){te("Ajoutez une note ou un commentaire pour continuer.");return}j(!0),te(""),Q("");try{const nt=Le,{data:bt}=await ee.post(`/shops/${nt}/reviews`,R);ie(bt),O({rating:bt.rating||0,comment:bt.comment||""}),B(!bt.comment?.trim()),Q("Votre avis a bien t enregistr."),D(jt=>jt+1)}catch(nt){te(nt.response?.data?.message||nt.message||"Impossible d'enregistrer votre avis pour l'instant.")}finally{j(!1)}},Vt=he=>{B(!0),O({rating:he.rating||0,comment:he.comment||""}),Q(""),te("")};return e.createElement("main",{className:"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 py-8"},e.createElement("div",{className:"mx-auto flex max-w-7xl flex-col gap-8 px-4 sm:px-6 lg:px-8 text-slate-900"},e.createElement("section",{className:"relative overflow-hidden rounded-[32px] bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white shadow-2xl"},o.shopBanner&&e.createElement("div",{className:"absolute inset-0"},e.createElement("img",{src:o.shopBanner,alt:`Bannire ${o.shopName}`,className:"h-full w-full object-cover"}),e.createElement("div",{className:"absolute inset-0 bg-slate-950/70"})),e.createElement("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at top right, rgba(255,255,255,0.3), transparent 60%), radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15), transparent 45%)"}}),e.createElement("div",{className:"relative z-10 flex flex-col gap-8 px-6 py-10 md:px-10 md:py-12"},e.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},e.createElement("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:items-start sm:gap-5"},e.createElement("div",{className:"h-24 w-24 overflow-hidden rounded-2xl border border-white/40 bg-white/20"},o.shopLogo?e.createElement("img",{src:o.shopLogo,alt:`Logo ${o.shopName}`,className:"h-full w-full object-cover"}):e.createElement("div",{className:"flex h-full w-full items-center justify-center text-xl font-semibold uppercase tracking-wide text-white/90"},o.shopName?.charAt(0)||"B")),e.createElement("div",{className:"w-full space-y-1 text-center text-white sm:text-left"},e.createElement("p",{className:"text-xs uppercase tracking-[0.4em] text-white/80"},"Boutique"),e.createElement("div",{className:"flex flex-col items-center justify-center gap-1 sm:flex-row sm:items-center sm:justify-start"},e.createElement("h1",{className:"text-3xl font-bold leading-tight text-white"},o.shopName),e.createElement(ia,{verified:o.shopVerified})),e.createElement("p",{className:"text-sm text-white/80"},"Gre par ",o.ownerName))),e.createElement("div",{className:"flex flex-col gap-2 text-sm text-white/80"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(yr,{className:"h-4 w-4"}),e.createElement("span",null,"Cre le ",nu(o.createdAt))),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Wt,{className:"h-4 w-4"}),e.createElement("span",null,o.shopAddress||"Adresse non renseigne")))),e.createElement("p",{className:"max-w-2xl text-sm text-white/80"},o.shopDescription||"Aucune description publique na encore t ajoute  cette boutique."),e.createElement("div",{className:"grid gap-4 text-xs uppercase tracking-[0.2em] text-white/80 sm:grid-cols-3"},e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Prod. disponibles"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},au(o.productCount??d.length))),e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Avis"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},tc(J))),e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Abonns"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},au(C)))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 justify-center"},ve,rt,e.createElement(ce,{to:"/shops/verified",className:"inline-flex items-center justify-center rounded-full border border-white/60 bg-white/10 px-5 py-2 text-sm font-semibold text-white transition hover:border-white"},"Dcouvrir dautres boutiques")))),e.createElement("section",{className:"rounded-3xl border border-gray-100 bg-white p-6 shadow-sm font-serif text-slate-800"},e.createElement("article",{className:"space-y-6"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("div",null,e.createElement("h3",{className:"text-base font-semibold text-slate-900"},"Commentaires rcents"),e.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400"},"Slection")),e.createElement("button",{type:"button",onClick:Ke,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-500 transition hover:border-slate-400"},"Voir tous les commentaires")),me&&e.createElement("p",{className:"mt-3 text-xs text-emerald-600"},me),tt&&e.createElement("form",{className:"space-y-4",onSubmit:It},e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-sm font-semibold text-slate-700"},"Votre note"),e.createElement("div",{className:"flex items-center gap-2"},z5.map(he=>e.createElement("button",{type:"button",key:`rating-${he}`,onClick:()=>O(Je=>({...Je,rating:he})),className:`rounded-full border px-3 py-1 text-xs font-semibold transition ${R.rating===he?"border-slate-900 bg-slate-900 text-white":"border-slate-200 bg-white text-slate-600 hover:border-slate-400"}`},e.createElement(cr,{className:"inline-block h-3 w-3 text-amber-500"}),e.createElement("span",{className:"ml-1"},he))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-semibold text-slate-700"},"Commentaire"),e.createElement("textarea",{value:R.comment,onChange:he=>O(Je=>({...Je,comment:he.target.value})),rows:3,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-900 focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-200",placeholder:"Partagez votre exprience avec cette boutique..."})),e.createElement("div",{className:"flex flex-col gap-2"},Y&&e.createElement("p",{className:"text-xs text-red-600"},Y),!r&&e.createElement("p",{className:"text-xs text-slate-500"},e.createElement(ce,{to:"/login",state:{from:`/shop/${t}`},className:"text-indigo-600"},"Connectez-vous")," ","pour laisser un commentaire.")),e.createElement("button",{type:"submit",disabled:I||!r,className:"w-full rounded-2xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-800 disabled:opacity-50"},I?"Envoi en cours":ue?"Mettre  jour mon avis":"Publier mon avis")),!tt&&He&&e.createElement("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700"},e.createElement("p",null,"Votre commentaire est publi."),e.createElement("button",{type:"button",onClick:()=>B(!0),className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-500"},e.createElement(Fo,{className:"h-4 w-4"}),"Modifier")),e.createElement("div",{className:"space-y-4"},p.length?p.map(he=>{const Je=!!r&&!!he.user?._id&&String(he.user._id)===String(r.id);return e.createElement("div",{key:he._id,className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 leading-relaxed text-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(cr,{className:"h-4 w-4 text-amber-500"}),e.createElement("span",{className:"text-sm font-semibold text-slate-800"},tc(he.rating)),e.createElement("span",{className:"text-xs italic text-slate-500"},he.user?.name||he.user?.shopName||"Utilisateur")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("span",{className:"text-xs text-slate-400"},nu(he.createdAt)),Je&&e.createElement("button",{type:"button",onClick:()=>Vt(he),className:"inline-flex items-center justify-center rounded-full p-1 text-slate-500 hover:bg-white/70"},e.createElement(Fo,{className:"h-4 w-4"})))),e.createElement("p",{className:"mt-3 text-sm text-slate-700"},he.comment||"Pas de commentaire fourni."))}):e.createElement("p",{className:"text-sm text-slate-500"},"Aucun commentaire publi pour le moment.")))),e.createElement("section",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,0.7fr)]"},e.createElement("div",{className:"space-y-6"},e.createElement("article",{className:"overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-sm"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-slate-100 bg-gradient-to-r from-slate-50 via-white to-slate-50 px-6 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white shadow-sm ring-1 ring-slate-100"},e.createElement(yr,{className:"h-5 w-5 text-indigo-500"})),e.createElement("div",null,e.createElement("h3",{className:"text-base font-semibold text-slate-900"},"Horaires d'ouverture"),e.createElement("p",{className:"text-xs text-slate-500"},"Planification communique par la boutique"))),e.createElement("span",{className:"rounded-full bg-slate-900/5 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-slate-500"},"Donnes directes")),Re.length?e.createElement("div",{className:"space-y-3 px-6 py-5"},Re.map(he=>{const Je=j5[he.day]||he.day||"Jour",qe=he.closed?"Ferm":he.open&&he.close?`${he.open}  ${he.close}`:"Horaires partiels",nt=he.day===De;return e.createElement("div",{key:`${he.day}-${he.open}-${he.close}`,className:`flex flex-wrap items-center justify-between gap-3 rounded-2xl border px-4 py-3 shadow-sm ${nt?"border-indigo-200 bg-indigo-50/60":"border-slate-100 bg-white"}`},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("p",{className:"text-sm font-semibold text-slate-900"},Je),nt&&e.createElement("span",{className:"rounded-full bg-indigo-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.2em] text-indigo-600"},"Aujourd'hui")),e.createElement("p",{className:"text-xs text-slate-500"},qe)),e.createElement("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${he.closed?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-700"}`},e.createElement("span",{className:`h-2 w-2 rounded-full ${he.closed?"bg-rose-500":"bg-emerald-500"}`}),he.closed?"Ferm":"Ouvert"))})):e.createElement("div",{className:"px-6 py-5"},e.createElement("p",{className:"text-sm text-slate-500"},"Pas encore dhoraire organis."))),e.createElement("article",{className:"rounded-3xl border border-gray-100 bg-white p-6 shadow-sm text-center"},e.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500"},"Note moyenne"),e.createElement("div",{className:"mt-3 flex items-center justify-center gap-2"},e.createElement(cr,{className:"h-6 w-6 text-yellow-500"}),e.createElement("span",{className:"text-4xl font-bold text-gray-900"},tc(J))),e.createElement("p",{className:"mt-2 text-xs text-gray-500"},au(We)," avis vrifis")))),e.createElement("section",{className:"rounded-3xl border border-gray-100 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-400"},"Catalogue"),e.createElement("h2",{className:"text-2xl font-semibold text-gray-900"},"Produits de la boutique"),e.createElement("p",{className:"text-sm text-gray-500"},Ye.length," produit",Ye.length>1?"s":""," affich",Ye.length>1?"s":"")),je.length>0&&e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>E("all"),className:`rounded-full border px-4 py-1 text-xs font-semibold transition ${N==="all"?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`},"Tous"),je.map(he=>e.createElement("button",{key:he,type:"button",onClick:()=>E(he),className:`rounded-full border px-4 py-1 text-xs font-semibold transition ${N===he?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`},he)))),Ye.length?e.createElement("div",{className:"mt-6 grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},Ye.map(he=>e.createElement(Ra,{key:he._id,p:he,hideMobileDiscountBadge:!0}))):e.createElement("div",{className:"mt-6 rounded-2xl border border-dashed border-gray-300 bg-slate-50 px-6 py-12 text-center"},e.createElement("p",{className:"text-lg font-semibold text-gray-700"},je.length&&N!=="all"?`Aucun produit dans la catgorie ${N}.`:"Aucun produit publi pour le moment."),e.createElement(ce,{to:"/",className:"mt-4 inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700"},"Retour  laccueil"))),X&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-8"},e.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl border border-slate-200 bg-white p-6 shadow-2xl"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-lg font-semibold text-slate-900"},"Tous les commentaires"),e.createElement("button",{type:"button",onClick:yt,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100"},e.createElement(Dn,{className:"h-4 w-4"}))),e.createElement("div",{className:"mt-4 h-[60vh] space-y-4 overflow-y-auto pr-2"},fe?e.createElement("p",{className:"text-sm text-slate-500"},"Chargement des commentaires"):we?e.createElement("p",{className:"text-sm text-red-600"},we):G.length?G.map(he=>e.createElement("div",{key:`modal-${he._id}`,className:"rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-700"},e.createElement("div",{className:"flex items-center justify-between text-xs text-slate-500"},e.createElement("span",null,he.user?.name||he.user?.shopName||"Utilisateur"),e.createElement("span",null,nu(he.createdAt))),e.createElement("div",{className:"mt-1 flex items-center gap-2 text-slate-800"},e.createElement(cr,{className:"h-4 w-4 text-amber-500"}),e.createElement("span",{className:"text-sm font-semibold"},tc(he.rating))),e.createElement("p",{className:"mt-2 text-sm text-slate-700"},he.comment||"Pas de commentaire."))):e.createElement("p",{className:"text-sm text-slate-500"},"Aucun commentaire pour cette boutique."))))))}const rc=[{title:"Paiements scuriss",description:"Tous les paiements vers ETS HD Tech Filial sont vrifis manuellement avant la mise en ligne dune annonce."},{title:"Vendeurs vrifis",description:"Les boutiques et les particuliers doivent fournir des informations valides pour publier sur HDMarket."},{title:"Service client ractif",description:"Notre support rpond sous 24h ouvres par email ou WhatsApp pour toute rclamation ou assistance."}];function Po(t=[]){const r=Date.now();return t.map((a,l)=>({...a,id:a.id||`condition-${r}-${l}`}))}function ih(t=[]){return t.map(({title:r,description:a})=>({title:(r||"").trim(),description:(a||"").trim()}))}function F5(){const{user:t}=u.useContext(Bt),r=t?.role==="admin",[a,l]=u.useState("ETS HD Tech Filial"),[o,c]=u.useState(()=>Po(rc)),[d,f]=u.useState({title:"",description:""}),[p,g]=u.useState(null),[y,x]=u.useState(""),[S,v]=u.useState(!0),[N,E]=u.useState(!1),[C,w]=u.useState("");u.useEffect(()=>{let R=!0;return(async()=>{v(!0);try{const{data:I}=await ee.get("/support/help-center");if(!R)return;const j=Array.isArray(I?.conditions)&&I.conditions.length?I.conditions:rc;l(I?.companyName||"ETS HD Tech Filial"),c(Po(j)),w("")}catch(I){if(!R)return;c(Po(rc)),w(I.response?.data?.message||I.message||"Impossible de charger les conditions pour le moment.")}finally{R&&v(!1)}})(),()=>{R=!1}},[]),u.useEffect(()=>{if(!y)return;const R=setTimeout(()=>x(""),3e3);return()=>clearTimeout(R)},[y]);const k=u.useMemo(()=>[{label:"Entreprise",value:a},{label:"Sige social",value:"Brazzaville, Congo"},{label:"Support 24/7",value:"support@hdmarket.cg"},{label:"WhatsApp",value:"+242 06 000 00 00"}],[a]),L=u.useCallback(async(R,O)=>{if(!r)return x("Seuls les administrateurs peuvent enregistrer des changements."),!1;E(!0);try{const I={companyName:a,conditions:ih(R)},{data:j}=await ee.put("/support/help-center",I),Y=Array.isArray(j?.conditions)&&j.conditions.length?j.conditions:ih(R);return c(Po(Y)),l(j?.companyName||a),x(O||"Modifications enregistres."),w(""),!0}catch(I){return x(I.response?.data?.message||I.message||"Impossible denregistrer les modifications."),!1}finally{E(!1)}},[a,r]),_=R=>{if(!r){x("Seuls les administrateurs peuvent modifier les conditions.");return}g(R.id),f({title:R.title,description:R.description})},T=async R=>{if(R.preventDefault(),!r){x("Seuls les administrateurs peuvent enregistrer des changements.");return}if(!d.title.trim()||!d.description.trim()){x("Merci de renseigner un titre et un contenu.");return}const O={title:d.title.trim(),description:d.description.trim()},I=p?o.map(Y=>Y.id===p?{...Y,...O}:Y):[{id:`condition-${Date.now()}`,...O},...o];await L(I,p?"Condition mise  jour avec succs.":"Nouvelle condition ajoute.")&&(f({title:"",description:""}),g(null))},M=()=>{g(null),f({title:"",description:""})},D=async()=>{if(!r){x("Seuls les administrateurs peuvent restaurer la version officielle.");return}const R=Po(rc);await L(R,"Conditions par dfaut restaures.")&&(g(null),f({title:"",description:""}))};return e.createElement("div",{className:"bg-gray-50 min-h-screen"},e.createElement("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-10"},e.createElement("header",{className:"space-y-3"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-widest text-indigo-600"},a),e.createElement("h1",{className:"text-3xl font-extrabold text-gray-900"},"Aide et service client"),e.createElement("p",{className:"text-sm text-gray-600 max-w-2xl"},"Retrouvez les conditions d'utilisation de la plateforme HDMarket, gre par ETS HD Tech Filial, et mettez-les  jour facilement grce au formulaire ddi.")),C&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700"},C),e.createElement("section",{className:"grid gap-4 sm:grid-cols-2"},e.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"rounded-xl bg-indigo-100 p-3 text-indigo-600"},e.createElement(fr,{size:20})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Conditions vrifies"),e.createElement("p",{className:"text-sm text-gray-500"},"Politique de confiance et modration."))),e.createElement("ul",{className:"mt-4 space-y-2 text-sm text-gray-700"},k.map(R=>e.createElement("li",{key:R.label},e.createElement("span",{className:"font-semibold"},R.label," :")," ",R.value)))),e.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Contactez-nous"),e.createElement("div",{className:"space-y-3 text-sm text-gray-700"},e.createElement("p",{className:"flex items-center gap-2"},e.createElement(Vl,{size:16,className:"text-indigo-600"}),"support@hdmarket.cg"),e.createElement("p",{className:"flex items-center gap-2"},e.createElement(hs,{size:16,className:"text-green-600"}),"+242 06 000 00 00"),e.createElement("p",{className:"flex items-center gap-2"},e.createElement(On,{size:16,className:"text-emerald-600"}),"Assistance WhatsApp disponible 7j/7")),e.createElement(ce,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner aux annonces"))),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex items-center justify-between flex-wrap gap-2"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},e.createElement(bn,{size:20,className:"text-indigo-600"}),"Conditions d'utilisation actuelles"),r?e.createElement("button",{type:"button",onClick:D,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:N},e.createElement($o,{size:14}),"Restaurer la version officielle"):e.createElement("p",{className:"text-xs font-medium text-gray-500"},"Lecture seule  modifiable par les administrateurs.")),e.createElement("ul",{className:"space-y-4"},S?e.createElement("li",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500"},"Chargement des conditions"):o.map(R=>e.createElement("li",{key:R.id,className:"rounded-xl border border-gray-100 bg-gray-50 p-4 text-sm text-gray-700 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between gap-3"},e.createElement("p",{className:"text-base font-semibold text-gray-900"},R.title),r&&e.createElement("button",{type:"button",onClick:()=>_(R),className:"inline-flex items-center gap-1 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},e.createElement(Fo,{size:14}),"Modifier")),e.createElement("p",{className:"mt-2 text-gray-600"},R.description))))),r&&e.createElement("section",{className:"rounded-2xl border border-indigo-100 bg-white p-5 shadow-lg space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"rounded-xl bg-indigo-50 p-3 text-indigo-600"},e.createElement(bn,{size:20})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Ajouter ou mettre  jour une condition"),e.createElement("p",{className:"text-sm text-gray-500"},"Ce formulaire vous permet de garder les conditions  jour sans crire de code."))),y&&e.createElement("div",{className:"flex items-center gap-2 rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800"},e.createElement(zn,{size:16}),y),e.createElement("form",{className:"space-y-4",onSubmit:T},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Titre"),e.createElement("input",{type:"text",value:d.title,onChange:R=>f(O=>({...O,title:R.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Ex: Politique de remboursement"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Description"),e.createElement("textarea",{value:d.description,onChange:R=>f(O=>({...O,description:R.target.value})),rows:4,className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Dcrivez clairement la condition d'utilisation."})),e.createElement("div",{className:"flex flex-wrap items-center gap-3"},e.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:N},e.createElement(Gc,{size:16}),N?"Enregistrement":p?"Mettre  jour":"Ajouter la condition"),p&&e.createElement("button",{type:"button",onClick:M,className:"text-sm font-semibold text-gray-600 hover:text-gray-800",disabled:N},"Annuler la modification"))))))}function $5(){const{user:t}=u.useContext(Bt),r=t?.role==="admin",[a,l]=u.useState([]),[o,c]=u.useState([]),d=u.useMemo(()=>a.length?a.reduce((E,C)=>{if(!E)return C;const w=Number(E.ratingCount??0),k=Number(C.ratingCount??0);if(k>w)return C;if(k===w){const L=Number(E.ratingAverage??0);return Number(C.ratingAverage??0)>L?C:E}return E},null):null,[a]),f=u.useMemo(()=>a.length?[...a].sort((E,C)=>Number(C.followersCount??0)-Number(E.followersCount??0)).slice(0,3):[],[a]),[p,g]=u.useState({}),[y,x]=u.useState(!0),[S,v]=u.useState("");u.useEffect(()=>{let E=!0;return(async()=>{x(!0),v("");try{const{data:w}=await ee.get("/shops"),k=Array.isArray(w)?w:[],L=k.filter(T=>T.shopVerified),_=k.filter(T=>!T.shopVerified);if(!E)return;if(l(L),c(_),r)try{const{data:T}=await ee.get("/admin/shops/verified");if(!E)return;const M={};(T||[]).forEach(D=>{M[D.id]=D}),g(M)}catch(T){console.error("Erreur chargement meta admin:",T)}else g({})}catch(w){if(!E)return;v(w.response?.data?.message||w.message||"Impossible de charger les boutiques."),l([]),c([])}finally{E&&x(!1)}})(),()=>{E=!1}},[r]);const N=u.useMemo(()=>r?"Boutiques vrifies (Admin)":"Boutiques vrifies",[r]);return e.createElement("div",{className:"min-h-screen bg-gray-50 py-8"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 space-y-6"},e.createElement("header",{className:"flex flex-col gap-2"},e.createElement("p",{className:"text-sm font-semibold text-emerald-600 flex items-center gap-2"},e.createElement(fr,{size:18}),"Rseau labellis ETS HD Tech Filial"),e.createElement("h1",{className:"text-3xl font-bold text-gray-900"},N),e.createElement("p",{className:"text-sm text-gray-500"},"Dcouvrez les boutiques ayant t vrifies manuellement par l'quipe HDMarket.")),y?e.createElement("div",{className:"flex justify-center py-16"},e.createElement(H1,{className:"w-8 h-8 text-indigo-600 animate-spin"})):S?e.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6 text-center text-red-700"},S):a.length?e.createElement(e.Fragment,null,d&&e.createElement("section",{className:"bg-white rounded-2xl border border-indigo-100 p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-1"},e.createElement("p",{className:"text-xs uppercase font-semibold text-indigo-500 flex items-center gap-2"},e.createElement(k1,{size:16,className:"text-indigo-600"}),"Note & avis"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Boutique la plus commente"),e.createElement("p",{className:"text-sm text-gray-500"},"Cette boutique cumule le plus grand nombre d'avis valids avec les meilleures notes.")),e.createElement(ce,{to:Ir(d),className:"rounded-2xl border border-indigo-50 p-4 shadow-sm h-full flex flex-col gap-4 hover:border-indigo-200 transition-all"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("img",{src:d.shopLogo||"/api/placeholder/120/120",alt:d.shopName,className:"w-16 h-16 rounded-2xl object-cover border border-indigo-100"}),e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900 flex items-center gap-2"},d.shopName,e.createElement(ia,{verified:!0,showLabel:!1})),e.createElement("p",{className:"text-xs text-gray-500 truncate"},d.shopAddress||"Adresse non renseigne"))),e.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(cr,{size:16,className:"text-amber-500"}),Number(d.ratingAverage??0).toFixed(1),"/5"),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(br,{size:16,className:"text-indigo-500"}),d.ratingCount||0," avis"),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(qs,{size:16,className:"text-emerald-500"}),d.followersCount||0," abonns")))),f.length>0&&e.createElement("section",{className:"bg-white rounded-2xl border border-emerald-100 p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-1"},e.createElement("p",{className:"text-xs uppercase font-semibold text-emerald-500 flex items-center gap-2"},e.createElement(qs,{size:16,className:"text-emerald-600"}),"Communaut"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Boutiques les plus suivies"),e.createElement("p",{className:"text-sm text-gray-500"},"Les boutiques qui rassemblent et fidlisent le plus de followers sur HDMarket.")),e.createElement("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3"},f.map(E=>e.createElement(ce,{key:`follower-${E._id}`,to:Ir(E),className:"rounded-2xl border border-emerald-50 bg-white p-4 shadow-sm hover:shadow-md transition-all space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:E.shopLogo||"/api/placeholder/80/80",alt:E.shopName,className:"w-12 h-12 rounded-2xl object-cover border border-emerald-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 truncate flex items-center gap-1"},E.shopName,e.createElement(ia,{verified:!0,showLabel:!1})),e.createElement("p",{className:"text-xs text-gray-500 truncate"},E.shopAddress||"Adresse non renseigne"))),e.createElement("div",{className:"flex flex-col gap-1 text-xs text-gray-600"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(qs,{size:14,className:"text-emerald-500"}),E.followersCount||0," followers"),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(cr,{size:14,className:"text-amber-500"}),Number(E.ratingAverage??0).toFixed(1),"/5  ",E.ratingCount||0," avis")))))),e.createElement("section",{className:"bg-white rounded-2xl border border-indigo-100 p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-1"},e.createElement("p",{className:"text-xs uppercase font-semibold text-indigo-500 flex items-center gap-2"},e.createElement(fr,{size:16,className:"text-indigo-600"}),"Boutique labellise"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Boutiques certifies"),e.createElement("p",{className:"text-sm text-gray-500"},"Dcouvrez l'ensemble des boutiques vrifies et fiables de HDMarket.")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},a.map(E=>{const C=p[String(E._id)];return e.createElement(ce,{key:E._id,to:Ir(E),className:"rounded-2xl border border-gray-100 bg-gradient-to-br from-white to-indigo-50 p-4 hover:border-indigo-200 hover:shadow-lg transition-all space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:E.shopLogo||"/api/placeholder/80/80",alt:E.shopName,className:"w-14 h-14 rounded-2xl object-cover border border-indigo-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 truncate"},E.shopName),e.createElement(ia,{verified:!0,showLabel:!1,className:"mt-1"}),e.createElement("p",{className:"text-xs text-gray-500 truncate"},E.shopAddress||"Adresse non renseigne"))),e.createElement("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(La,{size:14,className:"text-indigo-500"}),E.productCount||0," annonce",E.productCount>1?"s":""),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(cr,{size:14,className:"text-amber-500"}),Number(E.ratingAverage??0).toFixed(1),"/5"),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(br,{size:14,className:"text-indigo-500"}),E.ratingCount||0," avis"),e.createElement("span",{className:"flex items-center gap-2"},e.createElement(qs,{size:14,className:"text-emerald-500"}),E.followersCount||0," abonns")),r&&C?.shopVerifiedBy&&e.createElement("div",{className:"rounded-xl bg-indigo-50 border border-indigo-100 p-3 text-xs text-indigo-900 space-y-1"},e.createElement("p",{className:"flex items-center gap-2 font-semibold"},e.createElement(Jr,{size:14}),"Vrifie par ",C.shopVerifiedBy.name),C.shopVerifiedAt?e.createElement("p",{className:"text-indigo-700"},"Le ",new Date(C.shopVerifiedAt).toLocaleDateString("fr-FR")):null,e.createElement("p",{className:"text-indigo-600"},C.shopVerifiedBy.email)))})))):e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center text-gray-600"},"Aucune boutique vrifie pour le moment."),!y&&!S&&o.length>0&&e.createElement("section",{className:"mt-10 space-y-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase font-semibold text-amber-600 flex items-center gap-2"},e.createElement(fr,{size:16,className:"text-amber-500"}),"Boutiques en attente de vrification"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-1"},"Soumissions rcentes"),e.createElement("p",{className:"text-sm text-gray-500"},"Ces boutiques seront examines prochainement par lquipe HDMarket.")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},o.map(E=>e.createElement(ce,{key:`pending-${E._id}`,to:Ir(E),className:"rounded-2xl border border-amber-100 bg-white p-4 hover:border-amber-200 hover:shadow-md transition-all space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:E.shopLogo||"/api/placeholder/80/80",alt:E.shopName,className:"w-14 h-14 rounded-2xl object-cover border border-amber-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 truncate"},E.shopName||E.name),e.createElement("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1"},e.createElement(Wt,{size:12}),E.shopAddress||"Adresse en cours"))),e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,E.productCount||0," annonce",E.productCount>1?"s":""),e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2 py-1 text-amber-700 border border-amber-100"},"En revue")))))),e.createElement("div",{className:"text-center"},e.createElement(ce,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner  l'accueil"))))}const B5=new Intl.NumberFormat("fr-FR"),St=t=>{const r=Number(t);return!Number.isFinite(r)||r<0?"0":B5.format(r)},os=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Va={listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0,shopsFollowed:0},performance:{views:0,clicks:0,conversion:0},breakdown:{categories:[],conditions:[]},timeline:[],topProducts:[],advertismentSpend:0,orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:{pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0}}},sales:{totalCount:0,totalAmount:0,byStatus:{pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0}}}}},To=({icon:t,label:r,value:a,accent:l})=>e.createElement("div",{className:`rounded-2xl p-5 text-white bg-gradient-to-br ${l} shadow-lg`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"rounded-xl bg-white/20 p-2"},e.createElement(t,{className:"w-5 h-5"})),e.createElement("span",{className:"text-2xl font-bold"},St(a))),e.createElement("p",{className:"text-sm text-white/90 font-medium"},r));function V5(){const{user:t}=u.useContext(Bt),r=ea(),[a,l]=u.useState(Va),[o,c]=u.useState(!0),[d,f]=u.useState(""),[p,g]=u.useState([]),[y,x]=u.useState(!1),[S,v]=u.useState([]),[N,E]=u.useState(!1),[C,w]=u.useState(!1),[k,L]=u.useState(!1),[_,T]=u.useState([]),[M,D]=u.useState(!1),[R,O]=u.useState(""),[I,j]=u.useState(!1),[Y,te]=u.useState([]),[me,Q]=u.useState(!1),[ue,ie]=u.useState(""),H=t?.accountType==="shop"?Ir(t):null;u.useEffect(()=>{if(!t)return;let V=!0;return(async()=>{c(!0),f("");try{const{data:ge}=await ee.get("/users/profile/stats");if(!V)return;l(we=>({...Va,...ge,listings:{...Va.listings,...ge?.listings||{}},engagement:{...Va.engagement,...ge?.engagement||{}},performance:{...Va.performance,...ge?.performance||{}},breakdown:{categories:ge?.breakdown?.categories||[],conditions:ge?.breakdown?.conditions||[]},timeline:ge?.timeline||[],topProducts:ge?.topProducts||[],advertismentSpend:ge?.advertismentSpend??we.advertismentSpend??0,orders:{...Va.orders,...ge?.orders||{},purchases:{...Va.orders.purchases,...ge?.orders?.purchases||{},byStatus:{...Va.orders.purchases.byStatus,...ge?.orders?.purchases?.byStatus||{}}},sales:{...Va.orders.sales,...ge?.orders?.sales||{},byStatus:{...Va.orders.sales.byStatus,...ge?.orders?.sales?.byStatus||{}}}}}))}catch(ge){if(!V)return;f(ge.response?.data?.message||ge.message||"Impossible de charger les statistiques.")}finally{V&&c(!1)}})(),()=>{V=!1}},[t]),u.useEffect(()=>{let V=!0;return(async()=>{if(!t){g([]);return}x(!0);try{const{data:ge}=await ee.get("/users/search-history");if(!V)return;g(Array.isArray(ge)?ge:[])}catch{if(!V)return;g([])}finally{V&&x(!1)}})(),()=>{V=!1}},[t]),u.useEffect(()=>{let V=!0;return(async()=>{if(!t){v([]);return}E(!0);try{const{data:ge}=await ee.get("/users/shops/following");if(!V)return;v(Array.isArray(ge)?ge:[])}catch{if(!V)return;v([])}finally{V&&E(!1)}})(),()=>{V=!1}},[t]),u.useEffect(()=>{!t&&!o&&r("/login")},[t,o,r]),u.useEffect(()=>{if(!k)return;let V=!0;return(async()=>{D(!0),O("");try{const{data:ge}=await ee.get("/orders?limit=100");if(!V)return;const we=Array.isArray(ge)?ge:ge?.items||[],Pe=new Map;we.forEach(je=>{(Array.isArray(je.items)?je.items:[]).forEach(He=>{const tt=He.product?._id||He.product||"",J=He.snapshot?.title||He.product?.title||"Produit",We=tt||J,Re=Number(He.quantity||1),ve=Number(He.snapshot?.price||He.product?.price||0)*Re,Ne=Pe.get(We);if(Ne){Ne.quantity+=Re,Ne.totalSpent+=ve;return}Pe.set(We,{key:We,product:He.product||null,title:J,image:He.snapshot?.image||He.product?.images?.[0]||null,quantity:Re,totalSpent:ve})})});const Le=Array.from(Pe.values()).sort((je,Ye)=>Ye.totalSpent-je.totalSpent);T(Le)}catch(ge){if(!V)return;O(ge.response?.data?.message||"Impossible de charger les produits commands."),T([])}finally{V&&D(!1)}})(),()=>{V=!1}},[k]),u.useEffect(()=>{if(!I)return;let V=!0;return(async()=>{Q(!0),ie("");try{const{data:ge}=await ee.get("/orders/seller?limit=100");if(!V)return;const we=Array.isArray(ge)?ge:ge?.items||[],Pe=new Map;we.forEach(je=>{(Array.isArray(je.items)?je.items:[]).forEach(He=>{const tt=He.product?._id||He.product||"",J=He.snapshot?.title||He.product?.title||"Produit",We=tt||J,Re=Number(He.quantity||1),ve=Number(He.snapshot?.price||He.product?.price||0)*Re,Ne=Pe.get(We);if(Ne){Ne.quantity+=Re,Ne.totalEarned+=ve;return}Pe.set(We,{key:We,product:He.product||null,title:J,image:He.snapshot?.image||He.product?.images?.[0]||null,quantity:Re,totalEarned:ve})})});const Le=Array.from(Pe.values()).sort((je,Ye)=>Ye.totalEarned-je.totalEarned);te(Le)}catch(ge){if(!V)return;ie(ge.response?.data?.message||"Impossible de charger les produits vendus."),te([])}finally{V&&Q(!1)}})(),()=>{V=!1}},[I]);const B=u.useMemo(()=>a.breakdown.categories.reduce((V,fe)=>Math.max(V,fe.count||0),0)||1,[a.breakdown.categories]),X=u.useMemo(()=>a.timeline||[],[a.timeline]),z=u.useMemo(()=>a.orders?.purchases||Va.orders.purchases,[a.orders]),G=u.useMemo(()=>a.orders?.sales||Va.orders.sales,[a.orders]);return t?e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm uppercase tracking-wide text-gray-500"},"Analyse"),e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Statistiques de votre activit"),e.createElement("p",{className:"text-gray-600 text-sm"},"Suivez les performances de votre boutique et l'impact de vos publications.")),e.createElement("div",{className:"flex flex-wrap gap-2 items-center"},e.createElement(ce,{to:"/my",className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"},e.createElement(vr,{className:"w-4 h-4"}),"Mes annonces"),H&&e.createElement(ce,{to:H,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"},e.createElement(La,{className:"w-4 h-4"}),"Ma boutique publique"),e.createElement(ce,{to:"/profile",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700"},e.createElement(La,{className:"w-4 h-4"}),"Mon profil"),e.createElement("div",{className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700"},e.createElement(jl,{className:"w-4 h-4 text-indigo-500"}),"Budget annonces : ",os(a.advertismentSpend)))),o?e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-10 text-center"},e.createElement("div",{className:"mx-auto h-10 w-10 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.createElement("p",{className:"text-sm text-gray-500 mt-4"},"Chargement des statistiques")):d?e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6"},e.createElement("h2",{className:"text-lg font-semibold text-red-800 mb-2"},"Impossible de charger les donnes"),e.createElement("p",{className:"text-sm text-red-600"},d)):e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},e.createElement(To,{icon:vr,label:"Annonces totales",value:a.listings.total,accent:"from-indigo-500 to-blue-600"}),e.createElement(To,{icon:xr,label:"Approuves",value:a.listings.approved,accent:"from-emerald-500 to-green-600"}),e.createElement(To,{icon:Dr,label:"Favoris reus",value:a.engagement.favoritesReceived,accent:"from-pink-500 to-rose-600"}),e.createElement(To,{icon:br,label:"Contacts WhatsApp",value:a.performance.clicks,accent:"from-purple-500 to-indigo-600"}),e.createElement(To,{icon:La,label:"Boutiques suivies",value:a.engagement.shopsFollowed,accent:"from-emerald-500 to-teal-600"}),e.createElement("div",{className:"rounded-2xl p-5 bg-white border border-gray-100 flex flex-col gap-2"},e.createElement("p",{className:"text-sm font-semibold text-gray-600"},"Dpenses annonces"),e.createElement("p",{className:"text-2xl font-bold text-gray-900"},os(a.advertismentSpend)),e.createElement("p",{className:"text-xs text-gray-500"},"Total des frais confirms pour vos publications."))),e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm uppercase tracking-wide text-gray-500"},"Boutiques suivies"),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},a.engagement.shopsFollowed?`${a.engagement.shopsFollowed} boutique(s)`:"Aucune boutique suivie")),e.createElement("div",{className:"flex items-center gap-3"},S.length>0&&e.createElement("button",{type:"button",onClick:()=>w(!0),className:"text-xs font-semibold text-indigo-600 hover:underline"},"Voir toutes"),e.createElement(ce,{to:"/shops/verified",className:"text-xs font-semibold text-indigo-600 hover:underline"},"Explorer les boutiques"))),N?e.createElement("div",{className:"space-y-2"},[1,2].map(V=>e.createElement("div",{key:V,className:"h-12 rounded-2xl bg-gray-100 animate-pulse"}))):S.length?e.createElement("div",{className:"grid gap-3 sm:grid-cols-2"},S.map(V=>e.createElement(ce,{key:V._id,to:Ir(V),className:"flex items-center gap-3 rounded-2xl border border-gray-100 p-3 hover:border-indigo-200 transition-colors"},e.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden"},V.shopLogo?e.createElement("img",{src:V.shopLogo,alt:V.shopName,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-500 text-sm font-semibold"},V.shopName?.charAt(0)||"B")),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-semibold text-gray-900"},V.shopName),e.createElement("p",{className:"text-xs text-gray-500"},V.followersCount?.toLocaleString("fr-FR")||0," abonn(s)")),V.shopVerified&&e.createElement("span",{className:"text-emerald-600 text-xs font-semibold"},"Certifie")))):e.createElement("p",{className:"text-sm text-gray-500"},"Suivez des boutiques pour les retrouver facilement ici.")),C&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>w(!1)}),e.createElement("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Boutiques suivies"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},S.length?`${S.length} boutique(s)`:"Aucune boutique suivie")),e.createElement("button",{type:"button",onClick:()=>w(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},e.createElement(Dn,{size:16}))),N?e.createElement("div",{className:"space-y-3"},[1,2,3].map(V=>e.createElement("div",{key:V,className:"h-12 rounded-2xl bg-gray-100 animate-pulse"}))):S.length?e.createElement("div",{className:"grid gap-3 sm:grid-cols-2"},S.map(V=>e.createElement(ce,{key:V._id,to:Ir(V),className:"flex items-center gap-3 rounded-2xl border border-gray-100 p-3 hover:border-indigo-200 transition-colors",onClick:()=>w(!1)},e.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden"},V.shopLogo?e.createElement("img",{src:V.shopLogo,alt:V.shopName,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-500 text-sm font-semibold"},V.shopName?.charAt(0)||"B")),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-semibold text-gray-900"},V.shopName),e.createElement("p",{className:"text-xs text-gray-500"},V.followersCount?.toLocaleString("fr-FR")||0," abonn(s)")),V.shopVerified&&e.createElement("span",{className:"text-emerald-600 text-xs font-semibold"},"Certifie")))):e.createElement("p",{className:"text-sm text-gray-500"},"Suivez des boutiques pour les retrouver facilement ici."))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"},e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm uppercase tracking-wide text-gray-500"},"Commandes"),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},z.totalCount?`${St(z.totalCount)} commande(s)`:"Aucune commande")),e.createElement("div",{className:"flex items-center gap-3"},z.totalItems>0&&e.createElement("button",{type:"button",onClick:()=>L(!0),className:"text-xs font-semibold text-indigo-600 hover:underline"},"Produits commands"),e.createElement("span",{className:"text-xs font-semibold text-indigo-600"},"Dpenses"))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm"},e.createElement("div",{className:"rounded-xl bg-indigo-50 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-600 font-semibold"},"Total dpens"),e.createElement("p",{className:"text-lg font-bold text-indigo-700"},os(z.totalAmount))),e.createElement("div",{className:"rounded-xl bg-emerald-50 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-emerald-600 font-semibold"},"Acompte vers"),e.createElement("p",{className:"text-lg font-bold text-emerald-700"},os(z.paidAmount))),e.createElement("div",{className:"rounded-xl bg-amber-50 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-amber-600 font-semibold"},"Reste  payer"),e.createElement("p",{className:"text-lg font-bold text-amber-700"},os(z.remainingAmount))),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Statuts"),e.createElement("div",{className:"mt-1 space-y-1 text-xs text-gray-600"},e.createElement("p",null,"En attente : ",St(z.byStatus?.pending?.count||0)),e.createElement("p",null,"Confirmes : ",St(z.byStatus?.confirmed?.count||0)),e.createElement("p",null,"En cours : ",St(z.byStatus?.delivering?.count||0)),e.createElement("p",null,"Livres : ",St(z.byStatus?.delivered?.count||0)))))),e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm uppercase tracking-wide text-gray-500"},"Ventes"),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},G.totalCount?`${St(G.totalCount)} commande(s)`:"Aucune vente")),e.createElement("div",{className:"flex items-center gap-3"},G.totalCount>0&&e.createElement("button",{type:"button",onClick:()=>j(!0),className:"text-xs font-semibold text-emerald-600 hover:underline"},"Produits vendus"),e.createElement("span",{className:"text-xs font-semibold text-emerald-600"},"Gains"))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm"},e.createElement("div",{className:"rounded-xl bg-emerald-50 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-emerald-600 font-semibold"},"Gains estims"),e.createElement("p",{className:"text-lg font-bold text-emerald-700"},os(G.totalAmount))),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Commandes reues"),e.createElement("p",{className:"text-lg font-bold text-gray-900"},St(G.totalCount))),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3 sm:col-span-2"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Statuts"),e.createElement("div",{className:"mt-1 grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs text-gray-600"},e.createElement("p",null,"En attente : ",St(G.byStatus?.pending?.count||0)),e.createElement("p",null,"Confirmes : ",St(G.byStatus?.confirmed?.count||0)),e.createElement("p",null,"En cours : ",St(G.byStatus?.delivering?.count||0)),e.createElement("p",null,"Livres : ",St(G.byStatus?.delivered?.count||0))))))),k&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>L(!1)}),e.createElement("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Produits commands"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},z.totalItems?`${St(z.totalItems)} produit(s)`:"Aucun produit command")),e.createElement("button",{type:"button",onClick:()=>L(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},e.createElement(Dn,{size:16}))),e.createElement("div",{className:"grid gap-3 text-sm"},e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"En attente"),e.createElement("p",{className:"text-lg font-bold text-gray-900"},St(z.byStatus?.pending?.items||0)," produit(s)")),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Confirmes"),e.createElement("p",{className:"text-lg font-bold text-gray-900"},St(z.byStatus?.confirmed?.items||0)," produit(s)")),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"En cours de livraison"),e.createElement("p",{className:"text-lg font-bold text-gray-900"},St(z.byStatus?.delivering?.items||0)," produit(s)")),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Livres"),e.createElement("p",{className:"text-lg font-bold text-gray-900"},St(z.byStatus?.delivered?.items||0)," produit(s)")),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Produits commands"),M?e.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Chargement..."):R?e.createElement("p",{className:"text-sm text-red-600 mt-2"},R):_.length?e.createElement("div",{className:"mt-2 space-y-2"},_.map(V=>{const fe=e.createElement("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 p-2 hover:border-indigo-200 transition-colors"},e.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden"},V.image?e.createElement("img",{src:V.image,alt:V.title,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center text-indigo-500 text-sm font-semibold"},V.title?.charAt(0)||"P")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},V.title),e.createElement("p",{className:"text-xs text-gray-500"},St(V.quantity)," article(s)  ",os(V.totalSpent))));return V.product?e.createElement(ce,{key:V.key,to:Ft(V.product),className:"block"},fe):e.createElement("div",{key:V.key},fe)})):e.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Aucun produit command."))))),I&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>j(!1)}),e.createElement("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Produits vendus"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},G.totalCount?`${St(G.totalCount)} commande(s)`:"Aucune vente")),e.createElement("button",{type:"button",onClick:()=>j(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},e.createElement(Dn,{size:16}))),e.createElement("div",{className:"grid gap-3 text-sm"},e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Statuts"),e.createElement("div",{className:"mt-1 grid grid-cols-2 gap-2 text-xs text-gray-600"},e.createElement("p",null,"En attente : ",St(G.byStatus?.pending?.count||0)),e.createElement("p",null,"Confirmes : ",St(G.byStatus?.confirmed?.count||0)),e.createElement("p",null,"En cours : ",St(G.byStatus?.delivering?.count||0)),e.createElement("p",null,"Livres : ",St(G.byStatus?.delivered?.count||0)))),e.createElement("div",{className:"rounded-xl border border-gray-100 p-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500 font-semibold"},"Produits vendus"),me?e.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Chargement..."):ue?e.createElement("p",{className:"text-sm text-red-600 mt-2"},ue):Y.length?e.createElement("div",{className:"mt-2 space-y-2"},Y.map(V=>{const fe=e.createElement("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 p-2 hover:border-emerald-200 transition-colors"},e.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden"},V.image?e.createElement("img",{src:V.image,alt:V.title,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-gradient-to-br from-emerald-100 to-teal-100 flex items-center justify-center text-emerald-600 text-sm font-semibold"},V.title?.charAt(0)||"P")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},V.title),e.createElement("p",{className:"text-xs text-gray-500"},St(V.quantity)," article(s)  ",os(V.totalEarned))));return V.product?e.createElement(ce,{key:V.key,to:Ft(V.product),className:"block"},fe):e.createElement("div",{key:V.key},fe)})):e.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Aucun produit vendu."))))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"},e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(jl,{className:"w-5 h-5 text-indigo-500"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Catgories les plus actives")),a.breakdown.categories.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Publiez des annonces pour voir vos catgories performantes."):e.createElement("div",{className:"space-y-3"},a.breakdown.categories.map(V=>e.createElement("div",{key:V.category,className:"space-y-1"},e.createElement("div",{className:"flex items-center justify-between text-sm text-gray-600"},e.createElement("span",{className:"capitalize"},V.category),e.createElement("span",{className:"font-semibold text-gray-900"},St(V.count))),e.createElement("div",{className:"h-2 rounded-full bg-gray-100"},e.createElement("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-500 to-purple-500",style:{width:`${V.count/B*100}%`}})))))),e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(Rl,{className:"w-5 h-5 text-green-500"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Performance globale")),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",{className:"rounded-xl bg-green-50 border border-green-100 p-4"},e.createElement("p",{className:"text-xs uppercase text-green-800 font-semibold"},"Conversion estime"),e.createElement("p",{className:"text-3xl font-bold text-green-700 mt-1"},a.performance.conversion,"%"),e.createElement("p",{className:"text-xs text-green-600 mt-1"},"Bas sur vos annonces approuves")),e.createElement("div",{className:"rounded-xl bg-blue-50 border border-blue-100 p-4"},e.createElement("p",{className:"text-xs uppercase text-blue-800 font-semibold"},"Commentaires reus"),e.createElement("p",{className:"text-3xl font-bold text-blue-700 mt-1"},St(a.engagement.commentsReceived)),e.createElement("p",{className:"text-xs text-blue-600 mt-1"},"Interactions clients")),e.createElement("div",{className:"rounded-xl bg-purple-50 border border-purple-100 p-4"},e.createElement("p",{className:"text-xs uppercase text-purple-800 font-semibold"},"Favoris sauvegards"),e.createElement("p",{className:"text-3xl font-bold text-purple-700 mt-1"},St(a.engagement.favoritesSaved)),e.createElement("p",{className:"text-xs text-purple-600 mt-1"},"Dans votre liste personnelle")),e.createElement("div",{className:"rounded-xl bg-amber-50 border border-amber-100 p-4"},e.createElement("p",{className:"text-xs uppercase text-amber-800 font-semibold"},"Statut des annonces"),e.createElement("p",{className:"text-sm text-amber-700 mt-1"},St(a.listings.pending)," en attente  ",St(a.listings.rejected)," rejetes"),e.createElement("p",{className:"text-xs text-amber-600 mt-1"},"Pensez  suivre vos dossiers"))))),e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(Ws,{className:"w-5 h-5 text-pink-500"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Publications rcentes")),X.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Publiez vos premires annonces pour voir l'activit mensuelle."):e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3"},X.map(V=>e.createElement("div",{key:`${V.year}-${V.month}`,className:"rounded-xl border border-gray-100 p-3 text-center"},e.createElement("p",{className:"text-xs uppercase text-gray-500"},V.label),e.createElement("p",{className:"text-xl font-bold text-gray-900"},St(V.count)),e.createElement("p",{className:"text-[11px] text-gray-500"},St(V.favorites)," favoris  ",St(V.clicks)," clics"))))),e.createElement("div",{className:"bg-white border border-gray-100 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(cr,{className:"w-5 h-5 text-amber-500"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Meilleures annonces")),a.topProducts.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Ds que vos annonces reoivent des interactions, elles apparatront ici."):e.createElement("div",{className:"space-y-4"},a.topProducts.map(V=>e.createElement("div",{key:V._id,className:"flex flex-col sm:flex-row sm:items-center gap-4 p-4 rounded-2xl border border-gray-100 hover:border-indigo-200 transition-colors"},e.createElement("div",{className:"flex items-center gap-4 flex-1"},e.createElement("img",{src:V.image||"/api/placeholder/80/80",alt:V.title,className:"w-16 h-16 rounded-xl object-cover border"}),e.createElement("div",{className:"space-y-1"},e.createElement(ce,{to:Ft(V),className:"font-semibold text-gray-900 hover:text-indigo-600"},V.title),e.createElement("p",{className:"text-sm text-gray-500 capitalize"},V.category||"Sans catgorie"),e.createElement("p",{className:"text-sm font-semibold text-gray-900"},Number(V.price||0).toLocaleString("fr-FR")," FCFA"))),e.createElement("div",{className:"flex items-center gap-4 text-sm text-gray-600"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(Dr,{className:"w-4 h-4 text-pink-500"})," ",St(V.favorites)),e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(br,{className:"w-4 h-4 text-green-500"})," ",St(V.whatsappClicks))))))))):e.createElement("div",{className:"max-w-3xl mx-auto px-4 py-16 text-center"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Connectez-vous pour voir vos statistiques"),e.createElement("p",{className:"text-gray-600 mb-6"},"Vos performances et insights personnaliss sont accessibles aprs authentification."),e.createElement(ce,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 rounded-2xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors"},e.createElement(an,{className:"w-4 h-4"}),"Retour  la connexion"))}const ac={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine"},q5={pending:"border-gray-200 bg-gray-50 text-gray-700",confirmed:"border-yellow-200 bg-yellow-50 text-yellow-800",delivering:"border-blue-200 bg-blue-50 text-blue-800",delivered:"border-green-200 bg-green-50 text-green-800"},U5=[{key:"all",label:"Toutes les commandes"},{key:"pending",label:"En attente"},{key:"confirmed",label:"Confirmes"},{key:"delivering",label:"En cours de livraison"},{key:"delivered",label:"Livres"}],H5=6,ch=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation.",icon:yr},{id:"confirmed",label:"Commande confirme",description:"Un gestionnaire a valid la commande et prpare lexpdition.",icon:vr},{id:"delivering",label:"En cours de livraison",description:"Le colis est pris en charge par le livreur et se dirige vers vous.",icon:Nr},{id:"delivered",label:"Commande termine",description:"La commande est livre et archive par nos quipes.",icon:xr}],su=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,W5=({status:t})=>{const r=ch.findIndex(l=>l.id===t),a=r>=0?r:0;return e.createElement("div",{className:"mt-4 border border-gray-100 rounded-2xl p-3 bg-gray-50"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-3"},"Suivi commande"),e.createElement("div",{className:"space-y-4"},ch.map((l,o)=>{const c=l.icon,d=a>=o,f=a===o;return e.createElement("div",{key:l.id,className:"flex items-start gap-3"},e.createElement("div",{className:`mt-0.5 w-9 h-9 rounded-full border-2 flex items-center justify-center ${d?"border-indigo-600 text-indigo-600 bg-white":"border-gray-200 text-gray-400 bg-white"}`},e.createElement(c,{size:16})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm font-semibold ${d?"text-gray-900":"text-gray-500"}`},l.label,f&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700"},l.id==="delivered"?"Termine":l.id==="pending"?"En attente":"En cours"),!f&&d&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-green-100 text-green-700"},"Termine")),e.createElement("p",{className:"text-xs text-gray-500"},l.description)))})))};function dh(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState({total:0,totalPages:1}),{status:y}=bs(),x=u.useMemo(()=>y&&Object.keys(ac).includes(y)?y:"all",[y]);u.useEffect(()=>{f(1)},[x]),u.useEffect(()=>{(async()=>{l(!0),c("");try{const N=new URLSearchParams;N.set("page",d),N.set("limit",H5),x!=="all"&&N.set("status",x);const{data:E}=await ee.get(`/orders?${N.toString()}`),C=Array.isArray(E)?E:E?.items||[],w=Math.max(1,Number(E?.totalPages)||1);r(C),g({total:E?.total??C.length,totalPages:w});const k=Number(E?.page);Number.isFinite(k)&&k>0&&k!==d&&f(k)}catch(N){c(N.response?.data?.message||"Impossible de charger vos commandes."),r([]),g({total:0,totalPages:1})}finally{l(!1)}})()},[x,d]);const S=x==="all"?"Vous navez pas encore de commande.":`Aucune commande ${ac[x].toLowerCase()} pour le moment.`;return e.createElement("div",{className:"max-w-5xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6"},e.createElement("header",{className:"space-y-4"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},e.createElement(Qr,{className:"w-6 h-6 text-indigo-600"}),"Mes commandes"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez ici vos commandes enregistres par nos quipes.")),e.createElement(ce,{to:"/",className:"text-sm text-indigo-600 hover:text-indigo-500"},"Retour  laccueil")),e.createElement("div",{className:"flex flex-wrap gap-2"},U5.map(v=>{const N=v.key===x,E=v.key==="all"?"/orders":`/orders/${v.key}`;return e.createElement(ce,{key:v.key,to:E,className:`px-4 py-2 rounded-full text-sm font-medium border transition-colors ${N?"bg-indigo-600 text-white border-indigo-600 shadow":"border-gray-200 text-gray-600 hover:bg-gray-50"}`},v.label)}))),a?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):o?e.createElement("p",{className:"text-sm text-red-600"},o):t.length===0?e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 text-center text-sm text-gray-500"},S):e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-4"},t.map(v=>{const N=v.items&&v.items.length?v.items:v.productSnapshot?[{snapshot:v.productSnapshot,quantity:1}]:[],E=N.reduce((M,D)=>M+Number(D.snapshot?.price||0)*Number(D.quantity||1),0),C=Number(v.totalAmount??E),w=Number(v.paidAmount||0),k=Number(v.remainingAmount??Math.max(0,C-w)),L=!!(w||v.paymentTransactionCode||v.paymentName),T=(v.createdBy?._id&&v.customer?._id?v.createdBy._id===v.customer._id:!1)?"Gestionnaire : Vous":`Gestionnaire : ${v.createdBy?.name||v.createdBy?.email||"Admin HDMarket"}`;return e.createElement("div",{key:v._id,className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-3"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Commande #",v._id.slice(-6)),e.createElement("div",{className:"text-sm text-gray-600 space-y-1 mt-1"},N.map(M=>e.createElement("div",{key:`${v._id}-${M.product||M.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center gap-2"},M.product?e.createElement(ce,{to:Ft(M.product),className:"font-semibold text-gray-900 hover:text-indigo-600"},M.snapshot?.title||"Produit"):e.createElement("span",{className:"font-semibold text-gray-900"},M.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",M.quantity,"  ",Number(M.snapshot?.price||0).toLocaleString()," FCFA")),M.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",M.snapshot.confirmationNumber)))),e.createElement("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-gray-500"},e.createElement("div",{className:"inline-flex items-center gap-1 text-gray-600"},e.createElement(Ha,{size:13,className:"text-indigo-500"}),e.createElement("span",null,T)),e.createElement("span",{className:"hidden sm:block text-gray-300"},""),e.createElement("span",{className:"font-semibold text-gray-700"},"Statut : ",ac[v.status]))),e.createElement("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border ${q5[v.status]}`},v.status==="pending"&&e.createElement(yr,{size:14}),v.status==="confirmed"&&e.createElement(vr,{size:14}),v.status==="delivering"&&e.createElement(Nr,{size:14}),v.status==="delivered"&&e.createElement(xr,{size:14}),ac[v.status])),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},"Livraison"),e.createElement("p",null,v.deliveryAddress),e.createElement("p",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(Wt,{size:13}),v.deliveryCity)),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"font-semibold text-gray-900"},"Suivi"),v.trackingNote?e.createElement("p",{className:"text-sm"},v.trackingNote):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune note ajoute pour le moment."))),L&&e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},"Paiement"),e.createElement("p",null,"Acompte vers : ",Number(w).toLocaleString()," FCFA"),e.createElement("p",null,"Reste  payer : ",Number(k).toLocaleString()," FCFA")),e.createElement("div",{className:"space-y-1 text-xs text-gray-500"},v.paymentName&&e.createElement("p",null,"Payeur : ",v.paymentName),v.paymentTransactionCode&&e.createElement("p",null,"Code transaction : ",v.paymentTransactionCode))),e.createElement(W5,{status:v.status}),e.createElement("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(yr,{size:12}),"Cre le ",su(v.createdAt)),v.shippedAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Nr,{size:12}),"Expdie le ",su(v.shippedAt)),v.deliveredAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(xr,{size:12}),"Livre le ",su(v.deliveredAt))))})),p.totalPages>1&&e.createElement("div",{className:"mt-6 flex flex-col items-center gap-3 sm:flex-row sm:justify-between border-t border-gray-100 pt-4"},e.createElement("p",{className:"text-sm text-gray-500"},"Page ",d," sur ",p.totalPages,"  ",p.total," commande",p.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>f(v=>Math.max(1,v-1)),disabled:d<=1,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(v=>Math.min(p.totalPages,v+1)),disabled:d>=p.totalPages,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50"},"Suivant")))))}const lu={pending:"En attente",confirmed:"Confirme",delivering:"En cours de livraison",delivered:"Livre"},G5={pending:"border-gray-200 bg-gray-50 text-gray-700",confirmed:"border-yellow-200 bg-yellow-50 text-yellow-800",delivering:"border-blue-200 bg-blue-50 text-blue-800",delivered:"border-green-200 bg-green-50 text-green-800"},K5=[{key:"all",label:"Toutes les commandes"},{key:"pending",label:"En attente"},{key:"confirmed",label:"Confirmes"},{key:"delivering",label:"En cours de livraison"},{key:"delivered",label:"Livres"}],Y5=6,mh=t=>Number(t||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}),ou=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null;function uh(){const{user:t}=u.useContext(Bt),{showToast:r}=Yo(),[a,l]=u.useState([]),[o,c]=u.useState(!1),[d,f]=u.useState(""),[p,g]=u.useState(1),[y,x]=u.useState({total:0,totalPages:1}),[S,v]=u.useState(""),[N,E]=u.useState({id:"",message:""}),{status:C}=bs();if(t?.role==="admin")return e.createElement(Do,{to:"/admin/orders",replace:!0});const w=u.useMemo(()=>C&&Object.keys(lu).includes(C)?C:"all",[C]);u.useEffect(()=>{g(1)},[w]),u.useEffect(()=>{(async()=>{c(!0),f("");try{const T=new URLSearchParams;T.set("page",p),T.set("limit",Y5),w!=="all"&&T.set("status",w);const{data:M}=await ee.get(`/orders/seller?${T.toString()}`),D=Array.isArray(M)?M:M?.items||[],R=Math.max(1,Number(M?.totalPages)||1);l(D),x({total:M?.total??D.length,totalPages:R});const O=Number(M?.page);Number.isFinite(O)&&O>0&&O!==p&&g(O)}catch(T){f(T.response?.data?.message||"Impossible de charger les commandes clients."),l([]),x({total:0,totalPages:1})}finally{c(!1)}})()},[w,p]);const k=async(_,T)=>{v(_),E({id:"",message:""});try{const{data:M}=await ee.patch(`/orders/seller/${_}/status`,{status:T});l(D=>D.map(R=>R._id===_?M:R)),r("Statut de la commande mis  jour.",{variant:"success"})}catch(M){const D=M.response?.data?.message||"Impossible de mettre  jour le statut.";E({id:_,message:D}),r(D,{variant:"error"})}finally{v("")}},L=w==="all"?"Aucune commande client pour le moment.":`Aucune commande ${lu[w].toLowerCase()} pour le moment.`;return e.createElement("div",{className:"max-w-5xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6"},e.createElement("header",{className:"space-y-4"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},e.createElement(Qr,{className:"w-6 h-6 text-indigo-600"}),"Commandes clients"),e.createElement("p",{className:"text-sm text-gray-500"},"Suivez les commandes passes sur vos produits et mettez  jour leur statut.")),e.createElement(ce,{to:"/",className:"text-sm text-indigo-600 hover:text-indigo-500"},"Retour  laccueil")),e.createElement("div",{className:"flex flex-wrap gap-2"},K5.map(_=>{const T=_.key===w,M=_.key==="all"?"/seller/orders":`/seller/orders/${_.key}`;return e.createElement(ce,{key:_.key,to:M,className:`px-4 py-2 rounded-full text-sm font-medium border transition-colors ${T?"bg-indigo-600 text-white border-indigo-600 shadow":"border-gray-200 text-gray-600 hover:bg-gray-50"}`},_.label)}))),o?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):d?e.createElement("p",{className:"text-sm text-red-600"},d):a.length===0?e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 text-center text-sm text-gray-500"},L):e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-4"},a.map(_=>{const T=Array.isArray(_.items)?_.items:[],M=T.reduce((I,j)=>I+Number(j.snapshot?.price||0)*Number(j.quantity||1),0),D=Number(_.totalAmount??M),R=Number(_.paidAmount||0),O=Number(_.remainingAmount??Math.max(0,D-R));return e.createElement("div",{key:_._id,className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-3"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Commande #",_._id.slice(-6)),e.createElement("div",{className:"text-sm text-gray-600 space-y-1 mt-1"},T.map(I=>e.createElement("div",{key:`${_._id}-${I.product||I.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center gap-2"},I.product?e.createElement(ce,{to:Ft(I.product),className:"font-semibold text-gray-900 hover:text-indigo-600"},I.snapshot?.title||"Produit"):e.createElement("span",{className:"font-semibold text-gray-900"},I.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",I.quantity,"  ",Number(I.snapshot?.price||0).toLocaleString()," FCFA")),I.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",I.snapshot.confirmationNumber))))),e.createElement("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border ${G5[_.status]}`},_.status==="pending"&&e.createElement(yr,{size:14}),_.status==="confirmed"&&e.createElement(vr,{size:14}),_.status==="delivering"&&e.createElement(Nr,{size:14}),_.status==="delivered"&&e.createElement(xr,{size:14}),lu[_.status])),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"font-semibold text-gray-900"},"Client"),e.createElement("p",{className:"flex items-center gap-2"},e.createElement(Jr,{size:14,className:"text-gray-500"}),_.customer?.name||"Client"),e.createElement("p",{className:"text-xs text-gray-500"},_.customer?.phone),e.createElement("p",{className:"text-xs text-gray-500"},_.customer?.email)),e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},"Livraison"),e.createElement("p",null,_.deliveryAddress),e.createElement("p",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(Wt,{size:13}),_.deliveryCity))),e.createElement("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3 text-xs text-slate-600 space-y-1"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500"},"Paiement"),e.createElement("p",null,"Acompte vers:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},mh(R)," FCFA")),e.createElement("p",null,"Reste  payer:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},mh(O)," FCFA")),e.createElement("p",null,"Nom du payeur: ",_.paymentName||"Non renseign"),e.createElement("p",null,"Transaction: ",_.paymentTransactionCode||"Non renseign")),e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-3 space-y-2 text-sm"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Mettre  jour le statut"),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:()=>k(_._id,"confirmed"),disabled:_.status!=="pending"||S===_._id,className:"inline-flex items-center gap-2 rounded-full border border-yellow-200 bg-yellow-50 px-3 py-1 text-xs font-semibold text-yellow-700 hover:bg-yellow-100 disabled:opacity-50"},e.createElement(vr,{size:12}),"Confirmer"),e.createElement("button",{type:"button",onClick:()=>k(_._id,"delivering"),disabled:_.status!=="confirmed"||S===_._id,className:"inline-flex items-center gap-2 rounded-full border border-blue-200 bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-700 hover:bg-blue-100 disabled:opacity-50"},e.createElement(Nr,{size:12}),"En cours de livraison"),e.createElement("button",{type:"button",onClick:()=>k(_._id,"delivered"),disabled:_.status!=="delivering"||S===_._id,className:"inline-flex items-center gap-2 rounded-full border border-green-200 bg-green-50 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-100 disabled:opacity-50"},e.createElement(xr,{size:12}),"Marquer livre")),N.id===_._id&&e.createElement("p",{className:"text-xs text-red-600"},N.message)),e.createElement("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(yr,{size:12}),"Cre le ",ou(_.createdAt)),_.shippedAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Nr,{size:12}),"Expdie le ",ou(_.shippedAt)),_.deliveredAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(xr,{size:12}),"Livre le ",ou(_.deliveredAt))))})),y.totalPages>1&&e.createElement("div",{className:"mt-6 flex flex-col items-center gap-3 sm:flex-row sm:justify-between border-t border-gray-100 pt-4"},e.createElement("p",{className:"text-sm text-gray-500"},"Page ",p," sur ",y.totalPages,"  ",y.total," commande",y.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>g(_=>Math.max(1,_-1)),disabled:p<=1,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>g(_=>Math.min(y.totalPages,_+1)),disabled:p>=y.totalPages,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50"},"Suivant")))))}const In=t=>Number(t||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0});function Q5(){const{cart:t,clearCart:r}=u.useContext(Gl),{user:a}=u.useContext(Bt),{showToast:l}=Yo(),o=ea(),[c,d]=u.useState({}),[f,p]=u.useState(!1),[g,y]=u.useState(""),x=t.totals||{subtotal:0},S=u.useMemo(()=>Math.round((x.subtotal||0)*.25),[x.subtotal]),v=Math.max(0,Number(x.subtotal||0)-S),N=t.items||[],E=u.useMemo(()=>{const k=new Map;return N.forEach(L=>{const _=L?.product?.user||null,T=_?._id,M=T?String(T):"unknown",D=_?.shopName||_?.name||"Vendeur",R=_?.phone||L?.product?.contactPhone||"";k.has(M)||k.set(M,{sellerId:M,sellerName:D,sellerPhone:R,items:[],subtotal:0});const O=k.get(M);O.items.push(L),O.subtotal+=Number(L?.lineTotal||0)}),Array.from(k.values())},[N]);u.useEffect(()=>{d(k=>{const L={};return E.forEach(_=>{const T=_.sellerId,M=k[T]||{};L[T]={payerName:M.payerName??a?.name??"",transactionCode:M.transactionCode??""}}),L})},[E,a?.name]);const C=async k=>{if(k.preventDefault(),!N.length){y("Votre panier est vide.");return}if(E.some(T=>!T.sellerId||T.sellerId==="unknown")){y("Impossible de dterminer le vendeur pour certains articles.");return}if(E.some(T=>{const M=c[T.sellerId]||{};return!M.payerName?.trim()||!M.transactionCode?.trim()})){y(E.length>1?"Veuillez renseigner le nom et le code de transaction pour chaque vendeur.":"Veuillez renseigner le nom et le code de transaction.");return}p(!0),y("");try{await ee.post("/orders/checkout",{payments:E.map(T=>{const M=c[T.sellerId]||{};return{sellerId:T.sellerId,payerName:M.payerName.trim(),transactionCode:M.transactionCode.trim()}})}),await r(),l("Commande enregistre. Elle est en attente de validation.",{variant:"success"}),o("/orders")}catch(T){const M=T.response?.data?.message||"Impossible de confirmer la commande.";y(M),l(M,{variant:"error"})}finally{p(!1)}},w=(k,L,_)=>{d(T=>({...T,[k]:{...T[k]||{},[L]:_}}))};return N.length?e.createElement("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-6"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Confirmer votre commande"),e.createElement("p",{className:"text-sm text-gray-500"},"Un acompte de 25% est requis pour confirmer votre commande.")),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-6"},e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-5 space-y-4"},e.createElement("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500"},"Rsum"),e.createElement("div",{className:"space-y-3"},N.map(({product:k,quantity:L,lineTotal:_})=>e.createElement("div",{key:k._id,className:"flex items-center justify-between text-sm"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},k.title),e.createElement("p",{className:"text-xs text-gray-500"},"x",L),e.createElement("p",{className:"text-xs text-gray-500"},"Tlphone vendeur:"," ",k.user?.phone||k.contactPhone||"")),e.createElement("span",{className:"font-semibold text-gray-700"},In(_)," FCFA")))),e.createElement("div",{className:"border-t border-gray-100 pt-4 space-y-2 text-sm text-gray-600"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Total commande"),e.createElement("span",{className:"font-semibold text-gray-900"},In(x.subtotal)," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Acompte (25%)"),e.createElement("span",{className:"font-semibold text-indigo-600"},In(S)," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Reste  payer"),e.createElement("span",{className:"font-semibold text-gray-900"},In(v)," FCFA"))),e.createElement("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50/50 p-4 text-xs text-indigo-700 flex items-start gap-2"},e.createElement(Ha,{size:16}),e.createElement("span",null,"Le paiement de lacompte confirme la commande. Le solde sera rgl  la livraison."))),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-5 space-y-4"},e.createElement("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500"},"Paiement"),e.createElement("form",{className:"space-y-4",onSubmit:C},E.map(k=>{const L=c[k.sellerId]||{},_=Math.round(Number(k.subtotal||0)*.25),T=Math.max(0,Number(k.subtotal||0)-_);return e.createElement("div",{key:k.sellerId,className:"rounded-2xl border border-gray-100 bg-gray-50/70 p-4 space-y-3"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-xs font-semibold uppercase text-gray-500"},"Paiement vendeur"),e.createElement("p",{className:"text-sm font-semibold text-gray-900"},k.sellerName),k.sellerPhone&&e.createElement("p",{className:"text-xs text-gray-500"},"Tlphone : ",k.sellerPhone)),e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",{className:"text-sm font-semibold text-indigo-600"},In(_)," FCFA"),e.createElement("p",null,"Acompte (25%)"))),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Nom du payeur"),e.createElement("input",{type:"text",value:L.payerName||"",onChange:M=>w(k.sellerId,"payerName",M.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:a?.name||"Ex: Jean K."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Code transaction"),e.createElement("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2 text-sm focus-within:ring-2 focus-within:ring-indigo-500"},e.createElement(Mu,{size:14,className:"text-gray-400"}),e.createElement("input",{type:"text",value:L.transactionCode||"",onChange:M=>w(k.sellerId,"transactionCode",M.target.value),className:"w-full border-none p-0 text-sm focus:outline-none",placeholder:"Ex: TRX123456"}))),e.createElement("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50/70 px-3 py-2 text-xs text-indigo-700 space-y-1"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Sous-total vendeur"),e.createElement("span",{className:"font-semibold text-gray-900"},In(k.subtotal)," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Acompte (25%)"),e.createElement("span",{className:"font-semibold text-indigo-700"},In(_)," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Reste  payer"),e.createElement("span",{className:"font-semibold text-gray-900"},In(T)," FCFA"))))}),e.createElement("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700 flex items-center gap-2"},e.createElement(xr,{size:14}),E.length>1?"Merci de payer lacompte indiqu pour chaque vendeur avant validation.":`Merci de payer exactement ${In(S)} FCFA avant validation.`),g&&e.createElement("p",{className:"text-sm text-red-600"},g),e.createElement("button",{type:"submit",disabled:f,className:"w-full inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},f?"Confirmation...":"Confirmer la commande"),e.createElement(ce,{to:"/cart",className:"block text-center text-sm text-gray-500 hover:text-gray-700"},"Retour au panier"))))):e.createElement("div",{className:"max-w-4xl mx-auto px-4 py-10 text-center"},e.createElement("div",{className:"mx-auto w-12 h-12 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600"},e.createElement(Qr,{size:20})),e.createElement("h1",{className:"mt-4 text-xl font-semibold text-gray-900"},"Votre panier est vide"),e.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Ajoutez des produits avant de confirmer une commande."),e.createElement(ce,{to:"/products",className:"mt-6 inline-flex items-center justify-center rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white hover:bg-indigo-700"},"Explorer le march"))}function X5(t=767){u.useEffect(()=>{if(typeof window>"u"||typeof document>"u")return;const r=window.matchMedia(`(max-width: ${t}px)`),a=o=>{if(typeof o.composedPath=="function")return o.composedPath().find(d=>d instanceof HTMLElement&&(d.tagName==="A"||d.tagName==="AREA")&&d.getAttribute("target")==="_blank");const c=o.target;return c&&typeof c.closest=="function"?c.closest('a[target="_blank"],area[target="_blank"]'):null},l=o=>{if(!r.matches)return;const c=a(o);if(!c)return;const d=c.getAttribute("href");if(!d)return;const f=new URL(d,window.location.href);f.origin===window.location.origin&&(o.preventDefault(),window.location.assign(f.pathname+f.search+f.hash))};return document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}},[t])}function J5(){const t=wa(),r=u.useMemo(()=>`hdmarket:scroll:${t.pathname||"/"}`,[t.pathname]);return u.useEffect(()=>{if(typeof window>"u")return;const a=window.matchMedia("(max-width: 767px)").matches,o=window.performance?.getEntriesByType?.("navigation")?.[0]?.type||window.performance?.navigation?.type;if(a&&(o==="reload"||o===1)){const d=window.sessionStorage.getItem(r);if(d){const f=Number(d);if(!Number.isNaN(f)){const p=()=>{const g=Math.max(0,(document.documentElement?.scrollHeight||0)-window.innerHeight);window.scrollTo(0,Math.min(Math.max(0,f),g))};window.requestAnimationFrame(p),setTimeout(p,60);return}}return}window.scrollTo({top:0,behavior:"smooth"})},[t.pathname,r]),u.useEffect(()=>{if(typeof window>"u"||!window.matchMedia("(max-width: 767px)").matches)return;let l=!1;const o=()=>{l||(l=!0,window.requestAnimationFrame(()=>{window.sessionStorage.setItem(r,String(window.scrollY||0)),l=!1}))};return window.addEventListener("scroll",o,{passive:!0}),()=>window.removeEventListener("scroll",o)},[r]),null}const Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";const yc=Object.create(null);Object.keys(Nn).forEach(t=>{yc[Nn[t]]=t});const Du={type:"error",data:"parser error"},my=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",uy=typeof ArrayBuffer=="function",py=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,dp=({type:t,data:r},a,l)=>my&&r instanceof Blob?a?l(r):ph(r,l):uy&&(r instanceof ArrayBuffer||py(r))?a?l(r):ph(new Blob([r]),l):l(Nn[t]+(r||"")),ph=(t,r)=>{const a=new FileReader;return a.onload=function(){const l=a.result.split(",")[1];r("b"+(l||""))},a.readAsDataURL(t)};function fh(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let iu;function Z5(t,r){if(my&&t.data instanceof Blob)return t.data.arrayBuffer().then(fh).then(r);if(uy&&(t.data instanceof ArrayBuffer||py(t.data)))return r(fh(t.data));dp(t,!1,a=>{iu||(iu=new TextEncoder),r(iu.encode(a))})}const gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Io=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<gh.length;t++)Io[gh.charCodeAt(t)]=t;const e4=t=>{let r=t.length*.75,a=t.length,l,o=0,c,d,f,p;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const g=new ArrayBuffer(r),y=new Uint8Array(g);for(l=0;l<a;l+=4)c=Io[t.charCodeAt(l)],d=Io[t.charCodeAt(l+1)],f=Io[t.charCodeAt(l+2)],p=Io[t.charCodeAt(l+3)],y[o++]=c<<2|d>>4,y[o++]=(d&15)<<4|f>>2,y[o++]=(f&3)<<6|p&63;return g},t4=typeof ArrayBuffer=="function",mp=(t,r)=>{if(typeof t!="string")return{type:"message",data:fy(t,r)};const a=t.charAt(0);return a==="b"?{type:"message",data:r4(t.substring(1),r)}:yc[a]?t.length>1?{type:yc[a],data:t.substring(1)}:{type:yc[a]}:Du},r4=(t,r)=>{if(t4){const a=e4(t);return fy(a,r)}else return{base64:!0,data:t}},fy=(t,r)=>r==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,gy="",a4=(t,r)=>{const a=t.length,l=new Array(a);let o=0;t.forEach((c,d)=>{dp(c,!1,f=>{l[d]=f,++o===a&&r(l.join(gy))})})},n4=(t,r)=>{const a=t.split(gy),l=[];for(let o=0;o<a.length;o++){const c=mp(a[o],r);if(l.push(c),c.type==="error")break}return l};function s4(){return new TransformStream({transform(t,r){Z5(t,a=>{const l=a.length;let o;if(l<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,l);else if(l<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,l)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(l))}t.data&&typeof t.data!="string"&&(o[0]|=128),r.enqueue(o),r.enqueue(a)})}})}let cu;function nc(t){return t.reduce((r,a)=>r+a.length,0)}function sc(t,r){if(t[0].length===r)return t.shift();const a=new Uint8Array(r);let l=0;for(let o=0;o<r;o++)a[o]=t[0][l++],l===t[0].length&&(t.shift(),l=0);return t.length&&l<t[0].length&&(t[0]=t[0].slice(l)),a}function l4(t,r){cu||(cu=new TextDecoder);const a=[];let l=0,o=-1,c=!1;return new TransformStream({transform(d,f){for(a.push(d);;){if(l===0){if(nc(a)<1)break;const p=sc(a,1);c=(p[0]&128)===128,o=p[0]&127,o<126?l=3:o===126?l=1:l=2}else if(l===1){if(nc(a)<2)break;const p=sc(a,2);o=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),l=3}else if(l===2){if(nc(a)<8)break;const p=sc(a,8),g=new DataView(p.buffer,p.byteOffset,p.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Du);break}o=y*Math.pow(2,32)+g.getUint32(4),l=3}else{if(nc(a)<o)break;const p=sc(a,o);f.enqueue(mp(c?p:cu.decode(p),r)),l=0}if(o===0||o>t){f.enqueue(Du);break}}}})}const hy=4;function Er(t){if(t)return o4(t)}function o4(t){for(var r in Er.prototype)t[r]=Er.prototype[r];return t}Er.prototype.on=Er.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Er.prototype.once=function(t,r){function a(){this.off(t,a),r.apply(this,arguments)}return a.fn=r,this.on(t,a),this};Er.prototype.off=Er.prototype.removeListener=Er.prototype.removeAllListeners=Er.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+t];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var l,o=0;o<a.length;o++)if(l=a[o],l===r||l.fn===r){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+t],this};Er.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),a=this._callbacks["$"+t],l=1;l<arguments.length;l++)r[l-1]=arguments[l];if(a){a=a.slice(0);for(var l=0,o=a.length;l<o;++l)a[l].apply(this,r)}return this};Er.prototype.emitReserved=Er.prototype.emit;Er.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Er.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Yc=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,a)=>a(r,0),qa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),i4="arraybuffer";function xy(t,...r){return r.reduce((a,l)=>(t.hasOwnProperty(l)&&(a[l]=t[l]),a),{})}const c4=qa.setTimeout,d4=qa.clearTimeout;function Qc(t,r){r.useNativeTimers?(t.setTimeoutFn=c4.bind(qa),t.clearTimeoutFn=d4.bind(qa)):(t.setTimeoutFn=qa.setTimeout.bind(qa),t.clearTimeoutFn=qa.clearTimeout.bind(qa))}const m4=1.33;function u4(t){return typeof t=="string"?p4(t):Math.ceil((t.byteLength||t.size)*m4)}function p4(t){let r=0,a=0;for(let l=0,o=t.length;l<o;l++)r=t.charCodeAt(l),r<128?a+=1:r<2048?a+=2:r<55296||r>=57344?a+=3:(l++,a+=4);return a}function yy(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function f4(t){let r="";for(let a in t)t.hasOwnProperty(a)&&(r.length&&(r+="&"),r+=encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return r}function g4(t){let r={},a=t.split("&");for(let l=0,o=a.length;l<o;l++){let c=a[l].split("=");r[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return r}class h4 extends Error{constructor(r,a,l){super(r),this.description=a,this.context=l,this.type="TransportError"}}class up extends Er{constructor(r){super(),this.writable=!1,Qc(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,a,l){return super.emitReserved("error",new h4(r,a,l)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const a=mp(r,this.socket.binaryType);this.onPacket(a)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,a={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const a=f4(r);return a.length?"?"+a:""}}class x4 extends up{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const a=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let l=0;this._polling&&(l++,this.once("pollComplete",function(){--l||a()})),this.writable||(l++,this.once("drain",function(){--l||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const a=l=>{if(this.readyState==="opening"&&l.type==="open"&&this.onOpen(),l.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(l)};n4(r,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,a4(r,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=yy()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(r,a)}}let by=!1;try{by=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const y4=by;function b4(){}class v4 extends x4{constructor(r){if(super(r),typeof location<"u"){const a=location.protocol==="https:";let l=location.port;l||(l=a?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||l!==r.port}}doWrite(r,a){const l=this.request({method:"POST",data:r});l.on("success",a),l.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(a,l)=>{this.onError("xhr poll error",a,l)}),this.pollXhr=r}}class En extends Er{constructor(r,a,l){super(),this.createRequest=r,Qc(this,l),this._opts=l,this._method=l.method||"GET",this._uri=a,this._data=l.data!==void 0?l.data:null,this._create()}_create(){var r;const a=xy(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const l=this._xhr=this.createRequest(a);try{l.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){l.setDisableHeaderCheck&&l.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&l.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{l.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{l.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(l),"withCredentials"in l&&(l.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(l.timeout=this._opts.requestTimeout),l.onreadystatechange=()=>{var o;l.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(l.getResponseHeader("set-cookie"))),l.readyState===4&&(l.status===200||l.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof l.status=="number"?l.status:0)},0))},l.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=En.requestsCount++,En.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=b4,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete En.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}En.requestsCount=0;En.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hh);else if(typeof addEventListener=="function"){const t="onpagehide"in qa?"pagehide":"unload";addEventListener(t,hh,!1)}}function hh(){for(let t in En.requests)En.requests.hasOwnProperty(t)&&En.requests[t].abort()}const E4=(function(){const t=vy({xdomain:!1});return t&&t.responseType!==null})();class N4 extends v4{constructor(r){super(r);const a=r&&r.forceBase64;this.supportsBinary=E4&&!a}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new En(vy,this.uri(),r)}}function vy(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||y4))return new XMLHttpRequest}catch{}if(!r)try{return new qa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ey=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class w4 extends up{get name(){return"websocket"}doOpen(){const r=this.uri(),a=this.opts.protocols,l=Ey?{}:xy(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(l.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,a,l)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const l=r[a],o=a===r.length-1;dp(l,this.supportsBinary,c=>{try{this.doWrite(l,c)}catch{}o&&Yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=yy()),this.supportsBinary||(a.b64=1),this.createUri(r,a)}}const du=qa.WebSocket||qa.MozWebSocket;class S4 extends w4{createSocket(r,a,l){return Ey?new du(r,a,l):a?new du(r,a):new du(r)}doWrite(r,a){this.ws.send(a)}}class k4 extends up{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const a=l4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),l=r.readable.pipeThrough(a).getReader(),o=s4();o.readable.pipeTo(r.writable),this._writer=o.writable.getWriter();const c=()=>{l.read().then(({done:f,value:p})=>{f||(this.onPacket(p),c())}).catch(f=>{})};c();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const l=r[a],o=a===r.length-1;this._writer.write(l).then(()=>{o&&Yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const C4={websocket:S4,webtransport:k4,polling:N4},A4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fu(t){if(t.length>8e3)throw"URI too long";const r=t,a=t.indexOf("["),l=t.indexOf("]");a!=-1&&l!=-1&&(t=t.substring(0,a)+t.substring(a,l).replace(/:/g,";")+t.substring(l,t.length));let o=A4.exec(t||""),c={},d=14;for(;d--;)c[_4[d]]=o[d]||"";return a!=-1&&l!=-1&&(c.source=r,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=P4(c,c.path),c.queryKey=T4(c,c.query),c}function P4(t,r){const a=/\/{2,9}/g,l=r.replace(a,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&l.splice(0,1),r.slice(-1)=="/"&&l.splice(l.length-1,1),l}function T4(t,r){const a={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(l,o,c){o&&(a[o]=c)}),a}const $u=typeof addEventListener=="function"&&typeof removeEventListener=="function",bc=[];$u&&addEventListener("offline",()=>{bc.forEach(t=>t())},!1);class us extends Er{constructor(r,a){if(super(),this.binaryType=i4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(a=r,r=null),r){const l=Fu(r);a.hostname=l.host,a.secure=l.protocol==="https"||l.protocol==="wss",a.port=l.port,l.query&&(a.query=l.query)}else a.host&&(a.hostname=Fu(a.host).host);Qc(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(l=>{const o=l.prototype.name;this.transports.push(o),this._transportsByName[o]=l}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=g4(this.opts.query)),$u&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},bc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const a=Object.assign({},this.opts.query);a.EIO=hy,a.transport=r,this.id&&(a.sid=this.id);const l=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](l)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&us.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(r);a.open(),this.setTransport(a)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",us.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=r.data,this._onError(a);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let l=0;l<this.writeBuffer.length;l++){const o=this.writeBuffer[l].data;if(o&&(a+=u4(o)),l>0&&a>this._maxPayload)return this.writeBuffer.slice(0,l);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Yc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,a,l){return this._sendPacket("message",r,a,l),this}send(r,a,l){return this._sendPacket("message",r,a,l),this}_sendPacket(r,a,l,o){if(typeof a=="function"&&(o=a,a=void 0),typeof l=="function"&&(o=l,l=null),this.readyState==="closing"||this.readyState==="closed")return;l=l||{},l.compress=l.compress!==!1;const c={type:r,data:a,options:l};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),r()},l=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?l():r()}):this.upgrading?l():r()),this}_onError(r){if(us.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$u&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const l=bc.indexOf(this._offlineEventListener);l!==-1&&bc.splice(l,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,a),this.writeBuffer=[],this._prevBufferLen=0}}}us.protocol=hy;class L4 extends us{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let a=this.createTransport(r),l=!1;us.priorWebsocketSuccess=!1;const o=()=>{l||(a.send([{type:"ping",data:"probe"}]),a.once("packet",x=>{if(!l)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;us.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{l||this.readyState!=="closed"&&(y(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=a.name,this.emitReserved("upgradeError",S)}}))};function c(){l||(l=!0,y(),a.close(),a=null)}const d=x=>{const S=new Error("probe error: "+x);S.transport=a.name,c(),this.emitReserved("upgradeError",S)};function f(){d("transport closed")}function p(){d("socket closed")}function g(x){a&&x.name!==a.name&&c()}const y=()=>{a.removeListener("open",o),a.removeListener("error",d),a.removeListener("close",f),this.off("close",p),this.off("upgrading",g)};a.once("open",o),a.once("error",d),a.once("close",f),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{l||a.open()},200):a.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const a=[];for(let l=0;l<r.length;l++)~this.transports.indexOf(r[l])&&a.push(r[l]);return a}}let M4=class extends L4{constructor(r,a={}){const l=typeof r=="object"?r:a;(!l.transports||l.transports&&typeof l.transports[0]=="string")&&(l.transports=(l.transports||["polling","websocket","webtransport"]).map(o=>C4[o]).filter(o=>!!o)),super(r,l)}};function R4(t,r="",a){let l=t;a=a||typeof location<"u"&&location,t==null&&(t=a.protocol+"//"+a.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=a.protocol+t:t=a.host+t),/^(https?|wss?):\/\//.test(t)||(typeof a<"u"?t=a.protocol+"//"+t:t="https://"+t),l=Fu(t)),l.port||(/^(http|ws)$/.test(l.protocol)?l.port="80":/^(http|ws)s$/.test(l.protocol)&&(l.port="443")),l.path=l.path||"/";const c=l.host.indexOf(":")!==-1?"["+l.host+"]":l.host;return l.id=l.protocol+"://"+c+":"+l.port+r,l.href=l.protocol+"://"+c+(a&&a.port===l.port?"":":"+l.port),l}const I4=typeof ArrayBuffer=="function",j4=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ny=Object.prototype.toString,O4=typeof Blob=="function"||typeof Blob<"u"&&Ny.call(Blob)==="[object BlobConstructor]",z4=typeof File=="function"||typeof File<"u"&&Ny.call(File)==="[object FileConstructor]";function pp(t){return I4&&(t instanceof ArrayBuffer||j4(t))||O4&&t instanceof Blob||z4&&t instanceof File}function vc(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let a=0,l=t.length;a<l;a++)if(vc(t[a]))return!0;return!1}if(pp(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return vc(t.toJSON(),!0);for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&vc(t[a]))return!0;return!1}function D4(t){const r=[],a=t.data,l=t;return l.data=Bu(a,r),l.attachments=r.length,{packet:l,buffers:r}}function Bu(t,r){if(!t)return t;if(pp(t)){const a={_placeholder:!0,num:r.length};return r.push(t),a}else if(Array.isArray(t)){const a=new Array(t.length);for(let l=0;l<t.length;l++)a[l]=Bu(t[l],r);return a}else if(typeof t=="object"&&!(t instanceof Date)){const a={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=Bu(t[l],r));return a}return t}function F4(t,r){return t.data=Vu(t.data,r),delete t.attachments,t}function Vu(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let a=0;a<t.length;a++)t[a]=Vu(t[a],r);else if(typeof t=="object")for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=Vu(t[a],r));return t}const wy=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$4=5;var mt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(mt||(mt={}));class B4{constructor(r){this.replacer=r}encode(r){return(r.type===mt.EVENT||r.type===mt.ACK)&&vc(r)?this.encodeAsBinary({type:r.type===mt.EVENT?mt.BINARY_EVENT:mt.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let a=""+r.type;return(r.type===mt.BINARY_EVENT||r.type===mt.BINARY_ACK)&&(a+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(a+=r.nsp+","),r.id!=null&&(a+=r.id),r.data!=null&&(a+=JSON.stringify(r.data,this.replacer)),a}encodeAsBinary(r){const a=D4(r),l=this.encodeAsString(a.packet),o=a.buffers;return o.unshift(l),o}}class fp extends Er{constructor(r){super(),this.reviver=r}add(r){let a;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(r);const l=a.type===mt.BINARY_EVENT;l||a.type===mt.BINARY_ACK?(a.type=l?mt.EVENT:mt.ACK,this.reconstructor=new V4(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(pp(r)||r.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(r),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let a=0;const l={type:Number(r.charAt(0))};if(mt[l.type]===void 0)throw new Error("unknown packet type "+l.type);if(l.type===mt.BINARY_EVENT||l.type===mt.BINARY_ACK){const c=a+1;for(;r.charAt(++a)!=="-"&&a!=r.length;);const d=r.substring(c,a);if(d!=Number(d)||r.charAt(a)!=="-")throw new Error("Illegal attachments");l.attachments=Number(d)}if(r.charAt(a+1)==="/"){const c=a+1;for(;++a&&!(r.charAt(a)===","||a===r.length););l.nsp=r.substring(c,a)}else l.nsp="/";const o=r.charAt(a+1);if(o!==""&&Number(o)==o){const c=a+1;for(;++a;){const d=r.charAt(a);if(d==null||Number(d)!=d){--a;break}if(a===r.length)break}l.id=Number(r.substring(c,a+1))}if(r.charAt(++a)){const c=this.tryParse(r.substr(a));if(fp.isPayloadValid(l.type,c))l.data=c;else throw new Error("invalid payload")}return l}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,a){switch(r){case mt.CONNECT:return Mc(a);case mt.DISCONNECT:return a===void 0;case mt.CONNECT_ERROR:return typeof a=="string"||Mc(a);case mt.EVENT:case mt.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&wy.indexOf(a[0])===-1);case mt.ACK:case mt.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class V4{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const a=F4(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function q4(t){return typeof t=="string"}const U4=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function H4(t){return t===void 0||U4(t)}function Mc(t){return Object.prototype.toString.call(t)==="[object Object]"}function W4(t,r){switch(t){case mt.CONNECT:return r===void 0||Mc(r);case mt.DISCONNECT:return r===void 0;case mt.EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&wy.indexOf(r[0])===-1);case mt.ACK:return Array.isArray(r);case mt.CONNECT_ERROR:return typeof r=="string"||Mc(r);default:return!1}}function G4(t){return q4(t.nsp)&&H4(t.id)&&W4(t.type,t.data)}const K4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fp,Encoder:B4,get PacketType(){return mt},isPacketValid:G4,protocol:$4},Symbol.toStringTag,{value:"Module"}));function tn(t,r,a){return t.on(r,a),function(){t.off(r,a)}}const Y4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Sy extends Er{constructor(r,a,l){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=a,l&&l.auth&&(this.auth=l.auth),this._opts=Object.assign({},l),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[tn(r,"open",this.onopen.bind(this)),tn(r,"packet",this.onpacket.bind(this)),tn(r,"error",this.onerror.bind(this)),tn(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...a){var l,o,c;if(Y4.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(a.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const d={type:mt.EVENT,data:a};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const y=this.ids++,x=a.pop();this._registerAckCallback(y,x),d.id=y}const f=(o=(l=this.io.engine)===null||l===void 0?void 0:l.transport)===null||o===void 0?void 0:o.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(p?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(r,a){var l;const o=(l=this.flags.timeout)!==null&&l!==void 0?l:this._opts.ackTimeout;if(o===void 0){this.acks[r]=a;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===r&&this.sendBuffer.splice(f,1);a.call(this,new Error("operation has timed out"))},o),d=(...f)=>{this.io.clearTimeoutFn(c),a.apply(this,f)};d.withError=!0,this.acks[r]=d}emitWithAck(r,...a){return new Promise((l,o)=>{const c=(d,f)=>d?o(d):l(f);c.withError=!0,a.push(c),this.emit(r,...a)})}_addToQueue(r){let a;typeof r[r.length-1]=="function"&&(a=r.pop());const l={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((o,...c)=>(this._queue[0],o!==null?l.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(o)):(this._queue.shift(),a&&a(null,...c)),l.pending=!1,this._drainQueue())),this._queue.push(l),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!r||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(l=>String(l.id)===r)){const l=this.acks[r];delete this.acks[r],l.withError&&l.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case mt.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mt.EVENT:case mt.BINARY_EVENT:this.onevent(r);break;case mt.ACK:case mt.BINARY_ACK:this.onack(r);break;case mt.DISCONNECT:this.ondisconnect();break;case mt.CONNECT_ERROR:this.destroy();const l=new Error(r.data.message);l.data=r.data.data,this.emitReserved("connect_error",l);break}}onevent(r){const a=r.data||[];r.id!=null&&a.push(this.ack(r.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const l of a)l.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const a=this;let l=!1;return function(...o){l||(l=!0,a.packet({type:mt.ACK,id:r,data:o}))}}onack(r){const a=this.acks[r.id];typeof a=="function"&&(delete this.acks[r.id],a.withError&&r.data.unshift(null),a.apply(this,r.data))}onconnect(r,a){this.id=r,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const a=this._anyListeners;for(let l=0;l<a.length;l++)if(r===a[l])return a.splice(l,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const a=this._anyOutgoingListeners;for(let l=0;l<a.length;l++)if(r===a[l])return a.splice(l,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const l of a)l.apply(this,r.data)}}}function Ql(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ql.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),a=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-a:t+a}return Math.min(t,this.max)|0};Ql.prototype.reset=function(){this.attempts=0};Ql.prototype.setMin=function(t){this.ms=t};Ql.prototype.setMax=function(t){this.max=t};Ql.prototype.setJitter=function(t){this.jitter=t};class qu extends Er{constructor(r,a){var l;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(a=r,r=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,Qc(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((l=a.randomizationFactor)!==null&&l!==void 0?l:.5),this.backoff=new Ql({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=r;const o=a.parser||K4;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var a;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(a=this.backoff)===null||a===void 0||a.setMin(r),this)}randomizationFactor(r){var a;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(a=this.backoff)===null||a===void 0||a.setJitter(r),this)}reconnectionDelayMax(r){var a;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(a=this.backoff)===null||a===void 0||a.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new M4(this.uri,this.opts);const a=this.engine,l=this;this._readyState="opening",this.skipReconnect=!1;const o=tn(a,"open",function(){l.onopen(),r&&r()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),r?r(f):this.maybeReconnectOnOpen()},d=tn(a,"error",c);if(this._timeout!==!1){const f=this._timeout,p=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),a.close()},f);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(o),this.subs.push(d),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(tn(r,"ping",this.onping.bind(this)),tn(r,"data",this.ondata.bind(this)),tn(r,"error",this.onerror.bind(this)),tn(r,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(a){this.onclose("parse error",a)}}ondecoded(r){Yc(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,a){let l=this.nsps[r];return l?this._autoConnect&&!l.active&&l.connect():(l=new Sy(this,r,a),this.nsps[r]=l),l}_destroy(r){const a=Object.keys(this.nsps);for(const l of a)if(this.nsps[l].active)return;this._close()}_packet(r){const a=this.encoder.encode(r);for(let l=0;l<a.length;l++)this.engine.write(a[l],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,a){var l;this.cleanup(),(l=this.engine)===null||l===void 0||l.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const l=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(o=>{o?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",o)):r.onreconnect()}))},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Lo={};function Ec(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const a=R4(t,r.path||"/socket.io"),l=a.source,o=a.id,c=a.path,d=Lo[o]&&c in Lo[o].nsps,f=r.forceNew||r["force new connection"]||r.multiplex===!1||d;let p;return f?p=new qu(l,r):(Lo[o]||(Lo[o]=new qu(l,r)),p=Lo[o]),a.query&&!r.query&&(r.query=a.queryKey),p.socket(a.path,r)}Object.assign(Ec,{Manager:qu,Socket:Sy,io:Ec,connect:Ec});const Q4=t=>{const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},mu={id:"welcome",from:"support",text:"Bonjour  Nous sommes prts  vous aider. Posez votre question !",createdAt:new Date().toISOString()},xh=768,yh=70,X4=22,J4=18,Z4=56,eC=()=>{const{user:t}=u.useContext(Bt),r=t?.token,[a,l]=u.useState(!1),[o,c]=u.useState([mu]),[d,f]=u.useState([]),[p,g]=u.useState(!1),y=u.useRef(null),x=u.useRef(null),S=u.useRef(null),v="https://hdmarket-backend.onrender.com/api".replace(/\/api$/,"");u.useEffect(()=>{if(!r){x.current&&(x.current.disconnect(),x.current=null),g(!1);return}const T=Ec(v,{auth:r?{token:r}:void 0,transports:["websocket"]});return x.current=T,T.on("message",M=>{if(M.from==="user"&&S.current&&M.text===S.current){S.current=null;return}c(D=>[...D,M])}),T.on("connect",()=>g(!0)),T.on("disconnect",()=>g(!1)),T.on("connect_error",()=>g(!1)),()=>{T.disconnect(),x.current=null}},[r,v]),u.useEffect(()=>{if(!r){f([]);return}(async()=>{try{const{data:M}=await ee.get("/chat/templates");f(Array.isArray(M)?M:[])}catch(M){console.error("Templates load error:",M)}})()},[r]);const[N,E]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<xh),[C,w]=u.useState(!1);u.useEffect(()=>{if(typeof window>"u")return;const T=()=>{E(window.innerWidth<xh)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),u.useEffect(()=>{if(typeof window>"u")return;const T=M=>{const D=!!M?.detail?.visible;w(D)};return window.addEventListener("hdmarket:scroll-top-visibility",T),()=>window.removeEventListener("hdmarket:scroll-top-visibility",T)},[]),u.useEffect(()=>{if(!r){c([mu]);return}(async()=>{try{const{data:M}=await ee.get("/chat/history?limit=100");c(M.length?M:[mu])}catch(M){console.error("Chat history load error:",M)}})()},[r]),u.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[o,a]);const k=T=>{if(!x.current||!T?.question)return;const M=T.question.trim();S.current=M,x.current.emit("sendMessage",{text:M});const D={id:`local-response-${T._id}-${Date.now()}`,from:"support",text:T.response||"Le support vous rpondra bientt.",createdAt:new Date().toISOString()},R={id:`local-user-${T._id}-${Date.now()}`,from:"user",text:M,createdAt:new Date().toISOString()};c(O=>[...O,R,D])},L=u.useMemo(()=>d.slice(0,3),[d]),_=C?yh+J4+Z4:yh+X4;return r?e.createElement("div",{className:"fixed right-4 z-50 flex flex-col items-end sm:right-8",style:{bottom:N?`calc(env(safe-area-inset-bottom, 0px) + ${_}px)`:"24px"}},a&&e.createElement("div",{className:"mb-3 w-80 max-w-xs rounded-2xl border border-indigo-100 bg-white/95 shadow-xl transition-all duration-200 dark:border-gray-700 dark:bg-gray-900/95"},e.createElement("div",{className:"flex items-center justify-between rounded-t-2xl bg-indigo-600 px-4 py-3 text-white"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold"},"Support HDMarket"),e.createElement("p",{className:"text-xs text-indigo-100"},"Nous rpondons en direct.")),e.createElement("button",{onClick:()=>l(!1),className:"text-indigo-100 transition hover:text-white","aria-label":"Fermer le chat"},"")),e.createElement("div",{className:"flex max-h-48 flex-col gap-2 overflow-y-auto px-3 py-3 text-sm text-gray-700 dark:text-gray-200",ref:y},o.length?o.map(T=>e.createElement("div",{key:T.id,className:`flex flex-col rounded-2xl px-3 py-2 ${T.from==="user"?"self-end bg-indigo-50 text-gray-900 dark:bg-indigo-500/20 dark:text-white":"self-start bg-gray-100 text-gray-900 dark:bg-gray-800"}`},e.createElement("span",null,T.text),e.createElement("span",{className:"mt-1 text-[10px] text-gray-400 dark:text-gray-400"},Q4(T.createdAt)))):e.createElement("p",{className:"text-xs text-gray-500"},"Envoyez un message pour commencer la conversation.")),L.length>0&&e.createElement("div",{className:"flex flex-wrap gap-2 px-3 pb-2"},L.map(T=>e.createElement("button",{key:T._id,onClick:()=>k(T),className:"rounded-full border border-indigo-200 px-3 py-1 text-xs text-indigo-600 hover:bg-indigo-50 dark:border-gray-700 dark:text-indigo-200"},T.question)))),e.createElement("button",{onClick:()=>l(T=>!T),className:"flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2 text-white shadow-lg shadow-indigo-500/30 transition hover:bg-indigo-500"},"Chat",e.createElement("span",{className:"text-xs font-semibold"},p?"Live":"Offline"))):null},bh=768,tC=120,rC=["/","/products","/notifications","/suggestions"],aC=70,nC=18;function sC(){const t=wa(),[r,a]=u.useState(()=>typeof window>"u"?!1:window.innerWidth<bh),[l,o]=u.useState(!1),c=u.useMemo(()=>rC.includes(t.pathname),[t.pathname]);return u.useEffect(()=>{if(typeof window>"u")return;const d=()=>{a(window.innerWidth<bh)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),u.useEffect(()=>{if(!c||!r||typeof window>"u"){o(!1);return}const d=()=>{const f=window.scrollY||window.pageYOffset,p=window.innerHeight,g=document.documentElement?.scrollHeight||document.body?.scrollHeight||0,y=f+p>=g-tC;o(y)};return d(),window.addEventListener("scroll",d,{passive:!0}),()=>window.removeEventListener("scroll",d)},[c,r]),u.useEffect(()=>{if(typeof window>"u")return;const d=new CustomEvent("hdmarket:scroll-top-visibility",{detail:{visible:l}});window.dispatchEvent(d)},[l]),l?e.createElement("button",{type:"button",onClick:()=>{typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Remonter en haut",style:{bottom:`calc(env(safe-area-inset-bottom, 0px) + ${aC+nC}px)`},className:"fixed right-4 z-40 inline-flex h-12 w-12 items-center justify-center rounded-full bg-indigo-600/95 text-white shadow-xl shadow-indigo-500/40 transition hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-500"},e.createElement(r1,{className:"h-5 w-5"})):null}function lC(){const[t,r]=u.useState([]),[a,l]=u.useState(""),[o,c]=u.useState(""),[d,f]=u.useState(!1),[p,g]=u.useState(!1),[y,x]=u.useState(""),[S,v]=u.useState(null),[N,E]=u.useState(""),[C,w]=u.useState(""),k=async()=>{f(!0);try{const{data:D}=await ee.get("/chat/templates");r(Array.isArray(D)?D:[])}catch(D){console.error("Templates load error:",D),x("Impossible de charger les modles.")}finally{f(!1)}};u.useEffect(()=>{k()},[]);const L=async D=>{if(D.preventDefault(),!a.trim()||!o.trim()){x("Question et rponse requises.");return}g(!0);try{await ee.post("/admin/chat/templates",{question:a.trim(),response:o.trim()}),l(""),c(""),x(""),await k()}catch(R){console.error("Template save error:",R),x(R.response?.data?.message||"Impossible de crer le modle.")}finally{g(!1)}},_=D=>{v(D._id),E(D.question),w(D.response),x("")},T=async D=>{if(D.preventDefault(),!N.trim()||!C.trim()){x("Question et rponse requises.");return}g(!0);try{await ee.patch(`/chat/templates/${S}`,{question:N.trim(),response:C.trim()}),v(null),E(""),w(""),await k()}catch(R){console.error("Template edit error:",R),x(R.response?.data?.message||"Impossible de mettre  jour.")}finally{g(!1)}},M=async D=>{try{await ee.delete(`/chat/templates/${D}`),await k()}catch(R){console.error("Template delete error:",R),x("Impossible de supprimer le modle.")}};return e.createElement("div",{className:"mx-auto max-w-4xl space-y-6 px-4"},e.createElement("header",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50 flex items-center gap-2"},e.createElement(On,{className:"h-6 w-6 text-indigo-600"}),"Gestion des modles de chat"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ajoutez des questions et rponses standards pour guider le support en conversation.")),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("form",{className:"space-y-4",onSubmit:L},e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),e.createElement("input",{value:a,onChange:D=>l(D.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Exemple : Quels sont vos dlais de livraison ?"})),e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),e.createElement("textarea",{rows:3,value:o,onChange:D=>c(D.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Rponse par dfaut du support."})),y&&e.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},y),e.createElement("button",{type:"submit",disabled:p,className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60"},p?"Enregistrement...":"Crer le modle"))),S&&e.createElement("section",{className:"rounded-2xl border border-yellow-200 bg-yellow-50 p-5 shadow-sm dark:border-yellow-700 dark:bg-yellow-900/80"},e.createElement("h3",{className:"text-base font-semibold text-yellow-800 dark:text-yellow-200"},"Modifier le modle"),e.createElement("form",{className:"mt-3 space-y-3",onSubmit:T},e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),e.createElement("input",{value:N,onChange:D=>E(D.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),e.createElement("textarea",{rows:3,value:C,onChange:D=>w(D.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60",disabled:p,type:"submit"},p?"Sauvegarde...":"Sauvegarder"),e.createElement("button",{type:"button",onClick:()=>{v(null),E(""),w(""),x("")},className:"inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:text-gray-200"},"Annuler")))),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50"},"Modles existants"),d?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement..."):t.length?e.createElement("div",{className:"mt-4 space-y-3"},t.map(D=>e.createElement("div",{key:D._id,className:"rounded-2xl border border-gray-100 p-4 text-sm text-gray-800 dark:border-gray-700 dark:text-gray-100"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2"},e.createElement(On,{className:"h-4 w-4 text-indigo-500"}),D.question),e.createElement("p",{className:"mt-2 text-gray-600 dark:text-gray-300"},D.response),e.createElement("div",{className:"mt-3 flex gap-2"},e.createElement("button",{type:"button",onClick:()=>_(D),className:"rounded-full border border-indigo-200 px-3 py-1 text-xs text-indigo-600 hover:bg-indigo-50 dark:border-gray-700 dark:text-indigo-200"},"diter"),e.createElement("button",{type:"button",onClick:()=>M(D._id),className:"rounded-full border border-red-200 px-3 py-1 text-xs text-red-600 hover:bg-red-50 dark:border-gray-700 dark:text-red-400"},"Supprimer"))))):e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun modle renseign pour le moment.")))}const oC=12;function iC(){const[t,r]=u.useState([]),[a,l]=u.useState([]),[o,c]=u.useState(!1),[d,f]=u.useState(!1),[p,g]=u.useState(""),[y,x]=u.useState(""),[S,v]=u.useState(1),[N,E]=u.useState(1),[C,w]=u.useState(1),[k,L]=u.useState(1),[_,T]=u.useState(null),[M,D]=u.useState(""),R=Q=>{D(Q.target.value),v(1),E(1)},O=u.useCallback(async({boostedFilter:Q,pageNumber:ue,searchQuery:ie,setItems:H,setTotalPages:B,setLoading:X,setError:z})=>{X(!0),z("");try{const{data:G}=await ee.get("/admin/products/boosts",{params:{q:ie,page:ue,limit:oC,boosted:Q}});H(Array.isArray(G?.items)?G.items:[]),B(G?.pagination?.pages||1)}catch(G){console.error("Boosts load error",G),H([]),B(1),z(Q?"Impossible de charger les produits boosts.":"Impossible de charger les produits  booster.")}finally{X(!1)}},[]);u.useEffect(()=>{O({boostedFilter:!0,pageNumber:S,searchQuery:M,setItems:r,setTotalPages:w,setLoading:c,setError:g})},[M,S,O]),u.useEffect(()=>{O({boostedFilter:!1,pageNumber:N,searchQuery:M,setItems:l,setTotalPages:L,setLoading:f,setError:x})},[M,N,O]);const I=async Q=>{T(Q);try{await ee.patch(`/admin/products/${Q}/boost`),await Promise.all([O({boostedFilter:!0,pageNumber:S,searchQuery:M,setItems:r,setTotalPages:w,setLoading:c,setError:g}),O({boostedFilter:!1,pageNumber:N,searchQuery:M,setItems:l,setTotalPages:L,setLoading:f,setError:x})])}catch(ue){console.error("Toggle boost error",ue);const ie="Impossible de modifier le boost.";g(ie),x(ie)}finally{T(null)}},j=(Q,ue,ie,H)=>ie<=1?null:Array.from({length:ie},(B,X)=>e.createElement("button",{key:`${Q}-${X+1}`,type:"button",onClick:()=>H(X+1),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ue===X+1?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200"}`},X+1)),Y=Q=>{const ue=Q.images?.[0]||Q.image||"https://via.placeholder.com/400x400?text=HDMarket",ie=Q.description?`${Q.description.slice(0,120)}...`:"Aucune description disponible.",H=Number(Q.price),B=Number.isFinite(H)?H.toLocaleString("fr-FR"):"-",X=Q.createdAt?new Date(Q.createdAt).toLocaleDateString("fr-FR"):"-";return e.createElement("article",{key:Q._id,className:"rounded-2xl border border-gray-100 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("div",{className:"mb-4 h-40 overflow-hidden rounded-2xl bg-gray-100"},e.createElement("img",{src:ue,alt:Q.title,className:"h-full w-full object-cover",loading:"lazy"})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},Q.category),e.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white"},Q.title)),e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",{className:"text-gray-900 dark:text-gray-100 font-bold"},B," FCFA"),e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},X))),e.createElement("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300"},ie),e.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},e.createElement("span",null,"Boost : ",Q.boosted?"Oui":"Non"),e.createElement("button",{onClick:()=>I(Q._id),disabled:_===Q._id,className:"rounded-full bg-indigo-600 px-4 py-1 text-white transition hover:bg-indigo-500 disabled:opacity-60"},Q.boosted?"Retirer boost":"Booster")))},te=j("boosted",S,C,v),me=j("non-boosted",N,k,E);return e.createElement("div",{className:"max-w-6xl mx-auto space-y-6 px-4 py-6"},e.createElement("header",{className:"flex items-center gap-3 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement(On,{className:"h-6 w-6 text-indigo-600"}),e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"},"Promotion"),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Boosts produits"))),e.createElement("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(rn,{className:"h-4 w-4 text-gray-500"}),e.createElement("input",{value:M,onChange:R,placeholder:"Recherche par titre ou catgorie...",className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),e.createElement("p",{className:"text-xs text-gray-500"},"Affiche les produits valids avec tri par boost.")),e.createElement("section",{className:"space-y-8"},e.createElement("div",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"},"Boost"),e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Produits boosts")),e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Page ",S,"/",C)),p&&e.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},p),e.createElement("div",{className:"grid gap-4 lg:grid-cols-2"},o?e.createElement("div",{className:"col-span-full rounded-2xl border border-dashed border-gray-300 bg-white/60 p-6 text-center text-sm text-gray-500 dark:border-gray-700"},"Chargement des produits boosts..."):t.length?t.map(Q=>Y(Q)):e.createElement("div",{className:"col-span-full rounded-2xl border border-gray-100 bg-white/80 p-6 text-sm text-gray-500 dark:border-gray-800 dark:bg-gray-900/80"},"Aucun produit boost pour le moment.")),te&&e.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4"},te)),e.createElement("div",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"}," booster"),e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Produits non boosts")),e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Page ",N,"/",k)),y&&e.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},y),e.createElement("div",{className:"grid gap-4 lg:grid-cols-2"},d?e.createElement("div",{className:"col-span-full rounded-2xl border border-dashed border-gray-300 bg-white/60 p-6 text-center text-sm text-gray-500 dark:border-gray-700"},"Chargement des produits  booster..."):a.length?a.map(Q=>Y(Q)):e.createElement("div",{className:"col-span-full rounded-2xl border border-gray-100 bg-white/80 p-6 text-sm text-gray-500 dark:border-gray-800 dark:bg-gray-900/80"},"Aucun produit disponible pour le moment.")),me&&e.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4"},me))))}const vh={pending:"En attente",approved:"Valide",rejected:"Rejete",disabled:"Dsactive"},cC={pending:"bg-yellow-100 text-yellow-800",approved:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800",disabled:"bg-gray-100 text-gray-600"},dC=[{value:"recent",label:"Plus rcents"},{value:"price_asc",label:"Prix croissants"},{value:"price_desc",label:"Prix dcroissants"},{value:"discount",label:"Meilleure remise"}],mC=20,uu=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Eh=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",lc=({title:t,value:r,helper:a})=>e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-3 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},t),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},r),a?e.createElement("p",{className:"text-xs text-gray-500 mt-1"},a):null),uC=xs.flatMap(t=>t.options.map(r=>({value:r.value,label:`${t.label}  ${r.label}`})));function pC(){const{user:t}=u.useContext(Bt),r=t?.role==="admin",[a,l]=u.useState([]),[o,c]=u.useState(null),[d,f]=u.useState(!1),[p,g]=u.useState(""),[y,x]=u.useState(1),[S,v]=u.useState(1),[N,E]=u.useState(0),[C,w]=u.useState(""),[k,L]=u.useState(""),[_,T]=u.useState(""),[M,D]=u.useState(""),[R,O]=u.useState("recent"),[I,j]=u.useState(null),[Y,te]=u.useState(""),[me,Q]=u.useState(""),[ue,ie]=u.useState(!1),H=u.useCallback(async()=>{f(!0),g("");try{const V={page:y,limit:mC,sort:R};C&&(V.status=C),k&&(V.category=k),_&&(V.certified=_),M&&(V.search=M.trim());const{data:fe}=await ee.get("/admin/products",{params:V});l(Array.isArray(fe?.items)?fe.items:[]),v(fe?.pagination?.pages||1),E(fe?.pagination?.total||0),c(fe?.stats||null)}catch(V){console.error("Erreur chargement produits admin",V),g(V?.response?.data?.message||V.message||"Impossible de charger les produits.")}finally{f(!1)}},[y,C,k,_,M,R]);u.useEffect(()=>{const V=setTimeout(()=>{H()},250);return()=>clearTimeout(V)},[H]);const B=()=>{w(""),L(""),T(""),D(""),O("recent"),x(1)},X=async()=>{if(!(!I||ue)){te(""),Q(""),ie(!0);try{const V=!I.certified,{data:fe}=await ee.patch(`/admin/products/${I._id}/certify`,{certified:V}),ge={...I,certified:fe.certified,certifiedBy:fe.certifiedBy,certifiedAt:fe.certifiedAt};j(ge),l(we=>we.map(Pe=>Pe._id===ge._id?{...Pe,...ge}:Pe)),c(we=>{if(!we)return we;const Pe=fe.certified?1:-1,Le=-Pe;return{...we,certifiedCount:Math.max(0,(we.certifiedCount||0)+Pe),uncertifiedCount:Math.max(0,(we.uncertifiedCount||0)+Le)}}),te(fe.certified?"Produit certifi.":"Certification retire.")}catch(V){console.error("Erreur certification",V),Q(V?.response?.data?.message||"Une erreur est survenue.")}finally{ie(!1)}}},z=u.useMemo(()=>{if(!o)return[];const V=fe=>o.statusCounts?.[fe]||0;return[{title:"En attente",value:V("pending")},{title:"Valides",value:V("approved")},{title:"Rejetes",value:V("rejected")},{title:"Dsactives",value:V("disabled")}]},[o]),G=o?.topCategories||[];return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6 sm:px-6 lg:px-8"},e.createElement("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Gestion des produits"),e.createElement("p",{className:"text-sm text-gray-500"},"Visualisez les annonces, filtrez-les et certifiez celles qui respectent la charte HDMarket.")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement(ce,{to:"/admin",className:"inline-flex items-center gap-2 rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100"},"Retour au tableau"),e.createElement("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-md border border-indigo-600 px-4 py-2 text-sm font-medium text-indigo-600 hover:bg-indigo-50"},e.createElement($o,{className:"h-4 w-4"}),"Actualiser"))),e.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},e.createElement(lc,{title:"Produits total",value:N,helper:`${S} page(s)`}),e.createElement(lc,{title:"Produits certifis",value:o?.certifiedCount??0,helper:`${o?.uncertifiedCount??0} non certifis`}),e.createElement(lc,{title:"Certifications en attente",value:z[0]?.value||0,helper:"Suivre les validations"}),e.createElement(lc,{title:"Produits dsactivs",value:z[3]?.value||0,helper:"Vrifier les suspensions"})),e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-3"},e.createElement("div",{className:"flex items-center justify-between gap-3"},e.createElement("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500"},"Filtres rapides"),e.createElement("button",{type:"button",onClick:B,className:"inline-flex items-center gap-1 rounded-2xl border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-50"},e.createElement(Fx,{className:"h-4 w-4"}),"Rinitialiser")),e.createElement("div",{className:"flex flex-col gap-3"},e.createElement("div",{className:"relative"},e.createElement(rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{value:M,onChange:V=>{D(V.target.value),x(1)},placeholder:"Rechercher par titre ou description",className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 pl-9 text-sm focus:border-indigo-500 focus:outline-none"})),e.createElement("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-5"},e.createElement("select",{value:C,onChange:V=>{w(V.target.value),x(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Tous les statuts"),e.createElement("option",{value:"pending"},"En attente"),e.createElement("option",{value:"approved"},"Valids"),e.createElement("option",{value:"rejected"},"Rejets"),e.createElement("option",{value:"disabled"},"Dsactivs")),e.createElement("select",{value:_,onChange:V=>{T(V.target.value),x(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Tous les produits"),e.createElement("option",{value:"true"},"Certifis"),e.createElement("option",{value:"false"},"Non certifis")),e.createElement("select",{value:k,onChange:V=>{L(V.target.value),x(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Toutes les catgories"),uC.map(V=>e.createElement("option",{key:V.value,value:V.value},V.label))),e.createElement("select",{value:R,onChange:V=>{O(V.target.value),x(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},dC.map(V=>e.createElement("option",{key:V.value,value:V.value},V.label))))))),e.createElement("section",{className:"space-y-4"},p&&e.createElement("p",{className:"text-sm text-red-600"},p),d?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((V,fe)=>e.createElement("div",{key:fe,className:"animate-pulse rounded-2xl border border-gray-100 bg-white px-4 py-5"},e.createElement("div",{className:"h-4 w-2/5 bg-gray-200 mb-3 rounded"}),e.createElement("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2"},e.createElement("div",{className:"h-8 bg-gray-200 rounded"}),e.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):a.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 gap-4"},a.map(V=>e.createElement("article",{key:V._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement("div",{className:"h-20 w-20 rounded-2xl bg-gray-100 overflow-hidden"},e.createElement("img",{src:V.images?.[0]||"/api/placeholder/120/120",alt:V.title,className:"h-full w-full object-cover",loading:"lazy"})),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},V.category||""),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},V.title),e.createElement("p",{className:"text-xs text-gray-500"},V.user?.shopName||V.user?.name||"Vendeur indisponible"))),e.createElement("div",{className:"flex items-center gap-3 text-right"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Prix"),e.createElement("p",{className:"text-lg font-semibold text-gray-900"},uu(V.price))),e.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${cC[V.status]||"bg-gray-100 text-gray-600"}`},vh[V.status]||V.status))),e.createElement("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},V.certified?e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-1 text-emerald-600"},e.createElement(Ha,{className:"w-4 h-4"}),"Certifi"):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 text-gray-600"},e.createElement(fr,{className:"w-4 h-4"}),"Non certifi"),e.createElement("button",{type:"button",onClick:()=>{j(V),te(""),Q("")},className:"inline-flex items-center gap-2 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Dtails",e.createElement(va,{className:"w-3 h-3"})))))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",y," / ",S,"  ",N," annonce",N>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>x(V=>Math.max(1,V-1)),disabled:y<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>x(V=>Math.min(S,V+1)),disabled:y>=S,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit ne correspond aux filtres actuels.")),G.length>0&&e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between mb-3 text-xs uppercase tracking-wide text-gray-500"},e.createElement("span",null,"Catgories les plus populaires"),e.createElement(Ys,{className:"h-4 w-4 text-indigo-500"})),e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4"},G.map(V=>e.createElement("div",{key:V.category,className:"rounded-2xl border border-gray-100 p-3 text-xs font-semibold text-gray-700"},e.createElement("p",{className:"text-sm text-gray-900"},V.category),e.createElement("p",{className:"text-xs text-gray-500"},V.count," annonces")))))),I&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/40 p-4",onClick:()=>{j(null),te(""),Q("")}},e.createElement("div",{className:"w-full max-w-4xl rounded-2xl bg-white p-6 shadow-2xl",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-500"},"Dtail produit"),e.createElement("h2",{className:"text-lg font-bold text-gray-900"},I.title)),e.createElement("button",{type:"button",onClick:()=>{j(null),te(""),Q("")},className:"text-xs font-semibold uppercase tracking-wide text-gray-500 transition hover:text-gray-900"},"Fermer ",e.createElement(Dn,{className:"inline-block h-4 w-4"}))),e.createElement("div",{className:"mt-4 grid gap-4 lg:grid-cols-[1fr,1fr]"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"grid grid-cols-3 gap-2"},(I.images||[]).slice(0,3).map((V,fe)=>e.createElement("img",{key:`modal-img-${fe}`,src:V,alt:`${I.title} ${fe+1}`,className:"h-24 w-full rounded-2xl object-cover border border-gray-200"})),!I.images?.length&&e.createElement("div",{className:"col-span-3 h-24 rounded-2xl border border-gray-200 bg-gray-100"})),e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},I.category),e.createElement("p",{className:"text-sm text-gray-600"},I.description)),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,"Prix"),e.createElement("span",{className:"text-gray-900 font-semibold"},uu(I.price))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"rounded-full px-3 py-1 text-xs font-semibold"},vh[I.status]||I.status),e.createElement("span",{className:"text-xs text-gray-500"},"Cr le ",Eh(I.createdAt))),e.createElement("div",{className:"border-t border-gray-100 pt-3 space-y-2 text-xs text-gray-500"},e.createElement("p",null,"Vendeur: ",I.user?.shopName||I.user?.name||""),e.createElement("p",null,"Email: ",I.user?.email||""),e.createElement("p",null,"Tlphone: ",I.user?.phone||"")),e.createElement("div",{className:"border-t border-gray-100 pt-3"},I.certified?e.createElement("div",{className:"text-xs text-emerald-700"},e.createElement("span",{className:"flex items-center gap-2 text-emerald-600"},e.createElement(Ha,{className:"w-4 h-4"}),"Produit certifi"),I.certifiedBy?e.createElement("p",null,"Valid par ",I.certifiedBy.name||"Admin"," (",I.certifiedBy.email||"",")"):null,I.certifiedAt?e.createElement("p",null,"Le ",Eh(I.certifiedAt)):null):e.createElement("div",{className:"text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(fr,{className:"w-4 h-4"}),"Produit non certifi"))),r&&e.createElement("div",{className:"space-y-2"},e.createElement("button",{type:"button",onClick:X,disabled:ue,className:"w-full rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-500 disabled:opacity-60"},I.certified?"Retirer la certification":"Certifier ce produit"),(Y||me)&&e.createElement("p",{className:`text-xs ${me?"text-red-600":"text-green-600"}`},me||Y)),I.payment&&e.createElement("div",{className:"border-t border-gray-100 pt-3 text-xs text-gray-500 space-y-1"},e.createElement("p",{className:"font-semibold text-gray-900 text-sm"},"Paiement"),e.createElement("p",null,"Status: ",I.payment.status),e.createElement("p",null,"Montant: ",uu(I.payment.amount)),e.createElement("p",null,"Oprateur: ",I.payment.operator)))))))}const fC=[{key:"all",label:"Tous"},{key:"unread",label:"Non lus"},{key:"read",label:"Lus"}],Nh=12,wh=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";function gC(){const[t,r]=u.useState([]),[a,l]=u.useState("unread"),[o,c]=u.useState(""),[d,f]=u.useState(""),[p,g]=u.useState(1),[y,x]=u.useState({total:0,totalPages:1}),[S,v]=u.useState(!1),[N,E]=u.useState(""),[C,w]=u.useState(""),k=u.useCallback(async()=>{v(!0),E("");try{const T=new URLSearchParams;T.set("page",p),T.set("limit",Nh),a!=="all"&&T.set("status",a),d&&T.set("search",d);const{data:M}=await ee.get(`/admin/feedback?${T.toString()}`),D=Array.isArray(M?.items)?M.items:[];r(D),x({total:M?.total??D.length,totalPages:M?.totalPages??1})}catch(T){E(T.response?.data?.message||T.message||"Impossible de charger les avis."),r([]),x({total:0,totalPages:1})}finally{v(!1)}},[p,d,a]);u.useEffect(()=>{k()},[k]),u.useEffect(()=>{const T=setTimeout(()=>{f(o.trim())},300);return()=>clearTimeout(T)},[o]),u.useEffect(()=>{g(1)},[a,d]);const L=u.useCallback(async T=>{if(T){w(T);try{const{data:M}=await ee.patch(`/admin/feedback/${T}/read`),D=M?.feedback;D&&(r(R=>R.map(O=>O._id===D._id?D:O)),window.dispatchEvent(new CustomEvent("hdmarket:admin-counts-refresh")),a==="unread"&&(r(R=>R.filter(O=>O._id!==D._id)),x(R=>({...R,total:Math.max(0,(R.total||0)-1),totalPages:Math.max(1,Math.ceil(Math.max(0,(R.total||0)-1)/Nh))}))))}catch(M){E(M.response?.data?.message||"Impossible de marquer comme lu.")}finally{w("")}}},[a]),_=u.useMemo(()=>{if(!y.total)return"0 avis";const T=(y.total>1,"avis");return`${y.total} ${T}`},[y.total]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Avis sur l'amelioration"),e.createElement("p",{className:"text-sm text-gray-500"},"Centralisez les retours utilisateurs et marquez-les comme lus.")),e.createElement("div",{className:"inline-flex items-center gap-2 rounded-full bg-white border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-600"},e.createElement(Fx,{className:"h-4 w-4"}),_)),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap gap-2"},fC.map(T=>e.createElement("button",{key:T.key,type:"button",onClick:()=>l(T.key),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${a===T.key?"bg-indigo-600 text-white shadow":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},T.label))),e.createElement("div",{className:"relative w-full sm:max-w-xs"},e.createElement(rn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un avis",value:o,onChange:T=>c(T.target.value)}))),N&&e.createElement("p",{className:"text-sm text-red-600"},N),S?e.createElement("div",{className:"space-y-3"},Array.from({length:4}).map((T,M)=>e.createElement("div",{key:`skeleton-${M}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("div",{className:"h-4 w-1/3 rounded bg-gray-200"}),e.createElement("div",{className:"mt-3 h-3 w-full rounded bg-gray-200"}),e.createElement("div",{className:"mt-2 h-3 w-4/5 rounded bg-gray-200"})))):t.length===0?e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Aucun avis disponible pour ce filtre."):e.createElement("div",{className:"space-y-4"},t.map(T=>{const M=!!T.readAt,D=T.user?.name||T.user?.email||"Utilisateur";return e.createElement("article",{key:T._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(On,{className:"h-4 w-4 text-indigo-500"}),e.createElement("h3",{className:"text-base font-semibold text-gray-900"},T.subject)),e.createElement("p",{className:"text-xs text-gray-500"},"Envoye le ",wh(T.createdAt))),e.createElement("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${M?"bg-green-50 text-green-700 border border-green-200":"bg-amber-50 text-amber-700 border border-amber-200"}`},M?"Lu":"Non lu")),e.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},T.body),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2"},e.createElement(Jr,{className:"h-4 w-4 text-gray-400"}),e.createElement("span",null,D),T.user?.phone?e.createElement("span",null,"- ",T.user.phone):null),M?e.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",wh(T.readAt),T.readBy?.name?` - ${T.readBy.name}`:""):e.createElement("button",{type:"button",onClick:()=>L(T._id),disabled:C===T._id,className:"inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100 disabled:opacity-60"},e.createElement(xr,{className:"h-4 w-4"}),C===T._id?"Mise a jour...":"Marquer comme lu")))})),y.totalPages>1&&e.createElement("div",{className:"flex items-center justify-between pt-2"},e.createElement("button",{type:"button",onClick:()=>g(T=>Math.max(1,T-1)),disabled:p<=1,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Precedent"),e.createElement("span",{className:"text-xs text-gray-500"},"Page ",p," / ",y.totalPages),e.createElement("button",{type:"button",onClick:()=>g(T=>Math.min(y.totalPages,T+1)),disabled:p>=y.totalPages,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Suivant")))))}const hC=new Intl.NumberFormat("fr-FR"),ir=t=>{const r=Number(t);return Number.isFinite(r)?hC.format(r):"0"},pu=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,xC=({label:t,value:r,helper:a})=>e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-5 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},t),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},r),a?e.createElement("p",{className:"text-xs text-gray-400 mt-1"},a):null),yC=({label:t,value:r,helper:a})=>e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gradient-to-br from-indigo-600 to-blue-600 px-4 py-5 text-white shadow-lg"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-100"},t),e.createElement("p",{className:"text-3xl font-semibold"},r),a?e.createElement("p",{className:"text-xs text-indigo-100/80 mt-1"},a):null),bC=({title:t,onClose:r,children:a})=>e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6"},e.createElement("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl bg-white p-5 shadow-2xl"},e.createElement("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},t),e.createElement("button",{type:"button",onClick:r,className:"text-xs font-semibold uppercase tracking-wide text-gray-500 hover:text-gray-800"},"Fermer")),e.createElement("div",{className:"mt-4 max-h-[70vh] overflow-y-auto pr-1"},a)));function vC(){const{id:t}=bs(),r=6,[a,l]=u.useState(null),[o,c]=u.useState(!1),[d,f]=u.useState(""),[p,g]=u.useState(null),[y,x]=u.useState(1);u.useEffect(()=>{if(!t)return;const O=new AbortController;let I=!0;return c(!0),f(""),ee.get(`/admin/users/${t}/stats`,{signal:O.signal}).then(j=>{I&&l(j.data)}).catch(j=>{I&&f(j.response?.data?.message||j.message||"Impossible de charger les statistiques.")}).finally(()=>{I&&c(!1)}),()=>{I=!1,O.abort()}},[t]);const S=u.useMemo(()=>a?.timeline||[],[a]),v=u.useMemo(()=>a?.breakdown?.categories||[],[a]),N=u.useMemo(()=>a?.topProducts||[],[a]),E=u.useMemo(()=>a?[{label:"Annonces totales",value:ir(a.listings.total),helper:`${ir(a.listings.approved)} publies`},{label:"Favoris reus",value:ir(a.engagement.favoritesReceived)},{label:"Commentaires reus",value:ir(a.engagement.commentsReceived)},{label:"Favoris enregistrs",value:ir(a.engagement.favoritesSaved)},{label:"Boutiques suivies",value:ir(a.engagement.shopsFollowed)},{label:"Budget annonces",value:pu(a.advertismentSpend)}]:[],[a]),C=u.useMemo(()=>a?[{label:"Contacts WhatsApp",value:ir(a.performance.clicks),helper:"Nombre de clics gnrs"},{label:"Vues totales",value:ir(a.performance.views),helper:"Rponses aux annonces"},{label:"Conversion",value:`${ir(a.performance.conversion)} %`,helper:"Annonces approuves"}]:[],[a]),w=O=>g(O),k=()=>g(null),L=()=>{if(!p||!a)return null;switch(p){case"summary":return e.createElement("dl",{className:"space-y-3"},E.map(O=>e.createElement("div",{key:O.label,className:"flex items-center justify-between border-b border-gray-100 pb-2"},e.createElement("dt",{className:"text-xs uppercase tracking-wide text-gray-500"},O.label),e.createElement("dd",{className:"text-sm font-semibold text-gray-900"},O.helper?`${O.value}  ${O.helper}`:O.value))));case"highlights":return e.createElement("div",{className:"space-y-3"},C.map(O=>e.createElement("div",{key:O.label,className:"rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},O.label),e.createElement("p",{className:"text-xl font-semibold text-gray-900"},O.value),O.helper?e.createElement("p",{className:"text-xs text-gray-500"},O.helper):null)));case"timeline":return S.length?e.createElement("div",{className:"space-y-3"},S.map(O=>e.createElement("div",{key:O.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},O.label),e.createElement("p",{className:"text-sm font-semibold text-gray-900"},ir(O.count)," annonces"),e.createElement("p",{className:"text-xs text-gray-500"},ir(O.favorites)," favoris  ",ir(O.clicks)," contacts")))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune activit rcente.");case"categories":return v.length?e.createElement("div",{className:"flex flex-wrap gap-2"},v.map(O=>e.createElement("span",{key:O.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},O.category,"  ",ir(O.count)," annonces"))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible.");case"topProducts":return N.length?e.createElement("div",{className:"space-y-3"},N.map(O=>e.createElement("div",{key:O._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},O.title),e.createElement("span",{className:"text-xs text-gray-500"},O.category||"Catgorie inconnue")),e.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-400"},O.status||"Statut inconnu"),e.createElement("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Dr,{className:"h-3 w-3 text-pink-500"}),ir(O.favorites)),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3 text-purple-500"}),ir(O.whatsappClicks)),e.createElement("span",{className:"text-xs text-gray-400"},pu(O.price)))))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.");default:return null}},_=u.useMemo(()=>a?.followedShops||[],[a]),T=Math.max(1,Math.ceil(_.length/r)),M=u.useMemo(()=>{const O=(y-1)*r;return _.slice(O,O+r)},[_,y]);u.useEffect(()=>{x(O=>{const I=Math.max(1,Math.ceil(_.length/r));return Math.min(O,I)})},[_.length]);const R=p?{summary:"Vue densemble",highlights:"Performances",timeline:"Timeline dtaille",categories:"Rpartition par catgorie",topProducts:"Produits les plus engags"}[p]:"";return o?e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},e.createElement("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Chargement des statistiques")):e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-500"},e.createElement(ce,{to:"/admin",className:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-4 py-1 text-xs font-semibold text-gray-600 hover:border-indigo-300 hover:text-indigo-700"},e.createElement(an,{className:"h-4 w-4"}),"Retour au back office"),a?.user?e.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques de ",a.user.name):e.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques utilisateur")),a?.user?e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",null,a.user.email),e.createElement("p",null,a.user.accountType==="shop"?"Boutique":"Particulier"," "," ",a.user.role==="manager"?"Gestionnaire":"Utilisateur")):null),d?e.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d):null,!a&&!d?e.createElement("p",{className:"text-sm text-gray-500"},"Slectionnez un utilisateur pour afficher ses statistiques."):null,a?e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vue densemble"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>w("summary")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"},E.map(O=>e.createElement(xC,{key:O.label,label:O.label,value:O.value,helper:O.helper})))),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Performances"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>w("highlights")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3"},C.map(O=>e.createElement(yC,{key:O.label,label:O.label,value:O.value,helper:O.helper})))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Boutiques suivies"),e.createElement("p",{className:"text-xs text-gray-400"},_.length," boutique(s)")),_.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-2"},M.map(O=>e.createElement(ce,{key:O.id,to:Ir(O),className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs font-semibold text-gray-700 transition hover:border-indigo-200 hover:text-indigo-800"},e.createElement("div",{className:"min-w-0 space-y-0.5"},e.createElement("p",{className:"truncate text-sm font-semibold text-gray-900"},O.name),e.createElement("p",{className:"truncate text-[11px] text-gray-500"},O.city||"Localisation inconnue")),e.createElement("span",{className:"flex-shrink-0 text-[11px] text-gray-400"},ir(O.followersCount)," abonns")))),e.createElement("div",{className:"flex items-center justify-between text-[11px] text-gray-500"},e.createElement("span",null,"Affichage"," ",Math.min((y-1)*r+1,_.length),"-",Math.min(y*r,_.length)," sur ",_.length),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>x(O=>Math.max(1,O-1)),disabled:y<=1,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>x(O=>Math.min(T,O+1)),disabled:y>=T,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune boutique suivie.")),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Timeline"),e.createElement("p",{className:"text-xs text-gray-400"},"6 derniers mois")),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>w("timeline")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3"},S.length?S.map(O=>e.createElement("div",{key:O.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},O.label),e.createElement("p",{className:"text-lg font-semibold text-gray-900"},ir(O.count)," annonces"),e.createElement("p",{className:"text-xs text-gray-500"},ir(O.favorites)," favoris  ",ir(O.clicks)," contacts"))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucune activit rcente."))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition par catgorie"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>w("categories")},"Voir les rsultats")),e.createElement("div",{className:"flex flex-wrap gap-2"},v.length?v.map(O=>e.createElement("span",{key:O.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},O.category,"  ",ir(O.count)," annonces")):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible."))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Produits les plus engags"),e.createElement("p",{className:"text-xs text-gray-400"},"Favoris + clics")),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>w("topProducts")},"Voir les rsultats")),e.createElement("div",{className:"space-y-3"},N.length?N.map(O=>e.createElement(ce,{key:O._id,to:Ft(O),className:"flex flex-col gap-2 rounded-2xl border border-gray-100 bg-white p-4 shadow-sm transition hover:border-indigo-200 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},O.title),e.createElement("p",{className:"text-xs text-gray-500"},O.category||"Catgorie inconnue","  ",O.status||"Statut inconnu")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Dr,{className:"h-3 w-3 text-pink-500"}),ir(O.favorites)),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3 text-purple-500"}),ir(O.whatsappClicks)),e.createElement("span",{className:"text-xs text-gray-400"},pu(O.price))))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.")))):null,p&&e.createElement(bC,{title:R,onClose:k},L()))}const EC=12;function NC(){const[t,r]=u.useState([]),[a,l]=u.useState(!1),[o,c]=u.useState(""),[d,f]=u.useState(1),[p,g]=u.useState(1),y=async()=>{l(!0),c("");try{const{data:x}=await ee.get("/products/public",{params:{certified:!0,sort:"new",limit:EC,page:d}}),v=(Array.isArray(x?.items)?x.items:Array.isArray(x)?x:[]).filter(N=>N?.certified);r(v),g(x?.pagination?.pages||1)}catch(x){console.error("Erreur chargement certifis",x),c(x.response?.data?.message||x.message||"Impossible de charger les produits certifis.")}finally{l(!1)}};return u.useEffect(()=>{y()},[d]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits certifis"),e.createElement("p",{className:"text-sm text-gray-500"},"Toutes les annonces approuves par nos quipes certifies HDMarket.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),a?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((x,S)=>e.createElement("div",{key:S,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(x=>e.createElement(Ra,{key:x._id,p:x}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",d," / ",p),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>f(x=>Math.max(1,x-1)),disabled:d<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(x=>Math.min(p,x+1)),disabled:d>=p,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit certifi nest disponible pour le moment. Revenez plus tard."))}const fu=12,wC=4,SC=t=>new Set(t.map(r=>String(r?.id)).filter(Boolean));function kC(){const t=Yl(),r=sn(),{user:a}=u.useContext(Bt),[l,o]=u.useState([]),[c,d]=u.useState([]),[f,p]=u.useState(!1),[g,y]=u.useState(""),[x,S]=u.useState({}),[v,N]=u.useState({}),[E,C]=u.useState(!0);u.useEffect(()=>{let T=!0;return(async()=>{if(!a){T&&o(gc());return}try{const D=await X2();T&&o(D.length?D:gc())}catch{T&&o(gc())}})(),()=>{T=!1}},[a]);const w=u.useMemo(()=>J2(l,wC),[l]),k=u.useMemo(()=>SC(l),[l]),L=a?._id||a?.id||null;u.useEffect(()=>{d([]),y(""),S({}),N({}),C(w.length>0)},[w]);const _=u.useCallback(async()=>{if(f||!E||!w.length)return;p(!0),y("");const T=new Set(c.map(I=>String(I?._id))),M={...x},D={...v},R=[];for(const I of w){if(R.length>=fu)break;if(D[I])continue;const j=M[I]||1;try{const{data:Y}=await ee.get("/products/public",{params:{category:I,page:j,limit:fu,sort:"new"}}),te=Array.isArray(Y)?Y:Y?.items||[],me=Array.isArray(Y)?1:Y?.pagination?.pages||1;te.forEach(Q=>{if(R.length>=fu||!Q?._id)return;const ue=String(Q._id),ie=Q.user?._id||Q.user?.id||Q.user;L&&ie&&String(ie)===String(L)||k.has(ue)||T.has(ue)||R.some(H=>String(H._id)===ue)||R.push(Q)}),j>=me?D[I]=!0:M[I]=j+1}catch(Y){y(Y.response?.data?.message||Y.message||"Erreur de chargement.");break}}d(I=>[...I,...R]),S(M),N(D),w.some(I=>!D[I])||C(!1),p(!1)},[f,E,w,c,x,v,k,L]);return u.useEffect(()=>{w.length&&_()},[w,_]),u.useEffect(()=>{if(!t||f||!E)return;const T=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&_()};return window.addEventListener("scroll",T,{passive:!0}),()=>window.removeEventListener("scroll",T)},[t,f,E,_]),t?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 space-y-6"},e.createElement("section",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-lg font-bold text-gray-900"},"Suggestions"),e.createElement("p",{className:"text-xs text-gray-500"},"Bas sur vos produits consults rcemment"))),g&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},g),!w.length&&e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Consultez quelques produits pour obtenir des suggestions personnalises."),f&&c.length===0?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:6}).map((T,M)=>e.createElement("div",{key:M,className:"animate-pulse bg-gray-200 rounded-xl h-48"}))):e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},c.map(T=>e.createElement(ce,{key:T._id,to:Ft(T),...r,className:"rounded-2xl border border-gray-200 bg-white p-4 shadow-sm transition hover:shadow-md"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 line-clamp-2"},T.title),e.createElement("p",{className:"mt-2 text-sm font-bold text-indigo-600"},Number(T.price).toLocaleString()," FCFA")))),f&&c.length>0&&e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:3}).map((T,M)=>e.createElement("div",{key:M,className:"animate-pulse bg-gray-200 rounded-xl h-32"}))),!f&&c.length===0&&w.length>0&&e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Aucune suggestion disponible pour le moment."))):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6"},e.createElement("div",{className:"text-center"},e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Suggestions"),e.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Cette page est disponible sur mobile.")))}const $s=Hc("PushNotifications",{});function CC(t){const r=u.useRef(!1);u.useEffect(()=>{if(!t?.token||!Bl.isNativePlatform()||r.current)return;r.current=!0;let a=!0;(async()=>{(await $s.checkPermissions()).receive!=="granted"&&(await $s.requestPermissions()).receive!=="granted"||await $s.register()})().catch(()=>{});const o=$s.addListener("registration",async g=>{if(!(!a||!g?.value))try{await ee.post("/users/push-tokens",{token:g.value,platform:Bl.getPlatform()})}catch{}}),c=$s.addListener("registrationError",()=>{}),d=g=>{const y=g?.notification?.data||g?.data||{},x=y.url||y.link||y.deeplink||y.path;if(!x||typeof x!="string")return null;const S=x.trim();return S?S.startsWith("http")||S.startsWith("/")?S:`/${S}`:null},f=$s.addListener("pushNotificationReceived",g=>{const y=d(g);y&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("hdmarket:notification-link",{detail:{link:y},bubbles:!0,cancelable:!1})),typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))}),p=$s.addListener("pushNotificationActionPerformed",g=>{const y=d(g);if(y&&typeof window<"u"){window.location.assign(y);return}typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))});return()=>{a=!1,o.remove(),c.remove(),f.remove(),p.remove()}},[t?.token])}function AC(){const{user:t}=u.useContext(Bt);return CC(t),null}var Sh={};const ky=function(t){const r=[];let a=0;for(let l=0;l<t.length;l++){let o=t.charCodeAt(l);o<128?r[a++]=o:o<2048?(r[a++]=o>>6|192,r[a++]=o&63|128):(o&64512)===55296&&l+1<t.length&&(t.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++l)&1023),r[a++]=o>>18|240,r[a++]=o>>12&63|128,r[a++]=o>>6&63|128,r[a++]=o&63|128):(r[a++]=o>>12|224,r[a++]=o>>6&63|128,r[a++]=o&63|128)}return r},_C=function(t){const r=[];let a=0,l=0;for(;a<t.length;){const o=t[a++];if(o<128)r[l++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[a++];r[l++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[a++],d=t[a++],f=t[a++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;r[l++]=String.fromCharCode(55296+(p>>10)),r[l++]=String.fromCharCode(56320+(p&1023))}else{const c=t[a++],d=t[a++];r[l++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return r.join("")},Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,r){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<t.length;o+=3){const c=t[o],d=o+1<t.length,f=d?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,y=c>>2,x=(c&3)<<4|f>>4;let S=(f&15)<<2|g>>6,v=g&63;p||(v=64,d||(S=64)),l.push(a[y],a[x],a[S],a[v])}return l.join("")},encodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(t):this.encodeByteArray(ky(t),r)},decodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(t):_C(this.decodeStringToByteArray(t,r))},decodeStringToByteArray(t,r){this.init_();const a=r?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<t.length;){const c=a[t.charAt(o++)],f=o<t.length?a[t.charAt(o)]:0;++o;const g=o<t.length?a[t.charAt(o)]:64;++o;const x=o<t.length?a[t.charAt(o)]:64;if(++o,c==null||f==null||g==null||x==null)throw new PC;const S=c<<2|f>>4;if(l.push(S),g!==64){const v=f<<4&240|g>>2;if(l.push(v),x!==64){const N=g<<6&192|x;l.push(N)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TC=function(t){const r=ky(t);return Cy.encodeByteArray(r,!0)},Ay=function(t){return TC(t).replace(/\./g,"")},LC=function(t){try{return Cy.decodeString(t,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};function MC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RC=()=>MC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof Sh>"u")return;const t=Sh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=t&&LC(t[1]);return r&&JSON.parse(r)},OC=()=>{try{return RC()||IC()||jC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_y=()=>{var t;return(t=OC())===null||t===void 0?void 0:t.config};class zC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}wrapCallback(r){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(a):r(a,l))}}}function Py(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gp(){try{return typeof indexedDB=="object"}catch{return!1}}function hp(){return new Promise((t,r)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(l),t(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var c;r(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(a){r(a)}})}function Ty(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const DC="FirebaseError";class el extends Error{constructor(r,a,l){super(a),this.code=r,this.customData=l,this.name=DC,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(r,a,l){this.service=r,this.serviceName=a,this.errors=l}create(r,...a){const l=a[0]||{},o=`${this.service}/${r}`,c=this.errors[r],d=c?FC(c,l):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new el(o,f,l)}}function FC(t,r){return t.replace($C,(a,l)=>{const o=r[l];return o!=null?String(o):`<${l}?>`})}const $C=/\{\$([^}]+)}/g;function Rc(t,r){if(t===r)return!0;const a=Object.keys(t),l=Object.keys(r);for(const o of a){if(!l.includes(o))return!1;const c=t[o],d=r[o];if(kh(c)&&kh(d)){if(!Rc(c,d))return!1}else if(c!==d)return!1}for(const o of l)if(!a.includes(o))return!1;return!0}function kh(t){return t!==null&&typeof t=="object"}const BC=1e3,VC=2,qC=14400*1e3,UC=.5;function Ch(t,r=BC,a=VC){const l=r*Math.pow(a,t),o=Math.round(UC*l*(Math.random()-.5)*2);return Math.min(qC,l+o)}function Jc(t){return t&&t._delegate?t._delegate:t}class ys{constructor(r,a,l){this.name=r,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const Bs="[DEFAULT]";class HC{constructor(r,a){this.name=r,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const a=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(a)){const l=new zC;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(r){var a;const l=this.normalizeInstanceIdentifier(r?.identifier),o=(a=r?.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(GC(r))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});l.resolve(c)}catch{}}}}clearInstance(r=Bs){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...r.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Bs){return this.instances.has(r)}getOptions(r=Bs){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:a={}}=r,l=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);l===f&&d.resolve(o)}return o}onInit(r,a){var l;const o=this.normalizeInstanceIdentifier(a),c=(l=this.onInitCallbacks.get(o))!==null&&l!==void 0?l:new Set;c.add(r),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&r(d,o),()=>{c.delete(r)}}invokeOnInitCallbacks(r,a){const l=this.onInitCallbacks.get(a);if(l)for(const o of l)try{o(r,a)}catch{}}getOrInitializeService({instanceIdentifier:r,options:a={}}){let l=this.instances.get(r);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:WC(r),options:a}),this.instances.set(r,l),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(l,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,l)}catch{}return l||null}normalizeInstanceIdentifier(r=Bs){return this.component?this.component.multipleInstances?r:Bs:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WC(t){return t===Bs?void 0:t}function GC(t){return t.instantiationMode==="EAGER"}class KC{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const a=this.getProvider(r.name);if(a.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);a.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const a=new HC(r,this);return this.providers.set(r,a),a}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));const YC={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},QC=Ht.INFO,XC={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},JC=(t,r,...a)=>{if(r<t.logLevel)return;const l=new Date().toISOString(),o=XC[r];if(o)console[o](`[${l}]  ${t.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Ly{constructor(r){this.name=r,this._logLevel=QC,this._logHandler=JC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Ht))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?YC[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...r),this._logHandler(this,Ht.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...r),this._logHandler(this,Ht.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...r),this._logHandler(this,Ht.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...r),this._logHandler(this,Ht.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...r),this._logHandler(this,Ht.ERROR,...r)}}const ZC=(t,r)=>r.some(a=>t instanceof a);let Ah,_h;function e3(){return Ah||(Ah=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t3(){return _h||(_h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,Uu=new WeakMap,Ry=new WeakMap,gu=new WeakMap,xp=new WeakMap;function r3(t){const r=new Promise((a,l)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{a(ps(t.result)),o()},d=()=>{l(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",d)});return r.then(a=>{a instanceof IDBCursor&&My.set(a,t)}).catch(()=>{}),xp.set(r,t),r}function a3(t){if(Uu.has(t))return;const r=new Promise((a,l)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{a(),o()},d=()=>{l(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});Uu.set(t,r)}let Hu={get(t,r,a){if(t instanceof IDBTransaction){if(r==="done")return Uu.get(t);if(r==="objectStoreNames")return t.objectStoreNames||Ry.get(t);if(r==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ps(t[r])},set(t,r,a){return t[r]=a,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function n3(t){Hu=t(Hu)}function s3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...a){const l=t.call(hu(this),r,...a);return Ry.set(l,r.sort?r.sort():[r]),ps(l)}:t3().includes(t)?function(...r){return t.apply(hu(this),r),ps(My.get(this))}:function(...r){return ps(t.apply(hu(this),r))}}function l3(t){return typeof t=="function"?s3(t):(t instanceof IDBTransaction&&a3(t),ZC(t,e3())?new Proxy(t,Hu):t)}function ps(t){if(t instanceof IDBRequest)return r3(t);if(gu.has(t))return gu.get(t);const r=l3(t);return r!==t&&(gu.set(t,r),xp.set(r,t)),r}const hu=t=>xp.get(t);function Iy(t,r,{blocked:a,upgrade:l,blocking:o,terminated:c}={}){const d=indexedDB.open(t,r),f=ps(d);return l&&d.addEventListener("upgradeneeded",p=>{l(ps(d.result),p.oldVersion,p.newVersion,ps(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const o3=["get","getKey","getAll","getAllKeys","count"],i3=["put","add","delete","clear"],xu=new Map;function Ph(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(xu.get(r))return xu.get(r);const a=r.replace(/FromIndex$/,""),l=r!==a,o=i3.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(o||o3.includes(a)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return l&&(g=g.index(f.shift())),(await Promise.all([g[a](...f),o&&p.done]))[0]};return xu.set(r,c),c}n3(t=>({...t,get:(r,a,l)=>Ph(r,a)||t.get(r,a,l),has:(r,a)=>!!Ph(r,a)||t.has(r,a)}));class c3{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(d3(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function d3(t){const r=t.getComponent();return r?.type==="VERSION"}const Wu="@firebase/app",Th="0.10.13";const Fn=new Ly("@firebase/app"),m3="@firebase/app-compat",u3="@firebase/analytics-compat",p3="@firebase/analytics",f3="@firebase/app-check-compat",g3="@firebase/app-check",h3="@firebase/auth",x3="@firebase/auth-compat",y3="@firebase/database",b3="@firebase/data-connect",v3="@firebase/database-compat",E3="@firebase/functions",N3="@firebase/functions-compat",w3="@firebase/installations",S3="@firebase/installations-compat",k3="@firebase/messaging",C3="@firebase/messaging-compat",A3="@firebase/performance",_3="@firebase/performance-compat",P3="@firebase/remote-config",T3="@firebase/remote-config-compat",L3="@firebase/storage",M3="@firebase/storage-compat",R3="@firebase/firestore",I3="@firebase/vertexai-preview",j3="@firebase/firestore-compat",O3="firebase";const Gu="[DEFAULT]",z3={[Wu]:"fire-core",[m3]:"fire-core-compat",[p3]:"fire-analytics",[u3]:"fire-analytics-compat",[g3]:"fire-app-check",[f3]:"fire-app-check-compat",[h3]:"fire-auth",[x3]:"fire-auth-compat",[y3]:"fire-rtdb",[b3]:"fire-data-connect",[v3]:"fire-rtdb-compat",[E3]:"fire-fn",[N3]:"fire-fn-compat",[w3]:"fire-iid",[S3]:"fire-iid-compat",[k3]:"fire-fcm",[C3]:"fire-fcm-compat",[A3]:"fire-perf",[_3]:"fire-perf-compat",[P3]:"fire-rc",[T3]:"fire-rc-compat",[L3]:"fire-gcs",[M3]:"fire-gcs-compat",[R3]:"fire-fst",[j3]:"fire-fst-compat",[I3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};const Vo=new Map,D3=new Map,Ku=new Map;function Lh(t,r){try{t.container.addComponent(r)}catch(a){Fn.debug(`Component ${r.name} failed to register with FirebaseApp ${t.name}`,a)}}function Xs(t){const r=t.name;if(Ku.has(r))return Fn.debug(`There were multiple attempts to register component ${r}.`),!1;Ku.set(r,t);for(const a of Vo.values())Lh(a,t);for(const a of D3.values())Lh(a,t);return!0}function Zc(t,r){const a=t.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),t.container.getProvider(r)}const F3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Xc("app","Firebase",F3);class $3{constructor(r,a,l){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}function jy(t,r={}){let a=t;typeof r!="object"&&(r={name:r});const l=Object.assign({name:Gu,automaticDataCollectionEnabled:!1},r),o=l.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(a||(a=_y()),!a)throw fs.create("no-options");const c=Vo.get(o);if(c){if(Rc(a,c.options)&&Rc(l,c.config))return c;throw fs.create("duplicate-app",{appName:o})}const d=new KC(o);for(const p of Ku.values())d.addComponent(p);const f=new $3(a,l,d);return Vo.set(o,f),f}function B3(t=Gu){const r=Vo.get(t);if(!r&&t===Gu&&_y())return jy();if(!r)throw fs.create("no-app",{appName:t});return r}function Mh(){return Array.from(Vo.values())}function gs(t,r,a){var l;let o=(l=z3[t])!==null&&l!==void 0?l:t;a&&(o+=`-${a}`);const c=o.match(/\s|\//),d=r.match(/\s|\//);if(c||d){const f=[`Unable to register library "${o}" with version "${r}":`];c&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Fn.warn(f.join(" "));return}Xs(new ys(`${o}-version`,()=>({library:o,version:r}),"VERSION"))}const V3="firebase-heartbeat-database",q3=1,qo="firebase-heartbeat-store";let yu=null;function Oy(){return yu||(yu=Iy(V3,q3,{upgrade:(t,r)=>{switch(r){case 0:try{t.createObjectStore(qo)}catch(a){console.warn(a)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),yu}async function U3(t){try{const a=(await Oy()).transaction(qo),l=await a.objectStore(qo).get(zy(t));return await a.done,l}catch(r){if(r instanceof el)Fn.warn(r.message);else{const a=fs.create("idb-get",{originalErrorMessage:r?.message});Fn.warn(a.message)}}}async function Rh(t,r){try{const l=(await Oy()).transaction(qo,"readwrite");await l.objectStore(qo).put(r,zy(t)),await l.done}catch(a){if(a instanceof el)Fn.warn(a.message);else{const l=fs.create("idb-set",{originalErrorMessage:a?.message});Fn.warn(l.message)}}}function zy(t){return`${t.name}!${t.options.appId}`}const H3=1024,W3=720*60*60*1e3;class G3{constructor(r){this.container=r,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new Y3(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var r,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ih();return((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=W3}),this._storage.overwrite(this._heartbeatsCache))}catch(l){Fn.warn(l)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Ih(),{heartbeatsToSend:l,unsentEntries:o}=K3(this._heartbeatsCache.heartbeats),c=Ay(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(a){return Fn.warn(a),""}}}function Ih(){return new Date().toISOString().substring(0,10)}function K3(t,r=H3){const a=[];let l=t.slice();for(const o of t){const c=a.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),jh(a)>r){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),jh(a)>r){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class Y3{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gp()?hp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await U3(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rh(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rh(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...r.heartbeats]})}else return}}function jh(t){return Ay(JSON.stringify({version:2,heartbeats:t})).length}function Q3(t){Xs(new ys("platform-logger",r=>new c3(r),"PRIVATE")),Xs(new ys("heartbeat",r=>new G3(r),"PRIVATE")),gs(Wu,Th,t),gs(Wu,Th,"esm2017"),gs("fire-js","")}Q3("");var X3="firebase",J3="10.14.1";gs(X3,J3,"app");const Dy="@firebase/installations",yp="0.6.9";const Fy=1e4,$y=`w:${yp}`,By="FIS_v2",Z3="https://firebaseinstallations.googleapis.com/v1",e6=3600*1e3,t6="installations",r6="Installations";const a6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Js=new Xc(t6,r6,a6);function Vy(t){return t instanceof el&&t.code.includes("request-failed")}function qy({projectId:t}){return`${Z3}/projects/${t}/installations`}function Uy(t){return{token:t.token,requestStatus:2,expiresIn:s6(t.expiresIn),creationTime:Date.now()}}async function Hy(t,r){const l=(await r.json()).error;return Js.create("request-failed",{requestName:t,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function Wy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function n6(t,{refreshToken:r}){const a=Wy(t);return a.append("Authorization",l6(r)),a}async function Gy(t){const r=await t();return r.status>=500&&r.status<600?t():r}function s6(t){return Number(t.replace("s","000"))}function l6(t){return`${By} ${t}`}async function o6({appConfig:t,heartbeatServiceProvider:r},{fid:a}){const l=qy(t),o=Wy(t),c=r.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={fid:a,authVersion:By,appId:t.appId,sdkVersion:$y},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await Gy(()=>fetch(l,f));if(p.ok){const g=await p.json();return{fid:g.fid||a,registrationStatus:2,refreshToken:g.refreshToken,authToken:Uy(g.authToken)}}else throw await Hy("Create Installation",p)}function Ky(t){return new Promise(r=>{setTimeout(r,t)})}function i6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const c6=/^[cdef][\w-]{21}$/,Yu="";function d6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const a=m6(t);return c6.test(a)?a:Yu}catch{return Yu}}function m6(t){return i6(t).substr(0,22)}function ed(t){return`${t.appName}!${t.appId}`}const Yy=new Map;function Qy(t,r){const a=ed(t);Xy(a,r),u6(a,r)}function Xy(t,r){const a=Yy.get(t);if(a)for(const l of a)l(r)}function u6(t,r){const a=p6();a&&a.postMessage({key:t,fid:r}),f6()}let Us=null;function p6(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{Xy(t.data.key,t.data.fid)}),Us}function f6(){Yy.size===0&&Us&&(Us.close(),Us=null)}const g6="firebase-installations-database",h6=1,Zs="firebase-installations-store";let bu=null;function bp(){return bu||(bu=Iy(g6,h6,{upgrade:(t,r)=>{r===0&&t.createObjectStore(Zs)}})),bu}async function Ic(t,r){const a=ed(t),o=(await bp()).transaction(Zs,"readwrite"),c=o.objectStore(Zs),d=await c.get(a);return await c.put(r,a),await o.done,(!d||d.fid!==r.fid)&&Qy(t,r.fid),r}async function Jy(t){const r=ed(t),l=(await bp()).transaction(Zs,"readwrite");await l.objectStore(Zs).delete(r),await l.done}async function td(t,r){const a=ed(t),o=(await bp()).transaction(Zs,"readwrite"),c=o.objectStore(Zs),d=await c.get(a),f=r(d);return f===void 0?await c.delete(a):await c.put(f,a),await o.done,f&&(!d||d.fid!==f.fid)&&Qy(t,f.fid),f}async function vp(t){let r;const a=await td(t.appConfig,l=>{const o=x6(l),c=y6(t,o);return r=c.registrationPromise,c.installationEntry});return a.fid===Yu?{installationEntry:await r}:{installationEntry:a,registrationPromise:r}}function x6(t){const r=t||{fid:d6(),registrationStatus:0};return Zy(r)}function y6(t,r){if(r.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Js.create("app-offline"));return{installationEntry:r,registrationPromise:o}}const a={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},l=b6(t,a);return{installationEntry:a,registrationPromise:l}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:v6(t)}:{installationEntry:r}}async function b6(t,r){try{const a=await o6(t,r);return Ic(t.appConfig,a)}catch(a){throw Vy(a)&&a.customData.serverCode===409?await Jy(t.appConfig):await Ic(t.appConfig,{fid:r.fid,registrationStatus:0}),a}}async function v6(t){let r=await Oh(t.appConfig);for(;r.registrationStatus===1;)await Ky(100),r=await Oh(t.appConfig);if(r.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await vp(t);return l||a}return r}function Oh(t){return td(t,r=>{if(!r)throw Js.create("installation-not-found");return Zy(r)})}function Zy(t){return E6(t)?{fid:t.fid,registrationStatus:0}:t}function E6(t){return t.registrationStatus===1&&t.registrationTime+Fy<Date.now()}async function N6({appConfig:t,heartbeatServiceProvider:r},a){const l=w6(t,a),o=n6(t,a),c=r.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const d={installation:{sdkVersion:$y,appId:t.appId}},f={method:"POST",headers:o,body:JSON.stringify(d)},p=await Gy(()=>fetch(l,f));if(p.ok){const g=await p.json();return Uy(g)}else throw await Hy("Generate Auth Token",p)}function w6(t,{fid:r}){return`${qy(t)}/${r}/authTokens:generate`}async function Ep(t,r=!1){let a;const l=await td(t.appConfig,c=>{if(!eb(c))throw Js.create("not-registered");const d=c.authToken;if(!r&&C6(d))return c;if(d.requestStatus===1)return a=S6(t,r),c;{if(!navigator.onLine)throw Js.create("app-offline");const f=_6(c);return a=k6(t,f),f}});return a?await a:l.authToken}async function S6(t,r){let a=await zh(t.appConfig);for(;a.authToken.requestStatus===1;)await Ky(100),a=await zh(t.appConfig);const l=a.authToken;return l.requestStatus===0?Ep(t,r):l}function zh(t){return td(t,r=>{if(!eb(r))throw Js.create("not-registered");const a=r.authToken;return P6(a)?Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}):r})}async function k6(t,r){try{const a=await N6(t,r),l=Object.assign(Object.assign({},r),{authToken:a});return await Ic(t.appConfig,l),a}catch(a){if(Vy(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await Jy(t.appConfig);else{const l=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});await Ic(t.appConfig,l)}throw a}}function eb(t){return t!==void 0&&t.registrationStatus===2}function C6(t){return t.requestStatus===2&&!A6(t)}function A6(t){const r=Date.now();return r<t.creationTime||t.creationTime+t.expiresIn<r+e6}function _6(t){const r={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:r})}function P6(t){return t.requestStatus===1&&t.requestTime+Fy<Date.now()}async function T6(t){const r=t,{installationEntry:a,registrationPromise:l}=await vp(r);return l?l.catch(console.error):Ep(r).catch(console.error),a.fid}async function L6(t,r=!1){const a=t;return await M6(a),(await Ep(a,r)).token}async function M6(t){const{registrationPromise:r}=await vp(t);r&&await r}function R6(t){if(!t||!t.options)throw vu("App Configuration");if(!t.name)throw vu("App Name");const r=["projectId","apiKey","appId"];for(const a of r)if(!t.options[a])throw vu(a);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vu(t){return Js.create("missing-app-config-values",{valueName:t})}const tb="installations",I6="installations-internal",j6=t=>{const r=t.getProvider("app").getImmediate(),a=R6(r),l=Zc(r,"heartbeat");return{app:r,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},O6=t=>{const r=t.getProvider("app").getImmediate(),a=Zc(r,tb).getImmediate();return{getId:()=>T6(a),getToken:o=>L6(a,o)}};function z6(){Xs(new ys(tb,j6,"PUBLIC")),Xs(new ys(I6,O6,"PRIVATE"))}z6();gs(Dy,yp);gs(Dy,yp,"esm2017");const jc="analytics",D6="firebase_id",F6="origin",$6=60*1e3,B6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Np="https://www.googletagmanager.com/gtag/js";const Zr=new Ly("@firebase/analytics");const V6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ma=new Xc("analytics","Analytics",V6);function q6(t){if(!t.startsWith(Np)){const r=Ma.create("invalid-gtag-resource",{gtagURL:t});return Zr.warn(r.message),""}return t}function rb(t){return Promise.all(t.map(r=>r.catch(a=>a)))}function U6(t,r){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(t,r)),a}function H6(t,r){const a=U6("firebase-js-sdk-policy",{createScriptURL:q6}),l=document.createElement("script"),o=`${Np}?l=${t}&id=${r}`;l.src=a?a?.createScriptURL(o):o,l.async=!0,document.head.appendChild(l)}function W6(t){let r=[];return Array.isArray(window[t])?r=window[t]:window[t]=r,r}async function G6(t,r,a,l,o,c){const d=l[o];try{if(d)await r[d];else{const p=(await rb(a)).find(g=>g.measurementId===o);p&&await r[p.appId]}}catch(f){Zr.error(f)}t("config",o,c)}async function K6(t,r,a,l,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const f=await rb(a);for(const p of d){const g=f.find(x=>x.measurementId===p),y=g&&r[g.appId];if(y)c.push(y);else{c=[];break}}}c.length===0&&(c=Object.values(r)),await Promise.all(c),t("event",l,o||{})}catch(c){Zr.error(c)}}function Y6(t,r,a,l){async function o(c,...d){try{if(c==="event"){const[f,p]=d;await K6(t,r,a,f,p)}else if(c==="config"){const[f,p]=d;await G6(t,r,a,l,f,p)}else if(c==="consent"){const[f,p]=d;t("consent",f,p)}else if(c==="get"){const[f,p,g]=d;t("get",f,p,g)}else if(c==="set"){const[f]=d;t("set",f)}else t(c,...d)}catch(f){Zr.error(f)}}return o}function Q6(t,r,a,l,o){let c=function(...d){window[l].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=Y6(c,t,r,a),{gtagCore:c,wrappedGtag:window[o]}}function X6(t){const r=window.document.getElementsByTagName("script");for(const a of Object.values(r))if(a.src&&a.src.includes(Np)&&a.src.includes(t))return a;return null}const J6=30,Z6=1e3;class eA{constructor(r={},a=Z6){this.throttleMetadata=r,this.intervalMillis=a}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,a){this.throttleMetadata[r]=a}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const ab=new eA;function tA(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function rA(t){var r;const{appId:a,apiKey:l}=t,o={method:"GET",headers:tA(l)},c=B6.replace("{app-id}",a),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let f="";try{const p=await d.json();!((r=p.error)===null||r===void 0)&&r.message&&(f=p.error.message)}catch{}throw Ma.create("config-fetch-failed",{httpStatus:d.status,responseMessage:f})}return d.json()}async function aA(t,r=ab,a){const{appId:l,apiKey:o,measurementId:c}=t.options;if(!l)throw Ma.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:l};throw Ma.create("no-api-key")}const d=r.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new lA;return setTimeout(async()=>{f.abort()},$6),nb({appId:l,apiKey:o,measurementId:c},d,f,r)}async function nb(t,{throttleEndTimeMillis:r,backoffCount:a},l,o=ab){var c;const{appId:d,measurementId:f}=t;try{await nA(l,r)}catch(p){if(f)return Zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:d,measurementId:f};throw p}try{const p=await rA(t);return o.deleteThrottleMetadata(d),p}catch(p){const g=p;if(!sA(g)){if(o.deleteThrottleMetadata(d),f)return Zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:d,measurementId:f};throw p}const y=Number((c=g?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Ch(a,o.intervalMillis,J6):Ch(a,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+y,backoffCount:a+1};return o.setThrottleMetadata(d,x),Zr.debug(`Calling attemptFetch again in ${y} millis`),nb(t,x,l,o)}}function nA(t,r){return new Promise((a,l)=>{const o=Math.max(r-Date.now(),0),c=setTimeout(a,o);t.addEventListener(()=>{clearTimeout(c),l(Ma.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function sA(t){if(!(t instanceof el)||!t.customData)return!1;const r=Number(t.customData.httpStatus);return r===429||r===500||r===503||r===504}class lA{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function oA(t,r,a,l,o){if(o&&o.global){t("event",a,l);return}else{const c=await r,d=Object.assign(Object.assign({},l),{send_to:c});t("event",a,d)}}async function iA(t,r,a,l){{const o=await r;t("config",o,{update:!0,user_id:a})}}async function cA(t,r,a,l){{const o=await r;t("config",o,{update:!0,user_properties:a})}}async function dA(){if(gp())try{await hp()}catch(t){return Zr.warn(Ma.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Zr.warn(Ma.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mA(t,r,a,l,o,c,d){var f;const p=aA(t);p.then(v=>{a[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Zr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Zr.error(v)),r.push(p);const g=dA().then(v=>{if(v)return l.getId()}),[y,x]=await Promise.all([p,g]);X6(c)||H6(c,y.measurementId),o("js",new Date);const S=(f=d?.config)!==null&&f!==void 0?f:{};return S[F6]="firebase",S.update=!0,x!=null&&(S[D6]=x),o("config",y.measurementId,S),y.measurementId}class uA{constructor(r){this.app=r}_delete(){return delete Gs[this.app.options.appId],Promise.resolve()}}let Gs={},Dh=[];const Fh={};let Eu="dataLayer",pA="gtag",$h,rd,Bh=!1;function fA(){const t=[];if(Py()&&t.push("This is a browser extension environment."),Ty()||t.push("Cookies are not available."),t.length>0){const r=t.map((l,o)=>`(${o+1}) ${l}`).join(" "),a=Ma.create("invalid-analytics-context",{errorInfo:r});Zr.warn(a.message)}}function gA(t,r,a){fA();const l=t.options.appId;if(!l)throw Ma.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ma.create("no-api-key");if(Gs[l]!=null)throw Ma.create("already-exists",{id:l});if(!Bh){W6(Eu);const{wrappedGtag:c,gtagCore:d}=Q6(Gs,Dh,Fh,Eu,pA);rd=c,$h=d,Bh=!0}return Gs[l]=mA(t,Dh,Fh,r,$h,Eu,a),new uA(t)}function hA(t=B3()){t=Jc(t);const r=Zc(t,jc);return r.isInitialized()?r.getImmediate():xA(t)}function xA(t,r={}){const a=Zc(t,jc);if(a.isInitialized()){const o=a.getImmediate();if(Rc(r,a.getOptions()))return o;throw Ma.create("already-initialized")}return a.initialize({options:r})}async function yA(){if(Py()||!Ty()||!gp())return!1;try{return await hp()}catch{return!1}}function Vh(t,r,a){t=Jc(t),iA(rd,Gs[t.app.options.appId],r).catch(l=>Zr.error(l))}function qh(t,r,a){t=Jc(t),cA(rd,Gs[t.app.options.appId],r).catch(l=>Zr.error(l))}function sb(t,r,a,l){t=Jc(t),oA(rd,Gs[t.app.options.appId],r,a,l).catch(o=>Zr.error(o))}const Uh="@firebase/analytics",Hh="0.10.8";function bA(){Xs(new ys(jc,(r,{options:a})=>{const l=r.getProvider("app").getImmediate(),o=r.getProvider("installations-internal").getImmediate();return gA(l,o,a)},"PUBLIC")),Xs(new ys("analytics-internal",t,"PRIVATE")),gs(Uh,Hh),gs(Uh,Hh,"esm2017");function t(r){try{const a=r.getProvider(jc).getImmediate();return{logEvent:(l,o,c)=>sb(a,l,o,c)}}catch(a){throw Ma.create("interop-component-reg-failed",{reason:a})}}}bA();const vA={apiKey:"AIzaSyChYexMhZDqZ-8DaI-ynht7q_OL8M2260M",authDomain:"hdmarketcg.firebaseapp.com",projectId:"hdmarketcg",storageBucket:"hdmarketcg.firebasestorage.app",messagingSenderId:"882664621680",appId:"1:882664621680:web:976a95b6708fe409f0d6b5",measurementId:"G-NCC0QWVJQB"};let Wh=null,oc=null;const EA=async()=>{if(typeof window>"u")return!1;try{return await yA()}catch{return!1}},lb=async()=>oc||(oc=(async()=>{if(!await EA())return null;const r=Mh().length?Mh()[0]:jy(vA);return Wh=hA(r),Wh})(),oc),NA=async({path:t,title:r})=>{const a=await lb();if(!a)return;const l=t||window.location.pathname;sb(a,"page_view",{page_path:l,page_location:window.location.href,page_title:r||document.title||"HDMarket"})},wA=async t=>{const r=await lb();if(!r)return;if(!t){Vh(r,null),qh(r,{});return}const a=t._id||t.id||null;a&&Vh(r,String(a)),qh(r,{account_type:t.accountType||"person",role:t.role||"user"})};function SA(){const t=wa(),{user:r}=u.useContext(Bt);return u.useEffect(()=>{wA(r)},[r]),u.useEffect(()=>{const a=`${t.pathname}${t.search||""}`;NA({path:a})},[t]),null}function kA(){return X5(),e.createElement($E,null,e.createElement(AC,null),e.createElement(SA,null),e.createElement(J5,null),e.createElement(U2,null),e.createElement("main",{className:"pt-20 sm:pt-24 md:pt-32 pb-24 md:pb-0",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 5rem)"}},e.createElement(LE,null,e.createElement(it,{path:"/",element:e.createElement(Rk,null)}),e.createElement(it,{path:"/login",element:e.createElement(Ik,null)}),e.createElement(it,{path:"/register",element:e.createElement(jk,null)}),e.createElement(it,{path:"/forgot-password",element:e.createElement(Ok,null)}),e.createElement(it,{path:"/product/:slug",element:e.createElement(f5,null)}),e.createElement(it,{path:"/product-preview/:slug",element:e.createElement(b5,null)}),e.createElement(it,{path:"/shop/:slug",element:e.createElement(D5,null)}),e.createElement(it,{path:"/shops/verified",element:e.createElement($5,null)}),e.createElement(it,{path:"/help",element:e.createElement(F5,null)}),e.createElement(it,{path:"/top-deals",element:e.createElement(Xk,null)}),e.createElement(it,{path:"/top-ranking",element:e.createElement(Zk,null)}),e.createElement(it,{path:"/top-favorites",element:e.createElement(t5,null)}),e.createElement(it,{path:"/top-discounts",element:e.createElement(a5,null)}),e.createElement(it,{path:"/top-new",element:e.createElement(s5,null)}),e.createElement(it,{path:"/top-used",element:e.createElement(o5,null)}),e.createElement(it,{path:"/products",element:e.createElement(u5,null)}),e.createElement(it,{path:"/cities",element:e.createElement(p5,null)}),e.createElement(it,{path:"/categories/:categoryId",element:e.createElement(c5,null)}),e.createElement(it,{path:"/suggestions",element:e.createElement(kC,null)}),e.createElement(it,{path:"/favorites",element:e.createElement(or,null,e.createElement(I5,null))}),e.createElement(it,{path:"/product/:slug/edit",element:e.createElement(or,null,e.createElement(v5,null))}),e.createElement(it,{path:"/profile",element:e.createElement(or,null,e.createElement(T5,null))}),e.createElement(it,{path:"/notifications",element:e.createElement(or,null,e.createElement(R5,null))}),e.createElement(it,{path:"/cart",element:e.createElement(or,null,e.createElement(N5,null))}),e.createElement(it,{path:"/my",element:e.createElement(or,null,e.createElement($k,null))}),e.createElement(it,{path:"/my/stats",element:e.createElement(or,null,e.createElement(V5,null))}),e.createElement(it,{path:"/orders",element:e.createElement(or,null,e.createElement(dh,null))}),e.createElement(it,{path:"/orders/checkout",element:e.createElement(or,null,e.createElement(Q5,null))}),e.createElement(it,{path:"/orders/:status",element:e.createElement(or,null,e.createElement(dh,null))}),e.createElement(it,{path:"/seller/orders",element:e.createElement(or,null,e.createElement(uh,null))}),e.createElement(it,{path:"/seller/orders/:status",element:e.createElement(or,null,e.createElement(uh,null))}),e.createElement(it,{path:"/admin/chat-templates",element:e.createElement(or,{roles:["admin"]},e.createElement(lC,null))}),e.createElement(it,{path:"/admin",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(Uk,null))}),e.createElement(it,{path:"/admin/payments",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(Hk,null))}),e.createElement(it,{path:"/admin/orders",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(Kk,null))}),e.createElement(it,{path:"/admin/delivery-guys",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(Yk,null))}),e.createElement(it,{path:"/admin/users",element:e.createElement(or,{role:"admin"},e.createElement(Wk,null))}),e.createElement(it,{path:"/admin/users/:id/stats",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(vC,null))}),e.createElement(it,{path:"/admin/product-boosts",element:e.createElement(or,{roles:["admin"]},e.createElement(iC,null))}),e.createElement(it,{path:"/admin/products",element:e.createElement(or,{roles:["admin","manager"]},e.createElement(pC,null))}),e.createElement(it,{path:"/admin/feedback",element:e.createElement(or,{roles:["admin"]},e.createElement(gC,null))}),e.createElement(it,{path:"/certified-products",element:e.createElement(NC,null)}))),e.createElement(H2,null),e.createElement(eC,null),e.createElement(sC,null))}Bv.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(Vw,null,e.createElement(qw,null,e.createElement(Uw,null,e.createElement(Bk,null,e.createElement(kA,null)))))));
