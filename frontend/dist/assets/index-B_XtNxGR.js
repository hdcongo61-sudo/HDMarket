function iI(t,r){for(var a=0;a<r.length;a++){const n=r[a];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py={exports:{}},Yt={};var QS;function lI(){if(QS)return Yt;QS=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function x(G,Y,V){this.props=G,this.context=Y,this.refs=E,this.updater=V||b}x.prototype.isReactComponent={},x.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},x.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=x.prototype;function k(G,Y,V){this.props=G,this.context=Y,this.refs=E,this.updater=V||b}var A=k.prototype=new N;A.constructor=k,w(A,x.prototype),A.isPureReactComponent=!0;var P=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(G,Y,V){var J,ue={},he=null,Oe=null;if(Y!=null)for(J in Y.ref!==void 0&&(Oe=Y.ref),Y.key!==void 0&&(he=""+Y.key),Y)S.call(Y,J)&&!T.hasOwnProperty(J)&&(ue[J]=Y[J]);var te=arguments.length-2;if(te===1)ue.children=V;else if(1<te){for(var ie=Array(te),de=0;de<te;de++)ie[de]=arguments[de+2];ue.children=ie}if(G&&G.defaultProps)for(J in te=G.defaultProps,te)ue[J]===void 0&&(ue[J]=te[J]);return{$$typeof:t,type:G,key:he,ref:Oe,props:ue,_owner:_.current}}function R(G,Y){return{$$typeof:t,type:G.type,key:Y,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function j(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(V){return Y[V]})}var $=/\/+/g;function K(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?j(""+G.key):Y.toString(36)}function W(G,Y,V,J,ue){var he=typeof G;(he==="undefined"||he==="boolean")&&(G=null);var Oe=!1;if(G===null)Oe=!0;else switch(he){case"string":case"number":Oe=!0;break;case"object":switch(G.$$typeof){case t:case r:Oe=!0}}if(Oe)return Oe=G,ue=ue(Oe),G=J===""?"."+K(Oe,0):J,P(ue)?(V="",G!=null&&(V=G.replace($,"$&/")+"/"),W(ue,Y,V,"",function(de){return de})):ue!=null&&(D(ue)&&(ue=R(ue,V+(!ue.key||Oe&&Oe.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+G)),Y.push(ue)),1;if(Oe=0,J=J===""?".":J+":",P(G))for(var te=0;te<G.length;te++){he=G[te];var ie=J+K(he,te);Oe+=W(he,Y,V,ie,ue)}else if(ie=y(G),typeof ie=="function")for(G=ie.call(G),te=0;!(he=G.next()).done;)he=he.value,ie=J+K(he,te++),Oe+=W(he,Y,V,ie,ue);else if(he==="object")throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Oe}function z(G,Y,V){if(G==null)return G;var J=[],ue=0;return W(G,J,"","",function(he){return Y.call(V,he,ue++)}),J}function Q(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(V){(G._status===0||G._status===-1)&&(G._status=1,G._result=V)},function(V){(G._status===0||G._status===-1)&&(G._status=2,G._result=V)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var ee={current:null},H={transition:null},q={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:_};function B(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:z,forEach:function(G,Y,V){z(G,function(){Y.apply(this,arguments)},V)},count:function(G){var Y=0;return z(G,function(){Y++}),Y},toArray:function(G){return z(G,function(Y){return Y})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Yt.Component=x,Yt.Fragment=a,Yt.Profiler=s,Yt.PureComponent=k,Yt.StrictMode=n,Yt.Suspense=u,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Yt.act=B,Yt.cloneElement=function(G,Y,V){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var J=w({},G.props),ue=G.key,he=G.ref,Oe=G._owner;if(Y!=null){if(Y.ref!==void 0&&(he=Y.ref,Oe=_.current),Y.key!==void 0&&(ue=""+Y.key),G.type&&G.type.defaultProps)var te=G.type.defaultProps;for(ie in Y)S.call(Y,ie)&&!T.hasOwnProperty(ie)&&(J[ie]=Y[ie]===void 0&&te!==void 0?te[ie]:Y[ie])}var ie=arguments.length-2;if(ie===1)J.children=V;else if(1<ie){te=Array(ie);for(var de=0;de<ie;de++)te[de]=arguments[de+2];J.children=te}return{$$typeof:t,type:G.type,key:ue,ref:he,props:J,_owner:Oe}},Yt.createContext=function(G){return G={$$typeof:i,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},Yt.createElement=O,Yt.createFactory=function(G){var Y=O.bind(null,G);return Y.type=G,Y},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(G){return{$$typeof:d,render:G}},Yt.isValidElement=D,Yt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:Q}},Yt.memo=function(G,Y){return{$$typeof:m,type:G,compare:Y===void 0?null:Y}},Yt.startTransition=function(G){var Y=H.transition;H.transition={};try{G()}finally{H.transition=Y}},Yt.unstable_act=B,Yt.useCallback=function(G,Y){return ee.current.useCallback(G,Y)},Yt.useContext=function(G){return ee.current.useContext(G)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(G){return ee.current.useDeferredValue(G)},Yt.useEffect=function(G,Y){return ee.current.useEffect(G,Y)},Yt.useId=function(){return ee.current.useId()},Yt.useImperativeHandle=function(G,Y,V){return ee.current.useImperativeHandle(G,Y,V)},Yt.useInsertionEffect=function(G,Y){return ee.current.useInsertionEffect(G,Y)},Yt.useLayoutEffect=function(G,Y){return ee.current.useLayoutEffect(G,Y)},Yt.useMemo=function(G,Y){return ee.current.useMemo(G,Y)},Yt.useReducer=function(G,Y,V){return ee.current.useReducer(G,Y,V)},Yt.useRef=function(G){return ee.current.useRef(G)},Yt.useState=function(G){return ee.current.useState(G)},Yt.useSyncExternalStore=function(G,Y,V){return ee.current.useSyncExternalStore(G,Y,V)},Yt.useTransition=function(){return ee.current.useTransition()},Yt.version="18.3.1",Yt}var JS;function nO(){return JS||(JS=1,py.exports=lI()),py.exports}var g=nO();const e=Fr(g),cI=iI({__proto__:null,default:e},[g]);var If={},gy={exports:{}},Rn={},hy={exports:{}},yy={};var ZS;function dI(){return ZS||(ZS=1,(function(t){function r(H,q){var B=H.length;H.push(q);e:for(;0<B;){var G=B-1>>>1,Y=H[G];if(0<s(Y,q))H[G]=q,H[B]=Y,B=G;else break e}}function a(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var q=H[0],B=H.pop();if(B!==q){H[0]=B;e:for(var G=0,Y=H.length,V=Y>>>1;G<V;){var J=2*(G+1)-1,ue=H[J],he=J+1,Oe=H[he];if(0>s(ue,B))he<Y&&0>s(Oe,ue)?(H[G]=Oe,H[he]=B,G=he):(H[G]=ue,H[J]=B,G=J);else if(he<Y&&0>s(Oe,B))H[G]=Oe,H[he]=B,G=he;else break e}}return q}function s(H,q){var B=H.sortIndex-q.sortIndex;return B!==0?B:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var u=[],m=[],p=1,f=null,y=3,b=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var q=a(m);q!==null;){if(q.callback===null)n(m);else if(q.startTime<=H)n(m),q.sortIndex=q.expirationTime,r(u,q);else break;q=a(m)}}function P(H){if(E=!1,A(H),!w)if(a(u)!==null)w=!0,Q(S);else{var q=a(m);q!==null&&ee(P,q.startTime-H)}}function S(H,q){w=!1,E&&(E=!1,N(O),O=-1),b=!0;var B=y;try{for(A(q),f=a(u);f!==null&&(!(f.expirationTime>q)||H&&!j());){var G=f.callback;if(typeof G=="function"){f.callback=null,y=f.priorityLevel;var Y=G(f.expirationTime<=q);q=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===a(u)&&n(u),A(q)}else n(u);f=a(u)}if(f!==null)var V=!0;else{var J=a(m);J!==null&&ee(P,J.startTime-q),V=!1}return V}finally{f=null,y=B,b=!1}}var _=!1,T=null,O=-1,R=5,D=-1;function j(){return!(t.unstable_now()-D<R)}function $(){if(T!==null){var H=t.unstable_now();D=H;var q=!0;try{q=T(!0,H)}finally{q?K():(_=!1,T=null)}}else _=!1}var K;if(typeof k=="function")K=function(){k($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,z=W.port2;W.port1.onmessage=$,K=function(){z.postMessage(null)}}else K=function(){x($,0)};function Q(H){T=H,_||(_=!0,K())}function ee(H,q){O=x(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,Q(S))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var B=y;y=q;try{return H()}finally{y=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var B=y;y=H;try{return q()}finally{y=B}},t.unstable_scheduleCallback=function(H,q,B){var G=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,H={id:p++,callback:q,priorityLevel:H,startTime:B,expirationTime:Y,sortIndex:-1},B>G?(H.sortIndex=B,r(m,H),a(u)===null&&H===a(m)&&(E?(N(O),O=-1):E=!0,ee(P,B-G))):(H.sortIndex=Y,r(u,H),w||b||(w=!0,Q(S))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var q=y;return function(){var B=y;y=q;try{return H.apply(this,arguments)}finally{y=B}}}})(yy)),yy}var e5;function uI(){return e5||(e5=1,hy.exports=dI()),hy.exports}var t5;function mI(){if(t5)return Rn;t5=1;var t=nO(),r=uI();function a(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(l,c){i(l,c),i(l+"Capture",c)}function i(l,c){for(s[l]=c,l=0;l<c.length;l++)n.add(c[l])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function y(l){return u.call(f,l)?!0:u.call(p,l)?!1:m.test(l)?f[l]=!0:(p[l]=!0,!1)}function b(l,c,h,v){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,c,h,v){if(c===null||typeof c>"u"||b(l,c,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(l,c,h,v,C,M,U){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=l,this.type=c,this.sanitizeURL=M,this.removeEmptyString=U}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new E(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];x[c]=new E(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new E(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new E(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new E(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new E(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new E(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new E(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new E(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function k(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(N,k);x[c]=new E(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(N,k);x[c]=new E(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(N,k);x[c]=new E(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new E(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new E(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,c,h,v){var C=x.hasOwnProperty(c)?x[c]:null;(C!==null?C.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,C,v)&&(h=null),v||C===null?y(c)&&(h===null?l.removeAttribute(c):l.setAttribute(c,""+h)):C.mustUseProperty?l[C.propertyName]=h===null?C.type===3?!1:"":h:(c=C.attributeName,v=C.attributeNamespace,h===null?l.removeAttribute(c):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,v?l.setAttributeNS(v,c,h):l.setAttribute(c,h))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=H&&l[H]||l["@@iterator"],typeof l=="function"?l:null)}var B=Object.assign,G;function Y(l){if(G===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);G=c&&c[1]||""}return`
`+G+l}var V=!1;function J(l,c){if(!l||V)return"";V=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Re){var v=Re}Reflect.construct(l,[],c)}else{try{c.call()}catch(Re){v=Re}l.call(c.prototype)}else{try{throw Error()}catch(Re){v=Re}l()}}catch(Re){if(Re&&v&&typeof Re.stack=="string"){for(var C=Re.stack.split(`
`),M=v.stack.split(`
`),U=C.length-1,ae=M.length-1;1<=U&&0<=ae&&C[U]!==M[ae];)ae--;for(;1<=U&&0<=ae;U--,ae--)if(C[U]!==M[ae]){if(U!==1||ae!==1)do if(U--,ae--,0>ae||C[U]!==M[ae]){var ce=`
`+C[U].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=U&&0<=ae);break}}}finally{V=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?Y(l):""}function ue(l){switch(l.tag){case 5:return Y(l.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return l=J(l.type,!1),l;case 11:return l=J(l.type.render,!1),l;case 1:return l=J(l.type,!0),l;default:return""}}function he(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case _:return"Portal";case R:return"Profiler";case O:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case j:return(l.displayName||"Context")+".Consumer";case D:return(l._context.displayName||"Context")+".Provider";case $:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case z:return c=l.displayName||null,c!==null?c:he(l.type)||"Memo";case Q:c=l._payload,l=l._init;try{return he(l(c))}catch{}}return null}function Oe(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(c);case 8:return c===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function te(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ie(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function de(l){var c=ie(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,M=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return C.call(this)},set:function(U){v=""+U,M.call(this,U)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(U){v=""+U},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ce(l){l._valueTracker||(l._valueTracker=de(l))}function ne(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return l&&(v=ie(l)?l.checked?"true":"false":l.value),l=v,l!==h?(c.setValue(l),!0):!1}function re(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ie(l,c){var h=c.checked;return B({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function fe(l,c){var h=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;h=te(c.value!=null?c.value:h),l._wrapperState={initialChecked:v,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Le(l,c){c=c.checked,c!=null&&A(l,"checked",c,!1)}function at(l,c){Le(l,c);var h=te(c.value),v=c.type;if(h!=null)v==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?it(l,c.type,h):c.hasOwnProperty("defaultValue")&&it(l,c.type,te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function nt(l,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,h||c===l.value||(l.value=c),l.defaultValue=c}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function it(l,c,h){(c!=="number"||re(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var xe=Array.isArray;function He(l,c,h,v){if(l=l.options,c){c={};for(var C=0;C<h.length;C++)c["$"+h[C]]=!0;for(h=0;h<l.length;h++)C=c.hasOwnProperty("$"+l[h].value),l[h].selected!==C&&(l[h].selected=C),C&&v&&(l[h].defaultSelected=!0)}else{for(h=""+te(h),c=null,C=0;C<l.length;C++){if(l[C].value===h){l[C].selected=!0,v&&(l[C].defaultSelected=!0);return}c!==null||l[C].disabled||(c=l[C])}c!==null&&(c.selected=!0)}}function Je(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(a(91));return B({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function xt(l,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(a(92));if(xe(h)){if(1<h.length)throw Error(a(93));h=h[0]}c=h}c==null&&(c=""),h=c}l._wrapperState={initialValue:te(h)}}function ht(l,c){var h=te(c.value),v=te(c.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),c.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),v!=null&&(l.defaultValue=""+v)}function mt(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function pt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?pt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Pt,Ge=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,v,C){MSApp.execUnsafeLocalFunction(function(){return l(c,h,v,C)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Pt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function ft(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ye=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(l){Ye.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),We[c]=We[l]})});function be(l,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||We.hasOwnProperty(l)&&We[l]?(""+c).trim():c+"px"}function ut(l,c){l=l.style;for(var h in c)if(c.hasOwnProperty(h)){var v=h.indexOf("--")===0,C=be(h,c[h],v);h==="float"&&(h="cssFloat"),v?l.setProperty(h,C):l[h]=C}}var et=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(l,c){if(c){if(et[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(a(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(a(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(a(61))}if(c.style!=null&&typeof c.style!="object")throw Error(a(62))}}function Ee(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var le=null;function Ne(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var tt=null,lt=null,gt=null;function F(l){if(l=zd(l)){if(typeof tt!="function")throw Error(a(280));var c=l.stateNode;c&&(c=Xm(c),tt(l.stateNode,l.type,c))}}function we(l){lt?gt?gt.push(l):gt=[l]:lt=l}function ye(){if(lt){var l=lt,c=gt;if(gt=lt=null,F(l),c)for(l=0;l<c.length;l++)F(c[l])}}function ke(l,c){return l(c)}function L(){}var me=!1;function Se(l,c,h){if(me)return l(c,h);me=!0;try{return ke(l,c,h)}finally{me=!1,(lt!==null||gt!==null)&&(L(),ye())}}function Ae(l,c){var h=l.stateNode;if(h===null)return null;var v=Xm(h);if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(a(231,c,typeof h));return h}var Fe=!1;if(d)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Fe=!1}function Qe(l,c,h,v,C,M,U,ae,ce){var Re=Array.prototype.slice.call(arguments,3);try{c.apply(h,Re)}catch(Ze){this.onError(Ze)}}var It=!1,Mt=null,wt=!1,Br=null,Or={onError:function(l){It=!0,Mt=l}};function na(l,c,h,v,C,M,U,ae,ce){It=!1,Mt=null,Qe.apply(Or,arguments)}function Hr(l,c,h,v,C,M,U,ae,ce){if(na.apply(this,arguments),It){if(It){var Re=Mt;It=!1,Mt=null}else throw Error(a(198));wt||(wt=!0,Br=Re)}}function tr(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function lr(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function sr(l){if(tr(l)!==l)throw Error(a(188))}function Lr(l){var c=l.alternate;if(!c){if(c=tr(l),c===null)throw Error(a(188));return c!==l?null:l}for(var h=l,v=c;;){var C=h.return;if(C===null)break;var M=C.alternate;if(M===null){if(v=C.return,v!==null){h=v;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===h)return sr(C),l;if(M===v)return sr(C),c;M=M.sibling}throw Error(a(188))}if(h.return!==v.return)h=C,v=M;else{for(var U=!1,ae=C.child;ae;){if(ae===h){U=!0,h=C,v=M;break}if(ae===v){U=!0,v=C,h=M;break}ae=ae.sibling}if(!U){for(ae=M.child;ae;){if(ae===h){U=!0,h=M,v=C;break}if(ae===v){U=!0,v=M,h=C;break}ae=ae.sibling}if(!U)throw Error(a(189))}}if(h.alternate!==v)throw Error(a(190))}if(h.tag!==3)throw Error(a(188));return h.stateNode.current===h?l:c}function Ir(l){return l=Lr(l),l!==null?ea(l):null}function ea(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=ea(l);if(c!==null)return c;l=l.sibling}return null}var Oa=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,Dr=r.unstable_shouldYield,Cr=r.unstable_requestPaint,Vt=r.unstable_now,Fa=r.unstable_getCurrentPriorityLevel,Ya=r.unstable_ImmediatePriority,Ba=r.unstable_UserBlockingPriority,da=r.unstable_NormalPriority,yn=r.unstable_LowPriority,As=r.unstable_IdlePriority,Zt=null,oe=null;function je(l){if(oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Zt,l,void 0,(l.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:rs,Rt=Math.log,pr=Math.LN2;function rs(l){return l>>>=0,l===0?32:31-(Rt(l)/pr|0)|0}var Ma=64,_s=4194304;function as(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Na(l,c){var h=l.pendingLanes;if(h===0)return 0;var v=0,C=l.suspendedLanes,M=l.pingedLanes,U=h&268435455;if(U!==0){var ae=U&~C;ae!==0?v=as(ae):(M&=U,M!==0&&(v=as(M)))}else U=h&~C,U!==0?v=as(U):M!==0&&(v=as(M));if(v===0)return 0;if(c!==0&&c!==v&&(c&C)===0&&(C=v&-v,M=c&-c,C>=M||C===16&&(M&4194240)!==0))return c;if((v&4)!==0&&(v|=h&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=v;0<c;)h=31-st(c),C=1<<h,v|=l[h],c&=~C;return v}function ns(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(l,c){for(var h=l.suspendedLanes,v=l.pingedLanes,C=l.expirationTimes,M=l.pendingLanes;0<M;){var U=31-st(M),ae=1<<U,ce=C[U];ce===-1?((ae&h)===0||(ae&v)!==0)&&(C[U]=ns(ae,c)):ce<=c&&(l.expiredLanes|=ae),M&=~ae}}function ss(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function os(){var l=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),l}function is(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Ps(l,c,h){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-st(c),l[c]=h}function _e(l,c){var h=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<h;){var C=31-st(h),M=1<<C;c[C]=0,v[C]=-1,l[C]=-1,h&=~M}}function Be(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var v=31-st(h),C=1<<v;C&c|l[v]&c&&(l[v]|=c),h&=~C}}var Ke=0;function cr(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var qr,ha,Wr,bn,Zs,Eo=!1,xn=[],An=null,Qa=null,_n=null,Ja=new Map,Ts=new Map,Bn=[],ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qn(l,c){switch(l){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Ja.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(c.pointerId)}}function eo(l,c,h,v,C,M){return l===null||l.nativeEvent!==M?(l={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:M,targetContainers:[C]},c!==null&&(c=zd(c),c!==null&&ha(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),l)}function Vi(l,c,h,v,C){switch(c){case"focusin":return An=eo(An,l,c,h,v,C),!0;case"dragenter":return Qa=eo(Qa,l,c,h,v,C),!0;case"mouseover":return _n=eo(_n,l,c,h,v,C),!0;case"pointerover":var M=C.pointerId;return Ja.set(M,eo(Ja.get(M)||null,l,c,h,v,C)),!0;case"gotpointercapture":return M=C.pointerId,Ts.set(M,eo(Ts.get(M)||null,l,c,h,v,C)),!0}return!1}function Hi(l){var c=Wi(l.target);if(c!==null){var h=tr(c);if(h!==null){if(c=h.tag,c===13){if(c=lr(h),c!==null){l.blockedOn=c,Zs(l.priority,function(){Wr(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Os(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=ve(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);le=v,h.target.dispatchEvent(v),le=null}else return c=zd(h),c!==null&&ha(c),l.blockedOn=h,!1;c.shift()}return!0}function to(l,c,h){Os(l)&&h.delete(c)}function ri(){Eo=!1,An!==null&&Os(An)&&(An=null),Qa!==null&&Os(Qa)&&(Qa=null),_n!==null&&Os(_n)&&(_n=null),Ja.forEach(to),Ts.forEach(to)}function Za(l,c){l.blockedOn===c&&(l.blockedOn=null,Eo||(Eo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ri)))}function ro(l){function c(C){return Za(C,l)}if(0<xn.length){Za(xn[0],l);for(var h=1;h<xn.length;h++){var v=xn[h];v.blockedOn===l&&(v.blockedOn=null)}}for(An!==null&&Za(An,l),Qa!==null&&Za(Qa,l),_n!==null&&Za(_n,l),Ja.forEach(c),Ts.forEach(c),h=0;h<Bn.length;h++)v=Bn[h],v.blockedOn===l&&(v.blockedOn=null);for(;0<Bn.length&&(h=Bn[0],h.blockedOn===null);)Hi(h),h.blockedOn===null&&Bn.shift()}var I=P.ReactCurrentBatchConfig,Ve=!0;function kt(l,c,h,v){var C=Ke,M=I.transition;I.transition=null;try{Ke=1,Bt(l,c,h,v)}finally{Ke=C,I.transition=M}}function Ht(l,c,h,v){var C=Ke,M=I.transition;I.transition=null;try{Ke=4,Bt(l,c,h,v)}finally{Ke=C,I.transition=M}}function Bt(l,c,h,v){if(Ve){var C=ve(l,c,h,v);if(C===null)nh(l,c,v,X,h),qn(l,v);else if(Vi(C,l,c,h,v))v.stopPropagation();else if(qn(l,v),c&4&&-1<ti.indexOf(l)){for(;C!==null;){var M=zd(C);if(M!==null&&qr(M),M=ve(l,c,h,v),M===null&&nh(l,c,v,X,h),M===C)break;C=M}C!==null&&v.stopPropagation()}else nh(l,c,v,null,h)}}var X=null;function ve(l,c,h,v){if(X=null,l=Ne(v),l=Wi(l),l!==null)if(c=tr(l),c===null)l=null;else if(h=c.tag,h===13){if(l=lr(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return X=l,null}function Pe(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fa()){case Ya:return 1;case Ba:return 4;case da:case yn:return 16;case As:return 536870912;default:return 16}default:return 16}}var De=null,Ue=null,zt=null;function Ar(){if(zt)return zt;var l,c=Ue,h=c.length,v,C="value"in De?De.value:De.textContent,M=C.length;for(l=0;l<h&&c[l]===C[l];l++);var U=h-l;for(v=1;v<=U&&c[h-v]===C[M-v];v++);return zt=C.slice(l,1<v?1-v:void 0)}function en(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function tn(){return!0}function Mr(){return!1}function St(l){function c(h,v,C,M,U){this._reactName=h,this._targetInst=C,this.type=v,this.nativeEvent=M,this.target=U,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(h=l[ae],this[ae]=h?h(M):M[ae]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?tn:Mr,this.isPropagationStopped=Mr,this}return B(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),c}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ct=St(rn),Ms=B({},rn,{view:0,detail:0}),RL=St(Ms),Vg,Hg,Pd,qm=B({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Pd&&(Pd&&l.type==="mousemove"?(Vg=l.screenX-Pd.screenX,Hg=l.screenY-Pd.screenY):Hg=Vg=0,Pd=l),Vg)},movementY:function(l){return"movementY"in l?l.movementY:Hg}}),F2=St(qm),$L=B({},qm,{dataTransfer:0}),LL=St($L),IL=B({},Ms,{relatedTarget:0}),Wg=St(IL),DL=B({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),zL=St(DL),FL=B({},rn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),BL=St(FL),qL=B({},rn,{data:0}),B2=St(qL),UL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WL(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=HL[l])?!!c[l]:!1}function Gg(){return WL}var GL=B({},Ms,{key:function(l){if(l.key){var c=UL[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=en(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?VL[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(l){return l.type==="keypress"?en(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?en(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),KL=St(GL),YL=B({},qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q2=St(YL),XL=B({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),QL=St(XL),JL=B({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=St(JL),e7=B({},qm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),t7=St(e7),r7=[9,13,27,32],Kg=d&&"CompositionEvent"in window,Td=null;d&&"documentMode"in document&&(Td=document.documentMode);var a7=d&&"TextEvent"in window&&!Td,U2=d&&(!Kg||Td&&8<Td&&11>=Td),V2=" ",H2=!1;function W2(l,c){switch(l){case"keyup":return r7.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Yl=!1;function n7(l,c){switch(l){case"compositionend":return G2(c);case"keypress":return c.which!==32?null:(H2=!0,V2);case"textInput":return l=c.data,l===V2&&H2?null:l;default:return null}}function s7(l,c){if(Yl)return l==="compositionend"||!Kg&&W2(l,c)?(l=Ar(),zt=Ue=De=null,Yl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return U2&&c.locale!=="ko"?null:c.data;default:return null}}var o7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K2(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!o7[l.type]:c==="textarea"}function Y2(l,c,h,v){we(v),c=Gm(c,"onChange"),0<c.length&&(h=new Ct("onChange","change",null,h,v),l.push({event:h,listeners:c}))}var Od=null,Md=null;function i7(l){fk(l,0)}function Um(l){var c=ec(l);if(ne(c))return l}function l7(l,c){if(l==="change")return c}var X2=!1;if(d){var Yg;if(d){var Xg="oninput"in document;if(!Xg){var Q2=document.createElement("div");Q2.setAttribute("oninput","return;"),Xg=typeof Q2.oninput=="function"}Yg=Xg}else Yg=!1;X2=Yg&&(!document.documentMode||9<document.documentMode)}function J2(){Od&&(Od.detachEvent("onpropertychange",Z2),Md=Od=null)}function Z2(l){if(l.propertyName==="value"&&Um(Md)){var c=[];Y2(c,Md,l,Ne(l)),Se(i7,c)}}function c7(l,c,h){l==="focusin"?(J2(),Od=c,Md=h,Od.attachEvent("onpropertychange",Z2)):l==="focusout"&&J2()}function d7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Um(Md)}function u7(l,c){if(l==="click")return Um(c)}function m7(l,c){if(l==="input"||l==="change")return Um(c)}function f7(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var js=typeof Object.is=="function"?Object.is:f7;function jd(l,c){if(js(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var C=h[v];if(!u.call(c,C)||!js(l[C],c[C]))return!1}return!0}function ek(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function tk(l,c){var h=ek(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=c&&v>=c)return{node:h,offset:c-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ek(h)}}function rk(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?rk(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function ak(){for(var l=window,c=re();c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=re(l.document)}return c}function Qg(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function p7(l){var c=ak(),h=l.focusedElem,v=l.selectionRange;if(c!==h&&h&&h.ownerDocument&&rk(h.ownerDocument.documentElement,h)){if(v!==null&&Qg(h)){if(c=v.start,l=v.end,l===void 0&&(l=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(l,h.value.length);else if(l=(c=h.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var C=h.textContent.length,M=Math.min(v.start,C);v=v.end===void 0?M:Math.min(v.end,C),!l.extend&&M>v&&(C=v,v=M,M=C),C=tk(h,M);var U=tk(h,v);C&&U&&(l.rangeCount!==1||l.anchorNode!==C.node||l.anchorOffset!==C.offset||l.focusNode!==U.node||l.focusOffset!==U.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),l.removeAllRanges(),M>v?(l.addRange(c),l.extend(U.node,U.offset)):(c.setEnd(U.node,U.offset),l.addRange(c)))}}for(c=[],l=h;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)l=c[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var g7=d&&"documentMode"in document&&11>=document.documentMode,Xl=null,Jg=null,Rd=null,Zg=!1;function nk(l,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Zg||Xl==null||Xl!==re(v)||(v=Xl,"selectionStart"in v&&Qg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Rd&&jd(Rd,v)||(Rd=v,v=Gm(Jg,"onSelect"),0<v.length&&(c=new Ct("onSelect","select",null,c,h),l.push({event:c,listeners:v}),c.target=Xl)))}function Vm(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var Ql={animationend:Vm("Animation","AnimationEnd"),animationiteration:Vm("Animation","AnimationIteration"),animationstart:Vm("Animation","AnimationStart"),transitionend:Vm("Transition","TransitionEnd")},eh={},sk={};d&&(sk=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Hm(l){if(eh[l])return eh[l];if(!Ql[l])return l;var c=Ql[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in sk)return eh[l]=c[h];return l}var ok=Hm("animationend"),ik=Hm("animationiteration"),lk=Hm("animationstart"),ck=Hm("transitionend"),dk=new Map,uk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(l,c){dk.set(l,c),o(c,[l])}for(var th=0;th<uk.length;th++){var rh=uk[th],h7=rh.toLowerCase(),y7=rh[0].toUpperCase()+rh.slice(1);ai(h7,"on"+y7)}ai(ok,"onAnimationEnd"),ai(ik,"onAnimationIteration"),ai(lk,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(ck,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b7=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function mk(l,c,h){var v=l.type||"unknown-event";l.currentTarget=h,Hr(v,c,void 0,l),l.currentTarget=null}function fk(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],C=v.event;v=v.listeners;e:{var M=void 0;if(c)for(var U=v.length-1;0<=U;U--){var ae=v[U],ce=ae.instance,Re=ae.currentTarget;if(ae=ae.listener,ce!==M&&C.isPropagationStopped())break e;mk(C,ae,Re),M=ce}else for(U=0;U<v.length;U++){if(ae=v[U],ce=ae.instance,Re=ae.currentTarget,ae=ae.listener,ce!==M&&C.isPropagationStopped())break e;mk(C,ae,Re),M=ce}}}if(wt)throw l=Br,wt=!1,Br=null,l}function Gr(l,c){var h=c[dh];h===void 0&&(h=c[dh]=new Set);var v=l+"__bubble";h.has(v)||(pk(c,l,2,!1),h.add(v))}function ah(l,c,h){var v=0;c&&(v|=4),pk(h,l,v,c)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function Ld(l){if(!l[Wm]){l[Wm]=!0,n.forEach(function(h){h!=="selectionchange"&&(b7.has(h)||ah(h,!1,l),ah(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[Wm]||(c[Wm]=!0,ah("selectionchange",!1,c))}}function pk(l,c,h,v){switch(Pe(c)){case 1:var C=kt;break;case 4:C=Ht;break;default:C=Bt}h=C.bind(null,c,h,l),C=void 0,!Fe||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),v?C!==void 0?l.addEventListener(c,h,{capture:!0,passive:C}):l.addEventListener(c,h,!0):C!==void 0?l.addEventListener(c,h,{passive:C}):l.addEventListener(c,h,!1)}function nh(l,c,h,v,C){var M=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var U=v.tag;if(U===3||U===4){var ae=v.stateNode.containerInfo;if(ae===C||ae.nodeType===8&&ae.parentNode===C)break;if(U===4)for(U=v.return;U!==null;){var ce=U.tag;if((ce===3||ce===4)&&(ce=U.stateNode.containerInfo,ce===C||ce.nodeType===8&&ce.parentNode===C))return;U=U.return}for(;ae!==null;){if(U=Wi(ae),U===null)return;if(ce=U.tag,ce===5||ce===6){v=M=U;continue e}ae=ae.parentNode}}v=v.return}Se(function(){var Re=M,Ze=Ne(h),rt=[];e:{var Xe=dk.get(l);if(Xe!==void 0){var yt=Ct,Nt=l;switch(l){case"keypress":if(en(h)===0)break e;case"keydown":case"keyup":yt=KL;break;case"focusin":Nt="focus",yt=Wg;break;case"focusout":Nt="blur",yt=Wg;break;case"beforeblur":case"afterblur":yt=Wg;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=F2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=LL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=QL;break;case ok:case ik:case lk:yt=zL;break;case ck:yt=ZL;break;case"scroll":yt=RL;break;case"wheel":yt=t7;break;case"copy":case"cut":case"paste":yt=BL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=q2}var At=(c&4)!==0,ua=!At&&l==="scroll",Te=At?Xe!==null?Xe+"Capture":null:Xe;At=[];for(var ge=Re,Me;ge!==null;){Me=ge;var ot=Me.stateNode;if(Me.tag===5&&ot!==null&&(Me=ot,Te!==null&&(ot=Ae(ge,Te),ot!=null&&At.push(Id(ge,ot,Me)))),ua)break;ge=ge.return}0<At.length&&(Xe=new yt(Xe,Nt,null,h,Ze),rt.push({event:Xe,listeners:At}))}}if((c&7)===0){e:{if(Xe=l==="mouseover"||l==="pointerover",yt=l==="mouseout"||l==="pointerout",Xe&&h!==le&&(Nt=h.relatedTarget||h.fromElement)&&(Wi(Nt)||Nt[wo]))break e;if((yt||Xe)&&(Xe=Ze.window===Ze?Ze:(Xe=Ze.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,yt?(Nt=h.relatedTarget||h.toElement,yt=Re,Nt=Nt?Wi(Nt):null,Nt!==null&&(ua=tr(Nt),Nt!==ua||Nt.tag!==5&&Nt.tag!==6)&&(Nt=null)):(yt=null,Nt=Re),yt!==Nt)){if(At=F2,ot="onMouseLeave",Te="onMouseEnter",ge="mouse",(l==="pointerout"||l==="pointerover")&&(At=q2,ot="onPointerLeave",Te="onPointerEnter",ge="pointer"),ua=yt==null?Xe:ec(yt),Me=Nt==null?Xe:ec(Nt),Xe=new At(ot,ge+"leave",yt,h,Ze),Xe.target=ua,Xe.relatedTarget=Me,ot=null,Wi(Ze)===Re&&(At=new At(Te,ge+"enter",Nt,h,Ze),At.target=Me,At.relatedTarget=ua,ot=At),ua=ot,yt&&Nt)t:{for(At=yt,Te=Nt,ge=0,Me=At;Me;Me=Jl(Me))ge++;for(Me=0,ot=Te;ot;ot=Jl(ot))Me++;for(;0<ge-Me;)At=Jl(At),ge--;for(;0<Me-ge;)Te=Jl(Te),Me--;for(;ge--;){if(At===Te||Te!==null&&At===Te.alternate)break t;At=Jl(At),Te=Jl(Te)}At=null}else At=null;yt!==null&&gk(rt,Xe,yt,At,!1),Nt!==null&&ua!==null&&gk(rt,ua,Nt,At,!0)}}e:{if(Xe=Re?ec(Re):window,yt=Xe.nodeName&&Xe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Xe.type==="file")var Tt=l7;else if(K2(Xe))if(X2)Tt=m7;else{Tt=d7;var $t=c7}else(yt=Xe.nodeName)&&yt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Tt=u7);if(Tt&&(Tt=Tt(l,Re))){Y2(rt,Tt,h,Ze);break e}$t&&$t(l,Xe,Re),l==="focusout"&&($t=Xe._wrapperState)&&$t.controlled&&Xe.type==="number"&&it(Xe,"number",Xe.value)}switch($t=Re?ec(Re):window,l){case"focusin":(K2($t)||$t.contentEditable==="true")&&(Xl=$t,Jg=Re,Rd=null);break;case"focusout":Rd=Jg=Xl=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,nk(rt,h,Ze);break;case"selectionchange":if(g7)break;case"keydown":case"keyup":nk(rt,h,Ze)}var Lt;if(Kg)e:{switch(l){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Yl?W2(l,h)&&(qt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(qt="onCompositionStart");qt&&(U2&&h.locale!=="ko"&&(Yl||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Yl&&(Lt=Ar()):(De=Ze,Ue="value"in De?De.value:De.textContent,Yl=!0)),$t=Gm(Re,qt),0<$t.length&&(qt=new B2(qt,l,null,h,Ze),rt.push({event:qt,listeners:$t}),Lt?qt.data=Lt:(Lt=G2(h),Lt!==null&&(qt.data=Lt)))),(Lt=a7?n7(l,h):s7(l,h))&&(Re=Gm(Re,"onBeforeInput"),0<Re.length&&(Ze=new B2("onBeforeInput","beforeinput",null,h,Ze),rt.push({event:Ze,listeners:Re}),Ze.data=Lt))}fk(rt,c)})}function Id(l,c,h){return{instance:l,listener:c,currentTarget:h}}function Gm(l,c){for(var h=c+"Capture",v=[];l!==null;){var C=l,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=Ae(l,h),M!=null&&v.unshift(Id(l,M,C)),M=Ae(l,c),M!=null&&v.push(Id(l,M,C))),l=l.return}return v}function Jl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function gk(l,c,h,v,C){for(var M=c._reactName,U=[];h!==null&&h!==v;){var ae=h,ce=ae.alternate,Re=ae.stateNode;if(ce!==null&&ce===v)break;ae.tag===5&&Re!==null&&(ae=Re,C?(ce=Ae(h,M),ce!=null&&U.unshift(Id(h,ce,ae))):C||(ce=Ae(h,M),ce!=null&&U.push(Id(h,ce,ae)))),h=h.return}U.length!==0&&l.push({event:c,listeners:U})}var x7=/\r\n?/g,v7=/\u0000|\uFFFD/g;function hk(l){return(typeof l=="string"?l:""+l).replace(x7,`
`).replace(v7,"")}function Km(l,c,h){if(c=hk(c),hk(l)!==c&&h)throw Error(a(425))}function Ym(){}var sh=null,oh=null;function ih(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,E7=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,w7=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(l){return yk.resolve(null).then(l).catch(N7)}:lh;function N7(l){setTimeout(function(){throw l})}function ch(l,c){var h=c,v=0;do{var C=h.nextSibling;if(l.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(v===0){l.removeChild(C),ro(c);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=C}while(h);ro(c)}function ni(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function bk(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),ao="__reactFiber$"+Zl,Dd="__reactProps$"+Zl,wo="__reactContainer$"+Zl,dh="__reactEvents$"+Zl,k7="__reactListeners$"+Zl,S7="__reactHandles$"+Zl;function Wi(l){var c=l[ao];if(c)return c;for(var h=l.parentNode;h;){if(c=h[wo]||h[ao]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=bk(l);l!==null;){if(h=l[ao])return h;l=bk(l)}return c}l=h,h=l.parentNode}return null}function zd(l){return l=l[ao]||l[wo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function ec(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(a(33))}function Xm(l){return l[Dd]||null}var uh=[],tc=-1;function si(l){return{current:l}}function Kr(l){0>tc||(l.current=uh[tc],uh[tc]=null,tc--)}function Ur(l,c){tc++,uh[tc]=l.current,l.current=c}var oi={},an=si(oi),Pn=si(!1),Gi=oi;function rc(l,c){var h=l.type.contextTypes;if(!h)return oi;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in h)C[M]=c[M];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=C),C}function Tn(l){return l=l.childContextTypes,l!=null}function Qm(){Kr(Pn),Kr(an)}function xk(l,c,h){if(an.current!==oi)throw Error(a(168));Ur(an,c),Ur(Pn,h)}function vk(l,c,h){var v=l.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var C in v)if(!(C in c))throw Error(a(108,Oe(l)||"Unknown",C));return B({},h,v)}function Jm(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||oi,Gi=an.current,Ur(an,l),Ur(Pn,Pn.current),!0}function Ek(l,c,h){var v=l.stateNode;if(!v)throw Error(a(169));h?(l=vk(l,c,Gi),v.__reactInternalMemoizedMergedChildContext=l,Kr(Pn),Kr(an),Ur(an,l)):Kr(Pn),Ur(Pn,h)}var No=null,Zm=!1,mh=!1;function wk(l){No===null?No=[l]:No.push(l)}function C7(l){Zm=!0,wk(l)}function ii(){if(!mh&&No!==null){mh=!0;var l=0,c=Ke;try{var h=No;for(Ke=1;l<h.length;l++){var v=h[l];do v=v(!0);while(v!==null)}No=null,Zm=!1}catch(C){throw No!==null&&(No=No.slice(l+1)),Oa(Ya,ii),C}finally{Ke=c,mh=!1}}return null}var ac=[],nc=0,ef=null,tf=0,ls=[],cs=0,Ki=null,ko=1,So="";function Yi(l,c){ac[nc++]=tf,ac[nc++]=ef,ef=l,tf=c}function Nk(l,c,h){ls[cs++]=ko,ls[cs++]=So,ls[cs++]=Ki,Ki=l;var v=ko;l=So;var C=32-st(v)-1;v&=~(1<<C),h+=1;var M=32-st(c)+C;if(30<M){var U=C-C%5;M=(v&(1<<U)-1).toString(32),v>>=U,C-=U,ko=1<<32-st(c)+C|h<<C|v,So=M+l}else ko=1<<M|h<<C|v,So=l}function fh(l){l.return!==null&&(Yi(l,1),Nk(l,1,0))}function ph(l){for(;l===ef;)ef=ac[--nc],ac[nc]=null,tf=ac[--nc],ac[nc]=null;for(;l===Ki;)Ki=ls[--cs],ls[cs]=null,So=ls[--cs],ls[cs]=null,ko=ls[--cs],ls[cs]=null}var Un=null,Vn=null,Qr=!1,Rs=null;function kk(l,c){var h=fs(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=l,c=l.deletions,c===null?(l.deletions=[h],l.flags|=16):c.push(h)}function Sk(l,c){switch(l.tag){case 5:var h=l.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,Un=l,Vn=ni(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,Un=l,Vn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ki!==null?{id:ko,overflow:So}:null,l.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=fs(18,null,null,0),h.stateNode=c,h.return=l,l.child=h,Un=l,Vn=null,!0):!1;default:return!1}}function gh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function hh(l){if(Qr){var c=Vn;if(c){var h=c;if(!Sk(l,c)){if(gh(l))throw Error(a(418));c=ni(h.nextSibling);var v=Un;c&&Sk(l,c)?kk(v,h):(l.flags=l.flags&-4097|2,Qr=!1,Un=l)}}else{if(gh(l))throw Error(a(418));l.flags=l.flags&-4097|2,Qr=!1,Un=l}}}function Ck(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Un=l}function rf(l){if(l!==Un)return!1;if(!Qr)return Ck(l),Qr=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!ih(l.type,l.memoizedProps)),c&&(c=Vn)){if(gh(l))throw Ak(),Error(a(418));for(;c;)kk(l,c),c=ni(c.nextSibling)}if(Ck(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(c===0){Vn=ni(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}l=l.nextSibling}Vn=null}}else Vn=Un?ni(l.stateNode.nextSibling):null;return!0}function Ak(){for(var l=Vn;l;)l=ni(l.nextSibling)}function sc(){Vn=Un=null,Qr=!1}function yh(l){Rs===null?Rs=[l]:Rs.push(l)}var A7=P.ReactCurrentBatchConfig;function Fd(l,c,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(a(309));var v=h.stateNode}if(!v)throw Error(a(147,l));var C=v,M=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===M?c.ref:(c=function(U){var ae=C.refs;U===null?delete ae[M]:ae[M]=U},c._stringRef=M,c)}if(typeof l!="string")throw Error(a(284));if(!h._owner)throw Error(a(290,l))}return l}function af(l,c){throw l=Object.prototype.toString.call(c),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function _k(l){var c=l._init;return c(l._payload)}function Pk(l){function c(Te,ge){if(l){var Me=Te.deletions;Me===null?(Te.deletions=[ge],Te.flags|=16):Me.push(ge)}}function h(Te,ge){if(!l)return null;for(;ge!==null;)c(Te,ge),ge=ge.sibling;return null}function v(Te,ge){for(Te=new Map;ge!==null;)ge.key!==null?Te.set(ge.key,ge):Te.set(ge.index,ge),ge=ge.sibling;return Te}function C(Te,ge){return Te=gi(Te,ge),Te.index=0,Te.sibling=null,Te}function M(Te,ge,Me){return Te.index=Me,l?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<ge?(Te.flags|=2,ge):Me):(Te.flags|=2,ge)):(Te.flags|=1048576,ge)}function U(Te){return l&&Te.alternate===null&&(Te.flags|=2),Te}function ae(Te,ge,Me,ot){return ge===null||ge.tag!==6?(ge=ly(Me,Te.mode,ot),ge.return=Te,ge):(ge=C(ge,Me),ge.return=Te,ge)}function ce(Te,ge,Me,ot){var Tt=Me.type;return Tt===T?Ze(Te,ge,Me.props.children,ot,Me.key):ge!==null&&(ge.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Q&&_k(Tt)===ge.type)?(ot=C(ge,Me.props),ot.ref=Fd(Te,ge,Me),ot.return=Te,ot):(ot=_f(Me.type,Me.key,Me.props,null,Te.mode,ot),ot.ref=Fd(Te,ge,Me),ot.return=Te,ot)}function Re(Te,ge,Me,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Me.containerInfo||ge.stateNode.implementation!==Me.implementation?(ge=cy(Me,Te.mode,ot),ge.return=Te,ge):(ge=C(ge,Me.children||[]),ge.return=Te,ge)}function Ze(Te,ge,Me,ot,Tt){return ge===null||ge.tag!==7?(ge=al(Me,Te.mode,ot,Tt),ge.return=Te,ge):(ge=C(ge,Me),ge.return=Te,ge)}function rt(Te,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=ly(""+ge,Te.mode,Me),ge.return=Te,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case S:return Me=_f(ge.type,ge.key,ge.props,null,Te.mode,Me),Me.ref=Fd(Te,null,ge),Me.return=Te,Me;case _:return ge=cy(ge,Te.mode,Me),ge.return=Te,ge;case Q:var ot=ge._init;return rt(Te,ot(ge._payload),Me)}if(xe(ge)||q(ge))return ge=al(ge,Te.mode,Me,null),ge.return=Te,ge;af(Te,ge)}return null}function Xe(Te,ge,Me,ot){var Tt=ge!==null?ge.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Tt!==null?null:ae(Te,ge,""+Me,ot);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:return Me.key===Tt?ce(Te,ge,Me,ot):null;case _:return Me.key===Tt?Re(Te,ge,Me,ot):null;case Q:return Tt=Me._init,Xe(Te,ge,Tt(Me._payload),ot)}if(xe(Me)||q(Me))return Tt!==null?null:Ze(Te,ge,Me,ot,null);af(Te,Me)}return null}function yt(Te,ge,Me,ot,Tt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Te=Te.get(Me)||null,ae(ge,Te,""+ot,Tt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case S:return Te=Te.get(ot.key===null?Me:ot.key)||null,ce(ge,Te,ot,Tt);case _:return Te=Te.get(ot.key===null?Me:ot.key)||null,Re(ge,Te,ot,Tt);case Q:var $t=ot._init;return yt(Te,ge,Me,$t(ot._payload),Tt)}if(xe(ot)||q(ot))return Te=Te.get(Me)||null,Ze(ge,Te,ot,Tt,null);af(ge,ot)}return null}function Nt(Te,ge,Me,ot){for(var Tt=null,$t=null,Lt=ge,qt=ge=0,$a=null;Lt!==null&&qt<Me.length;qt++){Lt.index>qt?($a=Lt,Lt=null):$a=Lt.sibling;var gr=Xe(Te,Lt,Me[qt],ot);if(gr===null){Lt===null&&(Lt=$a);break}l&&Lt&&gr.alternate===null&&c(Te,Lt),ge=M(gr,ge,qt),$t===null?Tt=gr:$t.sibling=gr,$t=gr,Lt=$a}if(qt===Me.length)return h(Te,Lt),Qr&&Yi(Te,qt),Tt;if(Lt===null){for(;qt<Me.length;qt++)Lt=rt(Te,Me[qt],ot),Lt!==null&&(ge=M(Lt,ge,qt),$t===null?Tt=Lt:$t.sibling=Lt,$t=Lt);return Qr&&Yi(Te,qt),Tt}for(Lt=v(Te,Lt);qt<Me.length;qt++)$a=yt(Lt,Te,qt,Me[qt],ot),$a!==null&&(l&&$a.alternate!==null&&Lt.delete($a.key===null?qt:$a.key),ge=M($a,ge,qt),$t===null?Tt=$a:$t.sibling=$a,$t=$a);return l&&Lt.forEach(function(hi){return c(Te,hi)}),Qr&&Yi(Te,qt),Tt}function At(Te,ge,Me,ot){var Tt=q(Me);if(typeof Tt!="function")throw Error(a(150));if(Me=Tt.call(Me),Me==null)throw Error(a(151));for(var $t=Tt=null,Lt=ge,qt=ge=0,$a=null,gr=Me.next();Lt!==null&&!gr.done;qt++,gr=Me.next()){Lt.index>qt?($a=Lt,Lt=null):$a=Lt.sibling;var hi=Xe(Te,Lt,gr.value,ot);if(hi===null){Lt===null&&(Lt=$a);break}l&&Lt&&hi.alternate===null&&c(Te,Lt),ge=M(hi,ge,qt),$t===null?Tt=hi:$t.sibling=hi,$t=hi,Lt=$a}if(gr.done)return h(Te,Lt),Qr&&Yi(Te,qt),Tt;if(Lt===null){for(;!gr.done;qt++,gr=Me.next())gr=rt(Te,gr.value,ot),gr!==null&&(ge=M(gr,ge,qt),$t===null?Tt=gr:$t.sibling=gr,$t=gr);return Qr&&Yi(Te,qt),Tt}for(Lt=v(Te,Lt);!gr.done;qt++,gr=Me.next())gr=yt(Lt,Te,qt,gr.value,ot),gr!==null&&(l&&gr.alternate!==null&&Lt.delete(gr.key===null?qt:gr.key),ge=M(gr,ge,qt),$t===null?Tt=gr:$t.sibling=gr,$t=gr);return l&&Lt.forEach(function(oI){return c(Te,oI)}),Qr&&Yi(Te,qt),Tt}function ua(Te,ge,Me,ot){if(typeof Me=="object"&&Me!==null&&Me.type===T&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:e:{for(var Tt=Me.key,$t=ge;$t!==null;){if($t.key===Tt){if(Tt=Me.type,Tt===T){if($t.tag===7){h(Te,$t.sibling),ge=C($t,Me.props.children),ge.return=Te,Te=ge;break e}}else if($t.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Q&&_k(Tt)===$t.type){h(Te,$t.sibling),ge=C($t,Me.props),ge.ref=Fd(Te,$t,Me),ge.return=Te,Te=ge;break e}h(Te,$t);break}else c(Te,$t);$t=$t.sibling}Me.type===T?(ge=al(Me.props.children,Te.mode,ot,Me.key),ge.return=Te,Te=ge):(ot=_f(Me.type,Me.key,Me.props,null,Te.mode,ot),ot.ref=Fd(Te,ge,Me),ot.return=Te,Te=ot)}return U(Te);case _:e:{for($t=Me.key;ge!==null;){if(ge.key===$t)if(ge.tag===4&&ge.stateNode.containerInfo===Me.containerInfo&&ge.stateNode.implementation===Me.implementation){h(Te,ge.sibling),ge=C(ge,Me.children||[]),ge.return=Te,Te=ge;break e}else{h(Te,ge);break}else c(Te,ge);ge=ge.sibling}ge=cy(Me,Te.mode,ot),ge.return=Te,Te=ge}return U(Te);case Q:return $t=Me._init,ua(Te,ge,$t(Me._payload),ot)}if(xe(Me))return Nt(Te,ge,Me,ot);if(q(Me))return At(Te,ge,Me,ot);af(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,ge!==null&&ge.tag===6?(h(Te,ge.sibling),ge=C(ge,Me),ge.return=Te,Te=ge):(h(Te,ge),ge=ly(Me,Te.mode,ot),ge.return=Te,Te=ge),U(Te)):h(Te,ge)}return ua}var oc=Pk(!0),Tk=Pk(!1),nf=si(null),sf=null,ic=null,bh=null;function xh(){bh=ic=sf=null}function vh(l){var c=nf.current;Kr(nf),l._currentValue=c}function Eh(l,c,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===h)break;l=l.return}}function lc(l,c){sf=l,bh=ic=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(On=!0),l.firstContext=null)}function ds(l){var c=l._currentValue;if(bh!==l)if(l={context:l,memoizedValue:c,next:null},ic===null){if(sf===null)throw Error(a(308));ic=l,sf.dependencies={lanes:0,firstContext:l}}else ic=ic.next=l;return c}var Xi=null;function wh(l){Xi===null?Xi=[l]:Xi.push(l)}function Ok(l,c,h,v){var C=c.interleaved;return C===null?(h.next=h,wh(c)):(h.next=C.next,C.next=h),c.interleaved=h,Co(l,v)}function Co(l,c){l.lanes|=c;var h=l.alternate;for(h!==null&&(h.lanes|=c),h=l,l=l.return;l!==null;)l.childLanes|=c,h=l.alternate,h!==null&&(h.childLanes|=c),h=l,l=l.return;return h.tag===3?h.stateNode:null}var li=!1;function Nh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mk(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ao(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function ci(l,c,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(dr&2)!==0){var C=v.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),v.pending=c,Co(l,h)}return C=v.interleaved,C===null?(c.next=c,wh(v)):(c.next=C.next,C.next=c),v.interleaved=c,Co(l,h)}function of(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var v=c.lanes;v&=l.pendingLanes,h|=v,c.lanes=h,Be(l,h)}}function jk(l,c){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var C=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var U={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};M===null?C=M=U:M=M.next=U,h=h.next}while(h!==null);M===null?C=M=c:M=M.next=c}else C=M=c;h={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:v.shared,effects:v.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}function lf(l,c,h,v){var C=l.updateQueue;li=!1;var M=C.firstBaseUpdate,U=C.lastBaseUpdate,ae=C.shared.pending;if(ae!==null){C.shared.pending=null;var ce=ae,Re=ce.next;ce.next=null,U===null?M=Re:U.next=Re,U=ce;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,ae=Ze.lastBaseUpdate,ae!==U&&(ae===null?Ze.firstBaseUpdate=Re:ae.next=Re,Ze.lastBaseUpdate=ce))}if(M!==null){var rt=C.baseState;U=0,Ze=Re=ce=null,ae=M;do{var Xe=ae.lane,yt=ae.eventTime;if((v&Xe)===Xe){Ze!==null&&(Ze=Ze.next={eventTime:yt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Nt=l,At=ae;switch(Xe=c,yt=h,At.tag){case 1:if(Nt=At.payload,typeof Nt=="function"){rt=Nt.call(yt,rt,Xe);break e}rt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=At.payload,Xe=typeof Nt=="function"?Nt.call(yt,rt,Xe):Nt,Xe==null)break e;rt=B({},rt,Xe);break e;case 2:li=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,Xe=C.effects,Xe===null?C.effects=[ae]:Xe.push(ae))}else yt={eventTime:yt,lane:Xe,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ze===null?(Re=Ze=yt,ce=rt):Ze=Ze.next=yt,U|=Xe;if(ae=ae.next,ae===null){if(ae=C.shared.pending,ae===null)break;Xe=ae,ae=Xe.next,Xe.next=null,C.lastBaseUpdate=Xe,C.shared.pending=null}}while(!0);if(Ze===null&&(ce=rt),C.baseState=ce,C.firstBaseUpdate=Re,C.lastBaseUpdate=Ze,c=C.shared.interleaved,c!==null){C=c;do U|=C.lane,C=C.next;while(C!==c)}else M===null&&(C.shared.lanes=0);Zi|=U,l.lanes=U,l.memoizedState=rt}}function Rk(l,c,h){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var v=l[c],C=v.callback;if(C!==null){if(v.callback=null,v=h,typeof C!="function")throw Error(a(191,C));C.call(v)}}}var Bd={},no=si(Bd),qd=si(Bd),Ud=si(Bd);function Qi(l){if(l===Bd)throw Error(a(174));return l}function kh(l,c){switch(Ur(Ud,c),Ur(qd,l),Ur(no,Bd),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:bt(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=bt(c,l)}Kr(no),Ur(no,c)}function cc(){Kr(no),Kr(qd),Kr(Ud)}function $k(l){Qi(Ud.current);var c=Qi(no.current),h=bt(c,l.type);c!==h&&(Ur(qd,l),Ur(no,h))}function Sh(l){qd.current===l&&(Kr(no),Kr(qd))}var ta=si(0);function cf(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ch=[];function Ah(){for(var l=0;l<Ch.length;l++)Ch[l]._workInProgressVersionPrimary=null;Ch.length=0}var df=P.ReactCurrentDispatcher,_h=P.ReactCurrentBatchConfig,Ji=0,ra=null,ka=null,ja=null,uf=!1,Vd=!1,Hd=0,_7=0;function nn(){throw Error(a(321))}function Ph(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!js(l[h],c[h]))return!1;return!0}function Th(l,c,h,v,C,M){if(Ji=M,ra=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,df.current=l===null||l.memoizedState===null?M7:j7,l=h(v,C),Vd){M=0;do{if(Vd=!1,Hd=0,25<=M)throw Error(a(301));M+=1,ja=ka=null,c.updateQueue=null,df.current=R7,l=h(v,C)}while(Vd)}if(df.current=pf,c=ka!==null&&ka.next!==null,Ji=0,ja=ka=ra=null,uf=!1,c)throw Error(a(300));return l}function Oh(){var l=Hd!==0;return Hd=0,l}function so(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?ra.memoizedState=ja=l:ja=ja.next=l,ja}function us(){if(ka===null){var l=ra.alternate;l=l!==null?l.memoizedState:null}else l=ka.next;var c=ja===null?ra.memoizedState:ja.next;if(c!==null)ja=c,ka=l;else{if(l===null)throw Error(a(310));ka=l,l={memoizedState:ka.memoizedState,baseState:ka.baseState,baseQueue:ka.baseQueue,queue:ka.queue,next:null},ja===null?ra.memoizedState=ja=l:ja=ja.next=l}return ja}function Wd(l,c){return typeof c=="function"?c(l):c}function Mh(l){var c=us(),h=c.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=l;var v=ka,C=v.baseQueue,M=h.pending;if(M!==null){if(C!==null){var U=C.next;C.next=M.next,M.next=U}v.baseQueue=C=M,h.pending=null}if(C!==null){M=C.next,v=v.baseState;var ae=U=null,ce=null,Re=M;do{var Ze=Re.lane;if((Ji&Ze)===Ze)ce!==null&&(ce=ce.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),v=Re.hasEagerState?Re.eagerState:l(v,Re.action);else{var rt={lane:Ze,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};ce===null?(ae=ce=rt,U=v):ce=ce.next=rt,ra.lanes|=Ze,Zi|=Ze}Re=Re.next}while(Re!==null&&Re!==M);ce===null?U=v:ce.next=ae,js(v,c.memoizedState)||(On=!0),c.memoizedState=v,c.baseState=U,c.baseQueue=ce,h.lastRenderedState=v}if(l=h.interleaved,l!==null){C=l;do M=C.lane,ra.lanes|=M,Zi|=M,C=C.next;while(C!==l)}else C===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function jh(l){var c=us(),h=c.queue;if(h===null)throw Error(a(311));h.lastRenderedReducer=l;var v=h.dispatch,C=h.pending,M=c.memoizedState;if(C!==null){h.pending=null;var U=C=C.next;do M=l(M,U.action),U=U.next;while(U!==C);js(M,c.memoizedState)||(On=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),h.lastRenderedState=M}return[M,v]}function Lk(){}function Ik(l,c){var h=ra,v=us(),C=c(),M=!js(v.memoizedState,C);if(M&&(v.memoizedState=C,On=!0),v=v.queue,Rh(Fk.bind(null,h,v,l),[l]),v.getSnapshot!==c||M||ja!==null&&ja.memoizedState.tag&1){if(h.flags|=2048,Gd(9,zk.bind(null,h,v,C,c),void 0,null),Ra===null)throw Error(a(349));(Ji&30)!==0||Dk(h,c,C)}return C}function Dk(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=ra.updateQueue,c===null?(c={lastEffect:null,stores:null},ra.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function zk(l,c,h,v){c.value=h,c.getSnapshot=v,Bk(c)&&qk(l)}function Fk(l,c,h){return h(function(){Bk(c)&&qk(l)})}function Bk(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!js(l,h)}catch{return!0}}function qk(l){var c=Co(l,1);c!==null&&Ds(c,l,1,-1)}function Uk(l){var c=so();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:l},c.queue=l,l=l.dispatch=O7.bind(null,ra,l),[c.memoizedState,l]}function Gd(l,c,h,v){return l={tag:l,create:c,destroy:h,deps:v,next:null},c=ra.updateQueue,c===null?(c={lastEffect:null,stores:null},ra.updateQueue=c,c.lastEffect=l.next=l):(h=c.lastEffect,h===null?c.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,c.lastEffect=l)),l}function Vk(){return us().memoizedState}function mf(l,c,h,v){var C=so();ra.flags|=l,C.memoizedState=Gd(1|c,h,void 0,v===void 0?null:v)}function ff(l,c,h,v){var C=us();v=v===void 0?null:v;var M=void 0;if(ka!==null){var U=ka.memoizedState;if(M=U.destroy,v!==null&&Ph(v,U.deps)){C.memoizedState=Gd(c,h,M,v);return}}ra.flags|=l,C.memoizedState=Gd(1|c,h,M,v)}function Hk(l,c){return mf(8390656,8,l,c)}function Rh(l,c){return ff(2048,8,l,c)}function Wk(l,c){return ff(4,2,l,c)}function Gk(l,c){return ff(4,4,l,c)}function Kk(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Yk(l,c,h){return h=h!=null?h.concat([l]):null,ff(4,4,Kk.bind(null,c,l),h)}function $h(){}function Xk(l,c){var h=us();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&Ph(c,v[1])?v[0]:(h.memoizedState=[l,c],l)}function Qk(l,c){var h=us();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&Ph(c,v[1])?v[0]:(l=l(),h.memoizedState=[l,c],l)}function Jk(l,c,h){return(Ji&21)===0?(l.baseState&&(l.baseState=!1,On=!0),l.memoizedState=h):(js(h,c)||(h=os(),ra.lanes|=h,Zi|=h,l.baseState=!0),c)}function P7(l,c){var h=Ke;Ke=h!==0&&4>h?h:4,l(!0);var v=_h.transition;_h.transition={};try{l(!1),c()}finally{Ke=h,_h.transition=v}}function Zk(){return us().memoizedState}function T7(l,c,h){var v=fi(l);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},eS(l))tS(c,h);else if(h=Ok(l,c,h,v),h!==null){var C=En();Ds(h,l,v,C),rS(h,c,v)}}function O7(l,c,h){var v=fi(l),C={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(eS(l))tS(c,C);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var U=c.lastRenderedState,ae=M(U,h);if(C.hasEagerState=!0,C.eagerState=ae,js(ae,U)){var ce=c.interleaved;ce===null?(C.next=C,wh(c)):(C.next=ce.next,ce.next=C),c.interleaved=C;return}}catch{}h=Ok(l,c,C,v),h!==null&&(C=En(),Ds(h,l,v,C),rS(h,c,v))}}function eS(l){var c=l.alternate;return l===ra||c!==null&&c===ra}function tS(l,c){Vd=uf=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function rS(l,c,h){if((h&4194240)!==0){var v=c.lanes;v&=l.pendingLanes,h|=v,c.lanes=h,Be(l,h)}}var pf={readContext:ds,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},M7={readContext:ds,useCallback:function(l,c){return so().memoizedState=[l,c===void 0?null:c],l},useContext:ds,useEffect:Hk,useImperativeHandle:function(l,c,h){return h=h!=null?h.concat([l]):null,mf(4194308,4,Kk.bind(null,c,l),h)},useLayoutEffect:function(l,c){return mf(4194308,4,l,c)},useInsertionEffect:function(l,c){return mf(4,2,l,c)},useMemo:function(l,c){var h=so();return c=c===void 0?null:c,l=l(),h.memoizedState=[l,c],l},useReducer:function(l,c,h){var v=so();return c=h!==void 0?h(c):c,v.memoizedState=v.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},v.queue=l,l=l.dispatch=T7.bind(null,ra,l),[v.memoizedState,l]},useRef:function(l){var c=so();return l={current:l},c.memoizedState=l},useState:Uk,useDebugValue:$h,useDeferredValue:function(l){return so().memoizedState=l},useTransition:function(){var l=Uk(!1),c=l[0];return l=P7.bind(null,l[1]),so().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,h){var v=ra,C=so();if(Qr){if(h===void 0)throw Error(a(407));h=h()}else{if(h=c(),Ra===null)throw Error(a(349));(Ji&30)!==0||Dk(v,c,h)}C.memoizedState=h;var M={value:h,getSnapshot:c};return C.queue=M,Hk(Fk.bind(null,v,M,l),[l]),v.flags|=2048,Gd(9,zk.bind(null,v,M,h,c),void 0,null),h},useId:function(){var l=so(),c=Ra.identifierPrefix;if(Qr){var h=So,v=ko;h=(v&~(1<<32-st(v)-1)).toString(32)+h,c=":"+c+"R"+h,h=Hd++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=_7++,c=":"+c+"r"+h.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},j7={readContext:ds,useCallback:Xk,useContext:ds,useEffect:Rh,useImperativeHandle:Yk,useInsertionEffect:Wk,useLayoutEffect:Gk,useMemo:Qk,useReducer:Mh,useRef:Vk,useState:function(){return Mh(Wd)},useDebugValue:$h,useDeferredValue:function(l){var c=us();return Jk(c,ka.memoizedState,l)},useTransition:function(){var l=Mh(Wd)[0],c=us().memoizedState;return[l,c]},useMutableSource:Lk,useSyncExternalStore:Ik,useId:Zk,unstable_isNewReconciler:!1},R7={readContext:ds,useCallback:Xk,useContext:ds,useEffect:Rh,useImperativeHandle:Yk,useInsertionEffect:Wk,useLayoutEffect:Gk,useMemo:Qk,useReducer:jh,useRef:Vk,useState:function(){return jh(Wd)},useDebugValue:$h,useDeferredValue:function(l){var c=us();return ka===null?c.memoizedState=l:Jk(c,ka.memoizedState,l)},useTransition:function(){var l=jh(Wd)[0],c=us().memoizedState;return[l,c]},useMutableSource:Lk,useSyncExternalStore:Ik,useId:Zk,unstable_isNewReconciler:!1};function $s(l,c){if(l&&l.defaultProps){c=B({},c),l=l.defaultProps;for(var h in l)c[h]===void 0&&(c[h]=l[h]);return c}return c}function Lh(l,c,h,v){c=l.memoizedState,h=h(v,c),h=h==null?c:B({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var gf={isMounted:function(l){return(l=l._reactInternals)?tr(l)===l:!1},enqueueSetState:function(l,c,h){l=l._reactInternals;var v=En(),C=fi(l),M=Ao(v,C);M.payload=c,h!=null&&(M.callback=h),c=ci(l,M,C),c!==null&&(Ds(c,l,C,v),of(c,l,C))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var v=En(),C=fi(l),M=Ao(v,C);M.tag=1,M.payload=c,h!=null&&(M.callback=h),c=ci(l,M,C),c!==null&&(Ds(c,l,C,v),of(c,l,C))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=En(),v=fi(l),C=Ao(h,v);C.tag=2,c!=null&&(C.callback=c),c=ci(l,C,v),c!==null&&(Ds(c,l,v,h),of(c,l,v))}};function aS(l,c,h,v,C,M,U){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,M,U):c.prototype&&c.prototype.isPureReactComponent?!jd(h,v)||!jd(C,M):!0}function nS(l,c,h){var v=!1,C=oi,M=c.contextType;return typeof M=="object"&&M!==null?M=ds(M):(C=Tn(c)?Gi:an.current,v=c.contextTypes,M=(v=v!=null)?rc(l,C):oi),c=new c(h,M),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=gf,l.stateNode=c,c._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=C,l.__reactInternalMemoizedMaskedChildContext=M),c}function sS(l,c,h,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==l&&gf.enqueueReplaceState(c,c.state,null)}function Ih(l,c,h,v){var C=l.stateNode;C.props=h,C.state=l.memoizedState,C.refs={},Nh(l);var M=c.contextType;typeof M=="object"&&M!==null?C.context=ds(M):(M=Tn(c)?Gi:an.current,C.context=rc(l,M)),C.state=l.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Lh(l,c,M,h),C.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&gf.enqueueReplaceState(C,C.state,null),lf(l,h,C,v),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308)}function dc(l,c){try{var h="",v=c;do h+=ue(v),v=v.return;while(v);var C=h}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:l,source:c,stack:C,digest:null}}function Dh(l,c,h){return{value:l,source:null,stack:h??null,digest:c??null}}function zh(l,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var $7=typeof WeakMap=="function"?WeakMap:Map;function oS(l,c,h){h=Ao(-1,h),h.tag=3,h.payload={element:null};var v=c.value;return h.callback=function(){wf||(wf=!0,ey=v),zh(l,c)},h}function iS(l,c,h){h=Ao(-1,h),h.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var C=c.value;h.payload=function(){return v(C)},h.callback=function(){zh(l,c)}}var M=l.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(h.callback=function(){zh(l,c),typeof v!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),h}function lS(l,c,h){var v=l.pingCache;if(v===null){v=l.pingCache=new $7;var C=new Set;v.set(c,C)}else C=v.get(c),C===void 0&&(C=new Set,v.set(c,C));C.has(h)||(C.add(h),l=Y7.bind(null,l,c,h),c.then(l,l))}function cS(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function dS(l,c,h,v,C){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ao(-1,1),c.tag=2,ci(h,c,1))),h.lanes|=1),l):(l.flags|=65536,l.lanes=C,l)}var L7=P.ReactCurrentOwner,On=!1;function vn(l,c,h,v){c.child=l===null?Tk(c,null,h,v):oc(c,l.child,h,v)}function uS(l,c,h,v,C){h=h.render;var M=c.ref;return lc(c,C),v=Th(l,c,h,v,M,C),h=Oh(),l!==null&&!On?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~C,_o(l,c,C)):(Qr&&h&&fh(c),c.flags|=1,vn(l,c,v,C),c.child)}function mS(l,c,h,v,C){if(l===null){var M=h.type;return typeof M=="function"&&!iy(M)&&M.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=M,fS(l,c,M,v,C)):(l=_f(h.type,null,v,c,c.mode,C),l.ref=c.ref,l.return=c,c.child=l)}if(M=l.child,(l.lanes&C)===0){var U=M.memoizedProps;if(h=h.compare,h=h!==null?h:jd,h(U,v)&&l.ref===c.ref)return _o(l,c,C)}return c.flags|=1,l=gi(M,v),l.ref=c.ref,l.return=c,c.child=l}function fS(l,c,h,v,C){if(l!==null){var M=l.memoizedProps;if(jd(M,v)&&l.ref===c.ref)if(On=!1,c.pendingProps=v=M,(l.lanes&C)!==0)(l.flags&131072)!==0&&(On=!0);else return c.lanes=l.lanes,_o(l,c,C)}return Fh(l,c,h,v,C)}function pS(l,c,h){var v=c.pendingProps,C=v.children,M=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(mc,Hn),Hn|=h;else{if((h&1073741824)===0)return l=M!==null?M.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Ur(mc,Hn),Hn|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=M!==null?M.baseLanes:h,Ur(mc,Hn),Hn|=v}else M!==null?(v=M.baseLanes|h,c.memoizedState=null):v=h,Ur(mc,Hn),Hn|=v;return vn(l,c,C,h),c.child}function gS(l,c){var h=c.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Fh(l,c,h,v,C){var M=Tn(h)?Gi:an.current;return M=rc(c,M),lc(c,C),h=Th(l,c,h,v,M,C),v=Oh(),l!==null&&!On?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~C,_o(l,c,C)):(Qr&&v&&fh(c),c.flags|=1,vn(l,c,h,C),c.child)}function hS(l,c,h,v,C){if(Tn(h)){var M=!0;Jm(c)}else M=!1;if(lc(c,C),c.stateNode===null)yf(l,c),nS(c,h,v),Ih(c,h,v,C),v=!0;else if(l===null){var U=c.stateNode,ae=c.memoizedProps;U.props=ae;var ce=U.context,Re=h.contextType;typeof Re=="object"&&Re!==null?Re=ds(Re):(Re=Tn(h)?Gi:an.current,Re=rc(c,Re));var Ze=h.getDerivedStateFromProps,rt=typeof Ze=="function"||typeof U.getSnapshotBeforeUpdate=="function";rt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae!==v||ce!==Re)&&sS(c,U,v,Re),li=!1;var Xe=c.memoizedState;U.state=Xe,lf(c,v,U,C),ce=c.memoizedState,ae!==v||Xe!==ce||Pn.current||li?(typeof Ze=="function"&&(Lh(c,h,Ze,v),ce=c.memoizedState),(ae=li||aS(c,h,ae,v,Xe,ce,Re))?(rt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ce),U.props=v,U.state=ce,U.context=Re,v=ae):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{U=c.stateNode,Mk(l,c),ae=c.memoizedProps,Re=c.type===c.elementType?ae:$s(c.type,ae),U.props=Re,rt=c.pendingProps,Xe=U.context,ce=h.contextType,typeof ce=="object"&&ce!==null?ce=ds(ce):(ce=Tn(h)?Gi:an.current,ce=rc(c,ce));var yt=h.getDerivedStateFromProps;(Ze=typeof yt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae!==rt||Xe!==ce)&&sS(c,U,v,ce),li=!1,Xe=c.memoizedState,U.state=Xe,lf(c,v,U,C);var Nt=c.memoizedState;ae!==rt||Xe!==Nt||Pn.current||li?(typeof yt=="function"&&(Lh(c,h,yt,v),Nt=c.memoizedState),(Re=li||aS(c,h,Re,v,Xe,Nt,ce)||!1)?(Ze||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Nt,ce),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Nt,ce)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||ae===l.memoizedProps&&Xe===l.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Xe===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Nt),U.props=v,U.state=Nt,U.context=ce,v=Re):(typeof U.componentDidUpdate!="function"||ae===l.memoizedProps&&Xe===l.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Xe===l.memoizedState||(c.flags|=1024),v=!1)}return Bh(l,c,h,v,M,C)}function Bh(l,c,h,v,C,M){gS(l,c);var U=(c.flags&128)!==0;if(!v&&!U)return C&&Ek(c,h,!1),_o(l,c,M);v=c.stateNode,L7.current=c;var ae=U&&typeof h.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,l!==null&&U?(c.child=oc(c,l.child,null,M),c.child=oc(c,null,ae,M)):vn(l,c,ae,M),c.memoizedState=v.state,C&&Ek(c,h,!0),c.child}function yS(l){var c=l.stateNode;c.pendingContext?xk(l,c.pendingContext,c.pendingContext!==c.context):c.context&&xk(l,c.context,!1),kh(l,c.containerInfo)}function bS(l,c,h,v,C){return sc(),yh(C),c.flags|=256,vn(l,c,h,v),c.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Uh(l){return{baseLanes:l,cachePool:null,transitions:null}}function xS(l,c,h){var v=c.pendingProps,C=ta.current,M=!1,U=(c.flags&128)!==0,ae;if((ae=U)||(ae=l!==null&&l.memoizedState===null?!1:(C&2)!==0),ae?(M=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(C|=1),Ur(ta,C&1),l===null)return hh(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(U=v.children,l=v.fallback,M?(v=c.mode,M=c.child,U={mode:"hidden",children:U},(v&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=U):M=Pf(U,v,0,null),l=al(l,v,h,null),M.return=c,l.return=c,M.sibling=l,c.child=M,c.child.memoizedState=Uh(h),c.memoizedState=qh,l):Vh(c,U));if(C=l.memoizedState,C!==null&&(ae=C.dehydrated,ae!==null))return I7(l,c,U,v,ae,C,h);if(M){M=v.fallback,U=c.mode,C=l.child,ae=C.sibling;var ce={mode:"hidden",children:v.children};return(U&1)===0&&c.child!==C?(v=c.child,v.childLanes=0,v.pendingProps=ce,c.deletions=null):(v=gi(C,ce),v.subtreeFlags=C.subtreeFlags&14680064),ae!==null?M=gi(ae,M):(M=al(M,U,h,null),M.flags|=2),M.return=c,v.return=c,v.sibling=M,c.child=v,v=M,M=c.child,U=l.child.memoizedState,U=U===null?Uh(h):{baseLanes:U.baseLanes|h,cachePool:null,transitions:U.transitions},M.memoizedState=U,M.childLanes=l.childLanes&~h,c.memoizedState=qh,v}return M=l.child,l=M.sibling,v=gi(M,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=h),v.return=c,v.sibling=null,l!==null&&(h=c.deletions,h===null?(c.deletions=[l],c.flags|=16):h.push(l)),c.child=v,c.memoizedState=null,v}function Vh(l,c){return c=Pf({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function hf(l,c,h,v){return v!==null&&yh(v),oc(c,l.child,null,h),l=Vh(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function I7(l,c,h,v,C,M,U){if(h)return c.flags&256?(c.flags&=-257,v=Dh(Error(a(422))),hf(l,c,U,v)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(M=v.fallback,C=c.mode,v=Pf({mode:"visible",children:v.children},C,0,null),M=al(M,C,U,null),M.flags|=2,v.return=c,M.return=c,v.sibling=M,c.child=v,(c.mode&1)!==0&&oc(c,l.child,null,U),c.child.memoizedState=Uh(U),c.memoizedState=qh,M);if((c.mode&1)===0)return hf(l,c,U,null);if(C.data==="$!"){if(v=C.nextSibling&&C.nextSibling.dataset,v)var ae=v.dgst;return v=ae,M=Error(a(419)),v=Dh(M,v,void 0),hf(l,c,U,v)}if(ae=(U&l.childLanes)!==0,On||ae){if(v=Ra,v!==null){switch(U&-U){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(v.suspendedLanes|U))!==0?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,Co(l,C),Ds(v,l,C,-1))}return oy(),v=Dh(Error(a(421))),hf(l,c,U,v)}return C.data==="$?"?(c.flags|=128,c.child=l.child,c=X7.bind(null,l),C._reactRetry=c,null):(l=M.treeContext,Vn=ni(C.nextSibling),Un=c,Qr=!0,Rs=null,l!==null&&(ls[cs++]=ko,ls[cs++]=So,ls[cs++]=Ki,ko=l.id,So=l.overflow,Ki=c),c=Vh(c,v.children),c.flags|=4096,c)}function vS(l,c,h){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),Eh(l.return,c,h)}function Hh(l,c,h,v,C){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:C}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=v,M.tail=h,M.tailMode=C)}function ES(l,c,h){var v=c.pendingProps,C=v.revealOrder,M=v.tail;if(vn(l,c,v.children,h),v=ta.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&vS(l,h,c);else if(l.tag===19)vS(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Ur(ta,v),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(h=c.child,C=null;h!==null;)l=h.alternate,l!==null&&cf(l)===null&&(C=h),h=h.sibling;h=C,h===null?(C=c.child,c.child=null):(C=h.sibling,h.sibling=null),Hh(c,!1,C,h,M);break;case"backwards":for(h=null,C=c.child,c.child=null;C!==null;){if(l=C.alternate,l!==null&&cf(l)===null){c.child=C;break}l=C.sibling,C.sibling=h,h=C,C=l}Hh(c,!0,h,null,M);break;case"together":Hh(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function yf(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function _o(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),Zi|=c.lanes,(h&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(a(153));if(c.child!==null){for(l=c.child,h=gi(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=gi(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function D7(l,c,h){switch(c.tag){case 3:yS(c),sc();break;case 5:$k(c);break;case 1:Tn(c.type)&&Jm(c);break;case 4:kh(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,C=c.memoizedProps.value;Ur(nf,v._currentValue),v._currentValue=C;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(Ur(ta,ta.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?xS(l,c,h):(Ur(ta,ta.current&1),l=_o(l,c,h),l!==null?l.sibling:null);Ur(ta,ta.current&1);break;case 19:if(v=(h&c.childLanes)!==0,(l.flags&128)!==0){if(v)return ES(l,c,h);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ur(ta,ta.current),v)break;return null;case 22:case 23:return c.lanes=0,pS(l,c,h)}return _o(l,c,h)}var wS,Wh,NS,kS;wS=function(l,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Wh=function(){},NS=function(l,c,h,v){var C=l.memoizedProps;if(C!==v){l=c.stateNode,Qi(no.current);var M=null;switch(h){case"input":C=Ie(l,C),v=Ie(l,v),M=[];break;case"select":C=B({},C,{value:void 0}),v=B({},v,{value:void 0}),M=[];break;case"textarea":C=Je(l,C),v=Je(l,v),M=[];break;default:typeof C.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=Ym)}Z(h,v);var U;h=null;for(Re in C)if(!v.hasOwnProperty(Re)&&C.hasOwnProperty(Re)&&C[Re]!=null)if(Re==="style"){var ae=C[Re];for(U in ae)ae.hasOwnProperty(U)&&(h||(h={}),h[U]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(s.hasOwnProperty(Re)?M||(M=[]):(M=M||[]).push(Re,null));for(Re in v){var ce=v[Re];if(ae=C?.[Re],v.hasOwnProperty(Re)&&ce!==ae&&(ce!=null||ae!=null))if(Re==="style")if(ae){for(U in ae)!ae.hasOwnProperty(U)||ce&&ce.hasOwnProperty(U)||(h||(h={}),h[U]="");for(U in ce)ce.hasOwnProperty(U)&&ae[U]!==ce[U]&&(h||(h={}),h[U]=ce[U])}else h||(M||(M=[]),M.push(Re,h)),h=ce;else Re==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ae=ae?ae.__html:void 0,ce!=null&&ae!==ce&&(M=M||[]).push(Re,ce)):Re==="children"?typeof ce!="string"&&typeof ce!="number"||(M=M||[]).push(Re,""+ce):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(s.hasOwnProperty(Re)?(ce!=null&&Re==="onScroll"&&Gr("scroll",l),M||ae===ce||(M=[])):(M=M||[]).push(Re,ce))}h&&(M=M||[]).push("style",h);var Re=M;(c.updateQueue=Re)&&(c.flags|=4)}},kS=function(l,c,h,v){h!==v&&(c.flags|=4)};function Kd(l,c){if(!Qr)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function sn(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(c)for(var C=l.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags&14680064,v|=C.flags&14680064,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=v,l.childLanes=h,c}function z7(l,c,h){var v=c.pendingProps;switch(ph(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(c),null;case 1:return Tn(c.type)&&Qm(),sn(c),null;case 3:return v=c.stateNode,cc(),Kr(Pn),Kr(an),Ah(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(rf(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Rs!==null&&(ay(Rs),Rs=null))),Wh(l,c),sn(c),null;case 5:Sh(c);var C=Qi(Ud.current);if(h=c.type,l!==null&&c.stateNode!=null)NS(l,c,h,v,C),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(a(166));return sn(c),null}if(l=Qi(no.current),rf(c)){v=c.stateNode,h=c.type;var M=c.memoizedProps;switch(v[ao]=c,v[Dd]=M,l=(c.mode&1)!==0,h){case"dialog":Gr("cancel",v),Gr("close",v);break;case"iframe":case"object":case"embed":Gr("load",v);break;case"video":case"audio":for(C=0;C<$d.length;C++)Gr($d[C],v);break;case"source":Gr("error",v);break;case"img":case"image":case"link":Gr("error",v),Gr("load",v);break;case"details":Gr("toggle",v);break;case"input":fe(v,M),Gr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!M.multiple},Gr("invalid",v);break;case"textarea":xt(v,M),Gr("invalid",v)}Z(h,M),C=null;for(var U in M)if(M.hasOwnProperty(U)){var ae=M[U];U==="children"?typeof ae=="string"?v.textContent!==ae&&(M.suppressHydrationWarning!==!0&&Km(v.textContent,ae,l),C=["children",ae]):typeof ae=="number"&&v.textContent!==""+ae&&(M.suppressHydrationWarning!==!0&&Km(v.textContent,ae,l),C=["children",""+ae]):s.hasOwnProperty(U)&&ae!=null&&U==="onScroll"&&Gr("scroll",v)}switch(h){case"input":Ce(v),nt(v,M,!0);break;case"textarea":Ce(v),mt(v);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(v.onclick=Ym)}v=C,c.updateQueue=v,v!==null&&(c.flags|=4)}else{U=C.nodeType===9?C:C.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=pt(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=U.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=U.createElement(h,{is:v.is}):(l=U.createElement(h),h==="select"&&(U=l,v.multiple?U.multiple=!0:v.size&&(U.size=v.size))):l=U.createElementNS(l,h),l[ao]=c,l[Dd]=v,wS(l,c,!1,!1),c.stateNode=l;e:{switch(U=Ee(h,v),h){case"dialog":Gr("cancel",l),Gr("close",l),C=v;break;case"iframe":case"object":case"embed":Gr("load",l),C=v;break;case"video":case"audio":for(C=0;C<$d.length;C++)Gr($d[C],l);C=v;break;case"source":Gr("error",l),C=v;break;case"img":case"image":case"link":Gr("error",l),Gr("load",l),C=v;break;case"details":Gr("toggle",l),C=v;break;case"input":fe(l,v),C=Ie(l,v),Gr("invalid",l);break;case"option":C=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},C=B({},v,{value:void 0}),Gr("invalid",l);break;case"textarea":xt(l,v),C=Je(l,v),Gr("invalid",l);break;default:C=v}Z(h,C),ae=C;for(M in ae)if(ae.hasOwnProperty(M)){var ce=ae[M];M==="style"?ut(l,ce):M==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&Ge(l,ce)):M==="children"?typeof ce=="string"?(h!=="textarea"||ce!=="")&&ft(l,ce):typeof ce=="number"&&ft(l,""+ce):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?ce!=null&&M==="onScroll"&&Gr("scroll",l):ce!=null&&A(l,M,ce,U))}switch(h){case"input":Ce(l),nt(l,v,!1);break;case"textarea":Ce(l),mt(l);break;case"option":v.value!=null&&l.setAttribute("value",""+te(v.value));break;case"select":l.multiple=!!v.multiple,M=v.value,M!=null?He(l,!!v.multiple,M,!1):v.defaultValue!=null&&He(l,!!v.multiple,v.defaultValue,!0);break;default:typeof C.onClick=="function"&&(l.onclick=Ym)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return sn(c),null;case 6:if(l&&c.stateNode!=null)kS(l,c,l.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(a(166));if(h=Qi(Ud.current),Qi(no.current),rf(c)){if(v=c.stateNode,h=c.memoizedProps,v[ao]=c,(M=v.nodeValue!==h)&&(l=Un,l!==null))switch(l.tag){case 3:Km(v.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Km(v.nodeValue,h,(l.mode&1)!==0)}M&&(c.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ao]=c,c.stateNode=v}return sn(c),null;case 13:if(Kr(ta),v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Qr&&Vn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Ak(),sc(),c.flags|=98560,M=!1;else if(M=rf(c),v!==null&&v.dehydrated!==null){if(l===null){if(!M)throw Error(a(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(a(317));M[ao]=c}else sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;sn(c),M=!1}else Rs!==null&&(ay(Rs),Rs=null),M=!0;if(!M)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(ta.current&1)!==0?Sa===0&&(Sa=3):oy())),c.updateQueue!==null&&(c.flags|=4),sn(c),null);case 4:return cc(),Wh(l,c),l===null&&Ld(c.stateNode.containerInfo),sn(c),null;case 10:return vh(c.type._context),sn(c),null;case 17:return Tn(c.type)&&Qm(),sn(c),null;case 19:if(Kr(ta),M=c.memoizedState,M===null)return sn(c),null;if(v=(c.flags&128)!==0,U=M.rendering,U===null)if(v)Kd(M,!1);else{if(Sa!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(U=cf(l),U!==null){for(c.flags|=128,Kd(M,!1),v=U.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=h,h=c.child;h!==null;)M=h,l=v,M.flags&=14680066,U=M.alternate,U===null?(M.childLanes=0,M.lanes=l,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=U.childLanes,M.lanes=U.lanes,M.child=U.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=U.memoizedProps,M.memoizedState=U.memoizedState,M.updateQueue=U.updateQueue,M.type=U.type,l=U.dependencies,M.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return Ur(ta,ta.current&1|2),c.child}l=l.sibling}M.tail!==null&&Vt()>fc&&(c.flags|=128,v=!0,Kd(M,!1),c.lanes=4194304)}else{if(!v)if(l=cf(U),l!==null){if(c.flags|=128,v=!0,h=l.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Kd(M,!0),M.tail===null&&M.tailMode==="hidden"&&!U.alternate&&!Qr)return sn(c),null}else 2*Vt()-M.renderingStartTime>fc&&h!==1073741824&&(c.flags|=128,v=!0,Kd(M,!1),c.lanes=4194304);M.isBackwards?(U.sibling=c.child,c.child=U):(h=M.last,h!==null?h.sibling=U:c.child=U,M.last=U)}return M.tail!==null?(c=M.tail,M.rendering=c,M.tail=c.sibling,M.renderingStartTime=Vt(),c.sibling=null,h=ta.current,Ur(ta,v?h&1|2:h&1),c):(sn(c),null);case 22:case 23:return sy(),v=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(Hn&1073741824)!==0&&(sn(c),c.subtreeFlags&6&&(c.flags|=8192)):sn(c),null;case 24:return null;case 25:return null}throw Error(a(156,c.tag))}function F7(l,c){switch(ph(c),c.tag){case 1:return Tn(c.type)&&Qm(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return cc(),Kr(Pn),Kr(an),Ah(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return Sh(c),null;case 13:if(Kr(ta),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(a(340));sc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Kr(ta),null;case 4:return cc(),null;case 10:return vh(c.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var bf=!1,on=!1,B7=typeof WeakSet=="function"?WeakSet:Set,vt=null;function uc(l,c){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){sa(l,c,v)}else h.current=null}function Gh(l,c,h){try{h()}catch(v){sa(l,c,v)}}var SS=!1;function q7(l,c){if(sh=Ve,l=ak(),Qg(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var C=v.anchorOffset,M=v.focusNode;v=v.focusOffset;try{h.nodeType,M.nodeType}catch{h=null;break e}var U=0,ae=-1,ce=-1,Re=0,Ze=0,rt=l,Xe=null;t:for(;;){for(var yt;rt!==h||C!==0&&rt.nodeType!==3||(ae=U+C),rt!==M||v!==0&&rt.nodeType!==3||(ce=U+v),rt.nodeType===3&&(U+=rt.nodeValue.length),(yt=rt.firstChild)!==null;)Xe=rt,rt=yt;for(;;){if(rt===l)break t;if(Xe===h&&++Re===C&&(ae=U),Xe===M&&++Ze===v&&(ce=U),(yt=rt.nextSibling)!==null)break;rt=Xe,Xe=rt.parentNode}rt=yt}h=ae===-1||ce===-1?null:{start:ae,end:ce}}else h=null}h=h||{start:0,end:0}}else h=null;for(oh={focusedElem:l,selectionRange:h},Ve=!1,vt=c;vt!==null;)if(c=vt,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,vt=l;else for(;vt!==null;){c=vt;try{var Nt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var At=Nt.memoizedProps,ua=Nt.memoizedState,Te=c.stateNode,ge=Te.getSnapshotBeforeUpdate(c.elementType===c.type?At:$s(c.type,At),ua);Te.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Me=c.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ot){sa(c,c.return,ot)}if(l=c.sibling,l!==null){l.return=c.return,vt=l;break}vt=c.return}return Nt=SS,SS=!1,Nt}function Yd(l,c,h){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var C=v=v.next;do{if((C.tag&l)===l){var M=C.destroy;C.destroy=void 0,M!==void 0&&Gh(c,h,M)}C=C.next}while(C!==v)}}function xf(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&l)===l){var v=h.create;h.destroy=v()}h=h.next}while(h!==c)}}function Kh(l){var c=l.ref;if(c!==null){var h=l.stateNode;l.tag,l=h,typeof c=="function"?c(l):c.current=l}}function CS(l){var c=l.alternate;c!==null&&(l.alternate=null,CS(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[ao],delete c[Dd],delete c[dh],delete c[k7],delete c[S7])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function AS(l){return l.tag===5||l.tag===3||l.tag===4}function _S(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||AS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Yh(l,c,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(l,c):h.insertBefore(l,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(l,h)):(c=h,c.appendChild(l)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ym));else if(v!==4&&(l=l.child,l!==null))for(Yh(l,c,h),l=l.sibling;l!==null;)Yh(l,c,h),l=l.sibling}function Xh(l,c,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Xh(l,c,h),l=l.sibling;l!==null;)Xh(l,c,h),l=l.sibling}var qa=null,Ls=!1;function di(l,c,h){for(h=h.child;h!==null;)PS(l,c,h),h=h.sibling}function PS(l,c,h){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Zt,h)}catch{}switch(h.tag){case 5:on||uc(h,c);case 6:var v=qa,C=Ls;qa=null,di(l,c,h),qa=v,Ls=C,qa!==null&&(Ls?(l=qa,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):qa.removeChild(h.stateNode));break;case 18:qa!==null&&(Ls?(l=qa,h=h.stateNode,l.nodeType===8?ch(l.parentNode,h):l.nodeType===1&&ch(l,h),ro(l)):ch(qa,h.stateNode));break;case 4:v=qa,C=Ls,qa=h.stateNode.containerInfo,Ls=!0,di(l,c,h),qa=v,Ls=C;break;case 0:case 11:case 14:case 15:if(!on&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){C=v=v.next;do{var M=C,U=M.destroy;M=M.tag,U!==void 0&&((M&2)!==0||(M&4)!==0)&&Gh(h,c,U),C=C.next}while(C!==v)}di(l,c,h);break;case 1:if(!on&&(uc(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(ae){sa(h,c,ae)}di(l,c,h);break;case 21:di(l,c,h);break;case 22:h.mode&1?(on=(v=on)||h.memoizedState!==null,di(l,c,h),on=v):di(l,c,h);break;default:di(l,c,h)}}function TS(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new B7),c.forEach(function(v){var C=Q7.bind(null,l,v);h.has(v)||(h.add(v),v.then(C,C))})}}function Is(l,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var C=h[v];try{var M=l,U=c,ae=U;e:for(;ae!==null;){switch(ae.tag){case 5:qa=ae.stateNode,Ls=!1;break e;case 3:qa=ae.stateNode.containerInfo,Ls=!0;break e;case 4:qa=ae.stateNode.containerInfo,Ls=!0;break e}ae=ae.return}if(qa===null)throw Error(a(160));PS(M,U,C),qa=null,Ls=!1;var ce=C.alternate;ce!==null&&(ce.return=null),C.return=null}catch(Re){sa(C,c,Re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)OS(c,l),c=c.sibling}function OS(l,c){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Is(c,l),oo(l),v&4){try{Yd(3,l,l.return),xf(3,l)}catch(At){sa(l,l.return,At)}try{Yd(5,l,l.return)}catch(At){sa(l,l.return,At)}}break;case 1:Is(c,l),oo(l),v&512&&h!==null&&uc(h,h.return);break;case 5:if(Is(c,l),oo(l),v&512&&h!==null&&uc(h,h.return),l.flags&32){var C=l.stateNode;try{ft(C,"")}catch(At){sa(l,l.return,At)}}if(v&4&&(C=l.stateNode,C!=null)){var M=l.memoizedProps,U=h!==null?h.memoizedProps:M,ae=l.type,ce=l.updateQueue;if(l.updateQueue=null,ce!==null)try{ae==="input"&&M.type==="radio"&&M.name!=null&&Le(C,M),Ee(ae,U);var Re=Ee(ae,M);for(U=0;U<ce.length;U+=2){var Ze=ce[U],rt=ce[U+1];Ze==="style"?ut(C,rt):Ze==="dangerouslySetInnerHTML"?Ge(C,rt):Ze==="children"?ft(C,rt):A(C,Ze,rt,Re)}switch(ae){case"input":at(C,M);break;case"textarea":ht(C,M);break;case"select":var Xe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var yt=M.value;yt!=null?He(C,!!M.multiple,yt,!1):Xe!==!!M.multiple&&(M.defaultValue!=null?He(C,!!M.multiple,M.defaultValue,!0):He(C,!!M.multiple,M.multiple?[]:"",!1))}C[Dd]=M}catch(At){sa(l,l.return,At)}}break;case 6:if(Is(c,l),oo(l),v&4){if(l.stateNode===null)throw Error(a(162));C=l.stateNode,M=l.memoizedProps;try{C.nodeValue=M}catch(At){sa(l,l.return,At)}}break;case 3:if(Is(c,l),oo(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{ro(c.containerInfo)}catch(At){sa(l,l.return,At)}break;case 4:Is(c,l),oo(l);break;case 13:Is(c,l),oo(l),C=l.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(Zh=Vt())),v&4&&TS(l);break;case 22:if(Ze=h!==null&&h.memoizedState!==null,l.mode&1?(on=(Re=on)||Ze,Is(c,l),on=Re):Is(c,l),oo(l),v&8192){if(Re=l.memoizedState!==null,(l.stateNode.isHidden=Re)&&!Ze&&(l.mode&1)!==0)for(vt=l,Ze=l.child;Ze!==null;){for(rt=vt=Ze;vt!==null;){switch(Xe=vt,yt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:Yd(4,Xe,Xe.return);break;case 1:uc(Xe,Xe.return);var Nt=Xe.stateNode;if(typeof Nt.componentWillUnmount=="function"){v=Xe,h=Xe.return;try{c=v,Nt.props=c.memoizedProps,Nt.state=c.memoizedState,Nt.componentWillUnmount()}catch(At){sa(v,h,At)}}break;case 5:uc(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){RS(rt);continue}}yt!==null?(yt.return=Xe,vt=yt):RS(rt)}Ze=Ze.sibling}e:for(Ze=null,rt=l;;){if(rt.tag===5){if(Ze===null){Ze=rt;try{C=rt.stateNode,Re?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ae=rt.stateNode,ce=rt.memoizedProps.style,U=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,ae.style.display=be("display",U))}catch(At){sa(l,l.return,At)}}}else if(rt.tag===6){if(Ze===null)try{rt.stateNode.nodeValue=Re?"":rt.memoizedProps}catch(At){sa(l,l.return,At)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===l)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===l)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===l)break e;Ze===rt&&(Ze=null),rt=rt.return}Ze===rt&&(Ze=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Is(c,l),oo(l),v&4&&TS(l);break;case 21:break;default:Is(c,l),oo(l)}}function oo(l){var c=l.flags;if(c&2){try{e:{for(var h=l.return;h!==null;){if(AS(h)){var v=h;break e}h=h.return}throw Error(a(160))}switch(v.tag){case 5:var C=v.stateNode;v.flags&32&&(ft(C,""),v.flags&=-33);var M=_S(l);Xh(l,M,C);break;case 3:case 4:var U=v.stateNode.containerInfo,ae=_S(l);Yh(l,ae,U);break;default:throw Error(a(161))}}catch(ce){sa(l,l.return,ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function U7(l,c,h){vt=l,MS(l)}function MS(l,c,h){for(var v=(l.mode&1)!==0;vt!==null;){var C=vt,M=C.child;if(C.tag===22&&v){var U=C.memoizedState!==null||bf;if(!U){var ae=C.alternate,ce=ae!==null&&ae.memoizedState!==null||on;ae=bf;var Re=on;if(bf=U,(on=ce)&&!Re)for(vt=C;vt!==null;)U=vt,ce=U.child,U.tag===22&&U.memoizedState!==null?$S(C):ce!==null?(ce.return=U,vt=ce):$S(C);for(;M!==null;)vt=M,MS(M),M=M.sibling;vt=C,bf=ae,on=Re}jS(l)}else(C.subtreeFlags&8772)!==0&&M!==null?(M.return=C,vt=M):jS(l)}}function jS(l){for(;vt!==null;){var c=vt;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:on||xf(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!on)if(h===null)v.componentDidMount();else{var C=c.elementType===c.type?h.memoizedProps:$s(c.type,h.memoizedProps);v.componentDidUpdate(C,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var M=c.updateQueue;M!==null&&Rk(c,M,v);break;case 3:var U=c.updateQueue;if(U!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Rk(c,U,h)}break;case 5:var ae=c.stateNode;if(h===null&&c.flags&4){h=ae;var ce=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&h.focus();break;case"img":ce.src&&(h.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Re=c.alternate;if(Re!==null){var Ze=Re.memoizedState;if(Ze!==null){var rt=Ze.dehydrated;rt!==null&&ro(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}on||c.flags&512&&Kh(c)}catch(Xe){sa(c,c.return,Xe)}}if(c===l){vt=null;break}if(h=c.sibling,h!==null){h.return=c.return,vt=h;break}vt=c.return}}function RS(l){for(;vt!==null;){var c=vt;if(c===l){vt=null;break}var h=c.sibling;if(h!==null){h.return=c.return,vt=h;break}vt=c.return}}function $S(l){for(;vt!==null;){var c=vt;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{xf(4,c)}catch(ce){sa(c,h,ce)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var C=c.return;try{v.componentDidMount()}catch(ce){sa(c,C,ce)}}var M=c.return;try{Kh(c)}catch(ce){sa(c,M,ce)}break;case 5:var U=c.return;try{Kh(c)}catch(ce){sa(c,U,ce)}}}catch(ce){sa(c,c.return,ce)}if(c===l){vt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,vt=ae;break}vt=c.return}}var V7=Math.ceil,vf=P.ReactCurrentDispatcher,Qh=P.ReactCurrentOwner,ms=P.ReactCurrentBatchConfig,dr=0,Ra=null,ya=null,Ua=0,Hn=0,mc=si(0),Sa=0,Xd=null,Zi=0,Ef=0,Jh=0,Qd=null,Mn=null,Zh=0,fc=1/0,Po=null,wf=!1,ey=null,ui=null,Nf=!1,mi=null,kf=0,Jd=0,ty=null,Sf=-1,Cf=0;function En(){return(dr&6)!==0?Vt():Sf!==-1?Sf:Sf=Vt()}function fi(l){return(l.mode&1)===0?1:(dr&2)!==0&&Ua!==0?Ua&-Ua:A7.transition!==null?(Cf===0&&(Cf=os()),Cf):(l=Ke,l!==0||(l=window.event,l=l===void 0?16:Pe(l.type)),l)}function Ds(l,c,h,v){if(50<Jd)throw Jd=0,ty=null,Error(a(185));Ps(l,h,v),((dr&2)===0||l!==Ra)&&(l===Ra&&((dr&2)===0&&(Ef|=h),Sa===4&&pi(l,Ua)),jn(l,v),h===1&&dr===0&&(c.mode&1)===0&&(fc=Vt()+500,Zm&&ii()))}function jn(l,c){var h=l.callbackNode;Xa(l,c);var v=Na(l,l===Ra?Ua:0);if(v===0)h!==null&&Er(h),l.callbackNode=null,l.callbackPriority=0;else if(c=v&-v,l.callbackPriority!==c){if(h!=null&&Er(h),c===1)l.tag===0?C7(IS.bind(null,l)):wk(IS.bind(null,l)),w7(function(){(dr&6)===0&&ii()}),h=null;else{switch(cr(v)){case 1:h=Ya;break;case 4:h=Ba;break;case 16:h=da;break;case 536870912:h=As;break;default:h=da}h=HS(h,LS.bind(null,l))}l.callbackPriority=c,l.callbackNode=h}}function LS(l,c){if(Sf=-1,Cf=0,(dr&6)!==0)throw Error(a(327));var h=l.callbackNode;if(pc()&&l.callbackNode!==h)return null;var v=Na(l,l===Ra?Ua:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||c)c=Af(l,v);else{c=v;var C=dr;dr|=2;var M=zS();(Ra!==l||Ua!==c)&&(Po=null,fc=Vt()+500,tl(l,c));do try{G7();break}catch(ae){DS(l,ae)}while(!0);xh(),vf.current=M,dr=C,ya!==null?c=0:(Ra=null,Ua=0,c=Sa)}if(c!==0){if(c===2&&(C=ss(l),C!==0&&(v=C,c=ry(l,C))),c===1)throw h=Xd,tl(l,0),pi(l,v),jn(l,Vt()),h;if(c===6)pi(l,v);else{if(C=l.current.alternate,(v&30)===0&&!H7(C)&&(c=Af(l,v),c===2&&(M=ss(l),M!==0&&(v=M,c=ry(l,M))),c===1))throw h=Xd,tl(l,0),pi(l,v),jn(l,Vt()),h;switch(l.finishedWork=C,l.finishedLanes=v,c){case 0:case 1:throw Error(a(345));case 2:rl(l,Mn,Po);break;case 3:if(pi(l,v),(v&130023424)===v&&(c=Zh+500-Vt(),10<c)){if(Na(l,0)!==0)break;if(C=l.suspendedLanes,(C&v)!==v){En(),l.pingedLanes|=l.suspendedLanes&C;break}l.timeoutHandle=lh(rl.bind(null,l,Mn,Po),c);break}rl(l,Mn,Po);break;case 4:if(pi(l,v),(v&4194240)===v)break;for(c=l.eventTimes,C=-1;0<v;){var U=31-st(v);M=1<<U,U=c[U],U>C&&(C=U),v&=~M}if(v=C,v=Vt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*V7(v/1960))-v,10<v){l.timeoutHandle=lh(rl.bind(null,l,Mn,Po),v);break}rl(l,Mn,Po);break;case 5:rl(l,Mn,Po);break;default:throw Error(a(329))}}}return jn(l,Vt()),l.callbackNode===h?LS.bind(null,l):null}function ry(l,c){var h=Qd;return l.current.memoizedState.isDehydrated&&(tl(l,c).flags|=256),l=Af(l,c),l!==2&&(c=Mn,Mn=h,c!==null&&ay(c)),l}function ay(l){Mn===null?Mn=l:Mn.push.apply(Mn,l)}function H7(l){for(var c=l;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var C=h[v],M=C.getSnapshot;C=C.value;try{if(!js(M(),C))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function pi(l,c){for(c&=~Jh,c&=~Ef,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var h=31-st(c),v=1<<h;l[h]=-1,c&=~v}}function IS(l){if((dr&6)!==0)throw Error(a(327));pc();var c=Na(l,0);if((c&1)===0)return jn(l,Vt()),null;var h=Af(l,c);if(l.tag!==0&&h===2){var v=ss(l);v!==0&&(c=v,h=ry(l,v))}if(h===1)throw h=Xd,tl(l,0),pi(l,c),jn(l,Vt()),h;if(h===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,rl(l,Mn,Po),jn(l,Vt()),null}function ny(l,c){var h=dr;dr|=1;try{return l(c)}finally{dr=h,dr===0&&(fc=Vt()+500,Zm&&ii())}}function el(l){mi!==null&&mi.tag===0&&(dr&6)===0&&pc();var c=dr;dr|=1;var h=ms.transition,v=Ke;try{if(ms.transition=null,Ke=1,l)return l()}finally{Ke=v,ms.transition=h,dr=c,(dr&6)===0&&ii()}}function sy(){Hn=mc.current,Kr(mc)}function tl(l,c){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,E7(h)),ya!==null)for(h=ya.return;h!==null;){var v=h;switch(ph(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Qm();break;case 3:cc(),Kr(Pn),Kr(an),Ah();break;case 5:Sh(v);break;case 4:cc();break;case 13:Kr(ta);break;case 19:Kr(ta);break;case 10:vh(v.type._context);break;case 22:case 23:sy()}h=h.return}if(Ra=l,ya=l=gi(l.current,null),Ua=Hn=c,Sa=0,Xd=null,Jh=Ef=Zi=0,Mn=Qd=null,Xi!==null){for(c=0;c<Xi.length;c++)if(h=Xi[c],v=h.interleaved,v!==null){h.interleaved=null;var C=v.next,M=h.pending;if(M!==null){var U=M.next;M.next=C,v.next=U}h.pending=v}Xi=null}return l}function DS(l,c){do{var h=ya;try{if(xh(),df.current=pf,uf){for(var v=ra.memoizedState;v!==null;){var C=v.queue;C!==null&&(C.pending=null),v=v.next}uf=!1}if(Ji=0,ja=ka=ra=null,Vd=!1,Hd=0,Qh.current=null,h===null||h.return===null){Sa=1,Xd=c,ya=null;break}e:{var M=l,U=h.return,ae=h,ce=c;if(c=Ua,ae.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Re=ce,Ze=ae,rt=Ze.tag;if((Ze.mode&1)===0&&(rt===0||rt===11||rt===15)){var Xe=Ze.alternate;Xe?(Ze.updateQueue=Xe.updateQueue,Ze.memoizedState=Xe.memoizedState,Ze.lanes=Xe.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var yt=cS(U);if(yt!==null){yt.flags&=-257,dS(yt,U,ae,M,c),yt.mode&1&&lS(M,Re,c),c=yt,ce=Re;var Nt=c.updateQueue;if(Nt===null){var At=new Set;At.add(ce),c.updateQueue=At}else Nt.add(ce);break e}else{if((c&1)===0){lS(M,Re,c),oy();break e}ce=Error(a(426))}}else if(Qr&&ae.mode&1){var ua=cS(U);if(ua!==null){(ua.flags&65536)===0&&(ua.flags|=256),dS(ua,U,ae,M,c),yh(dc(ce,ae));break e}}M=ce=dc(ce,ae),Sa!==4&&(Sa=2),Qd===null?Qd=[M]:Qd.push(M),M=U;do{switch(M.tag){case 3:M.flags|=65536,c&=-c,M.lanes|=c;var Te=oS(M,ce,c);jk(M,Te);break e;case 1:ae=ce;var ge=M.type,Me=M.stateNode;if((M.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(ui===null||!ui.has(Me)))){M.flags|=65536,c&=-c,M.lanes|=c;var ot=iS(M,ae,c);jk(M,ot);break e}}M=M.return}while(M!==null)}BS(h)}catch(Tt){c=Tt,ya===h&&h!==null&&(ya=h=h.return);continue}break}while(!0)}function zS(){var l=vf.current;return vf.current=pf,l===null?pf:l}function oy(){(Sa===0||Sa===3||Sa===2)&&(Sa=4),Ra===null||(Zi&268435455)===0&&(Ef&268435455)===0||pi(Ra,Ua)}function Af(l,c){var h=dr;dr|=2;var v=zS();(Ra!==l||Ua!==c)&&(Po=null,tl(l,c));do try{W7();break}catch(C){DS(l,C)}while(!0);if(xh(),dr=h,vf.current=v,ya!==null)throw Error(a(261));return Ra=null,Ua=0,Sa}function W7(){for(;ya!==null;)FS(ya)}function G7(){for(;ya!==null&&!Dr();)FS(ya)}function FS(l){var c=VS(l.alternate,l,Hn);l.memoizedProps=l.pendingProps,c===null?BS(l):ya=c,Qh.current=null}function BS(l){var c=l;do{var h=c.alternate;if(l=c.return,(c.flags&32768)===0){if(h=z7(h,c,Hn),h!==null){ya=h;return}}else{if(h=F7(h,c),h!==null){h.flags&=32767,ya=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Sa=6,ya=null;return}}if(c=c.sibling,c!==null){ya=c;return}ya=c=l}while(c!==null);Sa===0&&(Sa=5)}function rl(l,c,h){var v=Ke,C=ms.transition;try{ms.transition=null,Ke=1,K7(l,c,h,v)}finally{ms.transition=C,Ke=v}return null}function K7(l,c,h,v){do pc();while(mi!==null);if((dr&6)!==0)throw Error(a(327));h=l.finishedWork;var C=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(a(177));l.callbackNode=null,l.callbackPriority=0;var M=h.lanes|h.childLanes;if(_e(l,M),l===Ra&&(ya=Ra=null,Ua=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Nf||(Nf=!0,HS(da,function(){return pc(),null})),M=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||M){M=ms.transition,ms.transition=null;var U=Ke;Ke=1;var ae=dr;dr|=4,Qh.current=null,q7(l,h),OS(h,l),p7(oh),Ve=!!sh,oh=sh=null,l.current=h,U7(h),Cr(),dr=ae,Ke=U,ms.transition=M}else l.current=h;if(Nf&&(Nf=!1,mi=l,kf=C),M=l.pendingLanes,M===0&&(ui=null),je(h.stateNode),jn(l,Vt()),c!==null)for(v=l.onRecoverableError,h=0;h<c.length;h++)C=c[h],v(C.value,{componentStack:C.stack,digest:C.digest});if(wf)throw wf=!1,l=ey,ey=null,l;return(kf&1)!==0&&l.tag!==0&&pc(),M=l.pendingLanes,(M&1)!==0?l===ty?Jd++:(Jd=0,ty=l):Jd=0,ii(),null}function pc(){if(mi!==null){var l=cr(kf),c=ms.transition,h=Ke;try{if(ms.transition=null,Ke=16>l?16:l,mi===null)var v=!1;else{if(l=mi,mi=null,kf=0,(dr&6)!==0)throw Error(a(331));var C=dr;for(dr|=4,vt=l.current;vt!==null;){var M=vt,U=M.child;if((vt.flags&16)!==0){var ae=M.deletions;if(ae!==null){for(var ce=0;ce<ae.length;ce++){var Re=ae[ce];for(vt=Re;vt!==null;){var Ze=vt;switch(Ze.tag){case 0:case 11:case 15:Yd(8,Ze,M)}var rt=Ze.child;if(rt!==null)rt.return=Ze,vt=rt;else for(;vt!==null;){Ze=vt;var Xe=Ze.sibling,yt=Ze.return;if(CS(Ze),Ze===Re){vt=null;break}if(Xe!==null){Xe.return=yt,vt=Xe;break}vt=yt}}}var Nt=M.alternate;if(Nt!==null){var At=Nt.child;if(At!==null){Nt.child=null;do{var ua=At.sibling;At.sibling=null,At=ua}while(At!==null)}}vt=M}}if((M.subtreeFlags&2064)!==0&&U!==null)U.return=M,vt=U;else e:for(;vt!==null;){if(M=vt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Yd(9,M,M.return)}var Te=M.sibling;if(Te!==null){Te.return=M.return,vt=Te;break e}vt=M.return}}var ge=l.current;for(vt=ge;vt!==null;){U=vt;var Me=U.child;if((U.subtreeFlags&2064)!==0&&Me!==null)Me.return=U,vt=Me;else e:for(U=ge;vt!==null;){if(ae=vt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:xf(9,ae)}}catch(Tt){sa(ae,ae.return,Tt)}if(ae===U){vt=null;break e}var ot=ae.sibling;if(ot!==null){ot.return=ae.return,vt=ot;break e}vt=ae.return}}if(dr=C,ii(),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Zt,l)}catch{}v=!0}return v}finally{Ke=h,ms.transition=c}}return!1}function qS(l,c,h){c=dc(h,c),c=oS(l,c,1),l=ci(l,c,1),c=En(),l!==null&&(Ps(l,1,c),jn(l,c))}function sa(l,c,h){if(l.tag===3)qS(l,l,h);else for(;c!==null;){if(c.tag===3){qS(c,l,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))){l=dc(h,l),l=iS(c,l,1),c=ci(c,l,1),l=En(),c!==null&&(Ps(c,1,l),jn(c,l));break}}c=c.return}}function Y7(l,c,h){var v=l.pingCache;v!==null&&v.delete(c),c=En(),l.pingedLanes|=l.suspendedLanes&h,Ra===l&&(Ua&h)===h&&(Sa===4||Sa===3&&(Ua&130023424)===Ua&&500>Vt()-Zh?tl(l,0):Jh|=h),jn(l,c)}function US(l,c){c===0&&((l.mode&1)===0?c=1:(c=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var h=En();l=Co(l,c),l!==null&&(Ps(l,c,h),jn(l,h))}function X7(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),US(l,h)}function Q7(l,c){var h=0;switch(l.tag){case 13:var v=l.stateNode,C=l.memoizedState;C!==null&&(h=C.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(c),US(l,h)}var VS;VS=function(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps||Pn.current)On=!0;else{if((l.lanes&h)===0&&(c.flags&128)===0)return On=!1,D7(l,c,h);On=(l.flags&131072)!==0}else On=!1,Qr&&(c.flags&1048576)!==0&&Nk(c,tf,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;yf(l,c),l=c.pendingProps;var C=rc(c,an.current);lc(c,h),C=Th(null,c,v,l,C,h);var M=Oh();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Tn(v)?(M=!0,Jm(c)):M=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Nh(c),C.updater=gf,c.stateNode=C,C._reactInternals=c,Ih(c,v,l,h),c=Bh(null,c,v,!0,M,h)):(c.tag=0,Qr&&M&&fh(c),vn(null,c,C,h),c=c.child),c;case 16:v=c.elementType;e:{switch(yf(l,c),l=c.pendingProps,C=v._init,v=C(v._payload),c.type=v,C=c.tag=Z7(v),l=$s(v,l),C){case 0:c=Fh(null,c,v,l,h);break e;case 1:c=hS(null,c,v,l,h);break e;case 11:c=uS(null,c,v,l,h);break e;case 14:c=mS(null,c,v,$s(v.type,l),h);break e}throw Error(a(306,v,""))}return c;case 0:return v=c.type,C=c.pendingProps,C=c.elementType===v?C:$s(v,C),Fh(l,c,v,C,h);case 1:return v=c.type,C=c.pendingProps,C=c.elementType===v?C:$s(v,C),hS(l,c,v,C,h);case 3:e:{if(yS(c),l===null)throw Error(a(387));v=c.pendingProps,M=c.memoizedState,C=M.element,Mk(l,c),lf(c,v,null,h);var U=c.memoizedState;if(v=U.element,M.isDehydrated)if(M={element:v,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){C=dc(Error(a(423)),c),c=bS(l,c,v,h,C);break e}else if(v!==C){C=dc(Error(a(424)),c),c=bS(l,c,v,h,C);break e}else for(Vn=ni(c.stateNode.containerInfo.firstChild),Un=c,Qr=!0,Rs=null,h=Tk(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(sc(),v===C){c=_o(l,c,h);break e}vn(l,c,v,h)}c=c.child}return c;case 5:return $k(c),l===null&&hh(c),v=c.type,C=c.pendingProps,M=l!==null?l.memoizedProps:null,U=C.children,ih(v,C)?U=null:M!==null&&ih(v,M)&&(c.flags|=32),gS(l,c),vn(l,c,U,h),c.child;case 6:return l===null&&hh(c),null;case 13:return xS(l,c,h);case 4:return kh(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=oc(c,null,v,h):vn(l,c,v,h),c.child;case 11:return v=c.type,C=c.pendingProps,C=c.elementType===v?C:$s(v,C),uS(l,c,v,C,h);case 7:return vn(l,c,c.pendingProps,h),c.child;case 8:return vn(l,c,c.pendingProps.children,h),c.child;case 12:return vn(l,c,c.pendingProps.children,h),c.child;case 10:e:{if(v=c.type._context,C=c.pendingProps,M=c.memoizedProps,U=C.value,Ur(nf,v._currentValue),v._currentValue=U,M!==null)if(js(M.value,U)){if(M.children===C.children&&!Pn.current){c=_o(l,c,h);break e}}else for(M=c.child,M!==null&&(M.return=c);M!==null;){var ae=M.dependencies;if(ae!==null){U=M.child;for(var ce=ae.firstContext;ce!==null;){if(ce.context===v){if(M.tag===1){ce=Ao(-1,h&-h),ce.tag=2;var Re=M.updateQueue;if(Re!==null){Re=Re.shared;var Ze=Re.pending;Ze===null?ce.next=ce:(ce.next=Ze.next,Ze.next=ce),Re.pending=ce}}M.lanes|=h,ce=M.alternate,ce!==null&&(ce.lanes|=h),Eh(M.return,h,c),ae.lanes|=h;break}ce=ce.next}}else if(M.tag===10)U=M.type===c.type?null:M.child;else if(M.tag===18){if(U=M.return,U===null)throw Error(a(341));U.lanes|=h,ae=U.alternate,ae!==null&&(ae.lanes|=h),Eh(U,h,c),U=M.sibling}else U=M.child;if(U!==null)U.return=M;else for(U=M;U!==null;){if(U===c){U=null;break}if(M=U.sibling,M!==null){M.return=U.return,U=M;break}U=U.return}M=U}vn(l,c,C.children,h),c=c.child}return c;case 9:return C=c.type,v=c.pendingProps.children,lc(c,h),C=ds(C),v=v(C),c.flags|=1,vn(l,c,v,h),c.child;case 14:return v=c.type,C=$s(v,c.pendingProps),C=$s(v.type,C),mS(l,c,v,C,h);case 15:return fS(l,c,c.type,c.pendingProps,h);case 17:return v=c.type,C=c.pendingProps,C=c.elementType===v?C:$s(v,C),yf(l,c),c.tag=1,Tn(v)?(l=!0,Jm(c)):l=!1,lc(c,h),nS(c,v,C),Ih(c,v,C,h),Bh(null,c,v,!0,l,h);case 19:return ES(l,c,h);case 22:return pS(l,c,h)}throw Error(a(156,c.tag))};function HS(l,c){return Oa(l,c)}function J7(l,c,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(l,c,h,v){return new J7(l,c,h,v)}function iy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Z7(l){if(typeof l=="function")return iy(l)?1:0;if(l!=null){if(l=l.$$typeof,l===$)return 11;if(l===z)return 14}return 2}function gi(l,c){var h=l.alternate;return h===null?(h=fs(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function _f(l,c,h,v,C,M){var U=2;if(v=l,typeof l=="function")iy(l)&&(U=1);else if(typeof l=="string")U=5;else e:switch(l){case T:return al(h.children,C,M,c);case O:U=8,C|=8;break;case R:return l=fs(12,h,c,C|2),l.elementType=R,l.lanes=M,l;case K:return l=fs(13,h,c,C),l.elementType=K,l.lanes=M,l;case W:return l=fs(19,h,c,C),l.elementType=W,l.lanes=M,l;case ee:return Pf(h,C,M,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case D:U=10;break e;case j:U=9;break e;case $:U=11;break e;case z:U=14;break e;case Q:U=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return c=fs(U,h,c,C),c.elementType=l,c.type=v,c.lanes=M,c}function al(l,c,h,v){return l=fs(7,l,v,c),l.lanes=h,l}function Pf(l,c,h,v){return l=fs(22,l,v,c),l.elementType=ee,l.lanes=h,l.stateNode={isHidden:!1},l}function ly(l,c,h){return l=fs(6,l,null,c),l.lanes=h,l}function cy(l,c,h){return c=fs(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function eI(l,c,h,v,C){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=v,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function dy(l,c,h,v,C,M,U,ae,ce){return l=new eI(l,c,h,ae,ce),c===1?(c=1,M===!0&&(c|=8)):c=0,M=fs(3,null,null,c),l.current=M,M.stateNode=l,M.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(M),l}function tI(l,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:v==null?null:""+v,children:l,containerInfo:c,implementation:h}}function WS(l){if(!l)return oi;l=l._reactInternals;e:{if(tr(l)!==l||l.tag!==1)throw Error(a(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Tn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(a(171))}if(l.tag===1){var h=l.type;if(Tn(h))return vk(l,h,c)}return c}function GS(l,c,h,v,C,M,U,ae,ce){return l=dy(h,v,!0,l,C,M,U,ae,ce),l.context=WS(null),h=l.current,v=En(),C=fi(h),M=Ao(v,C),M.callback=c??null,ci(h,M,C),l.current.lanes=C,Ps(l,C,v),jn(l,v),l}function Tf(l,c,h,v){var C=c.current,M=En(),U=fi(C);return h=WS(h),c.context===null?c.context=h:c.pendingContext=h,c=Ao(M,U),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=ci(C,c,U),l!==null&&(Ds(l,C,U,M),of(l,C,U)),U}function Of(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function KS(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function uy(l,c){KS(l,c),(l=l.alternate)&&KS(l,c)}function rI(){return null}var YS=typeof reportError=="function"?reportError:function(l){console.error(l)};function my(l){this._internalRoot=l}Mf.prototype.render=my.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(a(409));Tf(l,c,null,null)},Mf.prototype.unmount=my.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;el(function(){Tf(null,l,null,null)}),c[wo]=null}};function Mf(l){this._internalRoot=l}Mf.prototype.unstable_scheduleHydration=function(l){if(l){var c=bn();l={blockedOn:null,target:l,priority:c};for(var h=0;h<Bn.length&&c!==0&&c<Bn[h].priority;h++);Bn.splice(h,0,l),h===0&&Hi(l)}};function fy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function jf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function XS(){}function aI(l,c,h,v,C){if(C){if(typeof v=="function"){var M=v;v=function(){var Re=Of(U);M.call(Re)}}var U=GS(c,v,l,0,null,!1,!1,"",XS);return l._reactRootContainer=U,l[wo]=U.current,Ld(l.nodeType===8?l.parentNode:l),el(),U}for(;C=l.lastChild;)l.removeChild(C);if(typeof v=="function"){var ae=v;v=function(){var Re=Of(ce);ae.call(Re)}}var ce=dy(l,0,!1,null,null,!1,!1,"",XS);return l._reactRootContainer=ce,l[wo]=ce.current,Ld(l.nodeType===8?l.parentNode:l),el(function(){Tf(c,ce,h,v)}),ce}function Rf(l,c,h,v,C){var M=h._reactRootContainer;if(M){var U=M;if(typeof C=="function"){var ae=C;C=function(){var ce=Of(U);ae.call(ce)}}Tf(c,U,l,C)}else U=aI(h,c,l,C,v);return Of(U)}qr=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var h=as(c.pendingLanes);h!==0&&(Be(c,h|1),jn(c,Vt()),(dr&6)===0&&(fc=Vt()+500,ii()))}break;case 13:el(function(){var v=Co(l,1);if(v!==null){var C=En();Ds(v,l,1,C)}}),uy(l,1)}},ha=function(l){if(l.tag===13){var c=Co(l,134217728);if(c!==null){var h=En();Ds(c,l,134217728,h)}uy(l,134217728)}},Wr=function(l){if(l.tag===13){var c=fi(l),h=Co(l,c);if(h!==null){var v=En();Ds(h,l,c,v)}uy(l,c)}},bn=function(){return Ke},Zs=function(l,c){var h=Ke;try{return Ke=l,c()}finally{Ke=h}},tt=function(l,c,h){switch(c){case"input":if(at(l,h),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==l&&v.form===l.form){var C=Xm(v);if(!C)throw Error(a(90));ne(v),at(v,C)}}}break;case"textarea":ht(l,h);break;case"select":c=h.value,c!=null&&He(l,!!h.multiple,c,!1)}},ke=ny,L=el;var nI={usingClientEntryPoint:!1,Events:[zd,ec,Xm,we,ye,ny]},Zd={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sI={bundleType:Zd.bundleType,version:Zd.version,rendererPackageName:Zd.rendererPackageName,rendererConfig:Zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Ir(l),l===null?null:l.stateNode},findFiberByHostInstance:Zd.findFiberByHostInstance||rI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{Zt=$f.inject(sI),oe=$f}catch{}}return Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI,Rn.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(c))throw Error(a(200));return tI(l,c,null,h)},Rn.createRoot=function(l,c){if(!fy(l))throw Error(a(299));var h=!1,v="",C=YS;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=dy(l,1,!1,null,null,h,!1,v,C),l[wo]=c.current,Ld(l.nodeType===8?l.parentNode:l),new my(c)},Rn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=Ir(c),l=l===null?null:l.stateNode,l},Rn.flushSync=function(l){return el(l)},Rn.hydrate=function(l,c,h){if(!jf(c))throw Error(a(200));return Rf(null,l,c,!0,h)},Rn.hydrateRoot=function(l,c,h){if(!fy(l))throw Error(a(405));var v=h!=null&&h.hydratedSources||null,C=!1,M="",U=YS;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(M=h.identifierPrefix),h.onRecoverableError!==void 0&&(U=h.onRecoverableError)),c=GS(c,null,l,1,h??null,C,!1,M,U),l[wo]=c.current,Ld(l),v)for(l=0;l<v.length;l++)h=v[l],C=h._getVersion,C=C(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,C]:c.mutableSourceEagerHydrationData.push(h,C);return new Mf(c)},Rn.render=function(l,c,h){if(!jf(c))throw Error(a(200));return Rf(null,l,c,!1,h)},Rn.unmountComponentAtNode=function(l){if(!jf(l))throw Error(a(40));return l._reactRootContainer?(el(function(){Rf(null,null,l,!1,function(){l._reactRootContainer=null,l[wo]=null})}),!0):!1},Rn.unstable_batchedUpdates=ny,Rn.unstable_renderSubtreeIntoContainer=function(l,c,h,v){if(!jf(h))throw Error(a(200));if(l==null||l._reactInternals===void 0)throw Error(a(38));return Rf(l,c,h,!1,v)},Rn.version="18.3.1-next-f1338f8080-20240426",Rn}var r5;function sO(){if(r5)return gy.exports;r5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),gy.exports=mI(),gy.exports}var a5;function fI(){if(a5)return If;a5=1;var t=sO();return If.createRoot=t.createRoot,If.hydrateRoot=t.hydrateRoot,If}var pI=fI();sO();function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Du.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const n5="popstate";function gI(t){t===void 0&&(t={});function r(n,s){let{pathname:o,search:i,hash:d}=n.location;return lw("",{pathname:o,search:i,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(n,s){return typeof s=="string"?s:Mp(s)}return yI(r,a,null,t)}function aa(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function sN(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function hI(){return Math.random().toString(36).substr(2,8)}function s5(t,r){return{usr:t.state,key:t.key,idx:r}}function lw(t,r,a,n){return a===void 0&&(a=null),Du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?pd(r):r,{state:a,key:r&&r.key||n||hI()})}function Mp(t){let{pathname:r="/",search:a="",hash:n=""}=t;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pd(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));let n=t.indexOf("?");n>=0&&(r.search=t.substr(n),t=t.substr(0,n)),t&&(r.pathname=t)}return r}function yI(t,r,a,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,d=wi.Pop,u=null,m=p();m==null&&(m=0,i.replaceState(Du({},i.state,{idx:m}),""));function p(){return(i.state||{idx:null}).idx}function f(){d=wi.Pop;let x=p(),N=x==null?null:x-m;m=x,u&&u({action:d,location:E.location,delta:N})}function y(x,N){d=wi.Push;let k=lw(E.location,x,N);m=p()+1;let A=s5(k,m),P=E.createHref(k);try{i.pushState(A,"",P)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(P)}o&&u&&u({action:d,location:E.location,delta:1})}function b(x,N){d=wi.Replace;let k=lw(E.location,x,N);m=p();let A=s5(k,m),P=E.createHref(k);i.replaceState(A,"",P),o&&u&&u({action:d,location:E.location,delta:0})}function w(x){let N=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof x=="string"?x:Mp(x);return k=k.replace(/ $/,"%20"),aa(N,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,N)}let E={get action(){return d},get location(){return t(s,i)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(n5,f),u=x,()=>{s.removeEventListener(n5,f),u=null}},createHref(x){return r(s,x)},createURL:w,encodeLocation(x){let N=w(x);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(x){return i.go(x)}};return E}var o5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o5||(o5={}));function bI(t,r,a){return a===void 0&&(a="/"),xI(t,r,a)}function xI(t,r,a,n){let s=typeof r=="string"?pd(r):r,o=Ic(s.pathname||"/",a);if(o==null)return null;let i=oO(t);vI(i);let d=null;for(let u=0;d==null&&u<i.length;++u){let m=OI(o);d=PI(i[u],m)}return d}function oO(t,r,a,n){r===void 0&&(r=[]),a===void 0&&(a=[]),n===void 0&&(n="");let s=(o,i,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(aa(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let m=Si([n,u.relativePath]),p=a.concat(u);o.children&&o.children.length>0&&(aa(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),oO(o.children,r,p,m)),!(o.path==null&&!o.index)&&r.push({path:m,score:AI(m,o.index),routesMeta:p})};return t.forEach((o,i)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,i);else for(let u of iO(o.path))s(o,i,u)}),r}function iO(t){let r=t.split("/");if(r.length===0)return[];let[a,...n]=r,s=a.endsWith("?"),o=a.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=iO(n.join("/")),d=[];return d.push(...i.map(u=>u===""?o:[o,u].join("/"))),s&&d.push(...i),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function vI(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:_I(r.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}const EI=/^:[\w-]+$/,wI=3,NI=2,kI=1,SI=10,CI=-2,i5=t=>t==="*";function AI(t,r){let a=t.split("/"),n=a.length;return a.some(i5)&&(n+=CI),r&&(n+=NI),a.filter(s=>!i5(s)).reduce((s,o)=>s+(EI.test(o)?wI:o===""?kI:SI),n)}function _I(t,r){return t.length===r.length&&t.slice(0,-1).every((n,s)=>n===r[s])?t[t.length-1]-r[r.length-1]:0}function PI(t,r,a){let{routesMeta:n}=t,s={},o="/",i=[];for(let d=0;d<n.length;++d){let u=n[d],m=d===n.length-1,p=o==="/"?r:r.slice(o.length)||"/",f=cw({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},p),y=u.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Si([o,f.pathname]),pathnameBase:LI(Si([o,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(o=Si([o,f.pathnameBase]))}return i}function cw(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=TI(t.path,t.caseSensitive,t.end),s=r.match(a);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((m,p,f)=>{let{paramName:y,isOptional:b}=p;if(y==="*"){let E=d[f]||"";i=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[f];return b&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:i,pattern:t}}function TI(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),sN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),n]}function OI(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return sN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Ic(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}const MI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jI=t=>MI.test(t);function RI(t,r){r===void 0&&(r="/");let{pathname:a,search:n="",hash:s=""}=typeof t=="string"?pd(t):t,o;if(a)if(jI(a))o=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),sN(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+a))}a.startsWith("/")?o=l5(a.substring(1),"/"):o=l5(a,r)}else o=r;return{pathname:o,search:II(n),hash:DI(s)}}function l5(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function by(t,r,a,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $I(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function oN(t,r){let a=$I(t);return r?a.map((n,s)=>s===a.length-1?n.pathname:n.pathnameBase):a.map(n=>n.pathnameBase)}function iN(t,r,a,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=pd(t):(s=Du({},t),aa(!s.pathname||!s.pathname.includes("?"),by("?","pathname","search",s)),aa(!s.pathname||!s.pathname.includes("#"),by("#","pathname","hash",s)),aa(!s.search||!s.search.includes("#"),by("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,d;if(i==null)d=a;else{let f=r.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),f-=1;s.pathname=y.join("/")}d=f>=0?r[f]:"/"}let u=RI(s,d),m=i&&i!=="/"&&i.endsWith("/"),p=(o||i===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(m||p)&&(u.pathname+="/"),u}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),LI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),II=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lO=["post","put","patch","delete"];new Set(lO);const FI=["get",...lO];new Set(FI);function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},zu.apply(this,arguments)}const K0=g.createContext(null),cO=g.createContext(null),Yo=g.createContext(null),Y0=g.createContext(null),Xo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),dO=g.createContext(null);function BI(t,r){let{relative:a}=r===void 0?{}:r;gd()||aa(!1);let{basename:n,navigator:s}=g.useContext(Yo),{hash:o,pathname:i,search:d}=X0(t,{relative:a}),u=i;return n!=="/"&&(u=i==="/"?n:Si([n,i])),s.createHref({pathname:u,search:d,hash:o})}function gd(){return g.useContext(Y0)!=null}function Sn(){return gd()||aa(!1),g.useContext(Y0).location}function uO(t){g.useContext(Yo).static||g.useLayoutEffect(t)}function Zr(){let{isDataRoute:t}=g.useContext(Xo);return t?e8():qI()}function qI(){gd()||aa(!1);let t=g.useContext(K0),{basename:r,future:a,navigator:n}=g.useContext(Yo),{matches:s}=g.useContext(Xo),{pathname:o}=Sn(),i=JSON.stringify(oN(s,a.v7_relativeSplatPath)),d=g.useRef(!1);return uO(()=>{d.current=!0}),g.useCallback(function(m,p){if(p===void 0&&(p={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let f=iN(m,JSON.parse(i),o,p.relative==="path");t==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:Si([r,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[r,n,i,o,t])}function Di(){let{matches:t}=g.useContext(Xo),r=t[t.length-1];return r?r.params:{}}function X0(t,r){let{relative:a}=r===void 0?{}:r,{future:n}=g.useContext(Yo),{matches:s}=g.useContext(Xo),{pathname:o}=Sn(),i=JSON.stringify(oN(s,n.v7_relativeSplatPath));return g.useMemo(()=>iN(t,JSON.parse(i),o,a==="path"),[t,i,o,a])}function UI(t,r){return VI(t,r)}function VI(t,r,a,n){gd()||aa(!1);let{navigator:s}=g.useContext(Yo),{matches:o}=g.useContext(Xo),i=o[o.length-1],d=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let m=Sn(),p;if(r){var f;let x=typeof r=="string"?pd(r):r;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||aa(!1),p=x}else p=m;let y=p.pathname||"/",b=y;if(u!=="/"){let x=u.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=bI(t,{pathname:b}),E=YI(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:Si([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Si([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,a,n);return r&&E?g.createElement(Y0.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:wi.Pop}},E):E}function HI(){let t=ZI(),r=zI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),a?g.createElement("pre",{style:s},a):null,null)}const WI=g.createElement(HI,null);class GI extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?g.createElement(Xo.Provider,{value:this.props.routeContext},g.createElement(dO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KI(t){let{routeContext:r,match:a,children:n}=t,s=g.useContext(K0);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Xo.Provider,{value:r},n)}function YI(t,r,a,n){var s;if(r===void 0&&(r=[]),a===void 0&&(a=null),n===void 0&&(n=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=n)!=null&&o.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,d=(s=a)==null?void 0:s.errors;if(d!=null){let p=i.findIndex(f=>f.route.id&&d?.[f.route.id]!==void 0);p>=0||aa(!1),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,m=-1;if(a&&n&&n.v7_partialHydration)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=p),f.route.id){let{loaderData:y,errors:b}=a,w=f.route.loader&&y[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||w){u=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((p,f,y)=>{let b,w=!1,E=null,x=null;a&&(b=d&&f.route.id?d[f.route.id]:void 0,E=f.route.errorElement||WI,u&&(m<0&&y===0?(t8("route-fallback"),w=!0,x=null):m===y&&(w=!0,x=f.route.hydrateFallbackElement||null)));let N=r.concat(i.slice(0,y+1)),k=()=>{let A;return b?A=E:w?A=x:f.route.Component?A=g.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=p,g.createElement(KI,{match:f,routeContext:{outlet:p,matches:N,isDataRoute:a!=null},children:A})};return a&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?g.createElement(GI,{location:a.location,revalidation:a.revalidation,component:E,error:b,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):k()},null)}var mO=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(mO||{}),fO=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(fO||{});function XI(t){let r=g.useContext(K0);return r||aa(!1),r}function QI(t){let r=g.useContext(cO);return r||aa(!1),r}function JI(t){let r=g.useContext(Xo);return r||aa(!1),r}function pO(t){let r=JI(),a=r.matches[r.matches.length-1];return a.route.id||aa(!1),a.route.id}function ZI(){var t;let r=g.useContext(dO),a=QI(),n=pO();return r!==void 0?r:(t=a.errors)==null?void 0:t[n]}function e8(){let{router:t}=XI(mO.UseNavigateStable),r=pO(fO.UseNavigateStable),a=g.useRef(!1);return uO(()=>{a.current=!0}),g.useCallback(function(s,o){o===void 0&&(o={}),a.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,zu({fromRouteId:r},o)))},[t,r])}const c5={};function t8(t,r,a){c5[t]||(c5[t]=!0)}function r8(t,r){t?.v7_startTransition,t?.v7_relativeSplatPath}function Mc(t){let{to:r,replace:a,state:n,relative:s}=t;gd()||aa(!1);let{future:o,static:i}=g.useContext(Yo),{matches:d}=g.useContext(Xo),{pathname:u}=Sn(),m=Zr(),p=iN(r,oN(d,o.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(p);return g.useEffect(()=>m(JSON.parse(f),{replace:a,state:n,relative:s}),[m,f,s,a,n]),null}function Dt(t){aa(!1)}function a8(t){let{basename:r="/",children:a=null,location:n,navigationType:s=wi.Pop,navigator:o,static:i=!1,future:d}=t;gd()&&aa(!1);let u=r.replace(/^\/*/,"/"),m=g.useMemo(()=>({basename:u,navigator:o,static:i,future:zu({v7_relativeSplatPath:!1},d)}),[u,d,o,i]);typeof n=="string"&&(n=pd(n));let{pathname:p="/",search:f="",hash:y="",state:b=null,key:w="default"}=n,E=g.useMemo(()=>{let x=Ic(p,u);return x==null?null:{location:{pathname:x,search:f,hash:y,state:b,key:w},navigationType:s}},[u,p,f,y,b,w,s]);return E==null?null:g.createElement(Yo.Provider,{value:m},g.createElement(Y0.Provider,{children:a,value:E}))}function n8(t){let{children:r,location:a}=t;return UI(dw(r),a)}new Promise(()=>{});function dw(t,r){r===void 0&&(r=[]);let a=[];return g.Children.forEach(t,(n,s)=>{if(!g.isValidElement(n))return;let o=[...r,s];if(n.type===g.Fragment){a.push.apply(a,dw(n.props.children,o));return}n.type!==Dt&&aa(!1),!n.props.index||!n.props.children||aa(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=dw(n.props.children,o)),a.push(i)}),a}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},jp.apply(this,arguments)}function gO(t,r){if(t==null)return{};var a={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(r.indexOf(s)>=0)&&(a[s]=t[s]);return a}function s8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o8(t,r){return t.button===0&&(!r||r==="_self")&&!s8(t)}function uw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let n=t[a];return r.concat(Array.isArray(n)?n.map(s=>[a,s]):[[a,n]])},[]))}function i8(t,r){let a=uw(t);return r&&r.forEach((n,s)=>{a.has(s)||r.getAll(s).forEach(o=>{a.append(s,o)})}),a}const l8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d8="6";try{window.__reactRouterVersion=d8}catch{}const u8=g.createContext({isTransitioning:!1}),m8="startTransition",d5=cI[m8];function f8(t){let{basename:r,children:a,future:n,window:s}=t,o=g.useRef();o.current==null&&(o.current=gI({window:s,v5Compat:!0}));let i=o.current,[d,u]=g.useState({action:i.action,location:i.location}),{v7_startTransition:m}=n||{},p=g.useCallback(f=>{m&&d5?d5(()=>u(f)):u(f)},[u,m]);return g.useLayoutEffect(()=>i.listen(p),[i,p]),g.useEffect(()=>r8(n),[n]),g.createElement(a8,{basename:r,children:a,location:d.location,navigationType:d.action,navigator:i,future:n})}const p8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=g.forwardRef(function(r,a){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:d,target:u,to:m,preventScrollReset:p,viewTransition:f}=r,y=gO(r,l8),{basename:b}=g.useContext(Yo),w,E=!1;if(typeof m=="string"&&g8.test(m)&&(w=m,p8))try{let A=new URL(window.location.href),P=m.startsWith("//")?new URL(A.protocol+m):new URL(m),S=Ic(P.pathname,b);P.origin===A.origin&&S!=null?m=S+P.search+P.hash:E=!0}catch{}let x=BI(m,{relative:s}),N=y8(m,{replace:i,state:d,target:u,preventScrollReset:p,relative:s,viewTransition:f});function k(A){n&&n(A),A.defaultPrevented||N(A)}return g.createElement("a",jp({},y,{href:w||x,onClick:E||o?n:k,ref:a,target:u}))}),hr=g.forwardRef(function(r,a){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:i=!1,style:d,to:u,viewTransition:m,children:p}=r,f=gO(r,c8),y=X0(u,{relative:f.relative}),b=Sn(),w=g.useContext(cO),{navigator:E,basename:x}=g.useContext(Yo),N=w!=null&&b8(y)&&m===!0,k=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,A=b.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(A=A.toLowerCase(),P=P?P.toLowerCase():null,k=k.toLowerCase()),P&&x&&(P=Ic(P,x)||P);const S=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let _=A===k||!i&&A.startsWith(k)&&A.charAt(S)==="/",T=P!=null&&(P===k||!i&&P.startsWith(k)&&P.charAt(k.length)==="/"),O={isActive:_,isPending:T,isTransitioning:N},R=_?n:void 0,D;typeof o=="function"?D=o(O):D=[o,_?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof d=="function"?d(O):d;return g.createElement(pe,jp({},f,{"aria-current":R,className:D,ref:a,style:j,to:u,viewTransition:m}),typeof p=="function"?p(O):p)});var mw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var u5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u5||(u5={}));function h8(t){let r=g.useContext(K0);return r||aa(!1),r}function y8(t,r){let{target:a,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:d}=r===void 0?{}:r,u=Zr(),m=Sn(),p=X0(t,{relative:i});return g.useCallback(f=>{if(o8(f,a)){f.preventDefault();let y=n!==void 0?n:Mp(m)===Mp(p);u(t,{replace:y,state:s,preventScrollReset:o,relative:i,viewTransition:d})}},[m,u,p,n,s,a,t,o,i,d])}function hd(t){let r=g.useRef(uw(t)),a=g.useRef(!1),n=Sn(),s=g.useMemo(()=>i8(n.search,a.current?null:r.current),[n.search]),o=Zr(),i=g.useCallback((d,u)=>{const m=uw(typeof d=="function"?d(s):d);a.current=!0,o("?"+m,u)},[o,s]);return[s,i]}function b8(t,r){r===void 0&&(r={});let a=g.useContext(u8);a==null&&aa(!1);let{basename:n}=h8(mw.useViewTransitionState),s=X0(t,{relative:r.relative});if(!a.isTransitioning)return!1;let o=Ic(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=Ic(a.nextLocation.pathname,n)||a.nextLocation.pathname;return cw(s.pathname,i)!=null||cw(s.pathname,o)!=null}function hO(t,r){return function(){return t.apply(r,arguments)}}const{toString:x8}=Object.prototype,{getPrototypeOf:lN}=Object,{iterator:Q0,toStringTag:yO}=Symbol,J0=(t=>r=>{const a=x8.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Qs=t=>(t=t.toLowerCase(),r=>J0(r)===t),Z0=t=>r=>typeof r===t,{isArray:yd}=Array,Dc=Z0("undefined");function Sm(t){return t!==null&&!Dc(t)&&t.constructor!==null&&!Dc(t.constructor)&&In(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bO=Qs("ArrayBuffer");function v8(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&bO(t.buffer),r}const E8=Z0("string"),In=Z0("function"),xO=Z0("number"),Cm=t=>t!==null&&typeof t=="object",w8=t=>t===!0||t===!1,vp=t=>{if(J0(t)!=="object")return!1;const r=lN(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(yO in t)&&!(Q0 in t)},N8=t=>{if(!Cm(t)||Sm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},k8=Qs("Date"),S8=Qs("File"),C8=Qs("Blob"),A8=Qs("FileList"),_8=t=>Cm(t)&&In(t.pipe),P8=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||In(t.append)&&((r=J0(t))==="formdata"||r==="object"&&In(t.toString)&&t.toString()==="[object FormData]"))},T8=Qs("URLSearchParams"),[O8,M8,j8,R8]=["ReadableStream","Request","Response","Headers"].map(Qs),$8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Am(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),yd(t))for(n=0,s=t.length;n<s;n++)r.call(null,t[n],n,t);else{if(Sm(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let d;for(n=0;n<i;n++)d=o[n],r.call(null,t[d],d,t)}}function vO(t,r){if(Sm(t))return null;r=r.toLowerCase();const a=Object.keys(t);let n=a.length,s;for(;n-- >0;)if(s=a[n],r===s.toLowerCase())return s;return null}const gl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EO=t=>!Dc(t)&&t!==gl;function fw(){const{caseless:t,skipUndefined:r}=EO(this)&&this||{},a={},n=(s,o)=>{const i=t&&vO(a,o)||o;vp(a[i])&&vp(s)?a[i]=fw(a[i],s):vp(s)?a[i]=fw({},s):yd(s)?a[i]=s.slice():(!r||!Dc(s))&&(a[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Am(arguments[s],n);return a}const L8=(t,r,a,{allOwnKeys:n}={})=>(Am(r,(s,o)=>{a&&In(s)?t[o]=hO(s,a):t[o]=s},{allOwnKeys:n}),t),I8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),D8=(t,r,a,n)=>{t.prototype=Object.create(r.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},z8=(t,r,a,n)=>{let s,o,i;const d={};if(r=r||{},t==null)return r;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!n||n(i,t,r))&&!d[i]&&(r[i]=t[i],d[i]=!0);t=a!==!1&&lN(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},F8=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const n=t.indexOf(r,a);return n!==-1&&n===a},B8=t=>{if(!t)return null;if(yd(t))return t;let r=t.length;if(!xO(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},q8=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&lN(Uint8Array)),U8=(t,r)=>{const n=(t&&t[Q0]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;r.call(t,o[0],o[1])}},V8=(t,r)=>{let a;const n=[];for(;(a=t.exec(r))!==null;)n.push(a);return n},H8=Qs("HTMLFormElement"),W8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,s){return n.toUpperCase()+s}),m5=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),G8=Qs("RegExp"),wO=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),n={};Am(a,(s,o)=>{let i;(i=r(s,o,t))!==!1&&(n[o]=i||s)}),Object.defineProperties(t,n)},K8=t=>{wO(t,(r,a)=>{if(In(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=t[a];if(In(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Y8=(t,r)=>{const a={},n=s=>{s.forEach(o=>{a[o]=!0})};return yd(t)?n(t):n(String(t).split(r)),a},X8=()=>{},Q8=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function J8(t){return!!(t&&In(t.append)&&t[yO]==="FormData"&&t[Q0])}const Z8=t=>{const r=new Array(10),a=(n,s)=>{if(Cm(n)){if(r.indexOf(n)>=0)return;if(Sm(n))return n;if(!("toJSON"in n)){r[s]=n;const o=yd(n)?[]:{};return Am(n,(i,d)=>{const u=a(i,s+1);!Dc(u)&&(o[d]=u)}),r[s]=void 0,o}}return n};return a(t,0)},e9=Qs("AsyncFunction"),t9=t=>t&&(Cm(t)||In(t))&&In(t.then)&&In(t.catch),NO=((t,r)=>t?setImmediate:r?((a,n)=>(gl.addEventListener("message",({source:s,data:o})=>{s===gl&&o===a&&n.length&&n.shift()()},!1),s=>{n.push(s),gl.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",In(gl.postMessage)),r9=typeof queueMicrotask<"u"?queueMicrotask.bind(gl):typeof process<"u"&&process.nextTick||NO,a9=t=>t!=null&&In(t[Q0]),$e={isArray:yd,isArrayBuffer:bO,isBuffer:Sm,isFormData:P8,isArrayBufferView:v8,isString:E8,isNumber:xO,isBoolean:w8,isObject:Cm,isPlainObject:vp,isEmptyObject:N8,isReadableStream:O8,isRequest:M8,isResponse:j8,isHeaders:R8,isUndefined:Dc,isDate:k8,isFile:S8,isBlob:C8,isRegExp:G8,isFunction:In,isStream:_8,isURLSearchParams:T8,isTypedArray:q8,isFileList:A8,forEach:Am,merge:fw,extend:L8,trim:$8,stripBOM:I8,inherits:D8,toFlatObject:z8,kindOf:J0,kindOfTest:Qs,endsWith:F8,toArray:B8,forEachEntry:U8,matchAll:V8,isHTMLForm:H8,hasOwnProperty:m5,hasOwnProp:m5,reduceDescriptors:wO,freezeMethods:K8,toObjectSet:Y8,toCamelCase:W8,noop:X8,toFiniteNumber:Q8,findKey:vO,global:gl,isContextDefined:EO,isSpecCompliantForm:J8,toJSONObject:Z8,isAsyncFn:e9,isThenable:t9,setImmediate:NO,asap:r9,isIterable:a9};function Wt(t,r,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}$e.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const kO=Wt.prototype,SO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{SO[t]={value:t}});Object.defineProperties(Wt,SO);Object.defineProperty(kO,"isAxiosError",{value:!0});Wt.from=(t,r,a,n,s,o)=>{const i=Object.create(kO);$e.toFlatObject(t,i,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const d=t&&t.message?t.message:"Error",u=r==null&&t?t.code:r;return Wt.call(i,d,u,a,n,s),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const n9=null;function pw(t){return $e.isPlainObject(t)||$e.isArray(t)}function CO(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function f5(t,r,a){return t?t.concat(r).map(function(s,o){return s=CO(s),!a&&o?"["+s+"]":s}).join(a?".":""):r}function s9(t){return $e.isArray(t)&&!t.some(pw)}const o9=$e.toFlatObject($e,{},null,function(r){return/^is[A-Z]/.test(r)});function eg(t,r,a){if(!$e.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=$e.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,x){return!$e.isUndefined(x[E])});const n=a.metaTokens,s=a.visitor||p,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(r);if(!$e.isFunction(s))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if($e.isDate(w))return w.toISOString();if($e.isBoolean(w))return w.toString();if(!u&&$e.isBlob(w))throw new Wt("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(w)||$e.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,E,x){let N=w;if(w&&!x&&typeof w=="object"){if($e.endsWith(E,"{}"))E=n?E:E.slice(0,-2),w=JSON.stringify(w);else if($e.isArray(w)&&s9(w)||($e.isFileList(w)||$e.endsWith(E,"[]"))&&(N=$e.toArray(w)))return E=CO(E),N.forEach(function(A,P){!($e.isUndefined(A)||A===null)&&r.append(i===!0?f5([E],P,o):i===null?E:E+"[]",m(A))}),!1}return pw(w)?!0:(r.append(f5(x,E,o),m(w)),!1)}const f=[],y=Object.assign(o9,{defaultVisitor:p,convertValue:m,isVisitable:pw});function b(w,E){if(!$e.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(w),$e.forEach(w,function(N,k){(!($e.isUndefined(N)||N===null)&&s.call(r,N,$e.isString(k)?k.trim():k,E,y))===!0&&b(N,E?E.concat(k):[k])}),f.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return b(t),r}function p5(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function cN(t,r){this._pairs=[],t&&eg(t,this,r)}const AO=cN.prototype;AO.append=function(r,a){this._pairs.push([r,a])};AO.toString=function(r){const a=r?function(n){return r.call(this,n,p5)}:p5;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function i9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _O(t,r,a){if(!r)return t;const n=a&&a.encode||i9;$e.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let o;if(s?o=s(r,a):o=$e.isURLSearchParams(r)?r.toString():new cN(r,a).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class g5{constructor(){this.handlers=[]}use(r,a,n){return this.handlers.push({fulfilled:r,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){$e.forEach(this.handlers,function(n){n!==null&&r(n)})}}const PO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l9=typeof URLSearchParams<"u"?URLSearchParams:cN,c9=typeof FormData<"u"?FormData:null,d9=typeof Blob<"u"?Blob:null,u9={isBrowser:!0,classes:{URLSearchParams:l9,FormData:c9,Blob:d9},protocols:["http","https","file","blob","url","data"]},dN=typeof window<"u"&&typeof document<"u",gw=typeof navigator=="object"&&navigator||void 0,m9=dN&&(!gw||["ReactNative","NativeScript","NS"].indexOf(gw.product)<0),f9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p9=dN&&window.location.href||"http://localhost",g9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dN,hasStandardBrowserEnv:m9,hasStandardBrowserWebWorkerEnv:f9,navigator:gw,origin:p9},Symbol.toStringTag,{value:"Module"})),fn={...g9,...u9};function h9(t,r){return eg(t,new fn.classes.URLSearchParams,{visitor:function(a,n,s,o){return fn.isNode&&$e.isBuffer(a)?(this.append(n,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function y9(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function b9(t){const r={},a=Object.keys(t);let n;const s=a.length;let o;for(n=0;n<s;n++)o=a[n],r[o]=t[o];return r}function TO(t){function r(a,n,s,o){let i=a[o++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),u=o>=a.length;return i=!i&&$e.isArray(s)?s.length:i,u?($e.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!d):((!s[i]||!$e.isObject(s[i]))&&(s[i]=[]),r(a,n,s[i],o)&&$e.isArray(s[i])&&(s[i]=b9(s[i])),!d)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const a={};return $e.forEachEntry(t,(n,s)=>{r(y9(n),s,a,0)}),a}return null}function x9(t,r,a){if($e.isString(t))try{return(r||JSON.parse)(t),$e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(t)}const _m={transitional:PO,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const n=a.getContentType()||"",s=n.indexOf("application/json")>-1,o=$e.isObject(r);if(o&&$e.isHTMLForm(r)&&(r=new FormData(r)),$e.isFormData(r))return s?JSON.stringify(TO(r)):r;if($e.isArrayBuffer(r)||$e.isBuffer(r)||$e.isStream(r)||$e.isFile(r)||$e.isBlob(r)||$e.isReadableStream(r))return r;if($e.isArrayBufferView(r))return r.buffer;if($e.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return h9(r,this.formSerializer).toString();if((d=$e.isFileList(r))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return eg(d?{"files[]":r}:r,u&&new u,this.formSerializer)}}return o||s?(a.setContentType("application/json",!1),x9(r)):r}],transformResponse:[function(r){const a=this.transitional||_m.transitional,n=a&&a.forcedJSONParsing,s=this.responseType==="json";if($e.isResponse(r)||$e.isReadableStream(r))return r;if(r&&$e.isString(r)&&(n&&!this.responseType||s)){const i=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?Wt.from(d,Wt.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{_m.headers[t]={}});const v9=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E9=t=>{const r={};let a,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),a=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!a||r[a]&&v9[a])&&(a==="set-cookie"?r[a]?r[a].push(n):r[a]=[n]:r[a]=r[a]?r[a]+", "+n:n)}),r},h5=Symbol("internals");function eu(t){return t&&String(t).trim().toLowerCase()}function Ep(t){return t===!1||t==null?t:$e.isArray(t)?t.map(Ep):String(t)}function w9(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(t);)r[n[1]]=n[2];return r}const N9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xy(t,r,a,n,s){if($e.isFunction(n))return n.call(this,r,a);if(s&&(r=a),!!$e.isString(r)){if($e.isString(n))return r.indexOf(n)!==-1;if($e.isRegExp(n))return n.test(r)}}function k9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,n)=>a.toUpperCase()+n)}function S9(t,r){const a=$e.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+a,{value:function(s,o,i){return this[n].call(this,r,s,o,i)},configurable:!0})})}let Dn=class{constructor(r){r&&this.set(r)}set(r,a,n){const s=this;function o(d,u,m){const p=eu(u);if(!p)throw new Error("header name must be a non-empty string");const f=$e.findKey(s,p);(!f||s[f]===void 0||m===!0||m===void 0&&s[f]!==!1)&&(s[f||u]=Ep(d))}const i=(d,u)=>$e.forEach(d,(m,p)=>o(m,p,u));if($e.isPlainObject(r)||r instanceof this.constructor)i(r,a);else if($e.isString(r)&&(r=r.trim())&&!N9(r))i(E9(r),a);else if($e.isObject(r)&&$e.isIterable(r)){let d={},u,m;for(const p of r){if(!$e.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[m=p[0]]=(u=d[m])?$e.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}i(d,a)}else r!=null&&o(a,r,n);return this}get(r,a){if(r=eu(r),r){const n=$e.findKey(this,r);if(n){const s=this[n];if(!a)return s;if(a===!0)return w9(s);if($e.isFunction(a))return a.call(this,s,n);if($e.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=eu(r),r){const n=$e.findKey(this,r);return!!(n&&this[n]!==void 0&&(!a||xy(this,this[n],n,a)))}return!1}delete(r,a){const n=this;let s=!1;function o(i){if(i=eu(i),i){const d=$e.findKey(n,i);d&&(!a||xy(n,n[d],d,a))&&(delete n[d],s=!0)}}return $e.isArray(r)?r.forEach(o):o(r),s}clear(r){const a=Object.keys(this);let n=a.length,s=!1;for(;n--;){const o=a[n];(!r||xy(this,this[o],o,r,!0))&&(delete this[o],s=!0)}return s}normalize(r){const a=this,n={};return $e.forEach(this,(s,o)=>{const i=$e.findKey(n,o);if(i){a[i]=Ep(s),delete a[o];return}const d=r?k9(o):String(o).trim();d!==o&&delete a[o],a[d]=Ep(s),n[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return $e.forEach(this,(n,s)=>{n!=null&&n!==!1&&(a[s]=r&&$e.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const n=new this(r);return a.forEach(s=>n.set(s)),n}static accessor(r){const n=(this[h5]=this[h5]={accessors:{}}).accessors,s=this.prototype;function o(i){const d=eu(i);n[d]||(S9(s,i),n[d]=!0)}return $e.isArray(r)?r.forEach(o):o(r),this}};Dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(Dn.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(n){this[a]=n}}});$e.freezeMethods(Dn);function vy(t,r){const a=this||_m,n=r||a,s=Dn.from(n.headers);let o=n.data;return $e.forEach(t,function(d){o=d.call(a,o,s.normalize(),r?r.status:void 0)}),s.normalize(),o}function OO(t){return!!(t&&t.__CANCEL__)}function bd(t,r,a){Wt.call(this,t??"canceled",Wt.ERR_CANCELED,r,a),this.name="CanceledError"}$e.inherits(bd,Wt,{__CANCEL__:!0});function MO(t,r,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?t(a):r(new Wt("Request failed with status code "+a.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function C9(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function A9(t,r){t=t||10;const a=new Array(t),n=new Array(t);let s=0,o=0,i;return r=r!==void 0?r:1e3,function(u){const m=Date.now(),p=n[o];i||(i=m),a[s]=u,n[s]=m;let f=o,y=0;for(;f!==s;)y+=a[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),m-i<r)return;const b=p&&m-p;return b?Math.round(y*1e3/b):void 0}}function _9(t,r){let a=0,n=1e3/r,s,o;const i=(m,p=Date.now())=>{a=p,s=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const p=Date.now(),f=p-a;f>=n?i(m,p):(s=m,o||(o=setTimeout(()=>{o=null,i(s)},n-f)))},()=>s&&i(s)]}const Rp=(t,r,a=3)=>{let n=0;const s=A9(50,250);return _9(o=>{const i=o.loaded,d=o.lengthComputable?o.total:void 0,u=i-n,m=s(u),p=i<=d;n=i;const f={loaded:i,total:d,progress:d?i/d:void 0,bytes:u,rate:m||void 0,estimated:m&&d&&p?(d-i)/m:void 0,event:o,lengthComputable:d!=null,[r?"download":"upload"]:!0};t(f)},a)},y5=(t,r)=>{const a=t!=null;return[n=>r[0]({lengthComputable:a,total:t,loaded:n}),r[1]]},b5=t=>(...r)=>$e.asap(()=>t(...r)),P9=fn.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,fn.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,T9=fn.hasStandardBrowserEnv?{write(t,r,a,n,s,o,i){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(r)}`];$e.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),$e.isString(n)&&d.push(`path=${n}`),$e.isString(s)&&d.push(`domain=${s}`),o===!0&&d.push("secure"),$e.isString(i)&&d.push(`SameSite=${i}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function O9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M9(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function jO(t,r,a){let n=!O9(r);return t&&(n||a==!1)?M9(t,r):r}const x5=t=>t instanceof Dn?{...t}:t;function Tl(t,r){r=r||{};const a={};function n(m,p,f,y){return $e.isPlainObject(m)&&$e.isPlainObject(p)?$e.merge.call({caseless:y},m,p):$e.isPlainObject(p)?$e.merge({},p):$e.isArray(p)?p.slice():p}function s(m,p,f,y){if($e.isUndefined(p)){if(!$e.isUndefined(m))return n(void 0,m,f,y)}else return n(m,p,f,y)}function o(m,p){if(!$e.isUndefined(p))return n(void 0,p)}function i(m,p){if($e.isUndefined(p)){if(!$e.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function d(m,p,f){if(f in r)return n(m,p);if(f in t)return n(void 0,m)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(m,p,f)=>s(x5(m),x5(p),f,!0)};return $e.forEach(Object.keys({...t,...r}),function(p){const f=u[p]||s,y=f(t[p],r[p],p);$e.isUndefined(y)&&f!==d||(a[p]=y)}),a}const RO=t=>{const r=Tl({},t);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:d}=r;if(r.headers=i=Dn.from(i),r.url=_O(jO(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),$e.isFormData(a)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if($e.isFunction(a.getHeaders)){const u=a.getHeaders(),m=["content-type","content-length"];Object.entries(u).forEach(([p,f])=>{m.includes(p.toLowerCase())&&i.set(p,f)})}}if(fn.hasStandardBrowserEnv&&(n&&$e.isFunction(n)&&(n=n(r)),n||n!==!1&&P9(r.url))){const u=s&&o&&T9.read(o);u&&i.set(s,u)}return r},j9=typeof XMLHttpRequest<"u",R9=j9&&function(t){return new Promise(function(a,n){const s=RO(t);let o=s.data;const i=Dn.from(s.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:m}=s,p,f,y,b,w;function E(){b&&b(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function N(){if(!x)return;const A=Dn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:A,config:t,request:x};MO(function(T){a(T),E()},function(T){n(T),E()},S),x=null}"onloadend"in x?x.onloadend=N:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(N)},x.onabort=function(){x&&(n(new Wt("Request aborted",Wt.ECONNABORTED,t,x)),x=null)},x.onerror=function(P){const S=P&&P.message?P.message:"Network Error",_=new Wt(S,Wt.ERR_NETWORK,t,x);_.event=P||null,n(_),x=null},x.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||PO;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new Wt(P,S.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,t,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&$e.forEach(i.toJSON(),function(P,S){x.setRequestHeader(S,P)}),$e.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),d&&d!=="json"&&(x.responseType=s.responseType),m&&([y,w]=Rp(m,!0),x.addEventListener("progress",y)),u&&x.upload&&([f,b]=Rp(u),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(p=A=>{x&&(n(!A||A.type?new bd(null,t,x):A),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const k=C9(s.url);if(k&&fn.protocols.indexOf(k)===-1){n(new Wt("Unsupported protocol "+k+":",Wt.ERR_BAD_REQUEST,t));return}x.send(o||null)})},$9=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let n=new AbortController,s;const o=function(m){if(!s){s=!0,d();const p=m instanceof Error?m:this.reason;n.abort(p instanceof Wt?p:new bd(p instanceof Error?p.message:p))}};let i=r&&setTimeout(()=>{i=null,o(new Wt(`timeout ${r} of ms exceeded`,Wt.ETIMEDOUT))},r);const d=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>$e.asap(d),u}},L9=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let n=0,s;for(;n<a;)s=n+r,yield t.slice(n,s),n=s},I9=async function*(t,r){for await(const a of D9(t))yield*L9(a,r)},D9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:n}=await r.read();if(a)break;yield n}}finally{await r.cancel()}},v5=(t,r,a,n)=>{const s=I9(t,r);let o=0,i,d=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:m,value:p}=await s.next();if(m){d(),u.close();return}let f=p.byteLength;if(a){let y=o+=f;a(y)}u.enqueue(new Uint8Array(p))}catch(m){throw d(m),m}},cancel(u){return d(u),s.return()}},{highWaterMark:2})},E5=64*1024,{isFunction:Df}=$e,z9=(({Request:t,Response:r})=>({Request:t,Response:r}))($e.global),{ReadableStream:w5,TextEncoder:N5}=$e.global,k5=(t,...r)=>{try{return!!t(...r)}catch{return!1}},F9=t=>{t=$e.merge.call({skipUndefined:!0},z9,t);const{fetch:r,Request:a,Response:n}=t,s=r?Df(r):typeof fetch=="function",o=Df(a),i=Df(n);if(!s)return!1;const d=s&&Df(w5),u=s&&(typeof N5=="function"?(w=>E=>w.encode(E))(new N5):async w=>new Uint8Array(await new a(w).arrayBuffer())),m=o&&d&&k5(()=>{let w=!1;const E=new a(fn.origin,{body:new w5,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!E}),p=i&&d&&k5(()=>$e.isReadableStream(new n("").body)),f={stream:p&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!f[w]&&(f[w]=(E,x)=>{let N=E&&E[w];if(N)return N.call(E);throw new Wt(`Response type '${w}' is not supported`,Wt.ERR_NOT_SUPPORT,x)})});const y=async w=>{if(w==null)return 0;if($e.isBlob(w))return w.size;if($e.isSpecCompliantForm(w))return(await new a(fn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if($e.isArrayBufferView(w)||$e.isArrayBuffer(w))return w.byteLength;if($e.isURLSearchParams(w)&&(w=w+""),$e.isString(w))return(await u(w)).byteLength},b=async(w,E)=>{const x=$e.toFiniteNumber(w.getContentLength());return x??y(E)};return async w=>{let{url:E,method:x,data:N,signal:k,cancelToken:A,timeout:P,onDownloadProgress:S,onUploadProgress:_,responseType:T,headers:O,withCredentials:R="same-origin",fetchOptions:D}=RO(w),j=r||fetch;T=T?(T+"").toLowerCase():"text";let $=$9([k,A&&A.toAbortSignal()],P),K=null;const W=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let z;try{if(_&&m&&x!=="get"&&x!=="head"&&(z=await b(O,N))!==0){let G=new a(E,{method:"POST",body:N,duplex:"half"}),Y;if($e.isFormData(N)&&(Y=G.headers.get("content-type"))&&O.setContentType(Y),G.body){const[V,J]=y5(z,Rp(b5(_)));N=v5(G.body,E5,V,J)}}$e.isString(R)||(R=R?"include":"omit");const Q=o&&"credentials"in a.prototype,ee={...D,signal:$,method:x.toUpperCase(),headers:O.normalize().toJSON(),body:N,duplex:"half",credentials:Q?R:void 0};K=o&&new a(E,ee);let H=await(o?j(K,D):j(E,ee));const q=p&&(T==="stream"||T==="response");if(p&&(S||q&&W)){const G={};["status","statusText","headers"].forEach(ue=>{G[ue]=H[ue]});const Y=$e.toFiniteNumber(H.headers.get("content-length")),[V,J]=S&&y5(Y,Rp(b5(S),!0))||[];H=new n(v5(H.body,E5,V,()=>{J&&J(),W&&W()}),G)}T=T||"text";let B=await f[$e.findKey(f,T)||"text"](H,w);return!q&&W&&W(),await new Promise((G,Y)=>{MO(G,Y,{data:B,headers:Dn.from(H.headers),status:H.status,statusText:H.statusText,config:w,request:K})})}catch(Q){throw W&&W(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,w,K),{cause:Q.cause||Q}):Wt.from(Q,Q&&Q.code,w,K)}}},B9=new Map,$O=t=>{let r=t&&t.env||{};const{fetch:a,Request:n,Response:s}=r,o=[n,s,a];let i=o.length,d=i,u,m,p=B9;for(;d--;)u=o[d],m=p.get(u),m===void 0&&p.set(u,m=d?new Map:F9(r)),p=m;return m};$O();const uN={http:n9,xhr:R9,fetch:{get:$O}};$e.forEach(uN,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const S5=t=>`- ${t}`,q9=t=>$e.isFunction(t)||t===null||t===!1;function U9(t,r){t=$e.isArray(t)?t:[t];const{length:a}=t;let n,s;const o={};for(let i=0;i<a;i++){n=t[i];let d;if(s=n,!q9(n)&&(s=uN[(d=String(n)).toLowerCase()],s===void 0))throw new Wt(`Unknown adapter '${d}'`);if(s&&($e.isFunction(s)||(s=s.get(r))))break;o[d||"#"+i]=s}if(!s){const i=Object.entries(o).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=a?i.length>1?`since :
`+i.map(S5).join(`
`):" "+S5(i[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const LO={getAdapter:U9,adapters:uN};function Ey(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bd(null,t)}function C5(t){return Ey(t),t.headers=Dn.from(t.headers),t.data=vy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),LO.getAdapter(t.adapter||_m.adapter,t)(t).then(function(n){return Ey(t),n.data=vy.call(t,t.transformResponse,n),n.headers=Dn.from(n.headers),n},function(n){return OO(n)||(Ey(t),n&&n.response&&(n.response.data=vy.call(t,t.transformResponse,n.response),n.response.headers=Dn.from(n.response.headers))),Promise.reject(n)})}const IO="1.13.2",tg={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{tg[t]=function(n){return typeof n===t||"a"+(r<1?"n ":" ")+t}});const A5={};tg.transitional=function(r,a,n){function s(o,i){return"[Axios v"+IO+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,d)=>{if(r===!1)throw new Wt(s(i," has been removed"+(a?" in "+a:"")),Wt.ERR_DEPRECATED);return a&&!A5[i]&&(A5[i]=!0,console.warn(s(i," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(o,i,d):!0}};tg.spelling=function(r){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function V9(t,r,a){if(typeof t!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=r[o];if(i){const d=t[o],u=d===void 0||i(d,o,t);if(u!==!0)throw new Wt("option "+o+" must be "+u,Wt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Wt("Unknown option "+o,Wt.ERR_BAD_OPTION)}}const wp={assertOptions:V9,validators:tg},io=wp.validators;let wl=class{constructor(r){this.defaults=r||{},this.interceptors={request:new g5,response:new g5}}async request(r,a){try{return await this._request(r,a)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Tl(this.defaults,a);const{transitional:n,paramsSerializer:s,headers:o}=a;n!==void 0&&wp.assertOptions(n,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),s!=null&&($e.isFunction(s)?a.paramsSerializer={serialize:s}:wp.assertOptions(s,{encode:io.function,serialize:io.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),wp.assertOptions(a,{baseUrl:io.spelling("baseURL"),withXsrfToken:io.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&$e.merge(o.common,o[a.method]);o&&$e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),a.headers=Dn.concat(i,o);const d=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(a)===!1||(u=u&&E.synchronous,d.unshift(E.fulfilled,E.rejected))});const m=[];this.interceptors.response.forEach(function(E){m.push(E.fulfilled,E.rejected)});let p,f=0,y;if(!u){const w=[C5.bind(this),void 0];for(w.unshift(...d),w.push(...m),y=w.length,p=Promise.resolve(a);f<y;)p=p.then(w[f++],w[f++]);return p}y=d.length;let b=a;for(;f<y;){const w=d[f++],E=d[f++];try{b=w(b)}catch(x){E.call(this,x);break}}try{p=C5.call(this,b)}catch(w){return Promise.reject(w)}for(f=0,y=m.length;f<y;)p=p.then(m[f++],m[f++]);return p}getUri(r){r=Tl(this.defaults,r);const a=jO(r.baseURL,r.url,r.allowAbsoluteUrls);return _O(a,r.params,r.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(r){wl.prototype[r]=function(a,n){return this.request(Tl(n||{},{method:r,url:a,data:(n||{}).data}))}});$e.forEach(["post","put","patch"],function(r){function a(n){return function(o,i,d){return this.request(Tl(d||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}wl.prototype[r]=a(),wl.prototype[r+"Form"]=a(!0)});let H9=class DO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(d=>{n.subscribe(d),o=d}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},r(function(o,i,d){n.reason||(n.reason=new bd(o,i,d),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=n=>{r.abort(n)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new DO(function(s){r=s}),cancel:r}}};function W9(t){return function(a){return t.apply(null,a)}}function G9(t){return $e.isObject(t)&&t.isAxiosError===!0}const hw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hw).forEach(([t,r])=>{hw[r]=t});function zO(t){const r=new wl(t),a=hO(wl.prototype.request,r);return $e.extend(a,wl.prototype,r,{allOwnKeys:!0}),$e.extend(a,r,null,{allOwnKeys:!0}),a.create=function(s){return zO(Tl(t,s))},a}const ga=zO(_m);ga.Axios=wl;ga.CanceledError=bd;ga.CancelToken=H9;ga.isCancel=OO;ga.VERSION=IO;ga.toFormData=eg;ga.AxiosError=Wt;ga.Cancel=ga.CanceledError;ga.all=function(r){return Promise.all(r)};ga.spread=W9;ga.isAxiosError=G9;ga.mergeConfig=Tl;ga.AxiosHeaders=Dn;ga.formToJSON=t=>TO($e.isHTMLForm(t)?new FormData(t):t);ga.getAdapter=LO.getAdapter;ga.HttpStatusCode=hw;ga.default=ga;const{Axios:Ome,AxiosError:Mme,CanceledError:jme,isCancel:Rme,CancelToken:$me,VERSION:Lme,all:Ime,Cancel:Dme,isAxiosError:zme,spread:Fme,toFormData:Bme,AxiosHeaders:qme,HttpStatusCode:Ume,formToJSON:Vme,getAdapter:Hme,mergeConfig:Wme}=ga;var zc;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(zc||(zc={}));class wy extends Error{constructor(r,a,n){super(r),this.message=r,this.code=a,this.data=n}}const K9=t=>{var r,a;return t?.androidBridge?"android":!((a=(r=t?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},Y9=t=>{const r=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},n=a.Plugins=a.Plugins||{},s=()=>r!==null?r.name:K9(t),o=()=>s()!=="web",i=f=>{const y=m.get(f);return!!(y?.platforms.has(s())||d(f))},d=f=>{var y;return(y=a.PluginHeaders)===null||y===void 0?void 0:y.find(b=>b.name===f)},u=f=>t.console.error(f),m=new Map,p=(f,y={})=>{const b=m.get(f);if(b)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),b.proxy;const w=s(),E=d(f);let x;const N=async()=>(!x&&w in y?x=typeof y[w]=="function"?x=await y[w]():x=y[w]:r!==null&&!x&&"web"in y&&(x=typeof y.web=="function"?x=await y.web():x=y.web),x),k=(O,R)=>{var D,j;if(E){const $=E?.methods.find(K=>R===K.name);if($)return $.rtype==="promise"?K=>a.nativePromise(f,R.toString(),K):(K,W)=>a.nativeCallback(f,R.toString(),K,W);if(O)return(D=O[R])===null||D===void 0?void 0:D.bind(O)}else{if(O)return(j=O[R])===null||j===void 0?void 0:j.bind(O);throw new wy(`"${f}" plugin is not implemented on ${w}`,zc.Unimplemented)}},A=O=>{let R;const D=(...j)=>{const $=N().then(K=>{const W=k(K,O);if(W){const z=W(...j);return R=z?.remove,z}else throw new wy(`"${f}.${O}()" is not implemented on ${w}`,zc.Unimplemented)});return O==="addListener"&&($.remove=async()=>R()),$};return D.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:O,writable:!1,configurable:!1}),D},P=A("addListener"),S=A("removeListener"),_=(O,R)=>{const D=P({eventName:O},R),j=async()=>{const K=await D;S({eventName:O,callbackId:K},R)},$=new Promise(K=>D.then(()=>K({remove:j})));return $.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await j()},$},T=new Proxy({},{get(O,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?_:P;case"removeListener":return S;default:return A(R)}}});return n[f]=T,m.set(f,{name:f,proxy:T,platforms:new Set([...Object.keys(y),...E?[w]:[]])}),T};return a.convertFileSrc||(a.convertFileSrc=f=>f),a.getPlatform=s,a.handleError=u,a.isNativePlatform=o,a.isPluginAvailable=i,a.registerPlugin=p,a.Exception=wy,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},X9=t=>t.Capacitor=Y9(t),Fc=X9(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pm=Fc.registerPlugin;class mN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,a){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(a);const o=this.windowListeners[r];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,a);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,n){const s=this.listeners[r];if(!s){if(n){let o=this.retainedEventArguments[r];o||(o=[]),o.push(a),this.retainedEventArguments[r]=o}return}s.forEach(o=>o(a))}hasListeners(r){var a;return!!(!((a=this.listeners[r])===null||a===void 0)&&a.length)}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:n=>{this.notifyListeners(a,n)}}}unimplemented(r="not implemented"){return new Fc.Exception(r,zc.Unimplemented)}unavailable(r="not available"){return new Fc.Exception(r,zc.Unavailable)}async removeListener(r,a){const n=this.listeners[r];if(!n)return;const s=n.indexOf(a);this.listeners[r].splice(s,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(n=>{this.notifyListeners(r,n)}))}}const _5=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),P5=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Q9 extends mN{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[s,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=P5(s).trim(),o=P5(o).trim(),a[s]=o}),a}async setCookie(r){try{const a=_5(r.key),n=_5(r.value),s=`; expires=${(r.expires||"").replace("expires=","")}`,o=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${n||""}${s}; path=${o}; ${i};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}Pm("CapacitorCookies",{web:()=>new Q9});const J9=async t=>new Promise((r,a)=>{const n=new FileReader;n.onload=()=>{const s=n.result;r(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>a(s),n.readAsDataURL(t)}),Z9=(t={})=>{const r=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,o,i)=>(s[o]=t[r[i]],s),{})},eD=(t,r=!0)=>t?Object.entries(t).reduce((n,s)=>{const[o,i]=s;let d,u;return Array.isArray(i)?(u="",i.forEach(m=>{d=r?encodeURIComponent(m):m,u+=`${o}=${d}&`}),u.slice(0,-1)):(d=r?encodeURIComponent(i):i,u=`${o}=${d}`),`${n}&${u}`},"").substr(1):null,tD=(t,r={})=>{const a=Object.assign({method:t.method||"GET",headers:t.headers},r),s=Z9(t.headers)["content-type"]||"";if(typeof t.data=="string")a.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,d]of Object.entries(t.data||{}))o.set(i,d);a.body=o.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((d,u)=>{o.append(u,d)});else for(const d of Object.keys(t.data))o.append(d,t.data[d]);a.body=o;const i=new Headers(a.headers);i.delete("content-type"),a.headers=i}else(s.includes("application/json")||typeof t.data=="object")&&(a.body=JSON.stringify(t.data));return a};class rD extends mN{async request(r){const a=tD(r,r.webFetchExtra),n=eD(r.params,r.shouldEncodeUrlParams),s=n?`${r.url}?${n}`:r.url,o=await fetch(s,a),i=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?r:{};i.includes("application/json")&&(d="json");let u,m;switch(d){case"arraybuffer":case"blob":m=await o.blob(),u=await J9(m);break;case"json":u=await o.json();break;default:u=await o.text()}const p={};return o.headers.forEach((f,y)=>{p[y]=f}),{data:u,headers:p,status:o.status,url:o.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}Pm("CapacitorHttp",{web:()=>new rD});var T5;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(T5||(T5={}));var O5;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(O5||(O5={}));class aD extends mN{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Pm("SystemBars",{web:()=>new aD});const nD="modulepreload",sD=function(t){return"/"+t},M5={},Nl=function(r,a,n){let s=Promise.resolve();if(a&&a.length>0){let u=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=i?.nonce||i?.getAttribute("nonce");s=u(a.map(m=>{if(m=sD(m),m in M5)return;M5[m]=!0;const p=m.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":nD,p||(y.as="script"),y.crossOrigin="",y.href=m,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return s.then(i=>{for(const d of i||[])d.status==="rejected"&&o(d.reason);return r().catch(o)})},nl=Pm("Preferences",{web:()=>Nl(()=>import("./web-C7wdIhFe.js"),[]).then(t=>new t.PreferencesWeb)});class oD{constructor(){try{this.isNative=Fc.isNativePlatform()}catch{this.isNative=!1}this.maxLocalStorageSize=5*1024*1024}_useNativeStorage(){return this.isNative}async get(r){try{const a=this._useNativeStorage();let n=null;if(a?n=(await nl.get({key:r}))?.value:n=localStorage.getItem(r),!n||n==="null")return null;try{return JSON.parse(n)}catch{return n}}catch{return null}}async set(r,a){try{const n=JSON.stringify(a);if(this._useNativeStorage())return await nl.set({key:r,value:n}),!0;{const o=new Blob([n]).size;return o>this.maxLocalStorageSize?(console.warn(`Value too large for localStorage (${o} bytes). Consider using IndexedDB.`),!1):(localStorage.setItem(r,n),!0)}}catch(n){if(n.name==="QuotaExceededError"){console.warn("Storage quota exceeded. Cleaning up old entries..."),await this.cleanup();try{return this._useNativeStorage()?await nl.set({key:r,value:JSON.stringify(a)}):localStorage.setItem(r,JSON.stringify(a)),!0}catch(s){return console.error("Storage set error after cleanup:",s),!1}}return console.error(`Storage set error for key ${r}:`,n),!1}}async remove(r){try{return this._useNativeStorage()?await nl.remove({key:r}):localStorage.removeItem(r),!0}catch(a){return console.error(`Storage remove error for key ${r}:`,a),!1}}async clear(){try{return this._useNativeStorage()?await nl.clear():localStorage.clear(),!0}catch(r){return console.error("Storage clear error:",r),!1}}async keys(){try{if(this._useNativeStorage()){const{keys:a}=await nl.keys();return a}else return Object.keys(localStorage)}catch(r){return console.error("Storage keys error:",r),[]}}async has(r){try{if(this._useNativeStorage()){const{value:n}=await nl.get({key:r});return n!==null}else return localStorage.getItem(r)!==null}catch{return!1}}async cleanup(){return!0}}const wr=new oD,iD="HDMarketDB",lD=1,bs={PRODUCTS:"products",SEARCH_RESULTS:"searchResults",SHOP_DATA:"shopData",CACHE:"cache"};class cD{constructor(){this.db=null,this.initPromise=null}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((r,a)=>{if(typeof window>"u"||!window.indexedDB){console.warn("IndexedDB not available"),r(!1);return}const n=Fu.open(iD,lD);n.onerror=()=>{console.error("IndexedDB open error:",n.error),a(n.error)},n.onsuccess=()=>{this.db=n.result,r(!0)},n.onupgradeneeded=s=>{const o=s.target.result;if(!o.objectStoreNames.contains(bs.PRODUCTS)){const i=o.createObjectStore(bs.PRODUCTS,{keyPath:"id"});i.createIndex("slug","slug",{unique:!0}),i.createIndex("category","category",{unique:!1}),i.createIndex("timestamp","timestamp",{unique:!1})}if(o.objectStoreNames.contains(bs.SEARCH_RESULTS)||o.createObjectStore(bs.SEARCH_RESULTS,{keyPath:"query"}).createIndex("timestamp","timestamp",{unique:!1}),!o.objectStoreNames.contains(bs.SHOP_DATA)){const i=o.createObjectStore(bs.SHOP_DATA,{keyPath:"id"});i.createIndex("slug","slug",{unique:!0}),i.createIndex("timestamp","timestamp",{unique:!1})}o.objectStoreNames.contains(bs.CACHE)||o.createObjectStore(bs.CACHE,{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1})}}),this.initPromise)}async get(r,a){return await this.init(),this.db?new Promise((n,s)=>{const d=this.db.transaction([r],"readonly").objectStore(r).get(a);d.onsuccess=()=>{const u=d.result;u&&u.data?u.expiry&&Date.now()>u.expiry?(this.delete(r,a),n(null)):n(u.data):n(null)},d.onerror=()=>{s(d.error)}}):null}async set(r,a,n,s=null){return await this.init(),this.db?new Promise((o,i)=>{const u=this.db.transaction([r],"readwrite").objectStore(r),m={key:typeof a=="object"?a.id||a.slug||a.query:a,data:n,timestamp:Date.now(),expiry:s?Date.now()+s:null},p=u.put(m);p.onsuccess=()=>{o(!0)},p.onerror=()=>{i(p.error)}}):!1}async delete(r,a){return await this.init(),this.db?new Promise((n,s)=>{const d=this.db.transaction([r],"readwrite").objectStore(r).delete(a);d.onsuccess=()=>{n(!0)},d.onerror=()=>{s(d.error)}}):!1}async clear(r){return await this.init(),this.db?new Promise((a,n)=>{const i=this.db.transaction([r],"readwrite").objectStore(r).clear();i.onsuccess=()=>{a(!0)},i.onerror=()=>{n(i.error)}}):!1}async cleanup(r){return await this.init(),this.db?new Promise((a,n)=>{const d=this.db.transaction([r],"readwrite").objectStore(r).index("timestamp").openCursor();let u=0;d.onsuccess=m=>{const p=m.target.result;if(p){const f=p.value;f.expiry&&Date.now()>f.expiry&&(p.delete(),u++),p.continue()}else a(u)},d.onerror=()=>{n(d.error)}}):0}async getAllKeys(r){return await this.init(),this.db?new Promise((a,n)=>{const i=this.db.transaction([r],"readonly").objectStore(r).getAllKeys();i.onsuccess=()=>{a(i.result)},i.onerror=()=>{n(i.error)}}):[]}}const Fu=new cD,se=ga.create({baseURL:"https://hdmarket-backend.onrender.com/api",withCredentials:!0}),dD=120*1e3,FO="hdmarket:api-cache:",$p="hdmarket:cache-keys",BO={"/products/public":180*1e3,"/shops":300*1e3,"/settings":600*1e3,"/search":120*1e3,"/categories":1800*1e3,"/cities":1800*1e3,"/users/notifications":60*1e3,"/users/profile/stats":120*1e3,"/admin/dashboard/stats":60*1e3},uD=Object.keys(BO),mD=["/users/auth","/users/login","/users/register","/cart","/orders/create","/admin","/payments","/support","/chat"],fN=()=>typeof window<"u",rg=t=>{const r=t.url||"",a=t.baseURL||"";if(r.startsWith("http"))try{const n=new URL(r);return n.pathname+n.search}catch{return r.replace(a,"")}return r.replace(a,"")},qO=t=>{const r=rg(t),a=t.params?new URLSearchParams(t.params).toString():"",n=a?r.includes("?")?`&${a}`:`?${a}`:"";return`${FO}${r}${n}`},Lp=t=>{for(const[r,a]of Object.entries(BO))if(t.startsWith(r))return a;return dD},j5=async t=>{try{const r=await wr.get($p)||[];r.includes(t)||(r.push(t),await wr.set($p,r))}catch{}},yw=(t,r)=>{const a=["/products/public","/search","/shops"],n=r>102400;return a.some(s=>t.startsWith(s))||n},bw=async()=>{try{const t=await wr.get($p)||[],r=[];for(const a of t)try{const n=await wr.get(a);if(n){const s=Lp(a.replace(FO,""));Date.now()-n.timestamp<s?r.push(a):await wr.remove(a)}}catch{await wr.remove(a)}await wr.set($p,r),await Fu.cleanup(bs.CACHE)}catch{}};typeof window<"u"&&(bw(),setInterval(bw,300*1e3));const fD=async(t,r)=>{if(!fN())return null;try{if(yw(r,0))return await Fu.get(bs.CACHE,t);const a=await wr.get(t);if(!a||typeof a!="object")return null;const n=Lp(r);return Date.now()-a.timestamp>n?(await wr.remove(t),null):a.data}catch{return null}},pD=async(t,r,a)=>{if(fN())try{const n=new Blob([JSON.stringify(r)]).size,s=Lp(a);yw(a,n)?await Fu.set(bs.CACHE,t,r,s):await wr.set(t,{timestamp:Date.now(),data:r}),await j5(t)}catch(n){if(n.name==="QuotaExceededError"||n.message?.includes("quota")){await bw();try{const s=new Blob([JSON.stringify(r)]).size,o=Lp(a);yw(a,s)?await Fu.set(bs.CACHE,t,r,o):await wr.set(t,{timestamp:Date.now(),data:r}),await j5(t)}catch{}}}},UO=t=>{if(!fN()||(t.method||"get").toLowerCase()!=="get"||t.skipCache||t.headers?.["x-skip-cache"])return!1;const r=rg(t);return!r.startsWith("/")||mD.some(a=>r.startsWith(a))?!1:uD.some(a=>r.startsWith(a))};se.interceptors.request.use(async t=>{t.headers=t.headers||{};const r=await wr.get("qm_token");if(r&&(t.headers.Authorization=`Bearer ${r}`),UO(t)){const a=rg(t),n=qO(t),s=await fD(n,a);s?t.adapter=async()=>({data:s,status:200,statusText:"OK",headers:{"x-cache":"HIT"},config:t,request:{fromCache:!0}}):(t.__cacheKey=n,t.__normalizedUrl=a)}return t});const gD=2,hD=1200,yD=15e3;let R5=0;se.interceptors.response.use(async t=>{if(UO(t.config)){const r=t.config.__cacheKey||qO(t.config),a=t.config.__normalizedUrl||rg(t.config);r&&t.status===300&&await pD(r,t.data,a)}return t},async t=>{const r=t.config||{},a=r.__retryCount??0,n=!t.response;if(n&&a<gD){r.__retryCount=a+1;const s=hD*(a+1);return await new Promise(o=>setTimeout(o,s)),se.request(r)}if(n&&typeof window<"u"){const s=Date.now();if(s-R5>=yD){R5=s;const o="Impossible de joindre le serveur. Vrifiez votre connexion internet et ressayez.";window.dispatchEvent(new CustomEvent("hdmarket:network-error",{detail:{message:o},bubbles:!0,cancelable:!1}))}}return Promise.reject(t)});class Nu extends Error{}Nu.prototype.name="InvalidTokenError";function bD(t){return decodeURIComponent(atob(t).replace(/(.)/g,(r,a)=>{let n=a.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function xD(t){let r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return bD(r)}catch{return atob(r)}}function vD(t,r){if(typeof t!="string")throw new Nu("Invalid token specified: must be a string");r||(r={});const a=r.header===!0?0:1,n=t.split(".")[a];if(typeof n!="string")throw new Nu(`Invalid token specified: missing part #${a+1}`);let s;try{s=xD(n)}catch(o){throw new Nu(`Invalid token specified: invalid base64 for part #${a+1} (${o.message})`)}try{return JSON.parse(s)}catch(o){throw new Nu(`Invalid token specified: invalid json for part #${a+1} (${o.message})`)}}const fr=g.createContext(),ED=async()=>{if(typeof window>"u")return null;try{const t=await wr.get("qm_token");if(!t)return null;const r=vD(t),n=await wr.get("qm_user")||{},s={...n,shopHours:Array.isArray(n.shopHours)?n.shopHours:[],shopVerified:!!n.shopVerified,phoneVerified:!!n.phoneVerified,followingShops:Array.isArray(n.followingShops)?n.followingShops:[],canReadFeedback:!!n.canReadFeedback,canVerifyPayments:!!n.canVerifyPayments,canManageBoosts:!!n.canManageBoosts};return{id:r.id,role:r.role,token:t,...s}}catch{return await wr.remove("qm_token"),await wr.remove("qm_user"),null}},wD=({children:t})=>{const[r,a]=g.useState(null),[n,s]=g.useState(!0);g.useEffect(()=>{ED().then(m=>{a(m),s(!1)})},[]);const o=async m=>{const{token:p,...f}=m||{};try{await wr.set("qm_user",f)}catch{}},i=async m=>{await wr.set("qm_token",m.token);const p={id:m._id,role:m.role,token:m.token,name:m.name,email:m.email,phone:m.phone,phoneVerified:!!m.phoneVerified,accountType:m.accountType||"person",shopName:m.shopName||"",shopAddress:m.shopAddress||"",shopLogo:m.shopLogo||"",shopBanner:m.shopBanner||"",shopDescription:m.shopDescription||"",shopHours:Array.isArray(m.shopHours)?m.shopHours:[],shopVerified:!!m.shopVerified,followingShops:Array.isArray(m.followingShops)?m.followingShops:[],canReadFeedback:!!m.canReadFeedback,canVerifyPayments:!!m.canVerifyPayments,canManageBoosts:!!m.canManageBoosts,country:m.country||"Rpublique du Congo",address:m.address||"",city:m.city||"",gender:m.gender||""};await o(p),a(p)},d=async()=>{await wr.remove("qm_token"),await wr.remove("qm_user"),a(null)};g.useEffect(()=>{(async()=>{if(r?.token)try{const{data:p}=await se.get("/users/profile");u(p)}catch(p){if(p.response?.status===401)d();else if(p.response?.status===403&&p.response?.data?.code==="ACCOUNT_BLOCKED"){const f=p.response?.data?.message||"Votre compte est suspendu. Contactez ladministrateur pour plus dinformations.";d(),alert(f)}}})()},[r?.token]);const u=async m=>{a(p=>{if(!p)return p;const f={...p,...m};return o(f),f})};return e.createElement(fr.Provider,{value:{user:r,login:i,logout:d,updateUser:u}},t)},Ac={items:[],totals:{quantity:0,subtotal:0},updatedAt:null},Fl=g.createContext({cart:Ac,loading:!1,error:"",addItem:async()=>{},updateItem:async()=>{},removeItem:async()=>{},clearCart:async()=>{},refresh:async()=>{}}),ND=({children:t})=>{const{user:r}=g.useContext(fr),[a,n]=g.useState(Ac),[s,o]=g.useState(!1),[i,d]=g.useState(""),u=g.useCallback(E=>{n(E?{items:E.items||[],totals:E.totals||{quantity:0,subtotal:0},updatedAt:E.updatedAt||null}:Ac)},[]),m=g.useCallback(async()=>{if(!r){n(Ac),d("");return}o(!0);try{const{data:E}=await se.get("/cart");u(E),d("")}catch(E){E.response?.status===401?n(Ac):d(E.response?.data?.message||E.message||"Erreur lors du chargement du panier.")}finally{o(!1)}},[u,r]);g.useEffect(()=>{m()},[m]);const p=g.useCallback(async(E,x=1)=>{if(r){o(!0);try{const{data:N}=await se.post("/cart/items",{productId:E,quantity:x});u(N),d("")}catch(N){throw d(N.response?.data?.message||N.message||"Impossible dajouter larticle au panier."),N}finally{o(!1)}}},[u,r]),f=g.useCallback(async(E,x)=>{if(r){o(!0);try{if(x<=0){const{data:N}=await se.delete(`/cart/items/${E}`);u(N)}else{const{data:N}=await se.put(`/cart/items/${E}`,{quantity:x});u(N)}d("")}catch(N){throw d(N.response?.data?.message||N.message||"Impossible de mettre  jour le panier."),N}finally{o(!1)}}},[u,r]),y=g.useCallback(async E=>{if(r){o(!0);try{const{data:x}=await se.delete(`/cart/items/${E}`);u(x),d("")}catch(x){throw d(x.response?.data?.message||x.message||"Impossible de retirer larticle."),x}finally{o(!1)}}},[u,r]),b=g.useCallback(async()=>{if(!r){n(Ac);return}o(!0);try{const{data:E}=await se.delete("/cart");u(E),d("")}catch(E){throw d(E.response?.data?.message||E.message||"Impossible de vider le panier."),E}finally{o(!1)}},[u,r]),w=g.useMemo(()=>({cart:a,loading:s,error:i,addItem:p,updateItem:f,removeItem:y,clearCart:b,refresh:m}),[p,a,b,i,m,s,y,f]);return e.createElement(Fl.Provider,{value:w},t)},Tm=g.createContext({favorites:[],loading:!1,refreshFavorites:()=>Promise.resolve(),addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),toggleFavorite:()=>Promise.resolve(),isFavorite:()=>!1}),kD=({children:t})=>{const{user:r}=g.useContext(fr),[a,n]=g.useState([]),[s,o]=g.useState(!1),i=g.useCallback(async()=>{if(!r?.token){n([]);return}o(!0);try{const{data:y}=await se.get("/users/favorites");n(Array.isArray(y)?y:[])}catch(y){console.error("Impossible de rcuprer les favoris.",y)}finally{o(!1)}},[r?.token]);g.useEffect(()=>{i()},[i]),g.useEffect(()=>{r?.token||(n([]),o(!1))},[r?.token]);const d=g.useCallback(y=>a.some(b=>b._id===y),[a]),u=g.useCallback(async y=>{if(!r?.token||!y?._id)throw new Error("Authentification requise");return await se.post("/users/favorites",{productId:y._id}),n(b=>b.some(w=>w._id===y._id)?b:[{...y},...b]),!0},[r?.token]),m=g.useCallback(async y=>{if(!r?.token||!y)throw new Error("Authentification requise");return await se.delete(`/users/favorites/${y}`),n(b=>b.filter(w=>w._id!==y)),!0},[r?.token]),p=g.useCallback(async y=>y?._id?d(y._id)?(await m(y._id),!1):(await u(y),!0):null,[d,u,m]),f=g.useMemo(()=>({favorites:a,loading:s,refreshFavorites:i,addFavorite:u,removeFavorite:m,toggleFavorite:p,isFavorite:d}),[a,s,i,u,m,p,d]);return e.createElement(Tm.Provider,{value:f},t)},$5={waitingPayments:0,unreadFeedback:0};function SD(t){const[r,a]=g.useState($5),[n,s]=g.useState(!1),[o,i]=g.useState(""),d=g.useCallback(async()=>{s(!0);try{const{data:u}=await se.get("/admin/stats");a({waitingPayments:u?.payments?.waiting||0,unreadFeedback:u?.feedback?.unread||0}),i("")}catch(u){i(u.response?.data?.message||u.message||"Erreur lors du chargement des statistiques admin.")}finally{s(!1)}},[]);return g.useEffect(()=>{if(!t){a($5);return}return d().catch(()=>{}),()=>{}},[t,d]),g.useEffect(()=>{if(!t)return()=>{};const u=()=>{d().catch(()=>{})};return window.addEventListener("hdmarket:admin-counts-refresh",u),()=>{window.removeEventListener("hdmarket:admin-counts-refresh",u)}},[t,d]),{counts:r,loading:n,error:o}}const CD=Object.freeze({product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,feedback_read:!0}),VO=()=>({...CD}),AD=(t={})=>{const r=VO();return Object.keys(r).forEach(a=>{typeof t[a]=="boolean"&&(r[a]=t[a])}),r},zf=()=>({commentAlerts:0,alerts:[],unreadCount:0,preferences:VO()});function HO(t){const[r,a]=g.useState(()=>zf()),[n,s]=g.useState(!1),[o,i]=g.useState(""),d="hdmarket:notifications-refresh",u=g.useCallback(async()=>{if(!t){const f=zf();return a(f),f}s(!0);try{const{data:f}=await se.get("/users/notifications"),y=typeof f?.unreadCount=="number"?f.unreadCount:typeof f?.commentAlerts=="number"?f.commentAlerts:0,b=Array.isArray(f?.alerts)?f.alerts:[],w={commentAlerts:y,unreadCount:y,alerts:b,preferences:AD(f?.preferences)};return a(w),i(""),w}catch(f){return i(f.response?.data?.message||f.message||"Erreur lors du chargement des notifications."),zf()}finally{s(!1)}},[t]);g.useEffect(()=>{u()},[u]);const m=g.useRef(null),p=g.useRef(null);return g.useEffect(()=>{if(typeof window>"u")return()=>{};const f=()=>{m.current&&(m.current.close(),m.current=null)},y=()=>{p.current&&(clearTimeout(p.current),p.current=null)};if(!t)return f(),y(),a(zf()),i(""),()=>{f(),y()};let b=window.localStorage.getItem("qm_token");if(b)try{const k=JSON.parse(b);typeof k=="string"&&(b=k)}catch{}if(!b)return f(),y(),()=>{f(),y()};const w="https://hdmarket-backend.onrender.com/api",E=w.endsWith("/")?w:`${w}/`,x=new URL("users/notifications/stream",E);x.searchParams.set("token",b);const N=()=>{y(),f();const k=new EventSource(x.toString());m.current=k,k.onopen=()=>{u()},k.onmessage=A=>{if(A?.data){try{if(JSON.parse(A.data)?.type==="connected")return}catch{}u()}},k.onerror=()=>{f(),p.current=setTimeout(N,5e3)}};return N(),()=>{f(),y()}},[t,u]),g.useEffect(()=>{const f=()=>{u()};return window.addEventListener(d,f),()=>{window.removeEventListener(d,f)}},[u]),{counts:r,loading:n,error:o,refresh:u}}const Ny=()=>{window.dispatchEvent(new Event("hdmarket:notifications-refresh"))},_D=(t,r="slug")=>{if(!t)return null;if(typeof t=="string")return t;if(typeof t=="object"){if(t[r])return t[r];if(t._id)return t._id;if(t.id)return t.id;if(t.slug)return t.slug}return null},WO=(t,r="slug")=>{if(!t)return null;if(typeof t=="string")return t;if(typeof t=="object"){if(t[r])return t[r];if(t.slug)return t.slug}return null},ar=t=>{const r=WO(t,"slug");return r?`/product/${r}`:"/product"},la=t=>{const r=_D(t,"slug");return r?`/shop/${r}`:"/shop"},GO=(t,r="")=>{const a=r||(typeof window<"u"?window.location.origin:""),n=WO(t,"slug");return n?`${a}/product/${n}`:a},KO="hdmarket:search-cache:",PD=300*1e3,L5=50,TD=1440*60*1e3,YO=(t,r={})=>{const a=(t||"").trim().toLowerCase(),n=JSON.stringify(r);return`${KO}${a}:${n}`},xw=async(t,r={})=>{try{const a=YO(t,r),n=await wr.get(a);return n?Date.now()-n.timestamp>PD?(await wr.remove(a),null):(n.lastAccessed=Date.now(),await wr.set(a,n),n.data):null}catch(a){return console.error("Error getting cached search:",a),null}},XO=async(t,r={},a)=>{try{const n=YO(t,r),s={data:a,timestamp:Date.now(),lastAccessed:Date.now(),query:t.trim(),filters:r};return await wr.set(n,s),await OD(),!0}catch(n){return console.error("Error setting cached search:",n),!1}},OD=async()=>{try{const r=(await wr.keys()).filter(o=>o.startsWith(KO));if(r.length<=L5)return;const a=[];for(const o of r){const i=await wr.get(o);i&&a.push({key:o,lastAccessed:i.lastAccessed||i.timestamp,age:Date.now()-i.timestamp})}a.sort((o,i)=>o.lastAccessed-i.lastAccessed);const n=a.slice(0,a.length-L5);for(const o of n)await wr.remove(o.key);const s=Date.now();for(const o of a)o.age>TD&&await wr.remove(o.key)}catch(t){console.error("Error cleaning up cache:",t)}},I5=async(t=[],r=null)=>{if(!r)return!1;try{return t.slice(0,5).forEach(async n=>{try{const s=typeof n=="string"?n:n.query||"";if(!s.trim()||await xw(s))return;const{data:i}=await r.get(`/search?q=${encodeURIComponent(s)}`);if(i){const d={products:Array.isArray(i?.products)?i.products:[],shops:Array.isArray(i?.shops)?i.shops:[],categories:Array.isArray(i?.categories)?i.categories:[],totals:i?.totals||{products:0,shops:0,categories:0,total:0}};await XO(s,{},d)}}catch{}}),!0}catch{return!1}};const MD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,n)=>n?n.toUpperCase():a.toLowerCase()),D5=t=>{const r=jD(t);return r.charAt(0).toUpperCase()+r.slice(1)},QO=(...t)=>t.filter((r,a,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===a).join(" ").trim(),RD=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LD=g.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...d},u)=>g.createElement("svg",{ref:u,...$D,width:r,height:r,stroke:t,strokeWidth:n?Number(a)*24/Number(r):a,className:QO("lucide",s),...!o&&!RD(d)&&{"aria-hidden":"true"},...d},[...i.map(([m,p])=>g.createElement(m,p)),...Array.isArray(o)?o:[o]]));const qe=(t,r)=>{const a=g.forwardRef(({className:n,...s},o)=>g.createElement(LD,{ref:o,iconNode:r,className:QO(`lucide-${MD(D5(t))}`,`lucide-${t}`,n),...s}));return a.displayName=D5(t),a};const ID=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],JO=qe("activity",ID);const DD=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],zD=qe("archive",DD);const FD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],BD=qe("arrow-down",FD);const qD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pr=qe("arrow-left",qD);const UD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ZO=qe("arrow-right",UD);const VD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],HD=qe("arrow-up",VD);const WD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Uo=qe("award",WD);const GD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z5=qe("ban",GD);const KD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],F5=qe("bell-ring",KD);const YD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uo=qe("bell",YD);const XD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],QD=qe("bookmark-check",XD);const JD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pn=qe("calendar",JD);const ZD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eM=qe("camera",ZD);const ez=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],tz=qe("car",ez);const rz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qn=qe("chart-column",rz);const az=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],tM=qe("check-check",az);const nz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hl=qe("check",nz);const sz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ha=qe("chevron-down",sz);const oz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rM=qe("chevron-left",oz);const iz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$r=qe("chevron-right",iz);const lz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Lo=qe("chevron-up",lz);const cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xr=qe("circle-alert",cz);const dz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qt=qe("circle-check-big",dz);const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ws=qe("circle-check",uz);const mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$n=qe("circle-x",mz);const fz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ca=qe("clipboard-list",fz);const pz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=qe("clock",pz);const gz=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],B5=qe("corner-down-left",gz);const hz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xs=qe("credit-card",hz);const yz=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],q5=qe("crop",yz);const bz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xz=qe("crown",bz);const vz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xa=qe("dollar-sign",vz);const Ez=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ci=qe("download",Ez);const wz=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Nz=qe("dumbbell",wz);const kz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Sz=qe("ellipsis-vertical",kz);const Cz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Az=qe("external-link",Cz);const _z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Om=qe("eye-off",_z);const Pz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zn=qe("eye",Pz);const Tz=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Oz=qe("factory",Tz);const Mz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],jz=qe("file-down",Mz);const Rz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gn=qe("file-text",Rz);const $z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],U5=qe("file",$z);const Lz=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Iz=qe("flame",Lz);const Dz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ks=qe("funnel",Dz);const zz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],pN=qe("grid-3x3",zz);const Fz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Bz=qe("hash",Fz);const qz=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Uz=qe("headphones",qz);const Vz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Hz=qe("heart-pulse",Vz);const Wz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ur=qe("heart",Wz);const Gz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vw=qe("house",Gz);const Kz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kl=qe("image",Kz);const Yz=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Xz=qe("inbox",Yz);const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gN=qe("info",Qz);const Jz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Np=qe("layout-grid",Jz);const Zz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],aM=qe("list",Zz);const eF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ku=qe("loader-circle",eF);const tF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jn=qe("lock",tF);const rF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V5=qe("log-out",rF);const aF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ri=qe("mail",aF);const nF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yr=qe("map-pin",nF);const sF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],oF=qe("maximize-2",sF);const iF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H5=qe("menu",iF);const lF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],br=qe("message-circle",lF);const cF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fa=qe("message-square",cF);const dF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],uF=qe("mic-off",dF);const mF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],fF=qe("mic",mF);const pF=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],gF=qe("minimize-2",pF);const hF=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],yF=qe("moon",hF);const bF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ot=qe("package",bF);const xF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],W5=qe("panels-top-left",xF);const vF=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Tu=qe("paperclip",vF);const EF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bu=qe("pen-line",EF);const wF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yo=qe("phone",wF);const NF=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],kF=qe("pin-off",NF);const SF=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],ky=qe("pin",SF);const CF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ai=qe("plus",CF);const AF=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kp=qe("power-off",AF);const _F=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Sy=qe("power",_F);const PF=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nM=qe("receipt",PF);const TF=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Bc=qe("refresh-ccw",TF);const OF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$i=qe("refresh-cw",OF);const MF=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],jF=qe("reply",MF);const RF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G5=qe("rotate-ccw",RF);const $F=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xd=qe("save",$F);const LF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ir=qe("search",LF);const IF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ag=qe("send",IF);const DF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ip=qe("settings",DF);const zF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ff=qe("share-2",zF);const FF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_a=qe("shield-check",FF);const BF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_r=qe("shield",BF);const qF=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],UF=qe("shirt",qF);const VF=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ks=qe("shopping-bag",VF);const HF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ga=qe("shopping-cart",HF);const WF=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Dp=qe("sliders-horizontal",WF);const GF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sM=qe("smartphone",GF);const KF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],YF=qe("smile",KF);const XF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ma=qe("sparkles",XF);const QF=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bf=qe("square-check-big",QF);const JF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ou=qe("square-pen",JF);const ZF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Cy=qe("square",ZF);const eB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rr=qe("star",eB);const tB=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Sr=qe("store",tB);const rB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aB=qe("sun",rB);const nB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wa=qe("tag",nB);const sB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ew=qe("target",sB);const oB=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ww=qe("timer",oB);const iB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Li=qe("trash-2",iB);const lB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xt=qe("trending-up",lB);const cB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sp=qe("triangle-alert",cB);const dB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Tr=qe("truck",dB);const uB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vi=qe("upload",uB);const mB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hN=qe("user-minus",mB);const fB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yN=qe("user-plus",fB);const pB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],va=qe("user",pB);const gB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ia=qe("users",gB);const hB=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Nw=qe("video",hB);const yB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oM=qe("wifi-off",yB);const bB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],xB=qe("wifi",bB);const vB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_t=qe("x",vB);const EB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nn=qe("zap",EB);const wB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],NB=qe("zoom-in",wB),Es=[{id:"electronics",label:"lectronique & High-Tech",description:"Smartphones, ordinateurs, accessoires et plus encore.",icon:sM,options:[{value:"telephones",label:"Tlphones & Accessoires"},{value:"informatique",label:"Ordinateurs & Composants"},{value:"gadgets",label:"Gadgets Connects"},{value:"audio",label:"Audio & Vido"}]},{id:"fashion",label:"Mode & Accessoires",description:"Prt--porter, chaussures, bijoux et sacs tendance.",icon:UF,options:[{value:"pret-porter",label:"Prt--porter"},{value:"chaussures",label:"Chaussures"},{value:"bijoux",label:"Bijoux & Montres"},{value:"sacs",label:"Sacs & Accessoires"}]},{id:"sport",label:"Sport & Fitness",description:"quipements sportifs, fitness, plein air et loisirs.",icon:Nz,options:[{value:"sports-loisirs",label:"Sports & Loisirs"},{value:"fitness",label:"Fitness & Musculation"},{value:"sports-collectifs",label:"Sports Collectifs"},{value:"sports-plein-air",label:"Plein Air & Randonne"},{value:"velos",label:"Vlos & Mobilit"},{value:"accessoires-sport",label:"Accessoires Sportifs"}]},{id:"home",label:"Maison & Jardin",description:"Meubles, dcoration, cuisine et jardinage pour la maison.",icon:vw,options:[{value:"meubles",label:"Meubles"},{value:"decoration",label:"Dcoration"},{value:"cuisine",label:"Ustensiles de Cuisine"},{value:"jardinage",label:"Jardinage"}]},{id:"industry",label:"Industrie & Business",description:"Machines, outils, matires premires et emballages.",icon:Oz,options:[{value:"machines-industrielles",label:"Machines Industrielles"},{value:"outils",label:"Outils"},{value:"matieres-premieres",label:"Matires Premires"},{value:"emballage",label:"Emballage"}]},{id:"health",label:"Sant, Beaut & Loisirs",description:"Cosmtiques, soins, quipements mdicaux et sports.",icon:Hz,options:[{value:"cosmetiques",label:"Cosmtiques"},{value:"soins-peau",label:"Soins de la Peau"},{value:"equipement-medical",label:"quipement Mdical"},{value:"complements",label:"Complments Alimentaires"}]},{id:"automobile",label:"Automobile & Accessoires",description:"Voitures, motos, pices dtaches et quipements automobiles.",icon:tz,options:[{value:"voitures",label:"Voitures"},{value:"motos",label:"Motos & Scooters"},{value:"pieces-detachees",label:"Pices Dtaches"},{value:"accessoires-auto",label:"Accessoires Auto & Moto"},{value:"entretien",label:"Produits dEntretien & Rparation"},{value:"pneus-jantes",label:"Pneus & Jantes"},{value:"audio-auto",label:"Audio & lectronique de Bord"}]},{id:"transport",label:"Transport & Vhicules Professionnels",description:"Camions, bus, engins, bateaux et quipements de transport.",icon:Tr,options:[{value:"camions",label:"Camions & Vhicules Utilitaires"},{value:"bus",label:"Bus & Minibus"},{value:"engins",label:"Engins & Matriels Lourds"},{value:"bateaux",label:"Bateaux & Accessoires Maritimes"},{value:"remorques",label:"Remorques & Porte-charges"},{value:"pieces-transport",label:"Pices & Accessoires de Transport"}]}],kB={"sports,-loisirs":"sports-loisirs"},zp=new Map;Es.forEach(t=>{t.options.forEach(r=>{zp.set(r.value,{...r,group:t})})});Object.entries(kB).forEach(([t,r])=>{const a=zp.get(r);a&&zp.set(t,{...a,legacyValue:t})});Array.from(Es.flatMap(t=>t.options));const bN=t=>t&&zp.get(t)||null;function dn({verified:t,showLabel:r=!0,className:a="",verifiedLabel:n="Boutique vrifie",unverifiedLabel:s="Boutique non vrifie"}){const o=t?_a:_r,i=t?n:s,d=t?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-100 text-gray-500",u=r?"px-2":"px-1.5";return e.createElement("span",{className:`inline-flex items-center gap-1 rounded-full border ${u} py-0.5 text-[11px] font-semibold ${d} ${a}`,"aria-label":i,title:r?void 0:i},e.createElement(o,{size:12}),r?e.createElement("span",null,i):null)}const SB=t=>{if(!t)return"";const r=new Date(t);if(Number.isNaN(r.getTime()))return"";const n=new Date-r,s=Math.floor(n/(1e3*60)),o=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return s<1?" l'instant":s<60?`Il y a ${s} min`:o<24?`Il y a ${o} h`:i===1?"Hier":i<7?`Il y a ${i} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:i>365?"numeric":void 0})},sl=(t,r)=>{if(!r||!t)return t;const a=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.split(a).map((s,o)=>a.test(s)?e.createElement("mark",{key:o,className:"bg-yellow-200 text-gray-900 rounded px-0.5"},s):s)},K5=t=>{const r=Number(t);return Number.isNaN(r)?"0 FCFA":r.toLocaleString("fr-FR")+" FCFA"};function CB(){const t=Zr(),{user:r,logout:a}=g.useContext(fr),{cart:n}=g.useContext(Fl),{favorites:s}=g.useContext(Tm),o=n?.totals?.quantity||0,i=s.length,[d,u]=g.useState(0),[m,p]=g.useState(0),[f,y]=g.useState(0),b=r?.role==="admin",w=r?.role==="manager",E=b||w,x=!!r?.canVerifyPayments,N=!!(r&&!b),k=E||x,{counts:A}=SD(k),P=A.waitingPayments||0,S=A.unreadFeedback||0,{counts:_}=HO(!!r),T=_.commentAlerts||0,O=d>0,R=d>99?"99+":d,D=m>0,j=m>99?"99+":m,$=f>0,K=f>99?"99+":f,[W,z]=g.useState(!1),[Q,ee]=g.useState(!1),[H,q]=g.useState(""),[B,G]=g.useState({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),[Y,V]=g.useState({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),[J,ue]=g.useState({products:5,shops:3,categories:3}),[he,Oe]=g.useState(!1),[te,ie]=g.useState(!1),[de,Ce]=g.useState(""),[ne,re]=g.useState(!1),[Ie,fe]=g.useState([]),[Le,at]=g.useState({pinned:[],today:[],yesterday:[],thisWeek:[],older:[]}),[nt,it]=g.useState(!1),[xe,He]=g.useState(""),[Je,xt]=g.useState(!0),[ht,mt]=g.useState([]),[pt,bt]=g.useState(!1),[Pt,Ge]=g.useState([]),[ft,We]=g.useState(!1),[Ye,be]=g.useState({category:"",minPrice:"",maxPrice:"",city:"",shopVerified:!1,condition:""}),[ut,et]=g.useState([]),[Z,Ee]=g.useState(!1),[le,Ne]=g.useState([]),[tt,lt]=g.useState(!1),[gt,F]=g.useState(""),[we,ye]=g.useState({desktop:"",mobile:""}),[ke,L]=g.useState(!1),[me,Se]=g.useState(!1),Ae=g.useRef(null),Fe=g.useRef(null),[ct,Qe]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<1024),It=W&&ct,Mt=g.useRef(ne),wt=g.useRef(null),Br=g.useRef(null),[Or,na]=g.useState(!1),[Hr,tr]=g.useState([]),[lr,sr]=g.useState([]),[Lr,Ir]=g.useState(null),[ea,Oa]=g.useState(!1),[Er,Dr]=g.useState(!1),[Cr,Vt]=g.useState(null),[Fa,Ya]=g.useState(null),[Ba,da]=g.useState(null),[yn,As]=g.useState(null),Zt=we.desktop||we.mobile,oe=we.mobile||we.desktop;g.useEffect(()=>{document.documentElement.classList.toggle("dark",Q)},[Q]),g.useEffect(()=>{if(!r)return u(0),()=>{};let X=!1,ve;const Pe=async()=>{try{const{data:De}=await se.get("/orders?limit=50");if(!X){const zt=(Array.isArray(De)?De:De?.items||[]).filter(Ar=>Ar?.status!=="delivered").length;u(zt)}}catch{X||u(0)}};return Pe(),ve=setInterval(Pe,6e4),()=>{X=!0,ve&&clearInterval(ve)}},[r]),g.useEffect(()=>{if(!r||b)return p(0),()=>{};let X=!1,ve;const Pe=async()=>{try{const{data:De}=await se.get("/orders/seller?limit=50");if(!X){const zt=(Array.isArray(De)?De:De?.items||[]).filter(Ar=>Ar?.status!=="delivered").length;p(zt)}}catch{X||p(0)}};return Pe(),ve=setInterval(Pe,6e4),()=>{X=!0,ve&&clearInterval(ve)}},[r,b]),g.useEffect(()=>{if(!r)return y(0),()=>{};let X=!1,ve;const Pe=async()=>{try{const{data:De}=await se.get("/orders/messages/unread");X||y(De?.unreadCount||0)}catch{X||y(0)}};return Pe(),ve=setInterval(Pe,3e4),()=>{X=!0,ve&&clearInterval(ve)}},[r]);const je=g.useCallback(()=>{Ae.current&&(clearTimeout(Ae.current),Ae.current=null)},[]),st=g.useCallback(()=>{je(),L(!0)},[je]),Rt=g.useCallback(()=>{je(),Ae.current=setTimeout(()=>{L(!1),Ae.current=null},1500)},[je]),pr=g.useCallback(()=>{Fe.current&&(clearTimeout(Fe.current),Fe.current=null)},[]),rs=g.useCallback(()=>{pr(),Se(!0)},[pr]),Ma=g.useCallback(()=>{pr(),Fe.current=setTimeout(()=>{Se(!1),Fe.current=null},1500)},[pr]);g.useEffect(()=>()=>{je(),pr()},[je,pr]),g.useEffect(()=>{if(typeof window>"u")return;const X=()=>{Qe(window.innerWidth<1024)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),g.useEffect(()=>{It&&(Oe(!1),re(!1))},[It]),g.useEffect(()=>{Mt.current=ne},[ne]),g.useEffect(()=>{if(typeof document>"u")return;const X=document.body;return W||Or?X.style.overflow="hidden":X.style.overflow="",()=>{X.style.overflow=""}},[W,Or]),g.useEffect(()=>{if(typeof document>"u")return;const X=ve=>{ve.target.tagName==="INPUT"||ve.target.tagName==="TEXTAREA"||ve.target.isContentEditable||(ve.key==="/"&&!ve.ctrlKey&&!ve.metaKey&&!ve.altKey&&(ve.preventDefault(),wt.current&&(wt.current.focus(),ct&&na(!0))),ve.key==="Escape"&&(Or||he)&&(na(!1),Oe(!1),re(!1),wt.current&&wt.current.blur()))};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[ct,Or,he]),g.useEffect(()=>{if(!r){tr([]),sr([]);return}try{const X=localStorage.getItem("hdmarket_saved_searches");X&&tr(JSON.parse(X))}catch(X){console.error("Error loading saved searches:",X)}sr([{id:"new_products",label:"Nouveaux produits",query:"",filters:{sort:"newest"},icon:ma},{id:"top_deals",label:"Meilleures offres",query:"",filters:{sort:"price_asc"},icon:Iz},{id:"verified_shops",label:"Boutiques vrifies",query:"",filters:{shopVerified:!0},icon:_a},{id:"trending",label:"Tendances",query:"",filters:{sort:"popular"},icon:Xt}])},[r]),g.useEffect(()=>{try{const X=localStorage.getItem("hdmarket_custom_nav_items");X&&As(JSON.parse(X))}catch(X){console.error("Error loading custom nav items:",X)}},[]);const as=yn||[{id:"home",label:"Accueil",path:"/",icon:vw,badge:null,visible:!0,order:0},{id:"shops",label:"Boutiques",path:"/shops/verified",icon:Sr,badge:null,visible:!0,order:1},{id:"favorites",label:"Favoris",path:"/favorites",icon:ur,badge:i,visible:!0,order:2},{id:"cart",label:"Panier",path:"/cart",icon:Ga,badge:o,visible:!0,order:3},{id:"menu",label:"Menu",path:null,icon:H5,badge:null,visible:!0,order:4,isButton:!0},{id:"profile",label:"Profil",path:"/profile",icon:va,badge:null,visible:!!r,order:5},{id:"notifications",label:"Notifications",path:"/notifications",icon:uo,badge:T,visible:!!r,order:6},{id:"orders",label:"Commandes",path:"/orders",icon:ca,badge:d,visible:!!r,order:7},{id:"messages",label:"Messages",path:"/orders/messages",icon:fa,badge:null,visible:!!r,order:8},{id:"my",label:"Mes annonces",path:"/my",icon:Ot,badge:null,visible:!!r,order:9},{id:"suggestions",label:"Suggestions",path:"/suggestions",icon:ma,badge:null,visible:!0,order:10}],Na=as.filter(X=>X.visible&&X.order<5).sort((X,ve)=>X.order-ve.order),ns=as.filter(X=>X.visible&&X.order>=5).sort((X,ve)=>X.order-ve.order),Xa=X=>{Vt(X.touches[0].clientY);const ve=setTimeout(()=>{const Pe=X.currentTarget.dataset.itemId;Pe&&(da(Pe),Ke("medium"))},500);Ya(ve)},ss=X=>{if(Cr===null)return;const ve=X.touches[0].clientY,Pe=Cr-ve;Fa&&(clearTimeout(Fa),Ya(null)),!Er&&Pe>20&&(Dr(!0),Ke("light"))},os=X=>{Fa&&(clearTimeout(Fa),Ya(null)),Vt(null)},is=X=>({home:[{label:"Rechercher",action:()=>{wt.current&&wt.current.focus(),Ke("light")}},{label:"Nouveaux produits",action:()=>{t("/products?sort=newest"),Ke("light")}}],favorites:[{label:"Vider les favoris",action:()=>{Ke("warning")}}],cart:[{label:"Vider le panier",action:()=>{Ke("warning")}},{label:"Voir le panier",action:()=>{t("/cart"),Ke("light")}}],profile:[{label:"Paramtres",action:()=>{t("/profile"),Ke("light")}},{label:"Statistiques",action:()=>{t("/my/stats"),Ke("light")}}],notifications:[{label:"Marquer tout lu",action:()=>{Ke("light")}},{label:"Paramtres notifications",action:()=>{t("/profile"),Ke("light")}}]})[X]||[],Ps=X=>{!ct||!Or||Ir(X.touches[0].clientY)},_e=X=>{if(!ct||!Or||Lr===null)return;const Pe=X.touches[0].clientY-Lr;Pe>0&&Br.current&&(Br.current.style.transform=`translateY(${Math.min(Pe,100)}px)`,Br.current.style.opacity=`${1-Pe/300}`)},Be=X=>{if(!ct||!Or||Lr===null)return;X.changedTouches[0].clientY-Lr>100?(na(!1),Oe(!1),re(!1),wt.current&&wt.current.blur(),navigator.vibrate&&navigator.vibrate(50)):Br.current&&(Br.current.style.transform="",Br.current.style.opacity=""),Ir(null)},Ke=(X=50)=>{if(typeof navigator<"u"&&navigator.vibrate)if(typeof X=="string")switch(X){case"light":navigator.vibrate(25);break;case"medium":navigator.vibrate(50);break;case"heavy":navigator.vibrate(100);break;case"success":navigator.vibrate([50,30,50]);break;case"error":navigator.vibrate([100,50,100]);break;case"warning":navigator.vibrate([75,50,75]);break;default:navigator.vibrate(50)}else navigator.vibrate(X)},cr=(X,ve={})=>{if(!X.trim())return;const De=[{id:Date.now().toString(),query:X.trim(),filters:ve,createdAt:new Date().toISOString()},...Hr.filter(Ue=>Ue.query!==X.trim())].slice(0,10);tr(De);try{localStorage.setItem("hdmarket_saved_searches",JSON.stringify(De))}catch(Ue){console.error("Error saving search:",Ue)}Ke(50)},qr=X=>{const ve=Hr.filter(Pe=>Pe.id!==X);tr(ve);try{localStorage.setItem("hdmarket_saved_searches",JSON.stringify(ve))}catch(Pe){console.error("Error deleting saved search:",Pe)}Ke(50)},ha=X=>{q(X.query||""),be(ve=>({...ve,...X.filters})),wt.current&&wt.current.focus(),Ke(50)};g.useEffect(()=>{if(!H.trim()){G({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),V({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),ue({products:5,shops:3,categories:3}),Ce("");return}re(!1);const X=new AbortController,ve=setTimeout(async()=>{ie(!0),Ce("");try{const Pe=await xw(H.trim(),Ye);if(Pe){G(Pe),V({products:Pe.products.slice(0,J.products),shops:Pe.shops.slice(0,J.shops),categories:Pe.categories.slice(0,J.categories),totals:Pe.totals}),Oe(!0),ie(!1);const Mr=new Set,St=Array.isArray(Pe?.products)?Pe.products:[];(Array.isArray(Pe?.categories)?Pe.categories:[]).slice(0,3).forEach(Ct=>{Ct.title&&Ct.title.toLowerCase()!==H.trim().toLowerCase()&&Mr.add(Ct.title)}),St.slice(0,5).forEach(Ct=>{Ct.category&&Ct.category.toLowerCase()!==H.trim().toLowerCase()&&Mr.add(Ct.category),Ct.brand&&Ct.brand.toLowerCase()!==H.trim().toLowerCase()&&Mr.add(Ct.brand)}),Ge(Array.from(Mr).slice(0,5))}const De=new URLSearchParams;De.append("q",H.trim()),Ye.category&&De.append("category",Ye.category),Ye.minPrice&&De.append("minPrice",Ye.minPrice),Ye.maxPrice&&De.append("maxPrice",Ye.maxPrice),Ye.city&&De.append("city",Ye.city),Ye.shopVerified&&De.append("shopVerified","true"),Ye.condition&&De.append("condition",Ye.condition);const{data:Ue}=await se.get(`/search?${De.toString()}`,{signal:X.signal}),zt={products:Array.isArray(Ue?.products)?Ue.products:[],shops:Array.isArray(Ue?.shops)?Ue.shops:[],categories:Array.isArray(Ue?.categories)?Ue.categories:[],totals:Ue?.totals||{products:0,shops:0,categories:0,total:0}};Pe?V({products:Pe.products.slice(0,J.products),shops:Pe.shops.slice(0,J.shops),categories:Pe.categories.slice(0,J.categories),totals:Pe.totals}):(G(zt),V({products:zt.products.slice(0,J.products),shops:zt.shops.slice(0,J.shops),categories:zt.categories.slice(0,J.categories),totals:zt.totals}),Oe(!0)),await XO(H.trim(),Ye,zt);const Ar=new Set,en=Array.isArray(Ue?.products)?Ue.products:[];(Array.isArray(Ue?.categories)?Ue.categories:[]).slice(0,3).forEach(Mr=>{Mr.title&&Mr.title.toLowerCase()!==H.trim().toLowerCase()&&Ar.add(Mr.title)}),en.slice(0,5).forEach(Mr=>{Mr.category&&Mr.category.toLowerCase()!==H.trim().toLowerCase()&&Ar.add(Mr.category),Mr.brand&&Mr.brand.toLowerCase()!==H.trim().toLowerCase()&&Ar.add(Mr.brand)}),Pe||Ge(Array.from(Ar).slice(0,5))}catch(Pe){if(Pe.name!=="CanceledError"&&Pe.name!=="AbortError"){console.error("Search error:",Pe);const De=await xw(H.trim(),Ye);De?(G(De),V({products:De.products.slice(0,J.products),shops:De.shops.slice(0,J.shops),categories:De.categories.slice(0,J.categories),totals:De.totals}),Oe(!0)):(Ce("Erreur lors de la recherche. Veuillez ressayer."),G({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),V({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}))}}finally{ie(!1)}},300);return()=>{clearTimeout(ve),X.abort()}},[H,Ye]);const Wr=g.useCallback(async()=>{if(!r)return fe([]),at({pinned:[],today:[],yesterday:[],thisWeek:[],older:[]}),[];it(!0);try{const X=new URLSearchParams;Je&&X.append("groupByDate","true"),xe.trim()&&X.append("search",xe.trim());const{data:ve}=await se.get(`/users/search-history?${X.toString()}`);if(Je&&ve&&typeof ve=="object"&&!Array.isArray(ve)){at({pinned:Array.isArray(ve.pinned)?ve.pinned:[],today:Array.isArray(ve.today)?ve.today:[],yesterday:Array.isArray(ve.yesterday)?ve.yesterday:[],thisWeek:Array.isArray(ve.thisWeek)?ve.thisWeek:[],older:Array.isArray(ve.older)?ve.older:[]});const Pe=[...ve.pinned||[],...ve.today||[],...ve.yesterday||[],...ve.thisWeek||[],...ve.older||[]];return fe(Pe),Pe}else{const Pe=Array.isArray(ve)?ve:[];return fe(Pe),at({pinned:[],today:[],yesterday:[],thisWeek:[],older:[]}),Pe}}catch{return fe([]),at({pinned:[],today:[],yesterday:[],thisWeek:[],older:[]}),[]}finally{it(!1)}},[r,Je,xe]);g.useEffect(()=>{let X=!1;return(async()=>{bt(!0);try{const{data:Pe}=await se.get("/search/popular?limit=8&period=week");!X&&Array.isArray(Pe)&&(mt(Pe),I5(Pe,se))}catch(Pe){if(console.error("Error loading popular searches:",Pe),!X){const De=[{query:"iPhone",count:150},{query:"Samsung",count:120},{query:"Chaussures",count:100},{query:"MacBook",count:90},{query:"Vtements",count:85},{query:"Tlphone",count:80},{query:"Ordinateur",count:75},{query:"Accessoires",count:70}];mt(De),I5(De,se)}}finally{X||bt(!1)}})(),()=>{X=!0}},[]);const bn=async()=>{if(!r){t("/login",{state:{from:"/profile"}});return}He(""),await Wr(),Oe(!0),re(!0)};g.useEffect(()=>{if(ne&&r&&xe!==void 0){const X=setTimeout(()=>{Wr()},300);return()=>clearTimeout(X)}},[xe,ne,r,Wr]);const Zs=()=>{re(!1),Oe(!1)},Eo=async X=>{if(X)try{await se.delete(`/users/search-history/${X}`),fe(ve=>ve.filter(Pe=>Pe._id!==X)),at(ve=>{const Pe={...ve};return Object.keys(Pe).forEach(De=>{Pe[De]=Pe[De].filter(Ue=>Ue._id!==X)}),Pe}),await Wr()}catch{}},xn=async(X=null)=>{if(r)try{await se.delete("/users/search-history",{data:X?{dateRange:X}:{}}),fe([]),at({pinned:[],today:[],yesterday:[],thisWeek:[],older:[]}),await Wr()}catch{}},An=async X=>{if(!(!r||!X))try{const{data:ve}=await se.patch(`/users/search-history/${X}/pin`);fe(Pe=>Pe.map(De=>De._id===X?{...De,isPinned:ve.isPinned,pinnedAt:ve.pinnedAt}:De)),at(Pe=>{const De={...Pe};return Object.keys(De).forEach(Ue=>{De[Ue]=De[Ue].map(zt=>zt._id===X?{...zt,isPinned:ve.isPinned,pinnedAt:ve.pinnedAt}:zt)}),De}),await Wr()}catch{}},Qa=async(X="json")=>{if(r)try{const ve=await se.get(`/users/search-history/export?format=${X}`,{responseType:"blob"}),Pe=new Blob([ve.data]),De=window.URL.createObjectURL(Pe),Ue=document.createElement("a");Ue.href=De,Ue.download=`search-history-${Date.now()}.${X}`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),window.URL.revokeObjectURL(De)}catch(ve){console.error("Error exporting history:",ve)}},_n=X=>{const ve=X.metadata?.type,Pe=X.metadata?.targetSlug,De=X.metadata?.targetId,Ue=!!Pe;return ve==="shop"?Ue||De?la(Ue?{slug:Pe}:{_id:De}):"/shops/verified":Ue?ar({slug:Pe}):"/shops/verified"},Ja=X=>{Oe(!1),na(!1),re(!1);const ve=H.trim();if(ve&&r)try{se.post("/users/search-history",{query:ve,metadata:{type:X?.type,targetId:X?._id,targetSlug:X?.slug}}).then(Pe=>{const De=Pe.data;De&&fe(Ue=>[De,...Ue].slice(0,20))}).catch(()=>{})}catch{}if(q(""),G({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),X?.type==="shop"){t(la(X));return}if(X?.type==="category"){t(`/products?category=${encodeURIComponent(X.title)}&search=${encodeURIComponent(H.trim())}`);return}X?.slug&&t(ar(X))},Ts=X=>{if(X.key==="Enter"){X.preventDefault();const{products:ve=[],shops:Pe=[],categories:De=[]}=B||{},Ue=[...ve,...Pe,...De];Ue.length>0&&Ja(Ue[0])}},Bn=X=>{Oe(!1),re(!1),t(`/products?category=${encodeURIComponent(X.title)}&search=${encodeURIComponent(H.trim())}`),q("")},ti=X=>{if(!X)return;const ve=_n(X);ve&&(Zs(),t(ve))},qn=(X,ve)=>{be(Pe=>({...Pe,[X]:ve}))},eo=()=>{be({category:"",minPrice:"",maxPrice:"",city:"",shopVerified:!1,condition:""})},Vi=Ye.category||Ye.minPrice||Ye.maxPrice||Ye.city||Ye.shopVerified||Ye.condition,Hi=()=>e.createElement("div",{className:"px-4 py-3 flex items-center gap-3 animate-pulse"},e.createElement("div",{className:"h-12 w-12 rounded-lg bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.createElement("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}))),Os=(X=!1)=>e.createElement("div",{className:X?"":"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},!X&&e.createElement("button",{type:"button",onClick:()=>{ct?(Oa(!0),Ke(50)):We(!ft)},className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ks,{size:16,className:"text-gray-600 dark:text-gray-400"}),e.createElement("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Filtres"),Vi&&e.createElement("span",{className:"bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},[Ye.category&&1,Ye.minPrice&&1,Ye.maxPrice&&1,Ye.city&&1,Ye.shopVerified&&1,Ye.condition&&1].filter(Boolean).length)),e.createElement(Ha,{size:16,className:`text-gray-500 transition-transform ${ft?"rotate-180":""}`})),(ft||X)&&e.createElement("div",{className:"px-4 py-3 space-y-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("div",null,e.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Catgorie"),e.createElement("select",{value:Ye.category,onChange:ve=>qn("category",ve.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e.createElement("option",{value:""},"Toutes les catgories"),Z?e.createElement("option",{disabled:!0},"Chargement..."):ut.map(ve=>e.createElement("option",{key:ve,value:ve},ve)))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Prix (FCFA)"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("input",{type:"number",placeholder:"Min",value:Ye.minPrice,onChange:ve=>qn("minPrice",ve.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0"}),e.createElement("span",{className:"text-gray-500"},"-"),e.createElement("input",{type:"number",placeholder:"Max",value:Ye.maxPrice,onChange:ve=>qn("maxPrice",ve.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0"}))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},e.createElement(yr,{size:12,className:"inline mr-1"}),"Ville"),e.createElement("select",{value:Ye.city,onChange:ve=>qn("city",ve.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e.createElement("option",{value:""},"Toutes les villes"),e.createElement("option",{value:"Brazzaville"},"Brazzaville"),e.createElement("option",{value:"Pointe-Noire"},"Pointe-Noire"),e.createElement("option",{value:"Ouesso"},"Ouesso"),e.createElement("option",{value:"Oyo"},"Oyo"))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"tat"),e.createElement("select",{value:Ye.condition,onChange:ve=>qn("condition",ve.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},e.createElement("option",{value:""},"Tous les tats"),e.createElement("option",{value:"new"},"Neuf"),e.createElement("option",{value:"used"},"Occasion"))),e.createElement("div",null,e.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:Ye.shopVerified,onChange:ve=>qn("shopVerified",ve.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.createElement("span",{className:"text-sm text-gray-700 dark:text-gray-300"},"Boutiques vrifies uniquement"))),Vi&&e.createElement("button",{type:"button",onClick:eo,className:"w-full px-3 py-2 text-sm font-semibold text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},"Effacer les filtres"))),to=X=>{q(X),Oe(!0),se.post("/search/analytics",{query:X,action:"click"}).catch(()=>{})},ri=()=>{const X=Ie.slice(0,5),ve=X.length>0,Pe=ut.slice(0,4),De=le.filter(Ue=>Ue.verified).slice(0,4);return e.createElement("div",{className:"max-h-[400px] overflow-auto"},r&&ve&&e.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Ut,{size:14,className:"text-indigo-600 dark:text-indigo-400"}),e.createElement("span",{className:"text-xs font-bold text-indigo-700 dark:text-indigo-300 uppercase tracking-wide"},"Recherches rcentes")),e.createElement("button",{type:"button",onClick:bn,className:"text-[10px] font-semibold text-indigo-600 dark:text-indigo-400 hover:underline"},"Voir tout"))),e.createElement("div",{className:"p-2 flex flex-wrap gap-2"},X.map(Ue=>e.createElement("button",{key:Ue._id,type:"button",onClick:()=>to(Ue.query),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gray-100 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors"},e.createElement(Ut,{size:12,className:"text-gray-400"}),e.createElement("span",{className:"truncate max-w-[120px]"},Ue.query))))),e.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Xt,{size:14,className:"text-amber-600 dark:text-amber-400"}),e.createElement("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300 uppercase tracking-wide"},"Recherches tendance"))),e.createElement("div",{className:"p-2"},pt?e.createElement("div",{className:"flex flex-wrap gap-2"},[1,2,3,4].map(Ue=>e.createElement("div",{key:Ue,className:"h-8 w-24 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}))):ht.length>0?e.createElement("div",{className:"flex flex-wrap gap-2"},ht.map((Ue,zt)=>{const Ar=Math.max(...ht.map(St=>St.count||0)),en=Ar>0?Math.round((Ue.count||0)/Ar*100):0,tn=en>=80,Mr=en>=50&&en<80;return e.createElement("button",{key:zt,type:"button",onClick:()=>to(Ue.query),className:`group relative inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm transition-all ${tn?"bg-gradient-to-r from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 text-orange-700 dark:text-orange-300 border border-orange-300 dark:border-orange-600/50 hover:shadow-md hover:shadow-orange-100 dark:hover:shadow-orange-900/20":Mr?"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 border border-amber-200 dark:border-amber-700/50 hover:bg-amber-100 dark:hover:bg-amber-900/40":"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`},tn?e.createElement("span",{className:"relative flex h-2 w-2"},e.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),e.createElement("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})):e.createElement(ma,{size:12,className:tn?"text-orange-500":Mr?"text-amber-500":"text-gray-400"}),e.createElement("span",{className:"font-medium"},Ue.query),Ue.count&&e.createElement("span",{className:`text-[10px] font-semibold ${tn?"text-orange-500":Mr?"text-amber-500 dark:text-amber-400":"text-gray-400"}`},Ue.count>999?`${Math.round(Ue.count/1e3)}k`:Ue.count),e.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 rounded-b-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity"},e.createElement("div",{className:`h-full ${tn?"bg-orange-500":Mr?"bg-amber-500":"bg-gray-400"}`,style:{width:`${en}%`}})))})):e.createElement("div",{className:"px-2 py-3 text-center text-sm text-gray-500 dark:text-gray-400"},"Aucune recherche tendance pour le moment"))),Pe.length>0&&e.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Wa,{size:14,className:"text-blue-600 dark:text-blue-400"}),e.createElement("span",{className:"text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wide"},"Catgories"))),e.createElement("div",{className:"p-2 grid grid-cols-2 gap-2"},Pe.map(Ue=>e.createElement("button",{key:Ue._id||Ue.title,type:"button",onClick:()=>{Oe(!1),t(`/products?category=${encodeURIComponent(Ue.title)}`)},className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all text-left group"},e.createElement("div",{className:"p-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/40 transition-colors"},e.createElement(Wa,{size:14,className:"text-blue-600 dark:text-blue-400"})),e.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate"},Ue.title))))),De.length>0&&e.createElement("div",null,e.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Sr,{size:14,className:"text-purple-600 dark:text-purple-400"}),e.createElement("span",{className:"text-xs font-bold text-purple-700 dark:text-purple-300 uppercase tracking-wide"},"Boutiques vrifies")),e.createElement(pe,{to:"/shops/verified",onClick:()=>Oe(!1),className:"text-[10px] font-semibold text-purple-600 dark:text-purple-400 hover:underline"},"Voir tout"))),e.createElement("div",{className:"p-2 space-y-1"},De.map(Ue=>e.createElement("button",{key:Ue._id,type:"button",onClick:()=>{Oe(!1),t(la(Ue))},className:"w-full flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors text-left group"},e.createElement("img",{src:Ue.shopLogo||"/api/placeholder/40/40",alt:Ue.shopName,className:"w-10 h-10 rounded-lg object-cover border border-gray-200 dark:border-gray-700",onError:zt=>{zt.target.src="/api/placeholder/40/40"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},Ue.shopName),e.createElement(dn,{verified:Ue.verified,showLabel:!1})),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},Ue.shopAddress||"HDMarket")),e.createElement($r,{size:16,className:"text-gray-300 dark:text-gray-600 group-hover:text-purple-500 transition-colors"}))))))},Za=g.useCallback(X=>{const ve=J[X]||0,Pe=B[X]||[],De=Math.min(ve+5,Pe.length);ue(Ue=>({...Ue,[X]:De})),V(Ue=>({...Ue,[X]:Pe.slice(0,De)})),Ke(50)},[J,B]),ro=()=>{const{products:X=[],shops:ve=[],categories:Pe=[],totals:De={}}=Y||B||{},Ue=B?.products||[],zt=B?.shops||[],Ar=B?.categories||[],en=Ue.length>X.length,tn=zt.length>ve.length,Mr=Ar.length>Pe.length,St=(X?.length||0)>0||(ve?.length||0)>0||(Pe?.length||0)>0,rn=De?.total||0;return!H.trim()&&!ne?ri():e.createElement(e.Fragment,null,te&&e.createElement("div",{className:"py-2"},[1,2,3].map(Ct=>e.createElement(Hi,{key:Ct}))),!te&&de&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},e.createElement(xr,{size:16}),de),!te&&!de&&!St&&H.trim()&&e.createElement("div",{className:"px-4 py-6 text-center text-gray-500"},e.createElement("p",{className:"text-sm"},"Aucun rsultat pour  ",H," "),e.createElement("p",{className:"text-xs mt-2 text-gray-400"},"Essayez avec d'autres mots-cls")),!te&&!de&&St&&e.createElement("div",{className:"max-h-96 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700"},X.length>0&&e.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Produits (",(De?.products||0)>X.length?`${X.length} sur ${De.products}`:X.length,")"))),X.map(Ct=>e.createElement("button",{key:Ct._id,type:"button",onClick:()=>Ja(Ct),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},e.createElement("img",{src:Ct.image||Ct.shopLogo||"/api/placeholder/60/60",alt:Ct.title,className:"h-12 w-12 rounded-lg object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ms=>{Ms.target.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm block truncate"},sl(Ct.title,H)),e.createElement("div",{className:"text-gray-500 text-xs flex items-center gap-2 mt-1 flex-wrap"},Ct.price&&e.createElement("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400"},K5(Ct.price),Ct.discount>0&&e.createElement("span",{className:"ml-1 text-green-600 dark:text-green-400"},"(-",Ct.discount,"%)")),Ct.rating>0&&e.createElement("span",{className:"flex items-center gap-1"},e.createElement(rr,{size:12,className:"fill-yellow-400 text-yellow-400"}),e.createElement("span",null,Ct.rating.toFixed(1)),Ct.ratingCount>0&&e.createElement("span",{className:"text-gray-400"},"(",Ct.ratingCount,")")),Ct.condition&&e.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${Ct.condition==="new"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`},Ct.condition==="new"?"Neuf":"Occasion"),Ct.shopName&&e.createElement("span",{className:"flex items-center gap-1 truncate"},Ct.shopName,e.createElement(dn,{verified:!!Ct.shopVerified,showLabel:!1})),Ct.category&&e.createElement("span",{className:"truncate"},Ct.category))))),en&&e.createElement("button",{type:"button",onClick:()=>Za("products"),className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-gray-200 dark:border-gray-700 transition-colors"},"Voir plus de produits (",Ue.length-X.length," restant",Ue.length-X.length>1?"s":"",")")),ve.length>0&&e.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Boutiques (",(De?.shops||0)>ve.length?`${ve.length} sur ${De?.shops||0}`:ve.length,")")),ve.map(Ct=>e.createElement("button",{key:Ct._id,type:"button",onClick:()=>Ja(Ct),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},e.createElement("img",{src:Ct.image||Ct.shopLogo||"/api/placeholder/60/60",alt:Ct.title,className:"h-12 w-12 rounded-lg object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ms=>{Ms.target.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm block truncate"},sl(Ct.title,H)),e.createElement("div",{className:"text-gray-500 text-xs flex items-center gap-2 mt-1 flex-wrap"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ot,{size:12}),e.createElement("span",null,Ct.productCount||0," produit",Ct.productCount!==1?"s":"")),Ct.shopAddress&&e.createElement("span",{className:"truncate"},Ct.shopAddress),e.createElement(dn,{verified:!!Ct.shopVerified,showLabel:!1}))))),tn&&e.createElement("button",{type:"button",onClick:()=>Za("shops"),className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-gray-200 dark:border-gray-700 transition-colors"},"Voir plus de boutiques (",zt.length-ve.length," restant",zt.length-ve.length>1?"s":"",")")),Pe.length>0&&e.createElement("div",null,e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Catgories (",Pe.length,")")),Pe.map(Ct=>e.createElement("button",{key:Ct._id,type:"button",onClick:()=>Bn(Ct),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},e.createElement("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0"},e.createElement(Wa,{size:20,className:"text-blue-600 dark:text-blue-400"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm"},sl(Ct.title,H)),e.createElement("div",{className:"text-gray-500 text-xs mt-1"},"Voir tous les produits de cette catgorie")))),Mr&&e.createElement("button",{type:"button",onClick:()=>Za("categories"),className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-gray-200 dark:border-gray-700 transition-colors"},"Voir plus de catgories (",Ar.length-Pe.length," restant",Ar.length-Pe.length>1?"s":"",")")),Pt.length>0&&e.createElement("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800/50 dark:to-gray-900/50"},e.createElement("div",{className:"px-4 py-2.5"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(Ia,{size:14,className:"text-gray-500 dark:text-gray-400"}),e.createElement("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Les gens recherchent aussi")),e.createElement("div",{className:"flex flex-wrap gap-1.5"},Pt.map((Ct,Ms)=>e.createElement("button",{key:Ms,type:"button",onClick:()=>to(Ct),className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-700 dark:text-gray-300 hover:border-indigo-300 dark:hover:border-indigo-600 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all"},e.createElement(ir,{size:10,className:"text-gray-400"}),Ct))))),H.trim()&&rn>0&&e.createElement("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-center sticky bottom-0"},e.createElement(pe,{to:`/products?search=${encodeURIComponent(H.trim())}`,className:"font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 inline-flex items-center gap-2",onClick:()=>{re(!1),Oe(!1)}},"Voir tous les rsultats (",rn,")",e.createElement(Ha,{size:16,className:"rotate-[-90deg]"})))))},I=()=>{const{products:X=[],shops:ve=[],categories:Pe=[],totals:De={}}=Y||B||{},Ue=B?.products||[],zt=B?.shops||[],Ar=B?.categories||[],en=Ue.length>X.length;zt.length>ve.length,Ar.length>Pe.length;const tn=(X?.length||0)>0||(ve?.length||0)>0||(Pe?.length||0)>0,Mr=De?.total||0;return!H.trim()&&!ne?ri():e.createElement(e.Fragment,null,H.trim()&&!ct&&Os(),H.trim()&&ct&&e.createElement("button",{type:"button",onClick:()=>{Oa(!0),Ke(50)},className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ks,{size:16,className:"text-gray-600 dark:text-gray-400"}),e.createElement("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Filtres"),Vi&&e.createElement("span",{className:"px-2 py-0.5 bg-indigo-600 text-white text-xs font-bold rounded-full"},Object.values(Ye).filter(Boolean).length)),e.createElement(Ha,{size:16,className:"text-gray-500 dark:text-gray-400"})),te&&e.createElement("div",{className:"py-2"},[1,2,3].map(St=>e.createElement(Hi,{key:St}))),!te&&de&&e.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},e.createElement(xr,{size:16}),de),!te&&!de&&!tn&&H.trim()&&e.createElement("div",{className:"px-4 py-6 text-center text-gray-500"},e.createElement("p",{className:"text-sm"},"Aucun rsultat pour  ",H," "),e.createElement("p",{className:"text-xs mt-2 text-gray-400"},"Essayez avec d'autres mots-cls")),!te&&!de&&tn&&e.createElement("div",{className:"max-h-80 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700"},X.length>0&&e.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Produits (",De.products>X.length?`${X.length} sur ${De.products}`:X.length,")")),X.map(St=>{const rn=St.image||St.shopLogo||"/api/placeholder/60/60";return e.createElement("button",{key:St._id,type:"button",onClick:()=>Ja(St),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},e.createElement("img",{src:rn,alt:St.title||"Rsultat de recherche",className:"w-14 h-14 rounded-xl object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ct=>{Ct.currentTarget.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate"},sl(St.title,H)),e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1 flex-wrap"},St.price&&e.createElement("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400"},K5(St.price),St.discount>0&&e.createElement("span",{className:"ml-1 text-green-600 dark:text-green-400"},"(-",St.discount,"%)")),St.rating>0&&e.createElement("span",{className:"flex items-center gap-1"},e.createElement(rr,{size:12,className:"fill-yellow-400 text-yellow-400"}),e.createElement("span",null,St.rating.toFixed(1)),St.ratingCount>0&&e.createElement("span",{className:"text-gray-400"},"(",St.ratingCount,")")),St.condition&&e.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${St.condition==="new"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`},St.condition==="new"?"Neuf":"Occasion"),St.shopName&&e.createElement("span",{className:"flex items-center gap-1 truncate"},St.shopName,e.createElement(dn,{verified:!!St.shopVerified,showLabel:!1})))))})),ve.length>0&&e.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Boutiques (",(De?.shops||0)>ve.length?`${ve.length} sur ${De?.shops||0}`:ve.length,")")),ve.map(St=>{const rn=St.image||St.shopLogo||"/api/placeholder/60/60";return e.createElement("button",{key:St._id,type:"button",onClick:()=>Ja(St),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},e.createElement("img",{src:rn,alt:St.title||"Boutique",className:"w-14 h-14 rounded-xl object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ct=>{Ct.currentTarget.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate"},sl(St.title,H)),e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1 flex-wrap"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ot,{size:12}),e.createElement("span",null,St.productCount||0," produit",St.productCount!==1?"s":"")),St.shopAddress&&e.createElement("span",{className:"truncate"},St.shopAddress),e.createElement(dn,{verified:!!St.shopVerified,showLabel:!1}))))}),en&&e.createElement("button",{type:"button",onClick:()=>Za("products"),className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-gray-200 dark:border-gray-700 transition-colors"},"Voir plus (",Ue.length-X.length," restant",Ue.length-X.length>1?"s":"",")")),Pe.length>0&&e.createElement("div",null,e.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Catgories (",Pe.length,")")),Pe.map(St=>e.createElement("button",{key:St._id,type:"button",onClick:()=>Bn(St),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},e.createElement("div",{className:"w-14 h-14 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0"},e.createElement(Wa,{size:20,className:"text-blue-600 dark:text-blue-400"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm"},sl(St.title,H)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Voir tous les produits")))),en&&e.createElement("button",{type:"button",onClick:()=>Za("products"),className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 border-t border-gray-200 dark:border-gray-700 transition-colors"},"Voir plus (",Ue.length-X.length," restant",Ue.length-X.length>1?"s":"",")")),Pt.length>0&&e.createElement("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800/50 dark:to-gray-900/50"},e.createElement("div",{className:"px-4 py-2.5"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(Ia,{size:14,className:"text-gray-500 dark:text-gray-400"}),e.createElement("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Les gens recherchent aussi")),e.createElement("div",{className:"flex flex-wrap gap-1.5"},Pt.map((St,rn)=>e.createElement("button",{key:rn,type:"button",onClick:()=>to(St),className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-700 dark:text-gray-300 hover:border-indigo-300 dark:hover:border-indigo-600 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all"},e.createElement(ir,{size:10,className:"text-gray-400"}),St))))),H.trim()&&Mr>0&&e.createElement("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-center sticky bottom-0"},e.createElement(pe,{to:`/products?search=${encodeURIComponent(H.trim())}`,className:"font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 inline-flex items-center gap-2",onClick:()=>{re(!1),Oe(!1)}},"Voir tous les rsultats (",Mr,")",e.createElement(Ha,{size:16,className:"rotate-[-90deg]"})))))},Ve=(X,ve=0)=>{const Pe=X.metadata?.type==="shop"?"Boutique":X.metadata?.type==="category"?"Catgorie":"Produit",De=X.metadata?.type==="shop"?e.createElement(Sr,{size:14,className:"text-purple-500"}):X.metadata?.type==="category"?e.createElement(Wa,{size:14,className:"text-blue-500"}):e.createElement(Ot,{size:14,className:"text-indigo-500"}),Ue=X.metadata?.type==="shop"?"bg-purple-100 dark:bg-purple-900/30":X.metadata?.type==="category"?"bg-blue-100 dark:bg-blue-900/30":"bg-indigo-100 dark:bg-indigo-900/30";return e.createElement("div",{key:X._id,role:"button",tabIndex:0,onClick:()=>ti(X),onKeyDown:zt=>{(zt.key==="Enter"||zt.key===" ")&&(zt.preventDefault(),ti(X))},className:`group flex items-center gap-3 p-2.5 rounded-xl bg-white dark:bg-gray-800 border transition-all duration-200 cursor-pointer ${X.isPinned?"border-amber-300 dark:border-amber-600/50 bg-amber-50/50 dark:bg-amber-900/10":"border-gray-100 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600"} hover:shadow-md hover:shadow-indigo-100 dark:hover:shadow-indigo-900/20`},X.isPinned&&e.createElement("div",{className:"flex-shrink-0"},e.createElement(ky,{size:14,className:"text-amber-500 fill-amber-500"})),e.createElement("div",{className:`p-2 rounded-lg ${Ue} flex-shrink-0`},De),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},sl(X.query,xe)),e.createElement("div",{className:"flex items-center gap-2 mt-0.5"},e.createElement("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium ${X.metadata?.type==="shop"?"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300":X.metadata?.type==="category"?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"}`},Pe),e.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},SB(X.createdAt)))),e.createElement("div",{className:"flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"},e.createElement("button",{type:"button",onClick:zt=>{zt.stopPropagation(),An(X._id)},className:`p-1.5 rounded-lg transition-colors ${X.isPinned?"text-amber-600 hover:bg-amber-100 dark:hover:bg-amber-900/30":"text-gray-400 hover:text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20"}`,title:X.isPinned?"Dspingler":"pingler"},X.isPinned?e.createElement(kF,{size:14}):e.createElement(ky,{size:14})),e.createElement("button",{type:"button",onClick:zt=>{zt.stopPropagation(),ti(X)},className:"p-1.5 text-indigo-600 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Rechercher"},e.createElement(ir,{size:14})),e.createElement("button",{type:"button",onClick:zt=>{zt.stopPropagation(),Eo(X._id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Supprimer"},e.createElement(Li,{size:14}))),e.createElement($r,{size:14,className:"text-gray-300 dark:text-gray-600 group-hover:text-indigo-400 transition-colors flex-shrink-0"}))},kt=()=>{const X=Ie.length>0,ve=Je&&(Le.pinned.length>0||Le.today.length>0||Le.yesterday.length>0||Le.thisWeek.length>0||Le.older.length>0);return e.createElement("div",{className:"text-sm text-gray-900 dark:text-white"},e.createElement("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 px-4 py-3 rounded-t-2xl"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm"},e.createElement(Ut,{size:16,className:"text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-semibold text-white"},"Historique"),e.createElement("p",{className:"text-[10px] text-indigo-100"},X?`${Ie.length} recherche${Ie.length>1?"s":""}`:"Aucune recherche"))),e.createElement("div",{className:"flex items-center gap-1"},X&&e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>Qa("json"),className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Exporter (JSON)"},e.createElement(Ci,{size:14})),e.createElement("button",{type:"button",onClick:()=>xt(!Je),className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:Je?"Vue simple":"Vue groupe"},e.createElement(pn,{size:14}))),e.createElement("button",{type:"button","aria-label":"Fermer l'historique",onClick:Zs,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors"},e.createElement(_t,{size:16})))),X&&e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/60",size:14}),e.createElement("input",{type:"text",value:xe,onChange:Pe=>{He(Pe.target.value),setTimeout(()=>Wr(),300)},placeholder:"Rechercher dans l'historique...",className:"w-full pl-9 pr-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder:text-white/60 text-sm focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/30"}),xe&&e.createElement("button",{type:"button",onClick:()=>{He(""),Wr()},className:"absolute right-2 top-1/2 -translate-y-1/2 text-white/60 hover:text-white"},e.createElement(_t,{size:14})))),e.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-b-2xl"},nt?e.createElement("div",{className:"space-y-2"},[1,2,3].map(Pe=>e.createElement("div",{key:Pe,className:"flex items-center gap-3 p-3 rounded-xl bg-white dark:bg-gray-800 animate-pulse"},e.createElement("div",{className:"h-8 w-8 rounded-lg bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.createElement("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}))))):X?e.createElement("div",{className:"space-y-4 max-h-96 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700"},Je&&ve?e.createElement(e.Fragment,null,Le.pinned.length>0&&e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ky,{size:12,className:"text-amber-500 fill-amber-500"}),e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"pingles (",Le.pinned.length,")")),e.createElement("button",{type:"button",onClick:()=>xn("all"),className:"text-[10px] text-red-600 hover:text-red-700 dark:text-red-400"},"Effacer")),e.createElement("div",{className:"space-y-2"},Le.pinned.map((Pe,De)=>Ve(Pe,De)))),Le.today.length>0&&e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Aujourd'hui (",Le.today.length,")"),e.createElement("button",{type:"button",onClick:()=>xn("today"),className:"text-[10px] text-red-600 hover:text-red-700 dark:text-red-400"},"Effacer")),e.createElement("div",{className:"space-y-2"},Le.today.map((Pe,De)=>Ve(Pe,De)))),Le.yesterday.length>0&&e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Hier (",Le.yesterday.length,")"),e.createElement("button",{type:"button",onClick:()=>xn("yesterday"),className:"text-[10px] text-red-600 hover:text-red-700 dark:text-red-400"},"Effacer")),e.createElement("div",{className:"space-y-2"},Le.yesterday.map((Pe,De)=>Ve(Pe,De)))),Le.thisWeek.length>0&&e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Cette semaine (",Le.thisWeek.length,")"),e.createElement("button",{type:"button",onClick:()=>xn("week"),className:"text-[10px] text-red-600 hover:text-red-700 dark:text-red-400"},"Effacer")),e.createElement("div",{className:"space-y-2"},Le.thisWeek.map((Pe,De)=>Ve(Pe,De)))),Le.older.length>0&&e.createElement("div",null,e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Plus ancien (",Le.older.length,")"),e.createElement("button",{type:"button",onClick:()=>xn("month"),className:"text-[10px] text-red-600 hover:text-red-700 dark:text-red-400"},"Effacer")),e.createElement("div",{className:"space-y-2"},Le.older.map((Pe,De)=>Ve(Pe,De))))):e.createElement("div",{className:"space-y-2"},Ie.map((Pe,De)=>Ve(Pe,De)))):e.createElement("div",{className:"text-center py-8"},e.createElement("div",{className:"inline-flex p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3"},e.createElement(Ut,{size:24,className:"text-gray-400"})),e.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},xe?"Aucun rsultat":"Aucun historique"),e.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},xe?"Essayez avec d'autres mots-cls":"Vos recherches rcentes apparatront ici")),X&&e.createElement("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between gap-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>Qa("csv"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors"},e.createElement(Ci,{size:12}),"Exporter CSV"),e.createElement("button",{type:"button",onClick:()=>Qa("json"),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors"},e.createElement(Ci,{size:12}),"Exporter JSON")),e.createElement("button",{type:"button",onClick:()=>xn("all"),className:"px-3 py-1.5 text-xs font-semibold text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"},"Tout effacer"))))};g.useEffect(()=>{let X=!1;return(async()=>{lt(!0),F("");try{const{data:Pe}=await se.get("/shops");X||Ne(Array.isArray(Pe)?Pe:[])}catch(Pe){X||(console.error("Shops loading error:",Pe),F("Impossible de charger les boutiques. Vrifiez votre connexion."),Ne([]))}finally{X||lt(!1)}})(),()=>{X=!0}},[]),g.useEffect(()=>{let X=!1;return(async()=>{try{const{data:Pe}=await se.get("/settings/app-logo");if(X)return;ye({desktop:Pe?.appLogoDesktop||"",mobile:Pe?.appLogoMobile||""})}catch{X||ye({desktop:"",mobile:""})}})(),()=>{X=!0}},[]);const Ht=()=>e.createElement("div",{className:"grid grid-cols-2 gap-2 mb-4"},lr.map(X=>{const ve=X.icon||Nn;return e.createElement("button",{key:X.id,type:"button",onClick:()=>ha(X),className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border border-indigo-200 dark:border-indigo-800 rounded-xl hover:from-indigo-100 hover:to-purple-100 dark:hover:from-indigo-900/30 dark:hover:to-purple-900/30 transition-all group"},e.createElement(ve,{size:18,className:"text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform"}),e.createElement("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},X.label))})),Bt=()=>Hr.length===0?null:e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"flex items-center justify-between mb-2 px-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(QD,{size:14,className:"text-indigo-600 dark:text-indigo-400"}),e.createElement("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Recherches sauvegardes"))),e.createElement("div",{className:"flex flex-wrap gap-2"},Hr.map(X=>e.createElement("div",{key:X.id,className:"group flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors"},e.createElement("button",{type:"button",onClick:()=>{q(X.query),be(ve=>({...ve,...X.filters})),Ke(50)},className:"flex-1 text-left text-sm font-medium text-gray-700 dark:text-gray-300"},X.query),e.createElement("button",{type:"button",onClick:()=>qr(X.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-red-500 hover:text-red-700"},e.createElement(_t,{size:12}))))));return e.createElement(e.Fragment,null,Or&&ct&&e.createElement("div",{ref:Br,className:"fixed inset-0 z-[100] bg-white dark:bg-gray-900",style:{paddingTop:"env(safe-area-inset-top)"},onTouchStart:Ps,onTouchMove:_e,onTouchEnd:Be},e.createElement("div",{className:"h-full flex flex-col"},e.createElement("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900"},e.createElement("button",{type:"button",onClick:()=>{na(!1),Oe(!1),re(!1),wt.current&&wt.current.blur(),Ke(50)},className:"p-2 -ml-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},e.createElement(BD,{size:20})),e.createElement("div",{className:"flex-1 relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{ref:wt,type:"text",value:H,onChange:X=>q(X.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-all text-sm",onKeyDown:Ts,autoFocus:!0}),H&&e.createElement("button",{type:"button",onClick:()=>{q(""),Ke(50)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},e.createElement(_t,{size:18}))),H.trim()&&e.createElement("button",{type:"button",onClick:()=>cr(H,Ye),className:"p-2 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Sauvegarder la recherche"},e.createElement(xd,{size:18}))),e.createElement("div",{className:"overflow-y-auto flex-1 bg-white dark:bg-gray-900"},!H.trim()&&e.createElement(e.Fragment,null,e.createElement("div",{className:"px-4 py-3"},Ht(),Bt()),ri()),he&&e.createElement("div",{className:"mt-4 px-4"},ne?kt():I())),ea&&e.createElement("div",{className:"fixed inset-x-0 bottom-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 rounded-t-3xl shadow-2xl z-[101] max-h-[80vh] overflow-y-auto"},e.createElement("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between"},e.createElement("h3",{className:"font-bold text-lg text-gray-900 dark:text-white"},"Filtres"),e.createElement("button",{type:"button",onClick:()=>{Oa(!1),Ke(50)},className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg"},e.createElement(_t,{size:20}))),e.createElement("div",{className:"p-4"},Os(!0))))),e.createElement("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-lg border-b border-gray-200/50 dark:border-gray-800/50",style:{paddingTop:"env(safe-area-inset-top)"}},e.createElement("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 max-w-[1400px] 2xl:max-w-[1600px]"},e.createElement("div",{className:"flex items-center justify-between h-16 gap-4 lg:gap-6"},e.createElement(pe,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 group active:scale-95 transition-transform"},Zt||oe?e.createElement(e.Fragment,null,e.createElement("img",{src:oe||Zt,alt:"Logo HDMarket",className:"h-10 w-10 sm:h-14 sm:w-14 rounded-xl object-contain border border-gray-200/60 dark:border-gray-700/60 bg-white dark:bg-gray-800 shadow-sm sm:shadow-md transition-all duration-300 group-hover:shadow-lg sm:hidden"}),e.createElement("img",{src:Zt||oe,alt:"Logo HDMarket",className:"hidden h-[138px] w-auto max-w-[200px] object-contain sm:block transition-all duration-300 group-hover:scale-105",style:{lineHeight:"28px"}})):e.createElement(e.Fragment,null,e.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-600 rounded-xl flex items-center justify-center shadow-md sm:shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105"},e.createElement("span",{className:"text-white font-black text-sm sm:text-base"},"HD")),e.createElement("div",{className:"hidden sm:flex flex-col"},e.createElement("span",{className:"text-xl font-black text-indigo-600"},"HDMarket"),e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1"},"Marketplace Premium")))),r&&e.createElement("div",{className:"md:hidden flex items-center gap-2"},e.createElement(pe,{to:"/notifications",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 active:scale-95","aria-label":"Notifications"},e.createElement(uo,{className:"text-gray-600 dark:text-gray-300",size:18}),T>0&&e.createElement("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center shadow-lg"},T>99?"99+":T))),e.createElement("div",{className:"hidden lg:flex flex-1 max-w-xl mx-4"},e.createElement("div",{className:"relative w-full"},e.createElement(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.createElement("input",{ref:wt,type:"text",value:H,onChange:X=>q(X.target.value),placeholder:"Rechercher produits, boutiques, catgories...",className:"w-full pl-12 pr-20 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-all duration-200 placeholder-gray-500 text-sm",onFocus:()=>{Oe(!0),ct&&na(!0),r&&Ie.length===0&&Wr()},onKeyDown:Ts,onBlur:()=>setTimeout(()=>Oe(!1),250)}),e.createElement("div",{className:"absolute right-3 top-1/2 -translate-y-1/2"},e.createElement("button",{onClick:bn,className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 px-2 py-1 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"},"Historique")),he&&e.createElement("div",{className:"absolute top-14 left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-80 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700 z-50 w-full"},ne?kt():ro()))),e.createElement("div",{className:"hidden md:flex items-center gap-2"},r&&e.createElement(e.Fragment,null,e.createElement(pe,{to:"/notifications",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Notifications"},e.createElement(uo,{size:18}),T>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},T>99?"99+":T)),e.createElement(pe,{to:"/orders/messages",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Messages"},e.createElement(fa,{size:18})),e.createElement(pe,{to:"/favorites",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Favoris"},e.createElement(ur,{size:18}),i>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-pink-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},i>99?"99+":i)),e.createElement(pe,{to:"/cart",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":"Panier"},e.createElement(Ga,{size:18}),o>0&&e.createElement("span",{className:"absolute -top-1 -right-1 bg-indigo-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},o>99?"99+":o))),r?e.createElement("div",{className:"relative group"},e.createElement("button",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200"},e.createElement("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center"},e.createElement("span",{className:"text-white font-semibold text-sm"},r.name?.charAt(0)?.toUpperCase()||"U")),e.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200 max-w-24 truncate hidden lg:block"},r.name||"Mon compte"),e.createElement(Ha,{size:16,className:"text-gray-500 hidden lg:block"})),e.createElement("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50"},e.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white truncate"},r.name||"Utilisateur"),e.createElement("p",{className:"text-sm text-gray-500 truncate"},r.email)),e.createElement("div",{className:"p-2"},e.createElement(pe,{to:"/profile",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(va,{size:16}),e.createElement("span",null,"Mon profil")),e.createElement(pe,{to:"/my",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Ot,{size:16}),e.createElement("span",null,"Mes annonces")),e.createElement(pe,{to:"/orders",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(ca,{size:16}),e.createElement("span",null,"Mes commandes"),O&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},R)),E&&e.createElement(pe,{to:"/admin/delivery-guys",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Tr,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Livreurs")),r?.role==="admin"&&e.createElement(pe,{to:"/admin/chat-templates",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(fa,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Chat templates")),r?.role==="admin"&&e.createElement(pe,{to:"/admin/settings",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Dp,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"App Settings")),(b||r?.canReadFeedback)&&e.createElement(pe,{to:"/admin/feedback",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(fa,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Avis amlioration"),S>0&&e.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},S>99?"99+":S)),(b||r?.canVerifyPayments)&&e.createElement(pe,{to:"/admin/payment-verification",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Qt,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Vrifier paiements"),P>0&&e.createElement("span",{className:"ml-auto flex items-center justify-center min-w-[22px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},P>99?"99+":P)),!b&&r?.canManageBoosts&&e.createElement(pe,{to:"/admin/product-boosts",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(ma,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Boost produits")),b&&e.createElement(pe,{to:"/admin/payment-verifiers",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Ia,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Vrificateurs paiements")),b&&e.createElement(pe,{to:"/admin/product-boosts",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(ma,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Boost produits")),b&&e.createElement(pe,{to:"/admin/reports",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(gn,{size:16}),e.createElement("span",{className:"text-sm font-semibold"},"Rapports")),e.createElement(pe,{to:"/my/stats",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Qn,{size:16}),e.createElement("span",null,"Statistiques")),e.createElement(pe,{to:"/favorites",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(ur,{size:16}),e.createElement("span",null,"Favoris"),i>0&&e.createElement("span",{className:"ml-auto bg-pink-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},i)),e.createElement(pe,{to:"/cart",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},e.createElement(Ga,{size:16}),e.createElement("span",null,"Panier"),o>0&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},o)),e.createElement("button",{onClick:a,className:"flex items-center gap-3 px-3 py-2 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left"},e.createElement(V5,{size:16}),e.createElement("span",null,"Dconnexion"))))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement(hr,{to:"/login",className:"px-3 py-2 rounded-xl border border-indigo-600 text-indigo-600 font-medium hover:bg-indigo-50 transition-all duration-200"},"Connexion"),e.createElement(hr,{to:"/register",className:"px-3 py-2 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200"},"Inscription"))),e.createElement("button",{onClick:()=>z(!W),className:`md:hidden flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-300 active:scale-95 ${W?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700"}`,"aria-label":W?"Fermer le menu":"Ouvrir le menu"},W?e.createElement(_t,{size:20,strokeWidth:2.5}):e.createElement(H5,{size:20,strokeWidth:2})))),e.createElement("div",{className:"hidden lg:block bg-gradient-to-r from-indigo-600 to-indigo-700 dark:from-indigo-800 dark:to-indigo-900"},e.createElement("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 max-w-[1400px] 2xl:max-w-[1600px]"},e.createElement("div",{className:"flex items-center gap-1 h-12"},e.createElement(hr,{to:"/",className:({isActive:X})=>`px-4 py-2 text-white font-semibold text-sm hover:underline transition-all duration-200 ${X?"underline":""}`},"Accueil"),e.createElement("div",{className:"relative"},e.createElement("button",{onMouseEnter:rs,onMouseLeave:Ma,className:"px-4 py-2 text-white font-semibold text-sm hover:underline transition-all duration-200 flex items-center gap-1"},"Catgories",e.createElement(Ha,{size:16,className:`transition-transform duration-200 ${me?"rotate-180":""}`})),me&&e.createElement("div",{className:"absolute left-0 mt-0 w-[800px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl z-50 overflow-hidden",onMouseEnter:rs,onMouseLeave:Ma},e.createElement("div",{className:"p-6"},e.createElement("div",{className:"grid grid-cols-3 gap-6"},Es.map(X=>{const ve=X.icon;return e.createElement("div",{key:X.id,className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},ve&&e.createElement(ve,{className:"w-5 h-5 text-indigo-600"}),e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white text-sm"},X.label)),e.createElement("ul",{className:"space-y-1"},X.options.map(Pe=>e.createElement("li",{key:Pe.value},e.createElement(pe,{to:`/categories/${Pe.value}`,className:"block px-3 py-1.5 text-sm text-gray-700 dark:text-gray-300 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",onClick:()=>Se(!1)},Pe.label)))))})),e.createElement("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},e.createElement(pe,{to:"/products",className:"text-sm font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-2",onClick:()=>Se(!1)},"Voir toutes les catgories "))))),e.createElement("div",{className:"relative"},e.createElement("button",{onMouseEnter:st,onMouseLeave:Rt,className:"px-4 py-2 text-white font-semibold text-sm hover:underline transition-all duration-200 flex items-center gap-1"},"Boutiques",e.createElement(Ha,{size:16,className:`transition-transform duration-200 ${ke?"rotate-180":""}`})),ke&&e.createElement("div",{className:"absolute left-0 mt-0 w-96 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl z-50 overflow-hidden",onMouseEnter:st,onMouseLeave:Rt},e.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between gap-3"},e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white"},"Nos Boutiques"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Dcouvrez nos vendeurs professionnels")),e.createElement(pe,{to:"/shops/verified",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500",onClick:()=>L(!1)},"Tout voir ")),e.createElement("div",{className:"max-h-96 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700"},tt?e.createElement("div",{className:"p-4 flex items-center justify-center"},e.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-indigo-600 border-t-transparent"})):gt?e.createElement("div",{className:"p-4 text-center text-red-500 text-sm flex items-center justify-center gap-2"},e.createElement(xr,{size:16}),gt):le.length===0?e.createElement("div",{className:"p-4 text-center text-gray-500 text-sm"},"Aucune boutique enregistre pour le moment."):e.createElement("div",{className:"p-2"},le.map(X=>e.createElement(pe,{key:X._id,to:la(X),className:"flex items-center gap-3 rounded-xl p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",onClick:()=>L(!1)},e.createElement("img",{src:X.shopLogo||"/api/placeholder/60/60",alt:X.shopName,className:"h-12 w-12 rounded-xl object-cover border border-gray-200 dark:border-gray-600 group-hover:border-indigo-300 transition-colors",onError:ve=>{ve.target.src="/api/placeholder/60/60"}}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white text-sm block group-hover:text-indigo-600 transition-colors"},X.shopName),e.createElement(dn,{verified:!!X.shopVerified,showLabel:!1})),e.createElement("span",{className:"text-xs text-gray-500 block mt-1 truncate"},X.shopAddress||"Adresse non renseigne"),e.createElement("span",{className:"text-xs text-indigo-600 font-semibold"},X.productCount||0," annonce",X.productCount>1?"s":"")))))))),e.createElement(hr,{to:"/top-deals",className:({isActive:X})=>`px-4 py-2 text-white font-semibold text-sm hover:underline transition-all duration-200 ${X?"underline":""}`},"Promotions"),e.createElement(hr,{to:"/top-new",className:({isActive:X})=>`px-4 py-2 text-white font-semibold text-sm hover:underline transition-all duration-200 ${X?"underline":""}`},"Nouveauts"),r&&e.createElement(pe,{to:"/my",className:"ml-auto px-4 py-2 bg-white dark:bg-gray-800 text-indigo-600 dark:text-indigo-400 font-bold text-sm rounded-xl hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all duration-200 flex items-center gap-2 shadow-md hover:shadow-lg"},e.createElement(Ai,{size:16}),"Vendre")))),e.createElement("div",{className:`lg:hidden mt-2 border-t border-gray-200/60 dark:border-gray-800/60 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md mb-6 ${It?"hidden":""}`},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),e.createElement("input",{ref:wt,type:"text",value:H,onChange:X=>q(X.target.value),placeholder:"Rechercher produits, boutiques...",className:"w-full pl-11 pr-20 py-3 bg-gray-50 dark:bg-gray-800/80 border border-gray-200/60 dark:border-gray-700/60 rounded-2xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 focus:bg-white dark:focus:bg-gray-800 transition-all duration-200 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 shadow-sm focus:shadow-md",onFocus:()=>{Oe(!0),ct&&na(!0),r&&Ie.length===0&&Wr()},onKeyDown:Ts,onBlur:()=>setTimeout(()=>Oe(!1),250)}),e.createElement("div",{className:"absolute right-3 top-1/2 -translate-y-1/2"},e.createElement("button",{onClick:bn,className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 px-2 py-1 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"},"Historique")),he&&!Or&&e.createElement("div",{className:"absolute top-14 left-0 right-0 bg-white dark:bg-gray-900 border border-gray-200/80 dark:border-gray-700/80 rounded-2xl shadow-2xl max-h-80 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700 z-40 backdrop-blur-xl"},ne?kt():I()))))),W&&e.createElement("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm mt-16"},e.createElement("div",{className:"bg-white dark:bg-gray-900 h-full overflow-y-auto pb-32"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-3"},e.createElement(hr,{to:"/",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(vw,{size:20}),"Accueil"),e.createElement(hr,{to:"/shops/verified",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(Sr,{size:20}),"Boutiques"),e.createElement(hr,{to:"/suggestions",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(ma,{size:20}),"Suggestions"),r&&e.createElement(e.Fragment,null,e.createElement(hr,{to:"/my",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(Ot,{size:20}),"Mes annonces"),e.createElement(hr,{to:"/profile",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(va,{size:20}),"Mon profil"),e.createElement(hr,{to:"/my/stats",onClick:()=>z(!1),className:({isActive:X})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${X?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},e.createElement(Qn,{size:20}),"Statistiques"),e.createElement(hr,{to:"/notifications",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(uo,{size:20}),"Notifications",T>0&&e.createElement("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"},T)),e.createElement(hr,{to:"/orders",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(ca,{size:20}),"Mes commandes",O&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},R)),e.createElement(hr,{to:"/orders/messages",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(fa,{size:20}),"Messages",$&&e.createElement("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse"},K)),N&&e.createElement(hr,{to:"/seller/orders",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Ot,{size:20}),"Commandes clients",D&&e.createElement("span",{className:"ml-auto bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full"},j)),E&&e.createElement(hr,{to:"/admin/orders",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(ca,{size:20}),"Commandes admin"),(b||r?.canReadFeedback)&&e.createElement(hr,{to:"/admin/feedback",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(fa,{size:20}),"Avis amlioration",S>0&&e.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full"},S>99?"99+":S)),(b||r?.canVerifyPayments)&&e.createElement(hr,{to:"/admin/payment-verification",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Qt,{size:20}),e.createElement("span",null,"Vrifier paiements"),P>0&&e.createElement("span",{className:"ml-auto flex items-center justify-center min-w-[22px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},P>99?"99+":P)),!b&&r?.canManageBoosts&&e.createElement(hr,{to:"/admin/product-boosts",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(ma,{size:20}),"Boost produits"),b&&e.createElement(hr,{to:"/admin/payment-verifiers",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Ia,{size:20}),"Vrificateurs paiements"),b&&e.createElement(hr,{to:"/admin/product-boosts",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(ma,{size:20}),"Boost produits"),b&&e.createElement(hr,{to:"/admin/reports",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(gn,{size:20}),"Rapports"),E&&e.createElement(hr,{to:"/admin/delivery-guys",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Tr,{size:20}),"Livreurs")),E&&e.createElement(e.Fragment,null,e.createElement(hr,{to:"/admin",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-medium hover:bg-amber-200 dark:hover:bg-amber-900/30 transition-colors"},e.createElement(Ip,{size:20}),w?"Espace gestionnaire":"Administration",P>0&&e.createElement("span",{className:"ml-auto bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},P)),r?.role==="admin"&&e.createElement(e.Fragment,null,e.createElement(hr,{to:"/admin/chat-templates",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},e.createElement(fa,{size:20}),"Chat templates"),e.createElement(hr,{to:"/admin/settings",onClick:()=>z(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},e.createElement(Dp,{size:20}),"App Settings"))),e.createElement(hr,{to:"/favorites",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(ur,{size:20}),"Favoris",i>0&&e.createElement("span",{className:"ml-auto bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full"},i)),e.createElement(hr,{to:"/cart",onClick:()=>z(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},e.createElement(Ga,{size:20}),"Panier",o>0&&e.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},o)),e.createElement("button",{onClick:()=>ee(!Q),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},Q?e.createElement(aB,{size:20}):e.createElement(yF,{size:20}),Q?"Mode clair":"Mode sombre"),r?e.createElement("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800"},e.createElement("button",{onClick:()=>{a(),z(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},e.createElement(V5,{size:20}),"Dconnexion")):e.createElement("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-200 dark:border-gray-800"},e.createElement(hr,{to:"/login",onClick:()=>z(!1),className:"px-4 py-3 rounded-xl border border-indigo-600 text-indigo-600 text-center font-medium hover:bg-indigo-50 transition-colors"},"Connexion"),e.createElement(hr,{to:"/register",onClick:()=>z(!1),className:"px-4 py-3 rounded-xl bg-indigo-600 text-white text-center font-medium hover:bg-indigo-700 transition-colors"},"Inscription"))))),e.createElement("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200/80 dark:border-gray-800/80 shadow-2xl backdrop-blur-xl transition-all duration-300",style:{paddingBottom:"env(safe-area-inset-bottom)"},onTouchStart:Xa,onTouchMove:ss,onTouchEnd:os},!Er&&ns.length>0&&e.createElement("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center cursor-pointer z-10",onClick:()=>{Dr(!0),Ke("medium")}},e.createElement("div",{className:"bg-indigo-600 dark:bg-indigo-500 text-white p-1.5 rounded-full shadow-lg"},e.createElement(Lo,{size:12,className:"animate-bounce"}))),e.createElement("div",{className:`max-w-3xl mx-auto px-3 transition-all duration-300 ${Er?"py-3":"py-2.5"}`},e.createElement("div",{className:"flex items-center justify-around"},Na.map(X=>{const ve=X.icon,Pe=X.badge||0;return location.pathname,X.path,X.isButton?e.createElement("button",{key:X.id,type:"button","data-item-id":X.id,onClick:()=>{z(!0),Ke("light")},onTouchStart:Xa,onTouchEnd:os,className:`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 active:scale-95 ${W?"text-indigo-600 dark:text-indigo-400 scale-105":""}`},e.createElement("div",{className:`relative transition-all duration-300 ${W?"scale-110":""}`},W?e.createElement(_t,{size:22,className:"text-indigo-600 dark:text-indigo-400",strokeWidth:2.5}):e.createElement(ve,{size:22,strokeWidth:2}),W&&e.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),e.createElement("span",{className:`text-[11px] font-semibold transition-all ${W?"text-indigo-600 dark:text-indigo-400":""}`},X.label),W&&e.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}),Ba===X.id&&e.createElement("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-2 min-w-[150px] z-50"},is(X.id).map((De,Ue)=>e.createElement("button",{key:Ue,type:"button",onClick:()=>{De.action(),da(null)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},De.label)),e.createElement("button",{type:"button",onClick:()=>da(null),className:"w-full text-left px-3 py-2 text-sm text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors mt-1"},"Annuler"))):e.createElement(hr,{key:X.id,to:X.path,"data-item-id":X.id,onTouchStart:Xa,onTouchEnd:os,className:({isActive:De})=>`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 ${De?"text-indigo-600 dark:text-indigo-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>{z(!1),Dr(!1),Ke("light")}},({isActive:De})=>e.createElement(e.Fragment,null,e.createElement("div",{className:`relative transition-all duration-300 ${De?"scale-110":""}`},e.createElement(ve,{size:22,className:De?"text-indigo-600 dark:text-indigo-400":"",strokeWidth:De?2.5:2,fill:X.id==="favorites"&&De?"currentColor":"none"}),De&&e.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),e.createElement("span",{className:`text-[11px] font-semibold transition-all ${De?"text-indigo-600 dark:text-indigo-400":""}`},X.label),Pe>0&&e.createElement("span",{className:`absolute -top-0.5 right-2.5 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center shadow-lg transition-all ${De?"bg-indigo-600":X.id==="favorites"?"bg-pink-500":"bg-indigo-600"}`},Pe>99?"99+":Pe),De&&e.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}),Ba===X.id&&e.createElement("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-2 min-w-[150px] z-50"},is(X.id).map((Ue,zt)=>e.createElement("button",{key:zt,type:"button",onClick:Ar=>{Ar.preventDefault(),Ar.stopPropagation(),Ue.action(),da(null)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},Ue.label)),e.createElement("button",{type:"button",onClick:Ue=>{Ue.preventDefault(),Ue.stopPropagation(),da(null)},className:"w-full text-left px-3 py-2 text-sm text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors mt-1"},"Annuler"))))})),Er&&ns.length>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"flex items-center justify-between mb-2 px-2"},e.createElement("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400"},"Plus d'options"),e.createElement("button",{type:"button",onClick:()=>{Dr(!1),Ke("light")},className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},e.createElement(Lo,{size:16,className:"rotate-180"}))),e.createElement("div",{className:"grid grid-cols-4 gap-2"},ns.map(X=>{const ve=X.icon,Pe=X.badge||0;return location.pathname,X.path,e.createElement(hr,{key:X.id,to:X.path,"data-item-id":X.id,onTouchStart:Xa,onTouchEnd:os,className:({isActive:De})=>`relative flex flex-col items-center justify-center gap-1 px-2 py-2 rounded-xl transition-all duration-300 ${De?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>{Dr(!1),Ke("light")}},({isActive:De})=>e.createElement(e.Fragment,null,e.createElement("div",{className:"relative"},e.createElement(ve,{size:18,className:De?"text-indigo-600 dark:text-indigo-400":"",strokeWidth:De?2.5:2}),Pe>0&&e.createElement("span",{className:`absolute -top-1 -right-1 text-white text-[9px] font-bold px-1 py-0.5 rounded-full min-w-[16px] text-center shadow-lg ${De?"bg-indigo-600":"bg-red-500"}`},Pe>99?"99+":Pe)),e.createElement("span",{className:`text-[10px] font-medium transition-all truncate w-full text-center ${De?"text-indigo-600 dark:text-indigo-400":""}`},X.label),De&&e.createElement("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-0.5 h-0.5 bg-indigo-600 dark:bg-indigo-400 rounded-full"}),Ba===X.id&&e.createElement("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-2 min-w-[150px] z-50"},is(X.id).map((Ue,zt)=>e.createElement("button",{key:zt,type:"button",onClick:Ar=>{Ar.preventDefault(),Ar.stopPropagation(),Ue.action(),da(null)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},Ue.label)),e.createElement("button",{type:"button",onClick:Ue=>{Ue.preventDefault(),Ue.stopPropagation(),da(null)},className:"w-full text-left px-3 py-2 text-sm text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors mt-1"},"Annuler"))))})))))),e.createElement("div",{className:"h-16 lg:h-24"}),e.createElement("div",{className:"md:hidden h-20"}))}function AB(){const t=new Date().getFullYear();return e.createElement("footer",{className:"hidden md:block bg-gray-900 text-gray-300"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 grid gap-8 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-indigo-400 uppercase tracking-widest"},"ETS HD Tech Filial"),e.createElement("h3",{className:"mt-2 text-xl font-bold text-white"},"HDMarket"),e.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Marketplace premium opre par ETS HD Tech Filial. Achetez et vendez en toute confiance, partout au Congo.")),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Navigation"),e.createElement("ul",{className:"mt-3 space-y-2 text-sm"},e.createElement("li",null,e.createElement(pe,{to:"/",className:"hover:text-white"},"Accueil")),e.createElement("li",null,e.createElement(pe,{to:"/products",className:"hover:text-white"},"Produits")),e.createElement("li",null,e.createElement(pe,{to:"/top-deals",className:"hover:text-white"},"Bons plans")),e.createElement("li",null,e.createElement(pe,{to:"/help",className:"hover:text-white"},"Aide et service client")))),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Support"),e.createElement("ul",{className:"mt-3 space-y-2 text-sm"},e.createElement("li",{className:"flex items-center gap-2"},e.createElement(Ri,{size:16,className:"text-indigo-400"}),"support@hdmarket.cg"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(yo,{size:16,className:"text-indigo-400"}),"+242 06 000 00 00"),e.createElement("li",{className:"flex items-center gap-2"},e.createElement(yr,{size:16,className:"text-indigo-400"}),"Brazzaville, Congo"))),e.createElement("div",null,e.createElement("h4",{className:"text-base font-semibold text-white"},"Communaut"),e.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Rejoignez les vendeurs et acheteurs professionnels accompagns par ETS HD Tech Filial."),e.createElement(pe,{to:"/help",className:"mt-4 inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500"},"Contacter le support"))),e.createElement("div",{className:"border-t border-gray-800"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col gap-2 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null," ",t," ETS HD Tech Filial  Tous droits rservs."),e.createElement("p",null,"HDMarket, marketplace scurise pour les vendeurs et acheteurs congolais."))))}const _B=t=>t?String(t).replace(/[^\d+]/g,""):"",PB=(t,r)=>{const a=t?`"${t}"`:"votre annonce";return encodeURIComponent(`Bonjour, je suis intress par ${a} sur HDMarket. Pouvez-vous me donner plus d'informations ? ${r||""}`.trim())},xN=(t,r)=>{const a=_B(r);if(!t?._id||!a)return null;const n=typeof window<"u"?window.location.origin:"",s=GO(t,n),o=PB(t.title,s);return`https://wa.me/${a}?text=${o}`},iM="hdmarket:recent-product-views",TB=50,OB=t=>{if(!t)return[];try{const r=JSON.parse(t);return Array.isArray(r)?r:[]}catch{return[]}},ul=()=>typeof window>"u"?[]:OB(window.localStorage.getItem(iM)),MB=t=>{typeof window>"u"||window.localStorage.setItem(iM,JSON.stringify(t))},Mm=t=>{if(!t?._id)return;const r=t.category||"",a=ul(),n=[{id:String(t._id),category:r,visitedAt:Date.now()},...a.filter(s=>String(s.id)!==String(t._id))].slice(0,TB);if(MB(n),typeof window<"u"&&window.localStorage.getItem("qm_token")){const o=t.slug||t._id;se.post(`/users/product-views/${o}`).catch(()=>{})}},Y5=async(t=50)=>{const{data:r}=await se.get("/users/product-views",{params:{limit:t}});return Array.isArray(r)?r:[]},jB=(t,r=4)=>{const a=new Map;return t.forEach(n=>{if(!n?.category)return;const s=a.get(n.category)||{count:0,last:0};a.set(n.category,{count:s.count+1,last:Math.max(s.last,Number(n.visitedAt)||0)})}),Array.from(a.entries()).sort((n,s)=>{const o=s[1].count-n[1].count;return o!==0?o:s[1].last-n[1].last}).slice(0,r).map(([n])=>n)},RB=767;function Bl(t=RB){const r=()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${t}px)`).matches,[a,n]=g.useState(r);return g.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(`(max-width: ${t}px)`),o=i=>n(i.matches);return s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[t]),a}function ts(){return Bl()?{}:{target:"_blank",rel:"noopener noreferrer"}}function Da({p:t,hideMobileDiscountBadge:r=!1,productLink:a,onProductClick:n}){const{user:s}=g.useContext(fr),{addItem:o,cart:i}=g.useContext(Fl),d=Zr(),u=Sn(),[m,p]=g.useState(!1),[f,y]=g.useState(""),[b,w]=g.useState(""),[E,x]=g.useState(!1),[N,k]=g.useState(!1),[A,P]=g.useState(0),S=g.useRef(null),_=g.useRef(0),T=g.useRef(0),[O,R]=g.useState(!1),[D,j]=g.useState({});Bl();const $=!!(s&&i?.items?.some(Ee=>Ee.product?._id===t._id)),{toggleFavorite:K,isFavorite:W}=g.useContext(Tm),z=W(t._id),[Q,ee]=g.useState(t.whatsappClicks||0),[H,q]=g.useState(t.favoritesCount||0),B=ts(),G=a||ar(t),Y=n||Mm,V=g.useMemo(()=>{const Ee=Array.isArray(t.images)?t.images.filter(Boolean):[];return Ee.length>0?Ee:["https://via.placeholder.com/400x400"]},[t.images]),J=V.length>1,ue=J,he=!1;g.useEffect(()=>{const Ee=(le,Ne)=>{const tt=new Image;tt.crossOrigin="anonymous",tt.onload=()=>{j(lt=>lt[Ne]===!0?lt:{...lt,[Ne]:!0})},tt.onerror=()=>{j(lt=>lt[Ne]===!1?lt:{...lt,[Ne]:!1})},tt.src=le};V.forEach((le,Ne)=>{le&&le!=="https://via.placeholder.com/400x400"?Ee(le,Ne):j(tt=>({...tt,[Ne]:!0}))})},[V,t.title]);const Oe=g.useCallback(()=>{O||(R(!0),P(Ee=>(Ee+1)%V.length),setTimeout(()=>R(!1),500))},[O,V.length]),te=g.useCallback(()=>{O||(R(!0),P(Ee=>(Ee-1+V.length)%V.length),setTimeout(()=>R(!1),500))},[O,V.length]);g.useEffect(()=>{},[he,V.length,O]);const ie=()=>{S.current&&clearInterval(S.current)},de=()=>{},Ce=Ee=>{_.current=Ee.touches[0].clientX},ne=Ee=>{T.current=Ee.touches[0].clientX},re=()=>{if(!_.current||!T.current)return;const Ee=_.current-T.current;Math.abs(Ee)>50&&(Ee>0?Oe():te()),_.current=0,T.current=0};g.useMemo(()=>xN(t,t?.user?.phone||t?.contactPhone),[t]),g.useEffect(()=>{ee(t.whatsappClicks||0)},[t._id,t.whatsappClicks]),g.useEffect(()=>{q(t.favoritesCount||0)},[t._id,t.favoritesCount]);const Ie=`${u.pathname}${u.search}${u.hash}`,fe=()=>{d("/login",{state:{from:Ie||"/"}})},Le=()=>s?!0:(fe(),!1);g.useEffect(()=>{$||y("")},[$]);const at=typeof t.discount=="number"&&t.discount>0;Number(t.price).toLocaleString();const nt=at&&t.priceBeforeDiscount?Number(t.priceBeforeDiscount).toLocaleString():null,it=Number(t.ratingAverage||0).toFixed(1),xe=t.ratingCount||0,He=t.commentCount||0,Je=!!(t.user?.shopVerified??t.shopVerified),xt=t.user?.shopLogo||t.shopLogo||null,{publishedLabel:ht,daysSince:mt,isNew:pt}=g.useMemo(()=>{if(!t?.createdAt)return{publishedLabel:"",daysSince:null,isNew:!1};const Ee=new Date(t.createdAt);if(Number.isNaN(Ee.getTime()))return{publishedLabel:"",daysSince:null,isNew:!1};const le=Date.now()-Ee.getTime(),Ne=Math.max(0,Math.floor(le/(1e3*60*60*24))),tt=Ne<=7;return Ne===0?{publishedLabel:"Aujourd'hui",daysSince:0,isNew:tt}:Ne===1?{publishedLabel:"Hier",daysSince:1,isNew:tt}:{publishedLabel:`Il y a ${Ne}j`,daysSince:Ne,isNew:tt}},[t.createdAt]),bt=t?.user?._id||t?.user,Pt=!!(s&&bt&&String(bt)===s.id),Ge=t?.condition==="new"?"Neuf":"Occasion";t?.condition;const ft=async Ee=>{if(Ee&&(Ee.preventDefault(),Ee.stopPropagation()),!!Le())try{const le=await K(t);le===!0?q(Ne=>Ne+1):le===!1&&q(Ne=>Math.max(0,Ne-1))}catch(le){console.error("Impossible de modifier les favoris.",le)}},We=async()=>{if(!(!Le()||$)){p(!0),w("");try{await o(t._id,1),y("Ajout au panier !")}catch(Ee){w(Ee.response?.data?.message||Ee.message||"Impossible d'ajouter cet article.")}finally{p(!1)}}},Ye=g.useMemo(()=>{if(typeof t.salesCount=="number"&&t.salesCount>0)return t.salesCount;const Ee=t.views||0,le=t.favoritesCount||0,Ne=t.commentCount||0,tt=Q||0;return Math.floor(Ee*.02+le*1.5+Ne*2+tt*.8)},[t.views,t.favoritesCount,t.commentCount,t.salesCount,Q]),be=typeof t.salesCount=="number"&&t.salesCount>0,ut=Ee=>Ee>=1e4?`${(Ee/1e3).toFixed(0)}k+`:Ee>=1e3?`${(Ee/1e3).toFixed(1)}k+`:`${Ee}`,et=Ye>=3e3,Z=Ye>=1e4;return e.createElement("div",{className:"group relative flex h-full w-full flex-col bg-white overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-lg transition-all duration-300",onMouseEnter:ie,onMouseLeave:de},e.createElement(pe,{to:G,...B,onClick:()=>Y?.(t),className:`relative aspect-square bg-gray-100 overflow-hidden ${J?"touch-pan-y":""}`,...J&&{onTouchStart:Ce,onTouchMove:ne,onTouchEnd:re}},ue?e.createElement("div",{className:"relative w-full h-full overflow-hidden"},e.createElement("div",{className:"flex h-full transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${A*100}%)`,width:"100%",willChange:"transform"}},V.map((Ee,le)=>{const Ne=D[le]===!1,tt=Ne?"https://via.placeholder.com/400x400?text=HDMarket":Ee,lt=D[le]===!0;return e.createElement("div",{key:`${t._id}-img-${le}-${Ee}`,className:"relative w-full h-full flex-shrink-0",style:{minWidth:"100%",width:"100%"}},!lt&&!Ne&&e.createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse z-10"}),e.createElement("img",{src:tt,alt:`${t.title} - Image ${le+1}`,className:"w-full h-full object-cover",style:{opacity:1,visibility:"visible",display:"block"},onLoad:()=>{j(gt=>({...gt,[le]:!0})),le===0&&x(!0)},onError:()=>{j(gt=>({...gt,[le]:!1})),le===0&&k(!0)},loading:"eager",fetchpriority:le<=1?"high":"auto"}))})),e.createElement("div",{className:"absolute bottom-2 sm:bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 sm:gap-2 z-30 bg-black/40 backdrop-blur-sm px-2 sm:px-3 py-1 sm:py-1.5 rounded-full"},V.map((Ee,le)=>e.createElement("button",{key:le,type:"button",onClick:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),O||(R(!0),P(le),setTimeout(()=>R(!1),500))},className:`rounded-full transition-all duration-300 ${le===A?"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-white shadow-lg":"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white/60 hover:bg-white/80"}`,"aria-label":`Go to image ${le+1}`}))),e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),te()},className:"absolute left-2 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden sm:flex items-center justify-center","aria-label":"Previous image"},e.createElement(rM,{className:"w-4 h-4 text-gray-700"})),e.createElement("button",{type:"button",onClick:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Oe()},className:"absolute right-2 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden sm:flex items-center justify-center","aria-label":"Next image"},e.createElement($r,{className:"w-4 h-4 text-gray-700"})))):e.createElement("div",{className:"relative w-full h-full"},e.createElement("img",{src:N?"https://via.placeholder.com/400x400?text=HDMarket":V[0],alt:t.title,className:"w-full h-full object-cover",onLoad:()=>x(!0),onError:()=>k(!0),loading:"eager"}),!E&&e.createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse z-10"})),e.createElement("div",{className:"absolute top-1.5 sm:top-2 left-1.5 sm:left-2 z-20 flex flex-col gap-1 sm:gap-1.5"},at&&e.createElement("div",{className:"bg-red-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded sm:rounded-md text-[9px] sm:text-[10px] font-black shadow-lg border border-white/20"},"-",t.discount,"%"),(at||pt)&&e.createElement("div",{className:"bg-orange-600 text-white px-1.5 sm:px-2 py-0.5 rounded text-[8px] sm:text-[9px] font-bold shadow-md"},pt?"Nouveau":"Promo"),t.certified&&e.createElement("div",{className:"inline-flex items-center gap-0.5 sm:gap-1 bg-emerald-500 text-white px-1.5 sm:px-2 py-0.5 rounded text-[8px] sm:text-[9px] font-bold shadow-md"},e.createElement(_a,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"}),"Certifi")),e.createElement("button",{type:"button",onClick:Ee=>ft(Ee),className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 z-30 bg-white/95 backdrop-blur-sm p-1 sm:p-1.5 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 group/fav","aria-label":z?"Retirer des favoris":"Ajouter aux favoris"},e.createElement(ur,{size:14,className:`sm:w-4 sm:h-4 transition-all duration-300 ${z?"text-red-500 transform scale-110":"text-gray-600 group-hover/fav:text-red-400"}`,strokeWidth:2,fill:z?"currentColor":"none"})),e.createElement("div",{className:"absolute bottom-1.5 sm:bottom-2 left-1.5 sm:left-2 right-1.5 sm:right-2 z-20"},e.createElement("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap"},Ye>0&&e.createElement("div",{className:"bg-black/70 backdrop-blur-sm text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold"},be?"Vendu":"Engagement"," ",ut(Ye)),et&&e.createElement("div",{className:"bg-orange-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold"},"Tendance ",ut(Ye)),Z&&e.createElement("div",{className:"bg-purple-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold flex items-center gap-0.5 sm:gap-1"},e.createElement(Uo,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"TOP VENTE")))),e.createElement("div",{className:"flex-1 flex flex-col px-2 sm:px-3 py-2 sm:py-3 space-y-1.5 sm:space-y-2 min-h-0"},e.createElement("h3",{className:"text-xs sm:text-sm font-bold text-gray-900 line-clamp-2 leading-tight min-h-[2rem] sm:min-h-[2.5rem]"},t.title),e.createElement("div",{className:"flex items-baseline gap-1.5 sm:gap-2 flex-wrap"},e.createElement("div",{className:"flex items-baseline gap-0.5 sm:gap-1"},e.createElement("span",{className:"text-[10px] sm:text-xs text-gray-500"},"FCFA"),e.createElement("span",{className:"text-base sm:text-lg font-black text-red-600"},at?Number(t.priceAfterDiscount||t.price).toLocaleString():Number(t.price).toLocaleString())),nt&&e.createElement("span",{className:"text-[10px] sm:text-xs text-gray-400 line-through"},nt," FCFA"),at&&e.createElement("span",{className:"text-[9px] sm:text-[10px] font-bold text-red-500 bg-red-50 px-1 sm:px-1.5 py-0.5 rounded"},"Prix promo")),e.createElement("div",{className:"flex items-center gap-2 sm:gap-3 text-[9px] sm:text-[10px] text-gray-500 flex-wrap"},it>0&&e.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1"},e.createElement(rr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-amber-500 fill-amber-500"}),e.createElement("span",{className:"font-semibold text-gray-700"},it),xe>0&&e.createElement("span",{className:"text-gray-500 hidden sm:inline"},"(",ut(xe),")")),He>0&&e.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1"},e.createElement(br,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),e.createElement("span",null,ut(He))),Ye>0&&e.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1 text-orange-600"},e.createElement(Xt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),e.createElement("span",{className:"font-semibold"},be?"Vendu":"Engagement"," ",ut(Ye)))),t.certified&&e.createElement("div",{className:"flex items-center gap-1.5 flex-wrap"},e.createElement("span",{className:"inline-flex items-center gap-1 bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded text-[9px] font-semibold border border-emerald-200"},e.createElement(_a,{className:"w-2.5 h-2.5"}),"Garanti authentique"),Ge==="Neuf"&&e.createElement("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-[9px] font-semibold border border-blue-200"},"Neuf")),Je&&e.createElement("div",{className:"flex items-center gap-1.5 pt-1"},xt&&e.createElement("img",{src:xt,alt:t.user?.shopName||"Logo boutique",className:"h-4 w-4 rounded-full border border-gray-200 object-cover",loading:"lazy"}),e.createElement(pe,{to:la(t.user),...B,className:"text-[10px] font-semibold text-gray-600 truncate hover:text-indigo-600"},t.user?.shopName||"Boutique HDMarket"),e.createElement(dn,{verified:!0,showLabel:!1,className:"text-[8px]"})),!Pt&&e.createElement("div",{className:"pt-2 border-t border-gray-100"},e.createElement("button",{type:"button",onClick:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),We()},disabled:m||$,className:`w-full inline-flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-2xl sm:rounded-3xl text-[10px] sm:text-xs font-semibold transition-all duration-200 active:scale-95 shadow-sm ${$?"bg-gray-100 text-gray-500 cursor-not-allowed opacity-60":m?"bg-blue-400 text-white cursor-wait":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`},e.createElement(Ga,{size:12,className:"sm:w-4 sm:h-4"}),e.createElement("span",null,$?"Dj au panier":m?"Ajout...":"Ajouter au panier"))),f&&e.createElement("p",{className:"text-[10px] text-emerald-600 font-semibold"},f),b&&e.createElement("p",{className:"text-[10px] text-red-600"},b)))}function $B({visible:t,logoSrc:r,label:a="HDMarket"}){return t?e.createElement("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-white"},r?e.createElement("img",{src:r,alt:a,className:"h-20 w-20 object-contain"}):e.createElement("span",{className:"text-2xl font-semibold text-gray-900"},a)):null}function X5(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function vN(t={},r={}){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(n=>a.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=r[n]:X5(r[n])&&X5(t[n])&&Object.keys(r[n]).length>0&&vN(t[n],r[n])})}const lM={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ql(){const t=typeof document<"u"?document:{};return vN(t,lM),t}const LB={document:lM,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Cn(){const t=typeof window<"u"?window:{};return vN(t,LB),t}function IB(t=""){return t.trim().split(" ").filter(r=>!!r.trim())}function DB(t){const r=t;Object.keys(r).forEach(a=>{try{r[a]=null}catch{}try{delete r[a]}catch{}})}function cM(t,r=0){return setTimeout(t,r)}function Fp(){return Date.now()}function zB(t){const r=Cn();let a;return r.getComputedStyle&&(a=r.getComputedStyle(t,null)),!a&&t.currentStyle&&(a=t.currentStyle),a||(a=t.style),a}function FB(t,r="x"){const a=Cn();let n,s,o;const i=zB(t);return a.WebKitCSSMatrix?(s=i.transform||i.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new a.WebKitCSSMatrix(s==="none"?"":s)):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),r==="x"&&(a.WebKitCSSMatrix?s=o.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),r==="y"&&(a.WebKitCSSMatrix?s=o.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function qf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function BB(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Yn(...t){const r=Object(t[0]),a=["__proto__","constructor","prototype"];for(let n=1;n<t.length;n+=1){const s=t[n];if(s!=null&&!BB(s)){const o=Object.keys(Object(s)).filter(i=>a.indexOf(i)<0);for(let i=0,d=o.length;i<d;i+=1){const u=o[i],m=Object.getOwnPropertyDescriptor(s,u);m!==void 0&&m.enumerable&&(qf(r[u])&&qf(s[u])?s[u].__swiper__?r[u]=s[u]:Yn(r[u],s[u]):!qf(r[u])&&qf(s[u])?(r[u]={},s[u].__swiper__?r[u]=s[u]:Yn(r[u],s[u])):r[u]=s[u])}}}return r}function Uf(t,r,a){t.style.setProperty(r,a)}function dM({swiper:t,targetPosition:r,side:a}){const n=Cn(),s=-t.translate;let o=null,i;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const u=r>s?"next":"prev",m=(f,y)=>u==="next"&&f>=y||u==="prev"&&f<=y,p=()=>{i=new Date().getTime(),o===null&&(o=i);const f=Math.max(Math.min((i-o)/d,1),0),y=.5-Math.cos(f*Math.PI)/2;let b=s+y*(r-s);if(m(b,r)&&(b=r),t.wrapperEl.scrollTo({[a]:b}),m(b,r)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:b})}),n.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=n.requestAnimationFrame(p)};p()}function mo(t,r=""){const a=Cn(),n=[...t.children];return a.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),r?n.filter(s=>s.matches(r)):n}function qB(t,r){const a=[r];for(;a.length>0;){const n=a.shift();if(t===n)return!0;a.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function UB(t,r){const a=Cn();let n=r.contains(t);return!n&&a.HTMLSlotElement&&r instanceof HTMLSlotElement&&(n=[...r.assignedElements()].includes(t),n||(n=qB(t,r))),n}function Bp(t){try{console.warn(t);return}catch{}}function qp(t,r=[]){const a=document.createElement(t);return a.classList.add(...Array.isArray(r)?r:IB(r)),a}function VB(t,r){const a=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;r?n.matches(r)&&a.push(n):a.push(n),t=n}return a}function HB(t,r){const a=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;r?n.matches(r)&&a.push(n):a.push(n),t=n}return a}function Ni(t,r){return Cn().getComputedStyle(t,null).getPropertyValue(r)}function Up(t){let r=t,a;if(r){for(a=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(a+=1);return a}}function uM(t,r){const a=[];let n=t.parentElement;for(;n;)r?n.matches(r)&&a.push(n):a.push(n),n=n.parentElement;return a}function kw(t,r,a){const n=Cn();return t[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function To(t){return(Array.isArray(t)?t:[t]).filter(r=>!!r)}function Vp(t,r=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:a=>a}).createHTML(r):t.innerHTML=r}let Ay;function WB(){const t=Cn(),r=ql();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)}}function mM(){return Ay||(Ay=WB()),Ay}let _y;function GB({userAgent:t}={}){const r=mM(),a=Cn(),n=a.navigator.platform,s=t||a.navigator.userAgent,o={ios:!1,android:!1},i=a.screen.width,d=a.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let m=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!m&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=n==="Win32";let b=n==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&b&&r.touch&&w.indexOf(`${i}x${d}`)>=0&&(m=s.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),b=!1),u&&!y&&(o.os="android",o.android=!0),(m||f||p)&&(o.os="ios",o.ios=!0),o}function fM(t={}){return _y||(_y=GB(t)),_y}let Py;function KB(){const t=Cn(),r=fM();let a=!1;function n(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(n()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[u,m]=d.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));a=u<16||u===16&&m<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=n(),i=o||s&&r.ios;return{isSafari:a||o,needPerspectiveFix:a,need3dFix:i,isWebView:s}}function pM(){return Py||(Py=KB()),Py}function YB({swiper:t,on:r,emit:a}){const n=Cn();let s=null,o=null;const i=()=>{!t||t.destroyed||!t.initialized||(a("beforeResize"),a("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(p=>{o=n.requestAnimationFrame(()=>{const{width:f,height:y}=t;let b=f,w=y;p.forEach(({contentBoxSize:E,contentRect:x,target:N})=>{N&&N!==t.el||(b=x?x.width:(E[0]||E).inlineSize,w=x?x.height:(E[0]||E).blockSize)}),(b!==f||w!==y)&&i()})}),s.observe(t.el))},u=()=>{o&&n.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},m=()=>{!t||t.destroyed||!t.initialized||a("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&typeof n.ResizeObserver<"u"){d();return}n.addEventListener("resize",i),n.addEventListener("orientationchange",m)}),r("destroy",()=>{u(),n.removeEventListener("resize",i),n.removeEventListener("orientationchange",m)})}function XB({swiper:t,extendParams:r,on:a,emit:n}){const s=[],o=Cn(),i=(m,p={})=>{const f=o.MutationObserver||o.WebkitMutationObserver,y=new f(b=>{if(t.__preventObserver__)return;if(b.length===1){n("observerUpdate",b[0]);return}const w=function(){n("observerUpdate",b[0])};o.requestAnimationFrame?o.requestAnimationFrame(w):o.setTimeout(w,0)});y.observe(m,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:t.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(y)},d=()=>{if(t.params.observer){if(t.params.observeParents){const m=uM(t.hostEl);for(let p=0;p<m.length;p+=1)i(m[p])}i(t.hostEl,{childList:t.params.observeSlideChildren}),i(t.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(m=>{m.disconnect()}),s.splice(0,s.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",d),a("destroy",u)}var QB={on(t,r,a){const n=this;if(!n.eventsListeners||n.destroyed||typeof r!="function")return n;const s=a?"unshift":"push";return t.split(" ").forEach(o=>{n.eventsListeners[o]||(n.eventsListeners[o]=[]),n.eventsListeners[o][s](r)}),n},once(t,r,a){const n=this;if(!n.eventsListeners||n.destroyed||typeof r!="function")return n;function s(...o){n.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,r.apply(n,o)}return s.__emitterProxy=r,n.on(t,s,a)},onAny(t,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const n=r?"unshift":"push";return a.eventsAnyListeners.indexOf(t)<0&&a.eventsAnyListeners[n](t),a},offAny(t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const a=r.eventsAnyListeners.indexOf(t);return a>=0&&r.eventsAnyListeners.splice(a,1),r},off(t,r){const a=this;return!a.eventsListeners||a.destroyed||!a.eventsListeners||t.split(" ").forEach(n=>{typeof r>"u"?a.eventsListeners[n]=[]:a.eventsListeners[n]&&a.eventsListeners[n].forEach((s,o)=>{(s===r||s.__emitterProxy&&s.__emitterProxy===r)&&a.eventsListeners[n].splice(o,1)})}),a},emit(...t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let a,n,s;return typeof t[0]=="string"||Array.isArray(t[0])?(a=t[0],n=t.slice(1,t.length),s=r):(a=t[0].events,n=t[0].data,s=t[0].context||r),n.unshift(s),(Array.isArray(a)?a:a.split(" ")).forEach(i=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(d=>{d.apply(s,[i,...n])}),r.eventsListeners&&r.eventsListeners[i]&&r.eventsListeners[i].forEach(d=>{d.apply(s,n)})}),r}};function JB(){const t=this;let r,a;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?r=t.params.width:r=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?a=t.params.height:a=n.clientHeight,!(r===0&&t.isHorizontal()||a===0&&t.isVertical())&&(r=r-parseInt(Ni(n,"padding-left")||0,10)-parseInt(Ni(n,"padding-right")||0,10),a=a-parseInt(Ni(n,"padding-top")||0,10)-parseInt(Ni(n,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(a)&&(a=0),Object.assign(t,{width:r,height:a,size:t.isHorizontal()?r:a}))}function ZB(){const t=this;function r(D,j){return parseFloat(D.getPropertyValue(t.getDirectionLabel(j))||0)}const a=t.params,{wrapperEl:n,slidesEl:s,rtlTranslate:o,wrongRTL:i}=t,d=t.virtual&&a.virtual.enabled,u=d?t.virtual.slides.length:t.slides.length,m=mo(s,`.${t.params.slideClass}, swiper-slide`),p=d?t.virtual.slides.length:m.length;let f=[];const y=[],b=[];let w=a.slidesOffsetBefore;typeof w=="function"&&(w=a.slidesOffsetBefore.call(t));let E=a.slidesOffsetAfter;typeof E=="function"&&(E=a.slidesOffsetAfter.call(t));const x=t.snapGrid.length,N=t.slidesGrid.length,k=t.size-w-E;let A=a.spaceBetween,P=-w,S=0,_=0;if(typeof k>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*k:typeof A=="string"&&(A=parseFloat(A)),t.virtualSize=-A-w-E,m.forEach(D=>{o?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(Uf(n,"--swiper-centered-offset-before",""),Uf(n,"--swiper-centered-offset-after",""));const T=a.grid&&a.grid.rows>1&&t.grid;T?t.grid.initSlides(m):t.grid&&t.grid.unsetSlides();let O;const R=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(D=>typeof a.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<p;D+=1){O=0;const j=m[D];if(!(j&&(T&&t.grid.updateSlide(D,j,m),Ni(j,"display")==="none"))){if(d&&a.slidesPerView==="auto")a.virtual.slidesPerViewAutoSlideSize&&(O=a.virtual.slidesPerViewAutoSlideSize),O&&j&&(a.roundLengths&&(O=Math.floor(O)),j.style[t.getDirectionLabel("width")]=`${O}px`);else if(a.slidesPerView==="auto"){R&&(j.style[t.getDirectionLabel("width")]="");const $=getComputedStyle(j),K=j.style.transform,W=j.style.webkitTransform;if(K&&(j.style.transform="none"),W&&(j.style.webkitTransform="none"),a.roundLengths)O=t.isHorizontal()?kw(j,"width"):kw(j,"height");else{const z=r($,"width"),Q=r($,"padding-left"),ee=r($,"padding-right"),H=r($,"margin-left"),q=r($,"margin-right"),B=$.getPropertyValue("box-sizing");if(B&&B==="border-box")O=z+H+q;else{const{clientWidth:G,offsetWidth:Y}=j;O=z+Q+ee+H+q+(Y-G)}}K&&(j.style.transform=K),W&&(j.style.webkitTransform=W),a.roundLengths&&(O=Math.floor(O))}else O=(k-(a.slidesPerView-1)*A)/a.slidesPerView,a.roundLengths&&(O=Math.floor(O)),j&&(j.style[t.getDirectionLabel("width")]=`${O}px`);j&&(j.swiperSlideSize=O),b.push(O),a.centeredSlides?(P=P+O/2+S/2+A,S===0&&D!==0&&(P=P-k/2-A),D===0&&(P=P-k/2-A),Math.abs(P)<1/1e3&&(P=0),a.roundLengths&&(P=Math.floor(P)),_%a.slidesPerGroup===0&&f.push(P),y.push(P)):(a.roundLengths&&(P=Math.floor(P)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&f.push(P),y.push(P),P=P+O+A),t.virtualSize+=O+A,S=O,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,k)+E,o&&i&&(a.effect==="slide"||a.effect==="coverflow")&&(n.style.width=`${t.virtualSize+A}px`),a.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+A}px`),T&&t.grid.updateWrapperSize(O,f),!a.centeredSlides){const D=[];for(let j=0;j<f.length;j+=1){let $=f[j];a.roundLengths&&($=Math.floor($)),f[j]<=t.virtualSize-k&&D.push($)}f=D,Math.floor(t.virtualSize-k)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-k)}if(d&&a.loop){const D=b[0]+A;if(a.slidesPerGroup>1){const j=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/a.slidesPerGroup),$=D*a.slidesPerGroup;for(let K=0;K<j;K+=1)f.push(f[f.length-1]+$)}for(let j=0;j<t.virtual.slidesBefore+t.virtual.slidesAfter;j+=1)a.slidesPerGroup===1&&f.push(f[f.length-1]+D),y.push(y[y.length-1]+D),t.virtualSize+=D}if(f.length===0&&(f=[0]),A!==0){const D=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");m.filter((j,$)=>!a.cssMode||a.loop?!0:$!==m.length-1).forEach(j=>{j.style[D]=`${A}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let D=0;b.forEach($=>{D+=$+(A||0)}),D-=A;const j=D>k?D-k:0;f=f.map($=>$<=0?-w:$>j?j+E:$)}if(a.centerInsufficientSlides){let D=0;b.forEach($=>{D+=$+(A||0)}),D-=A;const j=(w||0)+(E||0);if(D+j<k){const $=(k-D-j)/2;f.forEach((K,W)=>{f[W]=K-$}),y.forEach((K,W)=>{y[W]=K+$})}}if(Object.assign(t,{slides:m,snapGrid:f,slidesGrid:y,slidesSizesGrid:b}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){Uf(n,"--swiper-centered-offset-before",`${-f[0]}px`),Uf(n,"--swiper-centered-offset-after",`${t.size/2-b[b.length-1]/2}px`);const D=-t.snapGrid[0],j=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map($=>$+D),t.slidesGrid=t.slidesGrid.map($=>$+j)}if(p!==u&&t.emit("slidesLengthChange"),f.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),y.length!==N&&t.emit("slidesGridLengthChange"),a.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const D=`${a.containerModifierClass}backface-hidden`,j=t.el.classList.contains(D);p<=a.maxBackfaceHiddenSlides?j||t.el.classList.add(D):j&&t.el.classList.remove(D)}}function eq(t){const r=this,a=[],n=r.virtual&&r.params.virtual.enabled;let s=0,o;typeof t=="number"?r.setTransition(t):t===!0&&r.setTransition(r.params.speed);const i=d=>n?r.slides[r.getSlideIndexByData(d)]:r.slides[d];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(d=>{a.push(d)});else for(o=0;o<Math.ceil(r.params.slidesPerView);o+=1){const d=r.activeIndex+o;if(d>r.slides.length&&!n)break;a.push(i(d))}else a.push(i(r.activeIndex));for(o=0;o<a.length;o+=1)if(typeof a[o]<"u"){const d=a[o].offsetHeight;s=d>s?d:s}(s||s===0)&&(r.wrapperEl.style.height=`${s}px`)}function tq(){const t=this,r=t.slides,a=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<r.length;n+=1)r[n].swiperSlideOffset=(t.isHorizontal()?r[n].offsetLeft:r[n].offsetTop)-a-t.cssOverflowAdjustment()}const Q5=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function rq(t=this&&this.translate||0){const r=this,a=r.params,{slides:n,rtlTranslate:s,snapGrid:o}=r;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let i=-t;s&&(i=t),r.visibleSlidesIndexes=[],r.visibleSlides=[];let d=a.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*r.size:typeof d=="string"&&(d=parseFloat(d));for(let u=0;u<n.length;u+=1){const m=n[u];let p=m.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(p-=n[0].swiperSlideOffset);const f=(i+(a.centeredSlides?r.minTranslate():0)-p)/(m.swiperSlideSize+d),y=(i-o[0]+(a.centeredSlides?r.minTranslate():0)-p)/(m.swiperSlideSize+d),b=-(i-p),w=b+r.slidesSizesGrid[u],E=b>=0&&b<=r.size-r.slidesSizesGrid[u],x=b>=0&&b<r.size-1||w>1&&w<=r.size||b<=0&&w>=r.size;x&&(r.visibleSlides.push(m),r.visibleSlidesIndexes.push(u)),Q5(m,x,a.slideVisibleClass),Q5(m,E,a.slideFullyVisibleClass),m.progress=s?-f:f,m.originalProgress=s?-y:y}}function aq(t){const r=this;if(typeof t>"u"){const p=r.rtlTranslate?-1:1;t=r&&r.translate&&r.translate*p||0}const a=r.params,n=r.maxTranslate()-r.minTranslate();let{progress:s,isBeginning:o,isEnd:i,progressLoop:d}=r;const u=o,m=i;if(n===0)s=0,o=!0,i=!0;else{s=(t-r.minTranslate())/n;const p=Math.abs(t-r.minTranslate())<1,f=Math.abs(t-r.maxTranslate())<1;o=p||s<=0,i=f||s>=1,p&&(s=0),f&&(s=1)}if(a.loop){const p=r.getSlideIndexByData(0),f=r.getSlideIndexByData(r.slides.length-1),y=r.slidesGrid[p],b=r.slidesGrid[f],w=r.slidesGrid[r.slidesGrid.length-1],E=Math.abs(t);E>=y?d=(E-y)/w:d=(E+w-b)/w,d>1&&(d-=1)}Object.assign(r,{progress:s,progressLoop:d,isBeginning:o,isEnd:i}),(a.watchSlidesProgress||a.centeredSlides&&a.autoHeight)&&r.updateSlidesProgress(t),o&&!u&&r.emit("reachBeginning toEdge"),i&&!m&&r.emit("reachEnd toEdge"),(u&&!o||m&&!i)&&r.emit("fromEdge"),r.emit("progress",s)}const Ty=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function nq(){const t=this,{slides:r,params:a,slidesEl:n,activeIndex:s}=t,o=t.virtual&&a.virtual.enabled,i=t.grid&&a.grid&&a.grid.rows>1,d=f=>mo(n,`.${a.slideClass}${f}, swiper-slide${f}`)[0];let u,m,p;if(o)if(a.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),u=d(`[data-swiper-slide-index="${f}"]`)}else u=d(`[data-swiper-slide-index="${s}"]`);else i?(u=r.find(f=>f.column===s),p=r.find(f=>f.column===s+1),m=r.find(f=>f.column===s-1)):u=r[s];u&&(i||(p=HB(u,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!p&&(p=r[0]),m=VB(u,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!m===0&&(m=r[r.length-1]))),r.forEach(f=>{Ty(f,f===u,a.slideActiveClass),Ty(f,f===p,a.slideNextClass),Ty(f,f===m,a.slidePrevClass)}),t.emitSlidesClasses()}const Cp=(t,r)=>{if(!t||t.destroyed||!t.params)return;const a=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=r.closest(a());if(n){let s=n.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Oy=(t,r)=>{if(!t.slides[r])return;const a=t.slides[r].querySelector('[loading="lazy"]');a&&a.removeAttribute("loading")},Sw=t=>{if(!t||t.destroyed||!t.params)return;let r=t.params.lazyPreloadPrevNext;const a=t.slides.length;if(!a||!r||r<0)return;r=Math.min(r,a);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const i=s,d=[i-r];d.push(...Array.from({length:r}).map((u,m)=>i+n+m)),t.slides.forEach((u,m)=>{d.includes(u.column)&&Oy(t,m)});return}const o=s+n-1;if(t.params.rewind||t.params.loop)for(let i=s-r;i<=o+r;i+=1){const d=(i%a+a)%a;(d<s||d>o)&&Oy(t,d)}else for(let i=Math.max(s-r,0);i<=Math.min(o+r,a-1);i+=1)i!==s&&(i>o||i<s)&&Oy(t,i)};function sq(t){const{slidesGrid:r,params:a}=t,n=t.rtlTranslate?t.translate:-t.translate;let s;for(let o=0;o<r.length;o+=1)typeof r[o+1]<"u"?n>=r[o]&&n<r[o+1]-(r[o+1]-r[o])/2?s=o:n>=r[o]&&n<r[o+1]&&(s=o+1):n>=r[o]&&(s=o);return a.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function oq(t){const r=this,a=r.rtlTranslate?r.translate:-r.translate,{snapGrid:n,params:s,activeIndex:o,realIndex:i,snapIndex:d}=r;let u=t,m;const p=b=>{let w=b-r.virtual.slidesBefore;return w<0&&(w=r.virtual.slides.length+w),w>=r.virtual.slides.length&&(w-=r.virtual.slides.length),w};if(typeof u>"u"&&(u=sq(r)),n.indexOf(a)>=0)m=n.indexOf(a);else{const b=Math.min(s.slidesPerGroupSkip,u);m=b+Math.floor((u-b)/s.slidesPerGroup)}if(m>=n.length&&(m=n.length-1),u===o&&!r.params.loop){m!==d&&(r.snapIndex=m,r.emit("snapIndexChange"));return}if(u===o&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=p(u);return}const f=r.grid&&s.grid&&s.grid.rows>1;let y;if(r.virtual&&s.virtual.enabled&&s.loop)y=p(u);else if(f){const b=r.slides.find(E=>E.column===u);let w=parseInt(b.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(r.slides.indexOf(b),0)),y=Math.floor(w/s.grid.rows)}else if(r.slides[u]){const b=r.slides[u].getAttribute("data-swiper-slide-index");b?y=parseInt(b,10):y=u}else y=u;Object.assign(r,{previousSnapIndex:d,snapIndex:m,previousRealIndex:i,realIndex:y,previousIndex:o,activeIndex:u}),r.initialized&&Sw(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(i!==y&&r.emit("realIndexChange"),r.emit("slideChange"))}function iq(t,r){const a=this,n=a.params;let s=t.closest(`.${n.slideClass}, swiper-slide`);!s&&a.isElement&&r&&r.length>1&&r.includes(t)&&[...r.slice(r.indexOf(t)+1,r.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${n.slideClass}, swiper-slide`)&&(s=d)});let o=!1,i;if(s){for(let d=0;d<a.slides.length;d+=1)if(a.slides[d]===s){o=!0,i=d;break}}if(s&&o)a.clickedSlide=s,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):a.clickedIndex=i;else{a.clickedSlide=void 0,a.clickedIndex=void 0;return}n.slideToClickedSlide&&a.clickedIndex!==void 0&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}var lq={updateSize:JB,updateSlides:ZB,updateAutoHeight:eq,updateSlidesOffset:tq,updateSlidesProgress:rq,updateProgress:aq,updateSlidesClasses:nq,updateActiveIndex:oq,updateClickedSlide:iq};function cq(t=this.isHorizontal()?"x":"y"){const r=this,{params:a,rtlTranslate:n,translate:s,wrapperEl:o}=r;if(a.virtualTranslate)return n?-s:s;if(a.cssMode)return s;let i=FB(o,t);return i+=r.cssOverflowAdjustment(),n&&(i=-i),i||0}function dq(t,r){const a=this,{rtlTranslate:n,params:s,wrapperEl:o,progress:i}=a;let d=0,u=0;const m=0;a.isHorizontal()?d=n?-t:t:u=t,s.roundLengths&&(d=Math.floor(d),u=Math.floor(u)),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?d:u,s.cssMode?o[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-d:-u:s.virtualTranslate||(a.isHorizontal()?d-=a.cssOverflowAdjustment():u-=a.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${u}px, ${m}px)`);let p;const f=a.maxTranslate()-a.minTranslate();f===0?p=0:p=(t-a.minTranslate())/f,p!==i&&a.updateProgress(t),a.emit("setTranslate",a.translate,r)}function uq(){return-this.snapGrid[0]}function mq(){return-this.snapGrid[this.snapGrid.length-1]}function fq(t=0,r=this.params.speed,a=!0,n=!0,s){const o=this,{params:i,wrapperEl:d}=o;if(o.animating&&i.preventInteractionOnTransition)return!1;const u=o.minTranslate(),m=o.maxTranslate();let p;if(n&&t>u?p=u:n&&t<m?p=m:p=t,o.updateProgress(p),i.cssMode){const f=o.isHorizontal();if(r===0)d[f?"scrollLeft":"scrollTop"]=-p;else{if(!o.support.smoothScroll)return dM({swiper:o,targetPosition:-p,side:f?"left":"top"}),!0;d.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return r===0?(o.setTransition(0),o.setTranslate(p),a&&(o.emit("beforeTransitionStart",r,s),o.emit("transitionEnd"))):(o.setTransition(r),o.setTranslate(p),a&&(o.emit("beforeTransitionStart",r,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(y){!o||o.destroyed||y.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,a&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var pq={getTranslate:cq,setTranslate:dq,minTranslate:uq,maxTranslate:mq,translateTo:fq};function gq(t,r){const a=this;a.params.cssMode||(a.wrapperEl.style.transitionDuration=`${t}ms`,a.wrapperEl.style.transitionDelay=t===0?"0ms":""),a.emit("setTransition",t,r)}function gM({swiper:t,runCallbacks:r,direction:a,step:n}){const{activeIndex:s,previousIndex:o}=t;let i=a;i||(s>o?i="next":s<o?i="prev":i="reset"),t.emit(`transition${n}`),r&&i==="reset"?t.emit(`slideResetTransition${n}`):r&&s!==o&&(t.emit(`slideChangeTransition${n}`),i==="next"?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`))}function hq(t=!0,r){const a=this,{params:n}=a;n.cssMode||(n.autoHeight&&a.updateAutoHeight(),gM({swiper:a,runCallbacks:t,direction:r,step:"Start"}))}function yq(t=!0,r){const a=this,{params:n}=a;a.animating=!1,!n.cssMode&&(a.setTransition(0),gM({swiper:a,runCallbacks:t,direction:r,step:"End"}))}var bq={setTransition:gq,transitionStart:hq,transitionEnd:yq};function xq(t=0,r,a=!0,n,s){typeof t=="string"&&(t=parseInt(t,10));const o=this;let i=t;i<0&&(i=0);const{params:d,snapGrid:u,slidesGrid:m,previousIndex:p,activeIndex:f,rtlTranslate:y,wrapperEl:b,enabled:w}=o;if(!w&&!n&&!s||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=o.params.speed);const E=Math.min(o.params.slidesPerGroupSkip,i);let x=E+Math.floor((i-E)/o.params.slidesPerGroup);x>=u.length&&(x=u.length-1);const N=-u[x];if(d.normalizeSlideIndex)for(let T=0;T<m.length;T+=1){const O=-Math.floor(N*100),R=Math.floor(m[T]*100),D=Math.floor(m[T+1]*100);typeof m[T+1]<"u"?O>=R&&O<D-(D-R)/2?i=T:O>=R&&O<D&&(i=T+1):O>=R&&(i=T)}if(o.initialized&&i!==f&&(!o.allowSlideNext&&(y?N>o.translate&&N>o.minTranslate():N<o.translate&&N<o.minTranslate())||!o.allowSlidePrev&&N>o.translate&&N>o.maxTranslate()&&(f||0)!==i))return!1;i!==(p||0)&&a&&o.emit("beforeSlideChangeStart"),o.updateProgress(N);let k;i>f?k="next":i<f?k="prev":k="reset";const A=o.virtual&&o.params.virtual.enabled;if(!(A&&s)&&(y&&-N===o.translate||!y&&N===o.translate))return o.updateActiveIndex(i),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(N),k!=="reset"&&(o.transitionStart(a,k),o.transitionEnd(a,k)),!1;if(d.cssMode){const T=o.isHorizontal(),O=y?N:-N;if(r===0)A&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),A&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{b[T?"scrollLeft":"scrollTop"]=O})):b[T?"scrollLeft":"scrollTop"]=O,A&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return dM({swiper:o,targetPosition:O,side:T?"left":"top"}),!0;b.scrollTo({[T?"left":"top"]:O,behavior:"smooth"})}return!0}const _=pM().isSafari;return A&&!s&&_&&o.isElement&&o.virtual.update(!1,!1,i),o.setTransition(r),o.setTranslate(N),o.updateActiveIndex(i),o.updateSlidesClasses(),o.emit("beforeTransitionStart",r,n),o.transitionStart(a,k),r===0?o.transitionEnd(a,k):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(a,k))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function vq(t=0,r,a=!0,n){typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof r>"u"&&(r=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let i=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)i=i+s.virtual.slidesBefore;else{let d;if(o){const E=i*s.params.grid.rows;d=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===E).column}else d=s.getSlideIndexByData(i);const u=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:m,slidesOffsetBefore:p,slidesOffsetAfter:f}=s.params,y=m||!!p||!!f;let b=s.params.slidesPerView;b==="auto"?b=s.slidesPerViewDynamic():(b=Math.ceil(parseFloat(s.params.slidesPerView,10)),y&&b%2===0&&(b=b+1));let w=u-d<b;if(y&&(w=w||d<Math.ceil(b/2)),n&&y&&s.params.slidesPerView!=="auto"&&!o&&(w=!1),w){const E=y?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?d+1:d-u+1,slideRealIndex:E==="next"?s.realIndex:void 0})}if(o){const E=i*s.params.grid.rows;i=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===E).column}else i=s.getSlideIndexByData(i)}return requestAnimationFrame(()=>{s.slideTo(i,r,a,n)}),s}function Eq(t,r=!0,a){const n=this,{enabled:s,params:o,animating:i}=n;if(!s||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(n.slidesPerViewDynamic("current",!0),1));const u=n.activeIndex<o.slidesPerGroupSkip?1:d,m=n.virtual&&o.virtual.enabled;if(o.loop){if(i&&!m&&o.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+u,t,r,a)}),!0}return o.rewind&&n.isEnd?n.slideTo(0,t,r,a):n.slideTo(n.activeIndex+u,t,r,a)}function wq(t,r=!0,a){const n=this,{params:s,snapGrid:o,slidesGrid:i,rtlTranslate:d,enabled:u,animating:m}=n;if(!u||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const p=n.virtual&&s.virtual.enabled;if(s.loop){if(m&&!p&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=d?n.translate:-n.translate;function y(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const b=y(f),w=o.map(k=>y(k)),E=s.freeMode&&s.freeMode.enabled;let x=o[w.indexOf(b)-1];if(typeof x>"u"&&(s.cssMode||E)){let k;o.forEach((A,P)=>{b>=A&&(k=P)}),typeof k<"u"&&(x=E?o[k]:o[k>0?k-1:k])}let N=0;if(typeof x<"u"&&(N=i.indexOf(x),N<0&&(N=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(N=N-n.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),s.rewind&&n.isBeginning){const k=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(k,t,r,a)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(N,t,r,a)}),!0;return n.slideTo(N,t,r,a)}function Nq(t,r=!0,a){const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,r,a)}function kq(t,r=!0,a,n=.5){const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let o=s.activeIndex;const i=Math.min(s.params.slidesPerGroupSkip,o),d=i+Math.floor((o-i)/s.params.slidesPerGroup),u=s.rtlTranslate?s.translate:-s.translate;if(u>=s.snapGrid[d]){const m=s.snapGrid[d],p=s.snapGrid[d+1];u-m>(p-m)*n&&(o+=s.params.slidesPerGroup)}else{const m=s.snapGrid[d-1],p=s.snapGrid[d];u-m<=(p-m)*n&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,t,r,a)}function Sq(){const t=this;if(t.destroyed)return;const{params:r,slidesEl:a}=t,n=r.slidesPerView==="auto"?t.slidesPerViewDynamic():r.slidesPerView;let s=t.getSlideIndexWhenGrid(t.clickedIndex),o;const i=t.isElement?"swiper-slide":`.${r.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(r.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?t.slideToLoop(o):s>(d?(t.slides.length-n)/2-(t.params.grid.rows-1):t.slides.length-n)?(t.loopFix(),s=t.getSlideIndex(mo(a,`${i}[data-swiper-slide-index="${o}"]`)[0]),cM(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var Cq={slideTo:xq,slideToLoop:vq,slideNext:Eq,slidePrev:wq,slideReset:Nq,slideToClosest:kq,slideToClickedSlide:Sq};function Aq(t,r){const a=this,{params:n,slidesEl:s}=a;if(!n.loop||a.virtual&&a.params.virtual.enabled)return;const o=()=>{mo(s,`.${n.slideClass}, swiper-slide`).forEach((w,E)=>{w.setAttribute("data-swiper-slide-index",E)})},i=()=>{const b=mo(s,`.${n.slideBlankClass}`);b.forEach(w=>{w.remove()}),b.length>0&&(a.recalcSlides(),a.updateSlides())},d=a.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||d)&&i();const u=n.slidesPerGroup*(d?n.grid.rows:1),m=a.slides.length%u!==0,p=d&&a.slides.length%n.grid.rows!==0,f=b=>{for(let w=0;w<b;w+=1){const E=a.isElement?qp("swiper-slide",[n.slideBlankClass]):qp("div",[n.slideClass,n.slideBlankClass]);a.slidesEl.append(E)}};if(m){if(n.loopAddBlankSlides){const b=u-a.slides.length%u;f(b),a.recalcSlides(),a.updateSlides()}else Bp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(n.loopAddBlankSlides){const b=n.grid.rows-a.slides.length%n.grid.rows;f(b),a.recalcSlides(),a.updateSlides()}else Bp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();const y=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;a.loopFix({slideRealIndex:t,direction:y?void 0:"next",initial:r})}function _q({slideRealIndex:t,slideTo:r=!0,direction:a,setTranslate:n,activeSlideIndex:s,initial:o,byController:i,byMousewheel:d}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:m,allowSlidePrev:p,allowSlideNext:f,slidesEl:y,params:b}=u,{centeredSlides:w,slidesOffsetBefore:E,slidesOffsetAfter:x,initialSlide:N}=b,k=w||!!E||!!x;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&b.virtual.enabled){r&&(!k&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):k&&u.snapIndex<b.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=f,u.emit("loopFix");return}let A=b.slidesPerView;A==="auto"?A=u.slidesPerViewDynamic():(A=Math.ceil(parseFloat(b.slidesPerView,10)),k&&A%2===0&&(A=A+1));const P=b.slidesPerGroupAuto?A:b.slidesPerGroup;let S=k?Math.max(P,Math.ceil(A/2)):P;S%P!==0&&(S+=P-S%P),S+=b.loopAdditionalSlides,u.loopedSlides=S;const _=u.grid&&b.grid&&b.grid.rows>1;m.length<A+S||u.params.effect==="cards"&&m.length<A+S*2?Bp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&b.grid.fill==="row"&&Bp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],O=[],R=_?Math.ceil(m.length/b.grid.rows):m.length,D=o&&R-N<A&&!k;let j=D?N:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(m.find(H=>H.classList.contains(b.slideActiveClass))):j=s;const $=a==="next"||!a,K=a==="prev"||!a;let W=0,z=0;const ee=(_?m[s].column:s)+(k&&typeof n>"u"?-A/2+.5:0);if(ee<S){W=Math.max(S-ee,P);for(let H=0;H<S-ee;H+=1){const q=H-Math.floor(H/R)*R;if(_){const B=R-q-1;for(let G=m.length-1;G>=0;G-=1)m[G].column===B&&T.push(G)}else T.push(R-q-1)}}else if(ee+A>R-S){z=Math.max(ee-(R-S*2),P),D&&(z=Math.max(z,A-R+N+1));for(let H=0;H<z;H+=1){const q=H-Math.floor(H/R)*R;_?m.forEach((B,G)=>{B.column===q&&O.push(G)}):O.push(q)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&m.length<A+S*2&&(O.includes(s)&&O.splice(O.indexOf(s),1),T.includes(s)&&T.splice(T.indexOf(s),1)),K&&T.forEach(H=>{m[H].swiperLoopMoveDOM=!0,y.prepend(m[H]),m[H].swiperLoopMoveDOM=!1}),$&&O.forEach(H=>{m[H].swiperLoopMoveDOM=!0,y.append(m[H]),m[H].swiperLoopMoveDOM=!1}),u.recalcSlides(),b.slidesPerView==="auto"?u.updateSlides():_&&(T.length>0&&K||O.length>0&&$)&&u.slides.forEach((H,q)=>{u.grid.updateSlide(q,H,u.slides)}),b.watchSlidesProgress&&u.updateSlidesOffset(),r){if(T.length>0&&K){if(typeof t>"u"){const H=u.slidesGrid[j],B=u.slidesGrid[j+W]-H;d?u.setTranslate(u.translate-B):(u.slideTo(j+Math.ceil(W),0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-B,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-B))}else if(n){const H=_?T.length/b.grid.rows:T.length;u.slideTo(u.activeIndex+H,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(O.length>0&&$)if(typeof t>"u"){const H=u.slidesGrid[j],B=u.slidesGrid[j-z]-H;d?u.setTranslate(u.translate-B):(u.slideTo(j-z,0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-B,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-B))}else{const H=_?O.length/b.grid.rows:O.length;u.slideTo(u.activeIndex-H,0,!1,!0)}}if(u.allowSlidePrev=p,u.allowSlideNext=f,u.controller&&u.controller.control&&!i){const H={slideRealIndex:t,direction:a,setTranslate:n,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(q=>{!q.destroyed&&q.params.loop&&q.loopFix({...H,slideTo:q.params.slidesPerView===b.slidesPerView?r:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...H,slideTo:u.controller.control.params.slidesPerView===b.slidesPerView?r:!1})}u.emit("loopFix")}function Pq(){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||!a||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[o]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{a.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Tq={loopCreate:Aq,loopFix:_q,loopDestroy:Pq};function Oq(t){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const a=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),a.style.cursor="move",a.style.cursor=t?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function Mq(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var jq={setGrabCursor:Oq,unsetGrabCursor:Mq};function Rq(t,r=this){function a(n){if(!n||n===ql()||n===Cn())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(t);return!s&&!n.getRootNode?null:s||a(n.getRootNode().host)}return a(r)}function J5(t,r,a){const n=Cn(),{params:s}=t,o=s.edgeSwipeDetection,i=s.edgeSwipeThreshold;return o&&(a<=i||a>=n.innerWidth-i)?o==="prevent"?(r.preventDefault(),!0):!1:!0}function $q(t){const r=this,a=ql();let n=t;n.originalEvent&&(n=n.originalEvent);const s=r.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){J5(r,n,n.targetTouches[0].pageX);return}const{params:o,touches:i,enabled:d}=r;if(!d||!o.simulateTouch&&n.pointerType==="mouse"||r.animating&&o.preventInteractionOnTransition)return;!r.animating&&o.cssMode&&o.loop&&r.loopFix();let u=n.target;if(o.touchEventsTarget==="wrapper"&&!UB(u,r.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const m=!!o.noSwipingClass&&o.noSwipingClass!=="",p=n.composedPath?n.composedPath():n.path;m&&n.target&&n.target.shadowRoot&&p&&(u=p[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,y=!!(n.target&&n.target.shadowRoot);if(o.noSwiping&&(y?Rq(f,u):u.closest(f))){r.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler))return;i.currentX=n.pageX,i.currentY=n.pageY;const b=i.currentX,w=i.currentY;if(!J5(r,n,b))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=b,i.startY=w,s.touchStartTime=Fp(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let E=!0;u.matches(s.focusableElements)&&(E=!1,u.nodeName==="SELECT"&&(s.isTouched=!1)),a.activeElement&&a.activeElement.matches(s.focusableElements)&&a.activeElement!==u&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!u.matches(s.focusableElements))&&a.activeElement.blur();const x=E&&r.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||x)&&!u.isContentEditable&&n.preventDefault(),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.animating&&!o.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",n)}function Lq(t){const r=ql(),a=this,n=a.touchEventsData,{params:s,touches:o,rtlTranslate:i,enabled:d}=a;if(!d||!s.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(n.touchId!==null||u.pointerId!==n.pointerId))return;let m;if(u.type==="touchmove"){if(m=[...u.changedTouches].find(S=>S.identifier===n.touchId),!m||m.identifier!==n.touchId)return}else m=u;if(!n.isTouched){n.startMoving&&n.isScrolling&&a.emit("touchMoveOpposite",u);return}const p=m.pageX,f=m.pageY;if(u.preventedByNestedSwiper){o.startX=p,o.startY=f;return}if(!a.allowTouchMove){u.target.matches(n.focusableElements)||(a.allowClick=!1),n.isTouched&&(Object.assign(o,{startX:p,startY:f,currentX:p,currentY:f}),n.touchStartTime=Fp());return}if(s.touchReleaseOnEdges&&!s.loop)if(a.isVertical()){if(f<o.startY&&a.translate<=a.maxTranslate()||f>o.startY&&a.translate>=a.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(i&&(p>o.startX&&-a.translate<=a.maxTranslate()||p<o.startX&&-a.translate>=a.minTranslate()))return;if(!i&&(p<o.startX&&a.translate<=a.maxTranslate()||p>o.startX&&a.translate>=a.minTranslate()))return}if(r.activeElement&&r.activeElement.matches(n.focusableElements)&&r.activeElement!==u.target&&u.pointerType!=="mouse"&&r.activeElement.blur(),r.activeElement&&u.target===r.activeElement&&u.target.matches(n.focusableElements)){n.isMoved=!0,a.allowClick=!1;return}n.allowTouchCallbacks&&a.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=p,o.currentY=f;const y=o.currentX-o.startX,b=o.currentY-o.startY;if(a.params.threshold&&Math.sqrt(y**2+b**2)<a.params.threshold)return;if(typeof n.isScrolling>"u"){let S;a.isHorizontal()&&o.currentY===o.startY||a.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:y*y+b*b>=25&&(S=Math.atan2(Math.abs(b),Math.abs(y))*180/Math.PI,n.isScrolling=a.isHorizontal()?S>s.touchAngle:90-S>s.touchAngle)}if(n.isScrolling&&a.emit("touchMoveOpposite",u),typeof n.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(n.startMoving=!0),n.isScrolling||u.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;a.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let w=a.isHorizontal()?y:b,E=a.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(w=Math.abs(w)*(i?1:-1),E=Math.abs(E)*(i?1:-1)),o.diff=w,w*=s.touchRatio,i&&(w=-w,E=-E);const x=a.touchesDirection;a.swipeDirection=w>0?"prev":"next",a.touchesDirection=E>0?"prev":"next";const N=a.params.loop&&!s.cssMode,k=a.touchesDirection==="next"&&a.allowSlideNext||a.touchesDirection==="prev"&&a.allowSlidePrev;if(!n.isMoved){if(N&&k&&a.loopFix({direction:a.swipeDirection}),n.startTranslate=a.getTranslate(),a.setTransition(0),a.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});a.wrapperEl.dispatchEvent(S)}n.allowMomentumBounce=!1,s.grabCursor&&(a.allowSlideNext===!0||a.allowSlidePrev===!0)&&a.setGrabCursor(!0),a.emit("sliderFirstMove",u)}if(new Date().getTime(),s._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&x!==a.touchesDirection&&N&&k&&Math.abs(w)>=1){Object.assign(o,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}a.emit("sliderMove",u),n.isMoved=!0,n.currentTranslate=w+n.startTranslate;let A=!0,P=s.resistanceRatio;if(s.touchReleaseOnEdges&&(P=0),w>0?(N&&k&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?a.minTranslate()-a.slidesSizesGrid[a.activeIndex+1]-(s.slidesPerView!=="auto"&&a.slides.length-s.slidesPerView>=2?a.slidesSizesGrid[a.activeIndex+1]+a.params.spaceBetween:0)-a.params.spaceBetween:a.minTranslate())&&a.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>a.minTranslate()&&(A=!1,s.resistance&&(n.currentTranslate=a.minTranslate()-1+(-a.minTranslate()+n.startTranslate+w)**P))):w<0&&(N&&k&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?a.maxTranslate()+a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween+(s.slidesPerView!=="auto"&&a.slides.length-s.slidesPerView>=2?a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween:0):a.maxTranslate())&&a.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:a.slides.length-(s.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<a.maxTranslate()&&(A=!1,s.resistance&&(n.currentTranslate=a.maxTranslate()+1-(a.maxTranslate()-n.startTranslate-w)**P))),A&&(u.preventedByNestedSwiper=!0),!a.allowSlideNext&&a.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!a.allowSlidePrev&&a.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!a.allowSlidePrev&&!a.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(w)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,o.diff=a.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&a.freeMode||s.watchSlidesProgress)&&(a.updateActiveIndex(),a.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&a.freeMode&&a.freeMode.onTouchMove(),a.updateProgress(n.currentTranslate),a.setTranslate(n.currentTranslate))}function Iq(t){const r=this,a=r.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(S=>S.identifier===a.touchId),!s||s.identifier!==a.touchId)return}else{if(a.touchId!==null||n.pointerId!==a.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(r.browser.isSafari||r.browser.isWebView)))return;a.pointerId=null,a.touchId=null;const{params:i,touches:d,rtlTranslate:u,slidesGrid:m,enabled:p}=r;if(!p||!i.simulateTouch&&n.pointerType==="mouse")return;if(a.allowTouchCallbacks&&r.emit("touchEnd",n),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&i.grabCursor&&r.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}i.grabCursor&&a.isMoved&&a.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const f=Fp(),y=f-a.touchStartTime;if(r.allowClick){const S=n.path||n.composedPath&&n.composedPath();r.updateClickedSlide(S&&S[0]||n.target,S),r.emit("tap click",n),y<300&&f-a.lastClickTime<300&&r.emit("doubleTap doubleClick",n)}if(a.lastClickTime=Fp(),cM(()=>{r.destroyed||(r.allowClick=!0)}),!a.isTouched||!a.isMoved||!r.swipeDirection||d.diff===0&&!a.loopSwapReset||a.currentTranslate===a.startTranslate&&!a.loopSwapReset){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;let b;if(i.followFinger?b=u?r.translate:-r.translate:b=-a.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:b});return}const w=b>=-r.maxTranslate()&&!r.params.loop;let E=0,x=r.slidesSizesGrid[0];for(let S=0;S<m.length;S+=S<i.slidesPerGroupSkip?1:i.slidesPerGroup){const _=S<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof m[S+_]<"u"?(w||b>=m[S]&&b<m[S+_])&&(E=S,x=m[S+_]-m[S]):(w||b>=m[S])&&(E=S,x=m[m.length-1]-m[m.length-2])}let N=null,k=null;i.rewind&&(r.isBeginning?k=i.virtual&&i.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(N=0));const A=(b-m[E])/x,P=E<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(y>i.longSwipesMs){if(!i.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(A>=i.longSwipesRatio?r.slideTo(i.rewind&&r.isEnd?N:E+P):r.slideTo(E)),r.swipeDirection==="prev"&&(A>1-i.longSwipesRatio?r.slideTo(E+P):k!==null&&A<0&&Math.abs(A)>i.longSwipesRatio?r.slideTo(k):r.slideTo(E))}else{if(!i.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(n.target===r.navigation.nextEl||n.target===r.navigation.prevEl)?n.target===r.navigation.nextEl?r.slideTo(E+P):r.slideTo(E):(r.swipeDirection==="next"&&r.slideTo(N!==null?N:E+P),r.swipeDirection==="prev"&&r.slideTo(k!==null?k:E))}}function Z5(){const t=this,{params:r,el:a}=t;if(a&&a.offsetWidth===0)return;r.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:o}=t,i=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=i&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!i?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=n,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function Dq(t){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&t.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function zq(){const t=this,{wrapperEl:r,rtlTranslate:a,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-r.scrollLeft:t.translate=-r.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const o=t.maxTranslate()-t.minTranslate();o===0?s=0:s=(t.translate-t.minTranslate())/o,s!==t.progress&&t.updateProgress(a?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Fq(t){const r=this;Cp(r,t.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function Bq(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const hM=(t,r)=>{const a=ql(),{params:n,el:s,wrapperEl:o,device:i}=t,d=!!n.nested,u=r==="on"?"addEventListener":"removeEventListener",m=r;!s||typeof s=="string"||(a[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),s[u]("touchstart",t.onTouchStart,{passive:!1}),s[u]("pointerdown",t.onTouchStart,{passive:!1}),a[u]("touchmove",t.onTouchMove,{passive:!1,capture:d}),a[u]("pointermove",t.onTouchMove,{passive:!1,capture:d}),a[u]("touchend",t.onTouchEnd,{passive:!0}),a[u]("pointerup",t.onTouchEnd,{passive:!0}),a[u]("pointercancel",t.onTouchEnd,{passive:!0}),a[u]("touchcancel",t.onTouchEnd,{passive:!0}),a[u]("pointerout",t.onTouchEnd,{passive:!0}),a[u]("pointerleave",t.onTouchEnd,{passive:!0}),a[u]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[u]("click",t.onClick,!0),n.cssMode&&o[u]("scroll",t.onScroll),n.updateOnWindowResize?t[m](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Z5,!0):t[m]("observerUpdate",Z5,!0),s[u]("load",t.onLoad,{capture:!0}))};function qq(){const t=this,{params:r}=t;t.onTouchStart=$q.bind(t),t.onTouchMove=Lq.bind(t),t.onTouchEnd=Iq.bind(t),t.onDocumentTouchStart=Bq.bind(t),r.cssMode&&(t.onScroll=zq.bind(t)),t.onClick=Dq.bind(t),t.onLoad=Fq.bind(t),hM(t,"on")}function Uq(){hM(this,"off")}var Vq={attachEvents:qq,detachEvents:Uq};const e4=(t,r)=>t.grid&&r.grid&&r.grid.rows>1;function Hq(){const t=this,{realIndex:r,initialized:a,params:n,el:s}=t,o=n.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const i=ql(),d=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",u=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:i.querySelector(n.breakpointsBase),m=t.getBreakpoint(o,d,u);if(!m||t.currentBreakpoint===m)return;const f=(m in o?o[m]:void 0)||t.originalParams,y=e4(t,n),b=e4(t,f),w=t.params.grabCursor,E=f.grabCursor,x=n.enabled;y&&!b?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!y&&b&&(s.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),w&&!E?t.unsetGrabCursor():!w&&E&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof f[_]>"u")return;const T=n[_]&&n[_].enabled,O=f[_]&&f[_].enabled;T&&!O&&t[_].disable(),!T&&O&&t[_].enable()});const N=f.direction&&f.direction!==n.direction,k=n.loop&&(f.slidesPerView!==n.slidesPerView||N),A=n.loop;N&&a&&t.changeDirection(),Yn(t.params,f);const P=t.params.enabled,S=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!P?t.disable():!x&&P&&t.enable(),t.currentBreakpoint=m,t.emit("_beforeBreakpoint",f),a&&(k?(t.loopDestroy(),t.loopCreate(r),t.updateSlides()):!A&&S?(t.loopCreate(r),t.updateSlides()):A&&!S&&t.loopDestroy()),t.emit("breakpoint",f)}function Wq(t,r="window",a){if(!t||r==="container"&&!a)return;let n=!1;const s=Cn(),o=r==="window"?s.innerHeight:a.clientHeight,i=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const u=parseFloat(d.substr(1));return{value:o*u,point:d}}return{value:d,point:d}});i.sort((d,u)=>parseInt(d.value,10)-parseInt(u.value,10));for(let d=0;d<i.length;d+=1){const{point:u,value:m}=i[d];r==="window"?s.matchMedia(`(min-width: ${m}px)`).matches&&(n=u):m<=a.clientWidth&&(n=u)}return n||"max"}var Gq={setBreakpoint:Hq,getBreakpoint:Wq};function Kq(t,r){const a=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&a.push(r+s)}):typeof n=="string"&&a.push(r+n)}),a}function Yq(){const t=this,{classNames:r,params:a,rtl:n,el:s,device:o}=t,i=Kq(["initialized",a.direction,{"free-mode":t.params.freeMode&&a.freeMode.enabled},{autoheight:a.autoHeight},{rtl:n},{grid:a.grid&&a.grid.rows>1},{"grid-column":a.grid&&a.grid.rows>1&&a.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":a.cssMode},{centered:a.cssMode&&a.centeredSlides},{"watch-progress":a.watchSlidesProgress}],a.containerModifierClass);r.push(...i),s.classList.add(...r),t.emitContainerClasses()}function Xq(){const t=this,{el:r,classNames:a}=t;!r||typeof r=="string"||(r.classList.remove(...a),t.emitContainerClasses())}var Qq={addClasses:Yq,removeClasses:Xq};function Jq(){const t=this,{isLocked:r,params:a}=t,{slidesOffsetBefore:n}=a;if(n){const s=t.slides.length-1,o=t.slidesGrid[s]+t.slidesSizesGrid[s]+n*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;a.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),a.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),r&&r!==t.isLocked&&(t.isEnd=!1),r!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Zq={checkOverflow:Jq},Cw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function eU(t,r){return function(n={}){const s=Object.keys(n)[0],o=n[s];if(typeof o!="object"||o===null){Yn(r,n);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in o)){Yn(r,n);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Yn(r,n)}}const My={eventsEmitter:QB,update:lq,translate:pq,transition:bq,slide:Cq,loop:Tq,grabCursor:jq,events:Vq,breakpoints:Gq,checkOverflow:Zq,classes:Qq},jy={};let EN=class $o{constructor(...r){let a,n;r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[a,n]=r,n||(n={}),n=Yn({},n),a&&!n.el&&(n.el=a);const s=ql();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const u=[];return s.querySelectorAll(n.el).forEach(m=>{const p=Yn({},n,{el:m});u.push(new $o(p))}),u}const o=this;o.__swiper__=!0,o.support=mM(),o.device=fM({userAgent:n.userAgent}),o.browser=pM(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const i={};o.modules.forEach(u=>{u({params:n,swiper:o,extendParams:eU(n,i),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const d=Yn({},Cw,i);return o.params=Yn({},d,jy,n),o.originalParams=Yn({},o.params),o.passedParams=Yn({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:a,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:a,params:n}=this,s=mo(a,`.${n.slideClass}, swiper-slide`),o=Up(s[0]);return Up(r)-o}getSlideIndexByData(r){return this.getSlideIndex(this.slides.find(a=>a.getAttribute("data-swiper-slide-index")*1===r))}getSlideIndexWhenGrid(r){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?r=Math.floor(r/this.params.grid.rows):this.params.grid.fill==="row"&&(r=r%Math.ceil(this.slides.length/this.params.grid.rows))),r}recalcSlides(){const r=this,{slidesEl:a,params:n}=r;r.slides=mo(a,`.${n.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,a){const n=this;r=Math.min(Math.max(r,0),1);const s=n.minTranslate(),i=(n.maxTranslate()-s)*r+s;n.translateTo(i,typeof a>"u"?0:a),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=r.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",a.join(" "))}getSlideClasses(r){const a=this;return a.destroyed?"":r.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(a.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=[];r.slides.forEach(n=>{const s=r.getSlideClasses(n);a.push({slideEl:n,classNames:s}),r.emit("_slideClass",n,s)}),r.emit("_slideClasses",a)}slidesPerViewDynamic(r="current",a=!1){const n=this,{params:s,slides:o,slidesGrid:i,slidesSizesGrid:d,size:u,activeIndex:m}=n;let p=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=o[m]?Math.ceil(o[m].swiperSlideSize):0,y;for(let b=m+1;b<o.length;b+=1)o[b]&&!y&&(f+=Math.ceil(o[b].swiperSlideSize),p+=1,f>u&&(y=!0));for(let b=m-1;b>=0;b-=1)o[b]&&!y&&(f+=o[b].swiperSlideSize,p+=1,f>u&&(y=!0))}else if(r==="current")for(let f=m+1;f<o.length;f+=1)(a?i[f]+d[f]-i[m]<u:i[f]-i[m]<u)&&(p+=1);else for(let f=m-1;f>=0;f-=1)i[m]-i[f]<u&&(p+=1);return p}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:a,params:n}=r;n.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(i=>{i.complete&&Cp(r,i)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function s(){const i=r.rtlTranslate?r.translate*-1:r.translate,d=Math.min(Math.max(i,r.maxTranslate()),r.minTranslate());r.setTranslate(d),r.updateActiveIndex(),r.updateSlidesClasses()}let o;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&r.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&r.isEnd&&!n.centeredSlides){const i=r.virtual&&n.virtual.enabled?r.virtual.slides:r.slides;o=r.slideTo(i.length-1,0,!1,!0)}else o=r.slideTo(r.activeIndex,0,!1,!0);o||s()}n.watchOverflow&&a!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,a=!0){const n=this,s=n.params.direction;return r||(r=s==="horizontal"?"vertical":"horizontal"),r===s||r!=="horizontal"&&r!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${r}`),n.emitContainerClasses(),n.params.direction=r,n.slides.forEach(o=>{r==="vertical"?o.style.width="":o.style.height=""}),n.emit("changeDirection"),a&&n.update()),n}changeLanguageDirection(r){const a=this;a.rtl&&r==="rtl"||!a.rtl&&r==="ltr"||(a.rtl=r==="rtl",a.rtlTranslate=a.params.direction==="horizontal"&&a.rtl,a.rtl?(a.el.classList.add(`${a.params.containerModifierClass}rtl`),a.el.dir="rtl"):(a.el.classList.remove(`${a.params.containerModifierClass}rtl`),a.el.dir="ltr"),a.update())}mount(r){const a=this;if(a.mounted)return!0;let n=r||a.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=a,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===a.params.swiperElementNodeName.toUpperCase()&&(a.isElement=!0);const s=()=>`.${(a.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):mo(n,s())[0];return!i&&a.params.createElements&&(i=qp("div",a.params.wrapperClass),n.append(i),mo(n,`.${a.params.slideClass}`).forEach(d=>{i.append(d)})),Object.assign(a,{el:n,wrapperEl:i,slidesEl:a.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:i,hostEl:a.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Ni(n,"direction")==="rtl",rtlTranslate:a.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Ni(n,"direction")==="rtl"),wrongRTL:Ni(i,"display")==="-webkit-box"}),!0}init(r){const a=this;if(a.initialized||a.mount(r)===!1)return a;a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.enabled&&a.setGrabCursor(),a.params.loop&&a.virtual&&a.params.virtual.enabled?a.slideTo(a.params.initialSlide+a.virtual.slidesBefore,0,a.params.runCallbacksOnInit,!1,!0):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit,!1,!0),a.params.loop&&a.loopCreate(void 0,!0),a.attachEvents();const s=[...a.el.querySelectorAll('[loading="lazy"]')];return a.isElement&&s.push(...a.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Cp(a,o):o.addEventListener("load",i=>{Cp(a,i.target)})}),Sw(a),a.initialized=!0,Sw(a),a.emit("init"),a.emit("afterInit"),a}destroy(r=!0,a=!0){const n=this,{params:s,el:o,wrapperEl:i,slides:d}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),a&&(n.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),i&&i.removeAttribute("style"),d&&d.length&&d.forEach(u=>{u.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(u=>{n.off(u)}),r!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),DB(n)),n.destroyed=!0),null}static extendDefaults(r){Yn(jy,r)}static get extendedDefaults(){return jy}static get defaults(){return Cw}static installModule(r){$o.prototype.__modules__||($o.prototype.__modules__=[]);const a=$o.prototype.__modules__;typeof r=="function"&&a.indexOf(r)<0&&a.push(r)}static use(r){return Array.isArray(r)?(r.forEach(a=>$o.installModule(a)),$o):($o.installModule(r),$o)}};Object.keys(My).forEach(t=>{Object.keys(My[t]).forEach(r=>{EN.prototype[r]=My[t][r]})});EN.use([YB,XB]);const yM=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ol(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function jc(t,r){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(n=>a.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=r[n]:Ol(r[n])&&Ol(t[n])&&Object.keys(r[n]).length>0?r[n].__swiper__?t[n]=r[n]:jc(t[n],r[n]):t[n]=r[n]})}function bM(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function xM(t={}){return t.pagination&&typeof t.pagination.el>"u"}function vM(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function EM(t=""){const r=t.split(" ").map(n=>n.trim()).filter(n=>!!n),a=[];return r.forEach(n=>{a.indexOf(n)<0&&a.push(n)}),a.join(" ")}function tU(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function rU({swiper:t,slides:r,passedParams:a,changedParams:n,nextEl:s,prevEl:o,scrollbarEl:i,paginationEl:d}){const u=n.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:m,pagination:p,navigation:f,scrollbar:y,virtual:b,thumbs:w}=t;let E,x,N,k,A,P,S,_;n.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(E=!0),n.includes("controller")&&a.controller&&a.controller.control&&m.controller&&!m.controller.control&&(x=!0),n.includes("pagination")&&a.pagination&&(a.pagination.el||d)&&(m.pagination||m.pagination===!1)&&p&&!p.el&&(N=!0),n.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||i)&&(m.scrollbar||m.scrollbar===!1)&&y&&!y.el&&(k=!0),n.includes("navigation")&&a.navigation&&(a.navigation.prevEl||o)&&(a.navigation.nextEl||s)&&(m.navigation||m.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(A=!0);const T=O=>{t[O]&&(t[O].destroy(),O==="navigation"?(t.isElement&&(t[O].prevEl.remove(),t[O].nextEl.remove()),m[O].prevEl=void 0,m[O].nextEl=void 0,t[O].prevEl=void 0,t[O].nextEl=void 0):(t.isElement&&t[O].el.remove(),m[O].el=void 0,t[O].el=void 0))};n.includes("loop")&&t.isElement&&(m.loop&&!a.loop?P=!0:!m.loop&&a.loop?S=!0:_=!0),u.forEach(O=>{if(Ol(m[O])&&Ol(a[O]))Object.assign(m[O],a[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in a[O]&&!a[O].enabled&&T(O);else{const R=a[O];(R===!0||R===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?R===!1&&T(O):m[O]=a[O]}}),u.includes("controller")&&!x&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),n.includes("children")&&r&&b&&m.virtual.enabled?(b.slides=r,b.update(!0)):n.includes("virtual")&&b&&m.virtual.enabled&&(r&&(b.slides=r),b.update(!0)),n.includes("children")&&r&&m.loop&&(_=!0),E&&w.init()&&w.update(!0),x&&(t.controller.control=m.controller.control),N&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(m.pagination.el=d),p.init(),p.render(),p.update()),k&&(t.isElement&&(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-scrollbar"),i.part.add("scrollbar"),t.el.appendChild(i)),i&&(m.scrollbar.el=i),y.init(),y.updateSize(),y.setTranslate()),A&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Vp(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),Vp(o,t.navigation.arrowSvg),o.part.add("button-prev"),t.el.appendChild(o))),s&&(m.navigation.nextEl=s),o&&(m.navigation.prevEl=o),f.init(),f.update()),n.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),n.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),n.includes("direction")&&t.changeDirection(a.direction,!1),(P||_)&&t.loopDestroy(),(S||_)&&t.loopCreate(),t.update()}function aU(t={},r=!0){const a={on:{}},n={},s={};jc(a,Cw),a._emitClasses=!0,a.init=!1;const o={},i=yM.map(u=>u.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(u=>{typeof t[u]>"u"||(i.indexOf(u)>=0?Ol(t[u])?(a[u]={},s[u]={},jc(a[u],t[u]),jc(s[u],t[u])):(a[u]=t[u],s[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?r?n[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:a.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:o[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{a[u]===!0&&(a[u]={}),a[u]===!1&&delete a[u]}),{params:a,passedParams:s,rest:o,events:n}}function nU({el:t,nextEl:r,prevEl:a,paginationEl:n,scrollbarEl:s,swiper:o},i){bM(i)&&r&&a&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=a,o.originalParams.navigation.prevEl=a),xM(i)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),vM(i)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function sU(t,r,a,n,s){const o=[];if(!r)return o;const i=u=>{o.indexOf(u)<0&&o.push(u)};if(a&&n){const u=n.map(s),m=a.map(s);u.join("")!==m.join("")&&i("children"),n.length!==a.length&&i("children")}return yM.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in r)if(Ol(t[u])&&Ol(r[u])){const m=Object.keys(t[u]),p=Object.keys(r[u]);m.length!==p.length?i(u):(m.forEach(f=>{t[u][f]!==r[u][f]&&i(u)}),p.forEach(f=>{t[u][f]!==r[u][f]&&i(u)}))}else t[u]!==r[u]&&i(u)}),o}const oU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Hp.apply(this,arguments)}function wM(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function NM(t){const r=[];return e.Children.toArray(t).forEach(a=>{wM(a)?r.push(a):a.props&&a.props.children&&NM(a.props.children).forEach(n=>r.push(n))}),r}function iU(t){const r=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(t).forEach(n=>{if(wM(n))r.push(n);else if(n.props&&n.props.slot&&a[n.props.slot])a[n.props.slot].push(n);else if(n.props&&n.props.children){const s=NM(n.props.children);s.length>0?s.forEach(o=>r.push(o)):a["container-end"].push(n)}else a["container-end"].push(n)}),{slides:r,slots:a}}function lU(t,r,a){if(!a)return null;const n=p=>{let f=p;return p<0?f=r.length+p:f>=r.length&&(f=f-r.length),f},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},{from:o,to:i}=a,d=t.params.loop?-r.length:0,u=t.params.loop?r.length*2:r.length,m=[];for(let p=d;p<u;p+=1)p>=o&&p<=i&&m.push(r[n(p)]);return m.map((p,f)=>e.cloneElement(p,{swiper:t,style:s,key:p.props.virtualIndex||p.key||`slide-${f}`}))}function Mu(t,r){return typeof window>"u"?g.useEffect(t,r):g.useLayoutEffect(t,r)}const t4=g.createContext(null),cU=g.createContext(null),kM=g.forwardRef(({className:t,tag:r="div",wrapperTag:a="div",children:n,onSwiper:s,...o}={},i)=>{let d=!1;const[u,m]=g.useState("swiper"),[p,f]=g.useState(null),[y,b]=g.useState(!1),w=g.useRef(!1),E=g.useRef(null),x=g.useRef(null),N=g.useRef(null),k=g.useRef(null),A=g.useRef(null),P=g.useRef(null),S=g.useRef(null),_=g.useRef(null),{params:T,passedParams:O,rest:R,events:D}=aU(o),{slides:j,slots:$}=iU(n),K=()=>{b(!y)};Object.assign(T.on,{_containerClasses(H,q){m(q)}});const W=()=>{Object.assign(T.on,D),d=!0;const H={...T};if(delete H.wrapperClass,x.current=new EN(H),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=j;const q={cache:!1,slides:j,renderExternal:f,renderExternalUpdate:!1};jc(x.current.params.virtual,q),jc(x.current.originalParams.virtual,q)}};E.current||W(),x.current&&x.current.on("_beforeBreakpoint",K);const z=()=>{d||!D||!x.current||Object.keys(D).forEach(H=>{x.current.on(H,D[H])})},Q=()=>{!D||!x.current||Object.keys(D).forEach(H=>{x.current.off(H,D[H])})};g.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",K)}),g.useEffect(()=>{!w.current&&x.current&&(x.current.emitSlidesClasses(),w.current=!0)}),Mu(()=>{if(i&&(i.current=E.current),!!E.current)return x.current.destroyed&&W(),nU({el:E.current,nextEl:A.current,prevEl:P.current,paginationEl:S.current,scrollbarEl:_.current,swiper:x.current},T),s&&!x.current.destroyed&&s(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Mu(()=>{z();const H=sU(O,N.current,j,k.current,q=>q.key);return N.current=O,k.current=j,H.length&&x.current&&!x.current.destroyed&&rU({swiper:x.current,slides:j,passedParams:O,changedParams:H,nextEl:A.current,prevEl:P.current,scrollbarEl:_.current,paginationEl:S.current}),()=>{Q()}}),Mu(()=>{oU(x.current)},[p]);function ee(){return T.virtual?lU(x.current,j,p):j.map((H,q)=>e.cloneElement(H,{swiper:x.current,swiperSlideIndex:q}))}return e.createElement(r,Hp({ref:E,className:EM(`${u}${t?` ${t}`:""}`)},R),e.createElement(cU.Provider,{value:x.current},$["container-start"],e.createElement(a,{className:tU(T.wrapperClass)},$["wrapper-start"],ee(),$["wrapper-end"]),bM(T)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:P,className:"swiper-button-prev"}),e.createElement("div",{ref:A,className:"swiper-button-next"})),vM(T)&&e.createElement("div",{ref:_,className:"swiper-scrollbar"}),xM(T)&&e.createElement("div",{ref:S,className:"swiper-pagination"}),$["container-end"]))});kM.displayName="Swiper";const SM=g.forwardRef(({tag:t="div",children:r,className:a="",swiper:n,zoom:s,lazy:o,virtualIndex:i,swiperSlideIndex:d,...u}={},m)=>{const p=g.useRef(null),[f,y]=g.useState("swiper-slide"),[b,w]=g.useState(!1);function E(A,P,S){P===p.current&&y(S)}Mu(()=>{if(typeof d<"u"&&(p.current.swiperSlideIndex=d),m&&(m.current=p.current),!(!p.current||!n)){if(n.destroyed){f!=="swiper-slide"&&y("swiper-slide");return}return n.on("_slideClass",E),()=>{n&&n.off("_slideClass",E)}}}),Mu(()=>{n&&p.current&&!n.destroyed&&y(n.getSlideClasses(p.current))},[n]);const x={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},N=()=>typeof r=="function"?r(x):r,k=()=>{w(!0)};return e.createElement(t,Hp({ref:p,className:EM(`${f}${a?` ${a}`:""}`),"data-swiper-slide-index":i,onLoad:k},u),s&&e.createElement(t4.Provider,{value:x},e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},N(),o&&!b&&e.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&e.createElement(t4.Provider,{value:x},N(),o&&!b&&e.createElement("div",{className:"swiper-lazy-preloader"})))});SM.displayName="SwiperSlide";function dU(t,r,a,n){return t.params.createElements&&Object.keys(n).forEach(s=>{if(!a[s]&&a.auto===!0){let o=mo(t.el,`.${n[s]}`)[0];o||(o=qp("div",n[s]),o.className=n[s],t.el.append(o)),a[s]=o,r[s]=o}}),a}function tu(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function uU({swiper:t,extendParams:r,on:a,emit:n}){const s="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,i=0;function d(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function u(N,k){const{bulletActiveClass:A}=t.params.pagination;N&&(N=N[`${k==="prev"?"previous":"next"}ElementSibling`],N&&(N.classList.add(`${A}-${k}`),N=N[`${k==="prev"?"previous":"next"}ElementSibling`],N&&N.classList.add(`${A}-${k}-${k}`)))}function m(N,k,A){if(N=N%A,k=k%A,k===N+1)return"next";if(k===N-1)return"previous"}function p(N){const k=N.target.closest(tu(t.params.pagination.bulletClass));if(!k)return;N.preventDefault();const A=Up(k)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===A)return;const P=m(t.realIndex,A,t.slides.length);P==="next"?t.slideNext():P==="previous"?t.slidePrev():t.slideToLoop(A)}else t.slideTo(A)}function f(){const N=t.rtl,k=t.params.pagination;if(d())return;let A=t.pagination.el;A=To(A);let P,S;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,T=t.params.loop?Math.ceil(_/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(S=t.previousRealIndex||0,P=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(P=t.snapIndex,S=t.previousSnapIndex):(S=t.previousIndex||0,P=t.activeIndex||0),k.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const O=t.pagination.bullets;let R,D,j;if(k.dynamicBullets&&(o=kw(O[0],t.isHorizontal()?"width":"height"),A.forEach($=>{$.style[t.isHorizontal()?"width":"height"]=`${o*(k.dynamicMainBullets+4)}px`}),k.dynamicMainBullets>1&&S!==void 0&&(i+=P-(S||0),i>k.dynamicMainBullets-1?i=k.dynamicMainBullets-1:i<0&&(i=0)),R=Math.max(P-i,0),D=R+(Math.min(O.length,k.dynamicMainBullets)-1),j=(D+R)/2),O.forEach($=>{const K=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${k.bulletActiveClass}${W}`)].map(W=>typeof W=="string"&&W.includes(" ")?W.split(" "):W).flat();$.classList.remove(...K)}),A.length>1)O.forEach($=>{const K=Up($);K===P?$.classList.add(...k.bulletActiveClass.split(" ")):t.isElement&&$.setAttribute("part","bullet"),k.dynamicBullets&&(K>=R&&K<=D&&$.classList.add(...`${k.bulletActiveClass}-main`.split(" ")),K===R&&u($,"prev"),K===D&&u($,"next"))});else{const $=O[P];if($&&$.classList.add(...k.bulletActiveClass.split(" ")),t.isElement&&O.forEach((K,W)=>{K.setAttribute("part",W===P?"bullet-active":"bullet")}),k.dynamicBullets){const K=O[R],W=O[D];for(let z=R;z<=D;z+=1)O[z]&&O[z].classList.add(...`${k.bulletActiveClass}-main`.split(" "));u(K,"prev"),u(W,"next")}}if(k.dynamicBullets){const $=Math.min(O.length,k.dynamicMainBullets+4),K=(o*$-o)/2-j*o,W=N?"right":"left";O.forEach(z=>{z.style[t.isHorizontal()?W:"top"]=`${K}px`})}}A.forEach((O,R)=>{if(k.type==="fraction"&&(O.querySelectorAll(tu(k.currentClass)).forEach(D=>{D.textContent=k.formatFractionCurrent(P+1)}),O.querySelectorAll(tu(k.totalClass)).forEach(D=>{D.textContent=k.formatFractionTotal(T)})),k.type==="progressbar"){let D;k.progressbarOpposite?D=t.isHorizontal()?"vertical":"horizontal":D=t.isHorizontal()?"horizontal":"vertical";const j=(P+1)/T;let $=1,K=1;D==="horizontal"?$=j:K=j,O.querySelectorAll(tu(k.progressbarFillClass)).forEach(W=>{W.style.transform=`translate3d(0,0,0) scaleX(${$}) scaleY(${K})`,W.style.transitionDuration=`${t.params.speed}ms`})}k.type==="custom"&&k.renderCustom?(Vp(O,k.renderCustom(t,P+1,T)),R===0&&n("paginationRender",O)):(R===0&&n("paginationRender",O),n("paginationUpdate",O)),t.params.watchOverflow&&t.enabled&&O.classList[t.isLocked?"add":"remove"](k.lockClass)})}function y(){const N=t.params.pagination;if(d())return;const k=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let A=t.pagination.el;A=To(A);let P="";if(N.type==="bullets"){let S=t.params.loop?Math.ceil(k/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&S>k&&(S=k);for(let _=0;_<S;_+=1)N.renderBullet?P+=N.renderBullet.call(t,_,N.bulletClass):P+=`<${N.bulletElement} ${t.isElement?'part="bullet"':""} class="${N.bulletClass}"></${N.bulletElement}>`}N.type==="fraction"&&(N.renderFraction?P=N.renderFraction.call(t,N.currentClass,N.totalClass):P=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`),N.type==="progressbar"&&(N.renderProgressbar?P=N.renderProgressbar.call(t,N.progressbarFillClass):P=`<span class="${N.progressbarFillClass}"></span>`),t.pagination.bullets=[],A.forEach(S=>{N.type!=="custom"&&Vp(S,P||""),N.type==="bullets"&&t.pagination.bullets.push(...S.querySelectorAll(tu(N.bulletClass)))}),N.type!=="custom"&&n("paginationRender",A[0])}function b(){t.params.pagination=dU(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const N=t.params.pagination;if(!N.el)return;let k;typeof N.el=="string"&&t.isElement&&(k=t.el.querySelector(N.el)),!k&&typeof N.el=="string"&&(k=[...document.querySelectorAll(N.el)]),k||(k=N.el),!(!k||k.length===0)&&(t.params.uniqueNavElements&&typeof N.el=="string"&&Array.isArray(k)&&k.length>1&&(k=[...t.el.querySelectorAll(N.el)],k.length>1&&(k=k.find(A=>uM(A,".swiper")[0]===t.el))),Array.isArray(k)&&k.length===1&&(k=k[0]),Object.assign(t.pagination,{el:k}),k=To(k),k.forEach(A=>{N.type==="bullets"&&N.clickable&&A.classList.add(...(N.clickableClass||"").split(" ")),A.classList.add(N.modifierClass+N.type),A.classList.add(t.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(A.classList.add(`${N.modifierClass}${N.type}-dynamic`),i=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&A.classList.add(N.progressbarOppositeClass),N.clickable&&A.addEventListener("click",p),t.enabled||A.classList.add(N.lockClass)}))}function w(){const N=t.params.pagination;if(d())return;let k=t.pagination.el;k&&(k=To(k),k.forEach(A=>{A.classList.remove(N.hiddenClass),A.classList.remove(N.modifierClass+N.type),A.classList.remove(t.isHorizontal()?N.horizontalClass:N.verticalClass),N.clickable&&(A.classList.remove(...(N.clickableClass||"").split(" ")),A.removeEventListener("click",p))})),t.pagination.bullets&&t.pagination.bullets.forEach(A=>A.classList.remove(...N.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const N=t.params.pagination;let{el:k}=t.pagination;k=To(k),k.forEach(A=>{A.classList.remove(N.horizontalClass,N.verticalClass),A.classList.add(t.isHorizontal()?N.horizontalClass:N.verticalClass)})}),a("init",()=>{t.params.pagination.enabled===!1?x():(b(),y(),f())}),a("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),a("snapIndexChange",()=>{f()}),a("snapGridLengthChange",()=>{y(),f()}),a("destroy",()=>{w()}),a("enable disable",()=>{let{el:N}=t.pagination;N&&(N=To(N),N.forEach(k=>k.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{f()}),a("click",(N,k)=>{const A=k.target,P=To(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&P&&P.length>0&&!A.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&A===t.navigation.nextEl||t.navigation.prevEl&&A===t.navigation.prevEl))return;const S=P[0].classList.contains(t.params.pagination.hiddenClass);n(S===!0?"paginationShow":"paginationHide"),P.forEach(_=>_.classList.toggle(t.params.pagination.hiddenClass))}});const E=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:N}=t.pagination;N&&(N=To(N),N.forEach(k=>k.classList.remove(t.params.pagination.paginationDisabledClass))),b(),y(),f()},x=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:N}=t.pagination;N&&(N=To(N),N.forEach(k=>k.classList.add(t.params.pagination.paginationDisabledClass))),w()};Object.assign(t.pagination,{enable:E,disable:x,render:y,update:f,init:b,destroy:w})}function mU(){const[t,r]=g.useState([]),[a,n]=g.useState([]),[s,o]=g.useState(""),[i,d]=g.useState("new"),[u,m]=g.useState(1),[p,f]=g.useState(!1),[y,b]=g.useState(1),[w,E]=g.useState(!1),[x,N]=hd(),k=Number(x.get("page")),A=g.useRef(Number.isInteger(k)&&k>0?k:1),[P,S]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[_,T]=g.useState({favorites:[],topRated:[],topDeals:[],topDiscounts:[],newProducts:[],usedProducts:[],cityHighlights:{}}),[O,R]=g.useState(!1),[D,j]=g.useState([]),[$,K]=g.useState(!1),[W,z]=g.useState([]),[Q,ee]=g.useState(!1),[H,q]=g.useState(0),[B,G]=g.useState([]),[Y,V]=g.useState(!1),[J,ue]=g.useState(""),[he,Oe]=g.useState(""),[te,ie]=g.useState(""),[de,Ce]=g.useState(""),[ne,re]=g.useState(""),[Ie,fe]=g.useState(""),[Le,at]=g.useState(()=>new Date),[nt,it]=g.useState(""),[xe,He]=g.useState(!1),[Je,xt]=g.useState("favorites"),ht=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],mt=ts(),pt=F=>Number(F||0).toLocaleString("fr-FR"),bt="/promo-default.svg",Pt=g.useCallback(F=>F?.slug&&P?`/product-preview/${F.slug}`:ar(F),[P]),Ge=g.useCallback(F=>{if(!F)return null;const we=new Date(F);return Number.isNaN(we.getTime())?null:we},[]),ft=g.useMemo(()=>{if(!he)return!1;const F=Ge(ne),we=Ge(Ie);return!(F&&Le<F||we&&Le>we)},[Ge,he,Ie,ne,Le]),We=P&&!xe&&w&&u===1,Ye=g.useMemo(()=>{const F={page:u,limit:12,sort:i};return s&&(F.category=s),F},[s,u,i]),be=async()=>{E(!0);try{const{data:F}=await se.get("/products/public",{params:Ye}),we=Array.isArray(F)?F:F.items||[],ye=Array.isArray(F)?1:F.pagination?.pages||1,ke=Array.isArray(F)?we.length:Number(F?.pagination?.total)||we.length;r(L=>P&&u>1?[...L,...we]:we),b(ye),q(ke)}catch(F){console.error("Erreur chargement produits:",F)}finally{E(!1)}},ut=g.useCallback(async()=>{try{console.debug("loading certified products",{params:{certified:!0,sort:"recent",limit:8,page:1}});const{data:F}=await se.get("/products/public",{params:{certified:!0,sort:"new",limit:8,page:1}}),we=Array.isArray(F)?F:F?.items||[];n(we.filter(ye=>ye?.certified))}catch(F){console.error("Erreur chargement produits certifis:",F?.response?.status,F?.response?.data,F)}},[]);g.useEffect(()=>{let F=!0;return(async()=>{try{const{data:ye}=await se.get("/settings/hero-banner");if(!F)return;ue(ye?.heroBanner||"")}catch{if(!F)return;ue("")}})(),()=>{F=!1}},[]),g.useEffect(()=>{let F=!0;return(async()=>{try{const{data:ye}=await se.get("/settings/app-logo");if(!F)return;it(ye?.appLogoMobile||ye?.appLogoDesktop||"")}catch{if(!F)return;it("")}})(),()=>{F=!1}},[]),g.useEffect(()=>{let F=!0;return(async()=>{try{const{data:ye}=await se.get("/settings/promo-banner");if(!F)return;Oe(ye?.promoBanner||""),ie(ye?.promoBannerMobile||""),Ce(ye?.promoBannerLink||""),re(ye?.promoBannerStartAt||""),fe(ye?.promoBannerEndAt||"")}catch{if(!F)return;Oe(""),ie(""),Ce(""),re(""),fe("")}})(),()=>{F=!1}},[]),g.useEffect(()=>{!w&&u===1&&He(!0)},[w,u]),g.useEffect(()=>{const F=setInterval(()=>{at(new Date)},6e4);return()=>clearInterval(F)},[]);const et=async()=>{R(!0);try{const{data:F}=await se.get("/products/public/highlights");T({favorites:Array.isArray(F?.favorites)?F.favorites:[],topRated:Array.isArray(F?.topRated)?F.topRated:[],topDeals:Array.isArray(F?.topDeals)?F.topDeals:[],topDiscounts:Array.isArray(F?.topDiscounts)?F.topDiscounts:[],newProducts:Array.isArray(F?.newProducts)?F.newProducts:[],usedProducts:Array.isArray(F?.usedProducts)?F.usedProducts:[],cityHighlights:F?.cityHighlights&&typeof F.cityHighlights=="object"?F.cityHighlights:{}})}catch(F){console.error("Erreur chargement highlights:",F)}finally{R(!1)}},Z=async()=>{V(!0);try{const{data:F}=await se.get("/shops"),we=Array.isArray(F)?F.filter(ye=>ye.shopVerified):[];G(we.slice(0,6))}catch(F){console.error("Erreur chargement boutiques vrifies:",F),G([])}finally{V(!1)}},Ee=async()=>{K(!0);try{const{data:F}=await se.get("/products/public",{params:{sort:"discount",limit:8,page:1}}),ke=[...(Array.isArray(F)?F:F.items||[]).filter(L=>L.discount>0&&L.priceBeforeDiscount&&L.price<L.priceBeforeDiscount)].sort(()=>Math.random()-.5);j(ke.slice(0,4))}catch(F){console.error("Erreur chargement produits en promotion:",F)}finally{K(!1)}};g.useEffect(()=>{A.current=1,m(1)},[i,s]),g.useEffect(()=>{be()},[u,i,s,P]),g.useEffect(()=>{u===A.current?N(F=>{const we=new URLSearchParams(F);return u===1?we.delete("page"):we.set("page",String(u)),we},{replace:!0}):N(F=>{const we=new URLSearchParams(F);return u===1?we.delete("page"):we.set("page",String(u)),we},{replace:!1})},[u,N]),g.useEffect(()=>{A.current=Number.isInteger(k)&&k>0?k:1,m(A.current)},[k]),g.useEffect(()=>{const F=()=>{typeof window>"u"||S(window.innerWidth<=767)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),g.useEffect(()=>{if(!P||w||u>=y)return;const F=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&m(ye=>Math.min(ye+1,y))};return window.addEventListener("scroll",F,{passive:!0}),()=>window.removeEventListener("scroll",F)},[P,w,u,y]);const le=async()=>{ee(!0);try{const{data:F}=await se.get("/products/public/top-sales",{params:{limit:6,page:1}}),we=Array.isArray(F?.items)?F.items:[];z(we)}catch(F){console.error("Erreur chargement produits les plus vendus:",F),z([])}finally{ee(!1)}};g.useEffect(()=>{et(),Ee(),Z(),ut(),le()},[]);const Ne=_.cityHighlights||{},tt=()=>P||y<=1?null:e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8"},e.createElement("button",{onClick:()=>m(F=>Math.max(1,F-1)),disabled:u<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),Array.from({length:Math.min(5,y)},(F,we)=>{const ye=we+1;return e.createElement("button",{key:ye,onClick:()=>m(ye),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${u===ye?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},ye)}),y>5&&e.createElement("span",{className:"px-2 text-gray-500"},"..."),e.createElement("button",{onClick:()=>m(F=>Math.min(y,F+1)),disabled:u>=y,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},"")),lt=()=>{const F=[..._.topDeals.slice(0,4),...D.filter(ye=>!_.topDeals.some(ke=>ke._id===ye._id)).slice(0,4)].slice(0,8),we={WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"};return e.createElement("main",{className:"max-w-7xl mx-auto px-3 pt-2 pb-4 space-y-3"},e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1 hide-scrollbar",style:we},e.createElement(pe,{to:"/products",...mt,className:"flex items-center gap-1.5 px-3.5 py-2 rounded-full bg-indigo-600 text-white text-xs font-bold whitespace-nowrap shadow-sm active:scale-95 transition-transform"},e.createElement(Np,{className:"w-3.5 h-3.5"}),"Tout"),Es.map(ye=>{const ke=ye.icon;return e.createElement(pe,{key:ye.id,to:`/categories/${ye.options?.[0]?.value||""}`,className:"flex items-center gap-1.5 px-3.5 py-2 rounded-full bg-white border border-gray-200 text-xs font-semibold text-gray-700 whitespace-nowrap shadow-sm active:scale-95 transition-transform"},ke&&e.createElement(ke,{className:"w-3.5 h-3.5 text-indigo-500 flex-shrink-0"}),e.createElement("span",null,ye.label.split(" & ")[0]))})),he&&(()=>{const ke=ft?te||he:bt,L=ft?de:"/products",me=e.createElement("img",{src:ke,alt:"Promo",className:"h-full w-full object-cover",loading:"eager"}),Se="block w-full overflow-hidden rounded-xl shadow-sm aspect-[2/1]";return L?.startsWith("/")?e.createElement(pe,{to:L,...mt,className:Se},me):L?e.createElement("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:Se},me):e.createElement("div",{className:Se},me)})(),!O&&F.length>0&&e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-6 h-6 bg-red-500 rounded-lg flex items-center justify-center"},e.createElement(Nn,{className:"w-3.5 h-3.5 text-white"})),e.createElement("h2",{className:"text-sm font-bold text-gray-900"},"Flash Deals")),e.createElement(pe,{to:"/top-deals",...mt,className:"text-xs font-semibold text-indigo-600 flex items-center"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),e.createElement("div",{className:"flex gap-2.5 overflow-x-auto pb-2 hide-scrollbar",style:we},F.map((ye,ke)=>e.createElement(pe,{key:`flash-${ye._id}-${ke}`,to:Pt(ye),...mt,className:"flex-shrink-0 w-[130px] bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden active:scale-[0.97] transition-transform"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:ye.images?.[0]||"/api/placeholder/200/200",alt:ye.title,className:"w-full h-full object-cover",loading:"lazy"}),ye.discount>0&&e.createElement("span",{className:"absolute top-1.5 left-1.5 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md shadow"},"-",ye.discount,"%")),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-xs font-bold text-gray-900 truncate"},Number(ye.price||0).toLocaleString()," F"),ye.priceBeforeDiscount>ye.price&&e.createElement("p",{className:"text-[10px] text-gray-400 line-through"},Number(ye.priceBeforeDiscount).toLocaleString()," F")))))),!Q&&W.length>0&&e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-6 h-6 bg-orange-500 rounded-lg flex items-center justify-center"},e.createElement(Xt,{className:"w-3.5 h-3.5 text-white"})),e.createElement("h2",{className:"text-sm font-bold text-gray-900"},"Meilleures ventes")),e.createElement(pe,{to:"/top-sales",...mt,className:"text-xs font-semibold text-indigo-600 flex items-center"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),e.createElement("div",{className:"flex gap-2.5 overflow-x-auto pb-2 hide-scrollbar",style:we},W.slice(0,6).map((ye,ke)=>e.createElement(pe,{key:`bestseller-${ye._id}-${ke}`,to:Pt(ye),...mt,className:"flex-shrink-0 w-[130px] bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden active:scale-[0.97] transition-transform"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:ye.images?.[0]||"/api/placeholder/200/200",alt:ye.title,className:"w-full h-full object-cover",loading:"lazy"}),ke<3&&e.createElement("span",{className:`absolute top-1.5 left-1.5 w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow ${ke===0?"bg-yellow-500":ke===1?"bg-gray-400":"bg-amber-600"}`},ke+1)),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-[11px] text-gray-700 font-medium truncate"},ye.title),e.createElement("p",{className:"text-xs font-bold text-gray-900"},Number(ye.price||0).toLocaleString()," F")))))),!Y&&B.length>0&&e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-6 h-6 bg-emerald-500 rounded-lg flex items-center justify-center"},e.createElement(_r,{className:"w-3.5 h-3.5 text-white"})),e.createElement("h2",{className:"text-sm font-bold text-gray-900"},"Boutiques vrifies")),e.createElement(pe,{to:"/shops/verified",...mt,className:"text-xs font-semibold text-indigo-600 flex items-center"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 hide-scrollbar",style:we},B.map(ye=>e.createElement(pe,{key:ye._id,to:la(ye),className:"flex-shrink-0 flex items-center gap-2.5 px-3 py-2.5 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-[0.97] transition-transform"},e.createElement("img",{src:ye.shopLogo||"/api/placeholder/40/40",alt:ye.shopName,className:"w-9 h-9 rounded-lg object-cover border border-gray-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"text-xs font-semibold text-gray-900 truncate max-w-[100px]"},ye.shopName),e.createElement("p",{className:"text-[10px] text-emerald-600 font-medium"},ye.productCount||0," annonces")))))),(()=>{const ye=ht.find(L=>(Ne[L]||[]).length>0),ke=ye?(Ne[ye]||[]).slice(0,8):[];return!ye||!ke.length?null:e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center"},e.createElement(yr,{className:"w-3.5 h-3.5 text-white"})),e.createElement("h2",{className:"text-sm font-bold text-gray-900"},ye)),e.createElement(pe,{to:`/cities?city=${encodeURIComponent(ye)}`,...mt,className:"text-xs font-semibold text-indigo-600 flex items-center"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),e.createElement("div",{className:"flex gap-2.5 overflow-x-auto pb-2 hide-scrollbar",style:we},ke.map((L,me)=>e.createElement(pe,{key:`city-m-${L._id}-${me}`,to:Pt(L),...mt,className:"flex-shrink-0 w-[130px] bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden active:scale-[0.97] transition-transform"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:L.images?.[0]||"/api/placeholder/200/200",alt:L.title,className:"w-full h-full object-cover",loading:"lazy"}),e.createElement("span",{className:"absolute top-1.5 right-1.5 px-1.5 py-0.5 text-[9px] font-semibold rounded-md bg-white/90 text-gray-600"},L.condition==="new"?"Neuf":"Occasion")),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-xs font-bold text-gray-900 truncate"},Number(L.price||0).toLocaleString()," F"),e.createElement("p",{className:"text-[10px] text-gray-500 truncate"},L.title))))))})(),e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1 hide-scrollbar",style:we},[{value:"new",label:"Nouveauts"},{value:"price_asc",label:"Prix "},{value:"price_desc",label:"Prix "},{value:"discount",label:"Promos"}].map(ye=>e.createElement("button",{key:ye.value,type:"button",onClick:()=>{d(ye.value),m(1)},className:`px-3 py-1.5 rounded-full text-xs font-semibold whitespace-nowrap transition-all active:scale-95 ${i===ye.value?"bg-indigo-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200"}`},ye.label))),e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h2",{className:"text-base font-bold text-gray-900"},"Pour vous"),e.createElement("p",{className:"text-xs text-gray-500"},pt(H)," produits")),w&&u===1?e.createElement("div",{className:"grid grid-cols-2 gap-2"},Array.from({length:6}).map((ye,ke)=>e.createElement("div",{key:ke,className:"animate-pulse bg-gray-200 rounded-xl h-52"}))):t.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 gap-2"},t.map((ye,ke)=>e.createElement("div",{key:`product-${ye._id}-${ke}`,className:"w-full h-full"},e.createElement(Da,{p:ye,productLink:Pt(ye)})))),w&&u>1&&e.createElement("div",{className:"flex justify-center py-4"},e.createElement("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}))):e.createElement("div",{className:"text-center py-8"},e.createElement(ir,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.createElement("p",{className:"text-sm text-gray-500 mb-3"},"Aucun produit trouv"),e.createElement("button",{onClick:()=>{o(""),d("new"),m(1)},className:"px-4 py-2 bg-indigo-600 text-white text-xs font-semibold rounded-full active:scale-95"},"Rinitialiser"))),e.createElement("section",{className:"pb-2"},e.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-2.5"},"Dcouvrir plus"),e.createElement("div",{className:"grid grid-cols-3 gap-2"},e.createElement(pe,{to:"/top-favorites",className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center"},e.createElement(ur,{className:"w-4 h-4 text-pink-600"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Top Favoris")),e.createElement(pe,{to:"/top-ranking",className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center"},e.createElement(rr,{className:"w-4 h-4 text-amber-600",fill:"currentColor"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Top Nots")),e.createElement(pe,{to:"/top-new",className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center"},e.createElement(ma,{className:"w-4 h-4 text-sky-600"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Neufs")),e.createElement(pe,{to:"/top-used",className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center"},e.createElement(Bc,{className:"w-4 h-4 text-slate-600"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Occasion")),e.createElement(pe,{to:"/certified-products",className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center"},e.createElement(_r,{className:"w-4 h-4 text-emerald-600"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Certifis")),e.createElement(pe,{to:"/cities",...mt,className:"flex flex-col items-center gap-1.5 p-3 bg-white rounded-xl border border-gray-100 shadow-sm active:scale-95 transition-transform"},e.createElement("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},e.createElement(yr,{className:"w-4 h-4 text-blue-600"})),e.createElement("span",{className:"text-[11px] font-semibold text-gray-700 text-center"},"Villes")))))},gt=()=>{const F=[..._.topDeals.slice(0,4),...D.filter(ke=>!_.topDeals.some(L=>L._id===ke._id)).slice(0,4)].slice(0,4),we={favorites:{items:_.favorites,icon:ur,label:"Top Favoris",link:"/top-favorites",iconColor:"text-pink-600",bgColor:"bg-pink-600"},topRated:{items:_.topRated,icon:rr,label:"Top Nots",link:"/top-ranking",iconColor:"text-amber-600",bgColor:"bg-amber-600"},newProducts:{items:_.newProducts,icon:ma,label:"Neufs",link:"/top-new",iconColor:"text-sky-600",bgColor:"bg-sky-600"},usedProducts:{items:_.usedProducts,icon:Bc,label:"Occasion",link:"/top-used",iconColor:"text-slate-600",bgColor:"bg-slate-600"}},ye=we[Je]||we.favorites;return e.createElement("main",{className:"max-w-[1400px] 2xl:max-w-[1600px] mx-auto px-6 lg:px-8 py-5 space-y-5"},e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-1 hide-scrollbar items-center"},e.createElement(pe,{to:"/products",...mt,className:"flex items-center gap-1.5 px-4 py-2 rounded-full bg-indigo-600 text-white text-sm font-bold whitespace-nowrap shadow-sm hover:bg-indigo-700 transition-colors"},e.createElement(Np,{className:"w-4 h-4"}),"Tout"),Es.map(ke=>{const L=ke.icon;return e.createElement(pe,{key:ke.id,to:`/categories/${ke.options?.[0]?.value||""}`,className:"flex items-center gap-1.5 px-4 py-2 rounded-full bg-white border border-gray-200 text-sm font-semibold text-gray-700 whitespace-nowrap shadow-sm hover:border-indigo-300 hover:text-indigo-600 transition-colors"},L&&e.createElement(L,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),e.createElement("span",null,ke.label.split(" & ")[0]))}),e.createElement("button",{type:"button",onClick:()=>f(!0),className:"flex items-center gap-1.5 px-4 py-2 rounded-full bg-gray-100 text-sm font-semibold text-gray-600 whitespace-nowrap hover:bg-gray-200 transition-colors"},"Tout voir ",e.createElement($r,{className:"w-3.5 h-3.5"}))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_380px] gap-5"},e.createElement("div",{className:"flex flex-col gap-4"},e.createElement("section",{className:"relative bg-gradient-to-br from-indigo-900 via-indigo-800 to-purple-900 rounded-2xl overflow-hidden shadow-lg",style:{minHeight:"300px"}},J&&e.createElement("div",{className:"absolute inset-0"},e.createElement("img",{src:J,alt:"Bannire HDMarket",className:"h-full w-full object-cover",loading:"lazy"}),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950/70 via-indigo-950/70 to-purple-950/70"})),e.createElement("div",{className:"relative z-10 px-6 py-8 lg:py-10 text-left"},e.createElement("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/15 backdrop-blur-md rounded-full border border-white/30 mb-4 shadow-lg"},e.createElement(rr,{className:"w-3.5 h-3.5 text-yellow-300 mr-1.5",fill:"currentColor"}),e.createElement("span",{className:"text-xs text-white font-semibold"},"Marketplace Premium")),e.createElement("h1",{className:"text-3xl lg:text-4xl font-black text-white mb-3 leading-tight"},"Votre March",e.createElement("span",{className:"block bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 bg-clip-text text-transparent"},"Digital")),e.createElement("p",{className:"text-sm text-indigo-100 mb-5 max-w-md leading-relaxed"},"Dcouvrez ",e.createElement("span",{className:"font-bold text-yellow-300"},pt(H))," produits vrifis. Vendez et achetez en toute confiance."),e.createElement("div",{className:"flex gap-3"},e.createElement(pe,{to:"/my",className:"inline-flex items-center px-5 py-2.5 bg-white text-gray-900 font-semibold rounded-xl hover:bg-gray-50 transition-all text-sm shadow-sm"},e.createElement(Nn,{className:"w-4 h-4 mr-1.5"})," Publier"),e.createElement(pe,{to:"/products",...mt,className:"inline-flex items-center px-5 py-2.5 bg-white/15 backdrop-blur-md text-white font-semibold rounded-xl border border-white/30 hover:bg-white/25 transition-all text-sm"},"Explorer ",e.createElement($r,{className:"w-4 h-4 ml-1"}))))),he&&(()=>{const ke=ft?he:bt,L=ft?de:"/products",me=e.createElement("img",{src:ke,alt:"Promo",className:"h-full w-full object-cover",loading:"lazy"}),Se="block w-full overflow-hidden rounded-xl shadow-sm aspect-[21/7]";return L?.startsWith("/")?e.createElement(pe,{to:L,...mt,className:Se},me):L?e.createElement("a",{href:L,target:"_blank",rel:"noopener noreferrer",className:Se},me):e.createElement("div",{className:Se},me)})()),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 flex flex-col"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center"},e.createElement(Nn,{className:"w-4 h-4 text-white"})),e.createElement("h2",{className:"text-base font-bold text-gray-900"},"Flash Deals")),e.createElement(pe,{to:"/top-deals",...mt,className:"text-xs font-semibold text-indigo-600 flex items-center hover:text-indigo-500"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),O?e.createElement("div",{className:"grid grid-cols-2 gap-3 flex-1"},Array.from({length:4}).map((ke,L)=>e.createElement("div",{key:L,className:"animate-pulse bg-gray-100 rounded-xl aspect-square"}))):F.length>0?e.createElement("div",{className:"grid grid-cols-2 gap-3 flex-1"},F.map((ke,L)=>e.createElement(pe,{key:`deal-panel-${ke._id}-${L}`,to:Pt(ke),...mt,className:"group bg-gray-50 rounded-xl border border-gray-100 overflow-hidden hover:shadow-md hover:border-indigo-200 transition-all"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:ke.images?.[0]||"/api/placeholder/200/200",alt:ke.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy"}),ke.discount>0&&e.createElement("span",{className:"absolute top-1.5 left-1.5 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md shadow"},"-",ke.discount,"%")),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-sm font-bold text-gray-900"},Number(ke.price||0).toLocaleString()," F"),ke.priceBeforeDiscount>ke.price&&e.createElement("p",{className:"text-[10px] text-gray-400 line-through"},Number(ke.priceBeforeDiscount).toLocaleString()," F"))))):e.createElement("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-sm"},e.createElement(Nn,{className:"w-6 h-6 mr-2 text-gray-300"})," Aucun deal en cours"))),!Q&&W.length>0&&e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2.5"},e.createElement("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center"},e.createElement(Xt,{className:"w-4 h-4 text-white"})),e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Meilleures ventes")),e.createElement(pe,{to:"/top-sales",...mt,className:"text-sm font-semibold text-indigo-600 flex items-center hover:text-indigo-500"},"Voir tout ",e.createElement($r,{className:"w-4 h-4 ml-0.5"}))),e.createElement("div",{className:"grid grid-cols-3 lg:grid-cols-5 gap-4"},W.slice(0,5).map((ke,L)=>e.createElement(pe,{key:`bestseller-d-${ke._id}-${L}`,to:Pt(ke),...mt,className:"group bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden hover:shadow-md hover:border-indigo-200 transition-all"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:ke.images?.[0]||"/api/placeholder/200/200",alt:ke.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy"}),L<3&&e.createElement("span",{className:`absolute top-2 left-2 w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-lg ${L===0?"bg-yellow-500":L===1?"bg-gray-400":"bg-amber-600"}`},L+1)),e.createElement("div",{className:"p-3"},e.createElement("p",{className:"text-sm font-medium text-gray-700 truncate"},ke.title),e.createElement("p",{className:"text-sm font-bold text-gray-900 mt-0.5"},Number(ke.price||0).toLocaleString()," FCFA")))))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-5"},e.createElement("section",{className:"bg-indigo-50/60 rounded-2xl border border-indigo-100 p-5"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-7 h-7 bg-emerald-500 rounded-lg flex items-center justify-center"},e.createElement(_r,{className:"w-3.5 h-3.5 text-white"})),e.createElement("h2",{className:"text-base font-bold text-gray-900"},"Boutiques vrifies")),e.createElement(pe,{to:"/shops/verified",...mt,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Voir tout")),Y?e.createElement("div",{className:"space-y-3"},Array.from({length:4}).map((ke,L)=>e.createElement("div",{key:L,className:"flex items-center gap-3 animate-pulse"},e.createElement("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),e.createElement("div",{className:"flex-1 space-y-1.5"},e.createElement("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.createElement("div",{className:"h-2.5 bg-gray-200 rounded w-1/2"}))))):B.length>0?e.createElement("div",{className:"space-y-2"},B.map(ke=>e.createElement(pe,{key:ke._id,to:la(ke),className:"flex items-center gap-3 rounded-xl bg-white border border-gray-100 hover:border-indigo-200 hover:shadow-sm transition-all p-3"},e.createElement("img",{src:ke.shopLogo||"/api/placeholder/40/40",alt:ke.shopName,className:"w-10 h-10 rounded-lg object-cover border border-gray-100"}),e.createElement("div",{className:"min-w-0 flex-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},ke.shopName),e.createElement("p",{className:"text-xs text-gray-500 truncate"},ke.shopAddress||"Adresse non renseigne")),e.createElement("span",{className:"text-xs text-emerald-600 font-semibold whitespace-nowrap"},ke.productCount||0," annonces")))):e.createElement("div",{className:"text-center py-6 text-gray-400 text-sm"},"Aucune boutique vrifie")),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-5"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h2",{className:"text-base font-bold text-gray-900"},"Tendances"),e.createElement(pe,{to:ye.link,...mt,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500 flex items-center"},"Voir tout ",e.createElement($r,{className:"w-3 h-3 ml-0.5"}))),e.createElement("div",{className:"flex gap-1 mb-4 bg-gray-100 rounded-xl p-1"},Object.entries(we).map(([ke,L])=>{const me=L.icon;return e.createElement("button",{key:ke,type:"button",onClick:()=>xt(ke),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-xs font-semibold transition-all flex-1 justify-center ${Je===ke?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`},e.createElement(me,{className:"w-3.5 h-3.5"}),L.label)})),O?e.createElement("div",{className:"grid grid-cols-3 gap-4"},Array.from({length:3}).map((ke,L)=>e.createElement("div",{key:L,className:"animate-pulse bg-gray-100 rounded-xl aspect-square"}))):ye.items.length>0?e.createElement("div",{className:"grid grid-cols-3 gap-4"},ye.items.slice(0,3).map((ke,L)=>e.createElement(pe,{key:`trend-${Je}-${ke._id}-${L}`,to:Pt(ke),...mt,className:"group bg-gray-50 rounded-xl border border-gray-100 overflow-hidden hover:shadow-md hover:border-indigo-200 transition-all"},e.createElement("div",{className:"relative aspect-square bg-gray-100"},e.createElement("img",{src:ke.images?.[0]||"/api/placeholder/200/200",alt:ke.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy"}),e.createElement("span",{className:`absolute top-2 left-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow ${L===0?"bg-yellow-500":L===1?"bg-gray-400":"bg-amber-600"}`},L+1)),e.createElement("div",{className:"p-3"},e.createElement("p",{className:"text-sm font-medium text-gray-700 truncate group-hover:text-indigo-600 transition-colors"},ke.title),e.createElement("p",{className:"text-sm font-bold text-gray-900 mt-0.5"},Number(ke.price||0).toLocaleString()," FCFA"),Je==="favorites"&&e.createElement("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500"},e.createElement(ur,{className:"w-3 h-3 text-rose-500",fill:"currentColor"}),e.createElement("span",null,ke.favoritesCount||0)),Je==="topRated"&&e.createElement("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500"},e.createElement(rr,{className:"w-3 h-3 text-yellow-400",fill:"currentColor"}),e.createElement("span",{className:"font-semibold text-gray-700"},Number(ke.ratingAverage||0).toFixed(1)),e.createElement("span",null,"(",ke.ratingCount||0,")")))))):e.createElement("div",{className:"text-center py-8 text-gray-400 text-sm"},"Aucun produit dans cette catgorie"))),e.createElement("section",{className:"hidden lg:block"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement("span",{className:"text-sm font-semibold text-gray-600"},"Dcouvrir plus")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement(pe,{to:"/cities",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(yr,{className:"w-4 h-4"}),"Par ville"),e.createElement(pe,{to:"/top-favorites",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(ur,{className:"w-4 h-4"}),"Favoris"),e.createElement(pe,{to:"/top-ranking",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(rr,{className:"w-4 h-4"}),"Mieux nots"),e.createElement(pe,{to:"/top-new",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(ma,{className:"w-4 h-4"}),"Nouveauts"),e.createElement(pe,{to:"/top-used",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(Ut,{className:"w-4 h-4"}),"Occasions"),e.createElement(pe,{to:"/certified-products",...mt,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-50 hover:bg-indigo-50 border border-gray-100 hover:border-indigo-200 text-gray-700 hover:text-indigo-700 font-medium text-sm transition-all"},e.createElement(_r,{className:"w-4 h-4"}),"Produits certifis"))),e.createElement("section",null,e.createElement("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-3"},e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Tous les produits",e.createElement("span",{className:"text-sm font-normal text-gray-500 ml-2"},"(",pt(H),")")),e.createElement("div",{className:"flex items-center gap-2 flex-wrap"},e.createElement("select",{value:i,onChange:ke=>{d(ke.target.value),m(1)},className:"px-3 py-2 rounded-xl border border-gray-200 bg-white text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer"},e.createElement("option",{value:"new"},"Nouveauts"),e.createElement("option",{value:"price_asc"},"Prix croissant"),e.createElement("option",{value:"price_desc"},"Prix dcroissant"),e.createElement("option",{value:"discount"},"Remises")),e.createElement("select",{value:s,onChange:ke=>{o(ke.target.value),m(1)},className:"px-3 py-2 rounded-xl border border-gray-200 bg-white text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer"},e.createElement("option",{value:""},"Toutes catgories"),e.createElement("option",{value:"electronics"},"lectronique"),e.createElement("option",{value:"fashion"},"Mode"),e.createElement("option",{value:"home"},"Maison"),e.createElement("option",{value:"sports"},"Sports")))),w?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},Array.from({length:10}).map((ke,L)=>e.createElement("div",{key:L,className:"animate-pulse bg-gray-200 rounded-xl h-64"}))):t.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4"},t.map((ke,L)=>e.createElement("div",{key:`product-d-${ke._id}-${L}`,className:"hover:shadow-md transition-shadow rounded-xl overflow-hidden"},e.createElement(Da,{p:ke,productLink:Pt(ke)})))),tt()):e.createElement("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border border-gray-200"},e.createElement(ir,{className:"w-10 h-10 text-gray-300 mx-auto mb-3"}),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun produit trouv"),e.createElement("p",{className:"text-gray-500 text-sm mb-4"},"Modifiez vos critres de filtrage"),e.createElement("button",{onClick:()=>{o(""),d("new"),m(1)},className:"px-5 py-2.5 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors text-sm"},"Rinitialiser les filtres"))))};return e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},e.createElement($B,{visible:We,logoSrc:nt,label:"HDMarket"}),P?lt():gt(),p&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 sm:p-6",onClick:()=>f(!1)},e.createElement("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-3xl bg-white dark:bg-gray-800 border border-gray-200/60 dark:border-gray-700/50 shadow-2xl",onClick:F=>F.stopPropagation()},e.createElement("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/60 dark:border-gray-700/50 px-6 py-5"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-100/80 dark:bg-indigo-900/30 border border-indigo-200/50 dark:border-indigo-800/50 w-fit mb-2"},e.createElement(Np,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),e.createElement("span",{className:"text-xs font-bold text-indigo-700 dark:text-indigo-300 uppercase tracking-wider"},"Toutes les catgories")),e.createElement("h3",{className:"text-xl font-black text-gray-900 dark:text-white"},"Explorer nos univers"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Slectionnez une catgorie pour dcouvrir nos produits")),e.createElement("button",{type:"button",onClick:()=>f(!1),className:"flex-shrink-0 w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-colors text-gray-600 dark:text-gray-400","aria-label":"Fermer"},e.createElement(_t,{className:"w-5 h-5"})))),e.createElement("div",{className:"max-h-[calc(90vh-120px)] overflow-y-auto px-6 py-6"},e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"},Es.map((F,we)=>{const ye=F.icon,ke=[{bg:"from-blue-500/10 to-cyan-500/10",icon:"text-blue-600 dark:text-blue-400",border:"border-blue-200/50 dark:border-blue-800/50",hover:"hover:from-blue-500/20 hover:to-cyan-500/20"},{bg:"from-pink-500/10 to-rose-500/10",icon:"text-pink-600 dark:text-pink-400",border:"border-pink-200/50 dark:border-pink-800/50",hover:"hover:from-pink-500/20 hover:to-rose-500/20"},{bg:"from-emerald-500/10 to-teal-500/10",icon:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200/50 dark:border-emerald-800/50",hover:"hover:from-emerald-500/20 hover:to-teal-500/20"},{bg:"from-amber-500/10 to-orange-500/10",icon:"text-amber-600 dark:text-amber-400",border:"border-amber-200/50 dark:border-amber-800/50",hover:"hover:from-amber-500/20 hover:to-orange-500/20"},{bg:"from-purple-500/10 to-indigo-500/10",icon:"text-purple-600 dark:text-purple-400",border:"border-purple-200/50 dark:border-purple-800/50",hover:"hover:from-purple-500/20 hover:to-indigo-500/20"},{bg:"from-red-500/10 to-rose-500/10",icon:"text-red-600 dark:text-red-400",border:"border-red-200/50 dark:border-red-800/50",hover:"hover:from-red-500/20 hover:to-rose-500/20"},{bg:"from-violet-500/10 to-purple-500/10",icon:"text-violet-600 dark:text-violet-400",border:"border-violet-200/50 dark:border-violet-800/50",hover:"hover:from-violet-500/20 hover:to-purple-500/20"},{bg:"from-slate-500/10 to-gray-500/10",icon:"text-slate-600 dark:text-slate-400",border:"border-slate-200/50 dark:border-slate-800/50",hover:"hover:from-slate-500/20 hover:to-gray-500/20"}],L=ke[we%ke.length];return e.createElement(pe,{key:F.id,to:`/categories/${F.options?.[0]?.value||""}`,onClick:()=>f(!1),className:`group relative overflow-hidden rounded-2xl bg-gradient-to-br ${L.bg} border ${L.border} backdrop-blur-sm transition-all duration-300 hover:scale-[1.03] hover:shadow-lg active:scale-[0.98] ${L.hover}`},e.createElement("div",{className:"p-5 flex flex-col items-center gap-3 text-center"},e.createElement("div",{className:`relative w-16 h-16 rounded-2xl bg-white/80 dark:bg-gray-800/80 border-2 ${L.border} flex items-center justify-center shadow-md group-hover:shadow-lg transition-all duration-300 group-hover:rotate-3 group-hover:scale-110`},ye?e.createElement(ye,{className:`relative w-8 h-8 ${L.icon}`}):null),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight"},F.label),e.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed"},F.description))))}))))))}function fU(){const{user:t,login:r}=g.useContext(fr),a=Zr(),s=Sn().state?.from||"/",[o,i]=g.useState({phone:"",password:""}),[d,u]=g.useState(!1),[m,p]=g.useState(!1),f=async y=>{y.preventDefault(),p(!0);try{const{data:b}=await se.post("/auth/login",o);r(b),a(s,{replace:!0})}catch(b){alert(b.response?.data?.message||b.message)}finally{p(!1)}};return t?e.createElement(Mc,{to:s,replace:!0}):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"w-full max-w-[400px]"},e.createElement("div",{className:"text-center mb-8"},e.createElement("h1",{className:"text-2xl font-normal text-indigo-600 mb-1"},"HDMarket"),e.createElement("p",{className:"text-sm text-gray-500"},"Connectez-vous  votre compte")),e.createElement("div",{className:"bg-white border border-gray-200 p-6"},e.createElement("form",{onSubmit:f,className:"space-y-4"},e.createElement("div",null,e.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Numro de tlphone",value:o.phone,onChange:y=>i({...o,phone:y.target.value}),required:!0})),e.createElement("div",{className:"relative"},e.createElement("input",{type:d?"text":"password",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm pr-10",placeholder:"Mot de passe",value:o.password,onChange:y=>i({...o,password:y.target.value}),required:!0}),e.createElement("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},d?e.createElement(Om,{className:"w-4 h-4"}):e.createElement(zn,{className:"w-4 h-4"}))),e.createElement("div",{className:"flex items-center justify-between text-xs"},e.createElement("label",{className:"flex items-center text-gray-600 cursor-pointer"},e.createElement("input",{type:"checkbox",className:"mr-1"}),e.createElement("span",null,"Se souvenir de moi")),e.createElement(pe,{to:"/forgot-password",className:"text-gray-600 hover:text-indigo-600"},"Mot de passe oubli ?")),e.createElement("button",{type:"submit",disabled:m||!o.phone||!o.password,className:"w-full py-3 bg-blue-600 text-white text-sm font-semibold rounded-3xl hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm"},m?"Connexion...":"Se connecter")),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},e.createElement(pe,{to:"/register",className:"block w-full py-3 text-center border border-gray-300 bg-white text-gray-700 text-sm font-semibold rounded-3xl hover:bg-gray-50 transition-all duration-200 active:scale-95 shadow-sm"},"Crer un compte"))),e.createElement("div",{className:"mt-6 text-center"},e.createElement("p",{className:"text-xs text-gray-500"},"En vous connectant, vous acceptez nos"," ",e.createElement(pe,{to:"/help",className:"text-gray-600 hover:text-indigo-600"},"conditions d'utilisation")," ","et notre"," ",e.createElement(pe,{to:"/privacy",className:"text-gray-600 hover:text-indigo-600"},"politique de confidentialit")))))}function pU(){const{user:t,login:r}=g.useContext(fr),a=Zr(),s=Sn().state?.from||"/",[o,i]=g.useState({name:"",email:"",password:"",phone:"",accountType:"person",address:"",country:"Rpublique du Congo",city:"",gender:""}),[d,u]=g.useState(!1),[m,p]=g.useState(!1),[f,y]=g.useState(""),[b,w]=g.useState(!1),[E,x]=g.useState(!1),[N,k]=g.useState(""),[A,P]=g.useState(""),[S,_]=g.useState(""),T=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],O=[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}],R=async()=>{if(!o.email.trim()){P("Veuillez renseigner votre adresse email.");return}x(!0),P(""),k(""),_("");try{await se.post("/auth/register/send-code",{email:o.email}),w(!0),k("Code envoy par email. Vrifiez votre bote de rception.")}catch(j){P(j.response?.data?.message||j.message)}finally{x(!1)}},D=async j=>{if(j.preventDefault(),_(""),!o.city||!o.gender){_("Veuillez slectionner votre ville et votre genre.");return}if(!o.address.trim()){_("Veuillez renseigner votre adresse complte.");return}if(!f.trim()){_("Veuillez saisir le code de vrification reu par email.");return}p(!0);try{const $=new FormData;$.append("name",o.name),$.append("email",o.email),$.append("password",o.password),$.append("phone",o.phone),$.append("accountType","person"),$.append("country","Rpublique du Congo"),$.append("city",o.city),$.append("gender",o.gender),$.append("address",o.address.trim()),$.append("verificationCode",f.trim());const{data:K}=await se.post("/auth/register",$,{headers:{"Content-Type":"multipart/form-data"}});r(K),a(s,{replace:!0})}catch($){_($.response?.data?.message||$.message||"Une erreur est survenue lors de la cration du compte.")}finally{p(!1)}};return t?e.createElement(Mc,{to:s,replace:!0}):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"w-full max-w-[500px]"},e.createElement("div",{className:"text-center mb-6"},e.createElement("h1",{className:"text-2xl font-normal text-indigo-600 mb-1"},"HDMarket"),e.createElement("p",{className:"text-sm text-gray-500"},"Crez votre compte")),e.createElement("div",{className:"bg-white border border-gray-200 p-6"},e.createElement("form",{onSubmit:D,className:"space-y-4"},e.createElement("div",null,e.createElement("input",{type:"text",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Nom complet *",value:o.name,onChange:j=>i({...o,name:j.target.value}),required:!0})),e.createElement("div",null,e.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Numro de tlphone *",value:o.phone,onChange:j=>{i({...o,phone:j.target.value}),P("")},required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex gap-2"},e.createElement("input",{type:"text",className:"flex-1 px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Code de vrification email *",value:f,onChange:j=>{y(j.target.value),_("")},required:!0}),e.createElement("button",{type:"button",onClick:R,disabled:E||!o.email.trim(),className:"px-4 py-2.5 border border-gray-300 text-sm text-gray-700 hover:border-indigo-600 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap"},E?"Envoi...":b?"Renvoyer":"Envoyer")),A&&e.createElement("p",{className:"text-xs text-red-600"},A),N&&e.createElement("p",{className:"text-xs text-green-600"},N)),e.createElement("div",null,e.createElement("textarea",{className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm resize-none",rows:2,placeholder:"Adresse complte *",value:o.address,onChange:j=>{i({...o,address:j.target.value}),_("")},required:!0})),e.createElement("div",null,e.createElement("input",{type:"email",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Adresse email *",value:o.email,onChange:j=>i({...o,email:j.target.value}),required:!0})),e.createElement("div",{className:"relative"},e.createElement("input",{type:d?"text":"password",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm pr-10",placeholder:"Mot de passe *",value:o.password,onChange:j=>i({...o,password:j.target.value}),required:!0}),e.createElement("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},d?e.createElement(Om,{className:"w-4 h-4"}):e.createElement(zn,{className:"w-4 h-4"}))),e.createElement("div",{className:"grid grid-cols-2 gap-3"},e.createElement("div",null,e.createElement("input",{className:"w-full px-3 py-2.5 border border-gray-300 bg-gray-100 text-gray-500 text-sm cursor-not-allowed",value:"Rpublique du Congo",readOnly:!0,disabled:!0})),e.createElement("div",null,e.createElement("select",{className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm bg-white",value:o.city,onChange:j=>{i({...o,city:j.target.value}),_("")},required:!0},e.createElement("option",{value:""},"Ville *"),T.map(j=>e.createElement("option",{key:j,value:j},j))))),e.createElement("div",null,e.createElement("div",{className:"grid grid-cols-2 gap-3"},O.map(j=>e.createElement("label",{key:j.value,className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${o.gender===j.value?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},e.createElement("input",{type:"radio",name:"gender",value:j.value,checked:o.gender===j.value,onChange:$=>{i({...o,gender:$.target.value}),_("")},className:"sr-only"}),j.label)))),e.createElement("div",{className:"pt-2 border-t border-gray-200"},e.createElement("div",{className:"text-xs text-gray-600 mb-2"},"Type de compte"),e.createElement("div",{className:"grid grid-cols-2 gap-3"},e.createElement("label",{className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${o.accountType==="person"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},e.createElement("input",{type:"radio",name:"accountType",value:"person",checked:o.accountType==="person",onChange:j=>i({...o,accountType:j.target.value}),className:"sr-only"}),"Particulier"),e.createElement("label",{className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${o.accountType==="shop"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},e.createElement("input",{type:"radio",name:"accountType",value:"shop",checked:o.accountType==="shop",onChange:j=>i({...o,accountType:j.target.value}),className:"sr-only"}),"Boutique"))),o.accountType==="shop"&&e.createElement("div",{className:"text-xs text-gray-600 bg-gray-50 border border-gray-200 p-3"},e.createElement("p",{className:"font-medium mb-1"},"Boutique sous approbation"),e.createElement("p",null,"Enregistrez-vous d'abord comme particulier puis"," ",e.createElement(pe,{to:"/help",className:"text-indigo-600 hover:text-indigo-700 underline"},"contactez l'quipe HDMarket")," ","pour demander la conversion.")),S&&e.createElement("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 p-3"},S),e.createElement("button",{type:"submit",disabled:m||!o.name||!o.email||!o.password||!o.phone||!o.address||!o.city||!o.gender||!f,className:"w-full py-3 bg-blue-600 text-white text-sm font-semibold rounded-3xl hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm"},m?"Cration du compte...":"Crer mon compte")),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center"},e.createElement("p",{className:"text-sm text-gray-600"},"Dj un compte ?"," ",e.createElement(pe,{to:"/login",className:"text-indigo-600 hover:text-indigo-700"},"Se connecter")))),e.createElement("div",{className:"mt-6 text-center"},e.createElement("p",{className:"text-xs text-gray-500"},"En crant un compte, vous acceptez nos"," ",e.createElement(pe,{to:"/help",className:"text-gray-600 hover:text-indigo-600"},"conditions d'utilisation")," ","et notre"," ",e.createElement(pe,{to:"/privacy",className:"text-gray-600 hover:text-indigo-600"},"politique de confidentialit")))))}function gU(){const t=Zr(),[r,a]=g.useState({email:"",verificationCode:"",newPassword:"",confirmPassword:""}),[n,s]=g.useState(!1),[o,i]=g.useState(!1),[d,u]=g.useState(!1),[m,p]=g.useState(!1),[f,y]=g.useState(""),[b,w]=g.useState(""),E=async()=>{if(!r.email.trim()){w("Veuillez saisir votre adresse email.");return}i(!0),w(""),y("");try{await se.post("/auth/password/forgot",{email:r.email}),u(!0),y("Code envoy par email. Vrifiez votre bote de rception.")}catch(N){w(N.response?.data?.message||N.message)}finally{i(!1)}},x=async N=>{if(N.preventDefault(),w(""),y(""),!r.verificationCode.trim()){w("Veuillez saisir le code reu par email.");return}if(!r.newPassword){w("Veuillez saisir un nouveau mot de passe.");return}if(r.newPassword!==r.confirmPassword){w("Les mots de passe ne correspondent pas.");return}p(!0);try{await se.post("/auth/password/reset",{email:r.email,verificationCode:r.verificationCode.trim(),newPassword:r.newPassword}),y("Mot de passe mis  jour. Redirection vers la connexion..."),setTimeout(()=>{t("/login")},1500)}catch(k){w(k.response?.data?.message||k.message)}finally{p(!1)}};return e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},e.createElement("div",{className:"max-w-md w-full space-y-8"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"flex justify-center mb-6"},e.createElement("div",{className:"w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center shadow-lg"},e.createElement(_a,{className:"w-10 h-10 text-white"}))),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Rinitialiser le mot de passe"),e.createElement("p",{className:"text-gray-500"},"Recevez un code par email pour scuriser la rinitialisation")),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},e.createElement("form",{onSubmit:x,className:"space-y-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ri,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse email")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"email",inputMode:"email",autoComplete:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"votre@email.com",value:r.email,onChange:N=>a(k=>({...k,email:N.target.value})),required:!0}),e.createElement(Ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),e.createElement("button",{type:"button",onClick:E,disabled:o||!r.email.trim(),className:"w-full mt-3 py-3 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},o?"Envoi...":d?"Renvoyer le code":"Envoyer le code")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(_a,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Code de vrification")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Code reu par email",value:r.verificationCode,onChange:N=>a(k=>({...k,verificationCode:N.target.value})),required:!0}),e.createElement(_a,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nouveau mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:n?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nouveau mot de passe",value:r.newPassword,onChange:N=>a(k=>({...k,newPassword:N.target.value})),required:!0}),e.createElement(Jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>s(N=>!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},n?e.createElement(Om,{className:"w-4 h-4"}):e.createElement(zn,{className:"w-4 h-4"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Confirmer le mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:n?"text":"password",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Confirmez le mot de passe",value:r.confirmPassword,onChange:N=>a(k=>({...k,confirmPassword:N.target.value})),required:!0}),e.createElement(Jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:n,onChange:()=>s(N=>!N),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher les mots de passe")),b&&e.createElement("p",{className:"text-sm text-red-600"},b),f&&e.createElement("p",{className:"text-sm text-emerald-600"},f),e.createElement("button",{type:"submit",disabled:m,className:"w-full py-4 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},m?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Confirmation...")):e.createElement(e.Fragment,null,e.createElement(_a,{className:"w-5 h-5"}),e.createElement("span",null,"Mettre  jour le mot de passe")))),e.createElement("div",{className:"text-center mt-6 pt-6 border-t border-gray-100"},e.createElement(pe,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-500 font-semibold transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour  la connexion")))))}const CM=g.createContext({showToast:()=>{}}),r4={success:"border-green-200 bg-white text-green-700",error:"border-red-200 bg-white text-red-700",info:"border-indigo-200 bg-white text-indigo-700"},a4={success:"bg-green-100 text-green-600",error:"bg-red-100 text-red-600",info:"bg-indigo-100 text-indigo-600"},hU=({children:t})=>{const[r,a]=g.useState([]),n=g.useCallback(i=>{a(d=>d.filter(u=>u.id!==i))},[]),s=g.useCallback((i,d={})=>{if(!i)return;const u=typeof d=="string"?{variant:d}:Array.isArray(d)?{}:d,{variant:m="success",duration:p=4e3}=u,f=`${Date.now()}-${Math.random().toString(36).slice(2,7)}`;a(y=>[...y,{id:f,message:i,variant:m}]),Number.isFinite(p)&&p>0&&setTimeout(()=>{n(f)},p)},[n]),o=g.useMemo(()=>({showToast:s}),[s]);return g.useEffect(()=>{const i=d=>{const u=d?.detail?.message||"Il semble que vous soyez hors ligne. Connectez-vous  Internet pour continuer.";s(u,{variant:"error"})};return window.addEventListener("hdmarket:network-error",i),()=>{window.removeEventListener("hdmarket:network-error",i)}},[s]),e.createElement(CM.Provider,{value:o},t,e.createElement("div",{className:"fixed top-24 right-4 z-[1050] flex flex-col gap-3"},r.map(i=>{const d=r4[i.variant]||r4.success,u=a4[i.variant]||a4.success;return e.createElement("div",{key:i.id,className:`flex items-start gap-3 rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm transition-all ${d}`},e.createElement("div",{className:`mt-0.5 flex h-8 w-8 items-center justify-center rounded-full ${u}`},e.createElement("span",{className:"text-sm font-semibold"},"!")),e.createElement("div",{className:"flex-1 text-sm leading-relaxed"},i.message),e.createElement("button",{type:"button",onClick:()=>n(i.id),className:"ml-2 text-xs font-semibold uppercase tracking-wide text-gray-400 hover:text-gray-600"},"Fermer"))})))},Qo=()=>{const t=g.useContext(CM);if(!t)throw new Error("useToast doit tre utilis  lintrieur de ToastProvider.");return t};function n4({product:t,onSubmitted:r}){const a=g.useMemo(()=>Math.round(t.price*.03*100)/100,[t.price]),[n,s]=g.useState({payerName:"",operator:"MTN",transactionNumber:"",amount:a}),[o,i]=g.useState(!1);g.useEffect(()=>s(y=>({...y,amount:a})),[a]);const d=t.payment?.status||null,u=!!t.payment,m=async y=>{if(y.preventDefault(),!u){i(!0);try{await se.post("/payments",{...n,productId:t._id}),alert("Paiement soumis. En attente de vrification."),r&&await r()}catch(b){alert(b.response?.data?.message||b.message)}finally{i(!1)}}},f={waiting:{title:"Paiement en attente de validation",description:"Votre paiement a t reu et est en cours de vrification par notre quipe. Votre annonce sera publie sous 24h aprs approbation.",icon:Ut,tone:"bg-amber-50 border-amber-200 text-amber-800",iconColor:"text-amber-500"},verified:{title:"Paiement vrifi - Annonce active",description:"Votre paiement a t valid avec succs. Votre annonce est maintenant visible par tous les acheteurs sur la plateforme.",icon:Qt,tone:"bg-green-50 border-green-200 text-green-800",iconColor:"text-green-500"},rejected:{title:"Paiement rejet",description:"Votre paiement n'a pas pu tre valid. Veuillez contacter notre support ou soumettre un nouveau paiement.",icon:xr,tone:"bg-red-50 border-red-200 text-red-800",iconColor:"text-red-500"}}[d]||{title:"Paiement enregistr",description:"Statut en cours de mise  jour.",icon:Ut,tone:"bg-gray-50 border-gray-200 text-gray-700",iconColor:"text-gray-500"};if(u){const y=f.icon;return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-6"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(_r,{className:"w-8 h-8 text-white"})),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Statut de paiement"),e.createElement("p",{className:"text-gray-500"},"Suivi de votre transaction")),e.createElement("div",{className:`rounded-2xl border-2 p-6 ${f.tone} mb-6`},e.createElement("div",{className:"flex items-start space-x-4"},e.createElement("div",{className:"flex-shrink-0"},e.createElement(y,{className:`w-8 h-8 ${f.iconColor}`})),e.createElement("div",{className:"flex-1"},e.createElement("h3",{className:"text-lg font-semibold mb-2"},f.title),e.createElement("p",{className:"text-sm leading-relaxed"},f.description)))),e.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Dtails de la transaction"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Produit:"),e.createElement("span",{className:"font-medium text-gray-900"},t.title)),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Prix du produit:"),e.createElement("span",{className:"font-medium text-gray-900"},Number(t.price).toLocaleString()," FCFA")),t.confirmationNumber&&e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Code produit:"),e.createElement("span",{className:"font-semibold text-gray-900"},t.confirmationNumber))),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Commission (3%):"),e.createElement("span",{className:"font-medium text-gray-900"},a.toLocaleString()," FCFA")),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"text-gray-500"},"Statut actuel:"),e.createElement("span",{className:`font-medium px-2 py-1 rounded-full text-xs ${d==="verified"?"bg-green-100 text-green-800":d==="rejected"?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`},d||t.status))))))}return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Xs,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Validation de l'annonce"),e.createElement("p",{className:"text-gray-500"},"Finalisez votre publication en payant la commission")),e.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6"},e.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h3",{className:"font-semibold text-indigo-900 text-sm"},"Commission de publication"),e.createElement("p",{className:"text-indigo-700 text-xs"},"3% du prix du produit")),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"text-2xl font-bold text-indigo-600"},a.toLocaleString()," FCFA"),e.createElement("div",{className:"text-indigo-500 text-xs"},"sur ",Number(t.price).toLocaleString()," FCFA")))),e.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4"},e.createElement("div",{className:"flex items-start space-x-3"},e.createElement(xr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.createElement("div",{className:"space-y-2"},e.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Instructions de paiement"),e.createElement("p",{className:"text-amber-700 text-sm"},"Effectuez un transfert mobile de ",e.createElement("span",{className:"font-bold"},a.toLocaleString()," FCFA"),"et renseignez les dtails de la transaction ci-dessous.")))),t.confirmationNumber&&e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-600"},e.createElement("p",{className:"font-semibold text-gray-900 text-[12px] mb-1"},"Code produit : ",e.createElement("span",{className:"text-indigo-600"},t.confirmationNumber)),e.createElement("p",null,"Communiquez ce code  ladministrateur ou au support lorsque vous confirmez votre commande afin quil identifie rapidement lannonce.")),e.createElement("form",{onSubmit:m,className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(va,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nom du payeur *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nom complet",value:n.payerName,onChange:y=>s({...n,payerName:y.target.value}),disabled:o,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Xs,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Oprateur mobile *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:n.operator,onChange:y=>s({...n,operator:y.target.value}),disabled:o,required:!0},e.createElement("option",{value:"MTN"},"MTN"),e.createElement("option",{value:"Airtel"},"Airtel"),e.createElement("option",{value:"Other"},"Autre"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Bz,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Numro de transaction *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Numro reu par SMS",value:n.transactionNumber,onChange:y=>s({...n,transactionNumber:y.target.value}),disabled:o,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(xa,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Montant pay (FCFA)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:a,disabled:!0}))),e.createElement("button",{type:"submit",disabled:o,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},o?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Soumission en cours...")):e.createElement(e.Fragment,null,e.createElement(ag,{className:"w-5 h-5"}),e.createElement("span",null,"Soumettre le paiement"))),e.createElement("p",{className:"text-center text-xs text-gray-500"},"Votre annonce sera approuve sous 24h aprs vrification du paiement"))))}const yU={MTN:"069822930",Airtel:"050237023"},ol=3,ru=20,Ry=10,s4=({className:t=""})=>e.createElement("svg",{viewBox:"0 0 24 24",className:t,"aria-hidden":"true",focusable:"false"},e.createElement("path",{fill:"currentColor",d:"M9 3h6l1 2h5v2H3V5h5l1-2zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM6 7h12l-1 14H7L6 7z"}));function bU(t){const{onCreated:r,onUpdated:a,initialValues:n,productId:s,submitLabel:o}=t,[i,d]=g.useState({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),[u,m]=g.useState([]),[p,f]=g.useState(!1),[y,b]=g.useState([]),[w,E]=g.useState([]),[x,N]=g.useState([]),[k,A]=g.useState(""),{user:P}=g.useContext(fr),S=!!(P?.shopVerified&&P?.accountType==="shop"),_=P?.accountType==="shop",[T,O]=g.useState(null),[R,D]=g.useState(""),[j,$]=g.useState(null),[K,W]=g.useState(""),[z,Q]=g.useState(null),[ee,H]=g.useState(!1),[q,B]=g.useState(0),[G,Y]=g.useState(!1),[V,J]=g.useState(!1),[ue,he]=g.useState(0),[Oe,te]=g.useState(0),[ie,de]=g.useState(null),[Ce,ne]=g.useState({x:0,y:0,width:0,height:0}),[re,Ie]=g.useState(!1),[fe,Le]=g.useState({x:0,y:0}),[at,nt]=g.useState(1),[it,xe]=g.useState({x:0,y:0});g.useRef(null);const He=g.useRef(null),Je=g.useRef(null),[xt,ht]=g.useState(!1),mt=L=>{const me=Array.from(L.target.files||[]);if(!me.length)return;const Se=Math.max(0,ol-w.length-u.length);if(Se===0){A(`Maximum ${ol} photos au total. Supprimez une image pour en ajouter.`),L.target.value="";return}const Ae=me.slice(0,Se);if(me.length>Se?A(`Maximum ${ol} photos au total. Seules les premires ont t conserves.`):A(""),Ae.length>0){const Fe=Ae[0],ct=new FileReader;ct.onload=Qe=>{de({file:Fe,url:Qe.target.result,index:u.length}),setTimeout(()=>{pt(Qe.target.result)},100)},ct.readAsDataURL(Fe)}if(Ae.length>1){const Fe=Ae.slice(1);m(ct=>[...ct,...Fe.map(Qe=>({file:Qe,cropped:!1}))])}L.target.value=""},pt=L=>{const me=new Image;me.onload=()=>{const Se=He.current;if(!Se)return;const Ae=Se.clientWidth,Fe=Se.clientHeight,ct=me.width/me.height,Qe=Ae/Fe;let It,Mt;ct>Qe?(It=Ae,Mt=Ae/ct):(Mt=Fe,It=Fe*ct),nt(It/me.width),xe({x:(Ae-It)/2,y:(Fe-Mt)/2});const wt=Math.min(It,Mt)*.8;ne({x:(Ae-wt)/2,y:(Fe-wt)/2,width:wt,height:wt})},me.src=L},bt=L=>{if(!ie)return;Ie(!0);const me=He.current.getBoundingClientRect();Le({x:L.clientX-me.left-Ce.x,y:L.clientY-me.top-Ce.y})},Pt=L=>{if(!re||!ie||!He.current)return;const me=He.current.getBoundingClientRect(),Se=L.clientX-me.left-fe.x,Ae=L.clientY-me.top-fe.y,Fe=me.width-Ce.width,ct=me.height-Ce.height;ne({...Ce,x:Math.max(0,Math.min(Fe,Se)),y:Math.max(0,Math.min(ct,Ae))})},Ge=()=>{Ie(!1)},ft=(L,me)=>{if(!ie||!He.current)return;const Se=He.current.getBoundingClientRect(),Ae=L.clientX-Se.left;L.clientY-Se.top;let Fe={...Ce};Fe.width=Math.max(100,Math.min(Se.width-Ce.x,Ae-Ce.x)),Fe.height=Fe.width,Fe.x+Fe.width>Se.width&&(Fe.width=Se.width-Fe.x,Fe.height=Fe.width),Fe.y+Fe.height>Se.height&&(Fe.height=Se.height-Fe.y,Fe.width=Fe.height),ne(Fe)},We=g.useCallback(()=>{if(!ie||!Je.current)return null;const L=document.createElement("canvas"),me=L.getContext("2d"),Se=Je.current,Ae=Se.naturalWidth/Se.width,Fe=Se.naturalHeight/Se.height,ct=(Ce.x-it.x)*Ae,Qe=(Ce.y-it.y)*Fe,It=Ce.width*Ae,Mt=Ce.height*Fe;return L.width=It,L.height=Mt,me.drawImage(Se,ct,Qe,It,Mt,0,0,It,Mt),new Promise(wt=>{L.toBlob(Br=>{const Or=new File([Br],ie.file.name,{type:ie.file.type,lastModified:Date.now()});wt(Or)},ie.file.type,.95)})},[ie,Ce,it]),Ye=async()=>{const L=await We();if(!L)return;const me={url:URL.createObjectURL(L),name:ie.file.name};m(Se=>{const Ae=[...Se];return Ae[ie.index]={file:L,cropped:!0},Ae}),b(Se=>{const Ae=[...Se];return Ae[ie.index]=me,Ae}),de(null),A("")},be=()=>{de(null),ne({x:0,y:0,width:0,height:0})},ut=L=>{const me=u.filter((Ae,Fe)=>Fe!==L),Se=y.filter((Ae,Fe)=>Fe!==L);m(me),b(Se),me.length<ol&&A("")},et=L=>{const me=w[L];me&&(E(w.filter((Se,Ae)=>Ae!==L)),N(Se=>[...Se,me]),w.length-1+u.length<ol&&A(""))},Z=async L=>{const me=L.target.files?.[0];if(me){if(!me.type.startsWith("video/")){D("Le fichier doit tre une vido (MP4, MOV, ...)."),L.target.value="";return}if(te(me.size),D(""),me.size>ru*1024*1024){J(!0),he(0);try{const Se=document.createElement("video");Se.preload="metadata",Se.muted=!0,Se.playsInline=!0,Se.crossOrigin="anonymous";const Ae=URL.createObjectURL(me);Se.src=Ae,await new Promise((lr,sr)=>{Se.onloadedmetadata=()=>{Se.videoWidth===0||Se.videoHeight===0?sr(new Error("Impossible de lire les dimensions de la vido")):lr()},Se.onerror=()=>sr(new Error("Erreur lors du chargement de la vido"))});const Fe=document.createElement("canvas"),ct=Fe.getContext("2d");Fe.width=Se.videoWidth,Fe.height=Se.videoHeight;const Qe=Se.duration,It=ru*1024*1024*.95,Mt=Math.max(5e5,Math.floor(It*8/Qe));let wt="video/webm;codecs=vp9";MediaRecorder.isTypeSupported(wt)||(wt="video/webm;codecs=vp8",MediaRecorder.isTypeSupported(wt)||(wt="video/webm",MediaRecorder.isTypeSupported(wt)||(wt="video/mp4")));const Br=Fe.captureStream(30),Or=[];let na=0;const Hr=new MediaRecorder(Br,{mimeType:wt,videoBitsPerSecond:Mt});Hr.ondataavailable=lr=>{lr.data&&lr.data.size>0&&Or.push(lr.data)},Hr.onstop=()=>{he(100),setTimeout(()=>{const lr=new Blob(Or,{type:wt}),sr=wt.includes("webm")?"webm":"mp4",Lr=new File([lr],me.name.replace(/\.[^/.]+$/,"")+"."+sr,{type:lr.type,lastModified:Date.now()});O(Lr),J(!1),he(0),URL.revokeObjectURL(Ae),L.target.value=""},300)},Hr.onerror=lr=>{console.error("Compression error:",lr),D("Erreur lors de la compression. Veuillez essayer avec une autre vido."),J(!1),he(0),URL.revokeObjectURL(Ae),L.target.value=""},Hr.start(100),Se.currentTime=0,await Se.play();const tr=()=>{if(Se.ended||Se.paused||Se.readyState<2){Se.ended?(he(98),setTimeout(()=>{Hr.stop()},100)):requestAnimationFrame(tr);return}try{ct.drawImage(Se,0,0,Fe.width,Fe.height);const lr=Math.min(98,Se.currentTime/Qe*100);he(lr),Se.ended?(he(99),setTimeout(()=>{Hr.stop()},200)):(Se.currentTime+=.033,requestAnimationFrame(tr))}catch(lr){console.error("Frame drawing error:",lr),he(100),Hr.stop()}};setTimeout(()=>{tr()},100)}catch(Se){console.error("Video compression error:",Se),D("Erreur lors de la compression. Le fichier est peut-tre trop volumineux ou corrompu. Veuillez essayer avec une vido plus courte."),J(!1),he(0),L.target.value=""}}else O(me),L.target.value=""}},Ee=()=>{O(null),D(""),J(!1),he(0),te(0)},le=L=>{const me=L.target.files?.[0];if(me){if(me.type!=="application/pdf"){W("Le fichier doit tre un PDF.");return}if(me.size>Ry*1024*1024){W(`Le PDF doit faire moins de ${Ry} Mo.`);return}W(""),$(me),H(!1),L.target.value=""}},Ne=()=>{$(null),W("")},tt=async L=>{L.preventDefault(),f(!0),T&&(Y(!0),B(0));try{const me=new FormData;Object.entries(i).forEach(([ct,Qe])=>{ct==="discount"&&(Qe===""||Qe===null||Qe===void 0)||me.append(ct,Qe)}),u.slice(0,ol).forEach(ct=>{const Qe=ct?.file||ct;Qe instanceof File&&me.append("images",Qe)}),x.forEach(ct=>me.append("removeImages",ct)),T&&me.append("video",T),j&&me.append("pdf",j),ee&&me.append("removePdf","true");const Se=`/products${s?`/${s}`:""}`,Fe=await se[s?"put":"post"](Se,me,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ct=>{if(ct.total){const Qe=Math.round(ct.loaded*100/ct.total);B(Qe)}}});s?a?.(Fe.data):r?.(Fe.data),d({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),m([]),b([]),E([]),N([]),A(""),O(null),D(""),$(null),W(""),Q(null),H(!1)}catch(me){alert(me.response?.data?.message||me.message)}finally{f(!1),Y(!1),B(0)}},lt=()=>{const L=parseFloat(i.price)||0;return Math.round(L*.03)};g.useEffect(()=>{if(!n){E([]),Q(null),H(!1),N([]);return}d({title:n.title||"",description:n.description||"",price:n.price||"",category:n.category||"",condition:n.condition||"new",operator:n.operator||"MTN",discount:typeof n.discount=="number"||typeof n.discount=="string"?n.discount:""}),E(Array.isArray(n.images)?n.images:[]),Q(n.pdf||null),H(!1),N([])},[n]);const gt=!!s,F=gt?"Modifier une annonce":"Publier une annonce",we=gt?"Mettez  jour les informations de votre produit":"Remplissez les dtails de votre produit pour commencer  vendre",ye=o||(gt?"Mettre  jour lannonce":"Publier lannonce"),ke=gt?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2";return e.createElement("div",{className:"max-w-2xl mx-auto"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Ot,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},F),e.createElement("p",{className:"text-gray-500 text-sm"},we)),e.createElement("form",{onSubmit:tt,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Titre de l'annonce *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:i.title,onChange:L=>d({...i,title:L.target.value}),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Description dtaille *")),e.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:i.description,onChange:L=>d({...i,description:L.target.value}),required:!0})),e.createElement("div",{className:`grid ${ke} gap-4`},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wa,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Catgorie *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:i.category,onChange:L=>d({...i,category:L.target.value}),required:!0},e.createElement("option",{value:""},"Slectionnez une catgorie"),Es.map((L,me)=>e.createElement("optgroup",{key:me,label:L.label},L.options.map(Se=>e.createElement("option",{key:Se.value,value:Se.value},Se.label)))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(xa,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Prix (FCFA) *")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 250000",value:i.price,onChange:L=>d({...i,price:L.target.value}),required:!0,min:"0"})),gt&&e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wa,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Remise (%)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 5",value:i.discount,onChange:L=>{const me=L.target.value;if(me===""){d(Ae=>({...Ae,discount:""}));return}const Se=Math.max(0,Math.min(99,Number(me)));d(Ae=>({...Ae,discount:Se}))},min:"0",max:"99"}),e.createElement("p",{className:"text-[11px] text-gray-500"},"Laissez vide pour aucune remise. Le pourcentage maximum est de 99%."))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),e.createElement("div",{className:"flex space-x-4"},e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"new",checked:i.condition==="new",onChange:L=>d({...i,condition:L.target.value}),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${i.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},i.condition==="new"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"used",checked:i.condition==="used",onChange:L=>d({...i,condition:L.target.value}),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${i.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},i.condition==="used"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Oprateur mobile"),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:i.operator,onChange:L=>d({...i,operator:L.target.value})},e.createElement("option",{value:"MTN"},"MTN"),e.createElement("option",{value:"Airtel"},"Airtel"))))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Photos du produit")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(eM,{className:"w-4 h-4 text-blue-500"}),e.createElement("span",null,"Photos"," ",w.length+u.length>0&&`(${w.length+u.length})`)),e.createElement("p",{className:"text-xs text-gray-500"},"Jusqu' ",ol," photos (PNG ou JPG, 10MB max chacun)."),w.length>0&&e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-xs text-gray-500"},"Images actuelles"),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},w.map((L,me)=>e.createElement("div",{key:`${L}-${me}`,className:"relative group"},e.createElement("img",{src:L,alt:`Image existante ${me+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("button",{type:"button",onClick:()=>et(me),className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600 transition-colors","aria-label":"Supprimer l'image"},e.createElement(s4,{className:"w-3.5 h-3.5"})))))),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(vi,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG jusqu' 10MB")),e.createElement("input",{type:"file",multiple:!0,onChange:mt,className:"hidden",accept:"image/*"})),k&&e.createElement("p",{className:"text-xs text-red-500"},k),y.length>0&&e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},y.map((L,me)=>e.createElement("div",{key:me,className:"relative group"},e.createElement("img",{src:L.url,alt:`Preview ${me+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors rounded-lg flex items-center justify-center gap-2"},e.createElement("button",{type:"button",onClick:()=>editImageCrop(me),className:"opacity-0 group-hover:opacity-100 bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-lg hover:bg-white transition-all","aria-label":"Recadrer l'image",title:"Recadrer"},e.createElement(q5,{className:"w-3.5 h-3.5 text-gray-700"})),e.createElement("button",{type:"button",onClick:()=>ut(me),className:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-1.5 rounded-full shadow-lg hover:bg-red-600 transition-all","aria-label":"Supprimer l'image",title:"Supprimer"},e.createElement(s4,{className:"w-3.5 h-3.5"}))),u[me]?.cropped&&e.createElement("div",{className:"absolute top-1 left-1 bg-emerald-500 text-white text-[8px] px-1.5 py-0.5 rounded font-semibold"},"Recadr")))))),S?e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-2"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vido de prsentation")),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez une courte vido (MP4, MOV, WEBM) pour montrer le produit. Taille maximale ",ru," Mo."),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(Nw,{className:"w-8 h-8 text-gray-400 group-hover:text-emerald-500 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader votre vido"),e.createElement("input",{type:"file",accept:"video/*",onChange:Z,className:"hidden"})),V&&e.createElement("div",{className:"space-y-3 p-4 rounded-xl border-2 border-blue-300 bg-gradient-to-br from-blue-50 to-cyan-50 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin flex-shrink-0"}),e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-blue-900"},"Compression de la vido en cours..."),e.createElement("p",{className:"text-xs text-blue-600 mt-0.5"},"Rduction de la taille tout en conservant la rsolution originale"))),e.createElement("div",{className:"flex flex-col items-end"},e.createElement("span",{className:"text-lg font-bold text-blue-700"},Math.round(ue),"%"),e.createElement("span",{className:"text-[10px] text-blue-500 font-medium"},"Progression"))),e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"w-full rounded-full bg-gray-200 h-3 overflow-hidden shadow-inner"},e.createElement("div",{className:"h-full bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 transition-all duration-300 ease-out shadow-lg relative",style:{width:`${ue}%`}},e.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"}))),e.createElement("div",{className:"flex items-center justify-between text-[10px] text-gray-600"},e.createElement("span",null,"0%"),e.createElement("span",{className:"font-semibold text-blue-600"},"En cours..."),e.createElement("span",null,"100%"))),e.createElement("div",{className:"flex items-center gap-2 pt-2 border-t border-blue-200"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-xs text-gray-600"},e.createElement("span",{className:"font-semibold text-blue-700"},"Taille originale:")," ",(Oe/(1024*1024)).toFixed(2)," MB")),e.createElement("div",{className:"w-px h-4 bg-blue-200"}),e.createElement("div",{className:"flex-1 text-right"},e.createElement("p",{className:"text-xs text-gray-600"},e.createElement("span",{className:"font-semibold text-blue-700"},"Cible:")," ",ru," MB max")))),T&&!V&&e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm text-gray-700 truncate font-medium"},T.name),e.createElement("div",{className:"flex items-center gap-2 mt-1"},e.createElement("p",{className:"text-xs text-gray-500"},(T.size/(1024*1024)).toFixed(2)," MB"),Oe>T.size&&e.createElement(e.Fragment,null,e.createElement("span",{className:"text-xs text-gray-400"},""),e.createElement("p",{className:"text-xs text-emerald-600 font-semibold"},"Rduit de ",((1-T.size/Oe)*100).toFixed(1),"%")))),e.createElement("button",{type:"button",onClick:Ee,className:"ml-3 text-xs font-semibold text-red-600 hover:text-red-500 px-2 py-1 hover:bg-red-50 rounded transition-colors"},"Supprimer")),Oe>ru*1024*1024&&e.createElement("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-50 border border-emerald-200"},e.createElement(Ws,{className:"w-4 h-4 text-emerald-600 flex-shrink-0"}),e.createElement("p",{className:"text-xs text-emerald-700"},"Vido compresse avec succs. Rsolution originale conserve."))),R&&e.createElement("div",{className:"px-3 py-2 rounded-xl border border-red-200 bg-red-50"},e.createElement("p",{className:"text-xs text-red-600"},R)),G&&e.createElement("div",{className:"mt-2 space-y-1"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-600"},e.createElement("span",null,"Upload en cours..."),e.createElement("span",null,q,"%")),e.createElement("div",{className:"w-full rounded-full bg-gray-100 h-2 overflow-hidden"},e.createElement("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-200",style:{width:`${q}%`}})))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500 space-y-1"},e.createElement("p",{className:"font-semibold text-gray-700"},"Vido rserve aux boutiques certifies"),e.createElement("p",null,"Contactez un administrateur via"," ",e.createElement("a",{href:"/help",className:"font-semibold text-indigo-600 hover:underline"},"le centre daide")," ","pour valider votre boutique.")),_&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-2"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-slate-500 to-gray-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Fiche produit (PDF)")),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez un document PDF pour dtailler votre produit. Taille maximale ",Ry," Mo."),z&&!j&&!ee&&e.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700"},e.createElement("div",null,e.createElement("span",{className:"font-medium"},"PDF actuel :")," ",e.createElement("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline"},"Ouvrir")),e.createElement("button",{type:"button",onClick:()=>H(!0),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-red-200 bg-red-50 text-red-600 transition hover:bg-red-100","aria-label":"Supprimer le PDF",title:"Supprimer le PDF"},e.createElement(Li,{className:"h-4 w-4"}))),ee&&e.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700"},e.createElement("span",null,"Le PDF sera supprim lors de lenregistrement."),e.createElement("button",{type:"button",onClick:()=>H(!1),className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Annuler")),e.createElement("label",{className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},e.createElement(gn,{className:"w-8 h-8 text-gray-400 group-hover:text-slate-600 transition-colors mb-2"}),e.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader un PDF"),e.createElement("input",{type:"file",accept:"application/pdf",onChange:le,className:"hidden"})),j&&e.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},e.createElement("span",{className:"text-sm text-gray-700 truncate"},j.name),e.createElement("button",{type:"button",onClick:Ne,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")),K&&e.createElement("p",{className:"text-xs text-red-500"},K)),!gt&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Validation de l'annonce")),e.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 space-y-3"},e.createElement("div",{className:"flex items-start space-x-3"},e.createElement(xr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.createElement("div",{className:"space-y-2"},e.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Commission de publication"),e.createElement("p",{className:"text-amber-700 text-sm"},"Pour valider votre annonce, envoyez ",e.createElement("span",{className:"font-bold"},lt().toLocaleString()," FCFA"),"(3% du prix) au numro ",e.createElement("span",{className:"font-bold"},yU[i.operator])," (",i.operator,")."),e.createElement("div",{className:"flex items-center space-x-2 text-xs text-amber-600"},e.createElement(Ws,{className:"w-4 h-4"}),e.createElement("span",null,"Votre annonce sera approuve sous 24h aprs paiement")))))),(i.title||y.length>0||w.length>0)&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Aperu")),e.createElement("button",{type:"button",onClick:()=>ht(!xt),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors"},xt?e.createElement(e.Fragment,null,e.createElement(gF,{className:"w-4 h-4"}),e.createElement("span",null,"Masquer")):e.createElement(e.Fragment,null,e.createElement(oF,{className:"w-4 h-4"}),e.createElement("span",null,"Afficher")))),xt&&e.createElement("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200"},e.createElement("div",{className:"max-w-sm mx-auto"},e.createElement(Da,{p:{_id:"preview",title:i.title||"Titre du produit",description:i.description||"Description du produit",price:i.price||0,category:i.category||"",condition:i.condition||"used",discount:i.discount||0,images:[...w,...y.map(L=>L.url)].filter(Boolean),user:P?{_id:P.id,name:P.name,shopName:P.shopName,shopVerified:P.shopVerified,shopLogo:P.shopLogo}:null,createdAt:new Date().toISOString(),views:0,favoritesCount:0,commentCount:0,ratingAverage:0,ratingCount:0},hideMobileDiscountBadge:!1})))),e.createElement("button",{type:"submit",disabled:p||!i.title||!i.description||!i.price||!i.category,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},p?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,gt?"Mise  jour en cours...":"Publication en cours...")):e.createElement(e.Fragment,null,e.createElement(ag,{className:"w-5 h-5"}),e.createElement("span",null,ye)))),ie&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4"},e.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col"},e.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center"},e.createElement(q5,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Recadrer l'image"),e.createElement("p",{className:"text-xs text-gray-500"},"Ajustez la zone de recadrage"))),e.createElement("button",{type:"button",onClick:be,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Fermer"},e.createElement(_t,{className:"w-5 h-5 text-gray-500"}))),e.createElement("div",{className:"flex-1 p-4 overflow-auto"},e.createElement("div",{ref:He,className:"relative w-full h-96 bg-gray-100 rounded-lg overflow-hidden cursor-move",onMouseDown:bt,onMouseMove:Pt,onMouseUp:Ge,onMouseLeave:Ge},e.createElement("img",{ref:Je,src:ie.url,alt:"Image  recadrer",className:"absolute",style:{width:`${Je.current?.naturalWidth*at||0}px`,height:`${Je.current?.naturalHeight*at||0}px`,left:`${it.x}px`,top:`${it.y}px`,pointerEvents:"none"},onLoad:L=>{const me=L.target,Se=He.current;if(!Se)return;const Ae=Se.clientWidth,Fe=Se.clientHeight,ct=me.naturalWidth/me.naturalHeight,Qe=Ae/Fe;let It,Mt;ct>Qe?(It=Ae,Mt=Ae/ct):(Mt=Fe,It=Fe*ct),nt(It/me.naturalWidth),xe({x:(Ae-It)/2,y:(Fe-Mt)/2});const wt=Math.min(It,Mt)*.8;ne({x:(Ae-wt)/2,y:(Fe-wt)/2,width:wt,height:wt})}}),e.createElement("div",{className:"absolute border-2 border-white shadow-lg",style:{left:`${Ce.x}px`,top:`${Ce.y}px`,width:`${Ce.width}px`,height:`${Ce.height}px`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}},e.createElement("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-white border-2 border-blue-500 rounded-full cursor-se-resize",onMouseDown:L=>{L.stopPropagation();const me=Ae=>{ft(Ae)},Se=()=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",Se)};document.addEventListener("mousemove",me),document.addEventListener("mouseup",Se)}})))),e.createElement("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 bg-gray-50"},e.createElement("button",{type:"button",onClick:be,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},"Annuler"),e.createElement("button",{type:"button",onClick:Ye,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-sm"},"Confirmer le recadrage")))))}function xU({productId:t,productTitle:r,onClose:a}){const{showToast:n}=Qo(),[s,o]=g.useState(!0),[i,d]=g.useState(null),[u,m]=g.useState("");g.useEffect(()=>{t&&p()},[t]);const p=async()=>{o(!0),m("");try{const{data:w}=await se.get(`/products/${t}/analytics`);d(w)}catch(w){m(w.response?.data?.message||"Erreur lors du chargement des analytics"),n("Erreur lors du chargement des analytics",{variant:"error"})}finally{o(!1)}};if(!t)return null;const f=i?.metrics||{},y=i?.viewsOverTime||[],b=Math.max(...y.map(w=>w.views),1);return e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},e.createElement("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30"},e.createElement(Qn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Analytics du produit"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-md"},r))),e.createElement("button",{type:"button",onClick:a,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},e.createElement(_t,{size:20}))),e.createElement("div",{className:"p-6 space-y-6"},s?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})):u?e.createElement("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 text-center"},e.createElement("p",{className:"text-red-600 dark:text-red-400"},u)):e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 rounded-xl p-4 border border-pink-200 dark:border-pink-800"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("div",{className:"p-2 rounded-lg bg-pink-500 text-white"},e.createElement(ur,{className:"w-4 h-4"})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-xs font-semibold text-pink-600 dark:text-pink-400 uppercase tracking-wide"},"Favoris"),e.createElement("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100"},f.favoritesCount||0))),e.createElement("p",{className:"text-xs text-pink-600 dark:text-pink-400"},"Utilisateurs qui ont aim")),e.createElement("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-4 border border-green-200 dark:border-green-800"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("div",{className:"p-2 rounded-lg bg-green-500 text-white"},e.createElement(br,{className:"w-4 h-4"})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-xs font-semibold text-green-600 dark:text-green-400 uppercase tracking-wide"},"Clics WhatsApp"),e.createElement("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100"},f.whatsappClicks||0))),e.createElement("p",{className:"text-xs text-green-600 dark:text-green-400"},"Contacts gnrs")),e.createElement("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-4 border border-purple-200 dark:border-purple-800"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("div",{className:"p-2 rounded-lg bg-purple-500 text-white"},e.createElement(Ga,{className:"w-4 h-4"})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide"},"Ventes"),e.createElement("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100"},f.salesCount||0))),e.createElement("p",{className:"text-xs text-purple-600 dark:text-purple-400"},"Commandes ralises"))),y.length>0&&e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(Xt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),e.createElement("div",{className:"flex-1"},e.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},"Vues sur les 30 derniers jours"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Total: ",f.totalViews||0," vues  ",f.uniqueViewers||0," visiteurs uniques"))),e.createElement("div",{className:"h-64 flex items-end gap-1"},y.map((w,E)=>{const x=b>0?w.views/b*100:0;return e.createElement("div",{key:E,className:"flex-1 flex flex-col items-center group relative"},e.createElement("div",{className:"w-full bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${x}%`,minHeight:w.views>0?"4px":"0"},title:`${new Date(w.date).toLocaleDateString("fr-FR")}: ${w.views} vue(s)`}),E%5===0&&e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 transform -rotate-45 origin-left whitespace-nowrap"},new Date(w.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})))}))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},e.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux de conversion"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},f.totalViews>0?(f.whatsappClicks/f.totalViews*100).toFixed(1):0,"%"),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Vues  Contacts")),e.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux d'engagement"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},(f.totalViews||0)>0?((f.favoritesCount||0)/f.totalViews*100).toFixed(1):0,"%"),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Vues  Favoris")),e.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux de vente"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},f.whatsappClicks>0?(f.salesCount/f.whatsappClicks*100).toFixed(1):0,"%"),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Contacts  Ventes")))))))}const au=12,gc={all:"Toutes",pending:"En attente",approved:"Approuves",rejected:"Rejetes",disabled:"Dsactives"},o4={pending:{badge:"bg-amber-500",card:"bg-amber-50 border-amber-200 text-amber-800"},approved:{badge:"bg-emerald-500",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},rejected:{badge:"bg-red-500",card:"bg-red-50 border-red-200 text-red-800"},disabled:{badge:"bg-gray-500",card:"bg-gray-50 border-gray-200 text-gray-700"}},$y={pending:Ut,approved:Qt,rejected:_t,disabled:kp},i4={pending:"Annonce en attente de validation aprs paiement.",approved:"Annonce valide et visible par les acheteurs.",rejected:"Annonce rejete. Consultez le support pour plus de dtails.",disabled:"Annonce dsactive. Elle n'est plus visible par les acheteurs."},hc=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Vf=t=>{if(!t)return"";const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};function vU(){const{showToast:t}=Qo(),r=ts(),[a,n]=g.useState([]),[s,o]=g.useState(!0),[i,d]=g.useState(""),[u,m]=g.useState(!1),[p,f]=g.useState(null),[y,b]=g.useState(1),[w,E]=g.useState("all"),[x,N]=g.useState(""),[k,A]=g.useState(new Set),[P,S]=g.useState(!1),[_,T]=g.useState("multiple"),[O,R]=g.useState(""),[D,j]=g.useState(""),[$,K]=g.useState([]),[W,z]=g.useState(""),[Q,ee]=g.useState(""),[H,q]=g.useState(""),[B,G]=g.useState(""),[Y,V]=g.useState([]),[J,ue]=g.useState("all"),[he,Oe]=g.useState("date-desc"),[te,ie]=g.useState(!1),[de,Ce]=g.useState([]),[ne,re]=g.useState(""),[Ie,fe]=g.useState(null),[Le,at]=g.useState("grid"),nt=async()=>{o(!0),d("");try{const{data:F}=await se.get("/products");n(Array.isArray(F)?F:[]),b(1)}catch(F){d(F.response?.data?.message||F.message||"Impossible de charger vos annonces."),t(F.response?.data?.message||F.message||"Erreur de chargement",{variant:"error"})}finally{o(!1)}};g.useEffect(()=>{nt(),it()},[]);const it=async()=>{try{const F=await wr.get("userDashboard_savedFilters");F&&Array.isArray(F)&&Ce(F)}catch(F){console.error("Error loading saved filters:",F)}},xe=async()=>{if(!ne.trim()){t("Veuillez entrer un nom pour ce filtre",{variant:"error"});return}const F={id:Date.now().toString(),name:ne.trim(),searchQuery:O,selectedCategories:$,priceMin:W,priceMax:Q,dateFrom:H,dateTo:B,selectedStatuses:Y,sortBy:he,createdAt:new Date().toISOString()};try{const we=[...de,F];await wr.set("userDashboard_savedFilters",we),Ce(we),re(""),t("Filtre sauvegard avec succs",{variant:"success"})}catch(we){console.error("Error saving filter:",we),t("Erreur lors de la sauvegarde",{variant:"error"})}},He=F=>{R(F.searchQuery||""),j(F.searchQuery||""),K(F.selectedCategories||[]),z(F.priceMin||""),ee(F.priceMax||""),q(F.dateFrom||""),G(F.dateTo||""),V(F.selectedStatuses||[]),ue(F.boostedFilter||"all"),Oe(F.sortBy||"date-desc"),F.selectedStatuses&&F.selectedStatuses.length>0?E("custom"):E("all"),t(`Filtre "${F.name}" charg`,{variant:"success"})},Je=async F=>{try{const we=de.filter(ye=>ye.id!==F);await wr.set("userDashboard_savedFilters",we),Ce(we),t("Filtre supprim",{variant:"success"})}catch(we){console.error("Error deleting filter:",we),t("Erreur lors de la suppression",{variant:"error"})}},xt=()=>{R(""),j(""),K([]),z(""),ee(""),q(""),G(""),V([]),Oe("date-desc"),E("all"),t("Filtres rinitialiss",{variant:"success"})},ht=()=>{m(!1),f(null)},mt=async(F,we)=>{N(F);try{await se.patch(`/products/${F}/${we}`),await nt(),t(we==="disable"?"Annonce dsactive avec succs.":"Annonce ractive avec succs.",{variant:"success"})}catch(ye){t(ye.response?.data?.message||ye.message||"Erreur lors de la mise  jour",{variant:"error"})}finally{N("")}},pt=g.useMemo(()=>{const F=a.length,we=a.filter(Se=>Se.status==="pending").length,ye=a.filter(Se=>Se.status==="approved").length,ke=a.filter(Se=>Se.status==="rejected").length,L=a.filter(Se=>Se.status==="disabled").length,me=a.reduce((Se,Ae)=>Se+Number(Ae.price||0),0);return{total:F,pending:we,approved:ye,rejected:ke,disabled:L,totalValue:me}},[a]);g.useEffect(()=>{const F=setTimeout(()=>{R(D.trim())},400);return()=>clearTimeout(F)},[D]);const bt=g.useMemo(()=>{const F=new Set;return a.forEach(we=>{we.category&&F.add(we.category)}),Array.from(F).sort()},[a]),Pt=g.useMemo(()=>[...a].filter(F=>F.status==="approved").map(F=>{const we=Number(F.favoritesCount||0),ye=Number(F.whatsappClicks||0),ke=Number(F.salesCount||0),L=we*.4+ye*.4+ke*20;return{...F,performanceScore:L}}).sort((F,we)=>we.performanceScore-F.performanceScore).slice(0,5).map(F=>F._id||F.id),[a]),Ge=g.useMemo(()=>{let F=[...a];if(O){const we=O.toLowerCase();F=F.filter(ye=>ye.title?.toLowerCase().includes(we)||ye.description?.toLowerCase().includes(we))}if($.length>0&&(F=F.filter(we=>$.includes(we.category))),W){const we=Number(W);isNaN(we)||(F=F.filter(ye=>Number(ye.price||0)>=we))}if(Q){const we=Number(Q);isNaN(we)||(F=F.filter(ye=>Number(ye.price||0)<=we))}if(H){const we=new Date(H);isNaN(we.getTime())||(F=F.filter(ye=>new Date(ye.createdAt)>=we))}if(B){const we=new Date(B);we.setHours(23,59,59,999),isNaN(we.getTime())||(F=F.filter(ye=>new Date(ye.createdAt)<=we))}return Y.length>0?F=F.filter(we=>Y.includes(we.status)):w!=="all"&&w!=="custom"&&(F=F.filter(we=>we.status===w)),J==="boosted"?F=F.filter(we=>we.boosted===!0):J==="non-boosted"&&(F=F.filter(we=>we.boosted!==!0)),F.sort((we,ye)=>{switch(he){case"date-desc":return new Date(ye.createdAt||0)-new Date(we.createdAt||0);case"date-asc":return new Date(we.createdAt||0)-new Date(ye.createdAt||0);case"price-desc":return Number(ye.price||0)-Number(we.price||0);case"price-asc":return Number(we.price||0)-Number(ye.price||0);case"title-asc":return(we.title||"").localeCompare(ye.title||"","fr");case"title-desc":return(ye.title||"").localeCompare(we.title||"","fr");case"status-asc":return(we.status||"").localeCompare(ye.status||"","fr");case"status-desc":return(ye.status||"").localeCompare(we.status||"","fr");default:return 0}}),F},[a,O,$,W,Q,H,B,Y,w,he]),ft=Ge.length?Math.ceil(Ge.length/au):1,We=g.useMemo(()=>{const F=(y-1)*au;return Ge.slice(F,F+au)},[Ge,y]),Ye=Ge.length?(y-1)*au+1:0,be=Math.min(Ge.length,y*au),ut=F=>{const we=Math.min(Math.max(F,1),ft);b(we),window.scrollTo({top:0,behavior:"smooth"})};g.useEffect(()=>{b(1),A(new Set)},[w,O,$,W,Q,H,B,Y,J,he]),g.useEffect(()=>{if(_==="single"&&k.size>1){const F=Array.from(k)[0];A(new Set([F]))}},[_]);const et=F=>{F&&A(_==="single"?we=>we.has(F)?new Set:new Set([F]):we=>{const ye=new Set(we);return ye.has(F)?ye.delete(F):ye.add(F),ye})},Z=()=>{if(_==="single")T("multiple"),A(new Set(We.map(F=>F._id||F.id).filter(Boolean)));else{const F=We.map(we=>we._id||we.id).filter(Boolean);k.size===F.length&&F.every(we=>k.has(we))?A(new Set):A(new Set(F))}},Ee=()=>{A(new Set)},le=async()=>{if(k.size!==0&&confirm(`Ractiver ${k.size} produit(s) ?`)){S(!0);try{await se.post("/products/bulk/enable",{productIds:Array.from(k)}),await nt(),Ee(),t(`${k.size} produit(s) ractiv(s) avec succs.`,{variant:"success"})}catch(F){t(F.response?.data?.message||F.message||"Erreur lors de la ractivation",{variant:"error"})}finally{S(!1)}}},Ne=async()=>{if(k.size!==0&&confirm(`Dsactiver ${k.size} produit(s) ?`)){S(!0);try{await se.post("/products/bulk/disable",{productIds:Array.from(k)}),await nt(),Ee(),t(`${k.size} produit(s) dsactiv(s) avec succs.`,{variant:"success"})}catch(F){t(F.response?.data?.message||F.message||"Erreur lors de la dsactivation",{variant:"error"})}finally{S(!1)}}},tt=async()=>{if(k.size!==0&&confirm(`Supprimer dfinitivement ${k.size} produit(s) ? Cette action est irrversible.`)){S(!0);try{await se.post("/products/bulk/delete",{productIds:Array.from(k)}),await nt(),Ee(),t(`${k.size} produit(s) supprim(s) avec succs.`,{variant:"success"})}catch(F){t(F.response?.data?.message||F.message||"Erreur lors de la suppression",{variant:"error"})}finally{S(!1)}}},lt=()=>{if(k.size===0){t("Veuillez slectionner au moins un produit.",{variant:"error"});return}const F=a.filter(Ae=>k.has(Ae._id)),we=["Titre","Prix (FCFA)","Catgorie","Statut","Date de cration"],ye=F.map(Ae=>[Ae.title||"",Ae.price||0,Ae.category||"",gc[Ae.status]||Ae.status,Vf(Ae.createdAt)]),ke=[we.join(","),...ye.map(Ae=>Ae.map(Fe=>`"${String(Fe).replace(/"/g,'""')}"`).join(","))].join(`
`),L=new Blob(["\uFEFF"+ke],{type:"text/csv;charset=utf-8;"}),me=URL.createObjectURL(L),Se=document.createElement("a");Se.href=me,Se.download=`mes_annonces_${new Date().toISOString().split("T")[0]}.csv`,Se.click(),URL.revokeObjectURL(me),t("Export CSV russi !",{variant:"success"})},gt=()=>{if(k.size===0){t("Veuillez slectionner au moins un produit.",{variant:"error"});return}const F=a.filter(ke=>k.has(ke._id)),we=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Mes Annonces - ${new Date().toLocaleDateString("fr-FR")}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #4f46e5; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #4f46e5; color: white; }
            tr:nth-child(even) { background-color: #f2f2f2; }
          </style>
        </head>
        <body>
          <h1>Mes Annonces</h1>
          <p>Date d'export: ${new Date().toLocaleDateString("fr-FR")}</p>
          <p>Nombre d'annonces: ${F.length}</p>
          <table>
            <thead>
              <tr>
                <th>Titre</th>
                <th>Prix (FCFA)</th>
                <th>Catgorie</th>
                <th>Statut</th>
                <th>Date de cration</th>
              </tr>
            </thead>
            <tbody>
              ${F.map(ke=>`
                <tr>
                  <td>${ke.title||""}</td>
                  <td>${hc(ke.price||0)}</td>
                  <td>${ke.category||""}</td>
                  <td>${gc[ke.status]||ke.status}</td>
                  <td>${Vf(ke.createdAt)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,ye=window.open("","_blank");ye&&(ye.document.write(we),ye.document.close(),ye.focus(),setTimeout(()=>{ye.print()},250))};return s&&a.length===0?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(F=>e.createElement("div",{key:F,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[1,2,3,4,5,6].map(F=>e.createElement("div",{key:F,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"bg-indigo-600 text-white"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Ot,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Mes annonces"),e.createElement("h1",{className:"text-3xl font-bold"},"Gestion de mes produits"))),e.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Grez vos annonces, suivez leur statut et publiez de nouveaux produits pour atteindre plus d'acheteurs.")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:nt,disabled:s,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all disabled:opacity-50"},e.createElement($i,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Actualiser"),e.createElement("button",{type:"button",onClick:()=>{f(null),m(!0)},className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},e.createElement(Ai,{className:"w-4 h-4"}),"Publier une annonce"))))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!s&&pt.total>0&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},e.createElement(Ot,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},pt.total)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total annonces"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes vos annonces")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},e.createElement(Qt,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},pt.approved)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Approuves"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Annonces actives")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},e.createElement(Ut,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},pt.pending)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"En cours de validation")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-purple-600"},e.createElement(xa,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},hc(pt.totalValue))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Valeur totale"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Valeur de vos annonces"))),!s&&a.length>0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 mb-8"},e.createElement("div",{className:"mb-6"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.createElement("input",{type:"text",value:D,onChange:F=>j(F.target.value),placeholder:"Rechercher par titre ou description...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),D&&e.createElement("button",{type:"button",onClick:()=>{j(""),R("")},className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},e.createElement($n,{className:"w-5 h-5"})))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("button",{type:"button",onClick:()=>ie(!te),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 hover:bg-gray-100 border border-gray-200 text-sm font-semibold text-gray-700 transition-all"},e.createElement(ks,{className:"w-4 h-4"}),"Filtres avancs",te?e.createElement(Lo,{className:"w-4 h-4"}):e.createElement(Ha,{className:"w-4 h-4"})),(O||$.length>0||W||Q||H||B||Y.length>0||J!=="all")&&e.createElement("button",{type:"button",onClick:xt,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-red-50 hover:bg-red-100 border border-red-200 text-sm font-semibold text-red-700 transition-all"},e.createElement($n,{className:"w-4 h-4"}),"Rinitialiser"),e.createElement("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-1 border border-gray-200 dark:border-gray-700"},e.createElement("button",{type:"button",onClick:()=>at("grid"),className:`p-2 rounded-lg transition-all ${Le==="grid"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Vue grille"},e.createElement(pN,{className:"w-4 h-4"})),e.createElement("button",{type:"button",onClick:()=>at("list"),className:`p-2 rounded-lg transition-all ${Le==="list"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Vue liste"},e.createElement(aM,{className:"w-4 h-4"})))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm font-semibold text-gray-700"},"Trier par:"),e.createElement("select",{value:he,onChange:F=>Oe(F.target.value),className:"px-4 py-2 rounded-xl bg-gray-50 border border-gray-200 text-sm font-semibold text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"},e.createElement("option",{value:"date-desc"},"Date (rcent)"),e.createElement("option",{value:"date-asc"},"Date (ancien)"),e.createElement("option",{value:"price-desc"},"Prix (dcroissant)"),e.createElement("option",{value:"price-asc"},"Prix (croissant)"),e.createElement("option",{value:"title-asc"},"Titre (A-Z)"),e.createElement("option",{value:"title-desc"},"Titre (Z-A)"),e.createElement("option",{value:"status-asc"},"Statut (A-Z)"),e.createElement("option",{value:"status-desc"},"Statut (Z-A)")))),te&&e.createElement("div",{className:"border-t border-gray-200 pt-6 space-y-6"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Catgories"),e.createElement("div",{className:"flex flex-wrap gap-2"},bt.map(F=>{const we=$.includes(F),ye=Es.flatMap(ke=>ke.options).find(ke=>ke.value===F);return e.createElement("button",{key:F,type:"button",onClick:()=>{K(we?$.filter(ke=>ke!==F):[...$,F])},className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${we?"bg-indigo-600 text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`},ye?.label||F)}))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Plage de prix (FCFA)"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("input",{type:"number",value:W,onChange:F=>z(F.target.value),placeholder:"Prix minimum",className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})),e.createElement("div",null,e.createElement("input",{type:"number",value:Q,onChange:F=>ee(F.target.value),placeholder:"Prix maximum",className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Plage de dates"),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"Du"),e.createElement("input",{type:"date",value:H,onChange:F=>q(F.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})),e.createElement("div",null,e.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"Au"),e.createElement("input",{type:"date",value:B,onChange:F=>G(F.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})))),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Statuts (slection multiple)"),e.createElement("div",{className:"flex flex-wrap gap-2"},Object.entries(gc).filter(([F])=>F!=="all").map(([F,we])=>{const ye=Y.includes(F),ke=$y[F];return e.createElement("button",{key:F,type:"button",onClick:()=>{ye?(V(Y.filter(L=>L!==F)),Y.length===1&&E("all")):(V([...Y,F]),E("custom"))},className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold transition-all ${ye?"bg-indigo-600 text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`},e.createElement(ke,{className:"w-4 h-4"}),e.createElement("span",null,we))}))),e.createElement("div",{className:"border-t border-gray-200 pt-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("input",{type:"text",value:ne,onChange:F=>re(F.target.value),placeholder:"Nom du filtre...",className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.createElement("button",{type:"button",onClick:xe,className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-all"},e.createElement(xd,{className:"w-4 h-4"}),"Sauvegarder")),de.length>0&&e.createElement("div",{className:"mt-4"},e.createElement("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide"},"Filtres sauvegards"),e.createElement("div",{className:"flex flex-wrap gap-2"},de.map(F=>e.createElement("div",{key:F.id,className:"flex items-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl"},e.createElement("button",{type:"button",onClick:()=>He(F),className:"text-sm font-semibold text-gray-700 hover:text-indigo-600 transition-colors"},F.name),e.createElement("button",{type:"button",onClick:()=>Je(F.id),className:"text-gray-400 hover:text-red-600 transition-colors"},e.createElement(_t,{className:"w-4 h-4"}))))))))),!s&&a.length>0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},e.createElement("div",{className:"flex flex-wrap gap-2"},Object.entries(gc).map(([F,we])=>{const ye=w===F&&Y.length===0,ke=F==="all"?pt.total:pt[F]||0,L=F!=="all"?$y[F]:Ot;return e.createElement("button",{key:F,type:"button",onClick:()=>{E(F),V([])},className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${ye?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},F!=="all"&&e.createElement(L,{className:"w-4 h-4"}),e.createElement("span",null,we),ke>0&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${ye?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},ke))}))),i&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},i)))),!s&&a.length===0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},e.createElement(Ot,{className:"w-10 h-10 text-indigo-600"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune annonce"),e.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Commencez  vendre en publiant votre premire annonce. C'est simple, rapide et gratuit !"),e.createElement("button",{type:"button",onClick:()=>{f(null),m(!0)},className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement(Ai,{className:"w-4 h-4"}),"Publier ma premire annonce")),!s&&a.length>0&&Ge.length===0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},e.createElement(ks,{className:"w-10 h-10 text-gray-400"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun rsultat trouv"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Aucune annonce ne correspond  vos critres de recherche et filtrage."),e.createElement("button",{type:"button",onClick:xt,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl border-2 border-indigo-200 bg-white text-indigo-600 font-semibold hover:bg-indigo-50 transition-all"},"Rinitialiser les filtres")),!s&&We.length>0&&k.size>0&&e.createElement("div",{className:"bg-indigo-600 text-white rounded-2xl border border-indigo-700 shadow-lg p-4 mb-6"},e.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Bf,{className:"w-5 h-5"}),e.createElement("span",{className:"font-semibold"},k.size," produit",k.size>1?"s":""," slectionn",k.size>1?"s":"")),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:le,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-500 text-white font-semibold hover:bg-emerald-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(Sy,{className:"w-4 h-4"}),"Ractiver"),e.createElement("button",{type:"button",onClick:Ne,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500 text-white font-semibold hover:bg-amber-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(kp,{className:"w-4 h-4"}),"Dsactiver"),e.createElement("button",{type:"button",onClick:tt,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(Li,{className:"w-4 h-4"}),"Supprimer"),e.createElement("button",{type:"button",onClick:lt,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(Ci,{className:"w-4 h-4"}),"CSV"),e.createElement("button",{type:"button",onClick:gt,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(gn,{className:"w-4 h-4"}),"PDF"),e.createElement("button",{type:"button",onClick:Ee,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all"},e.createElement(_t,{className:"w-4 h-4"}),"Annuler")))),!s&&We.length>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 bg-white rounded-2xl border border-gray-100 shadow-sm p-4"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex items-center gap-2 rounded-xl border border-gray-200 bg-gray-50 p-1"},e.createElement("button",{type:"button",onClick:()=>{T("single"),A(new Set)},className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${_==="single"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Slection unique"},"Un seul"),e.createElement("button",{type:"button",onClick:()=>{T("multiple"),A(new Set)},className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${_==="multiple"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Slection multiple"},"Plusieurs")),_==="multiple"&&e.createElement("button",{type:"button",onClick:Z,className:"flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-indigo-600 transition-colors"},k.size===We.length?e.createElement(Bf,{className:"w-5 h-5 text-indigo-600"}):e.createElement(Cy,{className:"w-5 h-5 text-gray-400"}),e.createElement("span",null,k.size===We.length?"Tout dslectionner":`Tout slectionner (${We.length})`))),k.size>0&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"text-sm text-gray-600"},k.size," produit",k.size>1?"s":""," slectionn",k.size>1?"s":"",_==="multiple"&&` sur ${We.length}`))),e.createElement("div",{className:Le==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"},We.map(F=>{const we=$y[F.status]||Ut,ye=o4[F.status]||o4.pending,ke=Array.isArray(F.images)&&F.images.length>0?F.images[0]:null,L=F._id||F.id;if(!L)return null;const me=k.has(L),Se=Pt.includes(L);return Le==="list"?e.createElement("div",{key:L,className:`bg-white rounded-xl border-2 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative ${me?"border-indigo-500 ring-2 ring-indigo-200":Se?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-100"}`},e.createElement("div",{className:"flex flex-col sm:flex-row gap-4 p-4"},e.createElement("div",{className:"absolute top-4 left-4 z-30"},e.createElement("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),Ae.preventDefault(),L&&et(L)},onMouseDown:Ae=>{Ae.stopPropagation(),Ae.preventDefault()},className:`p-2 rounded-lg backdrop-blur-sm transition-all cursor-pointer ${me?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg":"bg-black/60 text-white hover:bg-black/80"}`,style:{pointerEvents:"auto"},"aria-label":me?"Dslectionner":"Slectionner"},me?e.createElement(Bf,{className:"w-4 h-4"}):e.createElement(Cy,{className:"w-4 h-4"}))),Se&&e.createElement("div",{className:"absolute top-4 right-4 z-20"},e.createElement("div",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-yellow-400 to-yellow-500 text-white text-xs font-bold shadow-lg flex items-center gap-1"},e.createElement(Xt,{className:"w-3 h-3"}),"Top")),e.createElement("div",{className:"relative w-full sm:w-48 h-48 bg-gray-100 overflow-hidden rounded-lg flex-shrink-0"},ke?e.createElement("img",{src:ke,alt:F.title,className:"w-full h-full object-cover",loading:"lazy"}):e.createElement("div",{className:"w-full h-full flex items-center justify-center"},e.createElement(kl,{className:"w-12 h-12 text-gray-400"})),e.createElement("div",{className:"absolute top-2 right-2 flex flex-col gap-2"},e.createElement("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-lg ${ye.badge} text-white shadow-lg backdrop-blur-sm`},e.createElement(we,{className:"w-3 h-3"}),e.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},gc[F.status]||F.status)),F.boosted&&e.createElement("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg backdrop-blur-sm"},e.createElement(Nn,{className:"w-3 h-3"}),e.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},"Boost"))),F.images?.length>1&&e.createElement("div",{className:"absolute top-2 left-2"},e.createElement("div",{className:"px-2 py-1 rounded-lg bg-black/50 backdrop-blur-sm text-white text-xs font-bold"},F.images.length," photo",F.images.length>1?"s":""))),e.createElement("div",{className:"flex-1 flex flex-col gap-3 pt-8 sm:pt-0"},e.createElement("div",{className:"flex-1"},e.createElement("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2"},F.title),e.createElement("div",{className:"flex items-baseline gap-2 mb-3"},e.createElement("span",{className:"text-2xl font-black text-indigo-600"},hc(F.price)),F.priceBeforeDiscount&&F.priceBeforeDiscount>F.price&&e.createElement("span",{className:"text-sm text-gray-400 line-through"},hc(F.priceBeforeDiscount))),e.createElement("div",{className:`rounded-lg border p-2 mb-3 ${ye.card}`},e.createElement("p",{className:"text-xs font-medium leading-relaxed"},i4[F.status]||"Statut en cours de mise  jour.")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3"},F.category&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Ot,{className:"w-3 h-3"}),e.createElement("span",{className:"capitalize"},F.category)),F.boosted&&e.createElement("div",{className:"flex items-center gap-1 text-indigo-600 dark:text-indigo-400 font-semibold"},e.createElement(Nn,{className:"w-3 h-3"}),e.createElement("span",null,"Boost")),F.createdAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(pn,{className:"w-3 h-3"}),e.createElement("span",null,Vf(F.createdAt))))),e.createElement("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-100"},F.status==="approved"&&e.createElement(pe,{to:ar(F),...r,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-semibold hover:bg-indigo-100 transition-all"},e.createElement(zn,{className:"w-4 h-4"}),"Voir"),e.createElement("button",{type:"button",onClick:()=>{fe({id:L,title:F.title})},className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-purple-200 bg-purple-50 text-purple-700 text-sm font-semibold hover:bg-purple-100 transition-all"},e.createElement(Qn,{className:"w-4 h-4"}),"Analytics"),e.createElement("button",{type:"button",onClick:()=>{f(F),m(!0)},className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-700 text-sm font-semibold hover:bg-gray-50 transition-all"},e.createElement(Ou,{className:"w-4 h-4"}),"Modifier"),F.status!=="disabled"?e.createElement("button",{onClick:()=>mt(F.slug||F._id,"disable"),disabled:x===F._id,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-red-200 bg-red-50 text-red-700 text-sm font-semibold hover:bg-red-100 transition-all disabled:opacity-50",type:"button"},e.createElement(kp,{className:"w-4 h-4"}),"Dsactiver"):e.createElement("button",{onClick:()=>mt(F.slug||F._id,"enable"),disabled:x===F._id,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold hover:bg-emerald-100 transition-all disabled:opacity-50",type:"button"},e.createElement(Sy,{className:"w-4 h-4"}),"Ractiver")),F.status!=="disabled"&&e.createElement("div",{className:"pt-2 border-t border-gray-100"},e.createElement(n4,{product:F,onSubmitted:nt}))))):e.createElement("div",{key:L,className:`bg-white rounded-2xl border-2 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative ${me?"border-indigo-500 ring-2 ring-indigo-200":Se?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-100"}`},Se&&e.createElement("div",{className:"absolute top-3 right-3 z-20"},e.createElement("div",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-yellow-400 to-yellow-500 text-white text-xs font-bold shadow-lg flex items-center gap-1"},e.createElement(Xt,{className:"w-3 h-3"}),"Top")),e.createElement("div",{className:"absolute top-3 left-3 z-30"},e.createElement("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),Ae.preventDefault(),L&&et(L)},onMouseDown:Ae=>{Ae.stopPropagation(),Ae.preventDefault()},className:`p-2.5 rounded-lg backdrop-blur-sm transition-all cursor-pointer ${me?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg":"bg-black/60 text-white hover:bg-black/80"}`,style:{pointerEvents:"auto"},"aria-label":me?"Dslectionner":"Slectionner"},me?e.createElement(Bf,{className:"w-4 h-4"}):e.createElement(Cy,{className:"w-4 h-4"}))),e.createElement("div",{className:"relative aspect-square bg-gray-100 overflow-hidden"},ke?e.createElement("img",{src:ke,alt:F.title,className:"w-full h-full object-cover",loading:"lazy"}):e.createElement("div",{className:"w-full h-full flex items-center justify-center"},e.createElement(kl,{className:"w-12 h-12 text-gray-400"})),e.createElement("div",{className:"absolute top-3 right-3 flex flex-col gap-2"},e.createElement("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${ye.badge} text-white shadow-lg backdrop-blur-sm`},e.createElement(we,{className:"w-3.5 h-3.5"}),e.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},gc[F.status]||F.status)),F.boosted&&e.createElement("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg backdrop-blur-sm"},e.createElement(Nn,{className:"w-3.5 h-3.5"}),e.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},"Boost"))),F.images?.length>1&&e.createElement("div",{className:"absolute top-3 left-3"},e.createElement("div",{className:"px-2 py-1 rounded-lg bg-black/50 backdrop-blur-sm text-white text-xs font-bold"},F.images.length," photo",F.images.length>1?"s":""))),e.createElement("div",{className:"p-5 space-y-4"},e.createElement("div",null,e.createElement("h3",{className:"font-bold text-gray-900 line-clamp-2 mb-2 min-h-[2.5rem]"},F.title),e.createElement("div",{className:"flex items-baseline gap-2"},e.createElement("span",{className:"text-xl font-black text-indigo-600"},hc(F.price)),F.priceBeforeDiscount&&F.priceBeforeDiscount>F.price&&e.createElement("span",{className:"text-sm text-gray-400 line-through"},hc(F.priceBeforeDiscount)))),e.createElement("div",{className:`rounded-xl border p-3 ${ye.card}`},e.createElement("p",{className:"text-xs font-medium leading-relaxed"},i4[F.status]||"Statut en cours de mise  jour.")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t border-gray-100"},F.category&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Ot,{className:"w-3 h-3"}),e.createElement("span",{className:"capitalize"},F.category)),F.boosted&&e.createElement("div",{className:"flex items-center gap-1 text-indigo-600 dark:text-indigo-400 font-semibold"},e.createElement(Nn,{className:"w-3 h-3"}),e.createElement("span",null,"Boost")),F.createdAt&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(pn,{className:"w-3 h-3"}),e.createElement("span",null,Vf(F.createdAt)))),e.createElement("div",{className:"flex flex-wrap gap-2 pt-2"},F.status==="approved"&&e.createElement(pe,{to:ar(F),...r,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-semibold hover:bg-indigo-100 transition-all"},e.createElement(zn,{className:"w-4 h-4"}),"Voir"),e.createElement("button",{type:"button",onClick:()=>{fe({id:L,title:F.title})},className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-purple-200 bg-purple-50 text-purple-700 text-sm font-semibold hover:bg-purple-100 transition-all"},e.createElement(Qn,{className:"w-4 h-4"}),"Analytics"),e.createElement("button",{type:"button",onClick:()=>{f(F),m(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-gray-200 bg-white text-gray-700 text-sm font-semibold hover:bg-gray-50 transition-all"},e.createElement(Ou,{className:"w-4 h-4"}),"Modifier"),F.status!=="disabled"?e.createElement("button",{onClick:()=>mt(F.slug||F._id,"disable"),disabled:x===F._id,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-red-200 bg-red-50 text-red-700 text-sm font-semibold hover:bg-red-100 transition-all disabled:opacity-50",type:"button"},e.createElement(kp,{className:"w-4 h-4"}),"Dsactiver"):e.createElement("button",{onClick:()=>mt(F.slug||F._id,"enable"),disabled:x===F._id,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold hover:bg-emerald-100 transition-all disabled:opacity-50",type:"button"},e.createElement(Sy,{className:"w-4 h-4"}),"Ractiver")),F.status!=="disabled"&&e.createElement("div",{className:"pt-2 border-t border-gray-100"},e.createElement(n4,{product:F,onSubmitted:nt}))))})),ft>1&&e.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("p",{className:"text-sm text-gray-600"},"Affichage ",e.createElement("span",{className:"font-bold text-gray-900"},Ye)," -"," ",e.createElement("span",{className:"font-bold text-gray-900"},be)," sur"," ",e.createElement("span",{className:"font-bold text-gray-900"},Ge.length)," annonce",Ge.length>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>ut(y-1),disabled:y===1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all inline-flex items-center gap-2"},e.createElement(Pr,{className:"w-4 h-4"}),"Prcdent"),e.createElement("div",{className:"flex items-center gap-2 px-4"},e.createElement("span",{className:"text-sm font-medium text-gray-700"},"Page ",e.createElement("span",{className:"font-bold text-gray-900"},y)," sur"," ",e.createElement("span",{className:"font-bold text-gray-900"},ft))),e.createElement("button",{type:"button",onClick:()=>ut(y+1),disabled:y===ft,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all inline-flex items-center gap-2"},"Suivant",e.createElement(ZO,{className:"w-4 h-4"})))))),u&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:ht}),e.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:F=>F.stopPropagation()},e.createElement("div",{className:"bg-indigo-600 text-white px-6 py-5"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},p?e.createElement(Ou,{className:"w-6 h-6"}):e.createElement(Ai,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},p?"Modification":"Nouvelle annonce"),e.createElement("h3",{className:"text-xl font-bold mt-1"},p?"Modifier une annonce":"Publier une annonce"))),e.createElement("button",{type:"button",onClick:ht,className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},e.createElement(_t,{size:20})))),e.createElement("div",{className:"flex-1 overflow-y-auto p-6"},e.createElement(bU,{initialValues:p,productId:p?._id,onCreated:()=>{nt(),ht(),t("Annonce cre avec succs !",{variant:"success"})},onUpdated:()=>{nt(),ht(),t("Annonce modifie avec succs !",{variant:"success"})}})))),Ie&&e.createElement(xU,{productId:Ie.id,productTitle:Ie.title,onClose:()=>fe(null)}))}function AM(t){var r,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=AM(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function mr(){for(var t,r,a=0,n="",s=arguments.length;a<s;a++)(t=arguments[a])&&(r=AM(t))&&(n&&(n+=" "),n+=r);return n}var Ly,l4;function Fn(){if(l4)return Ly;l4=1;var t=Array.isArray;return Ly=t,Ly}var Iy,c4;function _M(){if(c4)return Iy;c4=1;var t=typeof Lf=="object"&&Lf&&Lf.Object===Object&&Lf;return Iy=t,Iy}var Dy,d4;function vo(){if(d4)return Dy;d4=1;var t=_M(),r=typeof self=="object"&&self&&self.Object===Object&&self,a=t||r||Function("return this")();return Dy=a,Dy}var zy,u4;function jm(){if(u4)return zy;u4=1;var t=vo(),r=t.Symbol;return zy=r,zy}var Fy,m4;function EU(){if(m4)return Fy;m4=1;var t=jm(),r=Object.prototype,a=r.hasOwnProperty,n=r.toString,s=t?t.toStringTag:void 0;function o(i){var d=a.call(i,s),u=i[s];try{i[s]=void 0;var m=!0}catch{}var p=n.call(i);return m&&(d?i[s]=u:delete i[s]),p}return Fy=o,Fy}var By,f4;function wU(){if(f4)return By;f4=1;var t=Object.prototype,r=t.toString;function a(n){return r.call(n)}return By=a,By}var qy,p4;function Jo(){if(p4)return qy;p4=1;var t=jm(),r=EU(),a=wU(),n="[object Null]",s="[object Undefined]",o=t?t.toStringTag:void 0;function i(d){return d==null?d===void 0?s:n:o&&o in Object(d)?r(d):a(d)}return qy=i,qy}var Uy,g4;function Zo(){if(g4)return Uy;g4=1;function t(r){return r!=null&&typeof r=="object"}return Uy=t,Uy}var Vy,h4;function vd(){if(h4)return Vy;h4=1;var t=Jo(),r=Zo(),a="[object Symbol]";function n(s){return typeof s=="symbol"||r(s)&&t(s)==a}return Vy=n,Vy}var Hy,y4;function wN(){if(y4)return Hy;y4=1;var t=Fn(),r=vd(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,i){if(t(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||r(o)?!0:n.test(o)||!a.test(o)||i!=null&&o in Object(i)}return Hy=s,Hy}var Wy,b4;function zi(){if(b4)return Wy;b4=1;function t(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}return Wy=t,Wy}var Gy,x4;function NN(){if(x4)return Gy;x4=1;var t=Jo(),r=zi(),a="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function i(d){if(!r(d))return!1;var u=t(d);return u==n||u==s||u==a||u==o}return Gy=i,Gy}var Ky,v4;function NU(){if(v4)return Ky;v4=1;var t=vo(),r=t["__core-js_shared__"];return Ky=r,Ky}var Yy,E4;function kU(){if(E4)return Yy;E4=1;var t=NU(),r=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function a(n){return!!r&&r in n}return Yy=a,Yy}var Xy,w4;function PM(){if(w4)return Xy;w4=1;var t=Function.prototype,r=t.toString;function a(n){if(n!=null){try{return r.call(n)}catch{}try{return n+""}catch{}}return""}return Xy=a,Xy}var Qy,N4;function SU(){if(N4)return Qy;N4=1;var t=NN(),r=kU(),a=zi(),n=PM(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,i=Function.prototype,d=Object.prototype,u=i.toString,m=d.hasOwnProperty,p=RegExp("^"+u.call(m).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!a(y)||r(y))return!1;var b=t(y)?p:o;return b.test(n(y))}return Qy=f,Qy}var Jy,k4;function CU(){if(k4)return Jy;k4=1;function t(r,a){return r?.[a]}return Jy=t,Jy}var Zy,S4;function Ul(){if(S4)return Zy;S4=1;var t=SU(),r=CU();function a(n,s){var o=r(n,s);return t(o)?o:void 0}return Zy=a,Zy}var eb,C4;function ng(){if(C4)return eb;C4=1;var t=Ul(),r=t(Object,"create");return eb=r,eb}var tb,A4;function AU(){if(A4)return tb;A4=1;var t=ng();function r(){this.__data__=t?t(null):{},this.size=0}return tb=r,tb}var rb,_4;function _U(){if(_4)return rb;_4=1;function t(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}return rb=t,rb}var ab,P4;function PU(){if(P4)return ab;P4=1;var t=ng(),r="__lodash_hash_undefined__",a=Object.prototype,n=a.hasOwnProperty;function s(o){var i=this.__data__;if(t){var d=i[o];return d===r?void 0:d}return n.call(i,o)?i[o]:void 0}return ab=s,ab}var nb,T4;function TU(){if(T4)return nb;T4=1;var t=ng(),r=Object.prototype,a=r.hasOwnProperty;function n(s){var o=this.__data__;return t?o[s]!==void 0:a.call(o,s)}return nb=n,nb}var sb,O4;function OU(){if(O4)return sb;O4=1;var t=ng(),r="__lodash_hash_undefined__";function a(n,s){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&s===void 0?r:s,this}return sb=a,sb}var ob,M4;function MU(){if(M4)return ob;M4=1;var t=AU(),r=_U(),a=PU(),n=TU(),s=OU();function o(i){var d=-1,u=i==null?0:i.length;for(this.clear();++d<u;){var m=i[d];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=a,o.prototype.has=n,o.prototype.set=s,ob=o,ob}var ib,j4;function jU(){if(j4)return ib;j4=1;function t(){this.__data__=[],this.size=0}return ib=t,ib}var lb,R4;function kN(){if(R4)return lb;R4=1;function t(r,a){return r===a||r!==r&&a!==a}return lb=t,lb}var cb,$4;function sg(){if($4)return cb;$4=1;var t=kN();function r(a,n){for(var s=a.length;s--;)if(t(a[s][0],n))return s;return-1}return cb=r,cb}var db,L4;function RU(){if(L4)return db;L4=1;var t=sg(),r=Array.prototype,a=r.splice;function n(s){var o=this.__data__,i=t(o,s);if(i<0)return!1;var d=o.length-1;return i==d?o.pop():a.call(o,i,1),--this.size,!0}return db=n,db}var ub,I4;function $U(){if(I4)return ub;I4=1;var t=sg();function r(a){var n=this.__data__,s=t(n,a);return s<0?void 0:n[s][1]}return ub=r,ub}var mb,D4;function LU(){if(D4)return mb;D4=1;var t=sg();function r(a){return t(this.__data__,a)>-1}return mb=r,mb}var fb,z4;function IU(){if(z4)return fb;z4=1;var t=sg();function r(a,n){var s=this.__data__,o=t(s,a);return o<0?(++this.size,s.push([a,n])):s[o][1]=n,this}return fb=r,fb}var pb,F4;function og(){if(F4)return pb;F4=1;var t=jU(),r=RU(),a=$U(),n=LU(),s=IU();function o(i){var d=-1,u=i==null?0:i.length;for(this.clear();++d<u;){var m=i[d];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=a,o.prototype.has=n,o.prototype.set=s,pb=o,pb}var gb,B4;function SN(){if(B4)return gb;B4=1;var t=Ul(),r=vo(),a=t(r,"Map");return gb=a,gb}var hb,q4;function DU(){if(q4)return hb;q4=1;var t=MU(),r=og(),a=SN();function n(){this.size=0,this.__data__={hash:new t,map:new(a||r),string:new t}}return hb=n,hb}var yb,U4;function zU(){if(U4)return yb;U4=1;function t(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}return yb=t,yb}var bb,V4;function ig(){if(V4)return bb;V4=1;var t=zU();function r(a,n){var s=a.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return bb=r,bb}var xb,H4;function FU(){if(H4)return xb;H4=1;var t=ig();function r(a){var n=t(this,a).delete(a);return this.size-=n?1:0,n}return xb=r,xb}var vb,W4;function BU(){if(W4)return vb;W4=1;var t=ig();function r(a){return t(this,a).get(a)}return vb=r,vb}var Eb,G4;function qU(){if(G4)return Eb;G4=1;var t=ig();function r(a){return t(this,a).has(a)}return Eb=r,Eb}var wb,K4;function UU(){if(K4)return wb;K4=1;var t=ig();function r(a,n){var s=t(this,a),o=s.size;return s.set(a,n),this.size+=s.size==o?0:1,this}return wb=r,wb}var Nb,Y4;function CN(){if(Y4)return Nb;Y4=1;var t=DU(),r=FU(),a=BU(),n=qU(),s=UU();function o(i){var d=-1,u=i==null?0:i.length;for(this.clear();++d<u;){var m=i[d];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=a,o.prototype.has=n,o.prototype.set=s,Nb=o,Nb}var kb,X4;function TM(){if(X4)return kb;X4=1;var t=CN(),r="Expected a function";function a(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(r);var o=function(){var i=arguments,d=s?s.apply(this,i):i[0],u=o.cache;if(u.has(d))return u.get(d);var m=n.apply(this,i);return o.cache=u.set(d,m)||u,m};return o.cache=new(a.Cache||t),o}return a.Cache=t,kb=a,kb}var Sb,Q4;function VU(){if(Q4)return Sb;Q4=1;var t=TM(),r=500;function a(n){var s=t(n,function(i){return o.size===r&&o.clear(),i}),o=s.cache;return s}return Sb=a,Sb}var Cb,J4;function HU(){if(J4)return Cb;J4=1;var t=VU(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,n=t(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(r,function(i,d,u,m){o.push(u?m.replace(a,"$1"):d||i)}),o});return Cb=n,Cb}var Ab,Z4;function AN(){if(Z4)return Ab;Z4=1;function t(r,a){for(var n=-1,s=r==null?0:r.length,o=Array(s);++n<s;)o[n]=a(r[n],n,r);return o}return Ab=t,Ab}var _b,eC;function WU(){if(eC)return _b;eC=1;var t=jm(),r=AN(),a=Fn(),n=vd(),s=t?t.prototype:void 0,o=s?s.toString:void 0;function i(d){if(typeof d=="string")return d;if(a(d))return r(d,i)+"";if(n(d))return o?o.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return _b=i,_b}var Pb,tC;function OM(){if(tC)return Pb;tC=1;var t=WU();function r(a){return a==null?"":t(a)}return Pb=r,Pb}var Tb,rC;function MM(){if(rC)return Tb;rC=1;var t=Fn(),r=wN(),a=HU(),n=OM();function s(o,i){return t(o)?o:r(o,i)?[o]:a(n(o))}return Tb=s,Tb}var Ob,aC;function lg(){if(aC)return Ob;aC=1;var t=vd();function r(a){if(typeof a=="string"||t(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n}return Ob=r,Ob}var Mb,nC;function _N(){if(nC)return Mb;nC=1;var t=MM(),r=lg();function a(n,s){s=t(s,n);for(var o=0,i=s.length;n!=null&&o<i;)n=n[r(s[o++])];return o&&o==i?n:void 0}return Mb=a,Mb}var jb,sC;function jM(){if(sC)return jb;sC=1;var t=_N();function r(a,n,s){var o=a==null?void 0:t(a,n);return o===void 0?s:o}return jb=r,jb}var GU=jM();const ws=Fr(GU);var Rb,oC;function KU(){if(oC)return Rb;oC=1;function t(r){return r==null}return Rb=t,Rb}var YU=KU();const Jt=Fr(YU);var $b,iC;function XU(){if(iC)return $b;iC=1;var t=Jo(),r=Fn(),a=Zo(),n="[object String]";function s(o){return typeof o=="string"||!r(o)&&a(o)&&t(o)==n}return $b=s,$b}var QU=XU();const Ml=Fr(QU);var JU=NN();const Kt=Fr(JU);var ZU=zi();const Ed=Fr(ZU);var Lb={exports:{}},Nr={};var lC;function eV(){if(lC)return Nr;lC=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function E(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case t:switch(x=x.type,x){case a:case s:case n:case m:case p:return x;default:switch(x=x&&x.$$typeof,x){case d:case i:case u:case y:case f:case o:return x;default:return N}}case r:return N}}}return Nr.ContextConsumer=i,Nr.ContextProvider=o,Nr.Element=t,Nr.ForwardRef=u,Nr.Fragment=a,Nr.Lazy=y,Nr.Memo=f,Nr.Portal=r,Nr.Profiler=s,Nr.StrictMode=n,Nr.Suspense=m,Nr.SuspenseList=p,Nr.isAsyncMode=function(){return!1},Nr.isConcurrentMode=function(){return!1},Nr.isContextConsumer=function(x){return E(x)===i},Nr.isContextProvider=function(x){return E(x)===o},Nr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Nr.isForwardRef=function(x){return E(x)===u},Nr.isFragment=function(x){return E(x)===a},Nr.isLazy=function(x){return E(x)===y},Nr.isMemo=function(x){return E(x)===f},Nr.isPortal=function(x){return E(x)===r},Nr.isProfiler=function(x){return E(x)===s},Nr.isStrictMode=function(x){return E(x)===n},Nr.isSuspense=function(x){return E(x)===m},Nr.isSuspenseList=function(x){return E(x)===p},Nr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===a||x===s||x===n||x===m||x===p||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===f||x.$$typeof===o||x.$$typeof===i||x.$$typeof===u||x.$$typeof===w||x.getModuleId!==void 0)},Nr.typeOf=E,Nr}var cC;function tV(){return cC||(cC=1,Lb.exports=eV()),Lb.exports}var rV=tV(),Ib,dC;function RM(){if(dC)return Ib;dC=1;var t=Jo(),r=Zo(),a="[object Number]";function n(s){return typeof s=="number"||r(s)&&t(s)==a}return Ib=n,Ib}var Db,uC;function aV(){if(uC)return Db;uC=1;var t=RM();function r(a){return t(a)&&a!=+a}return Db=r,Db}var nV=aV();const Rm=Fr(nV);var sV=RM();const oV=Fr(sV);var Ys=function(r){return r===0?0:r>0?1:-1},yl=function(r){return Ml(r)&&r.indexOf("%")===r.length-1},dt=function(r){return oV(r)&&!Rm(r)},iV=function(r){return Jt(r)},Pa=function(r){return dt(r)||Ml(r)},lV=0,$m=function(r){var a=++lV;return"".concat(r||"").concat(a)},jl=function(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(r)&&!Ml(r))return n;var o;if(yl(r)){var i=r.indexOf("%");o=a*parseFloat(r.slice(0,i))/100}else o=+r;return Rm(o)&&(o=n),s&&o>a&&(o=a),o},Ei=function(r){if(!r)return null;var a=Object.keys(r);return a&&a.length?r[a[0]]:null},cV=function(r){if(!Array.isArray(r))return!1;for(var a=r.length,n={},s=0;s<a;s++)if(!n[r[s]])n[r[s]]=!0;else return!0;return!1},Hs=function(r,a){return dt(r)&&dt(a)?function(n){return r+n*(a-r)}:function(){return a}};function Wp(t,r,a){return!t||!t.length?null:t.find(function(n){return n&&(typeof r=="function"?r(n):ws(n,r))===a})}var dV=function(r,a){return dt(r)&&dt(a)?r-a:Ml(r)&&Ml(a)?r.localeCompare(a):r instanceof Date&&a instanceof Date?r.getTime()-a.getTime():String(r).localeCompare(String(a))};function Rc(t,r){for(var a in t)if({}.hasOwnProperty.call(t,a)&&(!{}.hasOwnProperty.call(r,a)||t[a]!==r[a]))return!1;for(var n in r)if({}.hasOwnProperty.call(r,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Aw(t)}var uV=["viewBox","children"],mV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mC=["points","pathLength"],zb={svg:uV,polygon:mC,polyline:mC},PN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gp=function(r,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(g.isValidElement(r)&&(n=r.props),!Ed(n))return null;var s={};return Object.keys(n).forEach(function(o){PN.includes(o)&&(s[o]=a||function(i){return n[o](n,i)})}),s},fV=function(r,a,n){return function(s){return r(a,n,s),null}},Kp=function(r,a,n){if(!Ed(r)||Aw(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(o){var i=r[o];PN.includes(o)&&typeof i=="function"&&(s||(s={}),s[o]=fV(i,a,n))}),s},pV=["children"],gV=["children"];function fC(t,r){if(t==null)return{};var a=hV(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hV(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_w(t)}var pC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fo=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},gC=null,Fb=null,TN=function t(r){if(r===gC&&Array.isArray(Fb))return Fb;var a=[];return g.Children.forEach(r,function(n){Jt(n)||(rV.isFragment(n)?a=a.concat(t(n.props.children)):a.push(n))}),Fb=a,gC=r,a};function Ns(t,r){var a=[],n=[];return Array.isArray(r)?n=r.map(function(s){return Fo(s)}):n=[Fo(r)],TN(t).forEach(function(s){var o=ws(s,"type.displayName")||ws(s,"type.name");n.indexOf(o)!==-1&&a.push(s)}),a}function Kn(t,r){var a=Ns(t,r);return a&&a[0]}var hC=function(r){if(!r||!r.props)return!1;var a=r.props,n=a.width,s=a.height;return!(!dt(n)||n<=0||!dt(s)||s<=0)},yV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bV=function(r){return r&&r.type&&Ml(r.type)&&yV.indexOf(r.type)>=0},xV=function(r){return r&&_w(r)==="object"&&"clipDot"in r},vV=function(r,a,n,s){var o,i=(o=zb?.[s])!==null&&o!==void 0?o:[];return a.startsWith("data-")||!Kt(r)&&(s&&i.includes(a)||mV.includes(a))||n&&PN.includes(a)},nr=function(r,a,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(g.isValidElement(r)&&(s=r.props),!Ed(s))return null;var o={};return Object.keys(s).forEach(function(i){var d;vV((d=s)===null||d===void 0?void 0:d[i],i,a,n)&&(o[i]=s[i])}),o},Pw=function t(r,a){if(r===a)return!0;var n=g.Children.count(r);if(n!==g.Children.count(a))return!1;if(n===0)return!0;if(n===1)return yC(Array.isArray(r)?r[0]:r,Array.isArray(a)?a[0]:a);for(var s=0;s<n;s++){var o=r[s],i=a[s];if(Array.isArray(o)||Array.isArray(i)){if(!t(o,i))return!1}else if(!yC(o,i))return!1}return!0},yC=function(r,a){if(Jt(r)&&Jt(a))return!0;if(!Jt(r)&&!Jt(a)){var n=r.props||{},s=n.children,o=fC(n,pV),i=a.props||{},d=i.children,u=fC(i,gV);return s&&d?Rc(o,u)&&Pw(s,d):!s&&!d?Rc(o,u):!1}return!1},bC=function(r,a){var n=[],s={};return TN(r).forEach(function(o,i){if(bV(o))n.push(o);else if(o){var d=Fo(o.type),u=a[d]||{},m=u.handler,p=u.once;if(m&&(!p||!s[d])){var f=m(o,d,i);n.push(f),s[d]=!0}}}),n},EV=function(r){var a=r&&r.type;return a&&pC[a]?pC[a]:null},wV=function(r,a){return TN(a).indexOf(r)},NV=["children","width","height","viewBox","className","style","title","desc"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Tw.apply(this,arguments)}function kV(t,r){if(t==null)return{};var a=SV(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function SV(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function Ow(t){var r=t.children,a=t.width,n=t.height,s=t.viewBox,o=t.className,i=t.style,d=t.title,u=t.desc,m=kV(t,NV),p=s||{width:a,height:n,x:0,y:0},f=mr("recharts-surface",o);return e.createElement("svg",Tw({},nr(m,!0,"svg"),{className:f,width:a,height:n,style:i,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),e.createElement("title",null,d),e.createElement("desc",null,u),r)}var CV=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Mw.apply(this,arguments)}function AV(t,r){if(t==null)return{};var a=_V(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _V(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}var pa=e.forwardRef(function(t,r){var a=t.children,n=t.className,s=AV(t,CV),o=mr("recharts-layer",n);return e.createElement("g",Mw({className:o},nr(s,!0),{ref:r}),a)}),Bo=function(r,a){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]},Bb,xC;function PV(){if(xC)return Bb;xC=1;function t(r,a,n){var s=-1,o=r.length;a<0&&(a=-a>o?0:o+a),n=n>o?o:n,n<0&&(n+=o),o=a>n?0:n-a>>>0,a>>>=0;for(var i=Array(o);++s<o;)i[s]=r[s+a];return i}return Bb=t,Bb}var qb,vC;function TV(){if(vC)return qb;vC=1;var t=PV();function r(a,n,s){var o=a.length;return s=s===void 0?o:s,!n&&s>=o?a:t(a,n,s)}return qb=r,qb}var Ub,EC;function $M(){if(EC)return Ub;EC=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=r+a+n,o="\\ufe0e\\ufe0f",i="\\u200d",d=RegExp("["+i+t+s+o+"]");function u(m){return d.test(m)}return Ub=u,Ub}var Vb,wC;function OV(){if(wC)return Vb;wC=1;function t(r){return r.split("")}return Vb=t,Vb}var Hb,NC;function MV(){if(NC)return Hb;NC=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=r+a+n,o="\\ufe0e\\ufe0f",i="["+t+"]",d="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",m="(?:"+d+"|"+u+")",p="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=m+"?",E="["+o+"]?",x="(?:"+b+"(?:"+[p,f,y].join("|")+")"+E+w+")*",N=E+w+x,k="(?:"+[p+d+"?",d,f,y,i].join("|")+")",A=RegExp(u+"(?="+u+")|"+k+N,"g");function P(S){return S.match(A)||[]}return Hb=P,Hb}var Wb,kC;function jV(){if(kC)return Wb;kC=1;var t=OV(),r=$M(),a=MV();function n(s){return r(s)?a(s):t(s)}return Wb=n,Wb}var Gb,SC;function RV(){if(SC)return Gb;SC=1;var t=TV(),r=$M(),a=jV(),n=OM();function s(o){return function(i){i=n(i);var d=r(i)?a(i):void 0,u=d?d[0]:i.charAt(0),m=d?t(d,1).join(""):i.slice(1);return u[o]()+m}}return Gb=s,Gb}var Kb,CC;function $V(){if(CC)return Kb;CC=1;var t=RV(),r=t("toUpperCase");return Kb=r,Kb}var LV=$V();const cg=Fr(LV);function Vr(t){return function(){return t}}const LM=Math.cos,Yp=Math.sin,Js=Math.sqrt,Xp=Math.PI,dg=2*Xp,jw=Math.PI,Rw=2*jw,ml=1e-6,IV=Rw-ml;function IM(t){this._+=t[0];for(let r=1,a=t.length;r<a;++r)this._+=arguments[r]+t[r]}function DV(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return IM;const a=10**r;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*a)/a+n[s]}}class zV{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?IM:DV(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,n,s){this._append`Q${+r},${+a},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(r,a,n,s,o,i){this._append`C${+r},${+a},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(r,a,n,s,o){if(r=+r,a=+a,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,d=this._y1,u=n-r,m=s-a,p=i-r,f=d-a,y=p*p+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(y>ml)if(!(Math.abs(f*u-m*p)>ml)||!o)this._append`L${this._x1=r},${this._y1=a}`;else{let b=n-i,w=s-d,E=u*u+m*m,x=b*b+w*w,N=Math.sqrt(E),k=Math.sqrt(y),A=o*Math.tan((jw-Math.acos((E+y-x)/(2*N*k)))/2),P=A/k,S=A/N;Math.abs(P-1)>ml&&this._append`L${r+P*p},${a+P*f}`,this._append`A${o},${o},0,0,${+(f*b>p*w)},${this._x1=r+S*u},${this._y1=a+S*m}`}}arc(r,a,n,s,o,i){if(r=+r,a=+a,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),m=r+d,p=a+u,f=1^i,y=i?s-o:o-s;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>ml||Math.abs(this._y1-p)>ml)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%Rw+Rw),y>IV?this._append`A${n},${n},0,1,${f},${r-d},${a-u}A${n},${n},0,1,${f},${this._x1=m},${this._y1=p}`:y>ml&&this._append`A${n},${n},0,${+(y>=jw)},${f},${this._x1=r+n*Math.cos(o)},${this._y1=a+n*Math.sin(o)}`)}rect(r,a,n,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function ON(t){let r=3;return t.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const n=Math.floor(a);if(!(n>=0))throw new RangeError(`invalid digits: ${a}`);r=n}return t},()=>new zV(r)}function MN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DM(t){this._context=t}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function ug(t){return new DM(t)}function zM(t){return t[0]}function FM(t){return t[1]}function BM(t,r){var a=Vr(!0),n=null,s=ug,o=null,i=ON(d);t=typeof t=="function"?t:t===void 0?zM:Vr(t),r=typeof r=="function"?r:r===void 0?FM:Vr(r);function d(u){var m,p=(u=MN(u)).length,f,y=!1,b;for(n==null&&(o=s(b=i())),m=0;m<=p;++m)!(m<p&&a(f=u[m],m,u))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(f,m,u),+r(f,m,u));if(b)return o=null,b+""||null}return d.x=function(u){return arguments.length?(t=typeof u=="function"?u:Vr(+u),d):t},d.y=function(u){return arguments.length?(r=typeof u=="function"?u:Vr(+u),d):r},d.defined=function(u){return arguments.length?(a=typeof u=="function"?u:Vr(!!u),d):a},d.curve=function(u){return arguments.length?(s=u,n!=null&&(o=s(n)),d):s},d.context=function(u){return arguments.length?(u==null?n=o=null:o=s(n=u),d):n},d}function Hf(t,r,a){var n=null,s=Vr(!0),o=null,i=ug,d=null,u=ON(m);t=typeof t=="function"?t:t===void 0?zM:Vr(+t),r=typeof r=="function"?r:Vr(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?FM:Vr(+a);function m(f){var y,b,w,E=(f=MN(f)).length,x,N=!1,k,A=new Array(E),P=new Array(E);for(o==null&&(d=i(k=u())),y=0;y<=E;++y){if(!(y<E&&s(x=f[y],y,f))===N)if(N=!N)b=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=y-1;w>=b;--w)d.point(A[w],P[w]);d.lineEnd(),d.areaEnd()}N&&(A[y]=+t(x,y,f),P[y]=+r(x,y,f),d.point(n?+n(x,y,f):A[y],a?+a(x,y,f):P[y]))}if(k)return d=null,k+""||null}function p(){return BM().defined(s).curve(i).context(o)}return m.x=function(f){return arguments.length?(t=typeof f=="function"?f:Vr(+f),n=null,m):t},m.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Vr(+f),m):t},m.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vr(+f),m):n},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:Vr(+f),a=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:Vr(+f),m):r},m.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Vr(+f),m):a},m.lineX0=m.lineY0=function(){return p().x(t).y(r)},m.lineY1=function(){return p().x(t).y(a)},m.lineX1=function(){return p().x(n).y(r)},m.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Vr(!!f),m):s},m.curve=function(f){return arguments.length?(i=f,o!=null&&(d=i(o)),m):i},m.context=function(f){return arguments.length?(f==null?o=d=null:d=i(o=f),m):o},m}class qM{constructor(r,a){this._context=r,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,a){switch(r=+r,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,a,r,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,r,this._y0,r,a);break}}this._x0=r,this._y0=a}}function FV(t){return new qM(t,!0)}function BV(t){return new qM(t,!1)}const jN={draw(t,r){const a=Js(r/Xp);t.moveTo(a,0),t.arc(0,0,a,0,dg)}},qV={draw(t,r){const a=Js(r/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},UM=Js(1/3),UV=UM*2,VV={draw(t,r){const a=Js(r/UV),n=a*UM;t.moveTo(0,-a),t.lineTo(n,0),t.lineTo(0,a),t.lineTo(-n,0),t.closePath()}},HV={draw(t,r){const a=Js(r),n=-a/2;t.rect(n,n,a,a)}},WV=.8908130915292852,VM=Yp(Xp/10)/Yp(7*Xp/10),GV=Yp(dg/10)*VM,KV=-LM(dg/10)*VM,YV={draw(t,r){const a=Js(r*WV),n=GV*a,s=KV*a;t.moveTo(0,-a),t.lineTo(n,s);for(let o=1;o<5;++o){const i=dg*o/5,d=LM(i),u=Yp(i);t.lineTo(u*a,-d*a),t.lineTo(d*n-u*s,u*n+d*s)}t.closePath()}},Yb=Js(3),XV={draw(t,r){const a=-Js(r/(Yb*3));t.moveTo(0,a*2),t.lineTo(-Yb*a,-a),t.lineTo(Yb*a,-a),t.closePath()}},ps=-.5,gs=Js(3)/2,$w=1/Js(12),QV=($w/2+1)*3,JV={draw(t,r){const a=Js(r/QV),n=a/2,s=a*$w,o=n,i=a*$w+a,d=-o,u=i;t.moveTo(n,s),t.lineTo(o,i),t.lineTo(d,u),t.lineTo(ps*n-gs*s,gs*n+ps*s),t.lineTo(ps*o-gs*i,gs*o+ps*i),t.lineTo(ps*d-gs*u,gs*d+ps*u),t.lineTo(ps*n+gs*s,ps*s-gs*n),t.lineTo(ps*o+gs*i,ps*i-gs*o),t.lineTo(ps*d+gs*u,ps*u-gs*d),t.closePath()}};function ZV(t,r){let a=null,n=ON(s);t=typeof t=="function"?t:Vr(t||jN),r=typeof r=="function"?r:Vr(r===void 0?64:+r);function s(){let o;if(a||(a=o=n()),t.apply(this,arguments).draw(a,+r.apply(this,arguments)),o)return a=null,o+""||null}return s.type=function(o){return arguments.length?(t=typeof o=="function"?o:Vr(o),s):t},s.size=function(o){return arguments.length?(r=typeof o=="function"?o:Vr(+o),s):r},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function Qp(){}function Jp(t,r,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+a)/6)}function HM(t){this._context=t}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function eH(t){return new HM(t)}function WM(t){this._context=t}WM.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:Jp(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function tH(t){return new WM(t)}function GM(t){this._context=t}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:Jp(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function rH(t){return new GM(t)}function KM(t){this._context=t}KM.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function aH(t){return new KM(t)}function AC(t){return t<0?-1:1}function _C(t,r,a){var n=t._x1-t._x0,s=r-t._x1,o=(t._y1-t._y0)/(n||s<0&&-0),i=(a-t._y1)/(s||n<0&&-0),d=(o*s+i*n)/(n+s);return(AC(o)+AC(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(d))||0}function PC(t,r){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-r)/2:r}function Xb(t,r,a){var n=t._x0,s=t._y0,o=t._x1,i=t._y1,d=(o-n)/3;t._context.bezierCurveTo(n+d,s+d*r,o-d,i-d*a,o,i)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xb(this,this._t0,PC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var a=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,Xb(this,PC(this,a=_C(this,t,r)),a);break;default:Xb(this,this._t0,a=_C(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=a}}};function YM(t){this._context=new XM(t)}(YM.prototype=Object.create(Zp.prototype)).point=function(t,r){Zp.prototype.point.call(this,r,t)};function XM(t){this._context=t}XM.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,a,n,s,o){this._context.bezierCurveTo(r,t,n,a,o,s)}};function nH(t){return new Zp(t)}function sH(t){return new YM(t)}function QM(t){this._context=t}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),a===2)this._context.lineTo(t[1],r[1]);else for(var n=TC(t),s=TC(r),o=0,i=1;i<a;++o,++i)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],t[i],r[i]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function TC(t){var r,a=t.length-1,n,s=new Array(a),o=new Array(a),i=new Array(a);for(s[0]=0,o[0]=2,i[0]=t[0]+2*t[1],r=1;r<a-1;++r)s[r]=1,o[r]=4,i[r]=4*t[r]+2*t[r+1];for(s[a-1]=2,o[a-1]=7,i[a-1]=8*t[a-1]+t[a],r=1;r<a;++r)n=s[r]/o[r-1],o[r]-=n,i[r]-=n*i[r-1];for(s[a-1]=i[a-1]/o[a-1],r=a-2;r>=0;--r)s[r]=(i[r]-s[r+1])/o[r];for(o[a-1]=(t[a]+s[a-1])/2,r=0;r<a-1;++r)o[r]=2*t[r+1]-s[r+1];return[s,o]}function oH(t){return new QM(t)}function mg(t,r){this._context=t,this._t=r}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}break}}this._x=t,this._y=r}};function iH(t){return new mg(t,.5)}function lH(t){return new mg(t,0)}function cH(t){return new mg(t,1)}function qc(t,r){if((i=t.length)>1)for(var a=1,n,s,o=t[r[0]],i,d=o.length;a<i;++a)for(s=o,o=t[r[a]],n=0;n<d;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Lw(t){for(var r=t.length,a=new Array(r);--r>=0;)a[r]=r;return a}function dH(t,r){return t[r]}function uH(t){const r=[];return r.key=t,r}function mH(){var t=Vr([]),r=Lw,a=qc,n=dH;function s(o){var i=Array.from(t.apply(this,arguments),uH),d,u=i.length,m=-1,p;for(const f of o)for(d=0,++m;d<u;++d)(i[d][m]=[0,+n(f,i[d].key,m,o)]).data=f;for(d=0,p=MN(r(i));d<u;++d)i[p[d]].index=d;return a(i,p),i}return s.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Vr(Array.from(o)),s):t},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:Vr(+o),s):n},s.order=function(o){return arguments.length?(r=o==null?Lw:typeof o=="function"?o:Vr(Array.from(o)),s):r},s.offset=function(o){return arguments.length?(a=o??qc,s):a},s}function fH(t,r){if((n=t.length)>0){for(var a,n,s=0,o=t[0].length,i;s<o;++s){for(i=a=0;a<n;++a)i+=t[a][s][1]||0;if(i)for(a=0;a<n;++a)t[a][s][1]/=i}qc(t,r)}}function pH(t,r){if((s=t.length)>0){for(var a=0,n=t[r[0]],s,o=n.length;a<o;++a){for(var i=0,d=0;i<s;++i)d+=t[i][a][1]||0;n[a][1]+=n[a][0]=-d/2}qc(t,r)}}function gH(t,r){if(!(!((i=t.length)>0)||!((o=(s=t[r[0]]).length)>0))){for(var a=0,n=1,s,o,i;n<o;++n){for(var d=0,u=0,m=0;d<i;++d){for(var p=t[r[d]],f=p[n][1]||0,y=p[n-1][1]||0,b=(f-y)/2,w=0;w<d;++w){var E=t[r[w]],x=E[n][1]||0,N=E[n-1][1]||0;b+=x-N}u+=f,m+=b*f}s[n-1][1]+=s[n-1][0]=a,u&&(a-=m/u)}s[n-1][1]+=s[n-1][0]=a,qc(t,r)}}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qu(t)}var hH=["type","size","sizeType"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Iw.apply(this,arguments)}function OC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function MC(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OC(Object(a),!0).forEach(function(n){yH(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OC(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function yH(t,r,a){return r=bH(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function bH(t){var r=xH(t,"string");return qu(r)=="symbol"?r:r+""}function xH(t,r){if(qu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function vH(t,r){if(t==null)return{};var a=EH(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function EH(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}var JM={symbolCircle:jN,symbolCross:qV,symbolDiamond:VV,symbolSquare:HV,symbolStar:YV,symbolTriangle:XV,symbolWye:JV},wH=Math.PI/180,NH=function(r){var a="symbol".concat(cg(r));return JM[a]||jN},kH=function(r,a,n){if(a==="area")return r;switch(n){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*wH;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},SH=function(r,a){JM["symbol".concat(cg(r))]=a},RN=function(r){var a=r.type,n=a===void 0?"circle":a,s=r.size,o=s===void 0?64:s,i=r.sizeType,d=i===void 0?"area":i,u=vH(r,hH),m=MC(MC({},u),{},{type:n,size:o,sizeType:d}),p=function(){var x=NH(n),N=ZV().type(x).size(kH(o,d,n));return N()},f=m.className,y=m.cx,b=m.cy,w=nr(m,!0);return y===+y&&b===+b&&o===+o?e.createElement("path",Iw({},w,{className:mr("recharts-symbols",f),transform:"translate(".concat(y,", ").concat(b,")"),d:p()})):null};RN.registerSymbol=SH;function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uc(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Dw.apply(this,arguments)}function jC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function CH(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?jC(Object(a),!0).forEach(function(n){Uu(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jC(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function AH(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _H(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ej(n.key),n)}}function PH(t,r,a){return r&&_H(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TH(t,r,a){return r=e0(r),OH(t,ZM()?Reflect.construct(r,a||[],e0(t).constructor):r.apply(t,a))}function OH(t,r){if(r&&(Uc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MH(t)}function MH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},e0(t)}function jH(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&zw(t,r)}function zw(t,r){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zw(t,r)}function Uu(t,r,a){return r=ej(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ej(t){var r=RH(t,"string");return Uc(r)=="symbol"?r:r+""}function RH(t,r){if(Uc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hs=32,$N=(function(t){function r(){return AH(this,r),TH(this,r,arguments)}return jH(r,t),PH(r,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=hs/2,i=hs/6,d=hs/3,u=n.inactive?s:n.color;if(n.type==="plainline")return e.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:hs,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return e.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(d,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*d,",").concat(o,`
            H`).concat(hs,"M").concat(2*d,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(d,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return e.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(hs/8,"h").concat(hs,"v").concat(hs*3/4,"h").concat(-hs,"z"),className:"recharts-legend-icon"});if(e.isValidElement(n.legendIcon)){var m=CH({},n);return delete m.legendIcon,e.cloneElement(n.legendIcon,m)}return e.createElement(RN,{fill:u,cx:o,cy:o,size:hs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,i=s.iconSize,d=s.layout,u=s.formatter,m=s.inactiveColor,p={x:0,y:0,width:hs,height:hs},f={display:d==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,w){var E=b.formatter||u,x=mr(Uu(Uu({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=Kt(b.value)?null:b.value;Bo(!Kt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?m:b.color;return e.createElement("li",Dw({className:x,style:f,key:"legend-item-".concat(w)},Kp(n.props,b,w)),e.createElement(Ow,{width:i,height:i,viewBox:p,style:y},n.renderIcon(b)),e.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},E?E(N,b,w):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,i=n.align;if(!s||!s.length)return null;var d={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return e.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(g.PureComponent);Uu($N,"displayName","Legend");Uu($N,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qb,RC;function $H(){if(RC)return Qb;RC=1;var t=og();function r(){this.__data__=new t,this.size=0}return Qb=r,Qb}var Jb,$C;function LH(){if($C)return Jb;$C=1;function t(r){var a=this.__data__,n=a.delete(r);return this.size=a.size,n}return Jb=t,Jb}var Zb,LC;function IH(){if(LC)return Zb;LC=1;function t(r){return this.__data__.get(r)}return Zb=t,Zb}var ex,IC;function DH(){if(IC)return ex;IC=1;function t(r){return this.__data__.has(r)}return ex=t,ex}var tx,DC;function zH(){if(DC)return tx;DC=1;var t=og(),r=SN(),a=CN(),n=200;function s(o,i){var d=this.__data__;if(d instanceof t){var u=d.__data__;if(!r||u.length<n-1)return u.push([o,i]),this.size=++d.size,this;d=this.__data__=new a(u)}return d.set(o,i),this.size=d.size,this}return tx=s,tx}var rx,zC;function tj(){if(zC)return rx;zC=1;var t=og(),r=$H(),a=LH(),n=IH(),s=DH(),o=zH();function i(d){var u=this.__data__=new t(d);this.size=u.size}return i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=n,i.prototype.has=s,i.prototype.set=o,rx=i,rx}var ax,FC;function FH(){if(FC)return ax;FC=1;var t="__lodash_hash_undefined__";function r(a){return this.__data__.set(a,t),this}return ax=r,ax}var nx,BC;function BH(){if(BC)return nx;BC=1;function t(r){return this.__data__.has(r)}return nx=t,nx}var sx,qC;function rj(){if(qC)return sx;qC=1;var t=CN(),r=FH(),a=BH();function n(s){var o=-1,i=s==null?0:s.length;for(this.__data__=new t;++o<i;)this.add(s[o])}return n.prototype.add=n.prototype.push=r,n.prototype.has=a,sx=n,sx}var ox,UC;function aj(){if(UC)return ox;UC=1;function t(r,a){for(var n=-1,s=r==null?0:r.length;++n<s;)if(a(r[n],n,r))return!0;return!1}return ox=t,ox}var ix,VC;function nj(){if(VC)return ix;VC=1;function t(r,a){return r.has(a)}return ix=t,ix}var lx,HC;function sj(){if(HC)return lx;HC=1;var t=rj(),r=aj(),a=nj(),n=1,s=2;function o(i,d,u,m,p,f){var y=u&n,b=i.length,w=d.length;if(b!=w&&!(y&&w>b))return!1;var E=f.get(i),x=f.get(d);if(E&&x)return E==d&&x==i;var N=-1,k=!0,A=u&s?new t:void 0;for(f.set(i,d),f.set(d,i);++N<b;){var P=i[N],S=d[N];if(m)var _=y?m(S,P,N,d,i,f):m(P,S,N,i,d,f);if(_!==void 0){if(_)continue;k=!1;break}if(A){if(!r(d,function(T,O){if(!a(A,O)&&(P===T||p(P,T,u,m,f)))return A.push(O)})){k=!1;break}}else if(!(P===S||p(P,S,u,m,f))){k=!1;break}}return f.delete(i),f.delete(d),k}return lx=o,lx}var cx,WC;function qH(){if(WC)return cx;WC=1;var t=vo(),r=t.Uint8Array;return cx=r,cx}var dx,GC;function UH(){if(GC)return dx;GC=1;function t(r){var a=-1,n=Array(r.size);return r.forEach(function(s,o){n[++a]=[o,s]}),n}return dx=t,dx}var ux,KC;function LN(){if(KC)return ux;KC=1;function t(r){var a=-1,n=Array(r.size);return r.forEach(function(s){n[++a]=s}),n}return ux=t,ux}var mx,YC;function VH(){if(YC)return mx;YC=1;var t=jm(),r=qH(),a=kN(),n=sj(),s=UH(),o=LN(),i=1,d=2,u="[object Boolean]",m="[object Date]",p="[object Error]",f="[object Map]",y="[object Number]",b="[object RegExp]",w="[object Set]",E="[object String]",x="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",A=t?t.prototype:void 0,P=A?A.valueOf:void 0;function S(_,T,O,R,D,j,$){switch(O){case k:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case N:return!(_.byteLength!=T.byteLength||!j(new r(_),new r(T)));case u:case m:case y:return a(+_,+T);case p:return _.name==T.name&&_.message==T.message;case b:case E:return _==T+"";case f:var K=s;case w:var W=R&i;if(K||(K=o),_.size!=T.size&&!W)return!1;var z=$.get(_);if(z)return z==T;R|=d,$.set(_,T);var Q=n(K(_),K(T),R,D,j,$);return $.delete(_),Q;case x:if(P)return P.call(_)==P.call(T)}return!1}return mx=S,mx}var fx,XC;function oj(){if(XC)return fx;XC=1;function t(r,a){for(var n=-1,s=a.length,o=r.length;++n<s;)r[o+n]=a[n];return r}return fx=t,fx}var px,QC;function HH(){if(QC)return px;QC=1;var t=oj(),r=Fn();function a(n,s,o){var i=s(n);return r(n)?i:t(i,o(n))}return px=a,px}var gx,JC;function WH(){if(JC)return gx;JC=1;function t(r,a){for(var n=-1,s=r==null?0:r.length,o=0,i=[];++n<s;){var d=r[n];a(d,n,r)&&(i[o++]=d)}return i}return gx=t,gx}var hx,ZC;function GH(){if(ZC)return hx;ZC=1;function t(){return[]}return hx=t,hx}var yx,e3;function KH(){if(e3)return yx;e3=1;var t=WH(),r=GH(),a=Object.prototype,n=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(i){return i==null?[]:(i=Object(i),t(s(i),function(d){return n.call(i,d)}))}:r;return yx=o,yx}var bx,t3;function YH(){if(t3)return bx;t3=1;function t(r,a){for(var n=-1,s=Array(r);++n<r;)s[n]=a(n);return s}return bx=t,bx}var xx,r3;function XH(){if(r3)return xx;r3=1;var t=Jo(),r=Zo(),a="[object Arguments]";function n(s){return r(s)&&t(s)==a}return xx=n,xx}var vx,a3;function IN(){if(a3)return vx;a3=1;var t=XH(),r=Zo(),a=Object.prototype,n=a.hasOwnProperty,s=a.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(i){return r(i)&&n.call(i,"callee")&&!s.call(i,"callee")};return vx=o,vx}var Su={exports:{}},Ex,n3;function QH(){if(n3)return Ex;n3=1;function t(){return!1}return Ex=t,Ex}Su.exports;var s3;function ij(){return s3||(s3=1,(function(t,r){var a=vo(),n=QH(),s=r&&!r.nodeType&&r,o=s&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===s,d=i?a.Buffer:void 0,u=d?d.isBuffer:void 0,m=u||n;t.exports=m})(Su,Su.exports)),Su.exports}var wx,o3;function DN(){if(o3)return wx;o3=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function a(n,s){var o=typeof n;return s=s??t,!!s&&(o=="number"||o!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<s}return wx=a,wx}var Nx,i3;function zN(){if(i3)return Nx;i3=1;var t=9007199254740991;function r(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=t}return Nx=r,Nx}var kx,l3;function JH(){if(l3)return kx;l3=1;var t=Jo(),r=zN(),a=Zo(),n="[object Arguments]",s="[object Array]",o="[object Boolean]",i="[object Date]",d="[object Error]",u="[object Function]",m="[object Map]",p="[object Number]",f="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",E="[object WeakMap]",x="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",S="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",j={};j[k]=j[A]=j[P]=j[S]=j[_]=j[T]=j[O]=j[R]=j[D]=!0,j[n]=j[s]=j[x]=j[o]=j[N]=j[i]=j[d]=j[u]=j[m]=j[p]=j[f]=j[y]=j[b]=j[w]=j[E]=!1;function $(K){return a(K)&&r(K.length)&&!!j[t(K)]}return kx=$,kx}var Sx,c3;function lj(){if(c3)return Sx;c3=1;function t(r){return function(a){return r(a)}}return Sx=t,Sx}var Cu={exports:{}};Cu.exports;var d3;function ZH(){return d3||(d3=1,(function(t,r){var a=_M(),n=r&&!r.nodeType&&r,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,i=o&&a.process,d=(function(){try{var u=s&&s.require&&s.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}})();t.exports=d})(Cu,Cu.exports)),Cu.exports}var Cx,u3;function cj(){if(u3)return Cx;u3=1;var t=JH(),r=lj(),a=ZH(),n=a&&a.isTypedArray,s=n?r(n):t;return Cx=s,Cx}var Ax,m3;function eW(){if(m3)return Ax;m3=1;var t=YH(),r=IN(),a=Fn(),n=ij(),s=DN(),o=cj(),i=Object.prototype,d=i.hasOwnProperty;function u(m,p){var f=a(m),y=!f&&r(m),b=!f&&!y&&n(m),w=!f&&!y&&!b&&o(m),E=f||y||b||w,x=E?t(m.length,String):[],N=x.length;for(var k in m)(p||d.call(m,k))&&!(E&&(k=="length"||b&&(k=="offset"||k=="parent")||w&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,N)))&&x.push(k);return x}return Ax=u,Ax}var _x,f3;function tW(){if(f3)return _x;f3=1;var t=Object.prototype;function r(a){var n=a&&a.constructor,s=typeof n=="function"&&n.prototype||t;return a===s}return _x=r,_x}var Px,p3;function dj(){if(p3)return Px;p3=1;function t(r,a){return function(n){return r(a(n))}}return Px=t,Px}var Tx,g3;function rW(){if(g3)return Tx;g3=1;var t=dj(),r=t(Object.keys,Object);return Tx=r,Tx}var Ox,h3;function aW(){if(h3)return Ox;h3=1;var t=tW(),r=rW(),a=Object.prototype,n=a.hasOwnProperty;function s(o){if(!t(o))return r(o);var i=[];for(var d in Object(o))n.call(o,d)&&d!="constructor"&&i.push(d);return i}return Ox=s,Ox}var Mx,y3;function Lm(){if(y3)return Mx;y3=1;var t=NN(),r=zN();function a(n){return n!=null&&r(n.length)&&!t(n)}return Mx=a,Mx}var jx,b3;function fg(){if(b3)return jx;b3=1;var t=eW(),r=aW(),a=Lm();function n(s){return a(s)?t(s):r(s)}return jx=n,jx}var Rx,x3;function nW(){if(x3)return Rx;x3=1;var t=HH(),r=KH(),a=fg();function n(s){return t(s,a,r)}return Rx=n,Rx}var $x,v3;function sW(){if(v3)return $x;v3=1;var t=nW(),r=1,a=Object.prototype,n=a.hasOwnProperty;function s(o,i,d,u,m,p){var f=d&r,y=t(o),b=y.length,w=t(i),E=w.length;if(b!=E&&!f)return!1;for(var x=b;x--;){var N=y[x];if(!(f?N in i:n.call(i,N)))return!1}var k=p.get(o),A=p.get(i);if(k&&A)return k==i&&A==o;var P=!0;p.set(o,i),p.set(i,o);for(var S=f;++x<b;){N=y[x];var _=o[N],T=i[N];if(u)var O=f?u(T,_,N,i,o,p):u(_,T,N,o,i,p);if(!(O===void 0?_===T||m(_,T,d,u,p):O)){P=!1;break}S||(S=N=="constructor")}if(P&&!S){var R=o.constructor,D=i.constructor;R!=D&&"constructor"in o&&"constructor"in i&&!(typeof R=="function"&&R instanceof R&&typeof D=="function"&&D instanceof D)&&(P=!1)}return p.delete(o),p.delete(i),P}return $x=s,$x}var Lx,E3;function oW(){if(E3)return Lx;E3=1;var t=Ul(),r=vo(),a=t(r,"DataView");return Lx=a,Lx}var Ix,w3;function iW(){if(w3)return Ix;w3=1;var t=Ul(),r=vo(),a=t(r,"Promise");return Ix=a,Ix}var Dx,N3;function uj(){if(N3)return Dx;N3=1;var t=Ul(),r=vo(),a=t(r,"Set");return Dx=a,Dx}var zx,k3;function lW(){if(k3)return zx;k3=1;var t=Ul(),r=vo(),a=t(r,"WeakMap");return zx=a,zx}var Fx,S3;function cW(){if(S3)return Fx;S3=1;var t=oW(),r=SN(),a=iW(),n=uj(),s=lW(),o=Jo(),i=PM(),d="[object Map]",u="[object Object]",m="[object Promise]",p="[object Set]",f="[object WeakMap]",y="[object DataView]",b=i(t),w=i(r),E=i(a),x=i(n),N=i(s),k=o;return(t&&k(new t(new ArrayBuffer(1)))!=y||r&&k(new r)!=d||a&&k(a.resolve())!=m||n&&k(new n)!=p||s&&k(new s)!=f)&&(k=function(A){var P=o(A),S=P==u?A.constructor:void 0,_=S?i(S):"";if(_)switch(_){case b:return y;case w:return d;case E:return m;case x:return p;case N:return f}return P}),Fx=k,Fx}var Bx,C3;function dW(){if(C3)return Bx;C3=1;var t=tj(),r=sj(),a=VH(),n=sW(),s=cW(),o=Fn(),i=ij(),d=cj(),u=1,m="[object Arguments]",p="[object Array]",f="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function w(E,x,N,k,A,P){var S=o(E),_=o(x),T=S?p:s(E),O=_?p:s(x);T=T==m?f:T,O=O==m?f:O;var R=T==f,D=O==f,j=T==O;if(j&&i(E)){if(!i(x))return!1;S=!0,R=!1}if(j&&!R)return P||(P=new t),S||d(E)?r(E,x,N,k,A,P):a(E,x,T,N,k,A,P);if(!(N&u)){var $=R&&b.call(E,"__wrapped__"),K=D&&b.call(x,"__wrapped__");if($||K){var W=$?E.value():E,z=K?x.value():x;return P||(P=new t),A(W,z,N,k,P)}}return j?(P||(P=new t),n(E,x,N,k,A,P)):!1}return Bx=w,Bx}var qx,A3;function FN(){if(A3)return qx;A3=1;var t=dW(),r=Zo();function a(n,s,o,i,d){return n===s?!0:n==null||s==null||!r(n)&&!r(s)?n!==n&&s!==s:t(n,s,o,i,a,d)}return qx=a,qx}var Ux,_3;function uW(){if(_3)return Ux;_3=1;var t=tj(),r=FN(),a=1,n=2;function s(o,i,d,u){var m=d.length,p=m,f=!u;if(o==null)return!p;for(o=Object(o);m--;){var y=d[m];if(f&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++m<p;){y=d[m];var b=y[0],w=o[b],E=y[1];if(f&&y[2]){if(w===void 0&&!(b in o))return!1}else{var x=new t;if(u)var N=u(w,E,b,o,i,x);if(!(N===void 0?r(E,w,a|n,u,x):N))return!1}}return!0}return Ux=s,Ux}var Vx,P3;function mj(){if(P3)return Vx;P3=1;var t=zi();function r(a){return a===a&&!t(a)}return Vx=r,Vx}var Hx,T3;function mW(){if(T3)return Hx;T3=1;var t=mj(),r=fg();function a(n){for(var s=r(n),o=s.length;o--;){var i=s[o],d=n[i];s[o]=[i,d,t(d)]}return s}return Hx=a,Hx}var Wx,O3;function fj(){if(O3)return Wx;O3=1;function t(r,a){return function(n){return n==null?!1:n[r]===a&&(a!==void 0||r in Object(n))}}return Wx=t,Wx}var Gx,M3;function fW(){if(M3)return Gx;M3=1;var t=uW(),r=mW(),a=fj();function n(s){var o=r(s);return o.length==1&&o[0][2]?a(o[0][0],o[0][1]):function(i){return i===s||t(i,s,o)}}return Gx=n,Gx}var Kx,j3;function pW(){if(j3)return Kx;j3=1;function t(r,a){return r!=null&&a in Object(r)}return Kx=t,Kx}var Yx,R3;function gW(){if(R3)return Yx;R3=1;var t=MM(),r=IN(),a=Fn(),n=DN(),s=zN(),o=lg();function i(d,u,m){u=t(u,d);for(var p=-1,f=u.length,y=!1;++p<f;){var b=o(u[p]);if(!(y=d!=null&&m(d,b)))break;d=d[b]}return y||++p!=f?y:(f=d==null?0:d.length,!!f&&s(f)&&n(b,f)&&(a(d)||r(d)))}return Yx=i,Yx}var Xx,$3;function hW(){if($3)return Xx;$3=1;var t=pW(),r=gW();function a(n,s){return n!=null&&r(n,s,t)}return Xx=a,Xx}var Qx,L3;function yW(){if(L3)return Qx;L3=1;var t=FN(),r=jM(),a=hW(),n=wN(),s=mj(),o=fj(),i=lg(),d=1,u=2;function m(p,f){return n(p)&&s(f)?o(i(p),f):function(y){var b=r(y,p);return b===void 0&&b===f?a(y,p):t(f,b,d|u)}}return Qx=m,Qx}var Jx,I3;function wd(){if(I3)return Jx;I3=1;function t(r){return r}return Jx=t,Jx}var Zx,D3;function bW(){if(D3)return Zx;D3=1;function t(r){return function(a){return a?.[r]}}return Zx=t,Zx}var ev,z3;function xW(){if(z3)return ev;z3=1;var t=_N();function r(a){return function(n){return t(n,a)}}return ev=r,ev}var tv,F3;function vW(){if(F3)return tv;F3=1;var t=bW(),r=xW(),a=wN(),n=lg();function s(o){return a(o)?t(n(o)):r(o)}return tv=s,tv}var rv,B3;function Fi(){if(B3)return rv;B3=1;var t=fW(),r=yW(),a=wd(),n=Fn(),s=vW();function o(i){return typeof i=="function"?i:i==null?a:typeof i=="object"?n(i)?r(i[0],i[1]):t(i):s(i)}return rv=o,rv}var av,q3;function pj(){if(q3)return av;q3=1;function t(r,a,n,s){for(var o=r.length,i=n+(s?1:-1);s?i--:++i<o;)if(a(r[i],i,r))return i;return-1}return av=t,av}var nv,U3;function EW(){if(U3)return nv;U3=1;function t(r){return r!==r}return nv=t,nv}var sv,V3;function wW(){if(V3)return sv;V3=1;function t(r,a,n){for(var s=n-1,o=r.length;++s<o;)if(r[s]===a)return s;return-1}return sv=t,sv}var ov,H3;function NW(){if(H3)return ov;H3=1;var t=pj(),r=EW(),a=wW();function n(s,o,i){return o===o?a(s,o,i):t(s,r,i)}return ov=n,ov}var iv,W3;function kW(){if(W3)return iv;W3=1;var t=NW();function r(a,n){var s=a==null?0:a.length;return!!s&&t(a,n,0)>-1}return iv=r,iv}var lv,G3;function SW(){if(G3)return lv;G3=1;function t(r,a,n){for(var s=-1,o=r==null?0:r.length;++s<o;)if(n(a,r[s]))return!0;return!1}return lv=t,lv}var cv,K3;function CW(){if(K3)return cv;K3=1;function t(){}return cv=t,cv}var dv,Y3;function AW(){if(Y3)return dv;Y3=1;var t=uj(),r=CW(),a=LN(),n=1/0,s=t&&1/a(new t([,-0]))[1]==n?function(o){return new t(o)}:r;return dv=s,dv}var uv,X3;function _W(){if(X3)return uv;X3=1;var t=rj(),r=kW(),a=SW(),n=nj(),s=AW(),o=LN(),i=200;function d(u,m,p){var f=-1,y=r,b=u.length,w=!0,E=[],x=E;if(p)w=!1,y=a;else if(b>=i){var N=m?null:s(u);if(N)return o(N);w=!1,y=n,x=new t}else x=m?[]:E;e:for(;++f<b;){var k=u[f],A=m?m(k):k;if(k=p||k!==0?k:0,w&&A===A){for(var P=x.length;P--;)if(x[P]===A)continue e;m&&x.push(A),E.push(k)}else y(x,A,p)||(x!==E&&x.push(A),E.push(k))}return E}return uv=d,uv}var mv,Q3;function PW(){if(Q3)return mv;Q3=1;var t=Fi(),r=_W();function a(n,s){return n&&n.length?r(n,t(s,2)):[]}return mv=a,mv}var TW=PW();const J3=Fr(TW);function gj(t,r,a){return r===!0?J3(t,a):Kt(r)?J3(t,r):t}function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vc(t)}var OW=["ref"];function Z3(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Oo(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Z3(Object(a),!0).forEach(function(n){pg(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Z3(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function MW(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function eA(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yj(n.key),n)}}function jW(t,r,a){return r&&eA(t.prototype,r),a&&eA(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function RW(t,r,a){return r=t0(r),$W(t,hj()?Reflect.construct(r,a||[],t0(t).constructor):r.apply(t,a))}function $W(t,r){if(r&&(Vc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LW(t)}function LW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hj=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t0(t)}function IW(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Fw(t,r)}function Fw(t,r){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fw(t,r)}function pg(t,r,a){return r=yj(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function yj(t){var r=DW(t,"string");return Vc(r)=="symbol"?r:r+""}function DW(t,r){if(Vc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zW(t,r){if(t==null)return{};var a=FW(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function FW(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function BW(t){return t.value}function qW(t,r){if(e.isValidElement(t))return e.cloneElement(t,r);if(typeof t=="function")return e.createElement(t,r);r.ref;var a=zW(r,OW);return e.createElement($N,a)}var tA=1,Sl=(function(t){function r(){var a;MW(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=RW(this,r,[].concat(s)),pg(a,"lastBoundingBox",{width:-1,height:-1}),a}return IW(r,t),jW(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>tA||Math.abs(s.height-this.lastBoundingBox.height)>tA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,i=s.align,d=s.verticalAlign,u=s.margin,m=s.chartWidth,p=s.chartHeight,f,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();f={left:((m||0)-b.width)/2}}else f=i==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(d==="middle"){var w=this.getBBoxSnapshot();y={top:((p||0)-w.height)/2}}else y=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Oo(Oo({},f),y)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,i=s.width,d=s.height,u=s.wrapperStyle,m=s.payloadUniqBy,p=s.payload,f=Oo(Oo({position:"absolute",width:i||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return e.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(b){n.wrapperNode=b}},qW(o,Oo(Oo({},this.props),{},{payload:gj(p,m,BW)})))}}],[{key:"getWithHeight",value:function(n,s){var o=Oo(Oo({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&dt(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])})(g.PureComponent);pg(Sl,"displayName","Legend");pg(Sl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fv,rA;function UW(){if(rA)return fv;rA=1;var t=jm(),r=IN(),a=Fn(),n=t?t.isConcatSpreadable:void 0;function s(o){return a(o)||r(o)||!!(n&&o&&o[n])}return fv=s,fv}var pv,aA;function bj(){if(aA)return pv;aA=1;var t=oj(),r=UW();function a(n,s,o,i,d){var u=-1,m=n.length;for(o||(o=r),d||(d=[]);++u<m;){var p=n[u];s>0&&o(p)?s>1?a(p,s-1,o,i,d):t(d,p):i||(d[d.length]=p)}return d}return pv=a,pv}var gv,nA;function VW(){if(nA)return gv;nA=1;function t(r){return function(a,n,s){for(var o=-1,i=Object(a),d=s(a),u=d.length;u--;){var m=d[r?u:++o];if(n(i[m],m,i)===!1)break}return a}}return gv=t,gv}var hv,sA;function HW(){if(sA)return hv;sA=1;var t=VW(),r=t();return hv=r,hv}var yv,oA;function xj(){if(oA)return yv;oA=1;var t=HW(),r=fg();function a(n,s){return n&&t(n,s,r)}return yv=a,yv}var bv,iA;function WW(){if(iA)return bv;iA=1;var t=Lm();function r(a,n){return function(s,o){if(s==null)return s;if(!t(s))return a(s,o);for(var i=s.length,d=n?i:-1,u=Object(s);(n?d--:++d<i)&&o(u[d],d,u)!==!1;);return s}}return bv=r,bv}var xv,lA;function BN(){if(lA)return xv;lA=1;var t=xj(),r=WW(),a=r(t);return xv=a,xv}var vv,cA;function vj(){if(cA)return vv;cA=1;var t=BN(),r=Lm();function a(n,s){var o=-1,i=r(n)?Array(n.length):[];return t(n,function(d,u,m){i[++o]=s(d,u,m)}),i}return vv=a,vv}var Ev,dA;function GW(){if(dA)return Ev;dA=1;function t(r,a){var n=r.length;for(r.sort(a);n--;)r[n]=r[n].value;return r}return Ev=t,Ev}var wv,uA;function KW(){if(uA)return wv;uA=1;var t=vd();function r(a,n){if(a!==n){var s=a!==void 0,o=a===null,i=a===a,d=t(a),u=n!==void 0,m=n===null,p=n===n,f=t(n);if(!m&&!f&&!d&&a>n||d&&u&&p&&!m&&!f||o&&u&&p||!s&&p||!i)return 1;if(!o&&!d&&!f&&a<n||f&&s&&i&&!o&&!d||m&&s&&i||!u&&i||!p)return-1}return 0}return wv=r,wv}var Nv,mA;function YW(){if(mA)return Nv;mA=1;var t=KW();function r(a,n,s){for(var o=-1,i=a.criteria,d=n.criteria,u=i.length,m=s.length;++o<u;){var p=t(i[o],d[o]);if(p){if(o>=m)return p;var f=s[o];return p*(f=="desc"?-1:1)}}return a.index-n.index}return Nv=r,Nv}var kv,fA;function XW(){if(fA)return kv;fA=1;var t=AN(),r=_N(),a=Fi(),n=vj(),s=GW(),o=lj(),i=YW(),d=wd(),u=Fn();function m(p,f,y){f.length?f=t(f,function(E){return u(E)?function(x){return r(x,E.length===1?E[0]:E)}:E}):f=[d];var b=-1;f=t(f,o(a));var w=n(p,function(E,x,N){var k=t(f,function(A){return A(E)});return{criteria:k,index:++b,value:E}});return s(w,function(E,x){return i(E,x,y)})}return kv=m,kv}var Sv,pA;function QW(){if(pA)return Sv;pA=1;function t(r,a,n){switch(n.length){case 0:return r.call(a);case 1:return r.call(a,n[0]);case 2:return r.call(a,n[0],n[1]);case 3:return r.call(a,n[0],n[1],n[2])}return r.apply(a,n)}return Sv=t,Sv}var Cv,gA;function JW(){if(gA)return Cv;gA=1;var t=QW(),r=Math.max;function a(n,s,o){return s=r(s===void 0?n.length-1:s,0),function(){for(var i=arguments,d=-1,u=r(i.length-s,0),m=Array(u);++d<u;)m[d]=i[s+d];d=-1;for(var p=Array(s+1);++d<s;)p[d]=i[d];return p[s]=o(m),t(n,this,p)}}return Cv=a,Cv}var Av,hA;function ZW(){if(hA)return Av;hA=1;function t(r){return function(){return r}}return Av=t,Av}var _v,yA;function Ej(){if(yA)return _v;yA=1;var t=Ul(),r=(function(){try{var a=t(Object,"defineProperty");return a({},"",{}),a}catch{}})();return _v=r,_v}var Pv,bA;function eG(){if(bA)return Pv;bA=1;var t=ZW(),r=Ej(),a=wd(),n=r?function(s,o){return r(s,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:a;return Pv=n,Pv}var Tv,xA;function tG(){if(xA)return Tv;xA=1;var t=800,r=16,a=Date.now;function n(s){var o=0,i=0;return function(){var d=a(),u=r-(d-i);if(i=d,u>0){if(++o>=t)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return Tv=n,Tv}var Ov,vA;function rG(){if(vA)return Ov;vA=1;var t=eG(),r=tG(),a=r(t);return Ov=a,Ov}var Mv,EA;function aG(){if(EA)return Mv;EA=1;var t=wd(),r=JW(),a=rG();function n(s,o){return a(r(s,o,t),s+"")}return Mv=n,Mv}var jv,wA;function gg(){if(wA)return jv;wA=1;var t=kN(),r=Lm(),a=DN(),n=zi();function s(o,i,d){if(!n(d))return!1;var u=typeof i;return(u=="number"?r(d)&&a(i,d.length):u=="string"&&i in d)?t(d[i],o):!1}return jv=s,jv}var Rv,NA;function nG(){if(NA)return Rv;NA=1;var t=bj(),r=XW(),a=aG(),n=gg(),s=a(function(o,i){if(o==null)return[];var d=i.length;return d>1&&n(o,i[0],i[1])?i=[]:d>2&&n(i[0],i[1],i[2])&&(i=[i[0]]),r(o,t(i,1),[])});return Rv=s,Rv}var sG=nG();const qN=Fr(sG);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vu(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Bw.apply(this,arguments)}function oG(t,r){return dG(t)||cG(t,r)||lG(t,r)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(t,r){if(t){if(typeof t=="string")return kA(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return kA(t,r)}}function kA(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function cG(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function dG(t){if(Array.isArray(t))return t}function SA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function $v(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?SA(Object(a),!0).forEach(function(n){uG(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):SA(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function uG(t,r,a){return r=mG(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function mG(t){var r=fG(t,"string");return Vu(r)=="symbol"?r:r+""}function fG(t,r){if(Vu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function pG(t){return Array.isArray(t)&&Pa(t[0])&&Pa(t[1])?t.join(" ~ "):t}var gG=function(r){var a=r.separator,n=a===void 0?" : ":a,s=r.contentStyle,o=s===void 0?{}:s,i=r.itemStyle,d=i===void 0?{}:i,u=r.labelStyle,m=u===void 0?{}:u,p=r.payload,f=r.formatter,y=r.itemSorter,b=r.wrapperClassName,w=r.labelClassName,E=r.label,x=r.labelFormatter,N=r.accessibilityLayer,k=N===void 0?!1:N,A=function(){if(p&&p.length){var $={padding:0,margin:0},K=(y?qN(p,y):p).map(function(W,z){if(W.type==="none")return null;var Q=$v({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},d),ee=W.formatter||f||pG,H=W.value,q=W.name,B=H,G=q;if(ee&&B!=null&&G!=null){var Y=ee(H,q,W,z,p);if(Array.isArray(Y)){var V=oG(Y,2);B=V[0],G=V[1]}else B=Y}return e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Q},Pa(G)?e.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Pa(G)?e.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,e.createElement("span",{className:"recharts-tooltip-item-value"},B),e.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return e.createElement("ul",{className:"recharts-tooltip-item-list",style:$},K)}return null},P=$v({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=$v({margin:0},m),_=!Jt(E),T=_?E:"",O=mr("recharts-default-tooltip",b),R=mr("recharts-tooltip-label",w);_&&x&&p!==void 0&&p!==null&&(T=x(E,p));var D=k?{role:"status","aria-live":"assertive"}:{};return e.createElement("div",Bw({className:O,style:P},D),e.createElement("p",{className:R,style:S},e.isValidElement(T)?T:"".concat(T)),A())};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hu(t)}function Wf(t,r,a){return r=hG(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function hG(t){var r=yG(t,"string");return Hu(r)=="symbol"?r:r+""}function yG(t,r){if(Hu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var nu="recharts-tooltip-wrapper",bG={visibility:"hidden"};function xG(t){var r=t.coordinate,a=t.translateX,n=t.translateY;return mr(nu,Wf(Wf(Wf(Wf({},"".concat(nu,"-right"),dt(a)&&r&&dt(r.x)&&a>=r.x),"".concat(nu,"-left"),dt(a)&&r&&dt(r.x)&&a<r.x),"".concat(nu,"-bottom"),dt(n)&&r&&dt(r.y)&&n>=r.y),"".concat(nu,"-top"),dt(n)&&r&&dt(r.y)&&n<r.y))}function CA(t){var r=t.allowEscapeViewBox,a=t.coordinate,n=t.key,s=t.offsetTopLeft,o=t.position,i=t.reverseDirection,d=t.tooltipDimension,u=t.viewBox,m=t.viewBoxDimension;if(o&&dt(o[n]))return o[n];var p=a[n]-d-s,f=a[n]+s;if(r[n])return i[n]?p:f;if(i[n]){var y=p,b=u[n];return y<b?Math.max(f,u[n]):Math.max(p,u[n])}var w=f+d,E=u[n]+m;return w>E?Math.max(p,u[n]):Math.max(f,u[n])}function vG(t){var r=t.translateX,a=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(r,"px, ").concat(a,"px, 0)"):"translate(".concat(r,"px, ").concat(a,"px)")}}function EG(t){var r=t.allowEscapeViewBox,a=t.coordinate,n=t.offsetTopLeft,s=t.position,o=t.reverseDirection,i=t.tooltipBox,d=t.useTranslate3d,u=t.viewBox,m,p,f;return i.height>0&&i.width>0&&a?(p=CA({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.width,viewBox:u,viewBoxDimension:u.width}),f=CA({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.height,viewBox:u,viewBoxDimension:u.height}),m=vG({translateX:p,translateY:f,useTranslate3d:d})):m=bG,{cssProperties:m,cssClasses:xG({translateX:p,translateY:f,coordinate:a})}}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hc(t)}function AA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function _A(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?AA(Object(a),!0).forEach(function(n){Uw(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):AA(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function wG(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function NG(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nj(n.key),n)}}function kG(t,r,a){return r&&NG(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SG(t,r,a){return r=r0(r),CG(t,wj()?Reflect.construct(r,a||[],r0(t).constructor):r.apply(t,a))}function CG(t,r){if(r&&(Hc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AG(t)}function AG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wj=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},r0(t)}function _G(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&qw(t,r)}function qw(t,r){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qw(t,r)}function Uw(t,r,a){return r=Nj(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Nj(t){var r=PG(t,"string");return Hc(r)=="symbol"?r:r+""}function PG(t,r){if(Hc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PA=1,TG=(function(t){function r(){var a;wG(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=SG(this,r,[].concat(s)),Uw(a,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Uw(a,"handleKeyDown",function(i){if(i.key==="Escape"){var d,u,m,p;a.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=a.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(m=(p=a.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&m!==void 0?m:0}})}}),a}return _G(r,t),kG(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PA||Math.abs(n.height-this.state.lastBoundingBox.height)>PA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,m=s.children,p=s.coordinate,f=s.hasPayload,y=s.isAnimationActive,b=s.offset,w=s.position,E=s.reverseDirection,x=s.useTranslate3d,N=s.viewBox,k=s.wrapperStyle,A=EG({allowEscapeViewBox:i,coordinate:p,offsetTopLeft:b,position:w,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:N}),P=A.cssClasses,S=A.cssProperties,_=_A(_A({transition:y&&o?"transform ".concat(d,"ms ").concat(u):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},k);return e.createElement("div",{tabIndex:-1,className:P,style:_,ref:function(O){n.wrapperNode=O}},m)}}])})(g.PureComponent),OG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nd={isSsr:OG()};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wc(t)}function TA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function OA(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?TA(Object(a),!0).forEach(function(n){UN(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TA(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function MG(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function jG(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sj(n.key),n)}}function RG(t,r,a){return r&&jG(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $G(t,r,a){return r=a0(r),LG(t,kj()?Reflect.construct(r,a||[],a0(t).constructor):r.apply(t,a))}function LG(t,r){if(r&&(Wc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IG(t)}function IG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kj=function(){return!!t})()}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},a0(t)}function DG(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Vw(t,r)}function Vw(t,r){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vw(t,r)}function UN(t,r,a){return r=Sj(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Sj(t){var r=zG(t,"string");return Wc(r)=="symbol"?r:r+""}function zG(t,r){if(Wc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FG(t){return t.dataKey}function BG(t,r){return e.isValidElement(t)?e.cloneElement(t,r):typeof t=="function"?e.createElement(t,r):e.createElement(gG,r)}var Bs=(function(t){function r(){return MG(this,r),$G(this,r,arguments)}return DG(r,t),RG(r,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,m=s.content,p=s.coordinate,f=s.filterNull,y=s.isAnimationActive,b=s.offset,w=s.payload,E=s.payloadUniqBy,x=s.position,N=s.reverseDirection,k=s.useTranslate3d,A=s.viewBox,P=s.wrapperStyle,S=w??[];f&&S.length&&(S=gj(w.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),E,FG));var _=S.length>0;return e.createElement(TG,{allowEscapeViewBox:i,animationDuration:d,animationEasing:u,isAnimationActive:y,active:o,coordinate:p,hasPayload:_,offset:b,position:x,reverseDirection:N,useTranslate3d:k,viewBox:A,wrapperStyle:P},BG(m,OA(OA({},this.props),{},{payload:S})))}}])})(g.PureComponent);UN(Bs,"displayName","Tooltip");UN(Bs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lv,MA;function qG(){if(MA)return Lv;MA=1;var t=vo(),r=function(){return t.Date.now()};return Lv=r,Lv}var Iv,jA;function UG(){if(jA)return Iv;jA=1;var t=/\s/;function r(a){for(var n=a.length;n--&&t.test(a.charAt(n)););return n}return Iv=r,Iv}var Dv,RA;function VG(){if(RA)return Dv;RA=1;var t=UG(),r=/^\s+/;function a(n){return n&&n.slice(0,t(n)+1).replace(r,"")}return Dv=a,Dv}var zv,$A;function Cj(){if($A)return zv;$A=1;var t=VG(),r=zi(),a=vd(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,d=parseInt;function u(m){if(typeof m=="number")return m;if(a(m))return n;if(r(m)){var p=typeof m.valueOf=="function"?m.valueOf():m;m=r(p)?p+"":p}if(typeof m!="string")return m===0?m:+m;m=t(m);var f=o.test(m);return f||i.test(m)?d(m.slice(2),f?2:8):s.test(m)?n:+m}return zv=u,zv}var Fv,LA;function HG(){if(LA)return Fv;LA=1;var t=zi(),r=qG(),a=Cj(),n="Expected a function",s=Math.max,o=Math.min;function i(d,u,m){var p,f,y,b,w,E,x=0,N=!1,k=!1,A=!0;if(typeof d!="function")throw new TypeError(n);u=a(u)||0,t(m)&&(N=!!m.leading,k="maxWait"in m,y=k?s(a(m.maxWait)||0,u):y,A="trailing"in m?!!m.trailing:A);function P(K){var W=p,z=f;return p=f=void 0,x=K,b=d.apply(z,W),b}function S(K){return x=K,w=setTimeout(O,u),N?P(K):b}function _(K){var W=K-E,z=K-x,Q=u-W;return k?o(Q,y-z):Q}function T(K){var W=K-E,z=K-x;return E===void 0||W>=u||W<0||k&&z>=y}function O(){var K=r();if(T(K))return R(K);w=setTimeout(O,_(K))}function R(K){return w=void 0,A&&p?P(K):(p=f=void 0,b)}function D(){w!==void 0&&clearTimeout(w),x=0,p=E=f=w=void 0}function j(){return w===void 0?b:R(r())}function $(){var K=r(),W=T(K);if(p=arguments,f=this,E=K,W){if(w===void 0)return S(E);if(k)return clearTimeout(w),w=setTimeout(O,u),P(E)}return w===void 0&&(w=setTimeout(O,u)),b}return $.cancel=D,$.flush=j,$}return Fv=i,Fv}var Bv,IA;function WG(){if(IA)return Bv;IA=1;var t=HG(),r=zi(),a="Expected a function";function n(s,o,i){var d=!0,u=!0;if(typeof s!="function")throw new TypeError(a);return r(i)&&(d="leading"in i?!!i.leading:d,u="trailing"in i?!!i.trailing:u),t(s,o,{leading:d,maxWait:o,trailing:u})}return Bv=n,Bv}var GG=WG();const Aj=Fr(GG);function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wu(t)}function DA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Gf(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?DA(Object(a),!0).forEach(function(n){KG(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DA(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function KG(t,r,a){return r=YG(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function YG(t){var r=XG(t,"string");return Wu(r)=="symbol"?r:r+""}function XG(t,r){if(Wu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function QG(t,r){return tK(t)||eK(t,r)||ZG(t,r)||JG()}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(t,r){if(t){if(typeof t=="string")return zA(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zA(t,r)}}function zA(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function eK(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function tK(t){if(Array.isArray(t))return t}var FA=g.forwardRef(function(t,r){var a=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=t.width,i=o===void 0?"100%":o,d=t.height,u=d===void 0?"100%":d,m=t.minWidth,p=m===void 0?0:m,f=t.minHeight,y=t.maxHeight,b=t.children,w=t.debounce,E=w===void 0?0:w,x=t.id,N=t.className,k=t.onResize,A=t.style,P=A===void 0?{}:A,S=g.useRef(null),_=g.useRef();_.current=k,g.useImperativeHandle(r,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=g.useState({containerWidth:s.width,containerHeight:s.height}),O=QG(T,2),R=O[0],D=O[1],j=g.useCallback(function(K,W){D(function(z){var Q=Math.round(K),ee=Math.round(W);return z.containerWidth===Q&&z.containerHeight===ee?z:{containerWidth:Q,containerHeight:ee}})},[]);g.useEffect(function(){var K=function(q){var B,G=q[0].contentRect,Y=G.width,V=G.height;j(Y,V),(B=_.current)===null||B===void 0||B.call(_,Y,V)};E>0&&(K=Aj(K,E,{trailing:!0,leading:!1}));var W=new ResizeObserver(K),z=S.current.getBoundingClientRect(),Q=z.width,ee=z.height;return j(Q,ee),W.observe(S.current),function(){W.disconnect()}},[j,E]);var $=g.useMemo(function(){var K=R.containerWidth,W=R.containerHeight;if(K<0||W<0)return null;Bo(yl(i)||yl(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,u),Bo(!a||a>0,"The aspect(%s) must be greater than zero.",a);var z=yl(i)?K:i,Q=yl(u)?W:u;a&&a>0&&(z?Q=z/a:Q&&(z=Q*a),y&&Q>y&&(Q=y)),Bo(z>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,Q,i,u,p,f,a);var ee=!Array.isArray(b)&&Fo(b.type).endsWith("Chart");return e.Children.map(b,function(H){return e.isValidElement(H)?g.cloneElement(H,Gf({width:z,height:Q},ee?{style:Gf({height:"100%",width:"100%",maxHeight:Q,maxWidth:z},H.props.style)}:{})):H})},[a,b,u,y,f,p,R,i]);return e.createElement("div",{id:x?"".concat(x):void 0,className:mr("recharts-responsive-container",N),style:Gf(Gf({},P),{},{width:i,height:u,minWidth:p,minHeight:f,maxHeight:y}),ref:S},$)}),VN=function(r){return null};VN.displayName="Cell";function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gu(t)}function BA(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Hw(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?BA(Object(a),!0).forEach(function(n){rK(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):BA(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function rK(t,r,a){return r=aK(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function aK(t){var r=nK(t,"string");return Gu(r)=="symbol"?r:r+""}function nK(t,r){if(Gu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var yc={widthCache:{},cacheCount:0},sK=2e3,oK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qA="recharts_measurement_span";function iK(t){var r=Hw({},t);return Object.keys(r).forEach(function(a){r[a]||delete r[a]}),r}var ju=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Nd.isSsr)return{width:0,height:0};var n=iK(a),s=JSON.stringify({text:r,copyStyle:n});if(yc.widthCache[s])return yc.widthCache[s];try{var o=document.getElementById(qA);o||(o=document.createElement("span"),o.setAttribute("id",qA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Hw(Hw({},oK),n);Object.assign(o.style,i),o.textContent="".concat(r);var d=o.getBoundingClientRect(),u={width:d.width,height:d.height};return yc.widthCache[s]=u,++yc.cacheCount>sK&&(yc.cacheCount=0,yc.widthCache={}),u}catch{return{width:0,height:0}}},lK=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ku(t)}function n0(t,r){return mK(t)||uK(t,r)||dK(t,r)||cK()}function cK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(t,r){if(t){if(typeof t=="string")return UA(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return UA(t,r)}}function UA(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function uK(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function mK(t){if(Array.isArray(t))return t}function fK(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function VA(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gK(n.key),n)}}function pK(t,r,a){return r&&VA(t.prototype,r),a&&VA(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function gK(t){var r=hK(t,"string");return Ku(r)=="symbol"?r:r+""}function hK(t,r){if(Ku(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_j={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xK=Object.keys(_j),Pc="NaN";function vK(t,r){return t*_j[r]}var Kf=(function(){function t(r,a){fK(this,t),this.num=r,this.unit=a,this.num=r,this.unit=a,Number.isNaN(r)&&(this.unit=""),a!==""&&!yK.test(a)&&(this.num=NaN,this.unit=""),xK.includes(a)&&(this.num=vK(r,a),this.unit="px")}return pK(t,[{key:"add",value:function(a){return this.unit!==a.unit?new t(NaN,""):new t(this.num+a.num,this.unit)}},{key:"subtract",value:function(a){return this.unit!==a.unit?new t(NaN,""):new t(this.num-a.num,this.unit)}},{key:"multiply",value:function(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new t(NaN,""):new t(this.num*a.num,this.unit||a.unit)}},{key:"divide",value:function(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new t(NaN,""):new t(this.num/a.num,this.unit||a.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(a){var n,s=(n=bK.exec(a))!==null&&n!==void 0?n:[],o=n0(s,3),i=o[1],d=o[2];return new t(parseFloat(i),d??"")}}])})();function Pj(t){if(t.includes(Pc))return Pc;for(var r=t;r.includes("*")||r.includes("/");){var a,n=(a=HA.exec(r))!==null&&a!==void 0?a:[],s=n0(n,4),o=s[1],i=s[2],d=s[3],u=Kf.parse(o??""),m=Kf.parse(d??""),p=i==="*"?u.multiply(m):u.divide(m);if(p.isNaN())return Pc;r=r.replace(HA,p.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var f,y=(f=WA.exec(r))!==null&&f!==void 0?f:[],b=n0(y,4),w=b[1],E=b[2],x=b[3],N=Kf.parse(w??""),k=Kf.parse(x??""),A=E==="+"?N.add(k):N.subtract(k);if(A.isNaN())return Pc;r=r.replace(WA,A.toString())}return r}var GA=/\(([^()]*)\)/;function EK(t){for(var r=t;r.includes("(");){var a=GA.exec(r),n=n0(a,2),s=n[1];r=r.replace(GA,Pj(s))}return r}function wK(t){var r=t.replace(/\s+/g,"");return r=EK(r),r=Pj(r),r}function NK(t){try{return wK(t)}catch{return Pc}}function qv(t){var r=NK(t.slice(5,-1));return r===Pc?"":r}var kK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SK=["dx","dy","angle","className","breakAll"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ww.apply(this,arguments)}function KA(t,r){if(t==null)return{};var a=CK(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function CK(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function YA(t,r){return TK(t)||PK(t,r)||_K(t,r)||AK()}function AK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(t,r){if(t){if(typeof t=="string")return XA(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return XA(t,r)}}function XA(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function PK(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function TK(t){if(Array.isArray(t))return t}var Tj=/[ \f\n\r\t\v\u2028\u2029]+/,Oj=function(r){var a=r.children,n=r.breakAll,s=r.style;try{var o=[];Jt(a)||(n?o=a.toString().split(""):o=a.toString().split(Tj));var i=o.map(function(u){return{word:u,width:ju(u,s).width}}),d=n?0:ju("",s).width;return{wordsWithComputedWidth:i,spaceWidth:d}}catch{return null}},OK=function(r,a,n,s,o){var i=r.maxLines,d=r.children,u=r.style,m=r.breakAll,p=dt(i),f=d,y=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(Q,ee){var H=ee.word,q=ee.width,B=Q[Q.length-1];if(B&&(s==null||o||B.width+q+n<Number(s)))B.words.push(H),B.width+=q+n;else{var G={words:[H],width:q};Q.push(G)}return Q},[])},b=y(a),w=function(z){return z.reduce(function(Q,ee){return Q.width>ee.width?Q:ee})};if(!p)return b;for(var E="",x=function(z){var Q=f.slice(0,z),ee=Oj({breakAll:m,style:u,children:Q+E}).wordsWithComputedWidth,H=y(ee),q=H.length>i||w(H).width>Number(s);return[q,H]},N=0,k=f.length-1,A=0,P;N<=k&&A<=f.length-1;){var S=Math.floor((N+k)/2),_=S-1,T=x(_),O=YA(T,2),R=O[0],D=O[1],j=x(S),$=YA(j,1),K=$[0];if(!R&&!K&&(N=S+1),R&&K&&(k=S-1),!R&&K){P=D;break}A++}return P||b},QA=function(r){var a=Jt(r)?[]:r.toString().split(Tj);return[{words:a}]},MK=function(r){var a=r.width,n=r.scaleToFit,s=r.children,o=r.style,i=r.breakAll,d=r.maxLines;if((a||n)&&!Nd.isSsr){var u,m,p=Oj({breakAll:i,children:s,style:o});if(p){var f=p.wordsWithComputedWidth,y=p.spaceWidth;u=f,m=y}else return QA(s);return OK({breakAll:i,children:s,maxLines:d,style:o},u,m,a,n)}return QA(s)},JA="#808080",s0=function(r){var a=r.x,n=a===void 0?0:a,s=r.y,o=s===void 0?0:s,i=r.lineHeight,d=i===void 0?"1em":i,u=r.capHeight,m=u===void 0?"0.71em":u,p=r.scaleToFit,f=p===void 0?!1:p,y=r.textAnchor,b=y===void 0?"start":y,w=r.verticalAnchor,E=w===void 0?"end":w,x=r.fill,N=x===void 0?JA:x,k=KA(r,kK),A=g.useMemo(function(){return MK({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:f,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,f,k.style,k.width]),P=k.dx,S=k.dy,_=k.angle,T=k.className,O=k.breakAll,R=KA(k,SK);if(!Pa(n)||!Pa(o))return null;var D=n+(dt(P)?P:0),j=o+(dt(S)?S:0),$;switch(E){case"start":$=qv("calc(".concat(m,")"));break;case"middle":$=qv("calc(".concat((A.length-1)/2," * -").concat(d," + (").concat(m," / 2))"));break;default:$=qv("calc(".concat(A.length-1," * -").concat(d,")"));break}var K=[];if(f){var W=A[0].width,z=k.width;K.push("scale(".concat((dt(z)?z/W:1)/W,")"))}return _&&K.push("rotate(".concat(_,", ").concat(D,", ").concat(j,")")),K.length&&(R.transform=K.join(" ")),e.createElement("text",Ww({},nr(R,!0),{x:D,y:j,className:mr("recharts-text",T),textAnchor:b,fill:N.includes("url")?JA:N}),A.map(function(Q,ee){var H=Q.words.join(O?"":" ");return e.createElement("tspan",{x:D,dy:ee===0?$:d,key:"".concat(H,"-").concat(ee)},H)}))};function _i(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function jK(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function HN(t){let r,a,n;t.length!==2?(r=_i,a=(d,u)=>_i(t(d),u),n=(d,u)=>t(d)-u):(r=t===_i||t===jK?t:RK,a=t,n=t);function s(d,u,m=0,p=d.length){if(m<p){if(r(u,u)!==0)return p;do{const f=m+p>>>1;a(d[f],u)<0?m=f+1:p=f}while(m<p)}return m}function o(d,u,m=0,p=d.length){if(m<p){if(r(u,u)!==0)return p;do{const f=m+p>>>1;a(d[f],u)<=0?m=f+1:p=f}while(m<p)}return m}function i(d,u,m=0,p=d.length){const f=s(d,u,m,p-1);return f>m&&n(d[f-1],u)>-n(d[f],u)?f-1:f}return{left:s,center:i,right:o}}function RK(){return 0}function Mj(t){return t===null?NaN:+t}function*$K(t,r){for(let a of t)a!=null&&(a=+a)>=a&&(yield a)}const LK=HN(_i),Im=LK.right;HN(Mj).center;class ZA extends Map{constructor(r,a=zK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[n,s]of r)this.set(n,s)}get(r){return super.get(e_(this,r))}has(r){return super.has(e_(this,r))}set(r,a){return super.set(IK(this,r),a)}delete(r){return super.delete(DK(this,r))}}function e_({_intern:t,_key:r},a){const n=r(a);return t.has(n)?t.get(n):a}function IK({_intern:t,_key:r},a){const n=r(a);return t.has(n)?t.get(n):(t.set(n,a),a)}function DK({_intern:t,_key:r},a){const n=r(a);return t.has(n)&&(a=t.get(n),t.delete(n)),a}function zK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function FK(t=_i){if(t===_i)return jj;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,a)=>{const n=t(r,a);return n||n===0?n:(t(a,a)===0)-(t(r,r)===0)}}function jj(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const BK=Math.sqrt(50),qK=Math.sqrt(10),UK=Math.sqrt(2);function o0(t,r,a){const n=(r-t)/Math.max(0,a),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),i=o>=BK?10:o>=qK?5:o>=UK?2:1;let d,u,m;return s<0?(m=Math.pow(10,-s)/i,d=Math.round(t*m),u=Math.round(r*m),d/m<t&&++d,u/m>r&&--u,m=-m):(m=Math.pow(10,s)*i,d=Math.round(t/m),u=Math.round(r/m),d*m<t&&++d,u*m>r&&--u),u<d&&.5<=a&&a<2?o0(t,r,a*2):[d,u,m]}function Gw(t,r,a){if(r=+r,t=+t,a=+a,!(a>0))return[];if(t===r)return[t];const n=r<t,[s,o,i]=n?o0(r,t,a):o0(t,r,a);if(!(o>=s))return[];const d=o-s+1,u=new Array(d);if(n)if(i<0)for(let m=0;m<d;++m)u[m]=(o-m)/-i;else for(let m=0;m<d;++m)u[m]=(o-m)*i;else if(i<0)for(let m=0;m<d;++m)u[m]=(s+m)/-i;else for(let m=0;m<d;++m)u[m]=(s+m)*i;return u}function Kw(t,r,a){return r=+r,t=+t,a=+a,o0(t,r,a)[2]}function Yw(t,r,a){r=+r,t=+t,a=+a;const n=r<t,s=n?Kw(r,t,a):Kw(t,r,a);return(n?-1:1)*(s<0?1/-s:s)}function t_(t,r){let a;for(const n of t)n!=null&&(a<n||a===void 0&&n>=n)&&(a=n);return a}function r_(t,r){let a;for(const n of t)n!=null&&(a>n||a===void 0&&n>=n)&&(a=n);return a}function Rj(t,r,a=0,n=1/0,s){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),n=Math.floor(Math.min(t.length-1,n)),!(a<=r&&r<=n))return t;for(s=s===void 0?jj:FK(s);n>a;){if(n-a>600){const u=n-a+1,m=r-a+1,p=Math.log(u),f=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*f*(u-f)/u)*(m-u/2<0?-1:1),b=Math.max(a,Math.floor(r-m*f/u+y)),w=Math.min(n,Math.floor(r+(u-m)*f/u+y));Rj(t,r,b,w,s)}const o=t[r];let i=a,d=n;for(su(t,a,r),s(t[n],o)>0&&su(t,a,n);i<d;){for(su(t,i,d),++i,--d;s(t[i],o)<0;)++i;for(;s(t[d],o)>0;)--d}s(t[a],o)===0?su(t,a,d):(++d,su(t,d,n)),d<=r&&(a=d+1),r<=d&&(n=d-1)}return t}function su(t,r,a){const n=t[r];t[r]=t[a],t[a]=n}function VK(t,r,a){if(t=Float64Array.from($K(t)),!(!(n=t.length)||isNaN(r=+r))){if(r<=0||n<2)return r_(t);if(r>=1)return t_(t);var n,s=(n-1)*r,o=Math.floor(s),i=t_(Rj(t,o).subarray(0,o+1)),d=r_(t.subarray(o+1));return i+(d-i)*(s-o)}}function HK(t,r,a=Mj){if(!(!(n=t.length)||isNaN(r=+r))){if(r<=0||n<2)return+a(t[0],0,t);if(r>=1)return+a(t[n-1],n-1,t);var n,s=(n-1)*r,o=Math.floor(s),i=+a(t[o],o,t),d=+a(t[o+1],o+1,t);return i+(d-i)*(s-o)}}function WK(t,r,a){t=+t,r=+r,a=(s=arguments.length)<2?(r=t,t=0,1):s<3?1:+a;for(var n=-1,s=Math.max(0,Math.ceil((r-t)/a))|0,o=new Array(s);++n<s;)o[n]=t+n*a;return o}function Cs(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function ei(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Xw=Symbol("implicit");function WN(){var t=new ZA,r=[],a=[],n=Xw;function s(o){let i=t.get(o);if(i===void 0){if(n!==Xw)return n;t.set(o,i=r.push(o)-1)}return a[i%a.length]}return s.domain=function(o){if(!arguments.length)return r.slice();r=[],t=new ZA;for(const i of o)t.has(i)||t.set(i,r.push(i)-1);return s},s.range=function(o){return arguments.length?(a=Array.from(o),s):a.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return WN(r,a).unknown(n)},Cs.apply(s,arguments),s}function Yu(){var t=WN().unknown(void 0),r=t.domain,a=t.range,n=0,s=1,o,i,d=!1,u=0,m=0,p=.5;delete t.unknown;function f(){var y=r().length,b=s<n,w=b?s:n,E=b?n:s;o=(E-w)/Math.max(1,y-u+m*2),d&&(o=Math.floor(o)),w+=(E-w-o*(y-u))*p,i=o*(1-u),d&&(w=Math.round(w),i=Math.round(i));var x=WK(y).map(function(N){return w+o*N});return a(b?x.reverse():x)}return t.domain=function(y){return arguments.length?(r(y),f()):r()},t.range=function(y){return arguments.length?([n,s]=y,n=+n,s=+s,f()):[n,s]},t.rangeRound=function(y){return[n,s]=y,n=+n,s=+s,d=!0,f()},t.bandwidth=function(){return i},t.step=function(){return o},t.round=function(y){return arguments.length?(d=!!y,f()):d},t.padding=function(y){return arguments.length?(u=Math.min(1,m=+y),f()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),f()):u},t.paddingOuter=function(y){return arguments.length?(m=+y,f()):m},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),f()):p},t.copy=function(){return Yu(r(),[n,s]).round(d).paddingInner(u).paddingOuter(m).align(p)},Cs.apply(f(),arguments)}function $j(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $j(r())},t}function Ru(){return $j(Yu.apply(null,arguments).paddingInner(1))}function GN(t,r,a){t.prototype=r.prototype=a,a.constructor=t}function Lj(t,r){var a=Object.create(t.prototype);for(var n in r)a[n]=r[n];return a}function Dm(){}var Xu=.7,i0=1/Xu,$c="\\s*([+-]?\\d+)\\s*",Qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GK=/^#([0-9a-f]{3,8})$/,KK=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),YK=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),XK=new RegExp(`^rgba\\(${$c},${$c},${$c},${Qu}\\)$`),QK=new RegExp(`^rgba\\(${po},${po},${po},${Qu}\\)$`),JK=new RegExp(`^hsl\\(${Qu},${po},${po}\\)$`),ZK=new RegExp(`^hsla\\(${Qu},${po},${po},${Qu}\\)$`),a_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GN(Dm,Ju,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:n_,formatHex:n_,formatHex8:eY,formatHsl:tY,formatRgb:s_,toString:s_});function n_(){return this.rgb().formatHex()}function eY(){return this.rgb().formatHex8()}function tY(){return Ij(this).formatHsl()}function s_(){return this.rgb().formatRgb()}function Ju(t){var r,a;return t=(t+"").trim().toLowerCase(),(r=GK.exec(t))?(a=r[1].length,r=parseInt(r[1],16),a===6?o_(r):a===3?new Ln(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?Yf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?Yf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=KK.exec(t))?new Ln(r[1],r[2],r[3],1):(r=YK.exec(t))?new Ln(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=XK.exec(t))?Yf(r[1],r[2],r[3],r[4]):(r=QK.exec(t))?Yf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=JK.exec(t))?c_(r[1],r[2]/100,r[3]/100,1):(r=ZK.exec(t))?c_(r[1],r[2]/100,r[3]/100,r[4]):a_.hasOwnProperty(t)?o_(a_[t]):t==="transparent"?new Ln(NaN,NaN,NaN,0):null}function o_(t){return new Ln(t>>16&255,t>>8&255,t&255,1)}function Yf(t,r,a,n){return n<=0&&(t=r=a=NaN),new Ln(t,r,a,n)}function rY(t){return t instanceof Dm||(t=Ju(t)),t?(t=t.rgb(),new Ln(t.r,t.g,t.b,t.opacity)):new Ln}function Qw(t,r,a,n){return arguments.length===1?rY(t):new Ln(t,r,a,n??1)}function Ln(t,r,a,n){this.r=+t,this.g=+r,this.b=+a,this.opacity=+n}GN(Ln,Qw,Lj(Dm,{brighter(t){return t=t==null?i0:Math.pow(i0,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xu:Math.pow(Xu,t),new Ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ln(Cl(this.r),Cl(this.g),Cl(this.b),l0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i_,formatHex:i_,formatHex8:aY,formatRgb:l_,toString:l_}));function i_(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}`}function aY(){return`#${bl(this.r)}${bl(this.g)}${bl(this.b)}${bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function l_(){const t=l0(this.opacity);return`${t===1?"rgb(":"rgba("}${Cl(this.r)}, ${Cl(this.g)}, ${Cl(this.b)}${t===1?")":`, ${t})`}`}function l0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bl(t){return t=Cl(t),(t<16?"0":"")+t.toString(16)}function c_(t,r,a,n){return n<=0?t=r=a=NaN:a<=0||a>=1?t=r=NaN:r<=0&&(t=NaN),new Gs(t,r,a,n)}function Ij(t){if(t instanceof Gs)return new Gs(t.h,t.s,t.l,t.opacity);if(t instanceof Dm||(t=Ju(t)),!t)return new Gs;if(t instanceof Gs)return t;t=t.rgb();var r=t.r/255,a=t.g/255,n=t.b/255,s=Math.min(r,a,n),o=Math.max(r,a,n),i=NaN,d=o-s,u=(o+s)/2;return d?(r===o?i=(a-n)/d+(a<n)*6:a===o?i=(n-r)/d+2:i=(r-a)/d+4,d/=u<.5?o+s:2-o-s,i*=60):d=u>0&&u<1?0:i,new Gs(i,d,u,t.opacity)}function nY(t,r,a,n){return arguments.length===1?Ij(t):new Gs(t,r,a,n??1)}function Gs(t,r,a,n){this.h=+t,this.s=+r,this.l=+a,this.opacity=+n}GN(Gs,nY,Lj(Dm,{brighter(t){return t=t==null?i0:Math.pow(i0,t),new Gs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xu:Math.pow(Xu,t),new Gs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*r,s=2*a-n;return new Ln(Uv(t>=240?t-240:t+120,s,n),Uv(t,s,n),Uv(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Gs(d_(this.h),Xf(this.s),Xf(this.l),l0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=l0(this.opacity);return`${t===1?"hsl(":"hsla("}${d_(this.h)}, ${Xf(this.s)*100}%, ${Xf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function d_(t){return t=(t||0)%360,t<0?t+360:t}function Xf(t){return Math.max(0,Math.min(1,t||0))}function Uv(t,r,a){return(t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r)*255}const KN=t=>()=>t;function sY(t,r){return function(a){return t+a*r}}function oY(t,r,a){return t=Math.pow(t,a),r=Math.pow(r,a)-t,a=1/a,function(n){return Math.pow(t+n*r,a)}}function iY(t){return(t=+t)==1?Dj:function(r,a){return a-r?oY(r,a,t):KN(isNaN(r)?a:r)}}function Dj(t,r){var a=r-t;return a?sY(t,a):KN(isNaN(t)?r:t)}const u_=(function t(r){var a=iY(r);function n(s,o){var i=a((s=Qw(s)).r,(o=Qw(o)).r),d=a(s.g,o.g),u=a(s.b,o.b),m=Dj(s.opacity,o.opacity);return function(p){return s.r=i(p),s.g=d(p),s.b=u(p),s.opacity=m(p),s+""}}return n.gamma=t,n})(1);function lY(t,r){r||(r=[]);var a=t?Math.min(r.length,t.length):0,n=r.slice(),s;return function(o){for(s=0;s<a;++s)n[s]=t[s]*(1-o)+r[s]*o;return n}}function cY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dY(t,r){var a=r?r.length:0,n=t?Math.min(a,t.length):0,s=new Array(n),o=new Array(a),i;for(i=0;i<n;++i)s[i]=kd(t[i],r[i]);for(;i<a;++i)o[i]=r[i];return function(d){for(i=0;i<n;++i)o[i]=s[i](d);return o}}function uY(t,r){var a=new Date;return t=+t,r=+r,function(n){return a.setTime(t*(1-n)+r*n),a}}function c0(t,r){return t=+t,r=+r,function(a){return t*(1-a)+r*a}}function mY(t,r){var a={},n={},s;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in t?a[s]=kd(t[s],r[s]):n[s]=r[s];return function(o){for(s in a)n[s]=a[s](o);return n}}var Jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vv=new RegExp(Jw.source,"g");function fY(t){return function(){return t}}function pY(t){return function(r){return t(r)+""}}function gY(t,r){var a=Jw.lastIndex=Vv.lastIndex=0,n,s,o,i=-1,d=[],u=[];for(t=t+"",r=r+"";(n=Jw.exec(t))&&(s=Vv.exec(r));)(o=s.index)>a&&(o=r.slice(a,o),d[i]?d[i]+=o:d[++i]=o),(n=n[0])===(s=s[0])?d[i]?d[i]+=s:d[++i]=s:(d[++i]=null,u.push({i,x:c0(n,s)})),a=Vv.lastIndex;return a<r.length&&(o=r.slice(a),d[i]?d[i]+=o:d[++i]=o),d.length<2?u[0]?pY(u[0].x):fY(r):(r=u.length,function(m){for(var p=0,f;p<r;++p)d[(f=u[p]).i]=f.x(m);return d.join("")})}function kd(t,r){var a=typeof r,n;return r==null||a==="boolean"?KN(r):(a==="number"?c0:a==="string"?(n=Ju(r))?(r=n,u_):gY:r instanceof Ju?u_:r instanceof Date?uY:cY(r)?lY:Array.isArray(r)?dY:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?mY:c0)(t,r)}function YN(t,r){return t=+t,r=+r,function(a){return Math.round(t*(1-a)+r*a)}}function hY(t,r){r===void 0&&(r=t,t=kd);for(var a=0,n=r.length-1,s=r[0],o=new Array(n<0?0:n);a<n;)o[a]=t(s,s=r[++a]);return function(i){var d=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[d](i-d)}}function yY(t){return function(){return t}}function d0(t){return+t}var m_=[0,1];function kn(t){return t}function Zw(t,r){return(r-=t=+t)?function(a){return(a-t)/r}:yY(isNaN(r)?NaN:.5)}function bY(t,r){var a;return t>r&&(a=t,t=r,r=a),function(n){return Math.max(t,Math.min(r,n))}}function xY(t,r,a){var n=t[0],s=t[1],o=r[0],i=r[1];return s<n?(n=Zw(s,n),o=a(i,o)):(n=Zw(n,s),o=a(o,i)),function(d){return o(n(d))}}function vY(t,r,a){var n=Math.min(t.length,r.length)-1,s=new Array(n),o=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++i<n;)s[i]=Zw(t[i],t[i+1]),o[i]=a(r[i],r[i+1]);return function(d){var u=Im(t,d,1,n)-1;return o[u](s[u](d))}}function zm(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hg(){var t=m_,r=m_,a=kd,n,s,o,i=kn,d,u,m;function p(){var y=Math.min(t.length,r.length);return i!==kn&&(i=bY(t[0],t[y-1])),d=y>2?vY:xY,u=m=null,f}function f(y){return y==null||isNaN(y=+y)?o:(u||(u=d(t.map(n),r,a)))(n(i(y)))}return f.invert=function(y){return i(s((m||(m=d(r,t.map(n),c0)))(y)))},f.domain=function(y){return arguments.length?(t=Array.from(y,d0),p()):t.slice()},f.range=function(y){return arguments.length?(r=Array.from(y),p()):r.slice()},f.rangeRound=function(y){return r=Array.from(y),a=YN,p()},f.clamp=function(y){return arguments.length?(i=y?!0:kn,p()):i!==kn},f.interpolate=function(y){return arguments.length?(a=y,p()):a},f.unknown=function(y){return arguments.length?(o=y,f):o},function(y,b){return n=y,s=b,p()}}function XN(){return hg()(kn,kn)}function EY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function u0(t,r){if(!isFinite(t)||t===0)return null;var a=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"),n=t.slice(0,a);return[n.length>1?n[0]+n.slice(2):n,+t.slice(a+1)]}function Gc(t){return t=u0(Math.abs(t)),t?t[1]:NaN}function wY(t,r){return function(a,n){for(var s=a.length,o=[],i=0,d=t[0],u=0;s>0&&d>0&&(u+d+1>n&&(d=Math.max(1,n-u)),o.push(a.substring(s-=d,s+d)),!((u+=d+1)>n));)d=t[i=(i+1)%t.length];return o.reverse().join(r)}}function NY(t){return function(r){return r.replace(/[0-9]/g,function(a){return t[+a]})}}var kY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zu(t){if(!(r=kY.exec(t)))throw new Error("invalid format: "+t);var r;return new QN({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Zu.prototype=QN.prototype;function QN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SY(t){e:for(var r=t.length,a=1,n=-1,s;a<r;++a)switch(t[a]){case".":n=s=a;break;case"0":n===0&&(n=a),s=a;break;default:if(!+t[a])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var m0;function CY(t,r){var a=u0(t,r);if(!a)return m0=void 0,t.toPrecision(r);var n=a[0],s=a[1],o=s-(m0=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+u0(t,Math.max(0,r+o-1))[0]}function f_(t,r){var a=u0(t,r);if(!a)return t+"";var n=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const p_={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EY,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>f_(t*100,r),r:f_,s:CY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function g_(t){return t}var h_=Array.prototype.map,y_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AY(t){var r=t.grouping===void 0||t.thousands===void 0?g_:wY(h_.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?g_:NY(h_.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function m(f,y){f=Zu(f);var b=f.fill,w=f.align,E=f.sign,x=f.symbol,N=f.zero,k=f.width,A=f.comma,P=f.precision,S=f.trim,_=f.type;_==="n"?(A=!0,_="g"):p_[_]||(P===void 0&&(P=12),S=!0,_="g"),(N||b==="0"&&w==="=")&&(N=!0,b="0",w="=");var T=(y&&y.prefix!==void 0?y.prefix:"")+(x==="$"?a:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),O=(x==="$"?n:/[%p]/.test(_)?i:"")+(y&&y.suffix!==void 0?y.suffix:""),R=p_[_],D=/[defgprs%]/.test(_);P=P===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function j($){var K=T,W=O,z,Q,ee;if(_==="c")W=R($)+W,$="";else{$=+$;var H=$<0||1/$<0;if($=isNaN($)?u:R(Math.abs($),P),S&&($=SY($)),H&&+$==0&&E!=="+"&&(H=!1),K=(H?E==="("?E:d:E==="-"||E==="("?"":E)+K,W=(_==="s"&&!isNaN($)&&m0!==void 0?y_[8+m0/3]:"")+W+(H&&E==="("?")":""),D){for(z=-1,Q=$.length;++z<Q;)if(ee=$.charCodeAt(z),48>ee||ee>57){W=(ee===46?s+$.slice(z+1):$.slice(z))+W,$=$.slice(0,z);break}}}A&&!N&&($=r($,1/0));var q=K.length+$.length+W.length,B=q<k?new Array(k-q+1).join(b):"";switch(A&&N&&($=r(B+$,B.length?k-W.length:1/0),B=""),w){case"<":$=K+$+W+B;break;case"=":$=K+B+$+W;break;case"^":$=B.slice(0,q=B.length>>1)+K+$+W+B.slice(q);break;default:$=B+K+$+W;break}return o($)}return j.toString=function(){return f+""},j}function p(f,y){var b=Math.max(-8,Math.min(8,Math.floor(Gc(y)/3)))*3,w=Math.pow(10,-b),E=m((f=Zu(f),f.type="f",f),{suffix:y_[8+b/3]});return function(x){return E(w*x)}}return{format:m,formatPrefix:p}}var Qf,JN,zj;_Y({thousands:",",grouping:[3],currency:["$",""]});function _Y(t){return Qf=AY(t),JN=Qf.format,zj=Qf.formatPrefix,Qf}function PY(t){return Math.max(0,-Gc(Math.abs(t)))}function TY(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(r)/3)))*3-Gc(Math.abs(t)))}function OY(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Gc(r)-Gc(t))+1}function Fj(t,r,a,n){var s=Yw(t,r,a),o;switch(n=Zu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(r));return n.precision==null&&!isNaN(o=TY(s,i))&&(n.precision=o),zj(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=OY(s,Math.max(Math.abs(t),Math.abs(r))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=PY(s))&&(n.precision=o-(n.type==="%")*2);break}}return JN(n)}function Bi(t){var r=t.domain;return t.ticks=function(a){var n=r();return Gw(n[0],n[n.length-1],a??10)},t.tickFormat=function(a,n){var s=r();return Fj(s[0],s[s.length-1],a??10,n)},t.nice=function(a){a==null&&(a=10);var n=r(),s=0,o=n.length-1,i=n[s],d=n[o],u,m,p=10;for(d<i&&(m=i,i=d,d=m,m=s,s=o,o=m);p-- >0;){if(m=Kw(i,d,a),m===u)return n[s]=i,n[o]=d,r(n);if(m>0)i=Math.floor(i/m)*m,d=Math.ceil(d/m)*m;else if(m<0)i=Math.ceil(i*m)/m,d=Math.floor(d*m)/m;else break;u=m}return t},t}function f0(){var t=XN();return t.copy=function(){return zm(t,f0())},Cs.apply(t,arguments),Bi(t)}function Bj(t){var r;function a(n){return n==null||isNaN(n=+n)?r:n}return a.invert=a,a.domain=a.range=function(n){return arguments.length?(t=Array.from(n,d0),a):t.slice()},a.unknown=function(n){return arguments.length?(r=n,a):r},a.copy=function(){return Bj(t).unknown(r)},t=arguments.length?Array.from(t,d0):[0,1],Bi(a)}function qj(t,r){t=t.slice();var a=0,n=t.length-1,s=t[a],o=t[n],i;return o<s&&(i=a,a=n,n=i,i=s,s=o,o=i),t[a]=r.floor(s),t[n]=r.ceil(o),t}function b_(t){return Math.log(t)}function x_(t){return Math.exp(t)}function MY(t){return-Math.log(-t)}function jY(t){return-Math.exp(-t)}function RY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $Y(t){return t===10?RY:t===Math.E?Math.exp:r=>Math.pow(t,r)}function LY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function v_(t){return(r,a)=>-t(-r,a)}function ZN(t){const r=t(b_,x_),a=r.domain;let n=10,s,o;function i(){return s=LY(n),o=$Y(n),a()[0]<0?(s=v_(s),o=v_(o),t(MY,jY)):t(b_,x_),r}return r.base=function(d){return arguments.length?(n=+d,i()):n},r.domain=function(d){return arguments.length?(a(d),i()):a()},r.ticks=d=>{const u=a();let m=u[0],p=u[u.length-1];const f=p<m;f&&([m,p]=[p,m]);let y=s(m),b=s(p),w,E;const x=d==null?10:+d;let N=[];if(!(n%1)&&b-y<x){if(y=Math.floor(y),b=Math.ceil(b),m>0){for(;y<=b;++y)for(w=1;w<n;++w)if(E=y<0?w/o(-y):w*o(y),!(E<m)){if(E>p)break;N.push(E)}}else for(;y<=b;++y)for(w=n-1;w>=1;--w)if(E=y>0?w/o(-y):w*o(y),!(E<m)){if(E>p)break;N.push(E)}N.length*2<x&&(N=Gw(m,p,x))}else N=Gw(y,b,Math.min(b-y,x)).map(o);return f?N.reverse():N},r.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Zu(u)).precision==null&&(u.trim=!0),u=JN(u)),d===1/0)return u;const m=Math.max(1,n*d/r.ticks().length);return p=>{let f=p/o(Math.round(s(p)));return f*n<n-.5&&(f*=n),f<=m?u(p):""}},r.nice=()=>a(qj(a(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),r}function Uj(){const t=ZN(hg()).domain([1,10]);return t.copy=()=>zm(t,Uj()).base(t.base()),Cs.apply(t,arguments),t}function E_(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function w_(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function e2(t){var r=1,a=t(E_(r),w_(r));return a.constant=function(n){return arguments.length?t(E_(r=+n),w_(r)):r},Bi(a)}function Vj(){var t=e2(hg());return t.copy=function(){return zm(t,Vj()).constant(t.constant())},Cs.apply(t,arguments)}function N_(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function IY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function DY(t){return t<0?-t*t:t*t}function t2(t){var r=t(kn,kn),a=1;function n(){return a===1?t(kn,kn):a===.5?t(IY,DY):t(N_(a),N_(1/a))}return r.exponent=function(s){return arguments.length?(a=+s,n()):a},Bi(r)}function r2(){var t=t2(hg());return t.copy=function(){return zm(t,r2()).exponent(t.exponent())},Cs.apply(t,arguments),t}function zY(){return r2.apply(null,arguments).exponent(.5)}function k_(t){return Math.sign(t)*t*t}function FY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Hj(){var t=XN(),r=[0,1],a=!1,n;function s(o){var i=FY(t(o));return isNaN(i)?n:a?Math.round(i):i}return s.invert=function(o){return t.invert(k_(o))},s.domain=function(o){return arguments.length?(t.domain(o),s):t.domain()},s.range=function(o){return arguments.length?(t.range((r=Array.from(o,d0)).map(k_)),s):r.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(a=!!o,s):a},s.clamp=function(o){return arguments.length?(t.clamp(o),s):t.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Hj(t.domain(),r).round(a).clamp(t.clamp()).unknown(n)},Cs.apply(s,arguments),Bi(s)}function Wj(){var t=[],r=[],a=[],n;function s(){var i=0,d=Math.max(1,r.length);for(a=new Array(d-1);++i<d;)a[i-1]=HK(t,i/d);return o}function o(i){return i==null||isNaN(i=+i)?n:r[Im(a,i)]}return o.invertExtent=function(i){var d=r.indexOf(i);return d<0?[NaN,NaN]:[d>0?a[d-1]:t[0],d<a.length?a[d]:t[t.length-1]]},o.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let d of i)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(_i),s()},o.range=function(i){return arguments.length?(r=Array.from(i),s()):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return a.slice()},o.copy=function(){return Wj().domain(t).range(r).unknown(n)},Cs.apply(o,arguments)}function Gj(){var t=0,r=1,a=1,n=[.5],s=[0,1],o;function i(u){return u!=null&&u<=u?s[Im(n,u,0,a)]:o}function d(){var u=-1;for(n=new Array(a);++u<a;)n[u]=((u+1)*r-(u-a)*t)/(a+1);return i}return i.domain=function(u){return arguments.length?([t,r]=u,t=+t,r=+r,d()):[t,r]},i.range=function(u){return arguments.length?(a=(s=Array.from(u)).length-1,d()):s.slice()},i.invertExtent=function(u){var m=s.indexOf(u);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=a?[n[a-1],r]:[n[m-1],n[m]]},i.unknown=function(u){return arguments.length&&(o=u),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Gj().domain([t,r]).range(s).unknown(o)},Cs.apply(Bi(i),arguments)}function Kj(){var t=[.5],r=[0,1],a,n=1;function s(o){return o!=null&&o<=o?r[Im(t,o,0,n)]:a}return s.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,r.length-1),s):t.slice()},s.range=function(o){return arguments.length?(r=Array.from(o),n=Math.min(t.length,r.length-1),s):r.slice()},s.invertExtent=function(o){var i=r.indexOf(o);return[t[i-1],t[i]]},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return Kj().domain(t).range(r).unknown(a)},Cs.apply(s,arguments)}const Hv=new Date,Wv=new Date;function Ta(t,r,a,n){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(t(o=new Date(+o)),o),s.ceil=o=>(t(o=new Date(o-1)),r(o,1),t(o),o),s.round=o=>{const i=s(o),d=s.ceil(o);return o-i<d-o?i:d},s.offset=(o,i)=>(r(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,d)=>{const u=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<i)||!(d>0))return u;let m;do u.push(m=new Date(+o)),r(o,d),t(o);while(m<o&&o<i);return u},s.filter=o=>Ta(i=>{if(i>=i)for(;t(i),!o(i);)i.setTime(i-1)},(i,d)=>{if(i>=i)if(d<0)for(;++d<=0;)for(;r(i,-1),!o(i););else for(;--d>=0;)for(;r(i,1),!o(i););}),a&&(s.count=(o,i)=>(Hv.setTime(+o),Wv.setTime(+i),t(Hv),t(Wv),Math.floor(a(Hv,Wv))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?i=>n(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const p0=Ta(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);p0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ta(r=>{r.setTime(Math.floor(r/t)*t)},(r,a)=>{r.setTime(+r+a*t)},(r,a)=>(a-r)/t):p0);p0.range;const Io=1e3,vs=Io*60,Do=vs*60,Vo=Do*24,a2=Vo*7,S_=Vo*30,Gv=Vo*365,xl=Ta(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*Io)},(t,r)=>(r-t)/Io,t=>t.getUTCSeconds());xl.range;const n2=Ta(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io)},(t,r)=>{t.setTime(+t+r*vs)},(t,r)=>(r-t)/vs,t=>t.getMinutes());n2.range;const s2=Ta(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*vs)},(t,r)=>(r-t)/vs,t=>t.getUTCMinutes());s2.range;const o2=Ta(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Io-t.getMinutes()*vs)},(t,r)=>{t.setTime(+t+r*Do)},(t,r)=>(r-t)/Do,t=>t.getHours());o2.range;const i2=Ta(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*Do)},(t,r)=>(r-t)/Do,t=>t.getUTCHours());i2.range;const Fm=Ta(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vs)/Vo,t=>t.getDate()-1);Fm.range;const yg=Ta(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Vo,t=>t.getUTCDate()-1);yg.range;const Yj=Ta(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Vo,t=>Math.floor(t/Vo));Yj.range;function Vl(t){return Ta(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*vs)/a2)}const bg=Vl(0),g0=Vl(1),BY=Vl(2),qY=Vl(3),Kc=Vl(4),UY=Vl(5),VY=Vl(6);bg.range;g0.range;BY.range;qY.range;Kc.range;UY.range;VY.range;function Hl(t){return Ta(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/a2)}const xg=Hl(0),h0=Hl(1),HY=Hl(2),WY=Hl(3),Yc=Hl(4),GY=Hl(5),KY=Hl(6);xg.range;h0.range;HY.range;WY.range;Yc.range;GY.range;KY.range;const l2=Ta(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l2.range;const c2=Ta(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());c2.range;const Ho=Ta(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ta(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*t)});Ho.range;const Wo=Ta(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ta(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*t)});Wo.range;function Xj(t,r,a,n,s,o){const i=[[xl,1,Io],[xl,5,5*Io],[xl,15,15*Io],[xl,30,30*Io],[o,1,vs],[o,5,5*vs],[o,15,15*vs],[o,30,30*vs],[s,1,Do],[s,3,3*Do],[s,6,6*Do],[s,12,12*Do],[n,1,Vo],[n,2,2*Vo],[a,1,a2],[r,1,S_],[r,3,3*S_],[t,1,Gv]];function d(m,p,f){const y=p<m;y&&([m,p]=[p,m]);const b=f&&typeof f.range=="function"?f:u(m,p,f),w=b?b.range(m,+p+1):[];return y?w.reverse():w}function u(m,p,f){const y=Math.abs(p-m)/f,b=HN(([,,x])=>x).right(i,y);if(b===i.length)return t.every(Yw(m/Gv,p/Gv,f));if(b===0)return p0.every(Math.max(Yw(m,p,f),1));const[w,E]=i[y/i[b-1][2]<i[b][2]/y?b-1:b];return w.every(E)}return[d,u]}const[YY,XY]=Xj(Wo,c2,xg,Yj,i2,s2),[QY,JY]=Xj(Ho,l2,bg,Fm,o2,n2);function Kv(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yv(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ou(t,r,a){return{y:t,m:r,d:a,H:0,M:0,S:0,L:0}}function ZY(t){var r=t.dateTime,a=t.date,n=t.time,s=t.periods,o=t.days,i=t.shortDays,d=t.months,u=t.shortMonths,m=iu(s),p=lu(s),f=iu(o),y=lu(o),b=iu(i),w=lu(i),E=iu(d),x=lu(d),N=iu(u),k=lu(u),A={a:ee,A:H,b:q,B,c:null,d:O_,e:O_,f:wX,g:MX,G:RX,H:xX,I:vX,j:EX,L:Qj,m:NX,M:kX,p:G,q:Y,Q:R_,s:$_,S:SX,u:CX,U:AX,V:_X,w:PX,W:TX,x:null,X:null,y:OX,Y:jX,Z:$X,"%":j_},P={a:V,A:J,b:ue,B:he,c:null,d:M_,e:M_,f:zX,g:YX,G:QX,H:LX,I:IX,j:DX,L:Zj,m:FX,M:BX,p:Oe,q:te,Q:R_,s:$_,S:qX,u:UX,U:VX,V:HX,w:WX,W:GX,x:null,X:null,y:KX,Y:XX,Z:JX,"%":j_},S={a:D,A:j,b:$,B:K,c:W,d:P_,e:P_,f:gX,g:__,G:A_,H:T_,I:T_,j:uX,L:pX,m:dX,M:mX,p:R,q:cX,Q:yX,s:bX,S:fX,u:nX,U:sX,V:oX,w:aX,W:iX,x:z,X:Q,y:__,Y:A_,Z:lX,"%":hX};A.x=_(a,A),A.X=_(n,A),A.c=_(r,A),P.x=_(a,P),P.X=_(n,P),P.c=_(r,P);function _(ie,de){return function(Ce){var ne=[],re=-1,Ie=0,fe=ie.length,Le,at,nt;for(Ce instanceof Date||(Ce=new Date(+Ce));++re<fe;)ie.charCodeAt(re)===37&&(ne.push(ie.slice(Ie,re)),(at=C_[Le=ie.charAt(++re)])!=null?Le=ie.charAt(++re):at=Le==="e"?" ":"0",(nt=de[Le])&&(Le=nt(Ce,at)),ne.push(Le),Ie=re+1);return ne.push(ie.slice(Ie,re)),ne.join("")}}function T(ie,de){return function(Ce){var ne=ou(1900,void 0,1),re=O(ne,ie,Ce+="",0),Ie,fe;if(re!=Ce.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(de&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ie=Yv(ou(ne.y,0,1)),fe=Ie.getUTCDay(),Ie=fe>4||fe===0?h0.ceil(Ie):h0(Ie),Ie=yg.offset(Ie,(ne.V-1)*7),ne.y=Ie.getUTCFullYear(),ne.m=Ie.getUTCMonth(),ne.d=Ie.getUTCDate()+(ne.w+6)%7):(Ie=Kv(ou(ne.y,0,1)),fe=Ie.getDay(),Ie=fe>4||fe===0?g0.ceil(Ie):g0(Ie),Ie=Fm.offset(Ie,(ne.V-1)*7),ne.y=Ie.getFullYear(),ne.m=Ie.getMonth(),ne.d=Ie.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),fe="Z"in ne?Yv(ou(ne.y,0,1)).getUTCDay():Kv(ou(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(fe+5)%7:ne.w+ne.U*7-(fe+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Yv(ne)):Kv(ne)}}function O(ie,de,Ce,ne){for(var re=0,Ie=de.length,fe=Ce.length,Le,at;re<Ie;){if(ne>=fe)return-1;if(Le=de.charCodeAt(re++),Le===37){if(Le=de.charAt(re++),at=S[Le in C_?de.charAt(re++):Le],!at||(ne=at(ie,Ce,ne))<0)return-1}else if(Le!=Ce.charCodeAt(ne++))return-1}return ne}function R(ie,de,Ce){var ne=m.exec(de.slice(Ce));return ne?(ie.p=p.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function D(ie,de,Ce){var ne=b.exec(de.slice(Ce));return ne?(ie.w=w.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function j(ie,de,Ce){var ne=f.exec(de.slice(Ce));return ne?(ie.w=y.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function $(ie,de,Ce){var ne=N.exec(de.slice(Ce));return ne?(ie.m=k.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function K(ie,de,Ce){var ne=E.exec(de.slice(Ce));return ne?(ie.m=x.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function W(ie,de,Ce){return O(ie,r,de,Ce)}function z(ie,de,Ce){return O(ie,a,de,Ce)}function Q(ie,de,Ce){return O(ie,n,de,Ce)}function ee(ie){return i[ie.getDay()]}function H(ie){return o[ie.getDay()]}function q(ie){return u[ie.getMonth()]}function B(ie){return d[ie.getMonth()]}function G(ie){return s[+(ie.getHours()>=12)]}function Y(ie){return 1+~~(ie.getMonth()/3)}function V(ie){return i[ie.getUTCDay()]}function J(ie){return o[ie.getUTCDay()]}function ue(ie){return u[ie.getUTCMonth()]}function he(ie){return d[ie.getUTCMonth()]}function Oe(ie){return s[+(ie.getUTCHours()>=12)]}function te(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var de=_(ie+="",A);return de.toString=function(){return ie},de},parse:function(ie){var de=T(ie+="",!1);return de.toString=function(){return ie},de},utcFormat:function(ie){var de=_(ie+="",P);return de.toString=function(){return ie},de},utcParse:function(ie){var de=T(ie+="",!0);return de.toString=function(){return ie},de}}}var C_={"-":"",_:" ",0:"0"},za=/^\s*\d+/,eX=/^%/,tX=/[\\^$*+?|[\]().{}]/g;function vr(t,r,a){var n=t<0?"-":"",s=(n?-t:t)+"",o=s.length;return n+(o<a?new Array(a-o+1).join(r)+s:s)}function rX(t){return t.replace(tX,"\\$&")}function iu(t){return new RegExp("^(?:"+t.map(rX).join("|")+")","i")}function lu(t){return new Map(t.map((r,a)=>[r.toLowerCase(),a]))}function aX(t,r,a){var n=za.exec(r.slice(a,a+1));return n?(t.w=+n[0],a+n[0].length):-1}function nX(t,r,a){var n=za.exec(r.slice(a,a+1));return n?(t.u=+n[0],a+n[0].length):-1}function sX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.U=+n[0],a+n[0].length):-1}function oX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.V=+n[0],a+n[0].length):-1}function iX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.W=+n[0],a+n[0].length):-1}function A_(t,r,a){var n=za.exec(r.slice(a,a+4));return n?(t.y=+n[0],a+n[0].length):-1}function __(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),a+n[0].length):-1}function lX(t,r,a){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),a+n[0].length):-1}function cX(t,r,a){var n=za.exec(r.slice(a,a+1));return n?(t.q=n[0]*3-3,a+n[0].length):-1}function dX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.m=n[0]-1,a+n[0].length):-1}function P_(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.d=+n[0],a+n[0].length):-1}function uX(t,r,a){var n=za.exec(r.slice(a,a+3));return n?(t.m=0,t.d=+n[0],a+n[0].length):-1}function T_(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.H=+n[0],a+n[0].length):-1}function mX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.M=+n[0],a+n[0].length):-1}function fX(t,r,a){var n=za.exec(r.slice(a,a+2));return n?(t.S=+n[0],a+n[0].length):-1}function pX(t,r,a){var n=za.exec(r.slice(a,a+3));return n?(t.L=+n[0],a+n[0].length):-1}function gX(t,r,a){var n=za.exec(r.slice(a,a+6));return n?(t.L=Math.floor(n[0]/1e3),a+n[0].length):-1}function hX(t,r,a){var n=eX.exec(r.slice(a,a+1));return n?a+n[0].length:-1}function yX(t,r,a){var n=za.exec(r.slice(a));return n?(t.Q=+n[0],a+n[0].length):-1}function bX(t,r,a){var n=za.exec(r.slice(a));return n?(t.s=+n[0],a+n[0].length):-1}function O_(t,r){return vr(t.getDate(),r,2)}function xX(t,r){return vr(t.getHours(),r,2)}function vX(t,r){return vr(t.getHours()%12||12,r,2)}function EX(t,r){return vr(1+Fm.count(Ho(t),t),r,3)}function Qj(t,r){return vr(t.getMilliseconds(),r,3)}function wX(t,r){return Qj(t,r)+"000"}function NX(t,r){return vr(t.getMonth()+1,r,2)}function kX(t,r){return vr(t.getMinutes(),r,2)}function SX(t,r){return vr(t.getSeconds(),r,2)}function CX(t){var r=t.getDay();return r===0?7:r}function AX(t,r){return vr(bg.count(Ho(t)-1,t),r,2)}function Jj(t){var r=t.getDay();return r>=4||r===0?Kc(t):Kc.ceil(t)}function _X(t,r){return t=Jj(t),vr(Kc.count(Ho(t),t)+(Ho(t).getDay()===4),r,2)}function PX(t){return t.getDay()}function TX(t,r){return vr(g0.count(Ho(t)-1,t),r,2)}function OX(t,r){return vr(t.getFullYear()%100,r,2)}function MX(t,r){return t=Jj(t),vr(t.getFullYear()%100,r,2)}function jX(t,r){return vr(t.getFullYear()%1e4,r,4)}function RX(t,r){var a=t.getDay();return t=a>=4||a===0?Kc(t):Kc.ceil(t),vr(t.getFullYear()%1e4,r,4)}function $X(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+vr(r/60|0,"0",2)+vr(r%60,"0",2)}function M_(t,r){return vr(t.getUTCDate(),r,2)}function LX(t,r){return vr(t.getUTCHours(),r,2)}function IX(t,r){return vr(t.getUTCHours()%12||12,r,2)}function DX(t,r){return vr(1+yg.count(Wo(t),t),r,3)}function Zj(t,r){return vr(t.getUTCMilliseconds(),r,3)}function zX(t,r){return Zj(t,r)+"000"}function FX(t,r){return vr(t.getUTCMonth()+1,r,2)}function BX(t,r){return vr(t.getUTCMinutes(),r,2)}function qX(t,r){return vr(t.getUTCSeconds(),r,2)}function UX(t){var r=t.getUTCDay();return r===0?7:r}function VX(t,r){return vr(xg.count(Wo(t)-1,t),r,2)}function eR(t){var r=t.getUTCDay();return r>=4||r===0?Yc(t):Yc.ceil(t)}function HX(t,r){return t=eR(t),vr(Yc.count(Wo(t),t)+(Wo(t).getUTCDay()===4),r,2)}function WX(t){return t.getUTCDay()}function GX(t,r){return vr(h0.count(Wo(t)-1,t),r,2)}function KX(t,r){return vr(t.getUTCFullYear()%100,r,2)}function YX(t,r){return t=eR(t),vr(t.getUTCFullYear()%100,r,2)}function XX(t,r){return vr(t.getUTCFullYear()%1e4,r,4)}function QX(t,r){var a=t.getUTCDay();return t=a>=4||a===0?Yc(t):Yc.ceil(t),vr(t.getUTCFullYear()%1e4,r,4)}function JX(){return"+0000"}function j_(){return"%"}function R_(t){return+t}function $_(t){return Math.floor(+t/1e3)}var bc,tR,rR;ZX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZX(t){return bc=ZY(t),tR=bc.format,bc.parse,rR=bc.utcFormat,bc.utcParse,bc}function eQ(t){return new Date(t)}function tQ(t){return t instanceof Date?+t:+new Date(+t)}function d2(t,r,a,n,s,o,i,d,u,m){var p=XN(),f=p.invert,y=p.domain,b=m(".%L"),w=m(":%S"),E=m("%I:%M"),x=m("%I %p"),N=m("%a %d"),k=m("%b %d"),A=m("%B"),P=m("%Y");function S(_){return(u(_)<_?b:d(_)<_?w:i(_)<_?E:o(_)<_?x:n(_)<_?s(_)<_?N:k:a(_)<_?A:P)(_)}return p.invert=function(_){return new Date(f(_))},p.domain=function(_){return arguments.length?y(Array.from(_,tQ)):y().map(eQ)},p.ticks=function(_){var T=y();return t(T[0],T[T.length-1],_??10)},p.tickFormat=function(_,T){return T==null?S:m(T)},p.nice=function(_){var T=y();return(!_||typeof _.range!="function")&&(_=r(T[0],T[T.length-1],_??10)),_?y(qj(T,_)):p},p.copy=function(){return zm(p,d2(t,r,a,n,s,o,i,d,u,m))},p}function rQ(){return Cs.apply(d2(QY,JY,Ho,l2,bg,Fm,o2,n2,xl,tR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aQ(){return Cs.apply(d2(YY,XY,Wo,c2,xg,yg,i2,s2,xl,rR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var t=0,r=1,a,n,s,o,i=kn,d=!1,u;function m(f){return f==null||isNaN(f=+f)?u:i(s===0?.5:(f=(o(f)-a)*s,d?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([t,r]=f,a=o(t=+t),n=o(r=+r),s=a===n?0:1/(n-a),m):[t,r]},m.clamp=function(f){return arguments.length?(d=!!f,m):d},m.interpolator=function(f){return arguments.length?(i=f,m):i};function p(f){return function(y){var b,w;return arguments.length?([b,w]=y,i=f(b,w),m):[i(0),i(1)]}}return m.range=p(kd),m.rangeRound=p(YN),m.unknown=function(f){return arguments.length?(u=f,m):u},function(f){return o=f,a=f(t),n=f(r),s=a===n?0:1/(n-a),m}}function qi(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aR(){var t=Bi(vg()(kn));return t.copy=function(){return qi(t,aR())},ei.apply(t,arguments)}function nR(){var t=ZN(vg()).domain([1,10]);return t.copy=function(){return qi(t,nR()).base(t.base())},ei.apply(t,arguments)}function sR(){var t=e2(vg());return t.copy=function(){return qi(t,sR()).constant(t.constant())},ei.apply(t,arguments)}function u2(){var t=t2(vg());return t.copy=function(){return qi(t,u2()).exponent(t.exponent())},ei.apply(t,arguments)}function nQ(){return u2.apply(null,arguments).exponent(.5)}function oR(){var t=[],r=kn;function a(n){if(n!=null&&!isNaN(n=+n))return r((Im(t,n,1)-1)/(t.length-1))}return a.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_i),a},a.interpolator=function(n){return arguments.length?(r=n,a):r},a.range=function(){return t.map((n,s)=>r(s/(t.length-1)))},a.quantiles=function(n){return Array.from({length:n+1},(s,o)=>VK(t,o/n))},a.copy=function(){return oR(r).domain(t)},ei.apply(a,arguments)}function Eg(){var t=0,r=.5,a=1,n=1,s,o,i,d,u,m=kn,p,f=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+p(E))-o)*(n*E<n*o?d:u),m(f?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,r,a]=E,s=p(t=+t),o=p(r=+r),i=p(a=+a),d=s===o?0:.5/(o-s),u=o===i?0:.5/(i-o),n=o<s?-1:1,b):[t,r,a]},b.clamp=function(E){return arguments.length?(f=!!E,b):f},b.interpolator=function(E){return arguments.length?(m=E,b):m};function w(E){return function(x){var N,k,A;return arguments.length?([N,k,A]=x,m=hY(E,[N,k,A]),b):[m(0),m(.5),m(1)]}}return b.range=w(kd),b.rangeRound=w(YN),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return p=E,s=E(t),o=E(r),i=E(a),d=s===o?0:.5/(o-s),u=o===i?0:.5/(i-o),n=o<s?-1:1,b}}function iR(){var t=Bi(Eg()(kn));return t.copy=function(){return qi(t,iR())},ei.apply(t,arguments)}function lR(){var t=ZN(Eg()).domain([.1,1,10]);return t.copy=function(){return qi(t,lR()).base(t.base())},ei.apply(t,arguments)}function cR(){var t=e2(Eg());return t.copy=function(){return qi(t,cR()).constant(t.constant())},ei.apply(t,arguments)}function m2(){var t=t2(Eg());return t.copy=function(){return qi(t,m2()).exponent(t.exponent())},ei.apply(t,arguments)}function sQ(){return m2.apply(null,arguments).exponent(.5)}const L_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yu,scaleDiverging:iR,scaleDivergingLog:lR,scaleDivergingPow:m2,scaleDivergingSqrt:sQ,scaleDivergingSymlog:cR,scaleIdentity:Bj,scaleImplicit:Xw,scaleLinear:f0,scaleLog:Uj,scaleOrdinal:WN,scalePoint:Ru,scalePow:r2,scaleQuantile:Wj,scaleQuantize:Gj,scaleRadial:Hj,scaleSequential:aR,scaleSequentialLog:nR,scaleSequentialPow:u2,scaleSequentialQuantile:oR,scaleSequentialSqrt:nQ,scaleSequentialSymlog:sR,scaleSqrt:zY,scaleSymlog:Vj,scaleThreshold:Kj,scaleTime:rQ,scaleUtc:aQ,tickFormat:Fj},Symbol.toStringTag,{value:"Module"}));var Xv,I_;function dR(){if(I_)return Xv;I_=1;var t=vd();function r(a,n,s){for(var o=-1,i=a.length;++o<i;){var d=a[o],u=n(d);if(u!=null&&(m===void 0?u===u&&!t(u):s(u,m)))var m=u,p=d}return p}return Xv=r,Xv}var Qv,D_;function oQ(){if(D_)return Qv;D_=1;function t(r,a){return r>a}return Qv=t,Qv}var Jv,z_;function iQ(){if(z_)return Jv;z_=1;var t=dR(),r=oQ(),a=wd();function n(s){return s&&s.length?t(s,a,r):void 0}return Jv=n,Jv}var lQ=iQ();const wg=Fr(lQ);var Zv,F_;function cQ(){if(F_)return Zv;F_=1;function t(r,a){return r<a}return Zv=t,Zv}var eE,B_;function dQ(){if(B_)return eE;B_=1;var t=dR(),r=cQ(),a=wd();function n(s){return s&&s.length?t(s,a,r):void 0}return eE=n,eE}var uQ=dQ();const Ng=Fr(uQ);var tE,q_;function mQ(){if(q_)return tE;q_=1;var t=AN(),r=Fi(),a=vj(),n=Fn();function s(o,i){var d=n(o)?t:a;return d(o,r(i,3))}return tE=s,tE}var rE,U_;function fQ(){if(U_)return rE;U_=1;var t=bj(),r=mQ();function a(n,s){return t(r(n,s),1)}return rE=a,rE}var pQ=fQ();const gQ=Fr(pQ);var aE,V_;function hQ(){if(V_)return aE;V_=1;var t=FN();function r(a,n){return t(a,n)}return aE=r,aE}var yQ=hQ();const kg=Fr(yQ);var Sd=1e9,bQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p2,Jr=!0,Ss="[DecimalError] ",Al=Ss+"Invalid argument: ",f2=Ss+"Exponent out of range: ",Cd=Math.floor,fl=Math.pow,xQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,La=1e7,Xr=7,uR=9007199254740991,y0=Cd(uR/Xr),Et={};Et.absoluteValue=Et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Et.comparedTo=Et.cmp=function(t){var r,a,n,s,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,s=t.d.length,r=0,a=n<s?n:s;r<a;++r)if(o.d[r]!==t.d[r])return o.d[r]>t.d[r]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var t=this,r=t.d.length-1,a=(r-t.e)*Xr;if(r=t.d[r],r)for(;r%10==0;r/=10)a--;return a<0?0:a};Et.dividedBy=Et.div=function(t){return qo(this,new this.constructor(t))};Et.dividedToIntegerBy=Et.idiv=function(t){var r=this,a=r.constructor;return zr(qo(r,new a(t),0,1),a.precision)};Et.equals=Et.eq=function(t){return!this.cmp(t)};Et.exponent=function(){return wa(this)};Et.greaterThan=Et.gt=function(t){return this.cmp(t)>0};Et.greaterThanOrEqualTo=Et.gte=function(t){return this.cmp(t)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(t){return this.cmp(t)<0};Et.lessThanOrEqualTo=Et.lte=function(t){return this.cmp(t)<1};Et.logarithm=Et.log=function(t){var r,a=this,n=a.constructor,s=n.precision,o=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Xn))throw Error(Ss+"NaN");if(a.s<1)throw Error(Ss+(a.s?"NaN":"-Infinity"));return a.eq(Xn)?new n(0):(Jr=!1,r=qo(em(a,o),em(t,o),o),Jr=!0,zr(r,s))};Et.minus=Et.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?pR(r,t):mR(r,(t.s=-t.s,t))};Et.modulo=Et.mod=function(t){var r,a=this,n=a.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Ss+"NaN");return a.s?(Jr=!1,r=qo(a,t,0,1).times(t),Jr=!0,a.minus(r)):zr(new n(a),s)};Et.naturalExponential=Et.exp=function(){return fR(this)};Et.naturalLogarithm=Et.ln=function(){return em(this)};Et.negated=Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Et.plus=Et.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?mR(r,t):pR(r,(t.s=-t.s,t))};Et.precision=Et.sd=function(t){var r,a,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Al+t);if(r=wa(s)+1,n=s.d.length-1,a=n*Xr+1,n=s.d[n],n){for(;n%10==0;n/=10)a--;for(n=s.d[0];n>=10;n/=10)a++}return t&&r>a?r:a};Et.squareRoot=Et.sqrt=function(){var t,r,a,n,s,o,i,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Ss+"NaN")}for(t=wa(d),Jr=!1,s=Math.sqrt(+d),s==0||s==1/0?(r=fo(d.d),(r.length+t)%2==0&&(r+="0"),s=Math.sqrt(r),t=Cd((t+1)/2)-(t<0||t%2),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new u(r)):n=new u(s.toString()),a=u.precision,s=i=a+3;;)if(o=n,n=o.plus(qo(d,o,i+2)).times(.5),fo(o.d).slice(0,i)===(r=fo(n.d)).slice(0,i)){if(r=r.slice(i-3,i+1),s==i&&r=="4999"){if(zr(o,a+1,0),o.times(o).eq(d)){n=o;break}}else if(r!="9999")break;i+=4}return Jr=!0,zr(n,a)};Et.times=Et.mul=function(t){var r,a,n,s,o,i,d,u,m,p=this,f=p.constructor,y=p.d,b=(t=new f(t)).d;if(!p.s||!t.s)return new f(0);for(t.s*=p.s,a=p.e+t.e,u=y.length,m=b.length,u<m&&(o=y,y=b,b=o,i=u,u=m,m=i),o=[],i=u+m,n=i;n--;)o.push(0);for(n=m;--n>=0;){for(r=0,s=u+n;s>n;)d=o[s]+b[n]*y[s-n-1]+r,o[s--]=d%La|0,r=d/La|0;o[s]=(o[s]+r)%La|0}for(;!o[--i];)o.pop();return r?++a:o.shift(),t.d=o,t.e=a,Jr?zr(t,f.precision):t};Et.toDecimalPlaces=Et.todp=function(t,r){var a=this,n=a.constructor;return a=new n(a),t===void 0?a:(bo(t,0,Sd),r===void 0?r=n.rounding:bo(r,0,8),zr(a,t+wa(a)+1,r))};Et.toExponential=function(t,r){var a,n=this,s=n.constructor;return t===void 0?a=Rl(n,!0):(bo(t,0,Sd),r===void 0?r=s.rounding:bo(r,0,8),n=zr(new s(n),t+1,r),a=Rl(n,!0,t+1)),a};Et.toFixed=function(t,r){var a,n,s=this,o=s.constructor;return t===void 0?Rl(s):(bo(t,0,Sd),r===void 0?r=o.rounding:bo(r,0,8),n=zr(new o(s),t+wa(s)+1,r),a=Rl(n.abs(),!1,t+wa(n)+1),s.isneg()&&!s.isZero()?"-"+a:a)};Et.toInteger=Et.toint=function(){var t=this,r=t.constructor;return zr(new r(t),wa(t)+1,r.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(t){var r,a,n,s,o,i,d=this,u=d.constructor,m=12,p=+(t=new u(t));if(!t.s)return new u(Xn);if(d=new u(d),!d.s){if(t.s<1)throw Error(Ss+"Infinity");return d}if(d.eq(Xn))return d;if(n=u.precision,t.eq(Xn))return zr(d,n);if(r=t.e,a=t.d.length-1,i=r>=a,o=d.s,i){if((a=p<0?-p:p)<=uR){for(s=new u(Xn),r=Math.ceil(n/Xr+4),Jr=!1;a%2&&(s=s.times(d),W_(s.d,r)),a=Cd(a/2),a!==0;)d=d.times(d),W_(d.d,r);return Jr=!0,t.s<0?new u(Xn).div(s):zr(s,n)}}else if(o<0)throw Error(Ss+"NaN");return o=o<0&&t.d[Math.max(r,a)]&1?-1:1,d.s=1,Jr=!1,s=t.times(em(d,n+m)),Jr=!0,s=fR(s),s.s=o,s};Et.toPrecision=function(t,r){var a,n,s=this,o=s.constructor;return t===void 0?(a=wa(s),n=Rl(s,a<=o.toExpNeg||a>=o.toExpPos)):(bo(t,1,Sd),r===void 0?r=o.rounding:bo(r,0,8),s=zr(new o(s),t,r),a=wa(s),n=Rl(s,t<=a||a<=o.toExpNeg,t)),n};Et.toSignificantDigits=Et.tosd=function(t,r){var a=this,n=a.constructor;return t===void 0?(t=n.precision,r=n.rounding):(bo(t,1,Sd),r===void 0?r=n.rounding:bo(r,0,8)),zr(new n(a),t,r)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=wa(t),a=t.constructor;return Rl(t,r<=a.toExpNeg||r>=a.toExpPos)};function mR(t,r){var a,n,s,o,i,d,u,m,p=t.constructor,f=p.precision;if(!t.s||!r.s)return r.s||(r=new p(t)),Jr?zr(r,f):r;if(u=t.d,m=r.d,i=t.e,s=r.e,u=u.slice(),o=i-s,o){for(o<0?(n=u,o=-o,d=m.length):(n=m,s=i,d=u.length),i=Math.ceil(f/Xr),d=i>d?i+1:d+1,o>d&&(o=d,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(d=u.length,o=m.length,d-o<0&&(o=d,n=m,m=u,u=n),a=0;o;)a=(u[--o]=u[o]+m[o]+a)/La|0,u[o]%=La;for(a&&(u.unshift(a),++s),d=u.length;u[--d]==0;)u.pop();return r.d=u,r.e=s,Jr?zr(r,f):r}function bo(t,r,a){if(t!==~~t||t<r||t>a)throw Error(Al+t)}function fo(t){var r,a,n,s=t.length-1,o="",i=t[0];if(s>0){for(o+=i,r=1;r<s;r++)n=t[r]+"",a=Xr-n.length,a&&(o+=xi(a)),o+=n;i=t[r],n=i+"",a=Xr-n.length,a&&(o+=xi(a))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var qo=(function(){function t(n,s){var o,i=0,d=n.length;for(n=n.slice();d--;)o=n[d]*s+i,n[d]=o%La|0,i=o/La|0;return i&&n.unshift(i),n}function r(n,s,o,i){var d,u;if(o!=i)u=o>i?1:-1;else for(d=u=0;d<o;d++)if(n[d]!=s[d]){u=n[d]>s[d]?1:-1;break}return u}function a(n,s,o){for(var i=0;o--;)n[o]-=i,i=n[o]<s[o]?1:0,n[o]=i*La+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,i){var d,u,m,p,f,y,b,w,E,x,N,k,A,P,S,_,T,O,R=n.constructor,D=n.s==s.s?1:-1,j=n.d,$=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(Ss+"Division by zero");for(u=n.e-s.e,T=$.length,S=j.length,b=new R(D),w=b.d=[],m=0;$[m]==(j[m]||0);)++m;if($[m]>(j[m]||0)&&--u,o==null?k=o=R.precision:i?k=o+(wa(n)-wa(s))+1:k=o,k<0)return new R(0);if(k=k/Xr+2|0,m=0,T==1)for(p=0,$=$[0],k++;(m<S||p)&&k--;m++)A=p*La+(j[m]||0),w[m]=A/$|0,p=A%$|0;else{for(p=La/($[0]+1)|0,p>1&&($=t($,p),j=t(j,p),T=$.length,S=j.length),P=T,E=j.slice(0,T),x=E.length;x<T;)E[x++]=0;O=$.slice(),O.unshift(0),_=$[0],$[1]>=La/2&&++_;do p=0,d=r($,E,T,x),d<0?(N=E[0],T!=x&&(N=N*La+(E[1]||0)),p=N/_|0,p>1?(p>=La&&(p=La-1),f=t($,p),y=f.length,x=E.length,d=r(f,E,y,x),d==1&&(p--,a(f,T<y?O:$,y))):(p==0&&(d=p=1),f=$.slice()),y=f.length,y<x&&f.unshift(0),a(E,f,x),d==-1&&(x=E.length,d=r($,E,T,x),d<1&&(p++,a(E,T<x?O:$,x))),x=E.length):d===0&&(p++,E=[0]),w[m++]=p,d&&E[0]?E[x++]=j[P]||0:(E=[j[P]],x=1);while((P++<S||E[0]!==void 0)&&k--)}return w[0]||w.shift(),b.e=u,zr(b,i?o+wa(b)+1:o)}})();function fR(t,r){var a,n,s,o,i,d,u=0,m=0,p=t.constructor,f=p.precision;if(wa(t)>16)throw Error(f2+wa(t));if(!t.s)return new p(Xn);for(Jr=!1,d=f,i=new p(.03125);t.abs().gte(.1);)t=t.times(i),m+=5;for(n=Math.log(fl(2,m))/Math.LN10*2+5|0,d+=n,a=s=o=new p(Xn),p.precision=d;;){if(s=zr(s.times(t),d),a=a.times(++u),i=o.plus(qo(s,a,d)),fo(i.d).slice(0,d)===fo(o.d).slice(0,d)){for(;m--;)o=zr(o.times(o),d);return p.precision=f,r==null?(Jr=!0,zr(o,f)):o}o=i}}function wa(t){for(var r=t.e*Xr,a=t.d[0];a>=10;a/=10)r++;return r}function nE(t,r,a){if(r>t.LN10.sd())throw Jr=!0,a&&(t.precision=a),Error(Ss+"LN10 precision limit exceeded");return zr(new t(t.LN10),r)}function xi(t){for(var r="";t--;)r+="0";return r}function em(t,r){var a,n,s,o,i,d,u,m,p,f=1,y=10,b=t,w=b.d,E=b.constructor,x=E.precision;if(b.s<1)throw Error(Ss+(b.s?"NaN":"-Infinity"));if(b.eq(Xn))return new E(0);if(r==null?(Jr=!1,m=x):m=r,b.eq(10))return r==null&&(Jr=!0),nE(E,m);if(m+=y,E.precision=m,a=fo(w),n=a.charAt(0),o=wa(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&a.charAt(1)>3;)b=b.times(t),a=fo(b.d),n=a.charAt(0),f++;o=wa(b),n>1?(b=new E("0."+a),o++):b=new E(n+"."+a.slice(1))}else return u=nE(E,m+2,x).times(o+""),b=em(new E(n+"."+a.slice(1)),m-y).plus(u),E.precision=x,r==null?(Jr=!0,zr(b,x)):b;for(d=i=b=qo(b.minus(Xn),b.plus(Xn),m),p=zr(b.times(b),m),s=3;;){if(i=zr(i.times(p),m),u=d.plus(qo(i,new E(s),m)),fo(u.d).slice(0,m)===fo(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(nE(E,m+2,x).times(o+""))),d=qo(d,new E(f),m),E.precision=x,r==null?(Jr=!0,zr(d,x)):d;d=u,s+=2}}function H_(t,r){var a,n,s;for((a=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(a<0&&(a=n),a+=+r.slice(n+1),r=r.substring(0,n)):a<0&&(a=r.length),n=0;r.charCodeAt(n)===48;)++n;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(n,s),r){if(s-=n,a=a-n-1,t.e=Cd(a/Xr),t.d=[],n=(a+1)%Xr,a<0&&(n+=Xr),n<s){for(n&&t.d.push(+r.slice(0,n)),s-=Xr;n<s;)t.d.push(+r.slice(n,n+=Xr));r=r.slice(n),n=Xr-r.length}else n-=s;for(;n--;)r+="0";if(t.d.push(+r),Jr&&(t.e>y0||t.e<-y0))throw Error(f2+a)}else t.s=0,t.e=0,t.d=[0];return t}function zr(t,r,a){var n,s,o,i,d,u,m,p,f=t.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=r-i,n<0)n+=Xr,s=r,m=f[p=0];else{if(p=Math.ceil((n+1)/Xr),o=f.length,p>=o)return t;for(m=o=f[p],i=1;o>=10;o/=10)i++;n%=Xr,s=n-Xr+i}if(a!==void 0&&(o=fl(10,i-s-1),d=m/o%10|0,u=r<0||f[p+1]!==void 0||m%o,u=a<4?(d||u)&&(a==0||a==(t.s<0?3:2)):d>5||d==5&&(a==4||u||a==6&&(n>0?s>0?m/fl(10,i-s):0:f[p-1])%10&1||a==(t.s<0?8:7))),r<1||!f[0])return u?(o=wa(t),f.length=1,r=r-o-1,f[0]=fl(10,(Xr-r%Xr)%Xr),t.e=Cd(-r/Xr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=p,o=1,p--):(f.length=p+1,o=fl(10,Xr-n),f[p]=s>0?(m/fl(10,i-s)%fl(10,s)|0)*o:0),u)for(;;)if(p==0){(f[0]+=o)==La&&(f[0]=1,++t.e);break}else{if(f[p]+=o,f[p]!=La)break;f[p--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Jr&&(t.e>y0||t.e<-y0))throw Error(f2+wa(t));return t}function pR(t,r){var a,n,s,o,i,d,u,m,p,f,y=t.constructor,b=y.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new y(t),Jr?zr(r,b):r;if(u=t.d,f=r.d,n=r.e,m=t.e,u=u.slice(),i=m-n,i){for(p=i<0,p?(a=u,i=-i,d=f.length):(a=f,n=m,d=u.length),s=Math.max(Math.ceil(b/Xr),d)+2,i>s&&(i=s,a.length=1),a.reverse(),s=i;s--;)a.push(0);a.reverse()}else{for(s=u.length,d=f.length,p=s<d,p&&(d=s),s=0;s<d;s++)if(u[s]!=f[s]){p=u[s]<f[s];break}i=0}for(p&&(a=u,u=f,f=a,r.s=-r.s),d=u.length,s=f.length-d;s>0;--s)u[d++]=0;for(s=f.length;s>i;){if(u[--s]<f[s]){for(o=s;o&&u[--o]===0;)u[o]=La-1;--u[o],u[s]+=La}u[s]-=f[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(r.d=u,r.e=n,Jr?zr(r,b):r):new y(0)}function Rl(t,r,a){var n,s=wa(t),o=fo(t.d),i=o.length;return r?(a&&(n=a-i)>0?o=o.charAt(0)+"."+o.slice(1)+xi(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+xi(-s-1)+o,a&&(n=a-i)>0&&(o+=xi(n))):s>=i?(o+=xi(s+1-i),a&&(n=a-s-1)>0&&(o=o+"."+xi(n))):((n=s+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),a&&(n=a-i)>0&&(s+1===i&&(o+="."),o+=xi(n))),t.s<0?"-"+o:o}function W_(t,r){if(t.length>r)return t.length=r,!0}function gR(t){var r,a,n;function s(o){var i=this;if(!(i instanceof s))return new s(o);if(i.constructor=s,o instanceof s){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Al+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return H_(i,o.toString())}else if(typeof o!="string")throw Error(Al+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,xQ.test(o))H_(i,o);else throw Error(Al+o)}if(s.prototype=Et,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=gR,s.config=s.set=vQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)t.hasOwnProperty(a=n[r++])||(t[a]=this[a]);return s.config(t),s}function vQ(t){if(!t||typeof t!="object")throw Error(Ss+"Object expected");var r,a,n,s=["precision",1,Sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((n=t[a=s[r]])!==void 0)if(Cd(n)===n&&n>=s[r+1]&&n<=s[r+2])this[a]=n;else throw Error(Al+a+": "+n);if((n=t[a="LN10"])!==void 0)if(n==Math.LN10)this[a]=new this(n);else throw Error(Al+a+": "+n);return this}var p2=gR(bQ);Xn=new p2(1);const Rr=p2;function EQ(t){return SQ(t)||kQ(t)||NQ(t)||wQ()}function wQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,r){if(t){if(typeof t=="string")return e1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e1(t,r)}}function kQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SQ(t){if(Array.isArray(t))return e1(t)}function e1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}var CQ=function(r){return r},hR={},yR=function(r){return r===hR},G_=function(r){return function a(){return arguments.length===0||arguments.length===1&&yR(arguments.length<=0?void 0:arguments[0])?a:r.apply(void 0,arguments)}},AQ=function t(r,a){return r===1?a:G_(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var i=s.filter(function(d){return d!==hR}).length;return i>=r?a.apply(void 0,s):t(r-i,G_(function(){for(var d=arguments.length,u=new Array(d),m=0;m<d;m++)u[m]=arguments[m];var p=s.map(function(f){return yR(f)?u.shift():f});return a.apply(void 0,EQ(p).concat(u))}))})},Sg=function(r){return AQ(r.length,r)},t1=function(r,a){for(var n=[],s=r;s<a;++s)n[s-r]=s;return n},_Q=Sg(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(a){return r[a]}).map(t)}),PQ=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];if(!a.length)return CQ;var s=a.reverse(),o=s[0],i=s.slice(1);return function(){return i.reduce(function(d,u){return u(d)},o.apply(void 0,arguments))}},r1=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},bR=function(r){var a=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return a&&o.every(function(d,u){return d===a[u]})||(a=o,n=r.apply(void 0,o)),n}};function TQ(t){var r;return t===0?r=1:r=Math.floor(new Rr(t).abs().log(10).toNumber())+1,r}function OQ(t,r,a){for(var n=new Rr(t),s=0,o=[];n.lt(r)&&s<1e5;)o.push(n.toNumber()),n=n.add(a),s++;return o}var MQ=Sg(function(t,r,a){var n=+t,s=+r;return n+a*(s-n)}),jQ=Sg(function(t,r,a){var n=r-+t;return n=n||1/0,(a-t)/n}),RQ=Sg(function(t,r,a){var n=r-+t;return n=n||1/0,Math.max(0,Math.min(1,(a-t)/n))});const Cg={rangeStep:OQ,getDigitCount:TQ,interpolateNumber:MQ,uninterpolateNumber:jQ,uninterpolateTruncation:RQ};function a1(t){return IQ(t)||LQ(t)||xR(t)||$Q()}function $Q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function IQ(t){if(Array.isArray(t))return n1(t)}function tm(t,r){return FQ(t)||zQ(t,r)||xR(t,r)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(t,r){if(t){if(typeof t=="string")return n1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n1(t,r)}}function n1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function zQ(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var a=[],n=!0,s=!1,o=void 0;try{for(var i=t[Symbol.iterator](),d;!(n=(d=i.next()).done)&&(a.push(d.value),!(r&&a.length===r));n=!0);}catch(u){s=!0,o=u}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw o}}return a}}function FQ(t){if(Array.isArray(t))return t}function vR(t){var r=tm(t,2),a=r[0],n=r[1],s=a,o=n;return a>n&&(s=n,o=a),[s,o]}function ER(t,r,a){if(t.lte(0))return new Rr(0);var n=Cg.getDigitCount(t.toNumber()),s=new Rr(10).pow(n),o=t.div(s),i=n!==1?.05:.1,d=new Rr(Math.ceil(o.div(i).toNumber())).add(a).mul(i),u=d.mul(s);return r?u:new Rr(Math.ceil(u))}function BQ(t,r,a){var n=1,s=new Rr(t);if(!s.isint()&&a){var o=Math.abs(t);o<1?(n=new Rr(10).pow(Cg.getDigitCount(t)-1),s=new Rr(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Rr(Math.floor(t)))}else t===0?s=new Rr(Math.floor((r-1)/2)):a||(s=new Rr(Math.floor(t)));var i=Math.floor((r-1)/2),d=PQ(_Q(function(u){return s.add(new Rr(u-i).mul(n)).toNumber()}),t1);return d(0,r)}function wR(t,r,a,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Rr(0),tickMin:new Rr(0),tickMax:new Rr(0)};var o=ER(new Rr(r).sub(t).div(a-1),n,s),i;t<=0&&r>=0?i=new Rr(0):(i=new Rr(t).add(r).div(2),i=i.sub(new Rr(i).mod(o)));var d=Math.ceil(i.sub(t).div(o).toNumber()),u=Math.ceil(new Rr(r).sub(i).div(o).toNumber()),m=d+u+1;return m>a?wR(t,r,a,n,s+1):(m<a&&(u=r>0?u+(a-m):u,d=r>0?d:d+(a-m)),{step:o,tickMin:i.sub(new Rr(d).mul(o)),tickMax:i.add(new Rr(u).mul(o))})}function qQ(t){var r=tm(t,2),a=r[0],n=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),d=vR([a,n]),u=tm(d,2),m=u[0],p=u[1];if(m===-1/0||p===1/0){var f=p===1/0?[m].concat(a1(t1(0,s-1).map(function(){return 1/0}))):[].concat(a1(t1(0,s-1).map(function(){return-1/0})),[p]);return a>n?r1(f):f}if(m===p)return BQ(m,s,o);var y=wR(m,p,i,o),b=y.step,w=y.tickMin,E=y.tickMax,x=Cg.rangeStep(w,E.add(new Rr(.1).mul(b)),b);return a>n?r1(x):x}function UQ(t,r){var a=tm(t,2),n=a[0],s=a[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=vR([n,s]),d=tm(i,2),u=d[0],m=d[1];if(u===-1/0||m===1/0)return[n,s];if(u===m)return[u];var p=Math.max(r,2),f=ER(new Rr(m).sub(u).div(p-1),o,0),y=[].concat(a1(Cg.rangeStep(new Rr(u),new Rr(m).sub(new Rr(.99).mul(f)),f)),[m]);return n>s?r1(y):y}var VQ=bR(qQ),HQ=bR(UQ),WQ="Invariant failed";function $l(t,r){throw new Error(WQ)}var GQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xc(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},b0.apply(this,arguments)}function KQ(t,r){return JQ(t)||QQ(t,r)||XQ(t,r)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,r){if(t){if(typeof t=="string")return K_(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K_(t,r)}}function K_(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function QQ(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function JQ(t){if(Array.isArray(t))return t}function ZQ(t,r){if(t==null)return{};var a=eJ(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function eJ(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function tJ(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rJ(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SR(n.key),n)}}function aJ(t,r,a){return r&&rJ(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nJ(t,r,a){return r=x0(r),sJ(t,NR()?Reflect.construct(r,a||[],x0(t).constructor):r.apply(t,a))}function sJ(t,r){if(r&&(Xc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oJ(t)}function oJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},x0(t)}function iJ(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&s1(t,r)}function s1(t,r){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},s1(t,r)}function kR(t,r,a){return r=SR(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function SR(t){var r=lJ(t,"string");return Xc(r)=="symbol"?r:r+""}function lJ(t,r){if(Xc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bm=(function(t){function r(){return tJ(this,r),nJ(this,r,arguments)}return iJ(r,t),aJ(r,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,i=n.width,d=n.dataKey,u=n.data,m=n.dataPointFormatter,p=n.xAxis,f=n.yAxis,y=ZQ(n,GQ),b=nr(y,!1);this.props.direction==="x"&&p.type!=="number"&&$l();var w=u.map(function(E){var x=m(E,d),N=x.x,k=x.y,A=x.value,P=x.errorVal;if(!P)return null;var S=[],_,T;if(Array.isArray(P)){var O=KQ(P,2);_=O[0],T=O[1]}else _=T=P;if(o==="vertical"){var R=p.scale,D=k+s,j=D+i,$=D-i,K=R(A-_),W=R(A+T);S.push({x1:W,y1:j,x2:W,y2:$}),S.push({x1:K,y1:D,x2:W,y2:D}),S.push({x1:K,y1:j,x2:K,y2:$})}else if(o==="horizontal"){var z=f.scale,Q=N+s,ee=Q-i,H=Q+i,q=z(A-_),B=z(A+T);S.push({x1:ee,y1:B,x2:H,y2:B}),S.push({x1:Q,y1:q,x2:Q,y2:B}),S.push({x1:ee,y1:q,x2:H,y2:q})}return e.createElement(pa,b0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},b),S.map(function(G){return e.createElement("line",b0({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return e.createElement(pa,{className:"recharts-errorBars"},w)}}])})(e.Component);kR(Bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kR(Bm,"displayName","ErrorBar");function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rm(t)}function Y_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function il(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Y_(Object(a),!0).forEach(function(n){cJ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y_(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function cJ(t,r,a){return r=dJ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function dJ(t){var r=uJ(t,"string");return rm(r)=="symbol"?r:r+""}function uJ(t,r){if(rm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var CR=function(r){var a=r.children,n=r.formattedGraphicalItems,s=r.legendWidth,o=r.legendContent,i=Kn(a,Sl);if(!i)return null;var d=Sl.defaultProps,u=d!==void 0?il(il({},d),i.props):{},m;return i.props&&i.props.payload?m=i.props&&i.props.payload:o==="children"?m=(n||[]).reduce(function(p,f){var y=f.item,b=f.props,w=b.sectors||b.data||[];return p.concat(w.map(function(E){return{type:i.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):m=(n||[]).map(function(p){var f=p.item,y=f.type.defaultProps,b=y!==void 0?il(il({},y),f.props):{},w=b.dataKey,E=b.name,x=b.legendType,N=b.hide;return{inactive:N,dataKey:w,type:u.iconType||x||"square",color:g2(f),value:E||w,payload:b}}),il(il(il({},u),Sl.getWithHeight(i,s)),{},{payload:m,item:i})};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},am(t)}function X_(t){return gJ(t)||pJ(t)||fJ(t)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(t,r){if(t){if(typeof t=="string")return o1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o1(t,r)}}function pJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gJ(t){if(Array.isArray(t))return o1(t)}function o1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function Q_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function ia(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Q_(Object(a),!0).forEach(function(n){Lc(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q_(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Lc(t,r,a){return r=hJ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function hJ(t){var r=yJ(t,"string");return am(r)=="symbol"?r:r+""}function yJ(t,r){if(am(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function es(t,r,a){return Jt(t)||Jt(r)?a:Pa(r)?ws(t,r,a):Kt(r)?r(t):a}function $u(t,r,a,n){var s=gQ(t,function(d){return es(d,r)});if(a==="number"){var o=s.filter(function(d){return dt(d)||parseFloat(d)});return o.length?[Ng(o),wg(o)]:[1/0,-1/0]}var i=n?s.filter(function(d){return!Jt(d)}):s;return i.map(function(d){return Pa(d)||d instanceof Date?d:""})}var bJ=function(r){var a,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,d=(a=n?.length)!==null&&a!==void 0?a:0;if(d<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,m=0;m<d;m++){var p=m>0?s[m-1].coordinate:s[d-1].coordinate,f=s[m].coordinate,y=m>=d-1?s[0].coordinate:s[m+1].coordinate,b=void 0;if(Ys(f-p)!==Ys(y-f)){var w=[];if(Ys(y-f)===Ys(u[1]-u[0])){b=y;var E=f+u[1]-u[0];w[0]=Math.min(E,(E+p)/2),w[1]=Math.max(E,(E+p)/2)}else{b=p;var x=y+u[1]-u[0];w[0]=Math.min(f,(x+f)/2),w[1]=Math.max(f,(x+f)/2)}var N=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(r>N[0]&&r<=N[1]||r>=w[0]&&r<=w[1]){i=s[m].index;break}}else{var k=Math.min(p,y),A=Math.max(p,y);if(r>(k+f)/2&&r<=(A+f)/2){i=s[m].index;break}}}else for(var P=0;P<d;P++)if(P===0&&r<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<d-1&&r>(n[P].coordinate+n[P-1].coordinate)/2&&r<=(n[P].coordinate+n[P+1].coordinate)/2||P===d-1&&r>(n[P].coordinate+n[P-1].coordinate)/2){i=n[P].index;break}return i},g2=function(r){var a,n=r,s=n.type.displayName,o=(a=r.type)!==null&&a!==void 0&&a.defaultProps?ia(ia({},r.type.defaultProps),r.props):r.props,i=o.stroke,d=o.fill,u;switch(s){case"Line":u=i;break;case"Area":case"Radar":u=i&&i!=="none"?i:d;break;default:u=d;break}return u},xJ=function(r){var a=r.barSize,n=r.totalSize,s=r.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var i={},d=Object.keys(o),u=0,m=d.length;u<m;u++)for(var p=o[d[u]].stackGroups,f=Object.keys(p),y=0,b=f.length;y<b;y++){var w=p[f[y]],E=w.items,x=w.cateAxisId,N=E.filter(function(T){return Fo(T.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,A=k!==void 0?ia(ia({},k),N[0].props):N[0].props,P=A.barSize,S=A[x];i[S]||(i[S]=[]);var _=Jt(P)?a:P;i[S].push({item:N[0],stackList:N.slice(1),barSize:Jt(_)?void 0:jl(_,n,0)})}}return i},vJ=function(r){var a=r.barGap,n=r.barCategoryGap,s=r.bandSize,o=r.sizeList,i=o===void 0?[]:o,d=r.maxBarSize,u=i.length;if(u<1)return null;var m=jl(a,s,0,!0),p,f=[];if(i[0].barSize===+i[0].barSize){var y=!1,b=s/u,w=i.reduce(function(P,S){return P+S.barSize||0},0);w+=(u-1)*m,w>=s&&(w-=(u-1)*m,m=0),w>=s&&b>0&&(y=!0,b*=.9,w=u*b);var E=(s-w)/2>>0,x={offset:E-m,size:0};p=i.reduce(function(P,S){var _={item:S.item,position:{offset:x.offset+x.size+m,size:y?b:S.barSize}},T=[].concat(X_(P),[_]);return x=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){T.push({item:O,position:x})}),T},f)}else{var N=jl(n,s,0,!0);s-2*N-(u-1)*m<=0&&(m=0);var k=(s-2*N-(u-1)*m)/u;k>1&&(k>>=0);var A=d===+d?Math.min(k,d):k;p=i.reduce(function(P,S,_){var T=[].concat(X_(P),[{item:S.item,position:{offset:N+(k+m)*_+(k-A)/2,size:A}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},f)}return p},EJ=function(r,a,n,s){var o=n.children,i=n.width,d=n.margin,u=i-(d.left||0)-(d.right||0),m=CR({children:o,legendWidth:u});if(m){var p=s||{},f=p.width,y=p.height,b=m.align,w=m.verticalAlign,E=m.layout;if((E==="vertical"||E==="horizontal"&&w==="middle")&&b!=="center"&&dt(r[b]))return ia(ia({},r),{},Lc({},b,r[b]+(f||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&w!=="middle"&&dt(r[w]))return ia(ia({},r),{},Lc({},w,r[w]+(y||0)))}return r},wJ=function(r,a,n){return Jt(a)?!0:r==="horizontal"?a==="yAxis":r==="vertical"||n==="x"?a==="xAxis":n==="y"?a==="yAxis":!0},AR=function(r,a,n,s,o){var i=a.props.children,d=Ns(i,Bm).filter(function(m){return wJ(s,o,m.props.direction)});if(d&&d.length){var u=d.map(function(m){return m.props.dataKey});return r.reduce(function(m,p){var f=es(p,n);if(Jt(f))return m;var y=Array.isArray(f)?[Ng(f),wg(f)]:[f,f],b=u.reduce(function(w,E){var x=es(p,E,0),N=y[0]-Math.abs(Array.isArray(x)?x[0]:x),k=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(N,w[0]),Math.max(k,w[1])]},[1/0,-1/0]);return[Math.min(b[0],m[0]),Math.max(b[1],m[1])]},[1/0,-1/0])}return null},NJ=function(r,a,n,s,o){var i=a.map(function(d){return AR(r,d,n,o,s)}).filter(function(d){return!Jt(d)});return i&&i.length?i.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},_R=function(r,a,n,s,o){var i=a.map(function(u){var m=u.props.dataKey;return n==="number"&&m&&AR(r,u,m,s)||$u(r,m,n,o)});if(n==="number")return i.reduce(function(u,m){return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);var d={};return i.reduce(function(u,m){for(var p=0,f=m.length;p<f;p++)d[m[p]]||(d[m[p]]=!0,u.push(m[p]));return u},[])},PR=function(r,a){return r==="horizontal"&&a==="xAxis"||r==="vertical"&&a==="yAxis"||r==="centric"&&a==="angleAxis"||r==="radial"&&a==="radiusAxis"},TR=function(r,a,n,s){if(s)return r.map(function(u){return u.coordinate});var o,i,d=r.map(function(u){return u.coordinate===a&&(o=!0),u.coordinate===n&&(i=!0),u.coordinate});return o||d.push(a),i||d.push(n),d},zo=function(r,a,n){if(!r)return null;var s=r.scale,o=r.duplicateDomain,i=r.type,d=r.range,u=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,m=(a||n)&&i==="category"&&s.bandwidth?s.bandwidth()/u:0;if(m=r.axisType==="angleAxis"&&d?.length>=2?Ys(d[0]-d[1])*2*m:m,a&&(r.ticks||r.niceTicks)){var p=(r.ticks||r.niceTicks).map(function(f){var y=o?o.indexOf(f):f;return{coordinate:s(y)+m,value:f,offset:m}});return p.filter(function(f){return!Rm(f.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(f,y){return{coordinate:s(f)+m,value:f,index:y,offset:m}}):s.ticks&&!n?s.ticks(r.tickCount).map(function(f){return{coordinate:s(f)+m,value:f,offset:m}}):s.domain().map(function(f,y){return{coordinate:s(f)+m,value:o?o[f]:f,index:y,offset:m}})},sE=new WeakMap,Jf=function(r,a){if(typeof a!="function")return r;sE.has(r)||sE.set(r,new WeakMap);var n=sE.get(r);if(n.has(a))return n.get(a);var s=function(){r.apply(void 0,arguments),a.apply(void 0,arguments)};return n.set(a,s),s},kJ=function(r,a,n){var s=r.scale,o=r.type,i=r.layout,d=r.axisType;if(s==="auto")return i==="radial"&&d==="radiusAxis"?{scale:Yu(),realScaleType:"band"}:i==="radial"&&d==="angleAxis"?{scale:f0(),realScaleType:"linear"}:o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?{scale:Ru(),realScaleType:"point"}:o==="category"?{scale:Yu(),realScaleType:"band"}:{scale:f0(),realScaleType:"linear"};if(Ml(s)){var u="scale".concat(cg(s));return{scale:(L_[u]||Ru)(),realScaleType:L_[u]?u:"point"}}return Kt(s)?{scale:s}:{scale:Ru(),realScaleType:"point"}},J_=1e-4,SJ=function(r){var a=r.domain();if(!(!a||a.length<=2)){var n=a.length,s=r.range(),o=Math.min(s[0],s[1])-J_,i=Math.max(s[0],s[1])+J_,d=r(a[0]),u=r(a[n-1]);(d<o||d>i||u<o||u>i)&&r.domain([a[0],a[n-1]])}},CJ=function(r,a){if(!r)return null;for(var n=0,s=r.length;n<s;n++)if(r[n].item===a)return r[n].position;return null},AJ=function(r,a){if(!a||a.length!==2||!dt(a[0])||!dt(a[1]))return r;var n=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]),o=[r[0],r[1]];return(!dt(r[0])||r[0]<n)&&(o[0]=n),(!dt(r[1])||r[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},_J=function(r){var a=r.length;if(!(a<=0))for(var n=0,s=r[0].length;n<s;++n)for(var o=0,i=0,d=0;d<a;++d){var u=Rm(r[d][n][1])?r[d][n][0]:r[d][n][1];u>=0?(r[d][n][0]=o,r[d][n][1]=o+u,o=r[d][n][1]):(r[d][n][0]=i,r[d][n][1]=i+u,i=r[d][n][1])}},PJ=function(r){var a=r.length;if(!(a<=0))for(var n=0,s=r[0].length;n<s;++n)for(var o=0,i=0;i<a;++i){var d=Rm(r[i][n][1])?r[i][n][0]:r[i][n][1];d>=0?(r[i][n][0]=o,r[i][n][1]=o+d,o=r[i][n][1]):(r[i][n][0]=0,r[i][n][1]=0)}},TJ={sign:_J,expand:fH,none:qc,silhouette:pH,wiggle:gH,positive:PJ},OJ=function(r,a,n){var s=a.map(function(d){return d.props.dataKey}),o=TJ[n],i=mH().keys(s).value(function(d,u){return+es(d,u,0)}).order(Lw).offset(o);return i(r)},MJ=function(r,a,n,s,o,i){if(!r)return null;var d=i?a.reverse():a,u={},m=d.reduce(function(f,y){var b,w=(b=y.type)!==null&&b!==void 0&&b.defaultProps?ia(ia({},y.type.defaultProps),y.props):y.props,E=w.stackId,x=w.hide;if(x)return f;var N=w[n],k=f[N]||{hasStack:!1,stackGroups:{}};if(Pa(E)){var A=k.stackGroups[E]||{numericAxisId:n,cateAxisId:s,items:[]};A.items.push(y),k.hasStack=!0,k.stackGroups[E]=A}else k.stackGroups[$m("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[y]};return ia(ia({},f),{},Lc({},N,k))},u),p={};return Object.keys(m).reduce(function(f,y){var b=m[y];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,x){var N=b.stackGroups[x];return ia(ia({},E),{},Lc({},x,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:OJ(r,N.items,o)}))},w)}return ia(ia({},f),{},Lc({},y,b))},p)},jJ=function(r,a){var n=a.realScaleType,s=a.type,o=a.tickCount,i=a.originalDomain,d=a.allowDecimals,u=n||a.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var m=r.domain();if(!m.length)return null;var p=VQ(m,o,d);return r.domain([Ng(p),wg(p)]),{niceTicks:p}}if(o&&s==="number"){var f=r.domain(),y=HQ(f,o,d);return{niceTicks:y}}return null};function Z_(t){var r=t.axis,a=t.ticks,n=t.bandSize,s=t.entry,o=t.index,i=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Jt(s[r.dataKey])){var d=Wp(a,"value",s[r.dataKey]);if(d)return d.coordinate+n/2}return a[o]?a[o].coordinate+n/2:null}var u=es(s,Jt(i)?r.dataKey:i);return Jt(u)?null:r.scale(u)}var e6=function(r){var a=r.axis,n=r.ticks,s=r.offset,o=r.bandSize,i=r.entry,d=r.index;if(a.type==="category")return n[d]?n[d].coordinate+s:null;var u=es(i,a.dataKey,a.domain[d]);return Jt(u)?null:a.scale(u)-o/2+s},RJ=function(r){var a=r.numericAxis,n=a.scale.domain();if(a.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},$J=function(r,a){var n,s=(n=r.type)!==null&&n!==void 0&&n.defaultProps?ia(ia({},r.type.defaultProps),r.props):r.props,o=s.stackId;if(Pa(o)){var i=a[o];if(i){var d=i.items.indexOf(r);return d>=0?i.stackedData[d]:null}}return null},LJ=function(r){return r.reduce(function(a,n){return[Ng(n.concat([a[0]]).filter(dt)),wg(n.concat([a[1]]).filter(dt))]},[1/0,-1/0])},OR=function(r,a,n){return Object.keys(r).reduce(function(s,o){var i=r[o],d=i.stackedData,u=d.reduce(function(m,p){var f=LJ(p.slice(a,n+1));return[Math.min(m[0],f[0]),Math.max(m[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},t6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i1=function(r,a,n){if(Kt(r))return r(a,n);if(!Array.isArray(r))return a;var s=[];if(dt(r[0]))s[0]=n?r[0]:Math.min(r[0],a[0]);else if(t6.test(r[0])){var o=+t6.exec(r[0])[1];s[0]=a[0]-o}else Kt(r[0])?s[0]=r[0](a[0]):s[0]=a[0];if(dt(r[1]))s[1]=n?r[1]:Math.max(r[1],a[1]);else if(r6.test(r[1])){var i=+r6.exec(r[1])[1];s[1]=a[1]+i}else Kt(r[1])?s[1]=r[1](a[1]):s[1]=a[1];return s},v0=function(r,a,n){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!n||s>0)return s}if(r&&a&&a.length>=2){for(var o=qN(a,function(f){return f.coordinate}),i=1/0,d=1,u=o.length;d<u;d++){var m=o[d],p=o[d-1];i=Math.min((m.coordinate||0)-(p.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},a6=function(r,a,n){return!r||!r.length||kg(r,ws(n,"type.defaultProps.domain"))?a:r},MR=function(r,a){var n=r.type.defaultProps?ia(ia({},r.type.defaultProps),r.props):r.props,s=n.dataKey,o=n.name,i=n.unit,d=n.formatter,u=n.tooltipType,m=n.chartType,p=n.hide;return ia(ia({},nr(r,!1)),{},{dataKey:s,unit:i,formatter:d,name:o||s,color:g2(r),value:es(a,s),type:u,payload:a,chartType:m,hide:p})};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nm(t)}function n6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function s6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?n6(Object(a),!0).forEach(function(n){IJ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function IJ(t,r,a){return r=DJ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function DJ(t){var r=zJ(t,"string");return nm(r)=="symbol"?r:r+""}function zJ(t,r){if(nm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var E0=Math.PI/180,FJ=function(r){return r*180/Math.PI},Ka=function(r,a,n,s){return{x:r+Math.cos(-E0*s)*n,y:a+Math.sin(-E0*s)*n}},BJ=function(r,a){var n=r.x,s=r.y,o=a.x,i=a.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-i,2))},qJ=function(r,a){var n=r.x,s=r.y,o=a.cx,i=a.cy,d=BJ({x:n,y:s},{x:o,y:i});if(d<=0)return{radius:d};var u=(n-o)/d,m=Math.acos(u);return s>i&&(m=2*Math.PI-m),{radius:d,angle:FJ(m),angleInRadian:m}},UJ=function(r){var a=r.startAngle,n=r.endAngle,s=Math.floor(a/360),o=Math.floor(n/360),i=Math.min(s,o);return{startAngle:a-i*360,endAngle:n-i*360}},VJ=function(r,a){var n=a.startAngle,s=a.endAngle,o=Math.floor(n/360),i=Math.floor(s/360),d=Math.min(o,i);return r+d*360},o6=function(r,a){var n=r.x,s=r.y,o=qJ({x:n,y:s},a),i=o.radius,d=o.angle,u=a.innerRadius,m=a.outerRadius;if(i<u||i>m)return!1;if(i===0)return!0;var p=UJ(a),f=p.startAngle,y=p.endAngle,b=d,w;if(f<=y){for(;b>y;)b-=360;for(;b<f;)b+=360;w=b>=f&&b<=y}else{for(;b>f;)b-=360;for(;b<y;)b+=360;w=b>=y&&b<=f}return w?s6(s6({},a),{},{radius:i,angle:VJ(b,a)}):null};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sm(t)}var HJ=["offset"];function WJ(t){return XJ(t)||YJ(t)||KJ(t)||GJ()}function GJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KJ(t,r){if(t){if(typeof t=="string")return l1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l1(t,r)}}function YJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XJ(t){if(Array.isArray(t))return l1(t)}function l1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function QJ(t,r){if(t==null)return{};var a=JJ(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function JJ(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function i6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Aa(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?i6(Object(a),!0).forEach(function(n){ZJ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ZJ(t,r,a){return r=eZ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function eZ(t){var r=tZ(t,"string");return sm(r)=="symbol"?r:r+""}function tZ(t,r){if(sm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},om.apply(this,arguments)}var rZ=function(r){var a=r.value,n=r.formatter,s=Jt(r.children)?a:r.children;return Kt(n)?n(s):s},aZ=function(r,a){var n=Ys(a-r),s=Math.min(Math.abs(a-r),360);return n*s},nZ=function(r,a,n){var s=r.position,o=r.viewBox,i=r.offset,d=r.className,u=o,m=u.cx,p=u.cy,f=u.innerRadius,y=u.outerRadius,b=u.startAngle,w=u.endAngle,E=u.clockWise,x=(f+y)/2,N=aZ(b,w),k=N>=0?1:-1,A,P;s==="insideStart"?(A=b+k*i,P=E):s==="insideEnd"?(A=w-k*i,P=!E):s==="end"&&(A=w+k*i,P=E),P=N<=0?P:!P;var S=Ka(m,p,x,A),_=Ka(m,p,x,A+(P?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(_.x,",").concat(_.y),O=Jt(r.id)?$m("recharts-radial-line-"):r.id;return e.createElement("text",om({},n,{dominantBaseline:"central",className:mr("recharts-radial-bar-label",d)}),e.createElement("defs",null,e.createElement("path",{id:O,d:T})),e.createElement("textPath",{xlinkHref:"#".concat(O)},a))},sZ=function(r){var a=r.viewBox,n=r.offset,s=r.position,o=a,i=o.cx,d=o.cy,u=o.innerRadius,m=o.outerRadius,p=o.startAngle,f=o.endAngle,y=(p+f)/2;if(s==="outside"){var b=Ka(i,d,m+n,y),w=b.x,E=b.y;return{x:w,y:E,textAnchor:w>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:d,textAnchor:"middle",verticalAnchor:"end"};var x=(u+m)/2,N=Ka(i,d,x,y),k=N.x,A=N.y;return{x:k,y:A,textAnchor:"middle",verticalAnchor:"middle"}},oZ=function(r){var a=r.viewBox,n=r.parentViewBox,s=r.offset,o=r.position,i=a,d=i.x,u=i.y,m=i.width,p=i.height,f=p>=0?1:-1,y=f*s,b=f>0?"end":"start",w=f>0?"start":"end",E=m>=0?1:-1,x=E*s,N=E>0?"end":"start",k=E>0?"start":"end";if(o==="top"){var A={x:d+m/2,y:u-f*s,textAnchor:"middle",verticalAnchor:b};return Aa(Aa({},A),n?{height:Math.max(u-n.y,0),width:m}:{})}if(o==="bottom"){var P={x:d+m/2,y:u+p+y,textAnchor:"middle",verticalAnchor:w};return Aa(Aa({},P),n?{height:Math.max(n.y+n.height-(u+p),0),width:m}:{})}if(o==="left"){var S={x:d-x,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return Aa(Aa({},S),n?{width:Math.max(S.x-n.x,0),height:p}:{})}if(o==="right"){var _={x:d+m+x,y:u+p/2,textAnchor:k,verticalAnchor:"middle"};return Aa(Aa({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:p}:{})}var T=n?{width:m,height:p}:{};return o==="insideLeft"?Aa({x:d+x,y:u+p/2,textAnchor:k,verticalAnchor:"middle"},T):o==="insideRight"?Aa({x:d+m-x,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},T):o==="insideTop"?Aa({x:d+m/2,y:u+y,textAnchor:"middle",verticalAnchor:w},T):o==="insideBottom"?Aa({x:d+m/2,y:u+p-y,textAnchor:"middle",verticalAnchor:b},T):o==="insideTopLeft"?Aa({x:d+x,y:u+y,textAnchor:k,verticalAnchor:w},T):o==="insideTopRight"?Aa({x:d+m-x,y:u+y,textAnchor:N,verticalAnchor:w},T):o==="insideBottomLeft"?Aa({x:d+x,y:u+p-y,textAnchor:k,verticalAnchor:b},T):o==="insideBottomRight"?Aa({x:d+m-x,y:u+p-y,textAnchor:N,verticalAnchor:b},T):Ed(o)&&(dt(o.x)||yl(o.x))&&(dt(o.y)||yl(o.y))?Aa({x:d+jl(o.x,m),y:u+jl(o.y,p),textAnchor:"end",verticalAnchor:"end"},T):Aa({x:d+m/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},iZ=function(r){return"cx"in r&&dt(r.cx)};function un(t){var r=t.offset,a=r===void 0?5:r,n=QJ(t,HJ),s=Aa({offset:a},n),o=s.viewBox,i=s.position,d=s.value,u=s.children,m=s.content,p=s.className,f=p===void 0?"":p,y=s.textBreakAll;if(!o||Jt(d)&&Jt(u)&&!g.isValidElement(m)&&!Kt(m))return null;if(g.isValidElement(m))return g.cloneElement(m,s);var b;if(Kt(m)){if(b=g.createElement(m,s),g.isValidElement(b))return b}else b=rZ(s);var w=iZ(o),E=nr(s,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return nZ(s,b,E);var x=w?sZ(s):oZ(s);return e.createElement(s0,om({className:mr("recharts-label",f)},E,x,{breakAll:y}),b)}un.displayName="Label";var jR=function(r){var a=r.cx,n=r.cy,s=r.angle,o=r.startAngle,i=r.endAngle,d=r.r,u=r.radius,m=r.innerRadius,p=r.outerRadius,f=r.x,y=r.y,b=r.top,w=r.left,E=r.width,x=r.height,N=r.clockWise,k=r.labelViewBox;if(k)return k;if(dt(E)&&dt(x)){if(dt(f)&&dt(y))return{x:f,y,width:E,height:x};if(dt(b)&&dt(w))return{x:b,y:w,width:E,height:x}}return dt(f)&&dt(y)?{x:f,y,width:0,height:0}:dt(a)&&dt(n)?{cx:a,cy:n,startAngle:o||s||0,endAngle:i||s||0,innerRadius:m||0,outerRadius:p||u||d||0,clockWise:N}:r.viewBox?r.viewBox:{}},lZ=function(r,a){return r?r===!0?e.createElement(un,{key:"label-implicit",viewBox:a}):Pa(r)?e.createElement(un,{key:"label-implicit",viewBox:a,value:r}):g.isValidElement(r)?r.type===un?g.cloneElement(r,{key:"label-implicit",viewBox:a}):e.createElement(un,{key:"label-implicit",content:r,viewBox:a}):Kt(r)?e.createElement(un,{key:"label-implicit",content:r,viewBox:a}):Ed(r)?e.createElement(un,om({viewBox:a},r,{key:"label-implicit"})):null:null},cZ=function(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var s=r.children,o=jR(r),i=Ns(s,un).map(function(u,m){return g.cloneElement(u,{viewBox:a||o,key:"label-".concat(m)})});if(!n)return i;var d=lZ(r.label,a||o);return[d].concat(WJ(i))};un.parseViewBox=jR;un.renderCallByParent=cZ;var oE,l6;function dZ(){if(l6)return oE;l6=1;function t(r){var a=r==null?0:r.length;return a?r[a-1]:void 0}return oE=t,oE}var uZ=dZ();const mZ=Fr(uZ);function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(t)}var fZ=["valueAccessor"],pZ=["data","dataKey","clockWise","id","textBreakAll"];function gZ(t){return xZ(t)||bZ(t)||yZ(t)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(t,r){if(t){if(typeof t=="string")return c1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c1(t,r)}}function bZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xZ(t){if(Array.isArray(t))return c1(t)}function c1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},w0.apply(this,arguments)}function c6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function d6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?c6(Object(a),!0).forEach(function(n){vZ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function vZ(t,r,a){return r=EZ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function EZ(t){var r=wZ(t,"string");return im(r)=="symbol"?r:r+""}function wZ(t,r){if(im(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function u6(t,r){if(t==null)return{};var a=NZ(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NZ(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}var kZ=function(r){return Array.isArray(r.value)?mZ(r.value):r.value};function Pi(t){var r=t.valueAccessor,a=r===void 0?kZ:r,n=u6(t,fZ),s=n.data,o=n.dataKey,i=n.clockWise,d=n.id,u=n.textBreakAll,m=u6(n,pZ);return!s||!s.length?null:e.createElement(pa,{className:"recharts-label-list"},s.map(function(p,f){var y=Jt(o)?a(p,f):es(p&&p.payload,o),b=Jt(d)?{}:{id:"".concat(d,"-").concat(f)};return e.createElement(un,w0({},nr(p,!0),m,b,{parentViewBox:p.parentViewBox,value:y,textBreakAll:u,viewBox:un.parseViewBox(Jt(i)?p:d6(d6({},p),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Pi.displayName="LabelList";function SZ(t,r){return t?t===!0?e.createElement(Pi,{key:"labelList-implicit",data:r}):e.isValidElement(t)||Kt(t)?e.createElement(Pi,{key:"labelList-implicit",data:r,content:t}):Ed(t)?e.createElement(Pi,w0({data:r},t,{key:"labelList-implicit"})):null:null}function CZ(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var n=t.children,s=Ns(n,Pi).map(function(i,d){return g.cloneElement(i,{data:r,key:"labelList-".concat(d)})});if(!a)return s;var o=SZ(t.label,r);return[o].concat(gZ(s))}Pi.renderCallByParent=CZ;function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},d1.apply(this,arguments)}function m6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function f6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?m6(Object(a),!0).forEach(function(n){AZ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function AZ(t,r,a){return r=_Z(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _Z(t){var r=PZ(t,"string");return lm(r)=="symbol"?r:r+""}function PZ(t,r){if(lm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var TZ=function(r,a){var n=Ys(a-r),s=Math.min(Math.abs(a-r),359.999);return n*s},Zf=function(r){var a=r.cx,n=r.cy,s=r.radius,o=r.angle,i=r.sign,d=r.isExternal,u=r.cornerRadius,m=r.cornerIsExternal,p=u*(d?1:-1)+s,f=Math.asin(u/p)/E0,y=m?o:o+i*f,b=Ka(a,n,p,y),w=Ka(a,n,s,y),E=m?o-i*f:o,x=Ka(a,n,p*Math.cos(f*E0),E);return{center:b,circleTangency:w,lineTangency:x,theta:f}},RR=function(r){var a=r.cx,n=r.cy,s=r.innerRadius,o=r.outerRadius,i=r.startAngle,d=r.endAngle,u=TZ(i,d),m=i+u,p=Ka(a,n,o,i),f=Ka(a,n,o,m),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(i>m),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var b=Ka(a,n,s,i),w=Ka(a,n,s,m);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(i<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(a,",").concat(n," Z");return y},OZ=function(r){var a=r.cx,n=r.cy,s=r.innerRadius,o=r.outerRadius,i=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,f=Ys(p-m),y=Zf({cx:a,cy:n,radius:o,angle:m,sign:f,cornerRadius:i,cornerIsExternal:u}),b=y.circleTangency,w=y.lineTangency,E=y.theta,x=Zf({cx:a,cy:n,radius:o,angle:p,sign:-f,cornerRadius:i,cornerIsExternal:u}),N=x.circleTangency,k=x.lineTangency,A=x.theta,P=u?Math.abs(m-p):Math.abs(m-p)-E-A;if(P<0)return d?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):RR({cx:a,cy:n,innerRadius:s,outerRadius:o,startAngle:m,endAngle:p});var S="M ".concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
  `);if(s>0){var _=Zf({cx:a,cy:n,radius:s,angle:m,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),T=_.circleTangency,O=_.lineTangency,R=_.theta,D=Zf({cx:a,cy:n,radius:s,angle:p,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),j=D.circleTangency,$=D.lineTangency,K=D.theta,W=u?Math.abs(m-p):Math.abs(m-p)-R-K;if(W<0&&i===0)return"".concat(S,"L").concat(a,",").concat(n,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else S+="L".concat(a,",").concat(n,"Z");return S},MZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$R=function(r){var a=f6(f6({},MZ),r),n=a.cx,s=a.cy,o=a.innerRadius,i=a.outerRadius,d=a.cornerRadius,u=a.forceCornerRadius,m=a.cornerIsExternal,p=a.startAngle,f=a.endAngle,y=a.className;if(i<o||p===f)return null;var b=mr("recharts-sector",y),w=i-o,E=jl(d,w,0,!0),x;return E>0&&Math.abs(p-f)<360?x=OZ({cx:n,cy:s,innerRadius:o,outerRadius:i,cornerRadius:Math.min(E,w/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:p,endAngle:f}):x=RR({cx:n,cy:s,innerRadius:o,outerRadius:i,startAngle:p,endAngle:f}),e.createElement("path",d1({},nr(a,!0),{className:b,d:x,role:"img"}))};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},u1.apply(this,arguments)}function p6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function g6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?p6(Object(a),!0).forEach(function(n){jZ(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function jZ(t,r,a){return r=RZ(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function RZ(t){var r=$Z(t,"string");return cm(r)=="symbol"?r:r+""}function $Z(t,r){if(cm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var h6={curveBasisClosed:tH,curveBasisOpen:rH,curveBasis:eH,curveBumpX:FV,curveBumpY:BV,curveLinearClosed:aH,curveLinear:ug,curveMonotoneX:nH,curveMonotoneY:sH,curveNatural:oH,curveStep:iH,curveStepAfter:cH,curveStepBefore:lH},ep=function(r){return r.x===+r.x&&r.y===+r.y},cu=function(r){return r.x},du=function(r){return r.y},LZ=function(r,a){if(Kt(r))return r;var n="curve".concat(cg(r));return(n==="curveMonotone"||n==="curveBump")&&a?h6["".concat(n).concat(a==="vertical"?"Y":"X")]:h6[n]||ug},IZ=function(r){var a=r.type,n=a===void 0?"linear":a,s=r.points,o=s===void 0?[]:s,i=r.baseLine,d=r.layout,u=r.connectNulls,m=u===void 0?!1:u,p=LZ(n,d),f=m?o.filter(function(E){return ep(E)}):o,y;if(Array.isArray(i)){var b=m?i.filter(function(E){return ep(E)}):i,w=f.map(function(E,x){return g6(g6({},E),{},{base:b[x]})});return d==="vertical"?y=Hf().y(du).x1(cu).x0(function(E){return E.base.x}):y=Hf().x(cu).y1(du).y0(function(E){return E.base.y}),y.defined(ep).curve(p),y(w)}return d==="vertical"&&dt(i)?y=Hf().y(du).x1(cu).x0(i):dt(i)?y=Hf().x(cu).y1(du).y0(i):y=BM().x(cu).y(du),y.defined(ep).curve(p),y(f)},m1=function(r){var a=r.className,n=r.points,s=r.path,o=r.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?IZ(r):s;return g.createElement("path",u1({},nr(r,!1),Gp(r),{className:mr("recharts-curve",a),d:i,ref:o}))},iE={exports:{}},lE,y6;function DZ(){if(y6)return lE;y6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lE=t,lE}var cE,b6;function zZ(){if(b6)return cE;b6=1;var t=DZ();function r(){}function a(){}return a.resetWarningCache=r,cE=function(){function n(i,d,u,m,p,f){if(f!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:a,resetWarningCache:r};return o.PropTypes=o,o},cE}var x6;function FZ(){return x6||(x6=1,iE.exports=zZ()()),iE.exports}var BZ=FZ();const kr=Fr(BZ),{getOwnPropertyNames:qZ,getOwnPropertySymbols:UZ}=Object,{hasOwnProperty:VZ}=Object.prototype;function dE(t,r){return function(n,s,o){return t(n,s,o)&&r(n,s,o)}}function tp(t){return function(a,n,s){if(!a||!n||typeof a!="object"||typeof n!="object")return t(a,n,s);const{cache:o}=s,i=o.get(a),d=o.get(n);if(i&&d)return i===n&&d===a;o.set(a,n),o.set(n,a);const u=t(a,n,s);return o.delete(a),o.delete(n),u}}function HZ(t){return t?.[Symbol.toStringTag]}function v6(t){return qZ(t).concat(UZ(t))}const WZ=Object.hasOwn||((t,r)=>VZ.call(t,r));function Wl(t,r){return t===r||!t&&!r&&t!==t&&r!==r}const GZ="__v",KZ="__o",YZ="_owner",{getOwnPropertyDescriptor:E6,keys:w6}=Object;function XZ(t,r){return t.byteLength===r.byteLength&&N0(new Uint8Array(t),new Uint8Array(r))}function QZ(t,r,a){let n=t.length;if(r.length!==n)return!1;for(;n-- >0;)if(!a.equals(t[n],r[n],n,n,t,r,a))return!1;return!0}function JZ(t,r){return t.byteLength===r.byteLength&&N0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function ZZ(t,r){return Wl(t.getTime(),r.getTime())}function eee(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function tee(t,r){return t===r}function N6(t,r,a){const n=t.size;if(n!==r.size)return!1;if(!n)return!0;const s=new Array(n),o=t.entries();let i,d,u=0;for(;(i=o.next())&&!i.done;){const m=r.entries();let p=!1,f=0;for(;(d=m.next())&&!d.done;){if(s[f]){f++;continue}const y=i.value,b=d.value;if(a.equals(y[0],b[0],u,f,t,r,a)&&a.equals(y[1],b[1],y[0],b[0],t,r,a)){p=s[f]=!0;break}f++}if(!p)return!1;u++}return!0}const ree=Wl;function aee(t,r,a){const n=w6(t);let s=n.length;if(w6(r).length!==s)return!1;for(;s-- >0;)if(!LR(t,r,a,n[s]))return!1;return!0}function uu(t,r,a){const n=v6(t);let s=n.length;if(v6(r).length!==s)return!1;let o,i,d;for(;s-- >0;)if(o=n[s],!LR(t,r,a,o)||(i=E6(t,o),d=E6(r,o),(i||d)&&(!i||!d||i.configurable!==d.configurable||i.enumerable!==d.enumerable||i.writable!==d.writable)))return!1;return!0}function nee(t,r){return Wl(t.valueOf(),r.valueOf())}function see(t,r){return t.source===r.source&&t.flags===r.flags}function k6(t,r,a){const n=t.size;if(n!==r.size)return!1;if(!n)return!0;const s=new Array(n),o=t.values();let i,d;for(;(i=o.next())&&!i.done;){const u=r.values();let m=!1,p=0;for(;(d=u.next())&&!d.done;){if(!s[p]&&a.equals(i.value,d.value,i.value,d.value,t,r,a)){m=s[p]=!0;break}p++}if(!m)return!1}return!0}function N0(t,r){let a=t.byteLength;if(r.byteLength!==a||t.byteOffset!==r.byteOffset)return!1;for(;a-- >0;)if(t[a]!==r[a])return!1;return!0}function oee(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function LR(t,r,a,n){return(n===YZ||n===KZ||n===GZ)&&(t.$$typeof||r.$$typeof)?!0:WZ(r,n)&&a.equals(t[n],r[n],n,n,t,r,a)}const iee="[object ArrayBuffer]",lee="[object Arguments]",cee="[object Boolean]",dee="[object DataView]",uee="[object Date]",mee="[object Error]",fee="[object Map]",pee="[object Number]",gee="[object Object]",hee="[object RegExp]",yee="[object Set]",bee="[object String]",xee={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},vee="[object URL]",Eee=Object.prototype.toString;function wee({areArrayBuffersEqual:t,areArraysEqual:r,areDataViewsEqual:a,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:i,areNumbersEqual:d,areObjectsEqual:u,arePrimitiveWrappersEqual:m,areRegExpsEqual:p,areSetsEqual:f,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:w}){return function(x,N,k){if(x===N)return!0;if(x==null||N==null)return!1;const A=typeof x;if(A!==typeof N)return!1;if(A!=="object")return A==="number"?d(x,N,k):A==="function"?o(x,N,k):!1;const P=x.constructor;if(P!==N.constructor)return!1;if(P===Object)return u(x,N,k);if(Array.isArray(x))return r(x,N,k);if(P===Date)return n(x,N,k);if(P===RegExp)return p(x,N,k);if(P===Map)return i(x,N,k);if(P===Set)return f(x,N,k);const S=Eee.call(x);if(S===uee)return n(x,N,k);if(S===hee)return p(x,N,k);if(S===fee)return i(x,N,k);if(S===yee)return f(x,N,k);if(S===gee)return typeof x.then!="function"&&typeof N.then!="function"&&u(x,N,k);if(S===vee)return b(x,N,k);if(S===mee)return s(x,N,k);if(S===lee)return u(x,N,k);if(xee[S])return y(x,N,k);if(S===iee)return t(x,N,k);if(S===dee)return a(x,N,k);if(S===cee||S===pee||S===bee)return m(x,N,k);if(w){let _=w[S];if(!_){const T=HZ(x);T&&(_=w[T])}if(_)return _(x,N,k)}return!1}}function Nee({circular:t,createCustomConfig:r,strict:a}){let n={areArrayBuffersEqual:XZ,areArraysEqual:a?uu:QZ,areDataViewsEqual:JZ,areDatesEqual:ZZ,areErrorsEqual:eee,areFunctionsEqual:tee,areMapsEqual:a?dE(N6,uu):N6,areNumbersEqual:ree,areObjectsEqual:a?uu:aee,arePrimitiveWrappersEqual:nee,areRegExpsEqual:see,areSetsEqual:a?dE(k6,uu):k6,areTypedArraysEqual:a?dE(N0,uu):N0,areUrlsEqual:oee,unknownTagComparators:void 0};if(r&&(n=Object.assign({},n,r(n))),t){const s=tp(n.areArraysEqual),o=tp(n.areMapsEqual),i=tp(n.areObjectsEqual),d=tp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:i,areSetsEqual:d})}return n}function kee(t){return function(r,a,n,s,o,i,d){return t(r,a,d)}}function See({circular:t,comparator:r,createState:a,equals:n,strict:s}){if(a)return function(d,u){const{cache:m=t?new WeakMap:void 0,meta:p}=a();return r(d,u,{cache:m,equals:n,meta:p,strict:s})};if(t)return function(d,u){return r(d,u,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const o={cache:void 0,equals:n,meta:void 0,strict:s};return function(d,u){return r(d,u,o)}}const Cee=Ui();Ui({strict:!0});Ui({circular:!0});Ui({circular:!0,strict:!0});Ui({createInternalComparator:()=>Wl});Ui({strict:!0,createInternalComparator:()=>Wl});Ui({circular:!0,createInternalComparator:()=>Wl});Ui({circular:!0,createInternalComparator:()=>Wl,strict:!0});function Ui(t={}){const{circular:r=!1,createInternalComparator:a,createState:n,strict:s=!1}=t,o=Nee(t),i=wee(o),d=a?a(i):kee(i);return See({circular:r,comparator:i,createState:n,equals:d,strict:s})}function Aee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function S6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=-1,n=function s(o){a<0&&(a=o),o-a>r?(t(o),a=-1):Aee(s)};requestAnimationFrame(n)}function f1(t){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f1(t)}function _ee(t){return Mee(t)||Oee(t)||Tee(t)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(t,r){if(t){if(typeof t=="string")return C6(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C6(t,r)}}function C6(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function Oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mee(t){if(Array.isArray(t))return t}function jee(){var t={},r=function(){return null},a=!1,n=function s(o){if(!a){if(Array.isArray(o)){if(!o.length)return;var i=o,d=_ee(i),u=d[0],m=d.slice(1);if(typeof u=="number"){S6(s.bind(null,m),u);return}s(u),S6(s.bind(null,m));return}f1(o)==="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:function(){a=!0},start:function(o){a=!1,n(o)},subscribe:function(o){return r=o,function(){r=function(){return null}}}}}function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function A6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function _6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?A6(Object(a),!0).forEach(function(n){IR(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function IR(t,r,a){return r=Ree(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ree(t){var r=$ee(t,"string");return dm(r)==="symbol"?r:String(r)}function $ee(t,r){if(dm(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Lee=function(r,a){return[Object.keys(r),Object.keys(a)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},Iee=function(r){return r},Dee=function(r){return r.replace(/([A-Z])/g,function(a){return"-".concat(a.toLowerCase())})},Lu=function(r,a){return Object.keys(a).reduce(function(n,s){return _6(_6({},n),{},IR({},s,r(s,a[s])))},{})},P6=function(r,a,n){return r.map(function(s){return"".concat(Dee(s)," ").concat(a,"ms ").concat(n)}).join(",")};function zee(t,r){return qee(t)||Bee(t,r)||DR(t,r)||Fee()}function Fee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function qee(t){if(Array.isArray(t))return t}function Uee(t){return Wee(t)||Hee(t)||DR(t)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DR(t,r){if(t){if(typeof t=="string")return p1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p1(t,r)}}function Hee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wee(t){if(Array.isArray(t))return p1(t)}function p1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}var k0=1e-4,zR=function(r,a){return[0,3*r,3*a-6*r,3*r-3*a+1]},FR=function(r,a){return r.map(function(n,s){return n*Math.pow(a,s)}).reduce(function(n,s){return n+s})},T6=function(r,a){return function(n){var s=zR(r,a);return FR(s,n)}},Gee=function(r,a){return function(n){var s=zR(r,a),o=[].concat(Uee(s.map(function(i,d){return i*d}).slice(1)),[0]);return FR(o,n)}},O6=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a[0],o=a[1],i=a[2],d=a[3];if(a.length===1)switch(a[0]){case"linear":s=0,o=0,i=1,d=1;break;case"ease":s=.25,o=.1,i=.25,d=1;break;case"ease-in":s=.42,o=0,i=1,d=1;break;case"ease-out":s=.42,o=0,i=.58,d=1;break;case"ease-in-out":s=0,o=0,i=.58,d=1;break;default:{var u=a[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var m=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=zee(m,4);s=p[0],o=p[1],i=p[2],d=p[3]}}}var f=T6(s,i),y=T6(o,d),b=Gee(s,i),w=function(N){return N>1?1:N<0?0:N},E=function(N){for(var k=N>1?1:N,A=k,P=0;P<8;++P){var S=f(A)-k,_=b(A);if(Math.abs(S-k)<k0||_<k0)return y(A);A=w(A-S/_)}return y(A)};return E.isStepper=!1,E},Kee=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.stiff,n=a===void 0?100:a,s=r.damping,o=s===void 0?8:s,i=r.dt,d=i===void 0?17:i,u=function(p,f,y){var b=-(p-f)*n,w=y*o,E=y+(b-w)*d/1e3,x=y*d/1e3+p;return Math.abs(x-f)<k0&&Math.abs(E)<k0?[f,0]:[x,E]};return u.isStepper=!0,u.dt=d,u},Yee=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O6(s);case"spring":return Kee();default:if(s.split("(")[0]==="cubic-bezier")return O6(s)}return typeof s=="function"?s:null};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}function M6(t){return Jee(t)||Qee(t)||BR(t)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jee(t){if(Array.isArray(t))return h1(t)}function j6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Va(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?j6(Object(a),!0).forEach(function(n){g1(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function g1(t,r,a){return r=Zee(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Zee(t){var r=ete(t,"string");return um(r)==="symbol"?r:String(r)}function ete(t,r){if(um(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function tte(t,r){return nte(t)||ate(t,r)||BR(t,r)||rte()}function rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BR(t,r){if(t){if(typeof t=="string")return h1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h1(t,r)}}function h1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function ate(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function nte(t){if(Array.isArray(t))return t}var S0=function(r,a,n){return r+(a-r)*n},y1=function(r){var a=r.from,n=r.to;return a!==n},ste=function t(r,a,n){var s=Lu(function(o,i){if(y1(i)){var d=r(i.from,i.to,i.velocity),u=tte(d,2),m=u[0],p=u[1];return Va(Va({},i),{},{from:m,velocity:p})}return i},a);return n<1?Lu(function(o,i){return y1(i)?Va(Va({},i),{},{velocity:S0(i.velocity,s[o].velocity,n),from:S0(i.from,s[o].from,n)}):i},a):t(r,s,n-1)};const ote=(function(t,r,a,n,s){var o=Lee(t,r),i=o.reduce(function(x,N){return Va(Va({},x),{},g1({},N,[t[N],r[N]]))},{}),d=o.reduce(function(x,N){return Va(Va({},x),{},g1({},N,{from:t[N],velocity:0,to:r[N]}))},{}),u=-1,m,p,f=function(){return null},y=function(){return Lu(function(N,k){return k.from},d)},b=function(){return!Object.values(d).filter(y1).length},w=function(N){m||(m=N);var k=N-m,A=k/a.dt;d=ste(a,d,A),s(Va(Va(Va({},t),r),y())),m=N,b()||(u=requestAnimationFrame(f))},E=function(N){p||(p=N);var k=(N-p)/n,A=Lu(function(S,_){return S0.apply(void 0,M6(_).concat([a(k)]))},i);if(s(Va(Va(Va({},t),r),A)),k<1)u=requestAnimationFrame(f);else{var P=Lu(function(S,_){return S0.apply(void 0,M6(_).concat([a(1)]))},i);s(Va(Va(Va({},t),r),P))}};return f=a.isStepper?w:E,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qc(t)}var ite=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lte(t,r){if(t==null)return{};var a=cte(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cte(t,r){if(t==null)return{};var a={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(r.indexOf(s)>=0)&&(a[s]=t[s]);return a}function uE(t){return fte(t)||mte(t)||ute(t)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,r){if(t){if(typeof t=="string")return b1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b1(t,r)}}function mte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fte(t){if(Array.isArray(t))return b1(t)}function b1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function R6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function zs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?R6(Object(a),!0).forEach(function(n){Au(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Au(t,r,a){return r=qR(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function pte(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gte(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qR(n.key),n)}}function hte(t,r,a){return r&&gte(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qR(t){var r=yte(t,"string");return Qc(r)==="symbol"?r:String(r)}function yte(t,r){if(Qc(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Qc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function bte(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&x1(t,r)}function x1(t,r){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x1(t,r)}function xte(t){var r=vte();return function(){var n=C0(t),s;if(r){var o=C0(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return v1(this,s)}}function v1(t,r){if(r&&(Qc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1(t)}function E1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},C0(t)}var Go=(function(t){bte(a,t);var r=xte(a);function a(n,s){var o;pte(this,a),o=r.call(this,n,s);var i=o.props,d=i.isActive,u=i.attributeName,m=i.from,p=i.to,f=i.steps,y=i.children,b=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(E1(o)),o.changeStyle=o.changeStyle.bind(E1(o)),!d||b<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:p}),v1(o);if(f&&f.length)o.state={style:f[0].style};else if(m){if(typeof y=="function")return o.state={style:m},v1(o);o.state={style:u?Au({},u,m):m}}else o.state={style:{}};return o}return hte(a,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,i=s.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isActive,d=o.canBegin,u=o.attributeName,m=o.shouldReAnimate,p=o.to,f=o.from,y=this.state.style;if(d){if(!i){var b={style:u?Au({},u,p):p};this.state&&y&&(u&&y[u]!==p||!u&&y!==p)&&this.setState(b);return}if(!(Cee(s.to,p)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=w||m?f:s.to;if(this.state&&y){var x={style:u?Au({},u,E):E};(u&&y[u]!==E||!u&&y!==E)&&this.setState(x)}this.runAnimation(zs(zs({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,i=s.from,d=s.to,u=s.duration,m=s.easing,p=s.begin,f=s.onAnimationEnd,y=s.onAnimationStart,b=ote(i,d,Yee(m),u,this.changeStyle),w=function(){o.stopJSAnimation=b()};this.manager.start([y,p,w,u,f])}},{key:"runStepAnimation",value:function(s){var o=this,i=s.steps,d=s.begin,u=s.onAnimationStart,m=i[0],p=m.style,f=m.duration,y=f===void 0?0:f,b=function(E,x,N){if(N===0)return E;var k=x.duration,A=x.easing,P=A===void 0?"ease":A,S=x.style,_=x.properties,T=x.onAnimationEnd,O=N>0?i[N-1]:x,R=_||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(uE(E),[o.runJSAnimation.bind(o,{from:O.style,to:S,duration:k,easing:P}),k]);var D=P6(R,k,P),j=zs(zs(zs({},O.style),S),{},{transition:D});return[].concat(uE(E),[j,k,T]).filter(Iee)};return this.manager.start([u].concat(uE(i.reduce(b,[p,Math.max(y,d)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=jee());var o=s.begin,i=s.duration,d=s.attributeName,u=s.to,m=s.easing,p=s.onAnimationStart,f=s.onAnimationEnd,y=s.steps,b=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof m=="function"||typeof b=="function"||m==="spring"){this.runJSAnimation(s);return}if(y.length>1){this.runStepAnimation(s);return}var E=d?Au({},d,u):u,x=P6(Object.keys(E),i,m);w.start([p,o,zs(zs({},E),{},{transition:x}),i,f])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var d=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=lte(s,ite),m=g.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!d||m===0||i<=0)return o;var f=function(b){var w=b.props,E=w.style,x=E===void 0?{}:E,N=w.className,k=g.cloneElement(b,zs(zs({},u),{},{style:zs(zs({},x),p),className:N}));return k};return m===1?f(g.Children.only(o)):e.createElement("div",null,g.Children.map(o,function(y){return f(y)}))}}]),a})(g.PureComponent);Go.displayName="Animate";Go.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Go.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mm(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},A0.apply(this,arguments)}function Ete(t,r){return Ste(t)||kte(t,r)||Nte(t,r)||wte()}function wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,r){if(t){if(typeof t=="string")return $6(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $6(t,r)}}function $6(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function kte(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function Ste(t){if(Array.isArray(t))return t}function L6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function I6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?L6(Object(a),!0).forEach(function(n){Cte(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Cte(t,r,a){return r=Ate(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ate(t){var r=_te(t,"string");return mm(r)=="symbol"?r:r+""}function _te(t,r){if(mm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var D6=function(r,a,n,s,o){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),d=s>=0?1:-1,u=n>=0?1:-1,m=s>=0&&n>=0||s<0&&n<0?1:0,p;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],y=0,b=4;y<b;y++)f[y]=o[y]>i?i:o[y];p="M".concat(r,",").concat(a+d*f[0]),f[0]>0&&(p+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(m,",").concat(r+u*f[0],",").concat(a)),p+="L ".concat(r+n-u*f[1],",").concat(a),f[1]>0&&(p+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(m,`,
        `).concat(r+n,",").concat(a+d*f[1])),p+="L ".concat(r+n,",").concat(a+s-d*f[2]),f[2]>0&&(p+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(m,`,
        `).concat(r+n-u*f[2],",").concat(a+s)),p+="L ".concat(r+u*f[3],",").concat(a+s),f[3]>0&&(p+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(m,`,
        `).concat(r,",").concat(a+s-d*f[3])),p+="Z"}else if(i>0&&o===+o&&o>0){var w=Math.min(i,o);p="M ".concat(r,",").concat(a+d*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(r+u*w,",").concat(a,`
            L `).concat(r+n-u*w,",").concat(a,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(r+n,",").concat(a+d*w,`
            L `).concat(r+n,",").concat(a+s-d*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(r+n-u*w,",").concat(a+s,`
            L `).concat(r+u*w,",").concat(a+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(r,",").concat(a+s-d*w," Z")}else p="M ".concat(r,",").concat(a," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return p},Pte=function(r,a){if(!r||!a)return!1;var n=r.x,s=r.y,o=a.x,i=a.y,d=a.width,u=a.height;if(Math.abs(d)>0&&Math.abs(u)>0){var m=Math.min(o,o+d),p=Math.max(o,o+d),f=Math.min(i,i+u),y=Math.max(i,i+u);return n>=m&&n<=p&&s>=f&&s<=y}return!1},Tte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h2=function(r){var a=I6(I6({},Tte),r),n=g.useRef(),s=g.useState(-1),o=Ete(s,2),i=o[0],d=o[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&d(P)}catch{}},[]);var u=a.x,m=a.y,p=a.width,f=a.height,y=a.radius,b=a.className,w=a.animationEasing,E=a.animationDuration,x=a.animationBegin,N=a.isAnimationActive,k=a.isUpdateAnimationActive;if(u!==+u||m!==+m||p!==+p||f!==+f||p===0||f===0)return null;var A=mr("recharts-rectangle",b);return k?e.createElement(Go,{canBegin:i>0,from:{width:p,height:f,x:u,y:m},to:{width:p,height:f,x:u,y:m},duration:E,animationEasing:w,isActive:k},function(P){var S=P.width,_=P.height,T=P.x,O=P.y;return e.createElement(Go,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,isActive:N,easing:w},e.createElement("path",A0({},nr(a,!0),{className:A,d:D6(T,O,S,_,y),ref:n})))}):e.createElement("path",A0({},nr(a,!0),{className:A,d:D6(u,m,p,f,y)}))};function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},w1.apply(this,arguments)}var y2=function(r){var a=r.cx,n=r.cy,s=r.r,o=r.className,i=mr("recharts-dot",o);return a===+a&&n===+n&&s===+s?g.createElement("circle",w1({},nr(r,!1),Gp(r),{className:i,cx:a,cy:n,r:s})):null};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fm(t)}var Ote=["x","y","top","left","width","height","className"];function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},N1.apply(this,arguments)}function z6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Mte(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?z6(Object(a),!0).forEach(function(n){jte(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function jte(t,r,a){return r=Rte(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Rte(t){var r=$te(t,"string");return fm(r)=="symbol"?r:r+""}function $te(t,r){if(fm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Lte(t,r){if(t==null)return{};var a=Ite(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ite(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}var Dte=function(r,a,n,s,o,i){return"M".concat(r,",").concat(o,"v").concat(s,"M").concat(i,",").concat(a,"h").concat(n)},zte=function(r){var a=r.x,n=a===void 0?0:a,s=r.y,o=s===void 0?0:s,i=r.top,d=i===void 0?0:i,u=r.left,m=u===void 0?0:u,p=r.width,f=p===void 0?0:p,y=r.height,b=y===void 0?0:y,w=r.className,E=Lte(r,Ote),x=Mte({x:n,y:o,top:d,left:m,width:f,height:b},E);return!dt(n)||!dt(o)||!dt(f)||!dt(b)||!dt(d)||!dt(m)?null:e.createElement("path",N1({},nr(x,!0),{className:mr("recharts-cross",w),d:Dte(n,o,f,b,d,m)}))},mE,F6;function Fte(){if(F6)return mE;F6=1;var t=dj(),r=t(Object.getPrototypeOf,Object);return mE=r,mE}var fE,B6;function Bte(){if(B6)return fE;B6=1;var t=Jo(),r=Fte(),a=Zo(),n="[object Object]",s=Function.prototype,o=Object.prototype,i=s.toString,d=o.hasOwnProperty,u=i.call(Object);function m(p){if(!a(p)||t(p)!=n)return!1;var f=r(p);if(f===null)return!0;var y=d.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&i.call(y)==u}return fE=m,fE}var qte=Bte();const Ute=Fr(qte);var pE,q6;function Vte(){if(q6)return pE;q6=1;var t=Jo(),r=Zo(),a="[object Boolean]";function n(s){return s===!0||s===!1||r(s)&&t(s)==a}return pE=n,pE}var Hte=Vte();const Wte=Fr(Hte);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pm(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_0.apply(this,arguments)}function Gte(t,r){return Qte(t)||Xte(t,r)||Yte(t,r)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yte(t,r){if(t){if(typeof t=="string")return U6(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U6(t,r)}}function U6(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function Xte(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function Qte(t){if(Array.isArray(t))return t}function V6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function H6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?V6(Object(a),!0).forEach(function(n){Jte(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Jte(t,r,a){return r=Zte(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Zte(t){var r=ere(t,"string");return pm(r)=="symbol"?r:r+""}function ere(t,r){if(pm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var W6=function(r,a,n,s,o){var i=n-s,d;return d="M ".concat(r,",").concat(a),d+="L ".concat(r+n,",").concat(a),d+="L ".concat(r+n-i/2,",").concat(a+o),d+="L ".concat(r+n-i/2-s,",").concat(a+o),d+="L ".concat(r,",").concat(a," Z"),d},tre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rre=function(r){var a=H6(H6({},tre),r),n=g.useRef(),s=g.useState(-1),o=Gte(s,2),i=o[0],d=o[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&d(A)}catch{}},[]);var u=a.x,m=a.y,p=a.upperWidth,f=a.lowerWidth,y=a.height,b=a.className,w=a.animationEasing,E=a.animationDuration,x=a.animationBegin,N=a.isUpdateAnimationActive;if(u!==+u||m!==+m||p!==+p||f!==+f||y!==+y||p===0&&f===0||y===0)return null;var k=mr("recharts-trapezoid",b);return N?e.createElement(Go,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:y,x:u,y:m},to:{upperWidth:p,lowerWidth:f,height:y,x:u,y:m},duration:E,animationEasing:w,isActive:N},function(A){var P=A.upperWidth,S=A.lowerWidth,_=A.height,T=A.x,O=A.y;return e.createElement(Go,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:E,easing:w},e.createElement("path",_0({},nr(a,!0),{className:k,d:W6(T,O,P,S,_),ref:n})))}):e.createElement("g",null,e.createElement("path",_0({},nr(a,!0),{className:k,d:W6(u,m,p,f,y)})))},are=["option","shapeType","propTransformer","activeClassName","isActive"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gm(t)}function nre(t,r){if(t==null)return{};var a=sre(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sre(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function G6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function P0(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G6(Object(a),!0).forEach(function(n){ore(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ore(t,r,a){return r=ire(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ire(t){var r=lre(t,"string");return gm(r)=="symbol"?r:r+""}function lre(t,r){if(gm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function cre(t,r){return P0(P0({},r),t)}function dre(t,r){return t==="symbols"}function K6(t){var r=t.shapeType,a=t.elementProps;switch(r){case"rectangle":return e.createElement(h2,a);case"trapezoid":return e.createElement(rre,a);case"sector":return e.createElement($R,a);case"symbols":if(dre(r))return e.createElement(RN,a);break;default:return null}}function ure(t){return g.isValidElement(t)?t.props:t}function mre(t){var r=t.option,a=t.shapeType,n=t.propTransformer,s=n===void 0?cre:n,o=t.activeClassName,i=o===void 0?"recharts-active-shape":o,d=t.isActive,u=nre(t,are),m;if(g.isValidElement(r))m=g.cloneElement(r,P0(P0({},u),ure(r)));else if(Kt(r))m=r(u);else if(Ute(r)&&!Wte(r)){var p=s(r,u);m=e.createElement(K6,{shapeType:a,elementProps:p})}else{var f=u;m=e.createElement(K6,{shapeType:a,elementProps:f})}return d?e.createElement(pa,{className:i},m):m}function Ag(t,r){return r!=null&&"trapezoids"in t.props}function _g(t,r){return r!=null&&"sectors"in t.props}function hm(t,r){return r!=null&&"points"in t.props}function fre(t,r){var a,n,s=t.x===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.x)||t.x===r.x,o=t.y===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===r.y;return s&&o}function pre(t,r){var a=t.endAngle===r.endAngle,n=t.startAngle===r.startAngle;return a&&n}function gre(t,r){var a=t.x===r.x,n=t.y===r.y,s=t.z===r.z;return a&&n&&s}function hre(t,r){var a;return Ag(t,r)?a=fre:_g(t,r)?a=pre:hm(t,r)&&(a=gre),a}function yre(t,r){var a;return Ag(t,r)?a="trapezoids":_g(t,r)?a="sectors":hm(t,r)&&(a="points"),a}function bre(t,r){if(Ag(t,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}if(_g(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hm(t,r)?r.payload:{}}function xre(t){var r=t.activeTooltipItem,a=t.graphicalItem,n=t.itemData,s=yre(a,r),o=bre(a,r),i=n.filter(function(u,m){var p=kg(o,u),f=a.props[s].filter(function(w){var E=hre(a,r);return E(w,r)}),y=a.props[s].indexOf(f[f.length-1]),b=m===y;return p&&b}),d=n.indexOf(i[i.length-1]);return d}var gE,Y6;function vre(){if(Y6)return gE;Y6=1;var t=Math.ceil,r=Math.max;function a(n,s,o,i){for(var d=-1,u=r(t((s-n)/(o||1)),0),m=Array(u);u--;)m[i?u:++d]=n,n+=o;return m}return gE=a,gE}var hE,X6;function UR(){if(X6)return hE;X6=1;var t=Cj(),r=1/0,a=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===r||s===-r){var o=s<0?-1:1;return o*a}return s===s?s:0}return hE=n,hE}var yE,Q6;function Ere(){if(Q6)return yE;Q6=1;var t=vre(),r=gg(),a=UR();function n(s){return function(o,i,d){return d&&typeof d!="number"&&r(o,i,d)&&(i=d=void 0),o=a(o),i===void 0?(i=o,o=0):i=a(i),d=d===void 0?o<i?1:-1:a(d),t(o,i,d,s)}}return yE=n,yE}var bE,J6;function wre(){if(J6)return bE;J6=1;var t=Ere(),r=t();return bE=r,bE}var Nre=wre();const T0=Fr(Nre);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ym(t)}function Z6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function eP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Z6(Object(a),!0).forEach(function(n){VR(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Z6(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function VR(t,r,a){return r=kre(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function kre(t){var r=Sre(t,"string");return ym(r)=="symbol"?r:r+""}function Sre(t,r){if(ym(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Cre=["Webkit","Moz","O","ms"],Are=function(r,a){var n=r.replace(/(\w)/,function(o){return o.toUpperCase()}),s=Cre.reduce(function(o,i){return eP(eP({},o),{},VR({},i+n,a))},{});return s[r]=a,s};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jc(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},O0.apply(this,arguments)}function tP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function xE(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?tP(Object(a),!0).forEach(function(n){Gn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function _re(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rP(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WR(n.key),n)}}function Pre(t,r,a){return r&&rP(t.prototype,r),a&&rP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tre(t,r,a){return r=M0(r),Ore(t,HR()?Reflect.construct(r,a||[],M0(t).constructor):r.apply(t,a))}function Ore(t,r){if(r&&(Jc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(t)}function Mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},M0(t)}function jre(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&k1(t,r)}function k1(t,r){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(t,r)}function Gn(t,r,a){return r=WR(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function WR(t){var r=Rre(t,"string");return Jc(r)=="symbol"?r:r+""}function Rre(t,r){if(Jc(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $re=function(r){var a=r.data,n=r.startIndex,s=r.endIndex,o=r.x,i=r.width,d=r.travellerWidth;if(!a||!a.length)return{};var u=a.length,m=Ru().domain(T0(0,u)).range([o,o+i-d]),p=m.domain().map(function(f){return m(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(s),scale:m,scaleValues:p}},aP=function(r){return r.changedTouches&&!!r.changedTouches.length},Zc=(function(t){function r(a){var n;return _re(this,r),n=Tre(this,r,[a]),Gn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Gn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Gn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,i=s.onDragEnd,d=s.startIndex;i?.({endIndex:o,startIndex:d})}),n.detachDragEndListener()}),Gn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gn(n,"handleSlideDragStart",function(s){var o=aP(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jre(r,t),Pre(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,i=this.state.scaleValues,d=this.props,u=d.gap,m=d.data,p=m.length-1,f=Math.min(s,o),y=Math.max(s,o),b=r.getIndexInRange(i,f),w=r.getIndexInRange(i,y);return{startIndex:b-b%u,endIndex:w===p?p:w-w%u}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,i=s.tickFormatter,d=s.dataKey,u=es(o[n],d,n);return Kt(i)?i(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,i=s.startX,d=s.endX,u=this.props,m=u.x,p=u.width,f=u.travellerWidth,y=u.startIndex,b=u.endIndex,w=u.onChange,E=n.pageX-o;E>0?E=Math.min(E,m+p-f-d,m+p-f-i):E<0&&(E=Math.max(E,m-i,m-d));var x=this.getIndex({startX:i+E,endX:d+E});(x.startIndex!==y||x.endIndex!==b)&&w&&w(x),this.setState({startX:i+E,endX:d+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=aP(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,i=s.movingTravellerId,d=s.endX,u=s.startX,m=this.state[i],p=this.props,f=p.x,y=p.width,b=p.travellerWidth,w=p.onChange,E=p.gap,x=p.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-o;k>0?k=Math.min(k,f+y-b-m):k<0&&(k=Math.max(k,f-m)),N[i]=m+k;var A=this.getIndex(N),P=A.startIndex,S=A.endIndex,_=function(){var O=x.length-1;return i==="startX"&&(d>u?P%E===0:S%E===0)||d<u&&S===O||i==="endX"&&(d>u?S%E===0:P%E===0)||d>u&&S===O};this.setState(Gn(Gn({},i,m+k),"brushMoveStartX",n.pageX),function(){w&&_()&&w(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,i=this.state,d=i.scaleValues,u=i.startX,m=i.endX,p=this.state[s],f=d.indexOf(p);if(f!==-1){var y=f+n;if(!(y===-1||y>=d.length)){var b=d[y];s==="startX"&&b>=m||s==="endX"&&b<=u||this.setState(Gn({},s,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,d=n.height,u=n.fill,m=n.stroke;return e.createElement("rect",{stroke:m,fill:u,x:s,y:o,width:i,height:d})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,d=n.height,u=n.data,m=n.children,p=n.padding,f=g.Children.only(m);return f?e.cloneElement(f,{x:s,y:o,width:i,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,i,d=this,u=this.props,m=u.y,p=u.travellerWidth,f=u.height,y=u.traveller,b=u.ariaLabel,w=u.data,E=u.startIndex,x=u.endIndex,N=Math.max(n,this.props.x),k=xE(xE({},nr(this.props,!1)),{},{x:N,y:m,width:p,height:f}),A=b||"Min value: ".concat((o=w[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=w[x])===null||i===void 0?void 0:i.name);return e.createElement(pa,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),d.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(y,k))}},{key:"renderSlide",value:function(n,s){var o=this.props,i=o.y,d=o.height,u=o.stroke,m=o.travellerWidth,p=Math.min(n,s)+m,f=Math.max(Math.abs(s-n)-m,0);return e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:i,width:f,height:d})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,i=n.y,d=n.height,u=n.travellerWidth,m=n.stroke,p=this.state,f=p.startX,y=p.endX,b=5,w={pointerEvents:"none",fill:m};return e.createElement(pa,{className:"recharts-brush-texts"},e.createElement(s0,O0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,y)-b,y:i+d/2},w),this.getTextOfTick(s)),e.createElement(s0,O0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,y)+u+b,y:i+d/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,i=n.children,d=n.x,u=n.y,m=n.width,p=n.height,f=n.alwaysShowText,y=this.state,b=y.startX,w=y.endX,E=y.isTextActive,x=y.isSlideMoving,N=y.isTravellerMoving,k=y.isTravellerFocused;if(!s||!s.length||!dt(d)||!dt(u)||!dt(m)||!dt(p)||m<=0||p<=0)return null;var A=mr("recharts-brush",o),P=e.Children.count(i)===1,S=Are("userSelect","none");return e.createElement(pa,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(E||x||N||k||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,i=n.width,d=n.height,u=n.stroke,m=Math.floor(o+d/2)-1;return e.createElement(e.Fragment,null,e.createElement("rect",{x:s,y:o,width:i,height:d,fill:u,stroke:"none"}),e.createElement("line",{x1:s+1,y1:m,x2:s+i-1,y2:m,fill:"none",stroke:"#fff"}),e.createElement("line",{x1:s+1,y1:m+2,x2:s+i-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return e.isValidElement(n)?o=e.cloneElement(n,s):Kt(n)?o=n(s):o=r.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,i=n.width,d=n.x,u=n.travellerWidth,m=n.updateId,p=n.startIndex,f=n.endIndex;if(o!==s.prevData||m!==s.prevUpdateId)return xE({prevData:o,prevTravellerWidth:u,prevUpdateId:m,prevX:d,prevWidth:i},o&&o.length?$re({data:o,width:i,x:d,travellerWidth:u,startIndex:p,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||d!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([d,d+i-u]);var y=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:m,prevX:d,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,i=0,d=o-1;d-i>1;){var u=Math.floor((i+d)/2);n[u]>s?d=u:i=u}return s>=n[d]?d:i}}])})(g.PureComponent);Gn(Zc,"displayName","Brush");Gn(Zc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vE,nP;function Lre(){if(nP)return vE;nP=1;var t=BN();function r(a,n){var s;return t(a,function(o,i,d){return s=n(o,i,d),!s}),!!s}return vE=r,vE}var EE,sP;function Ire(){if(sP)return EE;sP=1;var t=aj(),r=Fi(),a=Lre(),n=Fn(),s=gg();function o(i,d,u){var m=n(i)?t:a;return u&&s(i,d,u)&&(d=void 0),m(i,r(d,3))}return EE=o,EE}var Dre=Ire();const zre=Fr(Dre);var go=function(r,a){var n=r.alwaysShow,s=r.ifOverflow;return n&&(s="extendDomain"),s===a},wE,oP;function Fre(){if(oP)return wE;oP=1;var t=Ej();function r(a,n,s){n=="__proto__"&&t?t(a,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):a[n]=s}return wE=r,wE}var NE,iP;function Bre(){if(iP)return NE;iP=1;var t=Fre(),r=xj(),a=Fi();function n(s,o){var i={};return o=a(o,3),r(s,function(d,u,m){t(i,u,o(d,u,m))}),i}return NE=n,NE}var qre=Bre();const Ure=Fr(qre);var kE,lP;function Vre(){if(lP)return kE;lP=1;function t(r,a){for(var n=-1,s=r==null?0:r.length;++n<s;)if(!a(r[n],n,r))return!1;return!0}return kE=t,kE}var SE,cP;function Hre(){if(cP)return SE;cP=1;var t=BN();function r(a,n){var s=!0;return t(a,function(o,i,d){return s=!!n(o,i,d),s}),s}return SE=r,SE}var CE,dP;function Wre(){if(dP)return CE;dP=1;var t=Vre(),r=Hre(),a=Fi(),n=Fn(),s=gg();function o(i,d,u){var m=n(i)?t:r;return u&&s(i,d,u)&&(d=void 0),m(i,a(d,3))}return CE=o,CE}var Gre=Wre();const GR=Fr(Gre);var Kre=["x","y"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bm(t)}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},S1.apply(this,arguments)}function uP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function mu(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?uP(Object(a),!0).forEach(function(n){Yre(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):uP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Yre(t,r,a){return r=Xre(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Xre(t){var r=Qre(t,"string");return bm(r)=="symbol"?r:r+""}function Qre(t,r){if(bm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jre(t,r){if(t==null)return{};var a=Zre(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zre(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function eae(t,r){var a=t.x,n=t.y,s=Jre(t,Kre),o="".concat(a),i=parseInt(o,10),d="".concat(n),u=parseInt(d,10),m="".concat(r.height||s.height),p=parseInt(m,10),f="".concat(r.width||s.width),y=parseInt(f,10);return mu(mu(mu(mu(mu({},r),s),i?{x:i}:{}),u?{y:u}:{}),{},{height:p,width:y,name:r.name,radius:r.radius})}function mP(t){return e.createElement(mre,S1({shapeType:"rectangle",propTransformer:eae,activeClassName:"recharts-active-bar"},t))}var tae=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof r=="number")return r;var o=dt(n)||iV(n);return o?r(n,s):(o||$l(),a)}},rae=["value","background"],KR;function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ed(t)}function aae(t,r){if(t==null)return{};var a=nae(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nae(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},j0.apply(this,arguments)}function fP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function ba(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?fP(Object(a),!0).forEach(function(n){ki(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function sae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function pP(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XR(n.key),n)}}function oae(t,r,a){return r&&pP(t.prototype,r),a&&pP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function iae(t,r,a){return r=R0(r),lae(t,YR()?Reflect.construct(r,a||[],R0(t).constructor):r.apply(t,a))}function lae(t,r){if(r&&(ed(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(t)}function cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},R0(t)}function dae(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&C1(t,r)}function C1(t,r){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C1(t,r)}function ki(t,r,a){return r=XR(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function XR(t){var r=uae(t,"string");return ed(r)=="symbol"?r:r+""}function uae(t,r){if(ed(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gl=(function(t){function r(){var a;sae(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=iae(this,r,[].concat(s)),ki(a,"state",{isAnimationFinished:!1}),ki(a,"id",$m("recharts-bar-")),ki(a,"handleAnimationEnd",function(){var i=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),i&&i()}),ki(a,"handleAnimationStart",function(){var i=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),i&&i()}),a}return dae(r,t),oae(r,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,i=o.shape,d=o.dataKey,u=o.activeIndex,m=o.activeBar,p=nr(this.props,!1);return n&&n.map(function(f,y){var b=y===u,w=b?m:i,E=ba(ba(ba({},p),f),{},{isActive:b,option:w,index:y,dataKey:d,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return e.createElement(pa,j0({className:"recharts-bar-rectangle"},Kp(s.props,f,y),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(y)}),e.createElement(mP,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,i=s.layout,d=s.isAnimationActive,u=s.animationBegin,m=s.animationDuration,p=s.animationEasing,f=s.animationId,y=this.state.prevData;return e.createElement(Go,{begin:u,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,E=o.map(function(x,N){var k=y&&y[N];if(k){var A=Hs(k.x,x.x),P=Hs(k.y,x.y),S=Hs(k.width,x.width),_=Hs(k.height,x.height);return ba(ba({},x),{},{x:A(w),y:P(w),width:S(w),height:_(w)})}if(i==="horizontal"){var T=Hs(0,x.height),O=T(w);return ba(ba({},x),{},{y:x.y+x.height-O,height:O})}var R=Hs(0,x.width),D=R(w);return ba(ba({},x),{},{width:D})});return e.createElement(pa,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&s&&s.length&&(!i||!kg(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,i=s.dataKey,d=s.activeIndex,u=nr(this.props.background,!1);return o.map(function(m,p){m.value;var f=m.background,y=aae(m,rae);if(!f)return null;var b=ba(ba(ba(ba(ba({},y),{},{fill:"#eee"},f),u),Kp(n.props,m,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:p,className:"recharts-bar-background-rectangle"});return e.createElement(mP,j0({key:"background-bar-".concat(p),option:n.props.background,isActive:p===d},b))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,d=o.xAxis,u=o.yAxis,m=o.layout,p=o.children,f=Ns(p,Bm);if(!f)return null;var y=m==="vertical"?i[0].height/2:i[0].width/2,b=function(x,N){var k=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:k,errorVal:es(x,N)}},w={clipPath:n?"url(#clipPath-".concat(s,")"):null};return e.createElement(pa,w,f.map(function(E){return e.cloneElement(E,{key:"error-bar-".concat(s,"-").concat(E.props.dataKey),data:i,xAxis:d,yAxis:u,layout:m,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,i=n.className,d=n.xAxis,u=n.yAxis,m=n.left,p=n.top,f=n.width,y=n.height,b=n.isAnimationActive,w=n.background,E=n.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,N=mr("recharts-bar",i),k=d&&d.allowDataOverflow,A=u&&u.allowDataOverflow,P=k||A,S=Jt(E)?this.id:E;return e.createElement(pa,{className:N},k||A?e.createElement("defs",null,e.createElement("clipPath",{id:"clipPath-".concat(S)},e.createElement("rect",{x:k?m:m-f/2,y:A?p:p-y/2,width:k?f:f*2,height:A?y:y*2}))):null,e.createElement(pa,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!b||x)&&Pi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(g.PureComponent);KR=Gl;ki(Gl,"displayName","Bar");ki(Gl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Nd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ki(Gl,"getComposedData",function(t){var r=t.props,a=t.item,n=t.barPosition,s=t.bandSize,o=t.xAxis,i=t.yAxis,d=t.xAxisTicks,u=t.yAxisTicks,m=t.stackedData,p=t.dataStartIndex,f=t.displayedData,y=t.offset,b=CJ(n,a);if(!b)return null;var w=r.layout,E=a.type.defaultProps,x=E!==void 0?ba(ba({},E),a.props):a.props,N=x.dataKey,k=x.children,A=x.minPointSize,P=w==="horizontal"?i:o,S=m?P.scale.domain():null,_=RJ({numericAxis:P}),T=Ns(k,VN),O=f.map(function(R,D){var j,$,K,W,z,Q;m?j=AJ(m[p+D],S):(j=es(R,N),Array.isArray(j)||(j=[_,j]));var ee=tae(A,KR.defaultProps.minPointSize)(j[1],D);if(w==="horizontal"){var H,q=[i.scale(j[0]),i.scale(j[1])],B=q[0],G=q[1];$=e6({axis:o,ticks:d,bandSize:s,offset:b.offset,entry:R,index:D}),K=(H=G??B)!==null&&H!==void 0?H:void 0,W=b.size;var Y=B-G;if(z=Number.isNaN(Y)?0:Y,Q={x:$,y:i.y,width:W,height:i.height},Math.abs(ee)>0&&Math.abs(z)<Math.abs(ee)){var V=Ys(z||ee)*(Math.abs(ee)-Math.abs(z));K-=V,z+=V}}else{var J=[o.scale(j[0]),o.scale(j[1])],ue=J[0],he=J[1];if($=ue,K=e6({axis:i,ticks:u,bandSize:s,offset:b.offset,entry:R,index:D}),W=he-ue,z=b.size,Q={x:o.x,y:K,width:o.width,height:z},Math.abs(ee)>0&&Math.abs(W)<Math.abs(ee)){var Oe=Ys(W||ee)*(Math.abs(ee)-Math.abs(W));W+=Oe}}return ba(ba(ba({},R),{},{x:$,y:K,width:W,height:z,value:m?j:j[1],payload:R,background:Q},T&&T[D]&&T[D].props),{},{tooltipPayload:[MR(a,R)],tooltipPosition:{x:$+W/2,y:K+z/2}})});return ba({data:O,layout:w},y)});function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xm(t)}function mae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gP(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QR(n.key),n)}}function fae(t,r,a){return r&&gP(t.prototype,r),a&&gP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function hP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function qs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?hP(Object(a),!0).forEach(function(n){Pg(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Pg(t,r,a){return r=QR(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function QR(t){var r=pae(t,"string");return xm(r)=="symbol"?r:r+""}function pae(t,r){if(xm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var JR=function(r,a,n,s,o){var i=r.width,d=r.height,u=r.layout,m=r.children,p=Object.keys(a),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:d-n.bottom,bottomMirror:d-n.bottom},y=!!Kn(m,Gl);return p.reduce(function(b,w){var E=a[w],x=E.orientation,N=E.domain,k=E.padding,A=k===void 0?{}:k,P=E.mirror,S=E.reversed,_="".concat(x).concat(P?"Mirror":""),T,O,R,D,j;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var $=N[1]-N[0],K=1/0,W=E.categoricalDomain.sort(dV);if(W.forEach(function(J,ue){ue>0&&(K=Math.min((J||0)-(W[ue-1]||0),K))}),Number.isFinite(K)){var z=K/$,Q=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(T=z*Q/2),E.padding==="no-gap"){var ee=jl(r.barCategoryGap,z*Q),H=z*Q/2;T=H-ee-(H-ee)/Q*ee}}}s==="xAxis"?O=[n.left+(A.left||0)+(T||0),n.left+n.width-(A.right||0)-(T||0)]:s==="yAxis"?O=u==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(T||0),n.top+n.height-(A.bottom||0)-(T||0)]:O=E.range,S&&(O=[O[1],O[0]]);var q=kJ(E,o,y),B=q.scale,G=q.realScaleType;B.domain(N).range(O),SJ(B);var Y=jJ(B,qs(qs({},E),{},{realScaleType:G}));s==="xAxis"?(j=x==="top"&&!P||x==="bottom"&&P,R=n.left,D=f[_]-j*E.height):s==="yAxis"&&(j=x==="left"&&!P||x==="right"&&P,R=f[_]-j*E.width,D=n.top);var V=qs(qs(qs({},E),Y),{},{realScaleType:G,x:R,y:D,scale:B,width:s==="xAxis"?n.width:E.width,height:s==="yAxis"?n.height:E.height});return V.bandSize=v0(V,Y),!E.hide&&s==="xAxis"?f[_]+=(j?-1:1)*V.height:E.hide||(f[_]+=(j?-1:1)*V.width),qs(qs({},b),{},Pg({},w,V))},{})},ZR=function(r,a){var n=r.x,s=r.y,o=a.x,i=a.y;return{x:Math.min(n,o),y:Math.min(s,i),width:Math.abs(o-n),height:Math.abs(i-s)}},gae=function(r){var a=r.x1,n=r.y1,s=r.x2,o=r.y2;return ZR({x:a,y:n},{x:s,y:o})},e$=(function(){function t(r){mae(this,t),this.scale=r}return fae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(a!==void 0){if(o)switch(o){case"start":return this.scale(a);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+i}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(a)+d}default:return this.scale(a)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+u}return this.scale(a)}}},{key:"isInRange",value:function(a){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?a>=s&&a<=o:a>=o&&a<=s}}],[{key:"create",value:function(a){return new t(a)}}])})();Pg(e$,"EPS",1e-4);var b2=function(r){var a=Object.keys(r).reduce(function(n,s){return qs(qs({},n),{},Pg({},s,e$.create(r[s])))},{});return qs(qs({},a),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,d=o.position;return Ure(s,function(u,m){return a[m].apply(u,{bandAware:i,position:d})})},isInRange:function(s){return GR(s,function(o,i){return a[i].isInRange(o)})}})};function hae(t){return(t%180+180)%180}var yae=function(r){var a=r.width,n=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hae(s),i=o*Math.PI/180,d=Math.atan(n/a),u=i>d&&i<Math.PI-d?n/Math.sin(i):a/Math.cos(i);return Math.abs(u)},AE,yP;function bae(){if(yP)return AE;yP=1;var t=Fi(),r=Lm(),a=fg();function n(s){return function(o,i,d){var u=Object(o);if(!r(o)){var m=t(i,3);o=a(o),i=function(f){return m(u[f],f,u)}}var p=s(o,i,d);return p>-1?u[m?o[p]:p]:void 0}}return AE=n,AE}var _E,bP;function xae(){if(bP)return _E;bP=1;var t=UR();function r(a){var n=t(a),s=n%1;return n===n?s?n-s:n:0}return _E=r,_E}var PE,xP;function vae(){if(xP)return PE;xP=1;var t=pj(),r=Fi(),a=xae(),n=Math.max;function s(o,i,d){var u=o==null?0:o.length;if(!u)return-1;var m=d==null?0:a(d);return m<0&&(m=n(u+m,0)),t(o,r(i,3),m)}return PE=s,PE}var TE,vP;function Eae(){if(vP)return TE;vP=1;var t=bae(),r=vae(),a=t(r);return TE=a,TE}var wae=Eae();const Nae=Fr(wae);var kae=TM();const Sae=Fr(kae);var Cae=Sae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),x2=g.createContext(void 0),v2=g.createContext(void 0),t$=g.createContext(void 0),r$=g.createContext({}),a$=g.createContext(void 0),n$=g.createContext(0),s$=g.createContext(0),EP=function(r){var a=r.state,n=a.xAxisMap,s=a.yAxisMap,o=a.offset,i=r.clipPathId,d=r.children,u=r.width,m=r.height,p=Cae(o);return e.createElement(x2.Provider,{value:n},e.createElement(v2.Provider,{value:s},e.createElement(r$.Provider,{value:o},e.createElement(t$.Provider,{value:p},e.createElement(a$.Provider,{value:i},e.createElement(n$.Provider,{value:m},e.createElement(s$.Provider,{value:u},d)))))))},Aae=function(){return g.useContext(a$)},o$=function(r){var a=g.useContext(x2);a==null&&$l();var n=a[r];return n==null&&$l(),n},_ae=function(){var r=g.useContext(x2);return Ei(r)},Pae=function(){var r=g.useContext(v2),a=Nae(r,function(n){return GR(n.domain,Number.isFinite)});return a||Ei(r)},i$=function(r){var a=g.useContext(v2);a==null&&$l();var n=a[r];return n==null&&$l(),n},Tae=function(){var r=g.useContext(t$);return r},Oae=function(){return g.useContext(r$)},E2=function(){return g.useContext(s$)},w2=function(){return g.useContext(n$)};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},td(t)}function Mae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function jae(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function Rae(t,r,a){return r&&jae(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ae(t,r,a){return r=$0(r),Lae(t,l$()?Reflect.construct(r,a||[],$0(t).constructor):r.apply(t,a))}function Lae(t,r){if(r&&(td(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iae(t)}function Iae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},$0(t)}function Dae(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&A1(t,r)}function A1(t,r){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},A1(t,r)}function wP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function NP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?wP(Object(a),!0).forEach(function(n){N2(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function N2(t,r,a){return r=c$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function c$(t){var r=zae(t,"string");return td(r)=="symbol"?r:r+""}function zae(t,r){if(td(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fae(t,r){return Vae(t)||Uae(t,r)||qae(t,r)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qae(t,r){if(t){if(typeof t=="string")return kP(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return kP(t,r)}}function kP(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function Uae(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function Vae(t){if(Array.isArray(t))return t}function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_1.apply(this,arguments)}var Hae=function(r,a){var n;return e.isValidElement(r)?n=e.cloneElement(r,a):Kt(r)?n=r(a):n=e.createElement("line",_1({},a,{className:"recharts-reference-line-line"})),n},Wae=function(r,a,n,s,o,i,d,u,m){var p=o.x,f=o.y,y=o.width,b=o.height;if(n){var w=m.y,E=r.y.apply(w,{position:i});if(go(m,"discard")&&!r.y.isInRange(E))return null;var x=[{x:p+y,y:E},{x:p,y:E}];return u==="left"?x.reverse():x}if(a){var N=m.x,k=r.x.apply(N,{position:i});if(go(m,"discard")&&!r.x.isInRange(k))return null;var A=[{x:k,y:f+b},{x:k,y:f}];return d==="top"?A.reverse():A}if(s){var P=m.segment,S=P.map(function(_){return r.apply(_,{position:i})});return go(m,"discard")&&zre(S,function(_){return!r.isInRange(_)})?null:S}return null};function Gae(t){var r=t.x,a=t.y,n=t.segment,s=t.xAxisId,o=t.yAxisId,i=t.shape,d=t.className,u=t.alwaysShow,m=Aae(),p=o$(s),f=i$(o),y=Tae();if(!m||!y)return null;Bo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=b2({x:p.scale,y:f.scale}),w=Pa(r),E=Pa(a),x=n&&n.length===2,N=Wae(b,w,E,x,y,t.position,p.orientation,f.orientation,t);if(!N)return null;var k=Fae(N,2),A=k[0],P=A.x,S=A.y,_=k[1],T=_.x,O=_.y,R=go(t,"hidden")?"url(#".concat(m,")"):void 0,D=NP(NP({clipPath:R},nr(t,!0)),{},{x1:P,y1:S,x2:T,y2:O});return e.createElement(pa,{className:mr("recharts-reference-line",d)},Hae(i,D),un.renderCallByParent(t,gae({x1:P,y1:S,x2:T,y2:O})))}var k2=(function(t){function r(){return Mae(this,r),$ae(this,r,arguments)}return Dae(r,t),Rae(r,[{key:"render",value:function(){return e.createElement(Gae,this.props)}}])})(e.Component);N2(k2,"displayName","ReferenceLine");N2(k2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},P1.apply(this,arguments)}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rd(t)}function SP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function CP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?SP(Object(a),!0).forEach(function(n){Tg(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):SP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Kae(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Yae(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function Xae(t,r,a){return r&&Yae(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qae(t,r,a){return r=L0(r),Jae(t,d$()?Reflect.construct(r,a||[],L0(t).constructor):r.apply(t,a))}function Jae(t,r){if(r&&(rd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zae(t)}function Zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},L0(t)}function ene(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&T1(t,r)}function T1(t,r){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},T1(t,r)}function Tg(t,r,a){return r=u$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function u$(t){var r=tne(t,"string");return rd(r)=="symbol"?r:r+""}function tne(t,r){if(rd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rne=function(r){var a=r.x,n=r.y,s=r.xAxis,o=r.yAxis,i=b2({x:s.scale,y:o.scale}),d=i.apply({x:a,y:n},{bandAware:!0});return go(r,"discard")&&!i.isInRange(d)?null:d},Og=(function(t){function r(){return Kae(this,r),Qae(this,r,arguments)}return ene(r,t),Xae(r,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,i=n.r,d=n.alwaysShow,u=n.clipPathId,m=Pa(s),p=Pa(o);if(Bo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!p)return null;var f=rne(this.props);if(!f)return null;var y=f.x,b=f.y,w=this.props,E=w.shape,x=w.className,N=go(this.props,"hidden")?"url(#".concat(u,")"):void 0,k=CP(CP({clipPath:N},nr(this.props,!0)),{},{cx:y,cy:b});return e.createElement(pa,{className:mr("recharts-reference-dot",x)},r.renderDot(E,k),un.renderCallByParent(this.props,{x:y-i,y:b-i,width:2*i,height:2*i}))}}])})(e.Component);Tg(Og,"displayName","ReferenceDot");Tg(Og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tg(Og,"renderDot",function(t,r){var a;return e.isValidElement(t)?a=e.cloneElement(t,r):Kt(t)?a=t(r):a=e.createElement(y2,P1({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),a});function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},O1.apply(this,arguments)}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ad(t)}function AP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function _P(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?AP(Object(a),!0).forEach(function(n){Mg(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):AP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ane(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function nne(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function sne(t,r,a){return r&&nne(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function one(t,r,a){return r=I0(r),ine(t,m$()?Reflect.construct(r,a||[],I0(t).constructor):r.apply(t,a))}function ine(t,r){if(r&&(ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(t)}function lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},I0(t)}function cne(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&M1(t,r)}function M1(t,r){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M1(t,r)}function Mg(t,r,a){return r=f$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function f$(t){var r=dne(t,"string");return ad(r)=="symbol"?r:r+""}function dne(t,r){if(ad(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var une=function(r,a,n,s,o){var i=o.x1,d=o.x2,u=o.y1,m=o.y2,p=o.xAxis,f=o.yAxis;if(!p||!f)return null;var y=b2({x:p.scale,y:f.scale}),b={x:r?y.x.apply(i,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(u,{position:"start"}):y.y.rangeMin},w={x:a?y.x.apply(d,{position:"end"}):y.x.rangeMax,y:s?y.y.apply(m,{position:"end"}):y.y.rangeMax};return go(o,"discard")&&(!y.isInRange(b)||!y.isInRange(w))?null:ZR(b,w)},jg=(function(t){function r(){return ane(this,r),one(this,r,arguments)}return cne(r,t),sne(r,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,i=n.y1,d=n.y2,u=n.className,m=n.alwaysShow,p=n.clipPathId;Bo(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pa(s),y=Pa(o),b=Pa(i),w=Pa(d),E=this.props.shape;if(!f&&!y&&!b&&!w&&!E)return null;var x=une(f,y,b,w,this.props);if(!x&&!E)return null;var N=go(this.props,"hidden")?"url(#".concat(p,")"):void 0;return e.createElement(pa,{className:mr("recharts-reference-area",u)},r.renderRect(E,_P(_P({clipPath:N},nr(this.props,!0)),x)),un.renderCallByParent(this.props,x))}}])})(e.Component);Mg(jg,"displayName","ReferenceArea");Mg(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mg(jg,"renderRect",function(t,r){var a;return e.isValidElement(t)?a=e.cloneElement(t,r):Kt(t)?a=t(r):a=e.createElement(h2,O1({},r,{className:"recharts-reference-area-rect"})),a});function p$(t,r,a){if(r<1)return[];if(r===1&&a===void 0)return t;for(var n=[],s=0;s<t.length;s+=r)n.push(t[s]);return n}function mne(t,r,a){var n={width:t.width+r.width,height:t.height+r.height};return yae(n,a)}function fne(t,r,a){var n=a==="width",s=t.x,o=t.y,i=t.width,d=t.height;return r===1?{start:n?s:o,end:n?s+i:o+d}:{start:n?s+i:o+d,end:n?s:o}}function D0(t,r,a,n,s){if(t*r<t*n||t*r>t*s)return!1;var o=a();return t*(r-t*o/2-n)>=0&&t*(r+t*o/2-s)<=0}function pne(t,r){return p$(t,r+1)}function gne(t,r,a,n,s){for(var o=(n||[]).slice(),i=r.start,d=r.end,u=0,m=1,p=i,f=function(){var w=n?.[u];if(w===void 0)return{v:p$(n,m)};var E=u,x,N=function(){return x===void 0&&(x=a(w,E)),x},k=w.coordinate,A=u===0||D0(t,k,N,p,d);A||(u=0,p=i,m+=1),A&&(p=k+t*(N()/2+s),u+=m)},y;m<=o.length;)if(y=f(),y)return y.v;return[]}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vm(t)}function PP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function cn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?PP(Object(a),!0).forEach(function(n){hne(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):PP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function hne(t,r,a){return r=yne(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function yne(t){var r=bne(t,"string");return vm(r)=="symbol"?r:r+""}function bne(t,r){if(vm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function xne(t,r,a,n,s){for(var o=(n||[]).slice(),i=o.length,d=r.start,u=r.end,m=function(y){var b=o[y],w,E=function(){return w===void 0&&(w=a(b,y)),w};if(y===i-1){var x=t*(b.coordinate+t*E()/2-u);o[y]=b=cn(cn({},b),{},{tickCoord:x>0?b.coordinate-x*t:b.coordinate})}else o[y]=b=cn(cn({},b),{},{tickCoord:b.coordinate});var N=D0(t,b.tickCoord,E,d,u);N&&(u=b.tickCoord-t*(E()/2+s),o[y]=cn(cn({},b),{},{isShow:!0}))},p=i-1;p>=0;p--)m(p);return o}function vne(t,r,a,n,s,o){var i=(n||[]).slice(),d=i.length,u=r.start,m=r.end;if(o){var p=n[d-1],f=a(p,d-1),y=t*(p.coordinate+t*f/2-m);i[d-1]=p=cn(cn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var b=D0(t,p.tickCoord,function(){return f},u,m);b&&(m=p.tickCoord-t*(f/2+s),i[d-1]=cn(cn({},p),{},{isShow:!0}))}for(var w=o?d-1:d,E=function(k){var A=i[k],P,S=function(){return P===void 0&&(P=a(A,k)),P};if(k===0){var _=t*(A.coordinate-t*S()/2-u);i[k]=A=cn(cn({},A),{},{tickCoord:_<0?A.coordinate-_*t:A.coordinate})}else i[k]=A=cn(cn({},A),{},{tickCoord:A.coordinate});var T=D0(t,A.tickCoord,S,u,m);T&&(u=A.tickCoord+t*(S()/2+s),i[k]=cn(cn({},A),{},{isShow:!0}))},x=0;x<w;x++)E(x);return i}function S2(t,r,a){var n=t.tick,s=t.ticks,o=t.viewBox,i=t.minTickGap,d=t.orientation,u=t.interval,m=t.tickFormatter,p=t.unit,f=t.angle;if(!s||!s.length||!n)return[];if(dt(u)||Nd.isSsr)return pne(s,typeof u=="number"&&dt(u)?u:0);var y=[],b=d==="top"||d==="bottom"?"width":"height",w=p&&b==="width"?ju(p,{fontSize:r,letterSpacing:a}):{width:0,height:0},E=function(A,P){var S=Kt(m)?m(A.value,P):A.value;return b==="width"?mne(ju(S,{fontSize:r,letterSpacing:a}),w,f):ju(S,{fontSize:r,letterSpacing:a})[b]},x=s.length>=2?Ys(s[1].coordinate-s[0].coordinate):1,N=fne(o,x,b);return u==="equidistantPreserveStart"?gne(x,N,E,s,i):(u==="preserveStart"||u==="preserveStartEnd"?y=vne(x,N,E,s,i,u==="preserveStartEnd"):y=xne(x,N,E,s,i),y.filter(function(k){return k.isShow}))}var Ene=["viewBox"],wne=["viewBox"],Nne=["ticks"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nd(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Tc.apply(this,arguments)}function TP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Ca(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?TP(Object(a),!0).forEach(function(n){C2(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function OE(t,r){if(t==null)return{};var a=kne(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kne(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function Sne(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function OP(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h$(n.key),n)}}function Cne(t,r,a){return r&&OP(t.prototype,r),a&&OP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,r,a){return r=z0(r),_ne(t,g$()?Reflect.construct(r,a||[],z0(t).constructor):r.apply(t,a))}function _ne(t,r){if(r&&(nd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},z0(t)}function Tne(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&j1(t,r)}function j1(t,r){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},j1(t,r)}function C2(t,r,a){return r=h$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function h$(t){var r=One(t,"string");return nd(r)=="symbol"?r:r+""}function One(t,r){if(nd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ad=(function(t){function r(a){var n;return Sne(this,r),n=Ane(this,r,[a]),n.state={fontSize:"",letterSpacing:""},n}return Tne(r,t),Cne(r,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,i=OE(n,Ene),d=this.props,u=d.viewBox,m=OE(d,wne);return!Rc(o,u)||!Rc(i,m)||!Rc(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,i=s.y,d=s.width,u=s.height,m=s.orientation,p=s.tickSize,f=s.mirror,y=s.tickMargin,b,w,E,x,N,k,A=f?-1:1,P=n.tickSize||p,S=dt(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":b=w=n.coordinate,x=i+ +!f*u,E=x-A*P,k=E-A*y,N=S;break;case"left":E=x=n.coordinate,w=o+ +!f*d,b=w-A*P,N=b-A*y,k=S;break;case"right":E=x=n.coordinate,w=o+ +f*d,b=w+A*P,N=b+A*y,k=S;break;default:b=w=n.coordinate,x=i+ +f*u,E=x+A*P,k=E+A*y,N=S;break}return{line:{x1:b,y1:E,x2:w,y2:x},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i;switch(s){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,d=n.height,u=n.orientation,m=n.mirror,p=n.axisLine,f=Ca(Ca(Ca({},nr(this.props,!1)),nr(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!m||u==="bottom"&&m);f=Ca(Ca({},f),{},{x1:s,y1:o+y*d,x2:s+i,y2:o+y*d})}else{var b=+(u==="left"&&!m||u==="right"&&m);f=Ca(Ca({},f),{},{x1:s+b*i,y1:o,x2:s+b*i,y2:o+d})}return e.createElement("line",Tc({},f,{className:mr("recharts-cartesian-axis-line",ws(p,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var i=this,d=this.props,u=d.tickLine,m=d.stroke,p=d.tick,f=d.tickFormatter,y=d.unit,b=S2(Ca(Ca({},this.props),{},{ticks:n}),s,o),w=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),x=nr(this.props,!1),N=nr(p,!1),k=Ca(Ca({},x),{},{fill:"none"},nr(u,!1)),A=b.map(function(P,S){var _=i.getTickLineCoord(P),T=_.line,O=_.tick,R=Ca(Ca(Ca(Ca({textAnchor:w,verticalAnchor:E},x),{},{stroke:"none",fill:m},N),O),{},{index:S,payload:P,visibleTicksCount:b.length,tickFormatter:f});return e.createElement(pa,Tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Kp(i.props,P,S)),u&&e.createElement("line",Tc({},k,T,{className:mr("recharts-cartesian-axis-tick-line",ws(u,"className"))})),p&&r.renderTickItem(p,R,"".concat(Kt(f)?f(P.value,S):P.value).concat(y||"")))});return e.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,i=s.width,d=s.height,u=s.ticksGenerator,m=s.className,p=s.hide;if(p)return null;var f=this.props,y=f.ticks,b=OE(f,Nne),w=y;return Kt(u)&&(w=y&&y.length>0?u(this.props):u(b)),i<=0||d<=0||!w||!w.length?null:e.createElement(pa,{className:mr("recharts-cartesian-axis",m),ref:function(x){n.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var i,d=mr(s.className,"recharts-cartesian-axis-tick-value");return e.isValidElement(n)?i=e.cloneElement(n,Ca(Ca({},s),{},{className:d})):Kt(n)?i=n(Ca(Ca({},s),{},{className:d})):i=e.createElement(s0,Tc({},s,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])})(g.Component);C2(Ad,"displayName","CartesianAxis");C2(Ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mne=["x1","y1","x2","y2","key"],jne=["offset"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ll(t)}function MP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function mn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?MP(Object(a),!0).forEach(function(n){Rne(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):MP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Rne(t,r,a){return r=$ne(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $ne(t){var r=Lne(t,"string");return Ll(r)=="symbol"?r:r+""}function Lne(t,r){if(Ll(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},vl.apply(this,arguments)}function jP(t,r){if(t==null)return{};var a=Ine(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ine(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}var Dne=function(r){var a=r.fill;if(!a||a==="none")return null;var n=r.fillOpacity,s=r.x,o=r.y,i=r.width,d=r.height,u=r.ry;return e.createElement("rect",{x:s,y:o,ry:u,width:i,height:d,stroke:"none",fill:a,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function y$(t,r){var a;if(e.isValidElement(t))a=e.cloneElement(t,r);else if(Kt(t))a=t(r);else{var n=r.x1,s=r.y1,o=r.x2,i=r.y2,d=r.key,u=jP(r,Mne),m=nr(u,!1);m.offset;var p=jP(m,jne);a=e.createElement("line",vl({},p,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:d}))}return a}function zne(t){var r=t.x,a=t.width,n=t.horizontal,s=n===void 0?!0:n,o=t.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(d,u){var m=mn(mn({},t),{},{x1:r,y1:d,x2:r+a,y2:d,key:"line-".concat(u),index:u});return y$(s,m)});return e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Fne(t){var r=t.y,a=t.height,n=t.vertical,s=n===void 0?!0:n,o=t.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(d,u){var m=mn(mn({},t),{},{x1:d,y1:r,x2:d,y2:r+a,key:"line-".concat(u),index:u});return y$(s,m)});return e.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Bne(t){var r=t.horizontalFill,a=t.fillOpacity,n=t.x,s=t.y,o=t.width,i=t.height,d=t.horizontalPoints,u=t.horizontal,m=u===void 0?!0:u;if(!m||!r||!r.length)return null;var p=d.map(function(y){return Math.round(y+s-s)}).sort(function(y,b){return y-b});s!==p[0]&&p.unshift(0);var f=p.map(function(y,b){var w=!p[b+1],E=w?s+i-y:p[b+1]-y;if(E<=0)return null;var x=b%r.length;return e.createElement("rect",{key:"react-".concat(b),y,x:n,height:E,width:o,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qne(t){var r=t.vertical,a=r===void 0?!0:r,n=t.verticalFill,s=t.fillOpacity,o=t.x,i=t.y,d=t.width,u=t.height,m=t.verticalPoints;if(!a||!n||!n.length)return null;var p=m.map(function(y){return Math.round(y+o-o)}).sort(function(y,b){return y-b});o!==p[0]&&p.unshift(0);var f=p.map(function(y,b){var w=!p[b+1],E=w?o+d-y:p[b+1]-y;if(E<=0)return null;var x=b%n.length;return e.createElement("rect",{key:"react-".concat(b),x:y,y:i,width:E,height:u,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Une=function(r,a){var n=r.xAxis,s=r.width,o=r.height,i=r.offset;return TR(S2(mn(mn(mn({},Ad.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.left,i.left+i.width,a)},Vne=function(r,a){var n=r.yAxis,s=r.width,o=r.height,i=r.offset;return TR(S2(mn(mn(mn({},Ad.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.top,i.top+i.height,a)},xc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function R1(t){var r,a,n,s,o,i,d=E2(),u=w2(),m=Oae(),p=mn(mn({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:xc.stroke,fill:(a=t.fill)!==null&&a!==void 0?a:xc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:xc.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:xc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:xc.vertical,verticalFill:(i=t.verticalFill)!==null&&i!==void 0?i:xc.verticalFill,x:dt(t.x)?t.x:m.left,y:dt(t.y)?t.y:m.top,width:dt(t.width)?t.width:m.width,height:dt(t.height)?t.height:m.height}),f=p.x,y=p.y,b=p.width,w=p.height,E=p.syncWithTicks,x=p.horizontalValues,N=p.verticalValues,k=_ae(),A=Pae();if(!dt(b)||b<=0||!dt(w)||w<=0||!dt(f)||f!==+f||!dt(y)||y!==+y)return null;var P=p.verticalCoordinatesGenerator||Une,S=p.horizontalCoordinatesGenerator||Vne,_=p.horizontalPoints,T=p.verticalPoints;if((!_||!_.length)&&Kt(S)){var O=x&&x.length,R=S({yAxis:A?mn(mn({},A),{},{ticks:O?x:A.ticks}):void 0,width:d,height:u,offset:m},O?!0:E);Bo(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ll(R),"]")),Array.isArray(R)&&(_=R)}if((!T||!T.length)&&Kt(P)){var D=N&&N.length,j=P({xAxis:k?mn(mn({},k),{},{ticks:D?N:k.ticks}):void 0,width:d,height:u,offset:m},D?!0:E);Bo(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ll(j),"]")),Array.isArray(j)&&(T=j)}return e.createElement("g",{className:"recharts-cartesian-grid"},e.createElement(Dne,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),e.createElement(zne,vl({},p,{offset:m,horizontalPoints:_,xAxis:k,yAxis:A})),e.createElement(Fne,vl({},p,{offset:m,verticalPoints:T,xAxis:k,yAxis:A})),e.createElement(Bne,vl({},p,{horizontalPoints:_})),e.createElement(qne,vl({},p,{verticalPoints:T})))}R1.displayName="CartesianGrid";var Hne=["type","layout","connectNulls","ref"],Wne=["key"];function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sd(t)}function RP(t,r){if(t==null)return{};var a=Gne(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gne(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Iu.apply(this,arguments)}function $P(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function Wn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?$P(Object(a),!0).forEach(function(n){Us(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$P(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function vc(t){return Qne(t)||Xne(t)||Yne(t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(t,r){if(t){if(typeof t=="string")return $1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $1(t,r)}}function Xne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qne(t){if(Array.isArray(t))return $1(t)}function $1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function Jne(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function LP(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function Zne(t,r,a){return r&&LP(t.prototype,r),a&&LP(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function ese(t,r,a){return r=F0(r),tse(t,b$()?Reflect.construct(r,a||[],F0(t).constructor):r.apply(t,a))}function tse(t,r){if(r&&(sd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(t)}function rse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},F0(t)}function ase(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&L1(t,r)}function L1(t,r){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L1(t,r)}function Us(t,r,a){return r=x$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function x$(t){var r=nse(t,"string");return sd(r)=="symbol"?r:r+""}function nse(t,r){if(sd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var od=(function(t){function r(){var a;Jne(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return a=ese(this,r,[].concat(s)),Us(a,"state",{isAnimationFinished:!0,totalLength:0}),Us(a,"generateSimpleStrokeDasharray",function(i,d){return"".concat(d,"px ").concat(i-d,"px")}),Us(a,"getStrokeDasharray",function(i,d,u){var m=u.reduce(function(N,k){return N+k});if(!m)return a.generateSimpleStrokeDasharray(d,i);for(var p=Math.floor(i/m),f=i%m,y=d-i,b=[],w=0,E=0;w<u.length;E+=u[w],++w)if(E+u[w]>f){b=[].concat(vc(u.slice(0,w)),[f-E]);break}var x=b.length%2===0?[0,y]:[y];return[].concat(vc(r.repeat(u,p)),vc(b),x).map(function(N){return"".concat(N,"px")}).join(", ")}),Us(a,"id",$m("recharts-line-")),Us(a,"pathRef",function(i){a.mainCurve=i}),Us(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),Us(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return ase(r,t),Zne(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,d=o.xAxis,u=o.yAxis,m=o.layout,p=o.children,f=Ns(p,Bm);if(!f)return null;var y=function(E,x){return{x:E.x,y:E.y,value:E.value,errorVal:es(E.payload,x)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return e.createElement(pa,b,f.map(function(w){return e.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:i,xAxis:d,yAxis:u,layout:m,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,m=d.points,p=d.dataKey,f=nr(this.props,!1),y=nr(u,!0),b=m.map(function(E,x){var N=Wn(Wn(Wn({key:"dot-".concat(x),r:3},f),y),{},{index:x,cx:E.x,cy:E.y,value:E.value,dataKey:p,payload:E.payload,points:m});return r.renderDotItem(u,N)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return e.createElement(pa,Iu({className:"recharts-line-dots",key:"dots"},w),b)}},{key:"renderCurveStatically",value:function(n,s,o,i){var d=this.props,u=d.type,m=d.layout,p=d.connectNulls;d.ref;var f=RP(d,Hne),y=Wn(Wn(Wn({},nr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:u,layout:m,connectNulls:p});return e.createElement(m1,Iu({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var o=this,i=this.props,d=i.points,u=i.strokeDasharray,m=i.isAnimationActive,p=i.animationBegin,f=i.animationDuration,y=i.animationEasing,b=i.animationId,w=i.animateNewValues,E=i.width,x=i.height,N=this.state,k=N.prevPoints,A=N.totalLength;return e.createElement(Go,{begin:p,duration:f,isActive:m,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(k){var _=k.length/d.length,T=d.map(function($,K){var W=Math.floor(K*_);if(k[W]){var z=k[W],Q=Hs(z.x,$.x),ee=Hs(z.y,$.y);return Wn(Wn({},$),{},{x:Q(S),y:ee(S)})}if(w){var H=Hs(E*2,$.x),q=Hs(x/2,$.y);return Wn(Wn({},$),{},{x:H(S),y:q(S)})}return Wn(Wn({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(T,n,s)}var O=Hs(0,A),R=O(S),D;if(u){var j="".concat(u).split(/[,\s]+/gim).map(function($){return parseFloat($)});D=o.getStrokeDasharray(R,A,j)}else D=o.generateSimpleStrokeDasharray(A,R);return o.renderCurveStatically(d,n,s,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,s){var o=this.props,i=o.points,d=o.isAnimationActive,u=this.state,m=u.prevPoints,p=u.totalLength;return d&&i&&i.length&&(!m&&p>0||!kg(m,i))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(i,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,d=s.points,u=s.className,m=s.xAxis,p=s.yAxis,f=s.top,y=s.left,b=s.width,w=s.height,E=s.isAnimationActive,x=s.id;if(o||!d||!d.length)return null;var N=this.state.isAnimationFinished,k=d.length===1,A=mr("recharts-line",u),P=m&&m.allowDataOverflow,S=p&&p.allowDataOverflow,_=P||S,T=Jt(x)?this.id:x,O=(n=nr(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,D=R===void 0?3:R,j=O.strokeWidth,$=j===void 0?2:j,K=xV(i)?i:{},W=K.clipDot,z=W===void 0?!0:W,Q=D*2+$;return e.createElement(pa,{className:A},P||S?e.createElement("defs",null,e.createElement("clipPath",{id:"clipPath-".concat(T)},e.createElement("rect",{x:P?y:y-b/2,y:S?f:f-w/2,width:P?b:b*2,height:S?w:w*2})),!z&&e.createElement("clipPath",{id:"clipPath-dots-".concat(T)},e.createElement("rect",{x:y-Q/2,y:f-Q/2,width:b+Q,height:w+Q}))):null,!k&&this.renderCurve(_,T),this.renderErrorBar(_,T),(k||i)&&this.renderDots(_,z,T),(!E||N)&&Pi.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var o=n.length%2!==0?[].concat(vc(n),[0]):n,i=[],d=0;d<s;++d)i=[].concat(vc(i),vc(o));return i}},{key:"renderDotItem",value:function(n,s){var o;if(e.isValidElement(n))o=e.cloneElement(n,s);else if(Kt(n))o=n(s);else{var i=s.key,d=RP(s,Wne),u=mr("recharts-line-dot",typeof n!="boolean"?n.className:"");o=e.createElement(y2,Iu({key:i},d,{className:u}))}return o}}])})(g.PureComponent);Us(od,"displayName","Line");Us(od,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Nd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Us(od,"getComposedData",function(t){var r=t.props,a=t.xAxis,n=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,i=t.dataKey,d=t.bandSize,u=t.displayedData,m=t.offset,p=r.layout,f=u.map(function(y,b){var w=es(y,i);return p==="horizontal"?{x:Z_({axis:a,ticks:s,bandSize:d,entry:y,index:b}),y:Jt(w)?null:n.scale(w),value:w,payload:y}:{x:Jt(w)?null:a.scale(w),y:Z_({axis:n,ticks:o,bandSize:d,entry:y,index:b}),value:w,payload:y}});return Wn({points:f,layout:p},m)});function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ld(t)}function sse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ose(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w$(n.key),n)}}function ise(t,r,a){return r&&ose(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lse(t,r,a){return r=B0(r),cse(t,v$()?Reflect.construct(r,a||[],B0(t).constructor):r.apply(t,a))}function cse(t,r){if(r&&(ld(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(t)}function dse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},B0(t)}function use(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&I1(t,r)}function I1(t,r){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I1(t,r)}function E$(t,r,a){return r=w$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function w$(t){var r=mse(t,"string");return ld(r)=="symbol"?r:r+""}function mse(t,r){if(ld(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},D1.apply(this,arguments)}function fse(t){var r=t.xAxisId,a=E2(),n=w2(),s=o$(r);return s==null?null:g.createElement(Ad,D1({},s,{className:mr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(i){return zo(i,!0)}}))}var cd=(function(t){function r(){return sse(this,r),lse(this,r,arguments)}return use(r,t),ise(r,[{key:"render",value:function(){return g.createElement(fse,this.props)}}])})(g.Component);E$(cd,"displayName","XAxis");E$(cd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dd(t)}function pse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gse(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function hse(t,r,a){return r&&gse(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,r,a){return r=q0(r),bse(t,N$()?Reflect.construct(r,a||[],q0(t).constructor):r.apply(t,a))}function bse(t,r){if(r&&(dd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(t)}function xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},q0(t)}function vse(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&z1(t,r)}function z1(t,r){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z1(t,r)}function k$(t,r,a){return r=S$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function S$(t){var r=Ese(t,"string");return dd(r)=="symbol"?r:r+""}function Ese(t,r){if(dd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},F1.apply(this,arguments)}var wse=function(r){var a=r.yAxisId,n=E2(),s=w2(),o=i$(a);return o==null?null:g.createElement(Ad,F1({},o,{className:mr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(d){return zo(d,!0)}}))},_l=(function(t){function r(){return pse(this,r),yse(this,r,arguments)}return vse(r,t),hse(r,[{key:"render",value:function(){return g.createElement(wse,this.props)}}])})(g.Component);k$(_l,"displayName","YAxis");k$(_l,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IP(t){return Cse(t)||Sse(t)||kse(t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(t,r){if(t){if(typeof t=="string")return B1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B1(t,r)}}function Sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cse(t){if(Array.isArray(t))return B1(t)}function B1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}var q1=function(r,a,n,s,o){var i=Ns(r,k2),d=Ns(r,Og),u=[].concat(IP(i),IP(d)),m=Ns(r,jg),p="".concat(s,"Id"),f=s[0],y=a;if(u.length&&(y=u.reduce(function(E,x){if(x.props[p]===n&&go(x.props,"extendDomain")&&dt(x.props[f])){var N=x.props[f];return[Math.min(E[0],N),Math.max(E[1],N)]}return E},y)),m.length){var b="".concat(f,"1"),w="".concat(f,"2");y=m.reduce(function(E,x){if(x.props[p]===n&&go(x.props,"extendDomain")&&dt(x.props[b])&&dt(x.props[w])){var N=x.props[b],k=x.props[w];return[Math.min(E[0],N,k),Math.max(E[1],N,k)]}return E},y)}return o&&o.length&&(y=o.reduce(function(E,x){return dt(x)?[Math.min(E[0],x),Math.max(E[1],x)]:E},y)),y},ME={exports:{}},DP;function Ase(){return DP||(DP=1,(function(t){var r=Object.prototype.hasOwnProperty,a="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1));function s(u,m,p){this.fn=u,this.context=m,this.once=p||!1}function o(u,m,p,f,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,f||u,y),w=a?a+m:m;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],b]:u._events[w].push(b):(u._events[w]=b,u._eventsCount++),u}function i(u,m){--u._eventsCount===0?u._events=new n:delete u._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,f;if(this._eventsCount===0)return m;for(f in p=this._events)r.call(p,f)&&m.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=a?a+m:m,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,b=f.length,w=new Array(b);y<b;y++)w[y]=f[y].fn;return w},d.prototype.listenerCount=function(m){var p=a?a+m:m,f=this._events[p];return f?f.fn?1:f.length:0},d.prototype.emit=function(m,p,f,y,b,w){var E=a?a+m:m;if(!this._events[E])return!1;var x=this._events[E],N=arguments.length,k,A;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,f),!0;case 4:return x.fn.call(x.context,p,f,y),!0;case 5:return x.fn.call(x.context,p,f,y,b),!0;case 6:return x.fn.call(x.context,p,f,y,b,w),!0}for(A=1,k=new Array(N-1);A<N;A++)k[A-1]=arguments[A];x.fn.apply(x.context,k)}else{var P=x.length,S;for(A=0;A<P;A++)switch(x[A].once&&this.removeListener(m,x[A].fn,void 0,!0),N){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,p);break;case 3:x[A].fn.call(x[A].context,p,f);break;case 4:x[A].fn.call(x[A].context,p,f,y);break;default:if(!k)for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];x[A].fn.apply(x[A].context,k)}}return!0},d.prototype.on=function(m,p,f){return o(this,m,p,f,!1)},d.prototype.once=function(m,p,f){return o(this,m,p,f,!0)},d.prototype.removeListener=function(m,p,f,y){var b=a?a+m:m;if(!this._events[b])return this;if(!p)return i(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!y||w.once)&&(!f||w.context===f)&&i(this,b);else{for(var E=0,x=[],N=w.length;E<N;E++)(w[E].fn!==p||y&&!w[E].once||f&&w[E].context!==f)&&x.push(w[E]);x.length?this._events[b]=x.length===1?x[0]:x:i(this,b)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=a?a+m:m,this._events[p]&&i(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,t.exports=d})(ME)),ME.exports}var _se=Ase();const Pse=Fr(_se);var jE=new Pse,RE="recharts.syncMouseEvents";function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Em(t)}function Tse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ose(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function Mse(t,r,a){return r&&Ose(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $E(t,r,a){return r=C$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function C$(t){var r=jse(t,"string");return Em(r)=="symbol"?r:r+""}function jse(t,r){if(Em(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rse=(function(){function t(){Tse(this,t),$E(this,"activeIndex",0),$E(this,"coordinateList",[]),$E(this,"layout","horizontal")}return Mse(t,[{key:"setDetails",value:function(a){var n,s=a.coordinateList,o=s===void 0?null:s,i=a.container,d=i===void 0?null:i,u=a.layout,m=u===void 0?null:u,p=a.offset,f=p===void 0?null:p,y=a.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=d??this.container,this.layout=m??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(a){if(this.coordinateList.length!==0)switch(a.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(a){this.activeIndex=a}},{key:"spoofMouse",value:function(){var a,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,i=s.y,d=s.height,u=this.coordinateList[this.activeIndex].coordinate,m=((a=window)===null||a===void 0?void 0:a.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+u+m,y=i+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:f,pageY:y})}}}])})();function $se(t,r,a){if(a==="number"&&r===!0&&Array.isArray(t)){var n=t?.[0],s=t?.[1];if(n&&s&&dt(n)&&dt(s))return!0}return!1}function Lse(t,r,a,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-s:a.left+.5,y:t==="horizontal"?a.top+.5:r.y-s,width:t==="horizontal"?n:a.width-1,height:t==="horizontal"?a.height-1:n}}function A$(t){var r=t.cx,a=t.cy,n=t.radius,s=t.startAngle,o=t.endAngle,i=Ka(r,a,n,s),d=Ka(r,a,n,o);return{points:[i,d],cx:r,cy:a,radius:n,startAngle:s,endAngle:o}}function Ise(t,r,a){var n,s,o,i;if(t==="horizontal")n=r.x,o=n,s=a.top,i=a.top+a.height;else if(t==="vertical")s=r.y,i=s,n=a.left,o=a.left+a.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var d=r.cx,u=r.cy,m=r.innerRadius,p=r.outerRadius,f=r.angle,y=Ka(d,u,m,f),b=Ka(d,u,p,f);n=y.x,s=y.y,o=b.x,i=b.y}else return A$(r);return[{x:n,y:s},{x:o,y:i}]}function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wm(t)}function zP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function rp(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?zP(Object(a),!0).forEach(function(n){Dse(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Dse(t,r,a){return r=zse(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function zse(t){var r=Fse(t,"string");return wm(r)=="symbol"?r:r+""}function Fse(t,r){if(wm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Bse(t){var r,a,n=t.element,s=t.tooltipEventType,o=t.isActive,i=t.activeCoordinate,d=t.activePayload,u=t.offset,m=t.activeTooltipIndex,p=t.tooltipAxisBandSize,f=t.layout,y=t.chartName,b=(r=n.props.cursor)!==null&&r!==void 0?r:(a=n.type.defaultProps)===null||a===void 0?void 0:a.cursor;if(!n||!b||!o||!i||y!=="ScatterChart"&&s!=="axis")return null;var w,E=m1;if(y==="ScatterChart")w=i,E=zte;else if(y==="BarChart")w=Lse(f,i,u,p),E=h2;else if(f==="radial"){var x=A$(i),N=x.cx,k=x.cy,A=x.radius,P=x.startAngle,S=x.endAngle;w={cx:N,cy:k,startAngle:P,endAngle:S,innerRadius:A,outerRadius:A},E=$R}else w={points:Ise(f,i,u)},E=m1;var _=rp(rp(rp(rp({stroke:"#ccc",pointerEvents:"none"},u),w),nr(b,!1)),{},{payload:d,payloadIndex:m,className:mr("recharts-tooltip-cursor",b.className)});return g.isValidElement(b)?g.cloneElement(b,_):g.createElement(E,_)}var qse=["item"],Use=["children","className","width","height","style","compact","title","desc"];function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ud(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Oc.apply(this,arguments)}function FP(t,r){return Wse(t)||Hse(t,r)||P$(t,r)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hse(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,m=!1;try{if(o=(a=a.call(t)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(m)throw s}}return d}}function Wse(t){if(Array.isArray(t))return t}function BP(t,r){if(t==null)return{};var a=Gse(t,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gse(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function Kse(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Yse(t,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function Xse(t,r,a){return r&&Yse(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,r,a){return r=U0(r),Jse(t,_$()?Reflect.construct(r,a||[],U0(t).constructor):r.apply(t,a))}function Jse(t,r){if(r&&(ud(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(t)}function Zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},U0(t)}function eoe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&U1(t,r)}function U1(t,r){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U1(t,r)}function md(t){return aoe(t)||roe(t)||P$(t)||toe()}function toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(t,r){if(t){if(typeof t=="string")return V1(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V1(t,r)}}function roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aoe(t){if(Array.isArray(t))return V1(t)}function V1(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=t[a];return n}function qP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function ze(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?qP(Object(a),!0).forEach(function(n){Ft(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qP(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ft(t,r,a){return r=T$(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function T$(t){var r=noe(t,"string");return ud(r)=="symbol"?r:r+""}function noe(t,r){if(ud(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var soe={xAxis:["bottom","top"],yAxis:["left","right"]},ooe={width:"100%",height:"100%"},O$={x:0,y:0};function ap(t){return t}var ioe=function(r,a){return a==="horizontal"?r.x:a==="vertical"?r.y:a==="centric"?r.angle:r.radius},loe=function(r,a,n,s){var o=a.find(function(p){return p&&p.index===n});if(o){if(r==="horizontal")return{x:o.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:o.coordinate};if(r==="centric"){var i=o.coordinate,d=s.radius;return ze(ze(ze({},s),Ka(s.cx,s.cy,d,i)),{},{angle:i,radius:d})}var u=o.coordinate,m=s.angle;return ze(ze(ze({},s),Ka(s.cx,s.cy,u,m)),{},{angle:m,radius:u})}return O$},Rg=function(r,a){var n=a.graphicalItems,s=a.dataStartIndex,o=a.dataEndIndex,i=(n??[]).reduce(function(d,u){var m=u.props.data;return m&&m.length?[].concat(md(d),md(m)):d},[]);return i.length>0?i:r&&r.length&&dt(s)&&dt(o)?r.slice(s,o+1):[]};function M$(t){return t==="number"?[0,"auto"]:void 0}var H1=function(r,a,n,s){var o=r.graphicalItems,i=r.tooltipAxis,d=Rg(a,r);return n<0||!o||!o.length||n>=d.length?null:o.reduce(function(u,m){var p,f=(p=m.props.data)!==null&&p!==void 0?p:a;f&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=n&&(f=f.slice(r.dataStartIndex,r.dataEndIndex+1));var y;if(i.dataKey&&!i.allowDuplicatedCategory){var b=f===void 0?d:f;y=Wp(b,i.dataKey,s)}else y=f&&f[n]||d[n];return y?[].concat(md(u),[MR(m,y)]):u},[])},UP=function(r,a,n,s){var o=s||{x:r.chartX,y:r.chartY},i=ioe(o,n),d=r.orderedTooltipTicks,u=r.tooltipAxis,m=r.tooltipTicks,p=bJ(i,d,m,u);if(p>=0&&m){var f=m[p]&&m[p].value,y=H1(r,a,p,f),b=loe(n,d,p,o);return{activeTooltipIndex:p,activeLabel:f,activePayload:y,activeCoordinate:b}}return null},coe=function(r,a){var n=a.axes,s=a.graphicalItems,o=a.axisType,i=a.axisIdKey,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.layout,f=r.children,y=r.stackOffset,b=PR(p,o);return n.reduce(function(w,E){var x,N=E.type.defaultProps!==void 0?ze(ze({},E.type.defaultProps),E.props):E.props,k=N.type,A=N.dataKey,P=N.allowDataOverflow,S=N.allowDuplicatedCategory,_=N.scale,T=N.ticks,O=N.includeHidden,R=N[i];if(w[R])return w;var D=Rg(r.data,{graphicalItems:s.filter(function(Y){var V,J=i in Y.props?Y.props[i]:(V=Y.type.defaultProps)===null||V===void 0?void 0:V[i];return J===R}),dataStartIndex:u,dataEndIndex:m}),j=D.length,$,K,W;$se(N.domain,P,k)&&($=i1(N.domain,null,P),b&&(k==="number"||_!=="auto")&&(W=$u(D,A,"category")));var z=M$(k);if(!$||$.length===0){var Q,ee=(Q=N.domain)!==null&&Q!==void 0?Q:z;if(A){if($=$u(D,A,k),k==="category"&&b){var H=cV($);S&&H?(K=$,$=T0(0,j)):S||($=a6(ee,$,E).reduce(function(Y,V){return Y.indexOf(V)>=0?Y:[].concat(md(Y),[V])},[]))}else if(k==="category")S?$=$.filter(function(Y){return Y!==""&&!Jt(Y)}):$=a6(ee,$,E).reduce(function(Y,V){return Y.indexOf(V)>=0||V===""||Jt(V)?Y:[].concat(md(Y),[V])},[]);else if(k==="number"){var q=NJ(D,s.filter(function(Y){var V,J,ue=i in Y.props?Y.props[i]:(V=Y.type.defaultProps)===null||V===void 0?void 0:V[i],he="hide"in Y.props?Y.props.hide:(J=Y.type.defaultProps)===null||J===void 0?void 0:J.hide;return ue===R&&(O||!he)}),A,o,p);q&&($=q)}b&&(k==="number"||_!=="auto")&&(W=$u(D,A,"category"))}else b?$=T0(0,j):d&&d[R]&&d[R].hasStack&&k==="number"?$=y==="expand"?[0,1]:OR(d[R].stackGroups,u,m):$=_R(D,s.filter(function(Y){var V=i in Y.props?Y.props[i]:Y.type.defaultProps[i],J="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return V===R&&(O||!J)}),k,p,!0);if(k==="number")$=q1(f,$,R,o,T),ee&&($=i1(ee,$,P));else if(k==="category"&&ee){var B=ee,G=$.every(function(Y){return B.indexOf(Y)>=0});G&&($=B)}}return ze(ze({},w),{},Ft({},R,ze(ze({},N),{},{axisType:o,domain:$,categoricalDomain:W,duplicateDomain:K,originalDomain:(x=N.domain)!==null&&x!==void 0?x:z,isCategorical:b,layout:p})))},{})},doe=function(r,a){var n=a.graphicalItems,s=a.Axis,o=a.axisType,i=a.axisIdKey,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.layout,f=r.children,y=Rg(r.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:m}),b=y.length,w=PR(p,o),E=-1;return n.reduce(function(x,N){var k=N.type.defaultProps!==void 0?ze(ze({},N.type.defaultProps),N.props):N.props,A=k[i],P=M$("number");if(!x[A]){E++;var S;return w?S=T0(0,b):d&&d[A]&&d[A].hasStack?(S=OR(d[A].stackGroups,u,m),S=q1(f,S,A,o)):(S=i1(P,_R(y,n.filter(function(_){var T,O,R=i in _.props?_.props[i]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[i],D="hide"in _.props?_.props.hide:(O=_.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===A&&!D}),"number",p),s.defaultProps.allowDataOverflow),S=q1(f,S,A,o)),ze(ze({},x),{},Ft({},A,ze(ze({axisType:o},s.defaultProps),{},{hide:!0,orientation:ws(soe,"".concat(o,".").concat(E%2),null),domain:S,originalDomain:P,isCategorical:w,layout:p})))}return x},{})},uoe=function(r,a){var n=a.axisType,s=n===void 0?"xAxis":n,o=a.AxisComp,i=a.graphicalItems,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.children,f="".concat(s,"Id"),y=Ns(p,o),b={};return y&&y.length?b=coe(r,{axes:y,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:d,dataStartIndex:u,dataEndIndex:m}):i&&i.length&&(b=doe(r,{Axis:o,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:d,dataStartIndex:u,dataEndIndex:m})),b},moe=function(r){var a=Ei(r),n=zo(a,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qN(n,function(s){return s.coordinate}),tooltipAxis:a,tooltipAxisBandSize:v0(a,n)}},VP=function(r){var a=r.children,n=r.defaultShowTooltip,s=Kn(a,Zc),o=0,i=0;return r.data&&r.data.length!==0&&(i=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},foe=function(r){return!r||!r.length?!1:r.some(function(a){var n=Fo(a&&a.type);return n&&n.indexOf("Bar")>=0})},HP=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},poe=function(r,a){var n=r.props,s=r.graphicalItems,o=r.xAxisMap,i=o===void 0?{}:o,d=r.yAxisMap,u=d===void 0?{}:d,m=n.width,p=n.height,f=n.children,y=n.margin||{},b=Kn(f,Zc),w=Kn(f,Sl),E=Object.keys(u).reduce(function(S,_){var T=u[_],O=T.orientation;return!T.mirror&&!T.hide?ze(ze({},S),{},Ft({},O,S[O]+T.width)):S},{left:y.left||0,right:y.right||0}),x=Object.keys(i).reduce(function(S,_){var T=i[_],O=T.orientation;return!T.mirror&&!T.hide?ze(ze({},S),{},Ft({},O,ws(S,"".concat(O))+T.height)):S},{top:y.top||0,bottom:y.bottom||0}),N=ze(ze({},x),E),k=N.bottom;b&&(N.bottom+=b.props.height||Zc.defaultProps.height),w&&a&&(N=EJ(N,s,n,a));var A=m-N.left-N.right,P=p-N.top-N.bottom;return ze(ze({brushBottom:k},N),{},{width:Math.max(A,0),height:Math.max(P,0)})},goe=function(r,a){if(a==="xAxis")return r[a].width;if(a==="yAxis")return r[a].height},j$=function(r){var a=r.chartName,n=r.GraphicalChild,s=r.defaultTooltipEventType,o=s===void 0?"axis":s,i=r.validateTooltipEventTypes,d=i===void 0?["axis"]:i,u=r.axisComponents,m=r.legendContent,p=r.formatAxisMap,f=r.defaultProps,y=function(N,k){var A=k.graphicalItems,P=k.stackGroups,S=k.offset,_=k.updateId,T=k.dataStartIndex,O=k.dataEndIndex,R=N.barSize,D=N.layout,j=N.barGap,$=N.barCategoryGap,K=N.maxBarSize,W=HP(D),z=W.numericAxisName,Q=W.cateAxisName,ee=foe(A),H=[];return A.forEach(function(q,B){var G=Rg(N.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:O}),Y=q.type.defaultProps!==void 0?ze(ze({},q.type.defaultProps),q.props):q.props,V=Y.dataKey,J=Y.maxBarSize,ue=Y["".concat(z,"Id")],he=Y["".concat(Q,"Id")],Oe={},te=u.reduce(function(He,Je){var xt=k["".concat(Je.axisType,"Map")],ht=Y["".concat(Je.axisType,"Id")];xt&&xt[ht]||Je.axisType==="zAxis"||$l();var mt=xt[ht];return ze(ze({},He),{},Ft(Ft({},Je.axisType,mt),"".concat(Je.axisType,"Ticks"),zo(mt)))},Oe),ie=te[Q],de=te["".concat(Q,"Ticks")],Ce=P&&P[ue]&&P[ue].hasStack&&$J(q,P[ue].stackGroups),ne=Fo(q.type).indexOf("Bar")>=0,re=v0(ie,de),Ie=[],fe=ee&&xJ({barSize:R,stackGroups:P,totalSize:goe(te,Q)});if(ne){var Le,at,nt=Jt(J)?K:J,it=(Le=(at=v0(ie,de,!0))!==null&&at!==void 0?at:nt)!==null&&Le!==void 0?Le:0;Ie=vJ({barGap:j,barCategoryGap:$,bandSize:it!==re?it:re,sizeList:fe[he],maxBarSize:nt}),it!==re&&(Ie=Ie.map(function(He){return ze(ze({},He),{},{position:ze(ze({},He.position),{},{offset:He.position.offset-it/2})})}))}var xe=q&&q.type&&q.type.getComposedData;xe&&H.push({props:ze(ze({},xe(ze(ze({},te),{},{displayedData:G,props:N,dataKey:V,item:q,bandSize:re,barPosition:Ie,offset:S,stackedData:Ce,layout:D,dataStartIndex:T,dataEndIndex:O}))),{},Ft(Ft(Ft({key:q.key||"item-".concat(B)},z,te[z]),Q,te[Q]),"animationId",_)),childIndex:wV(q,N.children),item:q})}),H},b=function(N,k){var A=N.props,P=N.dataStartIndex,S=N.dataEndIndex,_=N.updateId;if(!hC({props:A}))return null;var T=A.children,O=A.layout,R=A.stackOffset,D=A.data,j=A.reverseStackOrder,$=HP(O),K=$.numericAxisName,W=$.cateAxisName,z=Ns(T,n),Q=MJ(D,z,"".concat(K,"Id"),"".concat(W,"Id"),R,j),ee=u.reduce(function(Y,V){var J="".concat(V.axisType,"Map");return ze(ze({},Y),{},Ft({},J,uoe(A,ze(ze({},V),{},{graphicalItems:z,stackGroups:V.axisType===K&&Q,dataStartIndex:P,dataEndIndex:S}))))},{}),H=poe(ze(ze({},ee),{},{props:A,graphicalItems:z}),k?.legendBBox);Object.keys(ee).forEach(function(Y){ee[Y]=p(A,ee[Y],H,Y.replace("Map",""),a)});var q=ee["".concat(W,"Map")],B=moe(q),G=y(A,ze(ze({},ee),{},{dataStartIndex:P,dataEndIndex:S,updateId:_,graphicalItems:z,stackGroups:Q,offset:H}));return ze(ze({formattedGraphicalItems:G,graphicalItems:z,offset:H,stackGroups:Q},B),ee)},w=(function(x){function N(k){var A,P,S;return Kse(this,N),S=Qse(this,N,[k]),Ft(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ft(S,"accessibilityManager",new Rse),Ft(S,"handleLegendBBoxUpdate",function(_){if(_){var T=S.state,O=T.dataStartIndex,R=T.dataEndIndex,D=T.updateId;S.setState(ze({legendBBox:_},b({props:S.props,dataStartIndex:O,dataEndIndex:R,updateId:D},ze(ze({},S.state),{},{legendBBox:_}))))}}),Ft(S,"handleReceiveSyncEvent",function(_,T,O){if(S.props.syncId===_){if(O===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),Ft(S,"handleBrushChange",function(_){var T=_.startIndex,O=_.endIndex;if(T!==S.state.dataStartIndex||O!==S.state.dataEndIndex){var R=S.state.updateId;S.setState(function(){return ze({dataStartIndex:T,dataEndIndex:O},b({props:S.props,dataStartIndex:T,dataEndIndex:O,updateId:R},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),Ft(S,"handleMouseEnter",function(_){var T=S.getMouseInfo(_);if(T){var O=ze(ze({},T),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var R=S.props.onMouseEnter;Kt(R)&&R(O,_)}}),Ft(S,"triggeredAfterMouseMove",function(_){var T=S.getMouseInfo(_),O=T?ze(ze({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var R=S.props.onMouseMove;Kt(R)&&R(O,_)}),Ft(S,"handleItemMouseEnter",function(_){S.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Ft(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ft(S,"handleMouseMove",function(_){_.persist(),S.throttleTriggeredAfterMouseMove(_)}),Ft(S,"handleMouseLeave",function(_){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var O=S.props.onMouseLeave;Kt(O)&&O(T,_)}),Ft(S,"handleOuterEvent",function(_){var T=EV(_),O=ws(S.props,"".concat(T));if(T&&Kt(O)){var R,D;/.*touch.*/i.test(T)?D=S.getMouseInfo(_.changedTouches[0]):D=S.getMouseInfo(_),O((R=D)!==null&&R!==void 0?R:{},_)}}),Ft(S,"handleClick",function(_){var T=S.getMouseInfo(_);if(T){var O=ze(ze({},T),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var R=S.props.onClick;Kt(R)&&R(O,_)}}),Ft(S,"handleMouseDown",function(_){var T=S.props.onMouseDown;if(Kt(T)){var O=S.getMouseInfo(_);T(O,_)}}),Ft(S,"handleMouseUp",function(_){var T=S.props.onMouseUp;if(Kt(T)){var O=S.getMouseInfo(_);T(O,_)}}),Ft(S,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Ft(S,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseDown(_.changedTouches[0])}),Ft(S,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseUp(_.changedTouches[0])}),Ft(S,"handleDoubleClick",function(_){var T=S.props.onDoubleClick;if(Kt(T)){var O=S.getMouseInfo(_);T(O,_)}}),Ft(S,"handleContextMenu",function(_){var T=S.props.onContextMenu;if(Kt(T)){var O=S.getMouseInfo(_);T(O,_)}}),Ft(S,"triggerSyncEvent",function(_){S.props.syncId!==void 0&&jE.emit(RE,S.props.syncId,_,S.eventEmitterSymbol)}),Ft(S,"applySyncEvent",function(_){var T=S.props,O=T.layout,R=T.syncMethod,D=S.state.updateId,j=_.dataStartIndex,$=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)S.setState(ze({dataStartIndex:j,dataEndIndex:$},b({props:S.props,dataStartIndex:j,dataEndIndex:$,updateId:D},S.state)));else if(_.activeTooltipIndex!==void 0){var K=_.chartX,W=_.chartY,z=_.activeTooltipIndex,Q=S.state,ee=Q.offset,H=Q.tooltipTicks;if(!ee)return;if(typeof R=="function")z=R(H,_);else if(R==="value"){z=-1;for(var q=0;q<H.length;q++)if(H[q].value===_.activeLabel){z=q;break}}var B=ze(ze({},ee),{},{x:ee.left,y:ee.top}),G=Math.min(K,B.x+B.width),Y=Math.min(W,B.y+B.height),V=H[z]&&H[z].value,J=H1(S.state,S.props.data,z),ue=H[z]?{x:O==="horizontal"?H[z].coordinate:G,y:O==="horizontal"?Y:H[z].coordinate}:O$;S.setState(ze(ze({},_),{},{activeLabel:V,activeCoordinate:ue,activePayload:J,activeTooltipIndex:z}))}else S.setState(_)}),Ft(S,"renderCursor",function(_){var T,O=S.state,R=O.isTooltipActive,D=O.activeCoordinate,j=O.activePayload,$=O.offset,K=O.activeTooltipIndex,W=O.tooltipAxisBandSize,z=S.getTooltipEventType(),Q=(T=_.props.active)!==null&&T!==void 0?T:R,ee=S.props.layout,H=_.key||"_recharts-cursor";return e.createElement(Bse,{key:H,activeCoordinate:D,activePayload:j,activeTooltipIndex:K,chartName:a,element:_,isActive:Q,layout:ee,offset:$,tooltipAxisBandSize:W,tooltipEventType:z})}),Ft(S,"renderPolarAxis",function(_,T,O){var R=ws(_,"type.axisType"),D=ws(S.state,"".concat(R,"Map")),j=_.type.defaultProps,$=j!==void 0?ze(ze({},j),_.props):_.props,K=D&&D[$["".concat(R,"Id")]];return g.cloneElement(_,ze(ze({},K),{},{className:mr(R,K.className),key:_.key||"".concat(T,"-").concat(O),ticks:zo(K,!0)}))}),Ft(S,"renderPolarGrid",function(_){var T=_.props,O=T.radialLines,R=T.polarAngles,D=T.polarRadius,j=S.state,$=j.radiusAxisMap,K=j.angleAxisMap,W=Ei($),z=Ei(K),Q=z.cx,ee=z.cy,H=z.innerRadius,q=z.outerRadius;return g.cloneElement(_,{polarAngles:Array.isArray(R)?R:zo(z,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(D)?D:zo(W,!0).map(function(B){return B.coordinate}),cx:Q,cy:ee,innerRadius:H,outerRadius:q,key:_.key||"polar-grid",radialLines:O})}),Ft(S,"renderLegend",function(){var _=S.state.formattedGraphicalItems,T=S.props,O=T.children,R=T.width,D=T.height,j=S.props.margin||{},$=R-(j.left||0)-(j.right||0),K=CR({children:O,formattedGraphicalItems:_,legendWidth:$,legendContent:m});if(!K)return null;var W=K.item,z=BP(K,qse);return g.cloneElement(W,ze(ze({},z),{},{chartWidth:R,chartHeight:D,margin:j,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ft(S,"renderTooltip",function(){var _,T=S.props,O=T.children,R=T.accessibilityLayer,D=Kn(O,Bs);if(!D)return null;var j=S.state,$=j.isTooltipActive,K=j.activeCoordinate,W=j.activePayload,z=j.activeLabel,Q=j.offset,ee=(_=D.props.active)!==null&&_!==void 0?_:$;return g.cloneElement(D,{viewBox:ze(ze({},Q),{},{x:Q.left,y:Q.top}),active:ee,label:z,payload:ee?W:[],coordinate:K,accessibilityLayer:R})}),Ft(S,"renderBrush",function(_){var T=S.props,O=T.margin,R=T.data,D=S.state,j=D.offset,$=D.dataStartIndex,K=D.dataEndIndex,W=D.updateId;return g.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Jf(S.handleBrushChange,_.props.onChange),data:R,x:dt(_.props.x)?_.props.x:j.left,y:dt(_.props.y)?_.props.y:j.top+j.height+j.brushBottom-(O.bottom||0),width:dt(_.props.width)?_.props.width:j.width,startIndex:$,endIndex:K,updateId:"brush-".concat(W)})}),Ft(S,"renderReferenceElement",function(_,T,O){if(!_)return null;var R=S,D=R.clipPathId,j=S.state,$=j.xAxisMap,K=j.yAxisMap,W=j.offset,z=_.type.defaultProps||{},Q=_.props,ee=Q.xAxisId,H=ee===void 0?z.xAxisId:ee,q=Q.yAxisId,B=q===void 0?z.yAxisId:q;return g.cloneElement(_,{key:_.key||"".concat(T,"-").concat(O),xAxis:$[H],yAxis:K[B],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:D})}),Ft(S,"renderActivePoints",function(_){var T=_.item,O=_.activePoint,R=_.basePoint,D=_.childIndex,j=_.isRange,$=[],K=T.props.key,W=T.item.type.defaultProps!==void 0?ze(ze({},T.item.type.defaultProps),T.item.props):T.item.props,z=W.activeDot,Q=W.dataKey,ee=ze(ze({index:D,dataKey:Q,cx:O.x,cy:O.y,r:4,fill:g2(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},nr(z,!1)),Gp(z));return $.push(N.renderActiveDot(z,ee,"".concat(K,"-activePoint-").concat(D))),R?$.push(N.renderActiveDot(z,ze(ze({},ee),{},{cx:R.x,cy:R.y}),"".concat(K,"-basePoint-").concat(D))):j&&$.push(null),$}),Ft(S,"renderGraphicChild",function(_,T,O){var R=S.filterFormatItem(_,T,O);if(!R)return null;var D=S.getTooltipEventType(),j=S.state,$=j.isTooltipActive,K=j.tooltipAxis,W=j.activeTooltipIndex,z=j.activeLabel,Q=S.props.children,ee=Kn(Q,Bs),H=R.props,q=H.points,B=H.isRange,G=H.baseLine,Y=R.item.type.defaultProps!==void 0?ze(ze({},R.item.type.defaultProps),R.item.props):R.item.props,V=Y.activeDot,J=Y.hide,ue=Y.activeBar,he=Y.activeShape,Oe=!!(!J&&$&&ee&&(V||ue||he)),te={};D!=="axis"&&ee&&ee.props.trigger==="click"?te={onClick:Jf(S.handleItemMouseEnter,_.props.onClick)}:D!=="axis"&&(te={onMouseLeave:Jf(S.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Jf(S.handleItemMouseEnter,_.props.onMouseEnter)});var ie=g.cloneElement(_,ze(ze({},R.props),te));function de(Je){return typeof K.dataKey=="function"?K.dataKey(Je.payload):null}if(Oe)if(W>=0){var Ce,ne;if(K.dataKey&&!K.allowDuplicatedCategory){var re=typeof K.dataKey=="function"?de:"payload.".concat(K.dataKey.toString());Ce=Wp(q,re,z),ne=B&&G&&Wp(G,re,z)}else Ce=q?.[W],ne=B&&G&&G[W];if(he||ue){var Ie=_.props.activeIndex!==void 0?_.props.activeIndex:W;return[g.cloneElement(_,ze(ze(ze({},R.props),te),{},{activeIndex:Ie})),null,null]}if(!Jt(Ce))return[ie].concat(md(S.renderActivePoints({item:R,activePoint:Ce,basePoint:ne,childIndex:W,isRange:B})))}else{var fe,Le=(fe=S.getItemByXY(S.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:ie},at=Le.graphicalItem,nt=at.item,it=nt===void 0?_:nt,xe=at.childIndex,He=ze(ze(ze({},R.props),te),{},{activeIndex:xe});return[g.cloneElement(it,He),null,null]}return B?[ie,null,null]:[ie,null]}),Ft(S,"renderCustomized",function(_,T,O){return g.cloneElement(_,ze(ze({key:"recharts-customized-".concat(O)},S.props),S.state))}),Ft(S,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((A=k.id)!==null&&A!==void 0?A:$m("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Aj(S.triggeredAfterMouseMove,(P=k.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return eoe(N,x),Xse(N,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,S=A.data,_=A.height,T=A.layout,O=Kn(P,Bs);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,j=H1(this.state,S,R,D),$=this.state.tooltipTicks[R].coordinate,K=(this.state.offset.top+_)/2,W=T==="horizontal",z=W?{x:$,y:K}:{y:$,x:K},Q=this.state.formattedGraphicalItems.find(function(H){var q=H.item;return q.type.name==="Scatter"});Q&&(z=ze(ze({},z),Q.props.points[R].tooltipPosition),j=Q.props.points[R].tooltipPayload);var ee={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:D,activePayload:j,activeCoordinate:z};this.setState(ee),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var S,_;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(A){Pw([Kn(A.children,Bs)],[Kn(this.props.children,Bs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Kn(this.props.children,Bs);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return d.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),_=lK(S),T={chartX:Math.round(A.pageX-_.left),chartY:Math.round(A.pageY-_.top)},O=S.width/P.offsetWidth||1,R=this.inRange(T.chartX,T.chartY,O);if(!R)return null;var D=this.state,j=D.xAxisMap,$=D.yAxisMap,K=this.getTooltipEventType(),W=UP(this.state,this.props.data,this.props.layout,R);if(K!=="axis"&&j&&$){var z=Ei(j).scale,Q=Ei($).scale,ee=z&&z.invert?z.invert(T.chartX):null,H=Q&&Q.invert?Q.invert(T.chartY):null;return ze(ze({},T),{},{xValue:ee,yValue:H},W)}return W?ze(ze({},T),W):null}},{key:"inRange",value:function(A,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=A/S,O=P/S;if(_==="horizontal"||_==="vertical"){var R=this.state.offset,D=T>=R.left&&T<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return D?{x:T,y:O}:null}var j=this.state,$=j.angleAxisMap,K=j.radiusAxisMap;if($&&K){var W=Ei($);return o6({x:T,y:O},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),S=Kn(A,Bs),_={};S&&P==="axis"&&(S.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Gp(this.props,this.handleOuterEvent);return ze(ze({},T),_)}},{key:"addListener",value:function(){jE.on(RE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jE.removeListener(RE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,S){for(var _=this.state.formattedGraphicalItems,T=0,O=_.length;T<O;T++){var R=_[T];if(R.item===A||R.props.key===A.key||P===Fo(R.item.type)&&S===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,S=P.left,_=P.top,T=P.height,O=P.width;return e.createElement("defs",null,e.createElement("clipPath",{id:A},e.createElement("rect",{x:S,y:_,height:T,width:O})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,S){var _=FP(S,2),T=_[0],O=_[1];return ze(ze({},P),{},Ft({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,S){var _=FP(S,2),T=_[0],O=_[1];return ze(ze({},P),{},Ft({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,S=P.formattedGraphicalItems,_=P.activeItem;if(S&&S.length)for(var T=0,O=S.length;T<O;T++){var R=S[T],D=R.props,j=R.item,$=j.type.defaultProps!==void 0?ze(ze({},j.type.defaultProps),j.props):j.props,K=Fo(j.type);if(K==="Bar"){var W=(D.data||[]).find(function(H){return Pte(A,H)});if(W)return{graphicalItem:R,payload:W}}else if(K==="RadialBar"){var z=(D.data||[]).find(function(H){return o6(A,H)});if(z)return{graphicalItem:R,payload:z}}else if(Ag(R,_)||_g(R,_)||hm(R,_)){var Q=xre({graphicalItem:R,activeTooltipItem:_,itemData:$.data}),ee=$.activeIndex===void 0?Q:$.activeIndex;return{graphicalItem:ze(ze({},R),{},{childIndex:ee}),payload:hm(R,_)?$.data[Q]:R.props.data[Q]}}}return null}},{key:"render",value:function(){var A=this;if(!hC(this))return null;var P=this.props,S=P.children,_=P.className,T=P.width,O=P.height,R=P.style,D=P.compact,j=P.title,$=P.desc,K=BP(P,Use),W=nr(K,!1);if(D)return e.createElement(EP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},e.createElement(Ow,Oc({},W,{width:T,height:O,title:j,desc:$}),this.renderClipPath(),bC(S,this.renderMap)));if(this.props.accessibilityLayer){var z,Q;W.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,W.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",W.onKeyDown=function(H){A.accessibilityManager.keyboardEvent(H)},W.onFocus=function(){A.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return e.createElement(EP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},e.createElement("div",Oc({className:mr("recharts-wrapper",_),style:ze({position:"relative",cursor:"default",width:T,height:O},R)},ee,{ref:function(q){A.container=q}}),e.createElement(Ow,Oc({},W,{width:T,height:O,title:j,desc:$,style:ooe}),this.renderClipPath(),bC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(g.Component);Ft(w,"displayName",a),Ft(w,"defaultProps",ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ft(w,"getDerivedStateFromProps",function(x,N){var k=x.dataKey,A=x.data,P=x.children,S=x.width,_=x.height,T=x.layout,O=x.stackOffset,R=x.margin,D=N.dataStartIndex,j=N.dataEndIndex;if(N.updateId===void 0){var $=VP(x);return ze(ze(ze({},$),{},{updateId:0},b(ze(ze({props:x},$),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:A,prevWidth:S,prevHeight:_,prevLayout:T,prevStackOffset:O,prevMargin:R,prevChildren:P})}if(k!==N.prevDataKey||A!==N.prevData||S!==N.prevWidth||_!==N.prevHeight||T!==N.prevLayout||O!==N.prevStackOffset||!Rc(R,N.prevMargin)){var K=VP(x),W={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},z=ze(ze({},UP(N,A,T)),{},{updateId:N.updateId+1}),Q=ze(ze(ze({},K),W),z);return ze(ze(ze({},Q),b(ze({props:x},Q),N)),{},{prevDataKey:k,prevData:A,prevWidth:S,prevHeight:_,prevLayout:T,prevStackOffset:O,prevMargin:R,prevChildren:P})}if(!Pw(P,N.prevChildren)){var ee,H,q,B,G=Kn(P,Zc),Y=G&&(ee=(H=G.props)===null||H===void 0?void 0:H.startIndex)!==null&&ee!==void 0?ee:D,V=G&&(q=(B=G.props)===null||B===void 0?void 0:B.endIndex)!==null&&q!==void 0?q:j,J=Y!==D||V!==j,ue=!Jt(A),he=ue&&!J?N.updateId:N.updateId+1;return ze(ze({updateId:he},b(ze(ze({props:x},N),{},{updateId:he,dataStartIndex:Y,dataEndIndex:V}),N)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:V})}return null}),Ft(w,"renderActiveDot",function(x,N,k){var A;return g.isValidElement(x)?A=g.cloneElement(x,N):Kt(x)?A=x(N):A=e.createElement(y2,N),e.createElement(pa,{className:"recharts-active-dot",key:k},A)});var E=g.forwardRef(function(N,k){return e.createElement(w,Oc({},N,{ref:k}))});return E.displayName=w.displayName,E},hoe=j$({chartName:"LineChart",GraphicalChild:od,axisComponents:[{axisType:"xAxis",AxisComp:cd},{axisType:"yAxis",AxisComp:_l}],formatAxisMap:JR}),yoe=j$({chartName:"BarChart",GraphicalChild:Gl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cd},{axisType:"yAxis",AxisComp:_l}],formatAxisMap:JR});const or=t=>Number(t||0).toLocaleString("fr-FR"),wn=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,fu=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",LE=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",np=(t,r)=>{if(!r||!t)return"";const a=Number(t)/Number(r)*100,n=a>=1?a.toFixed(1):a.toFixed(2);return`${Number(n).toLocaleString("fr-FR")} %`},boe=t=>{if(!t)return"";const[r,a]=t.split("-").map(Number);return new Date(r,(a||1)-1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})};function Mo({label:t,value:r,helper:a,icon:n}){return e.createElement("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 px-5 py-4 shadow-sm transition-all duration-300 hover:shadow-md hover:border-indigo-200/60"},e.createElement("div",{className:"flex items-start justify-between"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2"},t),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mb-1"},r),a?e.createElement("p",{className:"text-xs text-gray-500 mt-1"},a):null),n&&e.createElement("div",{className:"ml-3 flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 text-indigo-600 transition-transform duration-300 group-hover:scale-110"},e.createElement(n,{size:20,strokeWidth:2}))),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 to-purple-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:to-purple-500/5"}))}const xoe={pending:"En attente",approved:"Publie",rejected:"Rejete",disabled:"Dsactive"},IE={waiting:"En attente",verified:"Valid",rejected:"Rejet"},DE={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},WP=(t,r=!1)=>{const a=r?[t?.updatedAt,t?.createdAt,t?.product?.updatedAt,t?.product?.createdAt]:[t?.createdAt,t?.updatedAt,t?.product?.createdAt,t?.product?.updatedAt];for(const n of a){if(!n)continue;const s=Date.parse(n);if(!Number.isNaN(s))return s}return 0},Ec=10,wc=10;function ln({title:t,value:r,subtitle:a,highlight:n,icon:s,trend:o}){const i=n?"from-indigo-500 to-purple-600":"from-gray-400 to-gray-500";return e.createElement("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-300 ${n?"border-indigo-200/60 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 shadow-md hover:shadow-lg":"border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 shadow-sm hover:shadow-md hover:border-indigo-200/40"}`},e.createElement("div",{className:"p-5"},e.createElement("div",{className:"flex items-start justify-between mb-3"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm font-semibold mb-1 ${n?"text-indigo-700":"text-gray-600"}`},t),e.createElement("p",{className:`text-3xl font-bold mb-1 ${n?"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent":"text-gray-900"}`},r),a&&e.createElement("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1"},o&&e.createElement(Xt,{size:12,className:o>0?"text-green-500":"text-red-500"}),a)),s&&e.createElement("div",{className:`ml-3 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${i} text-white shadow-sm transition-transform duration-300 group-hover:scale-110 group-hover:shadow-md`},e.createElement(s,{size:22,strokeWidth:2.5})))),n&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 via-purple-500/0 to-pink-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:via-purple-500/5 group-hover:to-pink-500/5"}))}function voe(){const[t,r]=g.useState([]),[a,n]=g.useState("waiting"),[s,o]=g.useState(1),[i,d]=g.useState(""),[u,m]=g.useState(""),[p,f]=g.useState(null),[y,b]=g.useState(!1),[w,E]=g.useState(""),[x,N]=g.useState(null),[k,A]=g.useState(!1),[P,S]=g.useState(30),[_,T]=g.useState(null),[O,R]=g.useState(!1),[D,j]=g.useState(null),[$,K]=g.useState(!1),[W,z]=g.useState(null),[Q,ee]=g.useState(!1),[H,q]=g.useState(null),[B,G]=g.useState([]),[Y,V]=g.useState(!1),[J,ue]=g.useState(""),[he,Oe]=g.useState(""),[te,ie]=g.useState(""),[de,Ce]=g.useState("person"),[ne,re]=g.useState([]),[Ie,fe]=g.useState(1),[Le,at]=g.useState(!1),[nt,it]=g.useState(""),[xe,He]=g.useState(""),[Je,xt]=g.useState(""),[ht,mt]=g.useState(""),[pt,bt]=g.useState(null),[Pt,Ge]=g.useState([]),[ft,We]=g.useState(!1),[Ye,be]=g.useState(""),[ut,et]=g.useState("pending"),[Z,Ee]=g.useState(""),[le,Ne]=g.useState(""),[tt,lt]=g.useState(""),[gt,F]=g.useState(""),[we,ye]=g.useState(""),[ke,L]=g.useState(""),[me,Se]=g.useState(()=>typeof window>"u"?!0:window.innerWidth<1024),[Ae,Fe]=g.useState("overview"),ct=ts(),[Qe,It]=g.useState(!1),[Mt,wt]=g.useState([]),[Br,Or]=g.useState(!1),[na,Hr]=g.useState(""),[tr,lr]=g.useState(""),{showToast:sr}=Qo(),{user:Lr}=g.useContext(fr),Ir=Lr?.role==="admin",ea=Lr?.role==="manager",Oa=Ir||ea,Er=Ir,Dr=Ir,Cr=Ir||ea,Vt=Ir||ea,Fa=ea?"Espace gestionnaire":"Tableau de bord administrateur",Ya=ea?"Validez les preuves de paiement et contrlez la mise en ligne des annonces.":"Visualisez les indicateurs cls de la plateforme et grez la validation des paiements.",Ba=g.useMemo(()=>{const I=[];return Er&&I.push({key:"overview",label:"Statistiques"}),Dr&&I.push({key:"users",label:"Utilisateurs"}),Cr&&I.push({key:"payments",label:"Paiements"}),Vt&&I.push({key:"complaints",label:"Rclamations"}),I},[Er,Dr,Cr,Vt]),da={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},yn={pending:"bg-orange-100 text-orange-800",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},As=[{value:"",label:"Toutes"},{value:"pending",label:"En attente"},{value:"in_review",label:"En cours"},{value:"resolved",label:"Rsolues"}],Zt=g.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),oe=g.useCallback(I=>{if(!I)return I;const Ve=I.replace(/\\/g,"/");return/^https?:\/\//i.test(Ve)?Ve:`${Zt}/${Ve.replace(/^\/+/,"")}`},[Zt]),je=g.useCallback(async()=>{b(!0);try{const{data:I}=await se.get("/admin/stats");f(I),E("")}catch(I){E(I.response?.data?.message||I.message||"Erreur lors du chargement des statistiques.")}finally{b(!1)}},[]),st=g.useCallback(async()=>{A(!0);try{const{data:I}=await se.get(`/admin/analytics/sales-trends?days=${P}`);N(I)}catch(I){console.error("Error loading sales trends:",I)}finally{A(!1)}},[P]),Rt=g.useCallback(async()=>{R(!0);try{const{data:I}=await se.get("/admin/analytics/order-heatmap");T(I)}catch(I){console.error("Error loading order heatmap:",I)}finally{R(!1)}},[]),pr=g.useCallback(async()=>{K(!0);try{const{data:I}=await se.get("/admin/analytics/conversion");j(I)}catch(I){console.error("Error loading conversion metrics:",I)}finally{K(!1)}},[]),rs=g.useCallback(async()=>{ee(!0);try{const{data:I}=await se.get("/admin/analytics/cohorts");z(I)}catch(I){console.error("Error loading cohort analysis:",I)}finally{ee(!1)}},[]),Ma=g.useCallback(async I=>{V(!0),ue("");try{const{data:Ve}=await se.get(`/admin/analytics/orders-by-hour?hour=${I}`);G(Ve.orders||[]),q(I)}catch(Ve){ue(Ve.response?.data?.message||"Erreur lors du chargement des commandes."),G([])}finally{V(!1)}},[]),_s=g.useCallback(async()=>{Or(!0),Hr("");try{const[I,Ve,kt]=await Promise.all([se.get("/orders/admin",{params:{status:"pending",limit:30}}),se.get("/orders/admin",{params:{status:"confirmed",limit:30}}),se.get("/orders/admin",{params:{status:"delivering",limit:30}})]),Ht=Array.isArray(I.data)?I.data:I.data?.items||[],Bt=Array.isArray(Ve.data)?Ve.data:Ve.data?.items||[],X=Array.isArray(kt.data)?kt.data:kt.data?.items||[],ve=[...Ht,...Bt,...X].sort((Pe,De)=>new Date(De.createdAt).getTime()-new Date(Pe.createdAt).getTime());wt(ve)}catch(I){Hr(I.response?.data?.message||"Impossible de charger les commandes en attente de relance."),wt([])}finally{Or(!1)}},[]),as=g.useCallback(async I=>{if(I){lr(I);try{const{data:Ve}=await se.post(`/orders/admin/${I}/reminder`);sr(Ve?.message||"Rappel envoy aux vendeurs.",{variant:"success"})}catch(Ve){const kt=Ve.response?.data?.message||"Impossible d'envoyer le rappel.";sr(kt,{variant:"error"})}finally{lr("")}}},[sr]),Na=g.useCallback(async()=>{const I=new URLSearchParams;["waiting","verified","rejected"].includes(a)&&I.append("status",a),u&&I.append("search",u);let Ve="/payments/admin";const kt=I.toString();kt&&(Ve+=`?${kt}`);const{data:Ht}=await se.get(Ve);let Bt=Array.isArray(Ht)?Ht.map(Pe=>({...Pe,product:Pe.product?{...Pe.product,images:Array.isArray(Pe.product.images)?Pe.product.images.map(oe):void 0}:Pe.product})):[];const X=Bt.filter(Pe=>Pe.product?._id&&(!Pe.product.images||Pe.product.images.length===0));if(X.length){const Pe=await Promise.all(X.map(async Ue=>{try{const zt=await se.get(`/products/${Ue.product._id}`);return{id:Ue.product._id,images:zt.data?.images||[]}}catch{return{id:Ue.product._id,images:[]}}})),De=new Map(Pe.map(({id:Ue,images:zt})=>[Ue,zt.map(oe)]));Bt=Bt.map(Ue=>{const zt=Ue.product?._id;if(!zt)return Ue;const Ar=De.get(zt);return Ar?{...Ue,product:{...Ue.product,images:Ar}}:Ue})}a==="disabled_products"&&(Bt=Bt.filter(Pe=>Pe.product?.status==="disabled"));const ve=a==="verified";Bt=Bt.slice().sort((Pe,De)=>WP(De,ve)-WP(Pe,ve)),r(Bt),o(Pe=>{const De=Math.max(1,Math.ceil(Bt.length/Ec));return Math.min(Pe,De)})},[a,u,oe]),ns=g.useCallback(async()=>{at(!0),it("");try{const I=new URLSearchParams;te&&I.append("search",te),de&&de!=="all"&&I.append("accountType",de);const Ve=I.toString(),{data:kt}=await se.get(Ve?`/admin/users?${Ve}`:"/admin/users");re(Array.isArray(kt)?kt:[])}catch(I){it(I.response?.data?.message||I.message||"Erreur lors du chargement des utilisateurs.")}finally{at(!1)}},[de,te]),Xa=g.useCallback(async()=>{if(!Vt){Ge([]);return}We(!0),be("");try{const I={};ut&&(I.status=ut);const{data:Ve}=await se.get("/admin/complaints",{params:I}),kt=Array.isArray(Ve)?Ve.map(Ht=>({...Ht,attachments:(Array.isArray(Ht.attachments)?Ht.attachments:[]).map(Bt=>({...Bt,url:oe(Bt.path||Bt.url||"")}))})):[];Ge(kt)}catch(I){be(I.response?.data?.message||I.message||"Erreur lors du chargement des rclamations.")}finally{We(!1)}},[Vt,ut,oe]);g.useEffect(()=>{Er&&(je(),st(),Rt(),pr(),rs())},[je,st,Rt,pr,rs,Er]),g.useEffect(()=>{Cr&&Na()},[Na,Cr]),g.useEffect(()=>{Cr&&o(1)},[a,u,Cr]),g.useEffect(()=>{Cr||(d(""),m(""))},[Cr]),g.useEffect(()=>{const I=setTimeout(()=>{m(i.trim())},400);return()=>clearTimeout(I)},[i]),g.useEffect(()=>{if(!Dr){re([]),at(!1);return}ns()},[ns,Dr]),g.useEffect(()=>{const I=setTimeout(()=>{ie(he.trim())},400);return()=>clearTimeout(I)},[he]),g.useEffect(()=>{Dr&&fe(1)},[de,te,Dr]),g.useEffect(()=>{Dr&&fe(I=>{const Ve=Math.max(1,Math.ceil(ne.length/wc));return Math.min(I,Ve)})},[ne.length,Dr]),g.useEffect(()=>{Vt||(Ge([]),We(!1),be(""))},[Vt]),g.useEffect(()=>{const I=()=>{typeof window>"u"||Se(window.innerWidth<1024)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),g.useEffect(()=>{Ba.length&&Fe(I=>Ba.some(kt=>kt.key===I)?I:Ba[0].key)},[Ba]),g.useEffect(()=>{Vt&&Xa()},[Xa,Vt]);const ss=g.useCallback(async(I,Ve)=>{try{F(""),ye(""),Ve==="verify"?await se.put(`/payments/admin/${I}/verify`):await se.put(`/payments/admin/${I}/reject`),await Na(),Ir&&await je(),F(Ve==="verify"?"Paiement valid avec succs.":"Paiement rejet avec succs.")}catch(kt){ye(kt.response?.data?.message||kt.message||"Action impossible.")}},[Ir,Na,je]),os=g.useCallback(async I=>{if(!I){ye("Annonce introuvable.");return}try{F(""),ye(""),await se.patch(`/products/${I}/disable`),await Na(),Ir&&await je(),F("Annonce dsactive avec succs.")}catch(Ve){ye(Ve.response?.data?.message||Ve.message||"Impossible de dsactiver cette annonce.")}},[Ir,Na,je]),is=g.useCallback(async I=>{if(!I){ye("Annonce introuvable.");return}try{F(""),ye(""),await se.patch(`/products/${I}/enable`),await Na(),Ir&&await je(),F("Annonce ractive avec succs.")}catch(Ve){ye(Ve.response?.data?.message||Ve.message||"Impossible de ractiver cette annonce.")}},[Ir,Na,je]),Ps=g.useCallback(async(I,Ve)=>{if(!(!I||!Ve)){Ne(""),Ee(""),lt(I);try{await se.patch(`/admin/complaints/${I}/status`,{status:Ve}),Ee("Statut de la rclamation mis  jour."),sr("Statut de la rclamation mis  jour.",{variant:"success"}),await Xa()}catch(kt){const Ht=kt.response?.data?.message||kt.message||"Impossible de mettre  jour le statut.";Ne(Ht),sr(Ht,{variant:"error"})}finally{lt("")}}},[Xa,sr]),_e=g.useCallback(async I=>{if(!I){ye("Rfrence de transaction introuvable.");return}try{if(!navigator.clipboard)throw new Error("Clipboard API non disponible");await navigator.clipboard.writeText(I),F("Rfrence copie dans le presse-papiers."),ye("")}catch(Ve){ye("Impossible de copier la rfrence de transaction."),F(""),console.error(Ve)}},[]),Be=g.useCallback(async(I,Ve,kt={})=>{mt(I),it(""),He("");try{const{data:Ht}=await se.patch(`/admin/users/${I}/account-type`,{accountType:Ve,...kt});re(Bt=>!Array.isArray(Bt)||!Bt.length?Bt:Ve==="shop"&&de==="person"?Bt.filter(X=>X.id!==Ht.id):Ve==="person"&&de==="shop"?Bt.filter(X=>X.id!==Ht.id):Bt.map(X=>X.id===Ht.id?Ht:X)),bt(null),He(Ve==="shop"?"Le compte a t converti en boutique.":"Le compte a t converti en particulier."),await je()}catch(Ht){it(Ht.response?.data?.message||Ht.message||"Impossible de mettre  jour le compte utilisateur.")}finally{mt("")}},[je,de]),Ke=g.useCallback(async(I,Ve)=>{xt(I),it(""),He("");try{const{data:kt}=await se.patch(`/admin/users/${I}/shop-verification`,{verified:Ve});re(Ht=>Ht.map(Bt=>Bt.id===kt.id?kt:Bt)),He(Ve?"La boutique est dsormais vrifie.":"Le badge a t retir.")}catch(kt){it(kt.response?.data?.message||kt.message||"Impossible de mettre  jour ltat de vrification.")}finally{xt("")}},[]),cr=g.useCallback(async(I,Ve)=>{L(I),it(""),He("");try{const{data:kt}=await se.patch(`/admin/users/${I}/role`,{role:Ve});re(Ht=>Ht.map(Bt=>Bt.id===kt.id?kt:Bt)),He(Ve==="manager"?"Utilisateur promu gestionnaire de ventes.":"Le rle gestionnaire a t retir."),Er&&await je()}catch(kt){it(kt.response?.data?.message||kt.message||"Impossible de mettre  jour le rle utilisateur.")}finally{L("")}},[Er,je]),qr=g.useCallback(()=>{Er&&je(),Cr&&Na(),Dr&&ns(),Vt&&Xa()},[je,Na,ns,Xa,Cr,Dr,Er,Vt,Oa]);g.useEffect(()=>{if(!gt&&!we)return;const I=setTimeout(()=>{F(""),ye("")},4e3);return()=>clearTimeout(I)},[gt,we]),g.useEffect(()=>{if(!Z&&!le)return;const I=setTimeout(()=>{Ee(""),Ne("")},4e3);return()=>clearTimeout(I)},[Z,le]),g.useEffect(()=>{Qe&&_s()},[Qe,_s]);const ha=p?.users?.total||0,Wr=p?.products?.total||0,bn=p?.orders||{},Zs=bn.byStatus||{},Eo=Array.isArray(p?.demographics?.cities)?p.demographics.cities:[],xn=Array.isArray(p?.demographics?.genders)?p.demographics.genders:[],An=Array.isArray(p?.demographics?.productCities)?p.demographics.productCities:[],Qa=Array.isArray(p?.demographics?.productGenders)?p.demographics.productGenders:[],_n=Math.max(1,Math.ceil(ne.length/wc)),Ja=g.useMemo(()=>{const I=(Ie-1)*wc;return ne.slice(I,I+wc)},[ne,Ie]),Ts=ne.length?(Ie-1)*wc+1:0,Bn=ne.length?Math.min(Ie*wc,ne.length):0,ti=[{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"},{value:"all",label:"Tous"}],qn=Math.max(1,Math.ceil(t.length/Ec)),eo=g.useMemo(()=>{const I=(s-1)*Ec;return t.slice(I,I+Ec)},[t,s]),Vi=t.length?(s-1)*Ec+1:0,Hi=t.length?Math.min(s*Ec,t.length):0,{overdueReminderOrders:Os,regularReminderOrders:to}=g.useMemo(()=>{if(!Mt.length)return{overdueReminderOrders:[],regularReminderOrders:[]};const I=Date.now(),Ve=2880*60*1e3,kt=[],Ht=[];return Mt.forEach(Bt=>{if(Bt?.status==="delivered")return;const X=Bt?.createdAt?new Date(Bt.createdAt).getTime():0;X&&I-X>=Ve?kt.push(Bt):Ht.push(Bt)}),{overdueReminderOrders:kt,regularReminderOrders:Ht}},[Mt]),ri=I=>{const Ve=Array.isArray(I.items)?I.items:[],kt=I.status==="pending"?"En attente":I.status==="confirmed"?"Confirme":I.status==="delivering"?"En cours de livraison":"Livre",Ht=new Map;Ve.forEach(X=>{const ve=X.snapshot?.shopId||X.product?.user?._id||X.product?.user||"",Pe=X.snapshot?.shopName||X.product?.user?.shopName||X.product?.user?.name||"Boutique",De=X.product?.user?.phone||"",Ue=ve?String(ve):Pe;Ht.has(Ue)||Ht.set(Ue,{name:Pe,phone:De})});const Bt=Array.from(Ht.values());return e.createElement("div",{key:I._id,className:"rounded-2xl border border-gray-100 p-4 flex flex-col gap-3"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Commande #",I._id.slice(-6)),e.createElement("p",{className:"text-xs text-gray-500"},I.customer?.name||"Client","  ",I.deliveryCity)),e.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-700"},kt)),Bt.length>0&&e.createElement("div",{className:"text-xs text-gray-600 space-y-1"},Bt.map(X=>e.createElement("p",{key:`${I._id}-${X.name}`},"Vendeur: ",X.name,X.phone?`  ${X.phone}`:""))),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>as(I._id),disabled:tr===I._id,className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700 hover:bg-amber-100 disabled:opacity-50"},"Rappel"),e.createElement(pe,{to:"/admin/orders",className:"text-xs font-semibold text-indigo-600 hover:underline"},"Voir dans commandes")))},Za=I=>!me||Ae===I,ro=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},e.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},e.createElement(Ip,{size:24,className:"text-white",strokeWidth:2.5})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},Fa),e.createElement("p",{className:"text-sm text-gray-600 mt-1"},Ya)))),e.createElement("div",{className:"flex flex-wrap gap-3"},e.createElement("button",{type:"button",onClick:qr,className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},e.createElement($i,{size:16,className:"transition-transform duration-300 hover:rotate-180"}),"Actualiser"),e.createElement(pe,{to:"/admin/settings",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},e.createElement(Ip,{size:16}),"App Settings"),e.createElement(pe,{to:"/admin/products",className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-2.5 text-sm font-semibold text-white shadow-lg transition-all duration-200 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},e.createElement(Qn,{size:16}),"Produits & statistiques"))),me&&Ba.length>1&&e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},Ba.map(I=>e.createElement("button",{key:I.key,type:"button",onClick:()=>Fe(I.key),className:`flex-shrink-0 rounded-xl px-5 py-2.5 text-sm font-semibold transition-all duration-200 ${Ae===I.key?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg scale-105":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/50"}`},I.label))),Er&&Za("overview")&&e.createElement(e.Fragment,null,e.createElement("section",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(JO,{size:20,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Vue d'ensemble"),p?.generatedAt&&e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Dernire mise  jour: ",LE(p.generatedAt))))),w?e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},e.createElement(xr,{size:20,className:"text-red-600 flex-shrink-0"}),e.createElement("p",{className:"text-sm font-medium text-red-800"},w)):null,y&&!p?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"flex flex-col items-center gap-3"},e.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des statistiques"))):e.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},e.createElement(ln,{title:"Utilisateurs inscrits",value:or(p?.users?.total),subtitle:`${or(p?.users?.newLast30Days)} nouveaux sur 30 jours`,icon:Ia,trend:p?.users?.newLast30Days>0?1:-1}),e.createElement(ln,{title:"Boutiques actives",value:or(p?.users?.shops),subtitle:`${or(p?.users?.admins)} administrateurs`,icon:Sr}),e.createElement(ln,{title:"Annonces actives",value:or(p?.products?.total),subtitle:`${or(p?.products?.approved)} publies`,icon:Ot}),e.createElement(ln,{title:"Annonces en attente",value:or(p?.products?.pending),subtitle:`${or(p?.products?.rejected)} rejetes`,icon:Ut}),e.createElement(ln,{title:"Paiements en attente",value:or(p?.payments?.waiting),subtitle:`${or(p?.payments?.verified)} valids`,icon:xa}),e.createElement(ln,{title:"Commentaires",value:or(p?.engagement?.comments),subtitle:`${or(p?.engagement?.ratings)} valuations`,icon:fa}),e.createElement(ln,{title:"CA total",value:wn(p?.payments?.revenue),subtitle:`${wn(p?.payments?.revenueLast30Days)} sur 30 jours`,highlight:!0,icon:Xt,trend:p?.payments?.revenueLast30Days>0?1:-1}),e.createElement(ln,{title:"Favoris enregistrs",value:or(p?.engagement?.favorites),subtitle:"Total cumul",icon:Ga}))),e.createElement("section",{className:"space-y-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100"},e.createElement(Ga,{size:20,className:"text-emerald-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Commandes globales"),e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Suivi des commandes et livraisons"))),e.createElement("button",{type:"button",onClick:()=>It(!0),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300"},e.createElement(Ut,{size:16}),"Relances commandes")),w?e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},e.createElement(xr,{size:20,className:"text-red-600 flex-shrink-0"}),e.createElement("p",{className:"text-sm font-medium text-red-800"},w)):null,y&&!p?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"flex flex-col items-center gap-3"},e.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des statistiques"))):e.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},e.createElement(ln,{title:"Commandes totales",value:or(bn.total||0),subtitle:"Toutes les commandes",icon:gn}),e.createElement(ln,{title:"En attente",value:or(Zs.pending?.count||0),subtitle:" valider",icon:Ut}),e.createElement(ln,{title:"Confirmes",value:or(Zs.confirmed?.count||0),subtitle:" prparer",icon:Qt}),e.createElement(ln,{title:"En cours de livraison",value:or(Zs.delivering?.count||0),subtitle:"Expdies",icon:Ot}),e.createElement(ln,{title:"Livres",value:or(Zs.delivered?.count||0),subtitle:"Termines",icon:Qt}),e.createElement(ln,{title:"Montant total",value:wn(bn.totalAmount||0),subtitle:"Volume commandes",highlight:!0,icon:Xt}),e.createElement(ln,{title:"Acomptes encaisss",value:wn(bn.paidAmount||0),subtitle:"Paiements reus",icon:xa}),e.createElement(ln,{title:"Reste  payer",value:wn(bn.remainingAmount||0),subtitle:"Soldes ouverts",icon:xr}))),Qe&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>It(!1)}),e.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:I=>I.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Relances commandes"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commandes en attente, confirmes & en cours de livraison")),e.createElement("button",{type:"button",onClick:()=>It(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),Br?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):na?e.createElement("p",{className:"text-sm text-red-600"},na):Mt.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande  relancer."):e.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-auto pr-1"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-rose-600"},"Commandes +48h non livres"),e.createElement("span",{className:"text-xs font-semibold text-rose-600"},Os.length)),Os.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande en retard pour le moment."):Os.map(ri)),e.createElement("div",{className:"space-y-3"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Autres commandes  relancer"),to.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucune autre commande  relancer."):to.map(ri))))),Er&&e.createElement("section",{className:"space-y-6"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(Qn,{size:20,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Analytics en Temps Rel"),e.createElement("p",{className:"text-xs text-gray-600 mt-0.5"},"Graphiques interactifs et analyses dtailles de l'activit"))),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h4",{className:"text-base font-semibold text-gray-900"},"Tendances de Vente"),e.createElement("div",{className:"flex gap-2"},[7,30,90].map(I=>e.createElement("button",{key:I,type:"button",onClick:()=>{S(I),st()},className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all ${P===I?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},I,"j")))),k?e.createElement("div",{className:"h-64 flex items-center justify-center"},e.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):x?.trends?.length?e.createElement(FA,{width:"100%",height:300},e.createElement(hoe,{data:x.trends},e.createElement(R1,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.createElement(cd,{dataKey:"label",stroke:"#6b7280",fontSize:12}),e.createElement(_l,{yAxisId:"left",stroke:"#6b7280",fontSize:12}),e.createElement(_l,{yAxisId:"right",orientation:"right",stroke:"#10b981",fontSize:12}),e.createElement(Bs,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(I,Ve)=>Ve==="Revenus (FCFA)"?`${Number(I).toLocaleString("fr-FR")} FCFA`:I}),e.createElement(Sl,null),e.createElement(od,{yAxisId:"left",type:"monotone",dataKey:"orders",stroke:"#4f46e5",strokeWidth:2,name:"Commandes",dot:{r:4}}),e.createElement(od,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenus (FCFA)",dot:{r:4}}))):e.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune donne disponible")),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Heatmap des Heures de Pointe"),O?e.createElement("div",{className:"h-64 flex items-center justify-center"},e.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):_?.heatmap?.length?e.createElement(FA,{width:"100%",height:300},e.createElement(yoe,{data:_.heatmap},e.createElement(R1,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.createElement(cd,{dataKey:"label",stroke:"#6b7280",fontSize:12}),e.createElement(_l,{stroke:"#6b7280",fontSize:12}),e.createElement(Bs,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(I,Ve)=>Ve==="Commandes"?[`${I} commandes`,Ve]:[I,Ve]}),e.createElement(Gl,{dataKey:"count",name:"Commandes",fill:"#4f46e5",radius:[8,8,0,0],onClick:I=>{I&&typeof I.hour=="number"&&Ma(I.hour)},style:{cursor:"pointer"}},_.heatmap.map((I,Ve)=>{const kt=I.count/Math.max(..._.heatmap.map(Bt=>Bt.count)),Ht=H===I.hour;return e.createElement(VN,{key:`cell-${Ve}`,fill:Ht?"rgba(79, 70, 229, 1)":`rgba(79, 70, 229, ${Math.max(.3,kt)})`,stroke:Ht?"#1e1b4b":"none",strokeWidth:Ht?2:0})})))):e.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune donne disponible")),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Mtriques de Conversion"),$?e.createElement("div",{className:"h-48 flex items-center justify-center"},e.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):D?e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-3 bg-indigo-50 rounded-lg"},e.createElement("span",{className:"text-sm text-gray-700"},"Visiteurs uniques"),e.createElement("span",{className:"text-lg font-bold text-indigo-600"},D.metrics.uniqueVisitors.toLocaleString())),e.createElement("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg"},e.createElement("span",{className:"text-sm text-gray-700"},"Clients uniques"),e.createElement("span",{className:"text-lg font-bold text-green-600"},D.metrics.uniqueCustomers.toLocaleString())),e.createElement("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg"},e.createElement("span",{className:"text-sm text-gray-700"},"Taux de conversion"),e.createElement("span",{className:"text-lg font-bold text-purple-600"},D.metrics.visitorToOrderRate,"%")),e.createElement("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg"},e.createElement("span",{className:"text-sm text-gray-700"},"Vues totales"),e.createElement("span",{className:"text-lg font-bold text-amber-600"},D.metrics.totalViews.toLocaleString()))):e.createElement("p",{className:"text-sm text-gray-500 text-center py-8"},"Aucune donne disponible")),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Analyse de Cohort"),Q?e.createElement("div",{className:"h-48 flex items-center justify-center"},e.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):W?.cohorts?.length?e.createElement("div",{className:"space-y-3 max-h-64 overflow-y-auto"},W.cohorts.slice(-6).map(I=>e.createElement("div",{key:I.cohort,className:"p-3 bg-gray-50 rounded-lg"},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("span",{className:"text-sm font-semibold text-gray-900"},I.label),e.createElement("span",{className:"text-xs text-gray-500"},I.retentionRate,"% rtention")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},e.createElement("span",null,I.totalUsers," utilisateurs"),e.createElement("span",null,I.activeUsers," actifs"))))):e.createElement("p",{className:"text-sm text-gray-500 text-center py-8"},"Aucune donne disponible")))),H!==null&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>{q(null),G([])}}),e.createElement("div",{className:"relative w-full max-w-4xl max-h-[90vh] rounded-3xl bg-white shadow-xl border border-gray-100 p-6 flex flex-col",onClick:I=>I.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Commandes par heure"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commandes cres  ",String(H).padStart(2,"0"),":00"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Derniers 30 jours  ",B.length," commande",B.length>1?"s":"")),e.createElement("button",{type:"button",onClick:()=>{q(null),G([])},className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300 transition-colors","aria-label":"Fermer"},e.createElement(_t,{size:18}))),e.createElement("div",{className:"flex-1 overflow-y-auto pr-2"},Y?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):J?e.createElement("p",{className:"text-sm text-red-600 text-center py-8"},J):B.length===0?e.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune commande trouve pour cette heure."):e.createElement("div",{className:"space-y-4"},B.map(I=>e.createElement("div",{key:I.id,className:"rounded-xl border border-gray-200 bg-gray-50 p-4 hover:bg-gray-100 transition-colors"},e.createElement("div",{className:"flex items-start justify-between mb-3"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("span",{className:"text-sm font-semibold text-gray-900"},I.customer?.name||"Client inconnu"),e.createElement("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${I.status==="delivered"?"bg-green-100 text-green-800":I.status==="cancelled"?"bg-red-100 text-red-800":I.status==="delivering"?"bg-blue-100 text-blue-800":I.status==="confirmed"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`},I.status==="pending"?"En attente":I.status==="confirmed"?"Confirme":I.status==="delivering"?"En livraison":I.status==="delivered"?"Livre":"Annule")),I.customer?.email&&e.createElement("p",{className:"text-xs text-gray-600"},I.customer.email),I.customer?.phone&&e.createElement("p",{className:"text-xs text-gray-600"},I.customer.phone)),e.createElement("div",{className:"text-right"},e.createElement("p",{className:"text-sm font-bold text-gray-900"},wn(I.totalAmount||0)),e.createElement("p",{className:"text-xs text-gray-500"},LE(I.createdAt)))),I.items?.length>0&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},e.createElement("p",{className:"text-xs font-semibold text-gray-700 mb-2"},"Articles:"),e.createElement("div",{className:"space-y-1"},I.items.slice(0,3).map((Ve,kt)=>e.createElement("div",{key:kt,className:"flex items-center justify-between text-xs"},e.createElement("span",{className:"text-gray-700"},Ve.product?.title||Ve.snapshot?.title||"Produit","  ",Ve.quantity||1),Ve.product?.price&&e.createElement("span",{className:"text-gray-600"},wn(Ve.product.price*(Ve.quantity||1))))),I.items.length>3&&e.createElement("p",{className:"text-xs text-gray-500"},"+",I.items.length-3," autre",I.items.length-3>1?"s":""))),I.deliveryAddress&&e.createElement("div",{className:"mt-2 pt-2 border-t border-gray-200"},e.createElement("p",{className:"text-xs text-gray-600"},e.createElement(yr,{size:12,className:"inline mr-1"}),I.deliveryAddress,I.deliveryCity&&`, ${I.deliveryCity}`)),I.deliveryCode&&e.createElement("div",{className:"mt-2"},e.createElement("span",{className:"text-xs font-semibold text-indigo-600"},"Code: ",I.deliveryCode)))))))),(Eo.length>0||xn.length>0||An.length>0||Qa.length>0)&&e.createElement("section",{className:"grid grid-cols-1 gap-4 2xl:grid-cols-2"},Eo.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par ville"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Principales localisations des membres enregistrs."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,Eo.slice(0,8).map(I=>e.createElement("tr",{key:I.city,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},I.city),e.createElement("td",{className:"p-2 text-gray-900 text-right"},or(I.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},np(I.count,ha)))))))),xn.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par genre"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Dclaration lors de linscription."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,xn.map(I=>e.createElement("tr",{key:I.gender,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},I.gender),e.createElement("td",{className:"p-2 text-gray-900 text-right"},or(I.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},np(I.count,ha)))))))),An.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par ville"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Localisation dclare des vendeurs au moment de la publication."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,An.slice(0,8).map(I=>e.createElement("tr",{key:I.city,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},I.city),e.createElement("td",{className:"p-2 text-gray-900 text-right"},or(I.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},np(I.count,Wr)))))))),Qa.length>0&&e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par genre"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Rpartition selon le genre des vendeurs."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),e.createElement("tbody",null,Qa.map(I=>e.createElement("tr",{key:I.gender,className:"border-b last:border-b-0"},e.createElement("td",{className:"p-2 text-gray-700"},I.gender),e.createElement("td",{className:"p-2 text-gray-900 text-right"},or(I.count)),e.createElement("td",{className:"p-2 text-gray-500 text-right"},np(I.count,Wr))))))))),e.createElement("section",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Tendances des 6 derniers mois"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Nouveaux utilisateurs, annonces cres et revenus vrifis par mois."),e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full text-left text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Mois"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Utilisateurs"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Annonces"),e.createElement("th",{className:"p-2 font-medium text-gray-600"},"Revenus"))),e.createElement("tbody",null,p?.monthly?.length?p.monthly.map(I=>e.createElement("tr",{key:I.month,className:"border-t"},e.createElement("td",{className:"p-2 capitalize"},boe(I.month)),e.createElement("td",{className:"p-2"},or(I.newUsers)),e.createElement("td",{className:"p-2"},or(I.newProducts)),e.createElement("td",{className:"p-2"},wn(I.revenue)))):e.createElement("tr",null,e.createElement("td",{className:"p-2 text-sm text-gray-500",colSpan:4},"Aucune donne disponible pour le moment.")))))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Catgories les plus actives"),e.createElement("p",{className:"text-xs text-gray-500"},"Top 5 des catgories par nombre d'annonces approuves.")),p?.topCategories?.length?e.createElement("ul",{className:"space-y-3"},p.topCategories.map(I=>e.createElement("li",{key:I.category,className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-gray-900"},I.category),e.createElement("p",{className:"text-xs text-gray-500"},"Prix moyen: ",wn(I.avgPrice))),e.createElement("span",{className:"text-sm font-semibold text-indigo-600"},or(I.listings)," annonces")))):e.createElement("p",{className:"text-sm text-gray-500"},"Pas encore assez de donnes."))),e.createElement("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Nouveaux utilisateurs"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 derniers inscrits sur la plateforme."),e.createElement("ul",{className:"space-y-3"},p?.recent?.users?.length?p.recent.users.map(I=>e.createElement("li",{key:I.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},I.name),e.createElement("p",{className:"text-xs text-gray-500"},I.email),e.createElement("p",{className:"text-xs text-gray-400"},I.role==="admin"?"Admin  ":"",I.accountType==="shop"?"Boutique":"Particulier","  ",fu(I.createdAt)))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucun utilisateur rcent."))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Dernires annonces"),e.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 annonces rcemment cres."),e.createElement("ul",{className:"space-y-3"},p?.recent?.products?.length?p.recent.products.map(I=>e.createElement("li",{key:I.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},I.title),e.createElement("p",{className:"text-xs text-gray-500"},wn(I.price),"  ",I.owner||"Auteur inconnu"),e.createElement("p",{className:"text-xs text-gray-400"},xoe[I.status]||I.status,"  ",fu(I.createdAt)))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucune annonce rcente."))),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between gap-2 mb-3"},e.createElement("div",null,e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Paiements rcents"),e.createElement("p",{className:"text-xs text-gray-500"},"5 derniers paiements reus.")),e.createElement(pe,{to:"/admin/payments",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Voir tous ")),e.createElement("ul",{className:"space-y-3"},p?.recent?.payments?.length?p.recent.payments.map(I=>e.createElement("li",{key:I.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-medium text-gray-900"},I.payerName),e.createElement("span",{className:`text-xs font-semibold px-2 py-1 rounded ${DE[I.status]||"bg-gray-100 text-gray-600"}`},IE[I.status]||I.status)),e.createElement("p",{className:"text-xs text-gray-500"},wn(I.amount),"  ",I.operator),e.createElement("p",{className:"text-xs text-gray-400"},I.product||"Produit inconnu","  ",fu(I.createdAt)),I.status==="verified"&&I.validator&&e.createElement("p",{className:"text-xs text-green-600 font-medium"},"Valid par ",I.validator))):e.createElement("li",{className:"text-sm text-gray-500"},"Aucun paiement rcent."))))),Dr&&Za("users")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Gestion des utilisateurs"),e.createElement("p",{className:"text-xs text-gray-500"},"Recherchez un compte particulier et convertissez-le en boutique si ncessaire."),e.createElement(pe,{to:"/admin/users",className:"mt-2 inline-flex items-center text-xs font-medium text-indigo-600 hover:underline"},"Ouvrir la gestion des suspensions ")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mo,{label:"Utilisateurs",value:or(p?.users?.total),helper:`Boutiques : ${or(p?.users?.shops)}`}),e.createElement(Mo,{label:"Utilisateurs bloqus",value:or(p?.users?.blocked||0),helper:" surveiller"}),e.createElement(Mo,{label:"Nouveaux (30j)",value:or(p?.users?.newLast30Days),helper:"Indicateur 30 jours"})),e.createElement("form",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",onSubmit:I=>{I.preventDefault(),bt(null),it(""),He("")}},e.createElement("input",{type:"search",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:w-60",placeholder:"Nom, email ou tlphone",value:he,onChange:I=>Oe(I.target.value)}),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center"},me?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},ti.map(I=>e.createElement("button",{key:I.value,type:"button",onClick:()=>{bt(null),it(""),He(""),Ce(I.value)},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${de===I.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},I.label))):e.createElement("select",{className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:de,onChange:I=>{bt(null),it(""),He(""),Ce(I.target.value)}},ti.map(I=>e.createElement("option",{key:I.value,value:I.value},I.label))),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"submit",className:"rounded bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-60",disabled:Le},"Rechercher"),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{bt(null),it(""),He(""),Oe(""),ie(""),Ce("person")}},"Rinitialiser"))))),nt?e.createElement("p",{className:"text-sm text-red-600"},nt):null,xe?e.createElement("p",{className:"text-sm text-green-600"},xe):null,me?e.createElement("div",{className:"space-y-4"},Le?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):Ja.length?Ja.map(I=>{const Ve=I.role==="manager",kt=I.role==="admin",Ht=Lr?.id===I.id,Bt=Ve?"user":"manager";return e.createElement("div",{key:I.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},I.name),e.createElement("p",{className:"break-all text-xs text-gray-500"},I.email),e.createElement("p",{className:"text-xs text-gray-400"},"Inscrit le ",fu(I.createdAt))),e.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},I.role)),e.createElement("div",{className:"space-y-1 text-xs text-gray-600"},e.createElement("p",null,"Tlphone : ",I.phone||""),I.accountType==="shop"?e.createElement("div",{className:"space-y-1"},e.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-[11px] font-semibold text-green-700"},"Boutique"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(dn,{verified:!!I.shopVerified}),I.shopName?e.createElement("span",{className:"truncate"},I.shopName):null)):e.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},"Particulier")),e.createElement("div",{className:"space-y-3"},I.accountType==="shop"?e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("button",{type:"button",className:"w-full rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>Be(I.id,"person"),disabled:ht===I.id},"Convertir en particulier"),e.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-medium text-white ${I.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>Ke(I.id,!I.shopVerified),disabled:Je===I.id},I.shopVerified?"Retirer le badge":"Vrifier la boutique")):pt?.id===I.id?e.createElement("div",{className:"space-y-2 rounded border border-gray-200 bg-gray-50 p-3 text-xs"},e.createElement("p",{className:"font-semibold text-gray-700"},"Conversion en boutique"),e.createElement("label",{className:"space-y-1 text-gray-600"},e.createElement("span",null,"Nom de la boutique"),e.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopName,onChange:X=>bt(ve=>ve&&ve.id===I.id?{...ve,shopName:X.target.value}:ve),disabled:ht===I.id})),e.createElement("label",{className:"space-y-1 text-gray-600"},e.createElement("span",null,"Adresse de la boutique"),e.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopAddress,onChange:X=>bt(ve=>ve&&ve.id===I.id?{...ve,shopAddress:X.target.value}:ve),disabled:ht===I.id})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:ht===I.id,onClick:()=>{if(!pt?.shopName?.trim()||!pt?.shopAddress?.trim()){it("Veuillez renseigner le nom et l'adresse de la boutique."),He("");return}Be(I.id,"shop",{shopName:pt.shopName.trim(),shopAddress:pt.shopAddress.trim()})}},"Valider"),e.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>bt(null),disabled:ht===I.id},"Annuler"))):e.createElement("button",{type:"button",className:"w-full rounded bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{bt({id:I.id,shopName:I.shopName||"",shopAddress:I.shopAddress||""}),it(""),He("")}},"Convertir en boutique"),e.createElement("div",{className:"border-t border-gray-100 pt-3"},kt?e.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",Ve?"Gestionnaire de ventes":"Utilisateur"),e.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-semibold ${Ve?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>cr(I.id,Bt),disabled:ke===I.id||Ht},ke===I.id?"Mise  jour...":Ve?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),Ht?e.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),e.createElement(pe,{to:`/admin/users/${I.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques ")))}):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur ne correspond  la recherche actuelle.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border text-left"},"Nom"),e.createElement("th",{className:"p-2 border text-left"},"Email"),e.createElement("th",{className:"p-2 border text-left"},"Statut"),e.createElement("th",{className:"p-2 border text-left"},"Tlphone"),e.createElement("th",{className:"p-2 border text-left"},"Inscription"),e.createElement("th",{className:"p-2 border text-left"},"Action"))),e.createElement("tbody",null,Le?e.createElement("tr",null,e.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Chargement des utilisateurs")):Ja.length?Ja.map(I=>{const Ve=I.role==="manager",kt=I.role==="admin",Ht=Lr?.id===I.id,Bt=Ve?"user":"manager";return e.createElement("tr",{key:I.id,className:"align-top"},e.createElement("td",{className:"p-2 border"},e.createElement("p",{className:"font-medium text-gray-900"},I.name),e.createElement("p",{className:"text-xs text-gray-500"},"Rle: ",I.role)),e.createElement("td",{className:"p-2 border"},I.email),e.createElement("td",{className:"p-2 border"},I.accountType==="shop"?e.createElement("div",{className:"space-y-2"},e.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-xs font-semibold text-green-700"},"Boutique"),e.createElement(dn,{verified:!!I.shopVerified}),I.shopName?e.createElement("p",{className:"text-xs text-gray-600 truncate"},I.shopName):null):e.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-xs font-semibold text-gray-700"},"Particulier")),e.createElement("td",{className:"p-2 border"},I.phone||""),e.createElement("td",{className:"p-2 border"},fu(I.createdAt)),e.createElement("td",{className:"p-2 border"},e.createElement("div",{className:"space-y-3"},I.accountType==="shop"?e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>Be(I.id,"person"),disabled:ht===I.id},"Convertir en particulier"),e.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-medium text-white ${I.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>Ke(I.id,!I.shopVerified),disabled:Je===I.id},I.shopVerified?"Retirer le badge":"Vrifier la boutique")):pt?.id===I.id?e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Nom de la boutique",e.createElement("input",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopName,onChange:X=>bt(ve=>ve&&ve.id===I.id?{...ve,shopName:X.target.value}:ve),disabled:ht===I.id})),e.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Adresse de la boutique",e.createElement("textarea",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",rows:2,value:pt.shopAddress,onChange:X=>bt(ve=>ve&&ve.id===I.id?{...ve,shopAddress:X.target.value}:ve),disabled:ht===I.id})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:ht===I.id,onClick:()=>{if(!pt?.shopName?.trim()||!pt?.shopAddress?.trim()){it("Veuillez renseigner le nom et l'adresse de la boutique."),He("");return}Be(I.id,"shop",{shopName:pt.shopName.trim(),shopAddress:pt.shopAddress.trim()})}},"Valider"),e.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>bt(null),disabled:ht===I.id},"Annuler"))):e.createElement("button",{type:"button",className:"rounded bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{bt({id:I.id,shopName:I.shopName||"",shopAddress:I.shopAddress||""}),it(""),He("")}},"Convertir en boutique"),e.createElement("div",{className:"border-t border-gray-100 pt-3"},kt?e.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",Ve?"Gestionnaire de ventes":"Utilisateur"),e.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-semibold ${Ve?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>cr(I.id,Bt),disabled:ke===I.id||Ht},ke===I.id?"Mise  jour...":Ve?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),Ht?e.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),e.createElement(pe,{to:`/admin/users/${I.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques "))))}):e.createElement("tr",null,e.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Aucun utilisateur ne correspond  la recherche actuelle."))))),!Le&&e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,ne.length?`Affichage ${Ts}-${Bn} sur ${ne.length} utilisateurs`:"Aucun utilisateur pour ces critres."),ne.length?e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>fe(I=>Math.max(1,I-1)),disabled:Ie<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",Ie," / ",_n),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>fe(I=>Math.min(_n,I+1)),disabled:Ie>=_n},"Suivant")):null)),Cr&&Za("payments")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vrification des paiements"),e.createElement("p",{className:"text-xs text-gray-500"},"Validez ou rejetez les preuves de paiement envoyes par les vendeurs.")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mo,{label:"En attente",value:or(p?.payments?.waiting),helper:"Paiements non vrifis"}),e.createElement(Mo,{label:"Valids",value:or(p?.payments?.verified),helper:"Paiements accepts"}),e.createElement(Mo,{label:"CA valid",value:wn(p?.payments?.revenue),helper:"Total confirm"})),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},me?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},ro.map(I=>e.createElement("button",{key:I.value,type:"button",onClick:()=>n(I.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${a===I.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},I.label))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm text-gray-600",htmlFor:"admin-payments-filter"},"Statut:"),e.createElement("select",{id:"admin-payments-filter",value:a,onChange:I=>n(I.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},ro.map(I=>e.createElement("option",{key:I.value,value:I.value},I.label)))),e.createElement("div",{className:"w-full sm:w-64"},e.createElement("input",{type:"search",value:i,onChange:I=>d(I.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})))),gt?e.createElement("p",{className:"text-sm text-green-600"},gt):null,we?e.createElement("p",{className:"text-sm text-red-600"},we):null,me?e.createElement("div",{className:"space-y-4"},eo.map(I=>e.createElement("div",{key:I._id,className:"rounded-2xl border border-gray-100 p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},I.product?.title||"Annonce"),e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${DE[I.status]||"bg-gray-100 text-gray-600"}`},IE[I.status]||I.status)),e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500"},e.createElement("span",null,"Payeur : ",e.createElement("strong",{className:"text-gray-800"},I.payerName)),e.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),e.createElement("span",null,"Oprateur : ",e.createElement("strong",{className:"text-gray-800"},I.operator)),e.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),e.createElement("span",null,"Montant : ",e.createElement("strong",{className:"text-gray-800"},wn(I.amount)))),I.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},I.product.images.slice(0,4).map((Ve,kt)=>e.createElement("a",{key:Ve||kt,href:Ve,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},e.createElement("img",{src:Ve,alt:`${I.product?.title||"Produit"} ${kt+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),I.product.images.length>4&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",I.product.images.length-4," autres")):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune image pour cette annonce."),e.createElement("div",{className:"flex flex-wrap gap-2"},I.product?._id&&e.createElement(pe,{to:ar(I.product),...ct,className:"flex-1 min-w-[140px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),I.transactionNumber&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>_e(I.transactionNumber)},"Copier la rfrence")),e.createElement("div",{className:"flex flex-wrap gap-2"},I.product?.status!=="disabled"&&I.product?._id&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-red-300 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>os(I.product._id)},"Dsactiver l'annonce"),I.product?.status==="disabled"&&I.product?._id&&e.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-green-300 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>is(I.product._id)},"Activer l'annonce")),e.createElement("div",{className:"flex flex-wrap gap-2"},I.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>ss(I._id,"verify"),className:"flex-1 min-w-[140px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),e.createElement("button",{onClick:()=>ss(I._id,"reject"),className:"flex-1 min-w-[140px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))),!t.length&&e.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement ne correspond  la recherche actuelle.")):e.createElement(e.Fragment,null,e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border"},"Image"),e.createElement("th",{className:"p-2 border"},"Annonce"),e.createElement("th",{className:"p-2 border"},"Prix"),e.createElement("th",{className:"p-2 border"},"Payeur"),e.createElement("th",{className:"p-2 border"},"Oprateur"),e.createElement("th",{className:"p-2 border"},"Montant"),e.createElement("th",{className:"p-2 border"},"Statut"),e.createElement("th",{className:"p-2 border"},"Action"))),e.createElement("tbody",null,eo.map(I=>e.createElement("tr",{key:I._id},e.createElement("td",{className:"p-2 border align-top"},I.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 max-w-[220px] overflow-x-auto"},I.product.images.slice(0,3).map((Ve,kt)=>e.createElement("a",{key:Ve||kt,href:Ve,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",title:"Ouvrir l'image dans un nouvel onglet"},e.createElement("img",{src:Ve,alt:`${I.product?.title||"Produit"} ${kt+1}`,className:"h-16 w-20 object-cover rounded border shadow-sm",loading:"lazy"}))),I.product.images.length>3&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",I.product.images.length-3," autres")):e.createElement("span",{className:"text-xs text-gray-500"},"Aucune image")),e.createElement("td",{className:"p-2 border"},I.product?.title),e.createElement("td",{className:"p-2 border"},wn(I.product?.price)),e.createElement("td",{className:"p-2 border"},I.payerName),e.createElement("td",{className:"p-2 border"},I.operator),e.createElement("td",{className:"p-2 border"},wn(I.amount)),e.createElement("td",{className:"p-2 border"},e.createElement("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold ${DE[I.status]||"bg-gray-100 text-gray-600"}`},IE[I.status]||I.status)),e.createElement("td",{className:"p-2 border"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap"},I.product?._id?e.createElement(pe,{to:ar(I.product),...ct,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"):null,I.transactionNumber?e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>_e(I.transactionNumber)},"Copier la rfrence"):null,I.product?.status!=="disabled"&&I.product?._id?e.createElement("button",{type:"button",className:"rounded border border-red-300 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>os(I.product._id)},"Dsactiver"):null,I.product?.status==="disabled"&&I.product?._id?e.createElement("button",{type:"button",className:"rounded border border-green-300 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>is(I.product._id)},"Activer"):null,I.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>ss(I._id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),e.createElement("button",{onClick:()=>ss(I._id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):e.createElement("span",{className:"self-center text-xs text-gray-500"},"Action non disponible"))))),!t.length&&e.createElement("tr",null,e.createElement("td",{className:"p-4 text-sm text-gray-500",colSpan:8},"Aucun paiement  afficher pour ce filtre."))))),e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,t.length?`Affichage ${Vi}-${Hi} sur ${t.length} paiements`:"Aucun paiement  afficher."),t.length?e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>o(I=>Math.max(1,I-1)),disabled:s<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",s," / ",qn),e.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>o(I=>Math.min(qn,I+1)),disabled:s>=qn},"Suivant")):null))),Vt&&Za("complaints")&&e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rclamations"),e.createElement("p",{className:"text-xs text-gray-500"},"Consultez les plaintes dposes par les utilisateurs et attribuez un statut adapt.")),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},e.createElement("select",{value:ut,onChange:I=>et(I.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},As.map(I=>e.createElement("option",{key:I.value,value:I.value},I.label))),e.createElement("button",{type:"button",onClick:Xa,className:"rounded border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60"},"Actualiser"))),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},e.createElement(Mo,{label:"Total",value:or(Pt.length),helper:"Rclamations enregistres"}),e.createElement(Mo,{label:"En attente",value:or(Pt.filter(I=>I.status==="pending").length),helper:"Nouveau et non trait"}),e.createElement(Mo,{label:"Rsolues",value:or(Pt.filter(I=>I.status==="resolved").length),helper:"Confirmes"})),(Z||le)&&e.createElement("div",{className:`rounded-lg px-3 py-2 text-sm ${le?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`},le||Z),ft?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des rclamations"):Ye?e.createElement("p",{className:"text-sm text-red-600"},Ye):e.createElement("ul",{className:"space-y-4"},Pt.length?Pt.map(I=>e.createElement("li",{key:I._id,className:"space-y-3 rounded-2xl border border-gray-100 p-4"},e.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},I.subject||"Sans objet"),e.createElement("p",{className:"text-xs text-gray-500 flex flex-wrap gap-2"},e.createElement("span",null,I.user?.name||"Utilisateur anonyme"),e.createElement("span",{className:"text-[11px] text-gray-400"},I.user?.email||"Email introuvable"),e.createElement("span",{className:"text-[11px] text-gray-400"},I.user?.phone||"Tlphone non renseign")),e.createElement("p",{className:"text-xs text-gray-400"},LE(I.createdAt))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${yn[I.status]||"bg-gray-100 text-gray-600"}`},da[I.status]||I.status),e.createElement("select",{value:I.status,onChange:Ve=>Ps(I._id,Ve.target.value),disabled:tt===I._id,className:"rounded border border-gray-200 px-3 py-1 text-xs text-gray-600 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Object.keys(da).map(Ve=>e.createElement("option",{key:Ve,value:Ve},da[Ve]))))),e.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},I.message),I.attachments?.length?e.createElement("div",{className:"flex flex-wrap gap-2"},I.attachments.filter(Ve=>Ve.url).map((Ve,kt)=>e.createElement("a",{key:`${Ve.filename}-${kt}`,href:Ve.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-xs font-medium text-gray-600 hover:border-rose-200"},e.createElement(Tu,{className:"w-3 h-3"}),Ve.originalName||Ve.filename))):null,I.adminNote?e.createElement("p",{className:"text-xs text-gray-500"},e.createElement("span",{className:"font-semibold text-gray-700"},"Note admin :")," ",I.adminNote):null)):e.createElement("li",{className:"text-sm text-gray-500"},"Aucune rclamation pour ce filtre.")))))}const Nc=t=>Number(t||0).toLocaleString("fr-FR"),yi=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,GP=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",KP={waiting:"En attente",verified:"Valid",rejected:"Rejet"},YP={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},ll=12,XP=t=>{const r=[t?.updatedAt,t?.createdAt,t?.product?.updatedAt,t?.product?.createdAt];for(const a of r){if(!a)continue;const n=Date.parse(a);if(!Number.isNaN(n))return n}return 0},QP=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];function Eoe(){const{user:t}=g.useContext(fr),r=t?.role==="manager",[a,n]=g.useState(null),[s,o]=g.useState(!1),[i,d]=g.useState(""),[u,m]=g.useState([]),[p,f]=g.useState(!1),[y,b]=g.useState(""),[w,E]=g.useState("waiting"),[x,N]=g.useState(""),[k,A]=g.useState(""),[P,S]=g.useState(""),[_,T]=g.useState(""),[O,R]=g.useState(1),[D,j]=g.useState(""),[$,K]=g.useState(""),[W,z]=g.useState(!1),Q=ts(),ee=Bl(1023),H=g.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),q=g.useCallback(re=>{if(!re)return re;const Ie=re.replace(/\\/g,"/");return/^https?:\/\//i.test(Ie)?Ie:`${H}/${Ie.replace(/^\/+/,"")}`},[H]),B=g.useCallback(async()=>{o(!0);try{const{data:re}=await se.get("/admin/stats");n(re),d("")}catch(re){d(re.response?.data?.message||re.message||"Impossible de charger les statistiques.")}finally{o(!1)}},[]),G=g.useCallback(async()=>{f(!0),b("");try{const re=new URLSearchParams;["waiting","verified","rejected"].includes(w)&&re.append("status",w),k&&re.append("search",k),P&&re.append("startDate",P),_&&re.append("endDate",_);const{data:Ie}=await se.get(re.toString()?`/payments/admin?${re}`:"/payments/admin");let fe=Array.isArray(Ie)?Ie.map(Le=>({...Le,product:Le.product?{...Le.product,images:Array.isArray(Le.product.images)?Le.product.images.map(q):void 0}:Le.product})):[];w==="disabled_products"&&(fe=fe.filter(Le=>Le.product?.status==="disabled")),fe=fe.slice().sort((Le,at)=>XP(at)-XP(Le)),m(fe),R(Le=>{const at=Math.max(1,Math.ceil(fe.length/ll));return Math.min(Le,at)})}catch(re){b(re.response?.data?.message||re.message||"Impossible de charger les paiements.")}finally{f(!1)}},[w,q,k,P,_]);g.useEffect(()=>{B()},[B]),g.useEffect(()=>{G()},[G]),g.useEffect(()=>{const re=()=>{G(),B()},Ie=()=>{document.visibilityState==="visible"&&(G(),B())};return window.addEventListener("paymentStatusChanged",re),document.addEventListener("visibilitychange",Ie),window.addEventListener("focus",re),()=>{window.removeEventListener("paymentStatusChanged",re),document.removeEventListener("visibilitychange",Ie),window.removeEventListener("focus",re)}},[G,B]),g.useEffect(()=>{const re=setTimeout(()=>{A(x.trim())},400);return()=>clearTimeout(re)},[x]),g.useEffect(()=>{R(1)},[w,k,P,_]);const Y=g.useMemo(()=>{const re=(O-1)*ll;return u.slice(re,re+ll)},[u,O]),V=Math.max(1,Math.ceil(u.length/ll)),J=g.useCallback(async(re,Ie)=>{if(re){z(!0),j(""),K("");try{await se.put(`/payments/admin/${re}/${Ie==="verify"?"verify":"reject"}`),await Promise.all([G(),B()]),j(Ie==="verify"?"Paiement valid avec succs.":"Paiement rejet."),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:re,status:Ie==="verify"?"verified":"rejected"}}))}catch(fe){K(fe.response?.data?.message||fe.message||"Action impossible sur ce paiement.")}finally{z(!1)}}},[G,B]),ue=g.useCallback(async re=>{if(re){z(!0),j(""),K("");try{await se.patch(`/products/${re}/disable`),await G(),j("Annonce dsactive avec succs.")}catch(Ie){K(Ie.response?.data?.message||Ie.message||"Impossible de dsactiver l'annonce.")}finally{z(!1)}}},[G]),he=g.useCallback(async re=>{if(re){z(!0),j(""),K("");try{await se.patch(`/products/${re}/enable`),await G(),j("Annonce ractive avec succs.")}catch(Ie){K(Ie.response?.data?.message||Ie.message||"Impossible de ractiver l'annonce.")}finally{z(!1)}}},[G]),Oe=g.useCallback(async re=>{if(re)try{if(!navigator.clipboard)throw new Error("Clipboard API indisponible.");await navigator.clipboard.writeText(re),j("Rfrence copie dans le presse-papiers."),K("")}catch{K("Impossible de copier la rfrence."),j("")}},[]);g.useEffect(()=>{if(!D&&!$)return;const re=setTimeout(()=>{j(""),K("")},4e3);return()=>clearTimeout(re)},[D,$]);const te=a?.payments||{},ie=g.useCallback(re=>{const fe=Date.now()-re*24*60*60*1e3;let Le=0,at=0;return u.forEach(nt=>{const it=Date.parse(nt.createdAt);!Number.isNaN(it)&&it>=fe&&(Le+=1,at+=Number(nt.amount||0))}),{count:Le,amount:at}},[u]),de=g.useMemo(()=>ie(1),[ie]),Ce=g.useMemo(()=>ie(7),[ie]),ne=g.useMemo(()=>ie(30),[ie]);return e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},r?"Gestionnaire  Paiements":"Administration  Paiements"),e.createElement("p",{className:"text-sm text-gray-600"},"Suivez ltat des transactions et traitez les preuves de paiement.")),e.createElement(pe,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"}," Retour au tableau de bord")),e.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Total"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Nc(te.total)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Paiements enregistrs")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"En attente"),e.createElement("p",{className:"text-2xl font-bold text-yellow-600 mt-1"},Nc(te.waiting)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"}," vrifier")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Valids"),e.createElement("p",{className:"text-2xl font-bold text-green-600 mt-1"},Nc(te.verified)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Mises en ligne confirmes")),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Revenus cumuls"),e.createElement("p",{className:"text-2xl font-bold text-indigo-600 mt-1"},yi(te.revenue)),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes commissions"))),e.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"24 heures"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Nc(de.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",yi(de.amount))),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"7 jours"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Nc(Ce.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",yi(Ce.amount))),e.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"30 jours"),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},Nc(ne.count)," paiements"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",yi(ne.amount)))),i&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},i),s&&e.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-sm text-gray-500"},"Chargement des statistiques"),e.createElement("section",{className:"rounded-xl border bg-white p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Liste des paiements"),e.createElement("p",{className:"text-xs text-gray-500"},"Utilisez les filtres pour trouver rapidement un produit ou une transaction.")),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3 w-full md:w-auto"},ee?e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},QP.map(re=>e.createElement("button",{key:re.value,type:"button",onClick:()=>E(re.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${w===re.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},re.label))):e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"payments-status-filter",className:"text-sm text-gray-600"},"Statut:"),e.createElement("select",{id:"payments-status-filter",value:w,onChange:re=>E(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},QP.map(re=>e.createElement("option",{key:re.value,value:re.value},re.label)))),e.createElement("div",{className:"w-full sm:w-64"},e.createElement("input",{type:"search",value:x,onChange:re=>N(re.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"start-date",className:"text-sm text-gray-600"},"Du"),e.createElement("input",{id:"start-date",type:"date",value:P,onChange:re=>S(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"end-date",className:"text-sm text-gray-600"},"Au"),e.createElement("input",{id:"end-date",type:"date",value:_,onChange:re=>T(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),(P||_)&&e.createElement("button",{type:"button",onClick:()=>{S(""),T("")},className:"text-xs font-semibold text-gray-600 hover:text-gray-900"},"Rinitialiser")))),y&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},y),D&&e.createElement("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 text-sm text-green-700"},D),$&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},$),ee?e.createElement("div",{className:"space-y-4"},p?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des paiements"):Y.length?Y.map(re=>e.createElement("article",{key:re._id||re.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900"},re.product?.title||"Produit inconnu"),e.createElement("p",{className:"text-xs text-gray-500"},"#",re.product?._id||"")),e.createElement("span",{className:`inline-flex rounded-full px-2 py-1 text-[11px] font-semibold ${YP[re.status]||"bg-gray-100 text-gray-600"}`},KP[re.status]||re.status)),e.createElement("div",{className:"space-y-1 text-xs text-gray-600"},e.createElement("p",null,"Prix de lannonce : ",re.product?.price?yi(re.product.price):""),e.createElement("p",null,"Payeur : ",e.createElement("span",{className:"font-semibold text-gray-900"},re.payerName||"")),e.createElement("p",null,"Email : ",re.user?.email||""),e.createElement("p",null,"Oprateur : ",re.operator||""),e.createElement("p",{className:"font-semibold text-gray-900"},"Montant reu : ",yi(re.amount)),re.status==="verified"&&re.validatedBy?e.createElement("p",{className:"text-xs text-green-600"},"Valid par ",re.validatedBy.name,re.validatedAt?`  ${GP(re.validatedAt)}`:""):null),re.product?.images?.length?e.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},re.product.images.slice(0,4).map((Ie,fe)=>e.createElement("a",{key:Ie||fe,href:Ie,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},e.createElement("img",{src:Ie,alt:`${re.product?.title||"Produit"} ${fe+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),re.product.images.length>4&&e.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",re.product.images.length-4," autres")):null,e.createElement("div",{className:"flex flex-wrap gap-2"},re.product&&e.createElement(pe,{to:ar(re.product),...Q,className:"flex-1 min-w-[150px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),re.transactionNumber?e.createElement("button",{type:"button",onClick:()=>Oe(re.transactionNumber),className:"flex-1 min-w-[150px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null),e.createElement("div",{className:"flex flex-wrap gap-2"},re.product?._id&&re.product?.status!=="disabled"&&e.createElement("button",{type:"button",onClick:()=>ue(re.product?.slug||re.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:W},"Dsactiver l'annonce"),re.product?._id&&re.product?.status==="disabled"&&e.createElement("button",{type:"button",onClick:()=>he(re.product?.slug||re.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-green-200 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:W},"Activer l'annonce")),e.createElement("div",{className:"flex flex-wrap gap-2"},re.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>J(re._id||re.id,"verify"),className:"flex-1 min-w-[150px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:W},"Valider"),e.createElement("button",{type:"button",onClick:()=>J(re._id||re.id,"reject"),className:"flex-1 min-w-[150px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:W},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full border text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"p-2 border text-left"},"Annonce"),e.createElement("th",{className:"p-2 border text-left"},"Prix"),e.createElement("th",{className:"p-2 border text-left"},"Payeur"),e.createElement("th",{className:"p-2 border text-left"},"Oprateur"),e.createElement("th",{className:"p-2 border text-left"},"Montant"),e.createElement("th",{className:"p-2 border text-left"},"Valid par"),e.createElement("th",{className:"p-2 border text-left"},"Statut"),e.createElement("th",{className:"p-2 border text-left"},"Actions"))),e.createElement("tbody",null,p?e.createElement("tr",null,e.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Chargement des paiements")):Y.length?Y.map(re=>e.createElement("tr",{key:re._id||re.id},e.createElement("td",{className:"p-2 border align-top"},e.createElement("p",{className:"font-semibold text-gray-900"},re.product?.title||"Produit inconnu"),e.createElement("p",{className:"text-xs text-gray-500"},"#",re.product?._id||"")),e.createElement("td",{className:"p-2 border align-top"},re.product?.price?yi(re.product.price):""),e.createElement("td",{className:"p-2 border align-top"},e.createElement("p",{className:"font-medium text-gray-900"},re.payerName||""),e.createElement("p",{className:"text-xs text-gray-500"},re.user?.email)),e.createElement("td",{className:"p-2 border align-top"},re.operator||""),e.createElement("td",{className:"p-2 border align-top"},yi(re.amount)),e.createElement("td",{className:"p-2 border align-top"},re.status==="verified"&&re.validatedBy?e.createElement("div",null,e.createElement("p",{className:"font-medium text-gray-900"},re.validatedBy.name),re.validatedAt&&e.createElement("p",{className:"text-xs text-gray-500"},GP(re.validatedAt))):e.createElement("span",{className:"text-xs text-gray-500"},"")),e.createElement("td",{className:"p-2 border align-top"},e.createElement("span",{className:`inline-flex items-center rounded px-2 py-1 text-xs font-semibold ${YP[re.status]||"bg-gray-100 text-gray-600"}`},KP[re.status]||re.status)),e.createElement("td",{className:"p-2 border align-top"},e.createElement("div",{className:"flex flex-wrap gap-2"},re.product&&e.createElement(pe,{to:ar(re.product),...Q,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),re.transactionNumber?e.createElement("button",{type:"button",onClick:()=>Oe(re.transactionNumber),className:"rounded border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null,re.product?.status!=="disabled"&&re.product&&e.createElement("button",{type:"button",onClick:()=>ue(re.product?.slug||re.product?._id),className:"rounded border border-red-200 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:W},"Dsactiver"),re.product?.status==="disabled"&&re.product&&e.createElement("button",{type:"button",onClick:()=>he(re.product?.slug||re.product?._id),className:"rounded border border-green-200 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:W},"Activer"),re.status==="waiting"?e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:()=>J(re._id||re.id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:W},"Valider"),e.createElement("button",{type:"button",onClick:()=>J(re._id||re.id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:W},"Refuser")):e.createElement("span",{className:"text-xs text-gray-500 self-center"},"Action indisponible"))))):e.createElement("tr",null,e.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres."))))),u.length>ll&&e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Affichage ",(O-1)*ll+1,"-",Math.min(O*ll,u.length)," sur ",u.length," paiements"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>R(re=>Math.max(1,re-1)),disabled:O<=1,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",O," / ",V),e.createElement("button",{type:"button",onClick:()=>R(re=>Math.min(V,re+1)),disabled:O>=V,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const JP={person:"Particulier",shop:"Boutique"},ZP={user:"Utilisateur",admin:"Administrateur"},eT=t=>{const r=Number(t);return Number.isFinite(r)?r.toLocaleString("fr-FR"):"0"},tT=t=>{if(!t)return"";const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleDateString()},kc=15,rT=[{value:"all",label:"Tous les types"},{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"}],aT=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actifs"},{value:"blocked",label:"Suspendus"}];function woe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(""),[u,m]=g.useState(""),[p,f]=g.useState(""),[y,b]=g.useState("all"),[w,E]=g.useState("all"),[x,N]=g.useState(1),[k,A]=g.useState(""),[P,S]=g.useState(0),_=Bl(1023);g.useEffect(()=>{const q=new AbortController;let B=!0;return(async()=>{n(!0),o("");try{const Y={limit:100};p&&(Y.search=p),y!=="all"&&(Y.accountType=y);const{data:V}=await se.get("/admin/users",{params:Y,signal:q.signal});B&&r(Array.isArray(V)?V:[])}catch(Y){if(!B||Y.name==="CanceledError"||Y.name==="AbortError")return;o(Y.response?.data?.message||Y.message||"Impossible de charger la liste des utilisateurs.")}finally{B&&n(!1)}})(),()=>{B=!1,q.abort()}},[y,p,P]);const T=g.useMemo(()=>w==="blocked"?t.filter(q=>q.isBlocked):w==="active"?t.filter(q=>!q.isBlocked):t,[w,t]),O=g.useMemo(()=>{const q=t.length,B=t.filter(Y=>Y.isBlocked).length,G=t.filter(Y=>Y.accountType==="shop").length;return{total:q,blocked:B,shops:G}},[t]);g.useEffect(()=>{N(1)},[y,w,p]),g.useEffect(()=>{const q=Math.max(1,Math.ceil(T.length/kc));N(B=>Math.min(B,q))},[T.length]);const R=Math.max(1,Math.ceil(T.length/kc)),D=g.useMemo(()=>{const q=(x-1)*kc;return T.slice(q,q+kc)},[T,x]),j=T.length?(x-1)*kc+1:0,$=T.length?Math.min(x*kc,T.length):0;g.useEffect(()=>{const q=setTimeout(()=>{f(u.trim())},400);return()=>clearTimeout(q)},[u]);const K=q=>{q.preventDefault(),f(u.trim())},W=()=>{m(""),f("")},z=q=>{r(B=>B.some(Y=>Y.id===q.id)?B.map(Y=>Y.id===q.id?q:Y):[q,...B])},Q=async q=>{const B=q.blockedReason||"",G=window.prompt("Raison de la suspension (facultatif, visible uniquement par les administrateurs) :",B);if(G!==null){d(""),A(q.id);try{const{data:Y}=await se.patch(`/admin/users/${q.id}/block`,{reason:G||""});z(Y)}catch(Y){d(Y.response?.data?.message||Y.message||"Impossible de suspendre cet utilisateur pour le moment.")}finally{A("")}}},ee=async q=>{d(""),A(q.id);try{const{data:B}=await se.patch(`/admin/users/${q.id}/unblock`);z(B)}catch(B){d(B.response?.data?.message||B.message||"Impossible de rtablir cet utilisateur pour le moment.")}finally{A("")}},H=()=>{S(q=>q+1)};return e.createElement("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Gestion des utilisateurs"),e.createElement("p",{className:"text-sm text-gray-500"},"Administrez les comptes, suspendez ou ractivez un utilisateur en cas d'abuse.")),e.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},e.createElement(pe,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-100"},e.createElement(Pr,{size:16}),"Retour au tableau de bord"),e.createElement("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},e.createElement($i,{size:16,className:a?"animate-spin":""}),"Actualiser"))),e.createElement("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs totaux"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},O.total)),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Boutiques enregistres"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},O.shops)),e.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs bloqus"),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},O.blocked))),e.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},e.createElement("form",{onSubmit:K,className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between"},e.createElement("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center"},e.createElement("div",{className:"relative flex-1"},e.createElement(ir,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.createElement("input",{type:"search",placeholder:"Rechercher un nom, email ou tlphone",className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400",value:u,onChange:q=>m(q.target.value)})),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 transition"},"Rechercher"),p&&e.createElement("button",{type:"button",onClick:W,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50"},"Effacer"))),_?e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},rT.map(q=>e.createElement("button",{key:q.value,type:"button",onClick:()=>b(q.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${y===q.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},q.label))),e.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},aT.map(q=>e.createElement("button",{key:q.value,type:"button",onClick:()=>E(q.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${w===q.value?"bg-gray-900 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},q.label)))):e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("select",{value:y,onChange:q=>b(q.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},rT.map(q=>e.createElement("option",{key:q.value,value:q.value},q.label))),e.createElement("select",{value:w,onChange:q=>E(q.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},aT.map(q=>e.createElement("option",{key:q.value,value:q.value},q.label))))),s&&e.createElement("p",{className:"text-sm text-red-600"},s),i&&e.createElement("p",{className:"text-sm text-red-600"},i),_?e.createElement("div",{className:"space-y-4"},a?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):D.length?D.map(q=>{const B=!!q.isBlocked;return e.createElement("article",{key:q.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},q.name),e.createElement("p",{className:"text-xs text-gray-500 break-all"},q.email),e.createElement("p",{className:"text-xs text-gray-400"},q.phone||""),q.accountType==="shop"&&q.shopName?e.createElement("div",{className:"text-xs space-y-1"},e.createElement("p",{className:"font-semibold text-indigo-600"},"Boutique : ",q.shopName),e.createElement("p",{className:"text-gray-500"},"Abonns : ",eT(q.followersCount))):null),e.createElement("span",{className:"rounded-full bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700"},JP[q.accountType]||q.accountType)),e.createElement("div",{className:"flex flex-wrap gap-2 text-xs text-gray-600"},e.createElement("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 font-semibold text-gray-700"},ZP[q.role]||q.role),B?e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 font-semibold text-red-600"},e.createElement(z5,{size:12}),"Suspendu"):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 font-semibold text-green-600"},e.createElement(Ws,{size:12}),"Actif")),B?e.createElement("div",{className:"text-xs text-gray-500 space-y-1"},e.createElement("p",null,"Depuis le ",tT(q.blockedAt)),q.blockedReason?e.createElement("p",{className:"italic"},"Motif : ",q.blockedReason):null):null,e.createElement("div",{className:"flex flex-wrap gap-2"},B?e.createElement("button",{type:"button",onClick:()=>ee(q),disabled:k===q.id,className:"flex-1 min-w-[140px] rounded-lg border border-green-500 px-3 py-2 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):e.createElement("button",{type:"button",onClick:()=>Q(q),disabled:k===q.id,className:"flex-1 min-w-[140px] rounded-lg border border-red-500 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))}):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur  afficher.")):e.createElement("div",{className:"overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Utilisateur"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Type"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Rle"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),e.createElement("tbody",{className:"divide-y divide-gray-100"},a?e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Chargement des utilisateurs")):T.length===0?e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Aucun utilisateur  afficher.")):D.map(q=>{const B=!!q.isBlocked;return e.createElement("tr",{key:q.id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-3 py-3"},e.createElement("div",{className:"flex flex-col"},e.createElement("span",{className:"font-medium text-gray-900"},q.name),e.createElement("span",{className:"text-gray-500"},q.email),e.createElement("span",{className:"text-gray-400 text-xs"},q.phone),q.accountType==="shop"&&q.shopName?e.createElement("div",{className:"text-xs text-gray-500 mt-1 space-y-1"},e.createElement("span",{className:"text-indigo-600 font-semibold"},"Boutique : ",q.shopName),e.createElement("p",null,"Abonns : ",eT(q.followersCount)),e.createElement(pe,{to:la(q),className:"text-indigo-500 underline text-xs font-semibold"},"Voir la boutique")):null)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-0.5 text-xs font-semibold text-indigo-700"},JP[q.accountType]||q.accountType)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:"text-sm text-gray-700"},ZP[q.role]||q.role)),e.createElement("td",{className:"px-3 py-3"},B?e.createElement("div",{className:"flex flex-col gap-1"},e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 text-xs font-semibold text-red-600"},e.createElement(z5,{size:12}),"Suspendu"),e.createElement("span",{className:"text-xs text-gray-500"},"Depuis le ",tT(q.blockedAt)),q.blockedReason?e.createElement("span",{className:"text-xs text-gray-500 italic"},"Motif : ",q.blockedReason):null):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 text-xs font-semibold text-green-600"},e.createElement(Ws,{size:12}),"Actif")),e.createElement("td",{className:"px-3 py-3"},B?e.createElement("button",{type:"button",onClick:()=>ee(q),disabled:k===q.id,className:"rounded-lg border border-green-500 px-3 py-1.5 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):e.createElement("button",{type:"button",onClick:()=>Q(q),disabled:k===q.id,className:"rounded-lg border border-red-500 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))})))),T.length>0&&!a?e.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Affichage ",j,"-",$," sur ",T.length," utilisateurs"),e.createElement("div",{className:"flex items-center gap-2 text-sm"},e.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>N(q=>Math.max(1,q-1)),disabled:x<=1},"Prcdent"),e.createElement("span",{className:"font-medium text-gray-700"},"Page ",x," / ",R),e.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>N(q=>Math.min(R,q+1)),disabled:x>=R},"Suivant"))):null))}const $g="AES-GCM",R$=256,Noe=12,koe=async()=>await crypto.subtle.generateKey({name:$g,length:R$},!0,["encrypt","decrypt"]),Soe=async t=>{const r=await crypto.subtle.exportKey("raw",t),a=new Uint8Array(r);return btoa(String.fromCharCode(...a))},Coe=async t=>{const r=atob(t),a=new Uint8Array(r.length);for(let n=0;n<r.length;n++)a[n]=r.charCodeAt(n);return await crypto.subtle.importKey("raw",a,{name:$g,length:R$},!0,["encrypt","decrypt"])},Aoe=async(t,r)=>{if(!t)return null;const n=new TextEncoder().encode(t),s=crypto.getRandomValues(new Uint8Array(Noe)),o=await crypto.subtle.encrypt({name:$g,iv:s},r,n),i=new Uint8Array(o),d=i.slice(-16),u=i.slice(0,-16);return{encrypted:btoa(String.fromCharCode(...u)),iv:btoa(String.fromCharCode(...s)),tag:btoa(String.fromCharCode(...d))}},_oe=async(t,r)=>{if(!t||!t.encrypted)return null;try{const a=Uint8Array.from(atob(t.encrypted),u=>u.charCodeAt(0)),n=Uint8Array.from(atob(t.iv),u=>u.charCodeAt(0)),s=Uint8Array.from(atob(t.tag),u=>u.charCodeAt(0)),o=new Uint8Array(a.length+s.length);o.set(a),o.set(s,a.length);const i=await crypto.subtle.decrypt({name:$g,iv:n},r,o);return new TextDecoder().decode(i)}catch(a){return console.error("Decryption error:",a),null}},Poe=async t=>{const r=`hdmarket_chat_key_${t}`;try{const s=localStorage.getItem(r);if(s)return{key:await Coe(s),keyString:s}}catch(s){console.error("Error loading stored key:",s)}const a=await koe(),n=await Soe(a);try{localStorage.setItem(r,n)}catch(s){console.error("Error storing key:",s)}return{key:a,keyString:n}},Toe=t=>{const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},Ooe=t=>{const r=new Date(t);if(Number.isNaN(r.getTime()))return"";const a=new Date,n=new Date(a);return n.setDate(n.getDate()-1),r.toDateString()===a.toDateString()?"Aujourd'hui":r.toDateString()===n.toDateString()?"Hier":r.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},Moe=t=>{const r={};return t.forEach(a=>{const n=new Date(a.createdAt).toDateString();r[n]||(r[n]=[]),r[n].push(a)}),r},nT=["Bonjour, je souhaite avoir des informations","Quand sera livr ma commande ?","Merci pour votre rponse","Pouvez-vous me rappeler ?"];function fd({order:t,onClose:r,unreadCount:a=0,buttonText:n="Contacter le vendeur"}){const{user:s}=g.useContext(fr),[o,i]=g.useState(!1),[d,u]=g.useState([]),[m,p]=g.useState(!1),[f,y]=g.useState(!1),[b,w]=g.useState(""),[E,x]=g.useState(""),[N,k]=g.useState(!1),[A,P]=g.useState(!1),[S,_]=g.useState(!1),[T,O]=g.useState([]),[R,D]=g.useState(!1),[j,$]=g.useState(0),[K,W]=g.useState(()=>{try{return localStorage.getItem("hdmarket_order_chat_encryption")==="true"}catch{return!1}}),[z,Q]=g.useState(null),[ee,H]=g.useState(null),[q,B]=g.useState(""),[G,Y]=g.useState(!1),V=g.useRef(null),J=g.useRef(null),ue=g.useRef(null),he=g.useRef(null),Oe=g.useRef(null),te=g.useRef(null),ie=g.useRef([]),de=t?.items?.[0]?.snapshot?.shopId?{_id:t.items[0].snapshot.shopId,name:t.items[0].snapshot.shopName}:null,Ce=t?.items?.[0],ne=Ce?.snapshot?.title||"Produit",re=Ce?.snapshot?.image||null,Ie=s?._id&&t?.customer?._id&&String(s._id)===String(t.customer._id),fe=de&&s?._id&&String(s._id)===String(de._id),Le=s?.role==="admin"||s?.role==="manager";g.useEffect(()=>{if(o&&t?._id){nt();const Ge=setInterval(nt,5e3);return()=>clearInterval(Ge)}},[o,t?._id]),g.useEffect(()=>{K&&z&&d.length>0&&(async()=>{const ft=await Promise.all(d.map(async We=>{if(We.encryptedText&&!We.isDecrypted&&We.metadata?.iv&&We.metadata?.tag)try{const Ye=await _oe({encrypted:We.encryptedText,iv:We.metadata.iv,tag:We.metadata.tag},z);if(Ye)return{...We,text:Ye,isDecrypted:!0}}catch(Ye){console.error("Decryption error:",Ye)}return We}));u(ft)})()},[K,z,d.length]),g.useEffect(()=>{pt()},[d]),g.useEffect(()=>{o&&ue.current&&ue.current.focus()},[o]),g.useEffect(()=>{K&&s?._id&&!z&&Poe(s._id).then(({key:Ge})=>{Q(Ge)}).catch(Ge=>{console.error("Error initializing encryption key:",Ge)})},[K,s?._id,z]);const at=g.useMemo(()=>{if(!q.trim())return d;const Ge=q.toLowerCase().trim();return d.filter(ft=>{const We=(ft.text||"").toLowerCase(),Ye=(ft.sender?.name||ft.sender?.shopName||"").toLowerCase();return We.includes(Ge)||Ye.includes(Ge)})},[d,q]),nt=async()=>{if(t?._id)try{p(!0);const{data:Ge}=await se.get(`/orders/${t._id}/messages`);u(Array.isArray(Ge)?Ge:[]),w("")}catch(Ge){w(Ge.response?.data?.message||"Impossible de charger les messages.")}finally{p(!1)}},it=async(Ge,ft=null,We=null)=>{Ge?.preventDefault();const Ye=E.trim(),be=ft?.length||T.length;if(!Ye&&!be&&!We||f)return;let et=E.trim(),Z=null,Ee=null;if(K&&z&&et)try{const le=await Aoe(et,z);Z=le.encrypted,Ee={iv:le.iv,tag:le.tag,salt:le.salt,key:await(async()=>{const Ne=await crypto.subtle.exportKey("raw",z),tt=new Uint8Array(Ne);return btoa(String.fromCharCode(...tt))})()},et="[Message chiffr]"}catch(le){console.error("Encryption error:",le)}x(""),y(!0),w(""),k(!1);try{let le=null;Le?le=t?.customer?._id:Ie?le=de?._id:fe&&(le=t?.customer?._id);const{data:Ne}=await se.post(`/orders/${t._id}/messages`,{text:K&&Z?null:et,encryptedText:Z,encryptionData:Ee,attachments:ft||T,voiceMessage:We,recipientId:le});u(tt=>[...tt,Ne]),O([]),pt()}catch(le){w(le.response?.data?.message||"Impossible d'envoyer le message."),x(et)}finally{y(!1)}},xe=async Ge=>{const ft=Array.from(Ge.target.files||[]);if(ft.length!==0)try{const We=ft.map(async be=>{const ut=new FormData;ut.append("file",be);const{data:et}=await se.post("/orders/messages/upload",ut,{headers:{"Content-Type":"multipart/form-data"}});return{type:et.type,url:et.url,filename:et.filename,size:et.size,mimeType:et.mimeType}}),Ye=await Promise.all(We);O(be=>[...be,...Ye])}catch(We){console.error("File upload error:",We),w("Erreur lors de l'upload du fichier.")}finally{he.current&&(he.current.value="")}},He=async()=>{try{const Ge=await navigator.mediaDevices.getUserMedia({audio:!0}),ft=new MediaRecorder(Ge),We=[];ft.ondataavailable=be=>{be.data.size>0&&We.push(be.data)},ft.onstop=async()=>{const be=new Blob(We,{type:"audio/webm"}),ut=new FormData;ut.append("file",be,"voice-message.webm");try{const{data:et}=await se.post("/orders/messages/upload",ut,{headers:{"Content-Type":"multipart/form-data"}}),Z={url:et.url,duration:j,type:"audio"};await it(null,null,Z)}catch(et){console.error("Voice message upload error:",et),w("Erreur lors de l'envoi du message vocal.")}Ge.getTracks().forEach(et=>et.stop()),ie.current=[],$(0)},Oe.current=ft,ie.current=We,D(!0),$(0),ft.start();const Ye=setInterval(()=>{$(be=>be+1)},1e3);te.current=Ye}catch(Ge){console.error("Error starting recording:",Ge),w("Impossible d'accder au microphone.")}},Je=()=>{Oe.current&&Oe.current.state!=="inactive"&&(Oe.current.stop(),D(!1),te.current&&(clearInterval(te.current),te.current=null))},xt=async(Ge,ft)=>{if(!(!Ge||!ft))try{await se.post(`/orders/messages/${Ge}/reactions`,{emoji:ft}),nt()}catch(We){console.error("Error adding reaction:",We)}},ht=async Ge=>{if(Ge)try{await se.delete(`/orders/messages/${Ge}/reactions`),nt()}catch(ft){console.error("Error removing reaction:",ft)}},mt=Ge=>{x(Ge),k(!1),setTimeout(()=>{it()},100)},pt=()=>{V.current&&V.current.scrollIntoView({behavior:"smooth"})};if(!o)return e.createElement("button",{type:"button",onClick:()=>i(!0),className:"relative inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"},e.createElement(br,{className:"w-4 h-4"}),e.createElement("span",null,n),a>0&&e.createElement("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full min-w-[22px] text-center animate-pulse shadow-lg"},a>99?"99+":a));const bt=Le?t?.customer?.name||"Client":Ie?de?.name||"Vendeur":t?.customer?.name||"Client",Pt=Moe(at);return e.createElement("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm"},e.createElement("div",{className:"bg-white dark:bg-gray-900 w-full sm:rounded-2xl sm:max-w-lg sm:mx-4 h-full sm:h-[85vh] sm:max-h-[700px] flex flex-col shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-300"},e.createElement("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white"},e.createElement("div",{className:"flex items-center justify-between p-4"},e.createElement("div",{className:"flex items-center gap-3 flex-1 min-w-0"},e.createElement("button",{type:"button",onClick:()=>{i(!1),r&&r()},className:"sm:hidden p-1.5 rounded-lg hover:bg-white/20 transition-colors"},e.createElement(Pr,{className:"w-5 h-5"})),e.createElement("div",{className:"relative"},re?e.createElement("img",{src:re,alt:ne,className:"w-11 h-11 rounded-full object-cover border-2 border-white/30"}):e.createElement("div",{className:"w-11 h-11 rounded-full bg-white/20 flex items-center justify-center"},Ie?e.createElement(Sr,{className:"w-5 h-5"}):e.createElement(va,{className:"w-5 h-5"})),e.createElement("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-400 border-2 border-white rounded-full"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h2",{className:"font-bold truncate"},bt),e.createElement("div",{className:"flex items-center gap-1.5 text-xs text-white/80"},e.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),e.createElement("span",null,"En ligne"),e.createElement("span",{className:"mx-1"},""),e.createElement("span",{className:"truncate"},"#",t?.deliveryCode||t?._id?.slice(-6))))),e.createElement("div",{className:"flex items-center gap-1"},e.createElement("button",{type:"button",onClick:()=>Y(!G),className:"p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Rechercher dans les messages"},e.createElement(ir,{className:"w-5 h-5"})),e.createElement("button",{type:"button",onClick:()=>P(!A),className:"p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Informations"},e.createElement(gN,{className:"w-5 h-5"})),e.createElement("button",{type:"button",onClick:()=>{i(!1),r&&r()},className:"hidden sm:block p-2 rounded-lg hover:bg-white/20 transition-colors"},e.createElement(_t,{className:"w-5 h-5"})))),e.createElement("div",{className:"px-4 pb-3"},e.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 text-xs"},e.createElement(Jn,{className:"w-3.5 h-3.5 text-emerald-300"}),e.createElement("span",{className:"text-white/90"},"Messages scuriss et chiffrs de bout en bout")))),G&&e.createElement("div",{className:"bg-indigo-50 dark:bg-gray-800 border-b border-indigo-100 dark:border-gray-700 p-3"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("input",{type:"text",value:q,onChange:Ge=>B(Ge.target.value),placeholder:"Rechercher dans les messages...",className:"w-full pl-10 pr-10 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",autoFocus:!0}),q&&e.createElement("button",{type:"button",onClick:()=>B(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},e.createElement(_t,{className:"w-4 h-4 text-gray-400"}))),q&&e.createElement("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400"},at.length," message",at.length!==1?"s":""," trouv",at.length!==1?"s":"")),A&&e.createElement("div",{className:"bg-indigo-50 dark:bg-gray-800 border-b border-indigo-100 dark:border-gray-700 p-4 space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},re&&e.createElement("img",{src:re,alt:ne,className:"w-16 h-16 rounded-xl object-cover"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white truncate"},ne),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Commande #",t?.deliveryCode||t?._id?.slice(-6)))),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400"},e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(_a,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Transaction protge")),e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(_r,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Donnes scurises")))),e.createElement("div",{ref:J,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800"},q&&at.length===0&&!m?e.createElement("div",{className:"flex flex-col items-center justify-center h-full text-center px-6"},e.createElement("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 flex items-center justify-center mb-4"},e.createElement(ir,{className:"w-10 h-10 text-gray-400"})),e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white mb-2"},"Aucun rsultat"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},'Aucun message ne correspond  "',q,'"')):m&&d.length===0?e.createElement("div",{className:"flex flex-col items-center justify-center h-full gap-3"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"w-12 h-12 rounded-full border-4 border-indigo-100 border-t-indigo-600 animate-spin"})),e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des messages...")):d.length===0?e.createElement("div",{className:"flex flex-col items-center justify-center h-full text-center px-6"},e.createElement("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mb-4"},e.createElement(br,{className:"w-10 h-10 text-indigo-500"})),e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white mb-2"},"Dmarrez la conversation"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6"},"Posez vos questions concernant cette commande. Vos messages sont scuriss."),e.createElement("div",{className:"flex flex-wrap justify-center gap-2"},nT.slice(0,2).map((Ge,ft)=>e.createElement("button",{key:ft,type:"button",onClick:()=>mt(Ge),className:"px-3 py-1.5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-medium hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors"},Ge)))):Object.entries(Pt).map(([Ge,ft])=>e.createElement("div",{key:Ge},e.createElement("div",{className:"flex items-center justify-center my-4"},e.createElement("div",{className:"px-3 py-1 rounded-full bg-gray-200/80 dark:bg-gray-700/80 text-xs font-medium text-gray-600 dark:text-gray-300"},Ooe(ft[0].createdAt))),e.createElement("div",{className:"space-y-3"},ft.map((We,Ye)=>{const be=String(We.sender?._id)===String(s?._id),ut=!be&&(Ye===0||String(ft[Ye-1]?.sender?._id)!==String(We.sender?._id));return e.createElement("div",{key:We._id,className:`flex items-end gap-2 ${be?"justify-end":"justify-start"}`},!be&&e.createElement("div",{className:`w-8 h-8 flex-shrink-0 ${ut?"":"invisible"}`},We.sender?.shopName?e.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center text-white text-xs font-bold"},We.sender.shopName.charAt(0).toUpperCase()):e.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center"},e.createElement(va,{className:"w-4 h-4 text-white"}))),e.createElement("div",{className:`max-w-[75%] group ${be?"bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-2xl rounded-br-md":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-100 dark:border-gray-700 rounded-2xl rounded-bl-md shadow-sm"} px-4 py-2.5 relative`},!be&&ut&&e.createElement("p",{className:"text-xs font-semibold mb-1 text-indigo-600 dark:text-indigo-400"},We.sender?.shopName||We.sender?.name||"Utilisateur"),We.attachments&&We.attachments.length>0&&e.createElement("div",{className:"mb-2 flex flex-wrap gap-2"},We.attachments.map((et,Z)=>e.createElement("div",{key:et.url||et.filename||`att-${Z}`,className:"relative"},et.type==="image"?e.createElement("img",{src:et.url,alt:et.filename,className:"max-h-32 max-w-[200px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>H(et.url)}):et.type==="audio"?e.createElement("div",{className:"flex items-center gap-2 rounded-lg bg-gray-100 dark:bg-gray-700 px-3 py-2"},e.createElement("span",{className:"text-xs"},et.filename),We.voiceMessage?.duration&&e.createElement("span",{className:"text-xs text-gray-500"},Math.round(We.voiceMessage.duration),"s")):e.createElement("a",{href:et.url,download:et.filename,className:"flex items-center gap-2 rounded-lg bg-gray-100 dark:bg-gray-700 px-3 py-2 hover:bg-gray-200 dark:hover:bg-gray-600"},e.createElement(U5,{className:"h-4 w-4"}),e.createElement("span",{className:"text-xs"},et.filename),e.createElement(Ci,{className:"h-3 w-3"}))))),e.createElement("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed"},q?(()=>{const et=We.isDecrypted?We.text:We.text||"[Message chiffr]";if(!et)return et;const Z=new RegExp(`(${q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return et.split(Z).map((le,Ne)=>Z.test(le)?e.createElement("mark",{key:Ne,className:"bg-yellow-200 dark:bg-yellow-800 text-gray-900 dark:text-yellow-100 rounded px-0.5"},le):le)})():We.isDecrypted?We.text:We.text||"[Message chiffr]"),We.reactions&&We.reactions.length>0&&e.createElement("div",{className:"mt-2 flex flex-wrap gap-1"},Object.entries(We.reactions.reduce((et,Z)=>(et[Z.emoji]=(et[Z.emoji]||0)+1,et),{})).map(([et,Z])=>e.createElement("button",{key:et,type:"button",onClick:()=>{We.reactions?.some(le=>le.userId===s?._id&&le.emoji===et)?ht(We._id):xt(We._id,et)},className:"flex items-center gap-1 rounded-full bg-white/20 px-2 py-0.5 text-xs hover:bg-white/30 dark:bg-gray-700/50"},e.createElement("span",null,et),e.createElement("span",null,Z)))),e.createElement("div",{className:`flex items-center gap-1.5 mt-1 ${be?"justify-end":"justify-start"}`},e.createElement("span",{className:`text-[10px] ${be?"text-indigo-200":"text-gray-400 dark:text-gray-500"}`},Toe(We.createdAt)),be&&e.createElement("span",{className:"text-indigo-200"},We.readAt?e.createElement(tM,{className:"w-3.5 h-3.5"}):e.createElement(hl,{className:"w-3.5 h-3.5"})))))})))),S&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},e.createElement(va,{className:"w-4 h-4 text-gray-500"})),e.createElement("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-bl-md px-4 py-2.5"},e.createElement("div",{className:"flex gap-1"},e.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),e.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),e.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})))),e.createElement("div",{ref:V})),ee&&e.createElement("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:()=>H(null)},e.createElement("button",{type:"button",onClick:()=>H(null),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors","aria-label":"Fermer"},e.createElement(_t,{className:"w-6 h-6"})),e.createElement("div",{className:"relative max-w-[90vw] max-h-[90vh] p-4"},e.createElement("img",{src:ee,alt:"Image agrandie",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:Ge=>Ge.stopPropagation()}))),N&&e.createElement("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 p-3"},e.createElement("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},"Rponses rapides"),e.createElement("div",{className:"flex flex-wrap gap-2"},nT.map((Ge,ft)=>e.createElement("button",{key:ft,type:"button",onClick:()=>mt(Ge),className:"px-3 py-1.5 rounded-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 hover:border-indigo-300 hover:text-indigo-700 transition-all"},Ge)))),b&&e.createElement("div",{className:"px-4 py-2 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-800 flex items-center gap-2"},e.createElement(Sp,{className:"w-4 h-4 text-red-500"}),e.createElement("p",{className:"text-sm text-red-700 dark:text-red-300 flex-1"},b),e.createElement("button",{type:"button",onClick:()=>w(""),className:"text-red-500 hover:text-red-700"},e.createElement(_t,{className:"w-4 h-4"}))),T.length>0&&e.createElement("div",{className:"border-t border-gray-100 bg-gray-50/50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/50"},e.createElement("div",{className:"flex flex-wrap gap-2"},T.map((Ge,ft)=>e.createElement("div",{key:Ge.url||Ge.filename||`preview-att-${ft}`,className:"relative"},Ge.type==="image"?e.createElement("div",{className:"relative"},e.createElement("img",{src:Ge.url,alt:Ge.filename,className:"h-16 w-16 rounded-lg object-cover"}),e.createElement("button",{type:"button",onClick:()=>O(We=>We.filter((Ye,be)=>be!==ft)),className:"absolute -right-1 -top-1 rounded-full bg-red-500 p-0.5 text-white"},e.createElement(_t,{className:"h-3 w-3"}))):e.createElement("div",{className:"flex items-center gap-2 rounded-lg bg-white dark:bg-gray-700 px-2 py-1"},e.createElement(U5,{className:"h-4 w-4"}),e.createElement("span",{className:"text-xs"},Ge.filename),e.createElement("button",{type:"button",onClick:()=>O(We=>We.filter((Ye,be)=>be!==ft)),className:"text-red-500"},e.createElement(_t,{className:"h-3 w-3"}))))))),e.createElement("form",{onSubmit:it,className:"p-3 border-t border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-900"},e.createElement("div",{className:"flex items-end gap-2"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement("input",{ref:he,type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.txt,audio/*",onChange:xe,className:"hidden"}),e.createElement("button",{type:"button",onClick:()=>he.current?.click(),className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",title:"Joindre un fichier"},e.createElement(Tu,{className:"h-5 w-5"})),R?e.createElement("button",{type:"button",onClick:Je,className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-red-500 text-white transition-colors hover:bg-red-600",title:"Arrter l'enregistrement"},e.createElement(uF,{className:"h-5 w-5"})):e.createElement("button",{type:"button",onMouseDown:He,onMouseUp:Je,onTouchStart:He,onTouchEnd:Je,className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",title:"Enregistrer un message vocal"},e.createElement(fF,{className:"h-5 w-5"}))),e.createElement("div",{className:"flex-1 relative"},e.createElement("textarea",{ref:ue,value:E,onChange:Ge=>x(Ge.target.value),placeholder:R?`Enregistrement... ${j}s`:"Tapez votre message...",rows:1,maxLength:1e3,className:"w-full px-4 py-2.5 rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none transition-all",style:{minHeight:"44px",maxHeight:"120px"},disabled:R,onKeyDown:Ge=>{Ge.key==="Enter"&&!Ge.shiftKey&&!R&&(Ge.preventDefault(),it(Ge))},onInput:Ge=>{Ge.target.style.height="auto",Ge.target.style.height=Math.min(Ge.target.scrollHeight,120)+"px"}})),e.createElement("button",{type:"button",onClick:()=>{const Ge=["","","","","",""],ft=Ge[Math.floor(Math.random()*Ge.length)],We=d[d.length-1];We&&xt(We._id,ft)},className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",title:"Ajouter une raction"},e.createElement(YF,{className:"h-5 w-5"})),e.createElement("button",{type:"submit",disabled:!E.trim()&&T.length===0||f||R,className:"p-2.5 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl disabled:shadow-none"},f?e.createElement(ku,{className:"w-5 h-5 animate-spin"}):e.createElement(ag,{className:"w-5 h-5"}))),e.createElement("div",{className:"flex items-center justify-between mt-2 px-1"},e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-400"},e.createElement(Jn,{className:"w-3 h-3"}),e.createElement("span",null,K?"Messages chiffrs de bout en bout":"Messages protgs par chiffrement de bout en bout")),e.createElement("span",{className:`text-xs ${E.length>900?"text-amber-500":"text-gray-400"}`},E.length,"/1000")))))}const jo={pending:"En attente",confirmed:"Confirme",delivering:"En cours de livraison",delivered:"Livre",cancelled:"Annule"},sp={pending:"bg-gray-100 text-gray-700",confirmed:"bg-yellow-100 text-yellow-800",delivering:"bg-blue-100 text-blue-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},joe=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],sT=12;function Roe(){const{user:t}=g.useContext(fr),r=ts(),[a,n]=g.useState(null),[s,o]=g.useState(!1),[i,d]=g.useState([]),[u,m]=g.useState(!1),[p,f]=g.useState(""),[y,b]=g.useState("all"),[w,E]=g.useState(""),[x,N]=g.useState(""),[k,A]=g.useState(1),[P,S]=g.useState({total:0,totalPages:1}),[_,T]=g.useState(!1),[O,R]=g.useState(""),[D,j]=g.useState(""),[$,K]=g.useState(!1),[W,z]=g.useState(null),[Q,ee]=g.useState(!1),[H,q]=g.useState(null),[B,G]=g.useState(""),[Y,V]=g.useState(!1),[J,ue]=g.useState(""),[he,Oe]=g.useState([]),[te,ie]=g.useState(!1),[de,Ce]=g.useState(""),[ne,re]=g.useState({}),[Ie,fe]=g.useState(""),[Le,at]=g.useState(""),[nt,it]=g.useState([]),[xe,He]=g.useState([]),[Je,xt]=g.useState(null),[ht,mt]=g.useState([]),[pt,bt]=g.useState({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),Pt=g.useCallback(()=>{z(null),ee(!1),K(!0)},[]),Ge=g.useCallback(L=>{L&&(z(null),K(!1),q(L),G(L.deliveryGuy?._id||""),ue(""),ee(!0))},[]),ft=g.useCallback(()=>{ee(!1),q(null),G(""),ue("")},[]),We=L=>Number(L||0).toLocaleString("fr-FR"),Ye=L=>String(L??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),be=L=>L.items&&L.items.length?L.items:L.productSnapshot?[{snapshot:L.productSnapshot,quantity:1,product:L.product?._id}]:[],ut=L=>{const me=be(L),Se=Ye(L.deliveryGuy?.name||""),Ae=Ye(L.deliveryGuy?.phone||""),Fe=me.reduce((sr,Lr)=>{const Ir=Number(Lr.snapshot?.price||Lr.product?.price||0),ea=Number(Lr.quantity||1);return sr+Ir*ea},0),ct=Number(L.totalAmount??Fe),Qe=Number(L.paidAmount||0),It=L.remainingAmount!=null?Number(L.remainingAmount):Math.max(0,ct-Qe),Mt=Ye(L.paymentName||"Non renseign"),wt=Ye(L.paymentTransactionCode||"Non renseign"),Br=me.map((sr,Lr)=>{const Ir=Ye(sr.snapshot?.title||"Produit"),ea=Ye(sr.snapshot?.shopName||""),Oa=Ye(sr.snapshot?.confirmationNumber||""),Er=Number(sr.quantity||1),Dr=We(sr.snapshot?.price||0),Cr=We((sr.snapshot?.price||0)*Er);return`
          <tr>
            <td>${Lr+1}</td>
            <td>
              <div class="title">${Ir}</div>
              ${ea?`<div class="meta">Boutique: ${ea}</div>`:""}
              ${Oa?`<div class="meta">Code: ${Oa}</div>`:""}
            </td>
            <td class="right">x${Er}</td>
            <td class="right">${Dr} FCFA</td>
            <td class="right">${Cr} FCFA</td>
          </tr>
        `}).join(""),Or=Ye(L._id||""),na=Ye(L._id?.slice(-6)||""),tr=`
      <!doctype html>
      <html lang="fr">
        <head>
          <meta charset="utf-8" />
          <title>Bon de commande et de livraison</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body { font-family: "Helvetica Neue", Arial, sans-serif; margin: 32px; color: #111827; }
            .page { position: relative; z-index: 1; }
            .watermark {
              position: fixed;
              top: 45%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-18deg);
              font-size: 40px;
              letter-spacing: 0.4em;
              text-transform: uppercase;
              color: rgba(15, 23, 42, 0.08);
              white-space: nowrap;
              pointer-events: none;
              z-index: 0;
            }
            .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; }
            .brand { display: flex; align-items: center; gap: 12px; }
            .logo { width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; padding: 6px; }
            .title { font-size: 22px; font-weight: 700; }
            .badge { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #6b7280; }
            .meta-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; margin-top: 20px; }
            .meta-box { border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px 14px; }
            .meta-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .meta-box p { margin: 4px 0; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin-top: 24px; }
            th, td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; font-size: 13px; vertical-align: top; }
            th { background: #f9fafb; font-size: 12px; text-transform: uppercase; letter-spacing: 0.15em; color: #6b7280; }
            .right { text-align: right; }
            .total-row td { font-weight: 700; border-top: 2px solid #111827; }
            .signature { margin-top: 32px; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
            .signature-box { border: 1px dashed #cbd5f5; border-radius: 12px; padding: 16px; min-height: 90px; }
            .signature-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .signature-line { margin-top: 24px; border-bottom: 1px solid #9ca3af; height: 1px; }
            .notes { margin-top: 20px; font-size: 12px; color: #6b7280; }
            .print-actions { margin-top: 24px; display: flex; justify-content: flex-end; }
            .print-btn { padding: 10px 16px; border-radius: 999px; border: 1px solid #111827; background: #111827; color: #fff; font-weight: 600; cursor: pointer; }
            .security { margin-top: 12px; font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.2em; }
            @media print {
              body { margin: 0; }
              .print-actions { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="watermark">HDMarket  Document Officiel</div>
          <div class="page">
            <div class="header">
              <div class="brand">
                <img src="${`${window.location.origin}/favicon.svg`}" alt="HDMarket" class="logo" />
                <div>
                  <div class="title">Bon de commande et de livraison</div>
                  <div class="badge">HDMarket</div>
                </div>
              </div>
              <div class="right">
                <div class="badge">Commande #${na}</div>
                <div>${Ye(new Date(L.createdAt).toLocaleDateString("fr-FR"))}</div>
                <div class="security">Rf: ${Or}</div>
              </div>
            </div>

            <div class="meta-grid">
              <div class="meta-box">
                <h4>Client</h4>
                <p>${Ye(L.customer?.name||"Client")}</p>
                <p>${Ye(L.customer?.phone||"")}</p>
                <p>${Ye(L.customer?.email||"")}</p>
              </div>
            <div class="meta-box">
              <h4>Livraison</h4>
              <p>${Ye(L.deliveryAddress||"")}</p>
              <p>${Ye(L.deliveryCity||"")}</p>
              ${L.trackingNote?`<p>${Ye(L.trackingNote)}</p>`:""}
              ${Se?`<p>Livreur: ${Se}${Ae?`  ${Ae}`:""}</p>`:""}
            </div>
            <div class="meta-box">
              <h4>Paiement</h4>
              <p>Acompte vers: ${We(Qe)} FCFA</p>
              <p>Reste  payer: ${We(It)} FCFA</p>
              <p>Nom du payeur: ${Mt}</p>
              <p>Transaction: ${wt}</p>
            </div>
            </div>

            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Article</th>
                  <th class="right">Qt</th>
                  <th class="right">Prix</th>
                  <th class="right">Total</th>
                </tr>
              </thead>
              <tbody>
                ${Br}
                <tr class="total-row">
                  <td colspan="4" class="right">Total commande</td>
                  <td class="right">${We(ct)} FCFA</td>
                </tr>
              </tbody>
            </table>

            <div class="signature">
              <div class="signature-box">
                <h4>Signature client</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature  la livraison.</p>
              </div>
              <div class="signature-box">
                <h4>Signature livreur</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature.</p>
              </div>
            </div>

            <p class="notes">
              Ce document fait foi de bon de commande et de livraison. Merci de vrifier les articles avant signature.
              Toute copie doit comporter la rfrence unique ${Or}.
            </p>

            <div class="print-actions">
              <button class="print-btn" id="print-btn">Imprimer / PDF</button>
            </div>

            <script>
              document.getElementById('print-btn').addEventListener('click', () => window.print());
            <\/script>
          </div>
        </body>
      </html>
    `,lr=window.open("","_blank");if(!lr){const sr=new Blob([tr],{type:"text/html"}),Lr=URL.createObjectURL(sr);window.location.href=Lr,setTimeout(()=>URL.revokeObjectURL(Lr),1500);return}lr.document.open(),lr.document.write(tr),lr.document.close(),lr.focus()},et=L=>{mt(me=>me.some(Se=>Se.product._id===L._id)?me:[...me,{product:L,quantity:1}])},Z=L=>{mt(me=>me.filter(Se=>Se.product._id!==L))},Ee=(L,me)=>{const Se=Math.max(1,Number(me)||1);mt(Ae=>Ae.map(Fe=>Fe.product._id===L?{...Fe,quantity:Se}:Fe))},le=g.useCallback(async()=>{o(!0);try{const{data:L}=await se.get("/orders/admin/stats");n(L)}catch(L){console.error("Erreur stats commandes:",L)}finally{o(!1)}},[]),Ne=g.useCallback(async()=>{ie(!0),Ce("");try{const{data:L}=await se.get("/admin/delivery-guys?limit=100"),me=Array.isArray(L)?L:L?.items||[];Oe(me)}catch(L){Ce(L.response?.data?.message||"Impossible de charger les livreurs."),Oe([])}finally{ie(!1)}},[]),tt=g.useCallback(async L=>{if(!L||L.length===0||!t?._id)return{};try{return(await Promise.all(L.map(async Se=>{try{const{data:Ae}=await se.get(`/orders/${Se}/messages`),Fe=Array.isArray(Ae)?Ae.filter(ct=>String(ct.recipient?._id)===String(t._id)&&!ct.readAt):[];return{orderId:Se,count:Fe.length}}catch{return{orderId:Se,count:0}}}))).reduce((Se,{orderId:Ae,count:Fe})=>(Se[Ae]=Fe,Se),{})}catch{return{}}},[t?._id]),lt=g.useCallback(async()=>{m(!0),f("");try{const L=new URLSearchParams;L.set("page",k),L.set("limit",sT),y!=="all"&&L.append("status",y),x&&L.append("search",x);const{data:me}=await se.get(`/orders/admin?${L.toString()}`),Se=Array.isArray(me)?me:me?.items||[];d(Se);const Ae=Se.map(ct=>ct._id),Fe=await tt(Ae);re(Fe),S({total:me?.total??Se.length,totalPages:me?.totalPages??1}),me?.page&&me.page!==k&&A(me.page)}catch(L){f(L.response?.data?.message||L.message||"Impossible de charger les commandes."),d([]),S({total:0,totalPages:1})}finally{m(!1)}},[y,x,k]),gt=g.useCallback(async(L="")=>{try{const{data:me}=await se.get(L.trim()?`/orders/admin/customers?search=${encodeURIComponent(L.trim())}`:"/orders/admin/customers");it(Array.isArray(me)?me:[])}catch(me){console.error("Erreur chargement clients",me)}},[]),F=g.useCallback(async(L="")=>{try{const{data:me}=await se.get(L.trim()?`/orders/admin/products?search=${encodeURIComponent(L.trim())}`:"/orders/admin/products");He(Array.isArray(me)?me:[])}catch(me){console.error("Erreur chargement produits",me)}},[]);g.useEffect(()=>{le(),gt(),F(),Ne()},[le,gt,F,Ne]),g.useEffect(()=>{lt()},[lt]),g.useEffect(()=>{const L=setTimeout(()=>{N(w.trim())},400);return()=>clearTimeout(L)},[w]),g.useEffect(()=>{A(1)},[y,x]);const we=async(L,me)=>{const Se=i.find(Ae=>Ae._id===L);try{const{data:Ae}=await se.patch(`/orders/admin/${L}`,me),Fe=Ae,ct=Se?.status,Qe=Fe?.status||ct,It=y!=="all"&&Qe&&y!==Qe;if(d(Mt=>Array.isArray(Mt)?It?Mt.filter(wt=>wt._id!==L):Mt.map(wt=>wt._id===L?Fe:wt):Mt),It){const Mt=Math.max(0,(P.total||0)-1),wt=Math.max(1,Math.ceil(Mt/sT));S(Br=>({...Br,total:Mt,totalPages:wt})),k>wt&&A(wt)}return ct&&Qe&&ct!==Qe&&(n(Mt=>Mt?.statusCounts?{...Mt,statusCounts:{...Mt.statusCounts,[ct]:Math.max(0,(Mt.statusCounts[ct]||0)-1),[Qe]:(Mt.statusCounts[Qe]||0)+1}}:Mt),z({orderId:L,status:Qe})),Fe}catch(Ae){return alert(Ae.response?.data?.message||"Impossible de mettre  jour la commande."),null}},ye=async L=>{if(L.preventDefault(),!(!Je||ht.length===0)){T(!0),R(""),j("");try{await se.post("/orders/admin",{customerId:Je._id,deliveryAddress:pt.deliveryAddress.trim(),deliveryCity:pt.deliveryCity,trackingNote:pt.trackingNote.trim(),items:ht.map(({product:me,quantity:Se})=>({productId:me._id,quantity:Se}))}),j("Commande cre avec succs."),xt(null),mt([]),bt({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),K(!1),await Promise.all([lt(),le()])}catch(me){R(me.response?.data?.message||"Impossible de crer la commande.")}finally{T(!1)}}};g.useEffect(()=>{Je&&bt(L=>({...L,deliveryAddress:Je.address||L.deliveryAddress||"",deliveryCity:Je.city||L.deliveryCity||"Brazzaville"}))},[Je]),g.useEffect(()=>{$||(R(""),j(""))},[$]),g.useEffect(()=>{Q||(ue(""),V(!1))},[Q]);const ke=()=>e.createElement("div",{className:"flex flex-wrap gap-2"},["all","pending","confirmed","delivering","delivered","cancelled"].map(L=>{const me=L==="pending"&&a?.statusCounts?.pending||0,Se=a?.statusCounts?.[L]||0,Ae=y===L;return e.createElement("button",{key:L,type:"button",onClick:()=>b(L),className:`px-4 py-2 text-xs font-semibold rounded-3xl border-2 transition-all duration-200 active:scale-95 flex items-center gap-2 shadow-sm ${Ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-600 shadow-lg":"bg-white text-gray-700 border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`},e.createElement("span",null,L==="all"?"Toutes":jo[L]),L==="pending"&&me>0&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${Ae?"bg-white/30 text-white":"bg-indigo-600 text-white"}`},me),L!=="all"&&L!=="pending"&&Se>0&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${Ae?"bg-white/30 text-white":"bg-indigo-600 text-white"}`},Se))}));return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},e.createElement(ca,{className:"w-6 h-6 text-indigo-600"}),"Gestion des commandes"),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:Pt,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700"},e.createElement(Ai,{className:"h-4 w-4"}),"Crer une commande"),e.createElement(pe,{to:"/admin",className:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center gap-1"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour au tableau de bord"))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},["pending","confirmed","delivering","delivered","cancelled"].map(L=>{const me=s?0:a?.statusCounts?.[L]||0,Se={pending:"bg-gradient-to-br from-gray-50 to-gray-100",confirmed:"bg-gradient-to-br from-amber-50 to-yellow-100",delivering:"bg-gradient-to-br from-blue-50 to-indigo-100",delivered:"bg-gradient-to-br from-emerald-50 to-green-100",cancelled:"bg-gradient-to-br from-red-50 to-pink-100"},Ae={pending:"text-gray-600",confirmed:"text-amber-600",delivering:"text-blue-600",delivered:"text-emerald-600",cancelled:"text-red-600"};return e.createElement("div",{key:L,className:`${Se[L]} border-2 border-transparent rounded-3xl p-5 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:`w-12 h-12 rounded-2xl ${Se[L]} flex items-center justify-center shadow-md`},L==="pending"&&e.createElement(Ut,{className:`w-6 h-6 ${Ae[L]}`}),L==="confirmed"&&e.createElement(Ot,{className:`w-6 h-6 ${Ae[L]}`}),L==="delivering"&&e.createElement(Tr,{className:`w-6 h-6 ${Ae[L]}`}),L==="delivered"&&e.createElement(Qt,{className:`w-6 h-6 ${Ae[L]}`}),L==="cancelled"&&e.createElement(_t,{className:`w-6 h-6 ${Ae[L]}`}))),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase font-bold text-gray-600 mb-1 tracking-wide"},jo[L]),e.createElement("p",{className:`text-3xl font-black ${Ae[L]}`},s?"...":me.toLocaleString("fr-FR"))))})),$&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>K(!1)}),e.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-xl border border-gray-100 p-4 sm:p-6 max-h-[85vh] overflow-auto",onClick:L=>L.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},e.createElement("div",{className:"flex items-center gap-2 text-gray-900 font-semibold text-lg"},e.createElement(Ai,{className:"w-5 h-5 text-green-600"}),"Crer une commande"),e.createElement("button",{type:"button",onClick:()=>K(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("form",{className:"space-y-4",onSubmit:ye},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},e.createElement(va,{size:16}),"Client"),e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche client",value:Ie,onChange:L=>{fe(L.target.value),gt(L.target.value)}})),e.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},nt.map(L=>e.createElement("button",{type:"button",key:L._id,onClick:()=>xt(L),className:`w-full text-left px-3 py-2 text-sm flex flex-col ${Je?._id===L._id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50"}`},e.createElement("span",{className:"font-semibold"},L.name),e.createElement("span",{className:"text-xs text-gray-500"},L.email),e.createElement("span",{className:"text-xs text-gray-500"},L.phone))))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},e.createElement(Ot,{size:16}),"Produit"),e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche produit",value:Le,onChange:L=>{at(L.target.value),F(L.target.value)}})),e.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},xe.map(L=>{const me=ht.some(Se=>Se.product._id===L._id);return e.createElement("div",{key:L._id,className:"px-3 py-2 text-sm flex flex-col gap-1 hover:bg-gray-50"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("div",null,e.createElement("span",{className:"font-semibold text-gray-900"},L.title),e.createElement("span",{className:"block text-xs text-gray-500"},Number(L.price||0).toLocaleString()," FCFA "," ",L.user?.shopName||L.user?.name||"Boutique")),e.createElement("button",{type:"button",onClick:()=>et(L),disabled:me,className:`px-2 py-1 text-xs rounded-full border ${me?"border-gray-200 text-gray-400 cursor-not-allowed":"border-indigo-200 text-indigo-600 hover:bg-indigo-50"}`},me?"Ajout":"Ajouter")))})),ht.length>0&&e.createElement("div",{className:"mt-4 bg-gray-50 rounded-2xl border border-gray-100 p-3 space-y-2"},e.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Produits slectionns"),ht.map(({product:L,quantity:me})=>e.createElement("div",{key:L._id,className:"flex items-center gap-3 text-sm bg-white rounded-xl border border-gray-100 px-3 py-2"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-medium text-gray-900"},L.title),e.createElement("p",{className:"text-xs text-gray-500"},Number(L.price||0).toLocaleString()," FCFA")),e.createElement("input",{type:"number",min:1,value:me,onChange:Se=>Ee(L._id,Se.target.value),className:"w-16 border border-gray-200 rounded-lg px-2 py-1 text-sm text-center"}),e.createElement("button",{type:"button",onClick:()=>Z(L._id),className:"text-xs text-red-600 hover:text-red-500"},"Retirer")))))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(yr,{size:16}),"Adresse de livraison *"),e.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,value:pt.deliveryAddress,onChange:L=>bt(me=>({...me,deliveryAddress:L.target.value})),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Tr,{size:16}),"Ville de livraison *"),e.createElement("select",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:pt.deliveryCity,onChange:L=>bt(me=>({...me,deliveryCity:L.target.value}))},joe.map(L=>e.createElement("option",{key:L,value:L},L))),e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Bc,{size:16}),"Note de suivi"),e.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:pt.trackingNote,onChange:L=>bt(me=>({...me,trackingNote:L.target.value}))}))),O&&e.createElement("p",{className:"text-sm text-red-600"},O),D&&e.createElement("p",{className:"text-sm text-green-600"},D),e.createElement("button",{type:"submit",disabled:_||!Je||ht.length===0||!pt.deliveryAddress.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},e.createElement(Ai,{size:16}),"Ajouter la commande")))),Q&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:ft}),e.createElement("div",{className:"relative w-full max-w-md rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:L=>L.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Assigner un livreur"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commande #",H?._id?.slice(-6))),e.createElement("button",{type:"button",onClick:ft,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("div",{className:"space-y-3"},e.createElement("div",null,e.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Tr,{size:16}),"Livreur"),e.createElement("select",{value:B,onChange:L=>G(L.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:te||Y},e.createElement("option",{value:""},"Assigner un livreur"),he.map(L=>e.createElement("option",{key:L._id,value:L._id},L.name))),de&&e.createElement("p",{className:"mt-2 text-xs text-red-500"},de),J&&e.createElement("p",{className:"mt-2 text-xs text-red-500"},J)),e.createElement("button",{type:"button",onClick:async()=>{if(!H?._id)return;V(!0),ue(""),await we(H._id,{deliveryGuyId:B})?ft():(ue("Impossible de mettre  jour le livreur."),V(!1))},disabled:Y,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},Y?"Mise  jour...":"Enregistrer")))),W&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:()=>z(null)}),e.createElement("div",{className:"relative w-full max-w-sm rounded-3xl bg-white shadow-xl border border-gray-100 p-6 text-center",onClick:L=>L.stopPropagation()},e.createElement("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600"},e.createElement(Qt,{className:"h-6 w-6"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Statut mis  jour"),e.createElement("p",{className:"mt-1 text-sm text-gray-600"},"Commande #",W.orderId.slice(-6),"  ",jo[W.status]),e.createElement("button",{type:"button",onClick:()=>z(null),className:"mt-4 inline-flex items-center justify-center rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-300"},"OK"))),e.createElement("section",{className:"bg-gradient-to-br from-white to-gray-50 rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},e.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap items-center gap-3"},ke()),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"relative flex-1 sm:flex-initial sm:min-w-[300px]"},e.createElement(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("input",{type:"text",placeholder:"Rechercher par produit, client, adresse...",value:w,onChange:L=>E(L.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-3xl border-2 border-gray-200 bg-white text-sm font-medium text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",title:"Rechercher par nom de produit, nom du client, email, tlphone, adresse de livraison ou note de suivi"})),e.createElement("button",{type:"button",onClick:lt,disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-gray-100 border-2 border-gray-200 px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-200 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},e.createElement(Bc,{className:`w-4 h-4 ${u?"animate-spin":""}`}),e.createElement("span",{className:"hidden sm:inline"},"Actualiser")))),p&&e.createElement("p",{className:"text-sm text-red-600"},p),u?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):i.length===0?e.createElement("p",{className:"text-sm text-gray-500 text-center py-6"},"Aucune commande  afficher."):e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-3 md:hidden"},i.map(L=>{const me=L.items&&L.items.length?L.items:L.productSnapshot?[{snapshot:L.productSnapshot,quantity:1,product:L.product?._id}]:[],Se=me.reduce((Qe,It)=>{const Mt=Number(It.snapshot?.price||It.product?.price||0),wt=Number(It.quantity||1);return Qe+Mt*wt},0),Ae=Number(L.totalAmount??Se),Fe=Number(L.paidAmount||0),ct=L.remainingAmount!=null?Number(L.remainingAmount):Math.max(0,Ae-Fe);return e.createElement("div",{key:L._id,className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"text-sm font-semibold text-gray-900"},"Commande #",L._id.slice(-6)),e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${sp[L.status]||sp.pending}`},jo[L.status]||"Inconnu")),e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-1"},e.createElement(Ut,{size:12}),new Date(L.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},e.createElement(va,{size:14}),L.customer?.name||"Client"),e.createElement("p",{className:"text-xs text-gray-500"},L.customer?.phone),e.createElement("p",{className:"text-xs text-gray-500"},L.customer?.email)),e.createElement("div",{className:"space-y-2 text-sm text-gray-700"},me.map(Qe=>e.createElement("div",{key:`${L._id}-${Qe.product}-${Qe.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("span",{className:"font-medium truncate"},Qe.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",Qe.quantity,"  ",Number(Qe.snapshot?.price||0).toLocaleString()," FCFA")),Qe.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",Qe.snapshot.confirmationNumber)))),L.deliveryCode&&e.createElement("div",{className:"rounded-xl border-2 border-indigo-200 bg-indigo-50 p-3 mb-3"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(_a,{size:14,className:"text-indigo-600"}),e.createElement("p",{className:"text-[11px] font-semibold text-indigo-700 uppercase tracking-wide"},"Code de livraison")),e.createElement("div",{className:"text-center"},e.createElement("span",{className:"text-2xl font-black text-indigo-900 tracking-wider font-mono"},L.deliveryCode))),e.createElement("div",{className:"space-y-1 text-sm text-gray-700"},e.createElement("p",{className:"flex items-center gap-1"},e.createElement(yr,{size:14,className:"text-gray-500"}),L.deliveryCity),e.createElement("p",{className:"text-xs text-gray-500"},L.deliveryAddress),L.trackingNote&&e.createElement("p",{className:"text-xs text-gray-500 italic"},L.trackingNote)),e.createElement("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3 text-xs text-slate-600 space-y-1"},e.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500"},"Paiement"),e.createElement("p",null,"Acompte vers:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},We(Fe)," FCFA")),e.createElement("p",null,"Reste  payer:"," ",e.createElement("span",{className:"font-semibold text-slate-900"},We(ct)," FCFA")),e.createElement("p",null,"Nom du payeur: ",L.paymentName||"Non renseign"),e.createElement("p",null,"Transaction: ",L.paymentTransactionCode||"Non renseign")),e.createElement("div",{className:"space-y-2"},e.createElement("select",{value:L.status,onChange:Qe=>we(L._id,{status:Qe.target.value}),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(jo).map(Qe=>e.createElement("option",{key:Qe,value:Qe},jo[Qe]))),e.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 px-3 py-2"},e.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),e.createElement("p",{className:"text-xs text-gray-700"},L.deliveryGuy?.name||"Non assign"),e.createElement("button",{type:"button",onClick:()=>Ge(L),className:"mt-2 text-xs font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),e.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:L.trackingNote||"",onChange:Qe=>we(L._id,{trackingNote:Qe.target.value})}),e.createElement("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50 p-3"},e.createElement(fd,{order:L,buttonText:"Contacte l'acheteur",unreadCount:ne[L._id]||0})),L.status==="confirmed"&&e.createElement("button",{type:"button",onClick:()=>ut(L),className:"w-full inline-flex items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100"},e.createElement(ca,{size:14}),"Bon de commande (PDF)"),L.status==="cancelled"&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 space-y-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(_t,{className:"w-4 h-4 text-red-600"}),e.createElement("p",{className:"text-xs font-bold text-red-800"},"Commande annule")),L.cancellationReason&&e.createElement("p",{className:"text-xs text-red-700"},"Raison: ",L.cancellationReason),L.cancelledAt&&e.createElement("p",{className:"text-xs text-red-600"},"Annule le ",new Date(L.cancelledAt).toLocaleString("fr-FR")))))})),e.createElement("div",{className:"hidden md:block overflow-x-auto"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},e.createElement("thead",{className:"bg-gray-50"},e.createElement("tr",null,e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Commande"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Client"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Livraison"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),e.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),e.createElement("tbody",{className:"divide-y divide-gray-100"},i.map(L=>{const me=L.items&&L.items.length?L.items:L.productSnapshot?[{snapshot:L.productSnapshot,quantity:1,product:L.product?._id}]:[],Se=me.reduce((Qe,It)=>{const Mt=Number(It.snapshot?.price||It.product?.price||0),wt=Number(It.quantity||1);return Qe+Mt*wt},0),Ae=Number(L.totalAmount??Se),Fe=Number(L.paidAmount||0),ct=L.remainingAmount!=null?Number(L.remainingAmount):Math.max(0,Ae-Fe);return e.createElement("tr",{key:L._id,className:"hover:bg-gray-50"},e.createElement("td",{className:"px-3 py-3 space-y-2"},e.createElement("div",{className:"font-semibold text-gray-900 flex items-center gap-2"},e.createElement(Ot,{size:14,className:"text-gray-400"}),"Commande #",L._id.slice(-6)),e.createElement("div",{className:"space-y-2 text-xs text-gray-600"},me.map(Qe=>e.createElement("div",{key:`${L._id}-${Qe.product}-${Qe.snapshot?.title}`,className:"space-y-0.5"},e.createElement("div",null,e.createElement("span",{className:"font-semibold text-gray-900"},Qe.snapshot?.title||"Produit")," ",e.createElement("span",{className:"text-gray-500"},"x",Qe.quantity,"  ",Number(Qe.snapshot?.price||0).toLocaleString()," FCFA")),Qe.snapshot?.confirmationNumber&&e.createElement("span",{className:"block text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",Qe.snapshot.confirmationNumber)))),e.createElement("div",{className:"text-xs text-gray-400 flex items-center gap-1"},e.createElement(Ut,{size:12}),"Cre le"," ",new Date(L.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}))),e.createElement("td",{className:"px-3 py-3"},e.createElement("div",{className:"font-medium text-gray-900"},L.customer?.name),e.createElement("div",{className:"text-xs text-gray-500"},L.customer?.email),e.createElement("div",{className:"text-xs text-gray-500"},L.customer?.phone),e.createElement("div",{className:"mt-2 space-y-1 text-[11px] text-gray-500"},e.createElement("div",null,"Acompte vers:"," ",e.createElement("span",{className:"font-semibold text-gray-700"},We(Fe)," FCFA")),e.createElement("div",null,"Reste  payer:"," ",e.createElement("span",{className:"font-semibold text-gray-700"},We(ct)," FCFA")),e.createElement("div",null,"Nom du payeur: ",L.paymentName||"Non renseign"),e.createElement("div",null,"Transaction: ",L.paymentTransactionCode||"Non renseign"))),e.createElement("td",{className:"px-3 py-3 text-xs text-gray-600"},L.deliveryCode&&e.createElement("div",{className:"mb-2 p-2 rounded-lg border border-indigo-200 bg-indigo-50"},e.createElement("div",{className:"flex items-center gap-1 mb-1"},e.createElement(_a,{size:12,className:"text-indigo-600"}),e.createElement("span",{className:"font-semibold text-indigo-700"},"Code:")),e.createElement("span",{className:"text-lg font-black text-indigo-900 tracking-wider font-mono"},L.deliveryCode)),e.createElement("div",null,L.deliveryAddress),e.createElement("div",{className:"text-gray-500"},L.deliveryCity),L.trackingNote&&e.createElement("div",{className:"mt-1 italic text-gray-500"},L.trackingNote)),e.createElement("td",{className:"px-3 py-3"},e.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${sp[L.status]||sp.pending}`},jo[L.status]||"Inconnu")),e.createElement("td",{className:"px-3 py-3 space-y-2"},e.createElement("select",{value:L.status,onChange:Qe=>we(L._id,{status:Qe.target.value}),className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(jo).map(Qe=>e.createElement("option",{key:Qe,value:Qe},jo[Qe]))),e.createElement("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-2 py-2"},e.createElement("div",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),e.createElement("div",{className:"text-xs text-gray-700"},L.deliveryGuy?.name||"Non assign"),e.createElement("button",{type:"button",onClick:()=>Ge(L),className:"mt-1 text-[11px] font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),e.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:L.trackingNote||"",onChange:Qe=>we(L._id,{trackingNote:Qe.target.value})}),e.createElement("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50 p-2"},e.createElement(fd,{order:L,buttonText:"Contacte l'acheteur",unreadCount:ne[L._id]||0})),L.status==="confirmed"&&e.createElement("button",{type:"button",onClick:()=>ut(L),className:"inline-flex w-full items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100"},e.createElement(ca,{size:12}),"Bon de commande (PDF)"),L.status==="cancelled"&&e.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-2 space-y-1"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(_t,{className:"w-3 h-3 text-red-600"}),e.createElement("p",{className:"text-[11px] font-bold text-red-800"},"Annule")),L.cancellationReason&&e.createElement("p",{className:"text-[10px] text-red-700"},"Raison: ",L.cancellationReason),L.cancelledAt&&e.createElement("p",{className:"text-[10px] text-red-600"},"Le ",new Date(L.cancelledAt).toLocaleDateString("fr-FR"))),e.createElement("div",{className:"text-xs text-indigo-600 space-y-1"},me.map(Qe=>Qe.product?e.createElement(pe,{key:`${L._id}-${Qe.product}-${Qe.snapshot?.title}-link`,to:ar(Qe.product),...r,className:"block hover:text-indigo-500"},"Voir ",Qe.snapshot?.title||"Produit",""):e.createElement("span",{key:`${L._id}-${Qe.snapshot?.title}-text`,className:"block text-gray-500"},Qe.snapshot?.title||"Produit indisponible")))))})))),e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-t border-gray-100 pt-4"},e.createElement("p",{className:"text-sm text-gray-500"},"Page ",k," sur ",P.totalPages,"  ",P.total," commande",P.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>A(L=>Math.max(1,L-1)),disabled:k<=1,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>A(L=>Math.min(P.totalPages,L+1)),disabled:k>=P.totalPages,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Suivant"))))))}function $oe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(!1),[u,m]=g.useState({name:"",phone:"",active:!0}),[p,f]=g.useState(null),[y,b]=g.useState(""),[w,E]=g.useState(""),[x,N]=g.useState(1),[k,A]=g.useState({total:0,totalPages:1}),P=t.reduce((D,j)=>{D.total+=1,j.active&&(D.active+=1);const $=j.stats||{};return D.assigned+=Number($.totalAssigned||0),D.delivering+=Number($.delivering||0),D.delivered+=Number($.delivered||0),D},{total:0,active:0,assigned:0,delivering:0,delivered:0});P.inactive=Math.max(0,P.total-P.active);const S=async()=>{n(!0),o("");try{const D=new URLSearchParams;D.set("page",x),D.set("limit",12),w&&D.set("search",w);const{data:j}=await se.get(`/admin/delivery-guys?${D.toString()}`),$=Array.isArray(j)?j:j?.items||[];r($),A({total:j?.total??$.length,totalPages:j?.totalPages??1}),j?.page&&j.page!==x&&N(j.page)}catch(D){o(D.response?.data?.message||"Impossible de charger les livreurs."),A({total:0,totalPages:1})}finally{n(!1)}};g.useEffect(()=>{S()},[x,w]),g.useEffect(()=>{const D=setTimeout(()=>{E(y.trim())},300);return()=>clearTimeout(D)},[y]),g.useEffect(()=>{N(1)},[w]);const _=()=>{m({name:"",phone:"",active:!0}),f(null)},T=async D=>{if(D.preventDefault(),!!u.name.trim()){d(!0),o("");try{p?await se.patch(`/admin/delivery-guys/${p}`,{name:u.name.trim(),phone:u.phone.trim(),active:u.active}):await se.post("/admin/delivery-guys",{name:u.name.trim(),phone:u.phone.trim(),active:u.active}),await S(),_()}catch(j){o(j.response?.data?.message||"Impossible d'enregistrer le livreur.")}finally{d(!1)}}},O=D=>{f(D._id),m({name:D.name||"",phone:D.phone||"",active:!!D.active})},R=async D=>{if(D){d(!0),o("");try{await se.delete(`/admin/delivery-guys/${D}`),await S(),p===D&&_()}catch(j){o(j.response?.data?.message||"Impossible de supprimer le livreur.")}finally{d(!1)}}};return e.createElement("div",{className:"max-w-5xl mx-auto p-6 space-y-6"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-12 h-12 rounded-2xl bg-indigo-100 flex items-center justify-center text-indigo-600"},e.createElement(Tr,{size:22})),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-semibold text-gray-900"},"Gestion des livreurs"),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez, modifiez et activez les livreurs disponibles."))),s&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},s),e.createElement("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs font-semibold uppercase text-gray-400"},"Livreurs"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-gray-900"},P.total),e.createElement("p",{className:"text-xs text-gray-500"},"Total enregistrs")),e.createElement("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-emerald-500"},"Actifs"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-emerald-800"},P.active),e.createElement("p",{className:"text-xs text-emerald-700"},P.inactive," inactif(s)")),e.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-indigo-500"},"Commandes assignes"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-indigo-800"},P.assigned),e.createElement("p",{className:"text-xs text-indigo-700"},"Toutes priodes")),e.createElement("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/40 p-4"},e.createElement("p",{className:"text-xs font-semibold uppercase text-amber-500"},"En livraison"),e.createElement("p",{className:"mt-2 text-2xl font-semibold text-amber-800"},P.delivering),e.createElement("p",{className:"text-xs text-amber-700"},P.delivered," livre(s)"))),e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},e.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},p?"Modifier un livreur":"Ajouter un livreur"),e.createElement("form",{className:"mt-4 grid gap-4 md:grid-cols-[1.2fr_1fr_auto]",onSubmit:T},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Nom"),e.createElement("input",{type:"text",value:u.name,onChange:D=>m(j=>({...j,name:D.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ex: Jean K."})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Tlphone"),e.createElement("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2 text-sm focus-within:ring-2 focus-within:ring-indigo-500"},e.createElement(yo,{size:14,className:"text-gray-400"}),e.createElement("input",{type:"text",value:u.phone,onChange:D=>m(j=>({...j,phone:D.target.value})),className:"w-full border-none p-0 text-sm focus:outline-none",placeholder:"06 000 00 00"}))),e.createElement("div",{className:"flex flex-col justify-end gap-2"},e.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600"},e.createElement("input",{type:"checkbox",checked:u.active,onChange:D=>m(j=>({...j,active:D.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Actif"),e.createElement("button",{type:"submit",disabled:i||!u.name.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},p?e.createElement(xd,{size:16}):e.createElement(Ai,{size:16}),p?"Mettre  jour":"Ajouter")))),e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},e.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Livreurs"),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement(ir,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.createElement("input",{type:"search",value:y,onChange:D=>b(D.target.value),className:"w-56 rounded-xl border border-gray-200 py-2 pl-9 pr-3 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un livreur"})),e.createElement("span",{className:"text-xs text-gray-400"},k.total," enregistr(s)"))),a?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement des livreurs"):t.length===0?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun livreur enregistr pour le moment."):e.createElement("div",{className:"mt-4 divide-y divide-gray-100"},t.map(D=>e.createElement("div",{key:D._id,className:"flex flex-wrap items-center justify-between gap-3 py-3"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},D.name),e.createElement("p",{className:"text-xs text-gray-500"},D.phone||"Tlphone non renseign"),e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-gray-500"},e.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-0.5"},"Assignes: ",D.stats?.totalAssigned||0),e.createElement("span",{className:"rounded-full bg-blue-100/70 px-2 py-0.5 text-blue-700"},"En cours: ",D.stats?.delivering||0),e.createElement("span",{className:"rounded-full bg-emerald-100/70 px-2 py-0.5 text-emerald-700"},"Livres: ",D.stats?.delivered||0))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${D.active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`},D.active?"Actif":"Inactif"),e.createElement("button",{type:"button",onClick:()=>O(D),className:"inline-flex items-center gap-1 rounded-lg border border-gray-200 px-2 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},e.createElement(Bu,{size:14}),"Modifier"),e.createElement("button",{type:"button",onClick:()=>R(D._id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-2 py-1 text-xs font-semibold text-red-600 hover:bg-red-50"},e.createElement(Li,{size:14}),"Supprimer"))))),k.totalPages>1&&e.createElement("div",{className:"mt-4 flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",null,"Page ",x," sur ",k.totalPages,"  ",k.total," livreur",k.total>1?"s":""),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>N(D=>Math.max(1,D-1)),disabled:x<=1,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>N(D=>Math.min(k.totalPages,D+1)),disabled:x>=k.totalPages,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const Loe=12;function Ioe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(1),[u,m]=g.useState(1),p=async()=>{n(!0),o("");try{const{data:f}=await se.get("/products/public",{params:{sort:"discount",limit:Loe,page:i}}),b=(Array.isArray(f?.items)?f.items:Array.isArray(f)?f:[]).filter(w=>Number(w.discount)>0);r(b),m(f?.pagination?.pages||1)}catch(f){o(f.response?.data?.message||f.message||"Impossible de charger les bonnes affaires.")}finally{n(!1)}};return g.useEffect(()=>{p()},[i]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Bonnes affaires"),e.createElement("p",{className:"text-sm text-gray-500"},"Dcouvrez les produits au prix le plus bas actuellement approuvs sur la plateforme.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((f,y)=>e.createElement("div",{key:y,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(f=>e.createElement(Da,{key:f._id,p:f}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",i," / ",u),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>d(f=>Math.max(1,f-1)),disabled:i<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>d(f=>Math.min(u,f+1)),disabled:i>=u,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bonne affaire disponible pour le moment. Revenez plus tard !"))}const Doe=60,pu=12;function zoe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(1),[u,m]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);g.useEffect(()=>{let b=!0;const w=new AbortController;return(async()=>{n(!0),o("");try{const{data:x}=await se.get("/products/public/highlights",{params:{limit:Doe},signal:w.signal});if(!b)return;const N=Array.isArray(x?.topRated)?x.topRated:[];r(N)}catch(x){if(w.signal.aborted)return;o(x.response?.data?.message||x.message||"Impossible de charger les produits mieux nots.")}finally{b&&n(!1)}})(),()=>{b=!1,w.abort()}},[]),g.useEffect(()=>{const b=()=>{typeof window>"u"||m(window.innerWidth<=767)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),g.useEffect(()=>{d(1)},[t.length]),g.useEffect(()=>{if(!u||i>=Math.max(1,Math.ceil(t.length/pu)))return;const b=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&d(E=>Math.min(E+1,Math.max(1,Math.ceil(t.length/pu))))};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[u,t.length,i]);const p=Math.max(1,Math.ceil(t.length/pu));g.useEffect(()=>{i>p&&d(p)},[i,p]);const f=g.useMemo(()=>{const b=i*pu;return t.slice(0,b)},[t,i]),y=()=>{if(u||t.length<=pu)return null;const b=Math.min(5,p),w=Math.floor(b/2);let E=Math.max(1,i-w),x=Math.min(p,E+b-1);E=Math.max(1,x-b+1);const N=Array.from({length:x-E+1},(k,A)=>E+A);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>d(k=>Math.max(1,k-1)),disabled:i<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),E>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>d(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),E>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),N.map(k=>e.createElement("button",{key:k,onClick:()=>d(k),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===k?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},k)),x<p&&e.createElement(e.Fragment,null,x<p-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>d(p),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===p?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},p)),e.createElement("button",{onClick:()=>d(k=>Math.min(p,k+1)),disabled:i>=p,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Top des valuations"),e.createElement("p",{className:"text-sm text-gray-500"},"Les produits les mieux nots par la communaut, classs par moyenne des avis.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((b,w)=>e.createElement("div",{key:w,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},f.map(b=>e.createElement(Da,{key:b._id,p:b}))),y()):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit n'a encore reu d'valuations suffisantes. Revenez un peu plus tard !"))}const Foe=60,gu=12;function Boe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(1),[u,m]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);g.useEffect(()=>{let b=!0;const w=new AbortController;return(async()=>{n(!0),o("");try{const{data:x}=await se.get("/products/public/highlights",{params:{limit:Foe},signal:w.signal});if(!b)return;const N=Array.isArray(x?.favorites)?x.favorites:[];r(N)}catch(x){if(w.signal.aborted)return;o(x.response?.data?.message||x.message||"Impossible de charger les produits favoris.")}finally{b&&n(!1)}})(),()=>{b=!1,w.abort()}},[]),g.useEffect(()=>{d(1)},[t.length]),g.useEffect(()=>{if(!u||i>=Math.max(1,Math.ceil(t.length/gu)))return;const b=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&d(E=>Math.min(E+1,Math.max(1,Math.ceil(t.length/gu))))};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[u,t.length,i]),g.useEffect(()=>{const b=()=>{typeof window>"u"||m(window.innerWidth<=767)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const p=Math.max(1,Math.ceil(t.length/gu));g.useEffect(()=>{i>p&&d(p)},[i,p]);const f=g.useMemo(()=>{const b=i*gu;return t.slice(0,b)},[t,i]),y=()=>{if(u||t.length<=gu)return null;const b=Math.min(5,p),w=Math.floor(b/2);let E=Math.max(1,i-w),x=Math.min(p,E+b-1);E=Math.max(1,x-b+1);const N=Array.from({length:x-E+1},(k,A)=>E+A);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>d(k=>Math.max(1,k-1)),disabled:i<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),E>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>d(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),E>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),N.map(k=>e.createElement("button",{key:k,onClick:()=>d(k),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===k?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},k)),x<p&&e.createElement(e.Fragment,null,x<p-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>d(p),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${i===p?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},p)),e.createElement("button",{onClick:()=>d(k=>Math.min(p,k+1)),disabled:i>=p,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Favoris de la communaut"),e.createElement("p",{className:"text-sm text-gray-500"},"Les annonces les plus sauvegardes par les acheteurs sur HDMarket.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((b,w)=>e.createElement("div",{key:w,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},f.map(b=>e.createElement(Da,{key:b._id,p:b}))),y()):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun favori pour le moment. Ajoutez des produits  vos favoris pour les voir ici !"))}const qoe=12;function Uoe(){const t=Zr(),[r,a]=g.useState([]),[n,s]=g.useState(!1),[o,i]=g.useState(""),[d,u]=g.useState(1),[m,p]=g.useState(1),[f,y]=hd(),b=Number(f.get("page"));g.useEffect(()=>{Number.isInteger(b)&&b>0&&u(b)},[b]);const w=async()=>{s(!0),i("");try{const{data:E}=await se.get("/products/public/top-sales",{params:{limit:qoe,page:d}}),x=Array.isArray(E?.items)?E.items:Array.isArray(E)?E:[];a(x),p(E?.pagination?.pages||1)}catch(E){i(E.response?.data?.message||E.message||"Impossible de charger les produits les plus vendus.")}finally{s(!1)}};return g.useEffect(()=>{w()},[d]),g.useEffect(()=>{y(E=>{const x=new URLSearchParams(E);return d===1?x.delete("page"):x.set("page",String(d)),x},{replace:!0})},[d,y]),e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("main",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6"},e.createElement("header",{className:"bg-gradient-to-br from-orange-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-orange-950/20 rounded-3xl p-4 sm:p-6 lg:p-8 border border-gray-200/60 dark:border-gray-700/50 shadow-lg"},e.createElement("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour"),e.createElement("div",{className:"flex items-center gap-3 sm:gap-4 mb-4"},e.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(Xt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})),e.createElement("div",null,e.createElement("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-black text-gray-900 dark:text-white"},"Produits les plus vendus"),e.createElement("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1"},"Les best-sellers de HDMarket bass sur les ventes relles")))),n?e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},Array.from({length:6}).map((E,x)=>e.createElement("div",{key:x,className:"animate-pulse bg-white rounded-xl border border-gray-200 h-96"}))):o?e.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 sm:p-6 text-center"},e.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},e.createElement(Uo,{className:"w-6 h-6 text-red-600"})),e.createElement("p",{className:"text-sm sm:text-base text-red-700 font-semibold"},o)):r.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},r.map((E,x)=>e.createElement("div",{key:E._id,className:"relative"},x<3&&e.createElement("div",{className:"absolute -top-2 -left-2 z-30"},e.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg ${x===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":x===1?"bg-gradient-to-br from-gray-300 to-gray-500":"bg-gradient-to-br from-amber-600 to-amber-800"}`},e.createElement(Uo,{className:"w-6 h-6 text-white"})),e.createElement("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center"},e.createElement("span",{className:"text-xs font-black text-gray-900"},"#",x+1))),e.createElement(Da,{p:E,productLink:ar(E)})))),m>1&&e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8"},e.createElement("button",{onClick:()=>u(E=>Math.max(1,E-1)),disabled:d<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),Array.from({length:Math.min(5,m)},(E,x)=>{const N=x+1;return e.createElement("button",{key:N,onClick:()=>u(N),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===N?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},N)}),m>5&&e.createElement("span",{className:"px-2 text-gray-500"},"..."),e.createElement("button",{onClick:()=>u(E=>Math.min(m,E+1)),disabled:d>=m,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))):e.createElement("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200"},e.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},e.createElement(Ga,{className:"w-8 h-8 text-gray-400"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Aucun produit vendu"),e.createElement("p",{className:"text-gray-600 text-sm"},"Les produits les plus vendus apparatront ici une fois que des commandes seront confirmes."))))}const Voe=12;function Hoe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(1),[u,m]=g.useState(1),p=async()=>{n(!0),o("");try{const{data:f}=await se.get("/products/public",{params:{sort:"discount",limit:Voe,page:i}}),b=(Array.isArray(f?.items)?f.items:Array.isArray(f)?f:[]).filter(w=>Number(w.discount)>0);r(b),m(f?.pagination?.pages||1)}catch(f){o(f.response?.data?.message||f.message||"Impossible de charger les produits en promotion.")}finally{n(!1)}};return g.useEffect(()=>{p()},[i]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Promotions"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez ici les annonces bnficiant des plus fortes rductions actuellement actives.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((f,y)=>e.createElement("div",{key:y,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(f=>e.createElement(Da,{key:f._id,p:f}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",i," / ",u),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>d(f=>Math.max(1,f-1)),disabled:i<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>d(f=>Math.min(u,f+1)),disabled:i>=u,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune promotion n'est active pour le moment. Revenez prochainement pour profiter de nouvelles offres."))}const Woe=60;function Goe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState("");return g.useEffect(()=>{let i=!0;const d=new AbortController;return(async()=>{n(!0),o("");try{const{data:m}=await se.get("/products/public/highlights",{params:{limit:Woe},signal:d.signal});if(!i)return;const p=Array.isArray(m?.newProducts)?m.newProducts:[];r(p)}catch(m){if(d.signal.aborted)return;o(m.response?.data?.message||m.message||"Impossible de charger les produits neufs.")}finally{i&&n(!1)}})(),()=>{i=!1,d.abort()}},[]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits Neufs"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les nouveauts rcemment ajoutes sur HDMarket.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((i,d)=>e.createElement("div",{key:d,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(i=>e.createElement(Da,{key:i._id,p:i}))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit neuf n'est disponible pour le moment. Revenez bientt pour dcouvrir les nouveauts."))}const Koe=60;function Yoe(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState("");return g.useEffect(()=>{let i=!0;const d=new AbortController;return(async()=>{n(!0),o("");try{const{data:m}=await se.get("/products/public/highlights",{params:{limit:Koe},signal:d.signal});if(!i)return;const p=Array.isArray(m?.usedProducts)?m.usedProducts:[];r(p)}catch(m){if(d.signal.aborted)return;o(m.response?.data?.message||m.message||"Impossible de charger les produits d'occasion.")}finally{i&&n(!1)}})(),()=>{i=!1,d.abort()}},[]),e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},e.createElement("header",{className:"space-y-2"},e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits d'occasion"),e.createElement("p",{className:"text-sm text-gray-500"},"Les meilleures affaires d'occasion slectionnes pour vous.")),s&&e.createElement("p",{className:"text-sm text-red-600"},s),a?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((i,d)=>e.createElement("div",{key:d,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):t.length?e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},t.map(i=>e.createElement(Da,{key:i._id,p:i}))):e.createElement("p",{className:"text-sm text-gray-500"},"Pas encore d'annonces d'occasion disponibles. Revenez plus tard pour dnicher la bonne affaire."))}const Xoe=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}];function Qoe(){const{categoryId:t}=Di(),r=g.useMemo(()=>bN(t),[t]),a=r?.group??null,[n,s]=hd(),o=Number(n.get("page")),i=g.useRef(Number.isInteger(o)&&o>0?o:1),[d,u]=g.useState([]),[m,p]=g.useState(!1),[f,y]=g.useState(""),[b,w]=g.useState("new"),[E,x]=g.useState(i.current),[N,k]=g.useState(1),[A,P]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);g.useEffect(()=>{i.current=1,x(1)},[t]),g.useEffect(()=>{i.current=1,x(1)},[b]),g.useEffect(()=>{if(E===i.current){s(_=>{const T=new URLSearchParams(_);return E===1?T.delete("page"):T.set("page",String(E)),T},{replace:!0});return}s(_=>{const T=new URLSearchParams(_);return E===1?T.delete("page"):T.set("page",String(E)),T},{replace:!1})},[E,s]),g.useEffect(()=>{const _=()=>{typeof window>"u"||P(window.innerWidth<=767)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),g.useEffect(()=>{if(!r){u([]),k(1);return}let _=!0;const T=new AbortController;return(async()=>{p(!0),y("");try{const{data:R}=await se.get("/products/public",{params:{category:r.value,sort:b,page:E,limit:12},signal:T.signal});if(!_)return;const D=Array.isArray(R)?R:R?.items??[],j=Array.isArray(R)?{pages:1}:R?.pagination??{};u($=>A&&E>1?[...$,...D]:D),k(Math.max(1,Number(j.pages)||1))}catch(R){if(T.signal.aborted)return;y(R.response?.data?.message||R.message||"Impossible de charger les produits de cette catgorie.")}finally{_&&p(!1)}})(),()=>{_=!1,T.abort()}},[r,b,E,A]),g.useEffect(()=>{u([]),k(1)},[r,b]),g.useEffect(()=>{if(!A||m||E>=N)return;const _=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&x(O=>Math.min(O+1,N))};return window.addEventListener("scroll",_,{passive:!0}),()=>window.removeEventListener("scroll",_)},[A,m,E,N]);const S=()=>{if(N<=1)return null;const _=Math.min(5,N),T=[];for(let O=1;O<=_;O+=1)T.push(e.createElement("button",{key:O,onClick:()=>x(O),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${E===O?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},O));return A?null:e.createElement("div",{className:"flex items-center justify-center gap-2 pt-6 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>x(O=>Math.max(1,O-1)),disabled:E<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),T,e.createElement("button",{onClick:()=>x(O=>Math.min(N,O+1)),disabled:E>=N,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""))};return r?e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6 sm:py-8 sm:space-y-8 pb-24 md:pb-16"},e.createElement("header",{className:"space-y-4"},e.createElement("nav",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(pe,{to:"/",className:"hover:text-indigo-600 font-medium"},"Accueil"),e.createElement($r,{className:"w-3 h-3"}),a?e.createElement(e.Fragment,null,e.createElement("span",null,a.label),e.createElement($r,{className:"w-3 h-3"})):null,e.createElement("span",{className:"text-gray-900 font-semibold"},r.label)),e.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},r.label),e.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Produits approuvs rcemment ajouts dans cette sous-catgorie.")),e.createElement("div",{className:"w-full md:w-auto flex items-center gap-3"},e.createElement("label",{htmlFor:"category-sort",className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Trier"),e.createElement("select",{id:"category-sort",value:b,onChange:_=>w(_.target.value),className:"flex-1 md:flex-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},Xoe.map(_=>e.createElement("option",{key:_.value,value:_.value},_.label))))),a&&e.createElement("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1"},a.options.map(_=>{const T=_.value===r.value;return e.createElement(pe,{key:_.value,to:`/categories/${_.value}`,className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium transition-colors ${T?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 bg-white text-gray-600 hover:border-indigo-200 hover:text-indigo-600"}`},_.label,T?null:e.createElement($r,{className:"w-3 h-3"}))}))),f&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},f),m?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},Array.from({length:8}).map((_,T)=>e.createElement("div",{key:T,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-3 space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):d.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},d.map(_=>e.createElement(Da,{key:_._id,p:_}))),S()):e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit disponible dans cette catgorie pour le moment. Revenez plus tard ou explorez dautres sous-catgories.")):e.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-8 space-y-8"},e.createElement("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Catgorie introuvable"),e.createElement("p",{className:"text-sm text-gray-600"},"Cette catgorie nexiste pas ou nest plus disponible. Parcourez nos catgories populaires ci-dessous."),e.createElement("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Es.map(_=>e.createElement("div",{key:_.id,className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900 mb-3"},_.label),e.createElement("div",{className:"flex flex-wrap gap-2"},_.options.map(T=>e.createElement(pe,{key:T.value,to:`/categories/${T.value}`,className:"inline-flex items-center gap-1 rounded-full border border-indigo-100 bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 hover:bg-indigo-100 transition-colors"},T.label,e.createElement($r,{className:"w-3 h-3"}))))))),e.createElement("div",{className:"mt-6"},e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour  laccueil"))))}const Joe=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}],Zoe=12;function eie(){const[t,r]=hd(),a=(t.get("category")||"").trim(),[n,s]=g.useState([]),[o,i]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState("new"),f=Number(t.get("page")),y=g.useRef(Number.isInteger(f)&&f>0?f:1),[b,w]=g.useState(y.current),[E,x]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[N,k]=g.useState(1),[A,P]=g.useState(""),[S,_]=g.useState(""),[T,O]=g.useState(a);g.useEffect(()=>{O(a)},[a]);const R=t.get("search")||"";g.useEffect(()=>{R&&(P(R),_(R))},[R]);const D=g.useCallback(async()=>{i(!0),u("");try{const Q={sort:m,page:b,limit:Zoe};S&&(Q.q=S),T&&(Q.category=T);const{data:ee}=await se.get("/products/public",{params:Q}),H=Array.isArray(ee)?ee:ee?.items||[],q=Array.isArray(ee)?{pages:1}:ee?.pagination||{};s(B=>E&&b>1?[...B,...H]:H),k(Math.max(1,Number(q.pages)||1))}catch(Q){u(Q.response?.data?.message||Q.message||"Impossible de charger les produits.")}finally{i(!1)}},[b,m,S,T]);g.useEffect(()=>{y.current=1,w(1),s([]),k(1)},[m,S,T]),g.useEffect(()=>{if(!E||o||b>=N)return;const Q=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&w(H=>Math.min(H+1,N))};return window.addEventListener("scroll",Q,{passive:!0}),()=>window.removeEventListener("scroll",Q)},[E,o,b,N]),g.useEffect(()=>{const Q=()=>{typeof window>"u"||x(window.innerWidth<=767)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),g.useEffect(()=>{b===y.current?r(Q=>{const ee=new URLSearchParams(Q);return b===1?ee.delete("page"):ee.set("page",String(b)),ee},{replace:!0}):r(Q=>{const ee=new URLSearchParams(Q);return b===1?ee.delete("page"):ee.set("page",String(b)),ee},{replace:!1})},[b,r]),g.useEffect(()=>{D()},[D]);const j=Q=>{Q.preventDefault();const ee=A.trim();_(ee),r(H=>{const q=new URLSearchParams(H);return ee?q.set("search",ee):q.delete("search"),q.delete("page"),q},{replace:!0})},$=()=>{P(""),_(""),r(Q=>{const ee=new URLSearchParams(Q);return ee.delete("search"),ee.delete("page"),ee},{replace:!0})},K=g.useMemo(()=>{const Q=[],ee=Math.min(5,N);for(let H=1;H<=ee;H+=1)Q.push(e.createElement("button",{key:H,type:"button",onClick:()=>w(H),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${b===H?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},H));return Q},[b,N]),W=g.useMemo(()=>bN(T),[T]),z=g.useCallback(()=>{O("");const Q=new URLSearchParams(t);Q.delete("category"),r(Q,{replace:!0})},[t,r]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8 space-y-4 sm:space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4"},e.createElement("div",{className:"flex-1"},e.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900"},"Tous les produits"),e.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Parcourez les annonces disponibles sur HDMarket et dcouvrez les nouveauts.")),e.createElement(pe,{to:"/search",className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2.5 text-sm font-semibold text-indigo-700 hover:bg-indigo-100 transition-colors"},e.createElement(Dp,{className:"w-4 h-4"}),"Recherche avance"),e.createElement("form",{onSubmit:j,className:"w-full md:w-auto flex flex-col sm:flex-row gap-2 sm:items-center"},e.createElement("div",{className:"relative flex-1 sm:min-w-[280px]"},e.createElement("input",{type:"search",value:A,onChange:Q=>P(Q.target.value),placeholder:"Rechercher un produit...",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-base sm:text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700"},"Rechercher"),S&&e.createElement("button",{type:"button",onClick:$,className:"rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-100"},"Effacer")))),e.createElement("section",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 sm:gap-3"},e.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-500 flex-wrap"},e.createElement("span",null,n.length," rsultat",n.length>1?"s":""," affich",n.length>1?"s":""),S&&e.createElement("span",{className:"rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700"},"Filtre:",S),T&&e.createElement("button",{type:"button",onClick:z,className:"inline-flex items-center gap-2 rounded-full bg-purple-100 px-3 py-1 text-xs font-semibold text-purple-700 hover:bg-purple-200 transition-colors"},"Catgorie:",W?.label||T,e.createElement("span",{"aria-hidden":"true"},""))),e.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2"},e.createElement("label",{htmlFor:"sort-options",className:"text-xs sm:text-sm text-gray-600"},"Trier par"),e.createElement("select",{id:"sort-options",value:m,onChange:Q=>p(Q.target.value),className:"rounded-lg sm:rounded-xl border border-gray-200 bg-white px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},Joe.map(Q=>e.createElement("option",{key:Q.value,value:Q.value},Q.label))))),d&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d),o?e.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map((Q,ee)=>e.createElement("div",{key:ee,className:"rounded-xl border border-gray-200 bg-white p-2 sm:p-4 shadow-sm"},e.createElement("div",{className:"mb-2 sm:mb-3 aspect-square rounded-lg bg-gray-100 animate-pulse"}),e.createElement("div",{className:"space-y-1.5 sm:space-y-2"},e.createElement("div",{className:"h-3 sm:h-4 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 sm:h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 sm:h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):n.length?e.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},n.map(Q=>e.createElement(Da,{key:Q._id,p:Q,onProductClick:Mm}))):e.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucun produit ne correspond  votre recherche pour le moment."),N>1&&e.createElement("div",{className:"flex items-center justify-center gap-2 pt-4"},e.createElement("button",{type:"button",onClick:()=>w(Q=>Math.max(1,Q-1)),disabled:b<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),K,e.createElement("button",{type:"button",onClick:()=>w(Q=>Math.min(N,Q+1)),disabled:b>=N,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},"")),e.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'une catgorie spcifique?"),e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retour  la page d'accueil")))))}const zE=["Brazzaville","Pointe-Noire","Ouesso","Oyo"];function tie(){const t=Zr(),[r,a]=hd(),[n,s]=g.useState([]),[o,i]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState({}),f=g.useRef(new Map),y=ts(),[b,w]=g.useState(()=>{const x=r.get("city");return zE.includes(x)?x:zE[0]});g.useEffect(()=>{const x=new AbortController;return(async()=>{try{const{data:k}=await se.get("/products/public/highlights",{params:{limit:12},signal:x.signal});k?.cityHighlights&&typeof k.cityHighlights=="object"&&p(k.cityHighlights)}catch{}})(),()=>x.abort()},[]),g.useEffect(()=>{if(!b)return;const x=f.current.get(b);if(x&&(s(x.items),u(x.error||""),i(!1),x.nextRetry&&Date.now()<x.nextRetry))return;const N=new AbortController;return(async()=>{i(!0),u("");try{const{data:A}=await se.get("/products/public",{params:{city:b},signal:N.signal}),P=Array.isArray(A)?A:A?.items||[];if(P.length)s(P),f.current.set(b,{items:P,error:"",nextRetry:0});else if(m[b]){const S=m[b];s(S),f.current.set(b,{items:S,error:"",nextRetry:0})}else s([]),f.current.set(b,{items:[],error:"",nextRetry:0})}catch(A){if(N.signal.aborted)return;const P=A.response?.data?.message||A.message||"Impossible de charger les produits.";u(P);const S=f.current.get(b)?.items||m[b]||[];S.length&&s(S),f.current.set(b,{items:S,error:P,nextRetry:Date.now()+60*1e3})}finally{i(!1)}})(),()=>N.abort()},[b,m]),g.useEffect(()=>{if(!n.length&&m[b]?.length){const x=m[b];s(x),f.current.set(b,{items:x,error:"",nextRetry:0})}},[m,b,n.length]),g.useEffect(()=>{b&&a({city:b})},[b,a]);const E=g.useMemo(()=>b?`Produits disponibles  ${b}`:"Produits par ville",[b]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8 space-y-4 sm:space-y-6"},e.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4"},e.createElement("div",null,e.createElement("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 mb-3 sm:mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour"),e.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900"},E),e.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Consultez les annonces publies depuis nos principales villes de la Rpublique du Congo.")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{htmlFor:"city-select",className:"text-sm text-gray-600"},"Choisir une ville"),e.createElement("select",{id:"city-select",value:b,onChange:x=>w(x.target.value),className:"rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},zE.map(x=>e.createElement("option",{key:x,value:x},x))))),d&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d),o?e.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map((x,N)=>e.createElement("div",{key:N,className:"rounded-2xl border border-gray-200 bg-white p-2 sm:p-4 shadow-sm"},e.createElement("div",{className:"mb-2 sm:mb-3 aspect-square rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"space-y-1.5 sm:space-y-2"},e.createElement("div",{className:"h-3 sm:h-4 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 sm:h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 sm:h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):n.length?e.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},n.map(x=>e.createElement(Da,{key:x._id,p:x}))):e.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucune annonce disponible pour cette ville pour le moment."),e.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},e.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'accder aux annonces d'une catgorie spcifique?"),e.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},e.createElement(pe,{to:"/products",...y,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-700 hover:bg-indigo-100"},"Parcourir tous les produits"),e.createElement(pe,{to:"/#categories",className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-indigo-600 hover:bg-gray-50"},"Voir les catgories"))))))}function jr({children:t,role:r,roles:a,allowAccess:n}){const s=Sn(),{user:o}=g.useContext(fr);if(!o)return e.createElement(Mc,{to:"/login",state:{from:s},replace:!0});if(n&&typeof n=="function")return n(o)?t:e.createElement(Mc,{to:"/",replace:!0});const i=(Array.isArray(a)&&a.length?a:null)||(r?[r]:null);return i&&!i.includes(o.role)?e.createElement(Mc,{to:"/",replace:!0}):t}function rie(){const{slug:t}=Di(),r=Zr(),a=g.useContext(fr),n=a?.user,s=a?.updateUser,{addItem:o,cart:i}=g.useContext(Fl),{toggleFavorite:d,isFavorite:u}=g.useContext(Tm),[m,p]=g.useState(null),[f,y]=g.useState(!0),[b,w]=g.useState(""),[E,x]=g.useState(!1),[N,k]=g.useState(""),[A,P]=g.useState(0),[S,_]=g.useState(0),[T,O]=g.useState(0),[R,D]=g.useState([]),[j,$]=g.useState([]),[K,W]=g.useState(!1),[z,Q]=g.useState(!1),[ee,H]=g.useState("description"),[q,B]=g.useState([]),[G,Y]=g.useState(""),[V,J]=g.useState(0),[ue,he]=g.useState(0),[Oe,te]=g.useState(!1),[ie,de]=g.useState(!1),[Ce,ne]=g.useState(""),[re,Ie]=g.useState(null),[fe,Le]=g.useState(""),[at,nt]=g.useState(!1),[it,xe]=g.useState(""),[He,Je]=g.useState(!1),[xt,ht]=g.useState(""),[mt,pt]=g.useState(""),[bt,Pt]=g.useState(!1),[Ge,ft]=g.useState(1),[We,Ye]=g.useState(!1),be=Bl(),ut=ts(),et=n?.role==="admin",[Z,Ee]=g.useState(!1),[le,Ne]=g.useState({description:!1,specifications:!1,shipping:!1}),tt=g.useCallback(()=>{typeof a?.logout=="function"&&a.logout(),r("/",{replace:!0})},[a,r]),lt=m?u(m._id):!1,gt=m&&n&&i?.items?.some(_e=>_e.product?._id===m._id),F=m?xN(m,m?.user?.phone):"",we=m?.user?.phone,ye=we&&n,ke=m?.user?.accountType==="shop",L=m?.user?.shopName,me=m?.user?.shopLogo,Se=m?.user?.shopAddress,Ae=m?.user&&(m.user.slug||m.user._id)?{slug:m.user.slug,_id:m.user._id}:null,Fe=m?.user?.city||m?.city||"",ct=m?.user?.country||m?.country||"Rpublique du Congo",Qe=m?.user&&n&&String(m.user._id||m.user.id)===String(n._id||n.id);g.useEffect(()=>{if(!n||!m?.user?._id){W(!1);return}const Be=(Array.isArray(n.followingShops)?n.followingShops:[]).some(Ke=>String(Ke)===String(m.user._id));W(Be)},[m?.user?._id,n?.followingShops,n]);const It=async()=>{if(m?.user?._id){if(!n){r("/login",{state:{from:`/product/${t}`}});return}if(!(!ke||!je||Qe)){Q(!0);try{const _e=K?await se.delete(`/users/shops/${m.user._id}/follow`):await se.post(`/users/shops/${m.user._id}/follow`);if(W(!K),typeof s=="function"){const Ke=(Array.isArray(n.followingShops)?n.followingShops:[]).map(qr=>String(qr)),cr=K?Ke.filter(qr=>qr!==String(m.user._id)):Array.from(new Set([...Ke,String(m.user._id)]));s({followingShops:cr})}_e?.data?.followersCount!==void 0&&p(Be=>Be&&{...Be,user:{...Be.user,followersCount:_e.data.followersCount}})}catch(_e){console.error("Erreur suivi boutique:",_e)}finally{Q(!1)}}}};g.useEffect(()=>{(async()=>{try{y(!0),w("");let Be;console.debug("Loading product",{slug:t});try{Be=(await se.get(`/products/public/${t}`)).data}catch(Ke){const cr=Ke?.response?.status;if(cr===404&&n)try{Be=(await se.get(`/products/${t}`)).data}catch(qr){if(qr?.response?.status===401){tt();return}throw qr}else{if(cr===401){tt();return}throw Ke}}if(!Be)throw new Error("Produit non trouv");if(p(Be),_(Be.whatsappClicks||0),O(Be.favoritesCount||0),Be.status==="approved"?await Promise.all([Mt(Be.slug||Be._id),Br(Be._id)]):(B([]),he(0),J(0)),Be.category)try{const Ke=await se.get(`/products/public?category=${Be.category}&limit=4`),qr=(Array.isArray(Ke.data?.items)?Ke.data.items:[]).filter(ha=>!(!ha||Be?._id&&ha._id&&ha._id===Be._id||Be?.slug&&ha.slug&&ha.slug===Be.slug));D(qr.slice(0,4))}catch(Ke){console.error("Erreur chargement produits similaires:",Ke),D([])}}catch(Be){if(Be.response?.status===401){tt();return}w(Be.response?.data?.message||"Produit non trouv ou indisponible"),console.error("Erreur chargement produit:",Be)}finally{y(!1)}})()},[t]),g.useEffect(()=>{m?._id&&Mm(m)},[m?._id,m?.category]),g.useEffect(()=>{window.scrollTo(0,0),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},0),Ee(!1),Ne({description:!1,specifications:!1,shipping:!1})},[t]),g.useEffect(()=>{if(!be||!m||!ke){$([]);return}const _e=m.user?.slug||m.user?._id;if(!_e){$([]);return}let Be=!0;return(async()=>{try{const{data:cr}=await se.get(`/shops/${_e}`,{params:{limit:12}}),ha=(Array.isArray(cr?.products)?cr.products:[]).filter(Wr=>!(!Wr||m?._id&&Wr._id&&Wr._id===m._id||m?.slug&&Wr.slug&&Wr.slug===m.slug));Be&&$(ha)}catch{Be&&$([])}})(),()=>{Be=!1}},[be,ke,m?._id,m?.slug,m?.user?._id,m?.user?.slug]),g.useEffect(()=>{ht(""),pt("")},[m?._id]);const Mt=async _e=>{const Be=_e||t;try{const{data:Ke}=await se.get(`/products/public/${Be}/comments`);B(wt(Array.isArray(Ke)?Ke:[]));return}catch(Ke){if(Ke.response?.status===404){B([]);return}console.error("Erreur chargement commentaires:",Ke),B([])}},wt=_e=>{const Be=new Map,Ke=[];return _e.forEach(cr=>{const qr=String(cr._id);Be.set(qr,{...cr,replies:[]})}),_e.forEach(cr=>{const qr=String(cr._id),ha=Be.get(qr);if(!ha)return;const Wr=typeof cr.parent=="string"?cr.parent:cr.parent&&cr.parent._id?String(cr.parent._id):null;if(Wr){const bn=Be.get(Wr);if(bn){bn.replies.push(ha);return}}Ke.push(ha)}),Ke},Br=async _e=>{if(n)try{const Be=_e;if(!Be)return;const{data:Ke}=await se.get(`/products/${Be}/rating`,{params:{productId:Be}});he(Ke?.value||0),J(Ke?.value||0)}catch(Be){console.error("Erreur chargement note utilisateur:",Be),he(0),J(0)}},Or=async()=>{if(!(!m||He)){ht(""),pt(""),Je(!0);try{const _e=!m.certified,{data:Be}=await se.patch(`/admin/products/${m._id}/certify`,{certified:_e});p(Ke=>Ke&&{...Ke,certified:Be.certified,certifiedBy:Be.certifiedBy,certifiedAt:Be.certifiedAt}),ht(_e?"Produit certifi.":"Certification retire.")}catch(_e){console.error("Erreur certification produit:",_e),pt(_e?.response?.data?.message||"Une erreur est survenue.")}finally{Je(!1)}}},na=async _e=>{if(_e.preventDefault(),!(!n||!G.trim())){te(!0),ne("");try{const Be={productId:m?._id,message:G.trim()},Ke=await se.post(`/products/${t}/comments`,Be);Y(""),await Mt(m?.slug||m?._id)}catch(Be){if(Be.response?.status===401){tt();return}console.error("Erreur soumission commentaire:",Be),Be.response?ne(Be.response.data?.message||`Erreur ${Be.response.status}`):Be.request?ne("Erreur rseau - impossible de contacter le serveur"):ne("Erreur inattendue: "+Be.message)}finally{te(!1)}}},Hr=async _e=>{if(!(!n||!fe.trim())){te(!0),ne("");try{const Be={productId:m?._id,message:fe.trim(),parentId:_e._id},Ke=await se.post(`/products/${t}/comments`,Be);Le(""),Ie(null),await Mt(m?.slug||m?._id)}catch(Be){if(Be.response?.status===401){tt();return}console.error("Erreur soumission rponse:",Be),Be.response&&ne(Be.response.data?.message||`Erreur ${Be.response.status}`)}finally{te(!1)}}},tr=async _e=>{if(!n){r("/login",{state:{from:`/product/${t}`}});return}de(!0);try{await se.put(`/products/${t}/rating`,{value:_e,productId:m?._id}),he(_e);const{data:Be}=await se.get(`/products/public/${t}`);p(Be)}catch(Be){if(Be.response?.status===401){tt();return}console.error("Erreur soumission note:",Be);const Ke=Be.response?.data?.message||Be.message||"Une erreur est survenue lors de lenvoi de votre note.";alert(`Erreur lors de l'ajout de la note : ${Ke}`)}finally{de(!1)}},lr=async()=>{if(m){if(!n){r("/login",{state:{from:`/product/${t}`}});return}if(!gt){x(!0),k("");try{await o(m._id,1),k(" Ajout au panier !"),setTimeout(()=>k(""),3e3)}catch(_e){if(_e.response?.status===401){tt();return}k(" Erreur lors de l'ajout")}finally{x(!1)}}}},sr=async()=>{if(m){if(!n){r("/login",{state:{from:`/product/${t}`}});return}try{const _e=await d(m);_e===!0?O(Be=>Be+1):_e===!1&&O(Be=>Math.max(0,Be-1))}catch(_e){if(_e.response?.status===401){tt();return}console.error("Erreur favori:",_e)}}},Lr=async _e=>{if(m){if(!n){_e?.preventDefault&&_e.preventDefault(),alert("Veuillez vous connecter pour contacter le vendeur via WhatsApp."),r("/login",{state:{from:`/product/${t}`}});return}try{const Be=m.slug||m._id,{data:Ke}=await se.post(`/products/public/${Be}/whatsapp-click`);_(Ke?.whatsappClicks||S+1)}catch(Be){if(Be.response?.status===401){tt();return}console.error("Erreur comptage WhatsApp:",Be)}}},Ir=g.useCallback(_e=>{Ne(Be=>({...Be,[_e]:!Be[_e]}))},[]),ea=m?.discount>0,Oa=ea?m?.priceBeforeDiscount:m?.price,Er=m?.price||0,Dr=m?.discount||0,Cr=Number(m?.ratingAverage||0).toFixed(1),Vt=m?.ratingCount||0,Fa=m?.commentCount||0,Ya=m?.condition==="new"?"Neuf":"Occasion",Ba=m?.condition==="new"?"from-emerald-500 to-green-500":"from-amber-500 to-orange-500",da=m?.createdAt?new Date(m.createdAt):null,yn=da?Math.floor((Date.now()-da.getTime())/(1e3*60*60*24)):0,As=yn<=7,Zt=Array.isArray(m?.images)?m.images.slice(0,3):[],oe=g.useMemo(()=>{const _e=[];j.forEach(Ke=>{(Array.isArray(Ke?.images)?Ke.images:[]).forEach(qr=>{qr&&_e.push({src:qr,product:Ke})})});const Be=[..._e];for(let Ke=Be.length-1;Ke>0;Ke-=1){const cr=Math.floor(Math.random()*(Ke+1));[Be[Ke],Be[cr]]=[Be[cr],Be[Ke]]}return Be.slice(0,6)},[j]),je=!!m?.user?.shopVerified,st=g.useMemo(()=>m?GO(m):window.location.href,[m]),Rt=g.useCallback(async()=>{if(typeof navigator<"u"&&navigator.share)try{await navigator.share({title:m?.title||"Produit HDMarket",text:`${m?.title} - ${Number(m?.price||0).toLocaleString()} FCFA`,url:st})}catch{}else try{await navigator.clipboard.writeText(st),xe("Lien copi !"),setTimeout(()=>xe(""),2500)}catch{nt(!0)}},[m?.title,m?.price,st]);g.useEffect(()=>{if(!Zt.length){A!==0&&P(0);return}A>=Zt.length&&P(0)},[Zt.length,A]);const pr=Zt[A]||"https://via.placeholder.com/600x600",rs=be?"cursor-pointer":"cursor-zoom-in",Ma=g.useCallback((_e=A)=>{P(_e),Pt(!0)},[A]),_s=g.useCallback(()=>{Pt(!1)},[]),as=g.useCallback(()=>{Ma(A)},[Ma,A]),Na=g.useCallback(_e=>{_e.stopPropagation(),Ma(A)},[Ma,A]),ns=g.useCallback(_e=>{P(_e),Ma(_e)},[Ma]),Xa=g.useCallback(()=>{Zt.length&&P(_e=>(_e-1+Zt.length)%Zt.length)},[Zt.length]),ss=g.useCallback(()=>{Zt.length&&P(_e=>(_e+1)%Zt.length)},[Zt.length]);g.useEffect(()=>{bt&&ft(1)},[bt,A]);const os=g.useCallback(_e=>{if(be)return;_e.preventDefault();const Be=_e.deltaY<0?1:-1,Ke=_e.ctrlKey?.1:.2;ft(cr=>{const qr=cr+Be*Ke;return Math.max(1,Math.min(3,Number(qr.toFixed(2))))})},[be]);if(g.useEffect(()=>{if(!bt||typeof document>"u")return;const{style:_e}=document.body,Be=_e.overflow;return _e.overflow="hidden",()=>{_e.overflow=Be}},[bt]),f)return be?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"animate-pulse"},e.createElement("div",{className:"w-full aspect-[4/5] bg-gray-200"}),e.createElement("div",{className:"p-4 space-y-3"},e.createElement("div",{className:"h-7 bg-gray-200 rounded w-2/5"}),e.createElement("div",{className:"h-5 bg-gray-200 rounded w-4/5"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded w-3/5"}),e.createElement("div",{className:"flex gap-2"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-full w-16"}),e.createElement("div",{className:"h-8 bg-gray-200 rounded-full w-24"}),e.createElement("div",{className:"h-8 bg-gray-200 rounded-full w-14"})),e.createElement("div",{className:"h-16 bg-gray-200 rounded-2xl"}),e.createElement("div",{className:"h-12 bg-gray-200 rounded-2xl"}),e.createElement("div",{className:"h-12 bg-gray-200 rounded-2xl"})))):e.createElement("div",{className:"min-h-screen bg-gray-50 pt-20"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},e.createElement("div",{className:"animate-pulse"},e.createElement("div",{className:"flex items-center space-x-2 mb-6"},e.createElement("div",{className:"h-4 bg-gray-300 rounded w-24"}),e.createElement($r,{size:16,className:"text-gray-400"}),e.createElement("div",{className:"h-4 bg-gray-300 rounded w-32"})),e.createElement("div",{className:"grid lg:grid-cols-2 gap-8"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"aspect-square bg-gray-300 rounded-2xl"}),e.createElement("div",{className:"grid grid-cols-4 gap-2"},[1,2,3,4].map(_e=>e.createElement("div",{key:_e,className:"aspect-square bg-gray-300 rounded-xl"})))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.createElement("div",{className:"h-6 bg-gray-300 rounded w-1/2"}),e.createElement("div",{className:"h-12 bg-gray-300 rounded w-1/3"}),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"h-4 bg-gray-300 rounded"}),e.createElement("div",{className:"h-4 bg-gray-300 rounded w-5/6"})))))));if(b||!m)return e.createElement("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center"},e.createElement("div",{className:"text-center max-w-md mx-auto px-4"},e.createElement(xr,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Produit non trouv"),e.createElement("p",{className:"text-gray-600 mb-6"},b||"Le produit que vous recherchez n'existe pas ou a t supprim."),e.createElement(pe,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all"},e.createElement(Pr,{size:20,className:"mr-2"}),"Retour  l'accueil")));const is=()=>e.createElement("div",{className:"min-h-screen bg-gray-50 pb-28"},e.createElement("div",{className:"relative"},Zt.length>1?e.createElement(kM,{modules:[uU],pagination:{clickable:!0},spaceBetween:0,slidesPerView:1,onSlideChange:_e=>P(_e.activeIndex),className:"w-full aspect-[4/5]"},Zt.map((_e,Be)=>e.createElement(SM,{key:Be},e.createElement("img",{src:_e,alt:`${m.title} - ${Be+1}`,className:"w-full h-full object-cover",onClick:()=>Ma(Be)})))):e.createElement("div",{className:"w-full aspect-[4/5]",onClick:()=>Ma(0)},e.createElement("img",{src:Zt[0]||"https://via.placeholder.com/600x750",alt:m.title,className:"w-full h-full object-cover"})),e.createElement("button",{type:"button",onClick:()=>window.history.length>1?r(-1):r("/products"),className:"absolute top-4 left-4 z-20 w-10 h-10 rounded-full bg-black/40 backdrop-blur-md flex items-center justify-center text-white active:scale-90 transition-transform",style:{top:"calc(env(safe-area-inset-top, 0px) + 16px)"}},e.createElement(Pr,{size:20})),e.createElement("div",{className:"absolute top-4 right-4 z-20 flex gap-2",style:{top:"calc(env(safe-area-inset-top, 0px) + 16px)"}},e.createElement("button",{type:"button",onClick:sr,className:"w-10 h-10 rounded-full bg-black/40 backdrop-blur-md flex items-center justify-center active:scale-90 transition-transform"},e.createElement(ur,{size:20,fill:lt?"currentColor":"none",className:lt?"text-red-400":"text-white"})),e.createElement("button",{type:"button",onClick:Rt,className:"w-10 h-10 rounded-full bg-black/40 backdrop-blur-md flex items-center justify-center text-white active:scale-90 transition-transform"},e.createElement(Ff,{size:20}))),e.createElement("div",{className:"absolute bottom-4 left-4 z-20 flex gap-2"},ea&&e.createElement("span",{className:"bg-red-500 text-white px-3 py-1.5 rounded-full text-xs font-black shadow-lg"},"-",Dr,"%"),m.certified&&e.createElement("span",{className:"inline-flex items-center gap-1 bg-emerald-500 text-white px-3 py-1.5 rounded-full text-xs font-black shadow-lg"},e.createElement(_r,{className:"w-3 h-3"})," Certifi"))),e.createElement("div",{className:"px-4 pt-3 pb-1"},ea?e.createElement("div",{className:"flex items-baseline gap-2 flex-wrap"},e.createElement("span",{className:"text-2xl font-black text-gray-900"},Number(Er).toLocaleString()," FCFA"),e.createElement("span",{className:"text-sm text-gray-400 line-through font-bold"},Number(Oa).toLocaleString()," FCFA"),e.createElement("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs font-black"},"-",Dr,"%")):e.createElement("span",{className:"text-2xl font-black text-gray-900"},Number(Er).toLocaleString()," FCFA")),e.createElement("div",{className:"px-4 pb-1"},e.createElement("h1",{className:"text-lg font-bold text-gray-900 leading-tight"},m.title)),e.createElement("div",{className:"px-4 pb-2 flex items-center gap-3 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(rr,{size:14,className:"text-amber-500",fill:"currentColor"}),e.createElement("span",{className:"font-semibold text-gray-700"},Cr),e.createElement("span",null,"(",Vt,")")),e.createElement("span",{className:"text-gray-300"},"|"),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(zn,{size:14})," ",m.views||0),e.createElement("span",{className:"text-gray-300"},"|"),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{size:14})," ",T)),e.createElement("div",{className:"px-4 pb-3 flex flex-wrap gap-2"},e.createElement("span",{className:`py-1.5 px-3 rounded-full text-xs font-bold ${m.condition==="new"?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-amber-50 text-amber-700 border border-amber-200"}`},Ya),Fe&&e.createElement("span",{className:"py-1.5 px-3 rounded-full text-xs font-bold bg-gray-100 text-gray-700 border border-gray-200 flex items-center gap-1"},e.createElement(yr,{size:12})," ",Fe),e.createElement("span",{className:"py-1.5 px-3 rounded-full text-xs font-bold bg-gray-100 text-gray-600 border border-gray-200 flex items-center gap-1"},e.createElement(Ut,{size:12}),yn===0?"Aujourd'hui":yn===1?"Hier":`${yn}j`)),m.certified&&e.createElement("div",{className:"px-4 pb-3"},e.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 border border-emerald-200"},e.createElement(_r,{className:"w-4 h-4 text-emerald-500"}),"Produit certifi HDMarket")),m.user&&e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden"},e.createElement("button",{type:"button",onClick:()=>Ee(_e=>!_e),className:"w-full flex items-center gap-3 p-3 text-left"},me?e.createElement("img",{src:me,alt:L||m.user.name,className:"w-10 h-10 rounded-xl object-cover border border-gray-200"}):e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center"},e.createElement(Sr,{className:"w-5 h-5 text-white"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement("span",{className:"font-bold text-sm text-gray-900 truncate"},L||m.user.name),ke&&e.createElement(dn,{verified:je,showLabel:!1})),e.createElement("span",{className:"text-xs text-gray-500"},ke?"Professionnel":"Particulier",Fe?`  ${Fe}`:"")),Z?e.createElement(Lo,{size:18,className:"text-gray-400 flex-shrink-0"}):e.createElement(Ha,{size:18,className:"text-gray-400 flex-shrink-0"})),Z&&e.createElement("div",{className:"px-3 pb-3 space-y-2 border-t border-gray-100 pt-2"},(Fe||Se)&&e.createElement("div",{className:"flex items-center gap-2 text-xs text-gray-600"},e.createElement(yr,{size:14,className:"text-indigo-500 flex-shrink-0"}),e.createElement("span",null,Fe?`${Fe}, ${ct}`:"",Se?`  ${Se}`:"")),ye&&e.createElement("a",{href:`tel:${(we||"").replace(/\s+/g,"")}`,className:"flex items-center gap-2 text-xs text-gray-700"},e.createElement(yo,{size:14,className:"text-green-600 flex-shrink-0"}),e.createElement("span",{className:"font-bold"},we)),e.createElement("div",{className:"flex gap-2 pt-1"},ke&&Ae&&e.createElement(pe,{to:la(Ae),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 bg-blue-600 text-white rounded-xl text-xs font-semibold active:scale-95 transition-transform"},e.createElement(Sr,{size:14})," Voir boutique"),ke&&!Qe&&je&&e.createElement("button",{type:"button",onClick:It,disabled:z,className:`flex-1 flex items-center justify-center px-3 py-2 rounded-xl text-xs font-semibold active:scale-95 transition-transform border ${K?"border-gray-300 bg-white text-gray-700":"border-gray-200 bg-gray-100 text-gray-700"}`},z?"...":K?"Abonn":"Suivre")))),e.createElement("div",{className:"mx-4 mb-2 rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden"},e.createElement("button",{type:"button",onClick:()=>Ir("description"),className:"w-full flex items-center justify-between p-4 text-left"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Description"),le.description?e.createElement(Lo,{size:18,className:"text-gray-400"}):e.createElement(Ha,{size:18,className:"text-gray-400"})),le.description&&e.createElement("div",{className:"px-4 pb-4"},e.createElement("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line"},m.description))),e.createElement("div",{className:"mx-4 mb-2 rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden"},e.createElement("button",{type:"button",onClick:()=>Ir("specifications"),className:"w-full flex items-center justify-between p-4 text-left"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Spcifications"),le.specifications?e.createElement(Lo,{size:18,className:"text-gray-400"}):e.createElement(Ha,{size:18,className:"text-gray-400"})),le.specifications&&e.createElement("div",{className:"px-4 pb-4 space-y-2"},e.createElement("div",{className:"flex justify-between py-2 border-b border-gray-50 text-sm"},e.createElement("span",{className:"text-gray-500"},"Condition"),e.createElement("span",{className:"font-semibold text-gray-900"},Ya)),e.createElement("div",{className:"flex justify-between py-2 border-b border-gray-50 text-sm"},e.createElement("span",{className:"text-gray-500"},"Catgorie"),e.createElement("span",{className:"font-semibold text-gray-900 capitalize"},m.category)),Fe&&e.createElement("div",{className:"flex justify-between py-2 text-sm"},e.createElement("span",{className:"text-gray-500"},"Localisation"),e.createElement("span",{className:"font-semibold text-gray-900"},Fe,", ",ct)))),e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden"},e.createElement("button",{type:"button",onClick:()=>Ir("shipping"),className:"w-full flex items-center justify-between p-4 text-left"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Livraison"),le.shipping?e.createElement(Lo,{size:18,className:"text-gray-400"}):e.createElement(Ha,{size:18,className:"text-gray-400"})),le.shipping&&e.createElement("div",{className:"px-4 pb-4 space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Tr,{size:16,className:"text-blue-500 flex-shrink-0"}),e.createElement("span",{className:"text-sm text-gray-700"},"Contactez le vendeur pour les dtails de livraison")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement(_r,{size:16,className:"text-green-500 flex-shrink-0"}),e.createElement("span",{className:"text-sm text-gray-700"},"Politique de retour  discuter avec le vendeur")))),e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm p-4"},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Avis clients"),e.createElement("button",{type:"button",onClick:()=>Ye(!0),className:"text-xs font-semibold text-indigo-600"},"Voir tout")),e.createElement("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3"},e.createElement("div",{className:"flex items-center gap-0.5"},[1,2,3,4,5].map(_e=>e.createElement(rr,{key:_e,size:14,className:_e<=Math.floor(Cr)?"text-amber-500 fill-amber-500":"text-gray-300"}))),e.createElement("span",{className:"font-semibold text-gray-700"},Cr),e.createElement("span",null," ",Vt," avis  ",Fa," commentaires")),n&&!Qe&&e.createElement("div",{className:"flex items-center gap-1 mb-3 pb-3 border-b border-gray-100"},e.createElement("span",{className:"text-xs text-gray-500 mr-2"},"Votre note :"),[1,2,3,4,5].map(_e=>e.createElement("button",{key:_e,type:"button",onClick:()=>tr(_e),disabled:ie,className:"focus:outline-none"},e.createElement(rr,{size:20,className:_e<=ue?"text-amber-500 fill-amber-500":"text-gray-300"}))),ie&&e.createElement("span",{className:"text-xs text-gray-500 ml-2"},"...")),n&&!Qe&&e.createElement("form",{onSubmit:na,className:"mb-3"},e.createElement("div",{className:"flex gap-2"},e.createElement("input",{type:"text",value:G,onChange:_e=>Y(_e.target.value),placeholder:"crire un commentaire...",className:"flex-1 min-w-0 px-3 py-2.5 rounded-xl border border-gray-200 bg-gray-50 text-sm text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:Oe}),e.createElement("button",{type:"submit",disabled:Oe||!G.trim(),className:"px-4 py-2.5 rounded-xl bg-indigo-600 text-white text-sm font-semibold disabled:opacity-50 active:scale-95 transition-transform"},Oe?"...":"Envoyer")),Ce&&e.createElement("p",{className:"mt-1.5 text-xs text-red-500"},Ce)),!n&&e.createElement("p",{className:"text-xs text-gray-400 mb-3"},e.createElement(pe,{to:"/login",className:"text-indigo-600 font-semibold"},"Connectez-vous")," pour laisser un commentaire"),q.length>0&&e.createElement("div",{className:"rounded-xl bg-gray-50 border border-gray-100 p-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1"},e.createElement("span",{className:"font-semibold text-gray-800"},q[0].user?.name||"Utilisateur"),e.createElement("span",null,new Date(q[0].createdAt).toLocaleDateString("fr-FR"))),e.createElement("p",{className:"text-sm text-gray-700 line-clamp-2"},q[0].message))),ke&&e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Photos de la boutique")),oe.length>0?e.createElement("div",{className:"grid grid-cols-3 gap-2"},oe.map(_e=>e.createElement(pe,{key:`${_e.product?._id||"shop"}-${_e.src}`,to:ar(_e.product),...ut,className:"aspect-square overflow-hidden rounded-xl border border-gray-100"},e.createElement("img",{src:_e.src,alt:_e.product?.title||"Photo boutique",className:"w-full h-full object-cover"})))):e.createElement("div",{className:"grid grid-cols-3 gap-2"},Array.from({length:3}).map((_e,Be)=>e.createElement("div",{key:`shop-skel-${Be}`,className:"aspect-square rounded-xl border border-gray-100 bg-gray-100 animate-pulse"})))),R.length>0&&e.createElement("div",{className:"mb-3"},e.createElement("div",{className:"flex items-center justify-between px-4 mb-2"},e.createElement("span",{className:"text-sm font-bold text-gray-900"},"Produits similaires"),e.createElement(pe,{to:`/products?category=${m.category}`,className:"text-xs font-semibold text-indigo-600"},"Voir tout")),e.createElement("div",{className:"flex gap-3 overflow-x-auto px-4 pb-2",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none"}},R.map(_e=>e.createElement(pe,{key:_e._id,to:ar(_e),...ut,className:"flex-shrink-0 w-36 rounded-2xl border border-gray-200 bg-white overflow-hidden shadow-sm active:scale-[0.97] transition-transform"},e.createElement("div",{className:"aspect-square bg-gray-100 overflow-hidden"},e.createElement("img",{src:_e.images?.[0]||"https://via.placeholder.com/300x300",alt:_e.title,className:"w-full h-full object-cover",loading:"lazy"})),e.createElement("div",{className:"p-2"},e.createElement("p",{className:"text-xs font-bold text-gray-900 line-clamp-2 mb-1"},_e.title),e.createElement("p",{className:"text-xs font-black text-indigo-600"},Number(_e.price).toLocaleString()," FCFA")))))),m.video&&e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm p-4"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800 mb-3"},e.createElement(Nw,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Vido de prsentation")),e.createElement("div",{className:"rounded-xl overflow-hidden border border-gray-100 bg-black"},e.createElement("video",{src:m.video,controls:!0,poster:Zt[0],className:"w-full h-full object-contain"}))),m?.pdf&&e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm p-4"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900 mb-3"},"Fiche produit"),e.createElement("div",{className:"overflow-hidden rounded-xl border border-gray-100 bg-gray-50"},e.createElement("img",{src:m.pdf,alt:`Fiche produit ${m.title||""}`,className:"w-full h-auto object-contain bg-white",loading:"lazy"}))),e.createElement("div",{className:"mx-4 mb-3 rounded-2xl border border-gray-100 bg-white shadow-sm p-4"},e.createElement("p",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2"},e.createElement(Ff,{size:16,className:"text-indigo-600"}),"Partager ce produit"),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(st)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-[#1877F2] text-white text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),"Facebook"),e.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${m?.title||"Produit"} - ${st}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-[#25D366] text-white text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),"WhatsApp"),e.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-[#0088CC] text-white text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})),"Telegram"),e.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-black text-white text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})),"TikTok"),e.createElement("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-black text-white text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})),"X"),e.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(st),xe("Lien copi !"),setTimeout(()=>xe(""),2500)}catch{xe("Impossible de copier."),setTimeout(()=>xe(""),2500)}},className:"flex items-center gap-1.5 px-3 py-2 rounded-xl bg-gray-200 text-gray-700 text-xs font-semibold active:scale-95 transition-transform"},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})),"Copier")),it&&e.createElement("p",{className:"mt-2 text-xs font-semibold text-green-600"},it)),it&&e.createElement("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg"},it),!Qe&&e.createElement("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-xl border-t border-gray-200 shadow-2xl",style:{paddingBottom:"env(safe-area-inset-bottom)"}},e.createElement("div",{className:"px-4 py-3 flex items-center gap-2"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("span",{className:"text-lg font-black text-gray-900 block truncate"},Number(Er).toLocaleString()," FCFA")),e.createElement("button",{onClick:lr,disabled:E||gt,className:`flex items-center gap-1.5 px-4 py-2.5 rounded-2xl font-semibold text-sm transition-all active:scale-95 ${gt?"bg-gray-200 text-gray-500":"bg-indigo-600 text-white"}`},e.createElement(Ga,{size:18}),e.createElement("span",null,gt?"Au panier":E?"...":"Ajouter")),F&&e.createElement("a",{href:F,target:"_blank",rel:"noopener noreferrer",onClick:Lr,className:"flex items-center justify-center w-11 h-11 rounded-full bg-emerald-500 text-white active:scale-90 transition-transform shadow-sm"},e.createElement(br,{size:20})),e.createElement("button",{type:"button",onClick:sr,className:"flex items-center justify-center w-11 h-11 rounded-full border border-gray-200 bg-white active:scale-90 transition-transform"},e.createElement(ur,{size:20,className:lt?"text-red-500":"text-gray-400",fill:lt?"currentColor":"none"})))),N&&e.createElement("div",{className:`fixed top-20 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-full text-sm font-semibold shadow-lg ${N.includes("")?"bg-green-600 text-white":"bg-red-600 text-white"}`},N)),Ps=()=>e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},e.createElement("nav",{className:"bg-white/95 backdrop-blur-xl shadow-lg border-b border-gray-200/50 sticky top-0 z-10 sm:z-40"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("button",{onClick:()=>r("/products"),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-3xl bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium transition-all duration-200 active:scale-95"},e.createElement(Pr,{size:18}),e.createElement("span",null,"Retour")),e.createElement("div",{className:"flex items-center justify-end gap-3 w-full sm:w-auto"},e.createElement("div",{className:"relative"},e.createElement("button",{type:"button",onClick:()=>nt(_e=>!_e),className:"p-2 rounded-full hover:bg-gray-100 transition-colors"},e.createElement(Ff,{size:20,className:"text-gray-400"})),at&&e.createElement("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-gray-100 bg-white shadow-xl z-20"},e.createElement("div",{className:"p-3 border-b border-gray-100"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Partager ce produit"),e.createElement("p",{className:"text-xs text-gray-500"},"Diffusez lannonce en un clic.")),e.createElement("div",{className:"p-2 flex flex-col gap-1"},e.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(st),xe("Lien copi !"),setTimeout(()=>xe(""),2500)}catch{xe("Impossible de copier."),setTimeout(()=>xe(""),2500)}finally{nt(!1)}},className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors"},"Copier le lien"),e.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(st)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 transition-colors",onClick:()=>nt(!1)},"Partager sur Facebook"),e.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${m?.title||"Produit"} - ${st}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>nt(!1)},"Envoyer sur WhatsApp"),e.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-sky-50 transition-colors",onClick:()=>nt(!1)},"Partager sur Telegram"),e.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-black/5 transition-colors",onClick:()=>nt(!1)},"Partager sur TikTok")),it&&e.createElement("div",{className:"px-3 pb-3 text-xs text-green-600"},it))))))),e.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-24 md:pb-8"},e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-600 mb-6 sm:mb-8"},e.createElement(pe,{to:"/",className:"hover:text-indigo-600 transition-colors font-medium"},"Accueil"),e.createElement($r,{size:14,className:"text-gray-400"}),e.createElement(pe,{to:`/products?category=${m.category}`,className:"hover:text-indigo-600 transition-colors capitalize font-medium"},m.category),e.createElement($r,{size:14,className:"text-gray-400"}),e.createElement("span",{className:"text-gray-900 font-bold truncate"},m.title)),e.createElement("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-[1.2fr_1fr] lg:gap-12"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"relative group"},e.createElement("div",{className:`relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl border-2 border-gray-200 overflow-hidden shadow-xl ${rs}`,onClick:as},e.createElement("img",{src:pr,alt:m?.title||"Produit",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.createElement("button",{type:"button",onClick:_e=>{_e.stopPropagation(),sr()},className:"absolute top-4 right-4 bg-white/95 backdrop-blur-md w-11 h-11 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 active:scale-90 group/fav z-20 border border-gray-200"},e.createElement(ur,{size:20,className:`transition-all duration-200 ${lt?"text-red-500":"text-gray-600 group-hover/fav:text-red-400"}`,strokeWidth:2,fill:lt?"currentColor":"none"})),e.createElement("div",{className:"absolute top-4 left-4 flex flex-col space-y-2 z-20"},ea&&e.createElement("span",{className:"bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50"},"-",Dr,"%"),As&&e.createElement("span",{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600 text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50"},"Nouveau"),e.createElement("span",{className:`bg-gradient-to-r ${Ba} text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50`},Ya),m.certified&&e.createElement("span",{className:"inline-flex items-center gap-1.5 rounded-2xl bg-gradient-to-r from-emerald-500 to-green-600 px-4 py-2.5 text-xs font-black text-white shadow-2xl ring-2 ring-white/50"},e.createElement(_r,{className:"w-4 h-4"}),"Certifi HDMarket")),Zt.length>1&&e.createElement("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg z-20"},A+1," / ",Zt.length),e.createElement("button",{type:"button",onClick:Na,className:"absolute bottom-4 right-4 bg-white/95 backdrop-blur-md w-11 h-11 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 active:scale-90 z-20 border border-gray-200"},e.createElement(NB,{size:20,className:"text-gray-700"})))),Zt.length>1&&e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},Zt.map((_e,Be)=>e.createElement("button",{key:Be,type:"button",onClick:()=>ns(Be),className:`flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-xl border-2 overflow-hidden transition-all transform hover:scale-110 ${A===Be?"border-indigo-500 ring-2 ring-indigo-200 shadow-md scale-110":"border-gray-200 hover:border-indigo-300"}`},e.createElement("img",{src:_e,alt:`${m.title} - Image ${Be+1}`,className:"w-full h-full object-cover"})))),m.video&&e.createElement("div",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800"},e.createElement(Nw,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Vido de prsentation")),e.createElement("div",{className:"rounded-xl overflow-hidden border border-gray-100 bg-black"},e.createElement("video",{src:m.video,controls:!0,poster:Zt[0],className:"w-full h-full object-contain"})))),e.createElement("div",{className:"lg:sticky lg:top-24 space-y-6 h-fit"},e.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-100 shadow-xl p-6 sm:p-8 space-y-6"},e.createElement("div",{className:"space-y-4"},e.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 leading-tight"},m.title),e.createElement("div",{className:"flex flex-wrap items-center gap-3"},e.createElement("span",{className:"inline-flex items-center bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-2 rounded-full text-sm font-bold text-indigo-700 border border-indigo-200"},m.category),e.createElement("div",{className:"flex items-center space-x-1.5 text-sm text-gray-600 bg-gray-50 px-3 py-1.5 rounded-full"},e.createElement(Ut,{size:14}),e.createElement("span",{className:"font-medium"},yn===0?"Aujourd'hui":yn===1?"Hier":`Il y a ${yn} jours`)))),e.createElement("div",{className:"flex flex-wrap items-center gap-4 py-5 border-y-2 border-gray-100"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-50 to-orange-50 px-4 py-2.5 rounded-2xl border-2 border-amber-200"},e.createElement(rr,{className:"w-6 h-6 text-amber-500",fill:"currentColor"}),e.createElement("span",{className:"text-2xl font-black text-gray-900"},Cr),e.createElement("span",{className:"text-gray-600 font-semibold"},"(",Vt,")"))),e.createElement("div",{className:"flex flex-wrap items-center gap-4 text-sm"},e.createElement("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-2 rounded-xl border border-blue-100"},e.createElement(br,{size:16,className:"text-blue-600"}),e.createElement("span",{className:"font-semibold text-gray-700"},Fa),e.createElement("span",{className:"text-gray-500"},"commentaires")),e.createElement("div",{className:"flex items-center gap-2 bg-purple-50 px-3 py-2 rounded-xl border border-purple-100"},e.createElement(zn,{size:16,className:"text-purple-600"}),e.createElement("span",{className:"font-semibold text-gray-700"},m.views||0),e.createElement("span",{className:"text-gray-500"},"vues")),e.createElement("div",{className:"flex items-center gap-2 bg-pink-50 px-3 py-2 rounded-xl border border-pink-100"},e.createElement(ur,{size:16,className:"text-pink-500",fill:"currentColor"}),e.createElement("span",{className:"font-semibold text-gray-700"},T),e.createElement("span",{className:"text-gray-500"},"favoris")))),e.createElement("div",{className:"space-y-3"},ea?e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-wrap items-baseline gap-3"},e.createElement("span",{className:"text-4xl sm:text-5xl font-black text-gray-900"},Number(Er).toLocaleString()," FCFA"),e.createElement("span",{className:"text-xl sm:text-2xl text-gray-400 line-through font-bold"},Number(Oa).toLocaleString()," FCFA")),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-xl text-sm font-black shadow-lg"},"conomisez ",Number(Oa-Er).toLocaleString()," FCFA"))):e.createElement("span",{className:"text-4xl sm:text-5xl font-black text-gray-900"},Number(Er).toLocaleString()," FCFA")),m.confirmationNumber&&e.createElement("p",{className:"text-xs text-gray-500"},"Code produit :",e.createElement("span",{className:"font-semibold text-gray-900 ml-1"},m.confirmationNumber),e.createElement("span",{className:"block text-[11px] text-gray-400"},"Mentionnez ce code  ladministrateur lorsque vous validez votre commande.")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] sm:text-xs"},m.certified&&e.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700"},e.createElement(_r,{className:"w-4 h-4 text-emerald-500"}),"Produit certifi HDMarket"),m.certifiedBy&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-700"},"Certifi par ",m.certifiedBy?.name||"HDMarket"),m.certifiedAt&&e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-600"},new Date(m.certifiedAt).toLocaleDateString("fr-FR"))),et&&e.createElement("button",{type:"button",onClick:Or,disabled:He,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-3xl border border-gray-300 bg-white px-5 py-2.5 text-sm font-semibold text-gray-700 transition-all duration-200 hover:bg-gray-50 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed"},m.certified?"Retirer la certification":"Certifier ce produit")),(xt||mt)&&e.createElement("p",{className:`text-xs ${mt?"text-red-600":"text-green-600"}`},mt||xt)),m.user&&e.createElement("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-3xl p-6 border-2 border-indigo-200 shadow-lg"},e.createElement("div",{className:"flex flex-col gap-5 sm:flex-row sm:items-center"},e.createElement("div",{className:"flex-shrink-0"},me?e.createElement("img",{src:me,alt:L||m.user.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white shadow-lg"}):e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(Sr,{className:"w-8 h-8 text-white"}))),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"flex items-center gap-2 flex-wrap"},e.createElement("h3",{className:"text-lg font-black text-gray-900"},ke&&Ae?e.createElement(pe,{to:la(Ae),className:"hover:text-indigo-600 transition-colors"},L||m.user.name):L||m.user.name),ke&&e.createElement(dn,{verified:je,showLabel:!1})),(Fe||Se)&&e.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-700 bg-white/60 px-3 py-1.5 rounded-xl"},e.createElement(yr,{size:16,className:"text-indigo-600"}),e.createElement("span",{className:"font-medium"},Fe?`${Fe}, ${ct}`:"",Se?`${Fe?"  ":""}${Se}`:"")),e.createElement("p",{className:"text-xs text-gray-600 font-semibold flex items-center gap-2 flex-wrap"},e.createElement("span",{className:"bg-white/60 px-3 py-1 rounded-lg"},"Vendeur ",ke?"Professionnel":"Particulier"),ke&&e.createElement(dn,{verified:je}))),ke&&Ae&&e.createElement("div",{className:"flex w-full flex-col gap-3 sm:w-auto"},e.createElement(pe,{to:la(Ae),className:"flex w-full items-center justify-center gap-2 px-5 py-3 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-sm"},e.createElement(Sr,{size:18}),e.createElement("span",null,"Voir la boutique")),!Qe&&e.createElement("button",{type:"button",onClick:It,disabled:z||!je,className:`flex w-full items-center justify-center gap-2 px-5 py-3 rounded-3xl text-sm font-semibold transition-all duration-200 active:scale-95 ${K?"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${!je||z?"opacity-60 cursor-not-allowed":""}`},z?"Traitement":K?"Se dsabonner":"Suivre la boutique "))),ye&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-indigo-200"},e.createElement("a",{href:`tel:${(we||"").replace(/\s+/g,"")}`,className:"flex flex-wrap items-center gap-2 text-sm bg-white/80 px-4 py-3 rounded-xl hover:bg-green-50 transition-colors border border-green-200"},e.createElement(yo,{size:18,className:"text-green-600"}),e.createElement("span",{className:"text-gray-900 font-black"},we),e.createElement("span",{className:"text-xs text-gray-600 font-semibold"}," Contact direct")))),!Qe&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},e.createElement("button",{onClick:lr,disabled:E||gt,className:`flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl font-semibold text-base transition-all duration-200 active:scale-95 shadow-sm ${gt?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-60":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`},e.createElement(Ga,{size:20}),e.createElement("span",null,gt?"Dj au panier":E?"Ajout...":"Ajouter au panier")),F&&e.createElement("a",{href:F,target:"_blank",rel:"noopener noreferrer",onClick:Lr,className:"flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl border border-gray-300 bg-white text-gray-900 font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(br,{size:20}),e.createElement("span",null,"WhatsApp"))),gt&&e.createElement(pe,{to:"/orders/checkout",className:"flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Ga,{size:20}),e.createElement("span",null,"Passer la commande")),N&&e.createElement("div",{className:`rounded-2xl p-4 text-center font-semibold ${N.includes("")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`},N),F&&e.createElement("p",{className:"text-center text-sm text-gray-500"},S>0?` Contact ${S} fois via WhatsApp`:" Soyez le premier  contacter ce vendeur")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},e.createElement("div",{className:"flex items-center space-x-2 bg-green-50 px-4 py-3 rounded-xl border border-green-100"},e.createElement(_r,{className:"w-5 h-5 text-green-600"}),e.createElement("span",{className:"text-sm font-semibold text-gray-700"},"Paiement scuris")),e.createElement("div",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-3 rounded-xl border border-blue-100"},e.createElement(Tr,{className:"w-5 h-5 text-blue-600"}),e.createElement("span",{className:"text-sm font-semibold text-gray-700"},"Livraison disponible"))),n&&e.createElement(pe,{to:"/orders/messages",state:{inquireProduct:{_id:m._id,title:m.title,images:m.images,slug:m.slug},sellerId:m.user?._id,shopName:m.user?.shopName||m.user?.name},...ut,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-indigo-50 border border-indigo-100 text-indigo-700 hover:bg-indigo-100 hover:border-indigo-200 transition-colors text-sm font-medium"},e.createElement(br,{className:"w-4 h-4 flex-shrink-0"}),e.createElement("span",null,"Des questions sur ce produit ? Contacter le vendeur")),e.createElement("div",{className:"bg-gradient-to-r from-gray-50 to-indigo-50 rounded-2xl p-4 border border-gray-200"},e.createElement("p",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2"},e.createElement(Ff,{size:16,className:"text-indigo-600"}),"Partager ce produit"),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(st)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#1877F2] text-white font-semibold text-sm hover:bg-[#166FE5] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur Facebook"},e.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),e.createElement("span",{className:"hidden sm:inline"},"Facebook")),e.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${m?.title||"Produit"} - ${st}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#25D366] text-white font-semibold text-sm hover:bg-[#20BD5A] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur WhatsApp"},e.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),e.createElement("span",{className:"hidden sm:inline"},"WhatsApp")),e.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#0088CC] text-white font-semibold text-sm hover:bg-[#007AB8] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur Telegram"},e.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})),e.createElement("span",{className:"hidden sm:inline"},"Telegram")),e.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-black text-white font-semibold text-sm hover:bg-gray-800 transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur TikTok"},e.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})),e.createElement("span",{className:"hidden sm:inline"},"TikTok")),e.createElement("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(st)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-black text-white font-semibold text-sm hover:bg-gray-800 transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur X (Twitter)"},e.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})),e.createElement("span",{className:"hidden sm:inline"},"X")),e.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(st),xe("Lien copi !"),setTimeout(()=>xe(""),2500)}catch{xe("Impossible de copier."),setTimeout(()=>xe(""),2500)}},className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-200 text-gray-700 font-semibold text-sm hover:bg-gray-300 transition-all duration-200 active:scale-95",title:"Copier le lien"},e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})),e.createElement("span",{className:"hidden sm:inline"},"Copier"))),it&&e.createElement("p",{className:"mt-2 text-sm font-semibold text-green-600"},it))))),e.createElement("div",{className:"mt-12 sm:mt-16"},e.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-100 shadow-xl overflow-hidden"},e.createElement("div",{className:"border-b-2 border-gray-100 overflow-x-auto"},e.createElement("nav",{className:"flex flex-wrap gap-2 sm:gap-4 min-w-full px-4 sm:px-6 pt-4"},[{id:"description",label:"Description",icon:zn},{id:"specifications",label:"Spcifications",icon:_r},{id:"reviews",label:`Avis (${Fa})`,icon:rr},{id:"shipping",label:"Livraison",icon:Tr}].map(_e=>{const Be=_e.icon;return e.createElement("button",{key:_e.id,onClick:()=>H(_e.id),className:`flex items-center gap-2 py-2.5 px-5 font-semibold text-sm rounded-3xl transition-all duration-200 active:scale-95 ${ee===_e.id?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`},e.createElement(Be,{size:18}),e.createElement("span",null,_e.label))}))),e.createElement("div",{className:"p-6 sm:p-8"},ee==="description"&&e.createElement("div",{className:"prose max-w-none"},e.createElement("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"},e.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-base sm:text-lg"},m.description))),ee==="specifications"&&e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100"},e.createElement("span",{className:"font-bold text-gray-700"},"Condition"),e.createElement("span",{className:"text-gray-900 font-semibold text-lg"},Ya)),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100"},e.createElement("span",{className:"font-bold text-gray-700"},"Catgorie"),e.createElement("span",{className:"text-gray-900 font-semibold text-lg capitalize"},m.category)),(Fe||m.user?.shopAddress)&&e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100 text-sm"},e.createElement("span",{className:"font-bold text-gray-700"},"Localisation"),e.createElement("span",{className:"text-gray-900 font-semibold text-right"},Fe?`${Fe}, ${ct}`:"",m.user?.shopAddress?`${Fe?"  ":""}${m.user.shopAddress}`:""))),ee==="reviews"&&e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 rounded-3xl p-6 sm:p-8 border-2 border-amber-200 shadow-xl"},e.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},e.createElement("div",{className:"text-center lg:text-left"},e.createElement("div",{className:"text-5xl sm:text-6xl font-black text-gray-900 mb-2"},Cr),e.createElement("div",{className:"flex items-center justify-center lg:justify-start gap-1 mb-2"},[1,2,3,4,5].map(_e=>e.createElement(rr,{key:_e,size:24,className:`${_e<=Math.floor(Cr)?"text-amber-500 fill-amber-500":"text-gray-300"}`}))),e.createElement("div",{className:"text-sm text-gray-700 font-bold"},Vt," avis  ",Fa," commentaires")),e.createElement("div",{className:"flex-1 w-full max-w-md"},e.createElement("h4",{className:"font-black text-gray-900 mb-4 text-lg"},ue>0?"Votre note":"Notez ce produit"),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},[1,2,3,4,5].map(_e=>e.createElement("button",{key:_e,type:"button",onClick:()=>{Qe||tr(_e)},disabled:ie||Qe,className:"focus:outline-none disabled:opacity-50 hover:scale-110 transition-transform",title:Qe?"Vous ne pouvez pas noter votre propre produit.":void 0},e.createElement(rr,{size:28,className:`${_e<=ue?"text-amber-500 fill-amber-500":"text-gray-300"} ${Qe?"cursor-not-allowed":"hover:text-amber-400"} transition-colors`}))),ie&&e.createElement("span",{className:"text-sm text-gray-600 font-semibold ml-2"},"Envoi...")),ue>0&&e.createElement("p",{className:"text-sm text-green-600 font-bold mt-3 bg-green-50 px-3 py-2 rounded-xl inline-block"}," Vous avez not ",ue,"/5")))),e.createElement("div",{className:"bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-200 shadow-lg"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(br,{className:"w-6 h-6 text-white"})),e.createElement("div",null,e.createElement("h4",{className:"text-xl font-black text-gray-900"},"Commentaires"),e.createElement("p",{className:"text-sm text-gray-600"},q.length," commentaire",q.length>1?"s":""))),Ce&&e.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},e.createElement("p",{className:"text-red-700 text-sm"},Ce)),n&&e.createElement("form",{onSubmit:na,className:"mb-6"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},e.createElement("input",{type:"text",value:G,onChange:_e=>Y(_e.target.value),placeholder:"Laissez un commentaire...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:Oe}),e.createElement("button",{type:"submit",disabled:!G.trim()||Oe,className:"px-5 py-2.5 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm w-full sm:w-auto"},Oe?"Envoi...":"Commenter"))),e.createElement("div",{className:"space-y-4"},q.length===0?e.createElement("div",{className:"text-center py-8 text-gray-500"},e.createElement(br,{size:48,className:"mx-auto mb-3 text-gray-300"}),e.createElement("p",null,"Aucun commentaire pour le moment."),!n&&e.createElement("p",{className:"text-sm mt-2"},e.createElement("button",{onClick:()=>r("/login"),className:"text-indigo-600 hover:text-indigo-700"},"Connectez-vous")," ","pour laisser le premier commentaire.")):q.map(_e=>e.createElement(oT,{key:_e._id,comment:_e,user:n,replyingTo:re,setReplyingTo:Ie,replyText:fe,setReplyText:Le,onSubmitReply:Hr,submittingComment:Oe}))))),ee==="shipping"&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl border-2 border-blue-200 text-center sm:text-left shadow-md"},e.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0"},e.createElement(Tr,{className:"w-7 h-7 text-white"})),e.createElement("div",null,e.createElement("h4",{className:"font-black text-gray-900 text-lg mb-1"},"Options de livraison"),e.createElement("p",{className:"text-sm text-gray-700 font-medium"},"Contactez le vendeur pour les dtails de livraison"))),e.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200 text-center sm:text-left shadow-md"},e.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0"},e.createElement(_r,{className:"w-7 h-7 text-white"})),e.createElement("div",null,e.createElement("h4",{className:"font-black text-gray-900 text-lg mb-1"},"Retour et change"),e.createElement("p",{className:"text-sm text-gray-700 font-medium"},"Politique de retour  discuter avec le vendeur"))))))),m?.pdf&&e.createElement("section",{className:"mt-6 rounded-2xl border border-gray-200 bg-white p-4 sm:p-6"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},e.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Fiche produit (JPEG)")),e.createElement("div",{className:"mt-4 relative overflow-hidden rounded-xl border border-gray-100 bg-gray-50"},e.createElement("img",{src:m.pdf,alt:`Fiche produit ${m.title||""}`,className:"w-full h-auto object-contain bg-white",loading:"lazy"}))),be&&ke&&e.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Photos de la boutique"),e.createElement("span",{className:"text-xs text-gray-500"},"Slection alatoire")),oe.length>0?e.createElement("div",{className:"grid grid-cols-3 gap-2"},oe.map(_e=>e.createElement(pe,{key:`${_e.product?._id||"shop"}-${_e.src}`,to:ar(_e.product),...ut,className:"aspect-square overflow-hidden rounded-xl border border-gray-100"},e.createElement("img",{src:_e.src,alt:_e.product?.title||"Photo boutique",className:"w-full h-full object-cover"})))):e.createElement("div",{className:"grid grid-cols-3 gap-2"},Array.from({length:3}).map((_e,Be)=>e.createElement("div",{key:`shop-photo-skeleton-${Be}`,className:"aspect-square rounded-xl border border-gray-100 bg-gray-100 animate-pulse"})))),be&&R.length>0&&e.createElement("section",{className:"mt-8 rounded-3xl border-2 border-gray-200 bg-white p-4 sm:p-6 shadow-xl"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",null,e.createElement("h3",{className:"text-lg font-black text-gray-900"},"Produits similaires"),e.createElement("p",{className:"text-xs text-gray-600"},"Dcouvrez d'autres produits")),e.createElement(pe,{to:`/products?category=${m.category}`,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700"},"Voir tout ")),e.createElement("div",{className:"grid grid-cols-2 gap-3"},R.map(_e=>e.createElement(pe,{key:_e._id,to:ar(_e),...ut,className:"group overflow-hidden rounded-2xl border-2 border-gray-200 bg-white transition-all hover:shadow-lg hover:border-indigo-300"},e.createElement("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},e.createElement("img",{src:_e.images?.[0]||"https://via.placeholder.com/300x300",alt:_e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),e.createElement("div",{className:"p-3"},e.createElement("p",{className:"text-xs font-bold text-gray-900 line-clamp-2 mb-2 min-h-[2rem] group-hover:text-indigo-600 transition-colors"},_e.title),e.createElement("p",{className:"text-sm font-black text-indigo-600"},Number(_e.price).toLocaleString()," FCFA")))))),be&&e.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),e.createElement("button",{type:"button",onClick:()=>Ye(!0),className:"text-xs font-semibold text-indigo-600"},"Voir tout")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(rr,{className:"h-4 w-4 text-amber-400"}),e.createElement("span",{className:"font-semibold text-gray-900"},Cr),e.createElement("span",null,"(",Vt,")")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-4 w-4"}),e.createElement("span",null,Fa," commentaires"))),q.length>0?e.createElement("div",{className:"mt-4 space-y-3"},q.slice(0,2).map(_e=>e.createElement("div",{key:_e._id,className:"rounded-xl border border-gray-100 bg-gray-50 p-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",{className:"font-semibold text-gray-800"},_e.user?.name||"Utilisateur"),e.createElement("span",null,new Date(_e.createdAt).toLocaleDateString("fr-FR"))),e.createElement("p",{className:"mt-2 text-sm text-gray-700 line-clamp-3"},_e.message)))):e.createElement("p",{className:"mt-4 text-xs text-gray-500"},"Aucun avis pour le moment.")),!be&&R.length>0&&e.createElement("section",{className:"mt-16 sm:mt-20"},e.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8"},e.createElement("div",null,e.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-2"},"Produits similaires"),e.createElement("p",{className:"text-gray-600 text-sm"},"Dcouvrez d'autres produits de la mme catgorie")),e.createElement(pe,{to:`/products?category=${m.category}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg text-sm"},"Voir tout ",e.createElement($r,{size:18}))),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5"},R.map(_e=>e.createElement(pe,{key:_e._id,to:ar(_e),...ut,className:"group block bg-white rounded-2xl border-2 border-gray-200 overflow-hidden hover:shadow-2xl hover:border-indigo-300 transition-all hover:-translate-y-1"},e.createElement("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},e.createElement("img",{src:_e.images?.[0]||"https://via.placeholder.com/300x300",alt:_e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),e.createElement("div",{className:"p-4"},e.createElement("h3",{className:"font-bold text-sm text-gray-900 line-clamp-2 mb-2 min-h-[2.5rem] group-hover:text-indigo-600 transition-colors"},_e.title),e.createElement("p",{className:"text-lg font-black text-indigo-600"},Number(_e.price).toLocaleString()," FCFA"))))))),be&&We&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 px-4 py-6 sm:items-center",onClick:()=>Ye(!1)},e.createElement("div",{className:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl max-h-[85vh] overflow-y-auto",onClick:_e=>_e.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),e.createElement("button",{type:"button",onClick:()=>Ye(!1),className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200","aria-label":"Fermer"},e.createElement(_t,{className:"h-4 w-4"}))),e.createElement("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-600"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(rr,{className:"h-4 w-4 text-amber-400"}),e.createElement("span",{className:"font-semibold text-gray-900"},Cr),e.createElement("span",null,"(",Vt,")")),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-4 w-4"}),e.createElement("span",null,Fa," commentaires"))),e.createElement("div",{className:"mt-4 space-y-4"},q.length===0?e.createElement("p",{className:"text-xs text-gray-500"},"Aucun avis pour le moment."):q.map(_e=>e.createElement(oT,{key:_e._id,comment:_e,user:n,replyingTo:re,setReplyingTo:Ie,replyText:fe,setReplyText:Le,onSubmitReply:Hr,submittingComment:Oe}))))));return e.createElement(e.Fragment,null,be?is():Ps(),bt&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm px-4 py-6",onClick:_s},e.createElement("div",{className:"relative w-full max-w-5xl",onClick:_e=>_e.stopPropagation()},e.createElement("div",{className:"max-h-[85vh] overflow-auto rounded-3xl bg-black shadow-2xl",onWheel:os},e.createElement("img",{src:pr,alt:m?.title||"Produit",className:"block max-w-none object-contain",style:{width:`${Ge*100}%`,height:"auto"}})),e.createElement("button",{type:"button",onClick:_s,className:"absolute right-4 top-4 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},e.createElement(_t,{size:20})),Zt.length>1&&e.createElement(e.Fragment,null,e.createElement("button",{type:"button",onClick:Xa,className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},e.createElement(rM,{size:20})),e.createElement("button",{type:"button",onClick:ss,className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},e.createElement($r,{size:20})),e.createElement("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-md text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg"},e.createElement("span",null,A+1," / ",Zt.length))))))}function oT({comment:t,user:r,replyingTo:a,setReplyingTo:n,replyText:s,setReplyText:o,onSubmitReply:i,submittingComment:d}){return e.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},e.createElement("div",{className:"p-5 sm:p-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white"},e.createElement("span",{className:"text-white text-base font-black"},t.user?.name?.charAt(0)||"U")),e.createElement("div",null,e.createElement("span",{className:"font-black text-gray-900 text-base"},t.user?.name||"Utilisateur"),e.createElement("div",{className:"text-xs text-gray-600 font-medium mt-0.5"},new Date(t.createdAt).toLocaleDateString("fr-FR")))),r&&e.createElement("button",{onClick:()=>n(a===t._id?null:t._id),className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-3xl hover:bg-gray-200 transition-all duration-200 active:scale-95 text-sm font-medium"},e.createElement(jF,{size:16}),e.createElement("span",null,"Rpondre"))),e.createElement("p",{className:"text-gray-700 leading-relaxed text-base"},t.message),a===t._id&&e.createElement("div",{className:"mt-4 pl-4 border-l-4 border-indigo-400 bg-indigo-50/50 rounded-r-xl p-4"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(B5,{size:16,className:"text-indigo-600"}),e.createElement("span",{className:"text-sm font-bold text-indigo-700"},"Rponse  ",t.user?.name)),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},e.createElement("input",{type:"text",value:s,onChange:u=>o(u.target.value),placeholder:`Rpondre  ${t.user?.name}...`,className:"flex-1 px-4 py-2.5 border-2 border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium",disabled:d}),e.createElement("button",{onClick:()=>i(t),disabled:!s.trim()||d,className:"px-5 py-2.5 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed text-sm shadow-sm transition-all duration-200 active:scale-95"},d?"Envoi...":"Envoyer"),e.createElement("button",{onClick:()=>{n(null),o("")},className:"px-5 py-2.5 border border-gray-300 bg-white text-gray-700 rounded-3xl hover:bg-gray-50 text-sm font-medium transition-all duration-200 active:scale-95"},"Annuler")))),t.replies&&t.replies.length>0&&e.createElement("div",{className:"bg-gradient-to-br from-gray-50 to-indigo-50/30 border-t-2 border-gray-200"},t.replies.map(u=>e.createElement("div",{key:u._id,className:"p-4 sm:p-5 border-b border-gray-200 last:border-b-0"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement(B5,{size:16,className:"text-indigo-500"}),e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-md ring-2 ring-white"},e.createElement("span",{className:"text-white text-sm font-black"},u.user?.name?.charAt(0)||"U")),e.createElement("div",null,e.createElement("span",{className:"font-black text-gray-900 text-sm"},u.user?.name||"Utilisateur"),e.createElement("div",{className:"text-xs text-gray-600 font-medium"},new Date(u.createdAt).toLocaleDateString("fr-FR")))),e.createElement("p",{className:"text-gray-700 text-sm ml-14 leading-relaxed"},u.message)))))}const aie=(t=[])=>{if(!t.length)return null;const r=Math.floor(Math.random()*t.length);return t[r]||null},nie=(t=[])=>{const r=Array.isArray(t)?t.filter(Boolean):[];return aie(r)||null},_u=t=>t?.slug||t?._id||"",iT=(t=[],r=new Set)=>{const a=[];return t.forEach(n=>{const s=_u(n);!s||r.has(s)||(r.add(s),a.push(n))}),a},$$=(t=[])=>{const r=[...t];for(let a=r.length-1;a>0;a-=1){const n=Math.floor(Math.random()*(a+1));[r[a],r[n]]=[r[n],r[a]]}return r},lT=(t=[],r=6)=>{const a=t.map(n=>{const s=nie(n?.images);return s?{image:s,product:n}:null}).filter(Boolean);return $$(a).slice(0,r)},sie=(t,r=6)=>{const a=Array.isArray(t?.images)?t.images.filter(Boolean):[];return $$(a).slice(0,r).map(n=>({image:n,product:t}))},op=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,ip=t=>Number(t||0).toLocaleString("fr-FR");function oie(){const{slug:t}=Di(),r=Zr(),a=Bl(),[n,s]=g.useState(null),[o,i]=g.useState([]),[d,u]=g.useState(!0),[m,p]=g.useState("");g.useEffect(()=>{if(a)return;const w=t?ar({slug:t}):"/";r(w,{replace:!0})},[a,r,t]),g.useEffect(()=>{let w=!0;return t?(async()=>{try{u(!0),p(""),i([]);const x=new Set,{data:N}=await se.get(`/products/public/${t}`);if(!w)return;s(N);const k=_u(N);k&&x.add(k);let A=[];if(N?.category)try{const{data:P}=await se.get("/products/public",{params:{category:N.category,limit:12}}),_=(Array.isArray(P?.items)?P.items:[]).filter(R=>!(!R||N?._id&&R._id&&R._id===N._id||N?.slug&&R.slug&&R.slug===N.slug)),T=_.filter(R=>Array.isArray(R.images)&&R.images.length>0),O=iT(T.length?T:_,x);A=lT(O,6)}catch{}A.length||(A=sie(N,6)),A.forEach(P=>{const S=_u(P?.product);S&&x.add(S)});try{const{data:P}=await se.get("/products/public",{params:{boosted:!0,limit:8}}),_=(Array.isArray(P?.items)?P.items:[]).filter(D=>Array.isArray(D?.images)&&D.images.length>0),T=iT(_,x),O=T.length?T:_,R=lT(O,3);R.length&&(A=[...A,...R])}catch{}w&&i(A)}catch(x){if(!w)return;s(null),i([]),p(x.response?.data?.message||"Produit indisponible.")}finally{w&&u(!1)}})():(u(!1),p("Produit indisponible.")),()=>{w=!1}},[t]),g.useEffect(()=>{n?._id&&Mm(n)},[n?._id,n?.category]);const f=g.useMemo(()=>n?.slug?ar(n):t?ar({slug:t}):"/",[n,t]),y=w=>ar(w),b=g.useMemo(()=>{if(!n)return o;const w=_u(n);return o.filter(E=>{const x=_u(E?.product);return x&&x!==w})},[o,n]);return e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-indigo-50/30"},e.createElement("div",{className:"mx-auto w-full max-w-2xl px-3 sm:px-4 pb-20 pt-4 sm:pt-6 space-y-5 sm:space-y-6"},e.createElement("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-3xl bg-white border border-gray-300 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Pr,{className:"h-5 w-5"}),"Retour"),d?e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"animate-pulse rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("div",{className:"flex gap-5"},e.createElement("div",{className:"h-32 w-32 rounded-2xl bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"flex-1 space-y-4"},e.createElement("div",{className:"h-5 w-3/4 rounded-lg bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"h-6 w-1/2 rounded-lg bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"h-4 w-2/3 rounded-lg bg-gray-200 dark:bg-gray-700"}),e.createElement("div",{className:"h-10 w-40 rounded-xl bg-gray-200 dark:bg-gray-700"})))),e.createElement("div",{className:"animate-pulse rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("div",{className:"h-5 w-32 rounded-lg bg-gray-200 dark:bg-gray-700 mb-4"}),e.createElement("div",{className:"grid grid-cols-2 gap-4"},[1,2,3,4].map(w=>e.createElement("div",{key:w,className:"aspect-[4/5] rounded-2xl bg-gray-200 dark:bg-gray-700"}))))):m?e.createElement("div",{className:"rounded-3xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-8 text-center shadow-lg"},e.createElement("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Nn,{className:"w-8 h-8 text-red-600 dark:text-red-400"})),e.createElement("p",{className:"text-red-700 dark:text-red-400 font-semibold text-base"},m)):n?e.createElement("div",{className:"space-y-6"},e.createElement("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-white via-indigo-50/40 to-purple-50/40 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-950/20 border-2 border-indigo-300/60 dark:border-indigo-800/50 shadow-2xl"},e.createElement("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),e.createElement("div",{className:"p-6 sm:p-8"},e.createElement("div",{className:"flex gap-5 sm:gap-6"},e.createElement("div",{className:"relative flex-shrink-0"},e.createElement("div",{className:"h-32 w-32 sm:h-40 sm:w-40 overflow-hidden rounded-3xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 shadow-2xl ring-4 ring-white dark:ring-gray-700"},e.createElement("img",{src:n.images?.[0]||"https://via.placeholder.com/128x128",alt:n.title,className:"h-full w-full object-cover"})),n.discount>0&&e.createElement("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-xs font-black px-3 py-1.5 rounded-full shadow-2xl ring-2 ring-white"},"-",n.discount,"%")),e.createElement("div",{className:"flex-1 min-w-0 space-y-3 sm:space-y-4"},e.createElement("div",null,e.createElement("h1",{className:"text-lg sm:text-xl font-black text-gray-900 dark:text-white line-clamp-2 leading-tight mb-3"},n.title),e.createElement("div",{className:"flex items-baseline gap-3"},e.createElement("p",{className:"text-2xl sm:text-3xl font-black text-indigo-600 dark:text-indigo-400"},op(n.price)),n.priceBeforeDiscount&&n.priceBeforeDiscount>n.price&&e.createElement("p",{className:"text-base sm:text-lg text-gray-500 dark:text-gray-400 line-through font-bold"},op(n.priceBeforeDiscount)))),n?.user?.shopName&&e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},e.createElement(Sr,{className:"w-3.5 h-3.5 text-white"})),e.createElement("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 truncate"},n.user.shopName)),(n.ratingAverage||n.commentCount)&&e.createElement("div",{className:"flex items-center gap-3 text-xs"},n.ratingAverage>0&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(rr,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500"}),e.createElement("span",{className:"font-bold text-gray-700 dark:text-gray-300"},Number(n.ratingAverage).toFixed(1)),n.ratingCount>0&&e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"(",ip(n.ratingCount),")")),n.commentCount>0&&e.createElement("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400"},e.createElement(br,{className:"h-3.5 w-3.5"}),e.createElement("span",null,ip(n.commentCount)))),e.createElement(pe,{to:f,className:"inline-flex items-center justify-center gap-2 w-full rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 hover:shadow-md transition-all duration-200 active:scale-95"},e.createElement(zn,{className:"w-5 h-5"}),"Voir le produit",e.createElement($r,{className:"w-5 h-5"})))))),e.createElement("section",{className:"rounded-3xl border-2 border-gray-200/60 dark:border-gray-700/50 bg-white dark:bg-gray-800 shadow-2xl overflow-hidden"},e.createElement("div",{className:"bg-gradient-to-r from-amber-50 via-orange-50 to-yellow-50 dark:from-amber-900/20 dark:to-orange-900/20 px-6 py-5 border-b-2 border-amber-200 dark:border-gray-700"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 via-orange-500 to-amber-600 rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white"},e.createElement(ma,{className:"h-6 w-6 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-black text-gray-900 dark:text-white"},"Inspiration"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium"},"Produits similaires pour vous")))),e.createElement("div",{className:"p-5 sm:p-6"},b.length?e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:gap-4"},b.map((w,E)=>{const x=Number(w.product?.ratingAverage||0).toFixed(1),N=ip(w.product?.ratingCount||0),k=ip(w.product?.commentCount||0),A=w.product?.discount>0&&w.product?.priceBeforeDiscount>w.product?.price;return e.createElement(pe,{key:`${w.product?._id||"product"}-${w.image}-${E}`,to:y(w.product),className:"group relative overflow-hidden rounded-3xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.03] active:scale-95"},e.createElement("div",{className:"relative aspect-[4/5] w-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden"},e.createElement("img",{src:w.image,alt:w.product?.title||"Produit",className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}),A&&e.createElement("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-[11px] font-black px-2.5 py-1.5 rounded-full shadow-2xl ring-2 ring-white"},"-",w.product.discount,"%"),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),e.createElement("div",{className:"p-3 sm:p-4 space-y-2.5"},e.createElement("p",{className:"text-xs sm:text-sm font-black text-gray-900 dark:text-white line-clamp-2 leading-tight min-h-[2.5rem] group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},w.product?.title),e.createElement("div",{className:"flex items-baseline gap-2"},e.createElement("p",{className:"text-base sm:text-lg font-black text-indigo-600 dark:text-indigo-400"},op(w.product?.price)),A&&e.createElement("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 line-through font-bold"},op(w.product.priceBeforeDiscount))),e.createElement("div",{className:"flex items-center gap-2.5 text-[10px] sm:text-[11px]"},x>0&&e.createElement("span",{className:"inline-flex items-center gap-1 bg-amber-50 px-2 py-1 rounded-lg"},e.createElement(rr,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500"}),e.createElement("span",{className:"font-black text-gray-700 dark:text-gray-300"},x),N>0&&e.createElement("span",{className:"text-gray-500"},"(",N,")")),k>0&&e.createElement("span",{className:"inline-flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-lg"},e.createElement(br,{className:"h-3.5 w-3.5 text-blue-600"}),e.createElement("span",{className:"font-semibold text-gray-700"},k)))))})):e.createElement("div",{className:"rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 p-12 text-center"},e.createElement("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(ma,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})),e.createElement("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1"},"Aucune inspiration pour le moment"),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-500"},"D'autres produits similaires apparatront ici"))))):null))}function iie(){const{slug:t}=Di(),r=Zr(),{user:a}=g.useContext(fr),{showToast:n}=Qo(),[s,o]=g.useState(!0),[i,d]=g.useState(!1),[u,m]=g.useState(null),[p,f]=g.useState({title:"",description:"",category:"",discount:0,condition:"used",images:[]}),[y,b]=g.useState(""),w=g.useMemo(()=>{if(!u)return{current:"",before:""};const N=Number(u.price).toLocaleString(),k=u.priceBeforeDiscount?Number(u.priceBeforeDiscount).toLocaleString():u.discount>0?Number((u.price/(1-u.discount/100)).toFixed(0)).toLocaleString():"";return{current:N,before:k}},[u]);g.useEffect(()=>{let N=!0;return(async()=>{try{o(!0);const{data:A}=await se.get(`/products/${t}`);if(!N)return;const P=A.user?._id||A.user;if(a?.role!=="admin"&&P&&String(P)!==a?.id){b("Vous n'tes pas autoris  modifier cette annonce.");return}m(A);const S=bN(A.category);f({title:A.title||"",description:A.description||"",category:S?.value||A.category||"",discount:A.discount??0,condition:A.condition||"used",images:A.images||[]}),b("")}catch(A){if(!N)return;const P=A.response?.status===403?"Accs refus. Cette annonce ne vous appartient pas.":A.response?.status===404?"Annonce introuvable.":A.response?.data?.message||A.message||"Erreur lors du chargement.";b(P)}finally{N&&o(!1)}})(),()=>{N=!1}},[id]);const E=(N,k)=>{f(A=>({...A,[N]:k}))},x=async N=>{N.preventDefault(),d(!0);try{const k={title:p.title,description:p.description,category:p.category,discount:p.discount,condition:p.condition};await se.put(`/products/${t}`,k),n("Annonce mise  jour avec succs !",{variant:"success"}),r("/my")}catch(k){const A=k.response?.data?.message||k.message||"Erreur lors de la mise  jour.";n(A,{variant:"error"})}finally{d(!1)}};return s?e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse"},e.createElement(Ou,{className:"w-8 h-8 text-white"})),e.createElement("p",{className:"text-gray-500"},"Chargement de l'annonce"))):y?e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"max-w-md mx-auto text-center"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(xr,{className:"w-8 h-8 text-white"})),e.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},"Erreur"),e.createElement("p",{className:"text-gray-600 mb-6"},y),e.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour"))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-2xl mx-auto px-4 py-6"},e.createElement("div",{className:"flex items-center justify-between mb-8"},e.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors"},e.createElement(Pr,{className:"w-5 h-5"}),e.createElement("span",{className:"font-medium"},"Retour"))),e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(Ou,{className:"w-8 h-8 text-white"})),e.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Modifier l'annonce"),e.createElement("p",{className:"text-gray-500"},"Mettez  jour les informations de votre produit")),e.createElement("form",{onSubmit:x,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Titre de l'annonce *")),e.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:p.title,onChange:N=>E("title",N.target.value),required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Description dtaille *")),e.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:p.description,onChange:N=>E("description",N.target.value),required:!0})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wa,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Catgorie *")),e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:p.category,onChange:N=>E("category",N.target.value),required:!0},e.createElement("option",{value:""},"Slectionnez une catgorie"),Es.map((N,k)=>e.createElement("optgroup",{key:k,label:N.label},N.options.map(A=>e.createElement("option",{key:A.value,value:A.value},A.label)))))),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),e.createElement("div",{className:"flex space-x-4"},e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"new",checked:p.condition==="new",onChange:N=>E("condition",N.target.value),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${p.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},p.condition==="new"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),e.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"radio",name:"condition",value:"used",checked:p.condition==="used",onChange:N=>E("condition",N.target.value),className:"sr-only"}),e.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${p.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},p.condition==="used"&&e.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),e.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-green-500 to-emerald-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Prix et Promotion")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},e.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(xa,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",{className:"text-sm font-medium text-indigo-900"},"Prix actuel")),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-2xl font-bold text-indigo-600"},w.current," FCFA"),w.before&&e.createElement("p",{className:"text-sm text-gray-500 line-through"},w.before," FCFA")),e.createElement("p",{className:"text-xs text-indigo-700"},"Le prix de vente ne peut pas tre modifi aprs cration"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Wa,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Remise promotionnelle (%)")),e.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",min:"0",max:"99",step:"1",value:p.discount,onChange:N=>E("discount",Number(N.target.value))}),e.createElement("p",{className:"text-xs text-gray-500"},"Appliquez une remise pour mettre en avant votre annonce"),p.discount>0&&e.createElement("div",{className:"text-xs text-green-600 font-medium"},"Nouveau prix: ",Math.round(u.price*(1-p.discount/100)).toLocaleString()," FCFA")))),p.images?.length>0&&e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center space-x-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Images du produit")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(kl,{className:"w-4 h-4 text-blue-500"}),e.createElement("span",null,"Images actuelles (",p.images.length,")")),e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},p.images.map((N,k)=>e.createElement("div",{key:k,className:"relative group"},e.createElement("img",{src:N,alt:`${p.title} ${k+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),e.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center"},e.createElement("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity"},"Vue ",k+1))))),e.createElement("p",{className:"text-xs text-gray-500"},"Les images ne peuvent pas tre modifies aprs cration"))),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-100"},e.createElement("button",{type:"button",onClick:()=>r("/my"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors"},"Annuler"),e.createElement("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2"},i?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Enregistrement...")):e.createElement(e.Fragment,null,e.createElement(xd,{className:"w-5 h-5"}),e.createElement("span",null,"Enregistrer les modifications")))))))}const FE=({className:t})=>e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t},e.createElement("path",{d:"M4 7h16"}),e.createElement("path",{d:"M10 11v6"}),e.createElement("path",{d:"M14 11v6"}),e.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"}),e.createElement("path",{d:"M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})),lie=({className:t})=>e.createElement("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),cT=({className:t})=>e.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),cl=t=>Number(t||0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});function cie(){const{cart:t,loading:r,error:a,updateItem:n,removeItem:s,clearCart:o}=g.useContext(Fl),[i,d]=g.useState({}),[u,m]=g.useState(!1),[p,f]=g.useState({}),y=ts(),b=t.items||[],w=t.totals||{quantity:0,subtotal:0},E=async(S,_)=>{const T=Math.max(0,Number.isNaN(Number(_))?0:Number(_));d(O=>({...O,[S]:!0}));try{await n(S,T)}catch(O){console.error(O)}finally{d(O=>({...O,[S]:!1}))}},x=async S=>{d(_=>({..._,[S]:!0}));try{await s(S)}catch(_){console.error(_)}finally{d(_=>({..._,[S]:!1}))}},N=async()=>{d({all:!0});try{await o(),m(!1)}catch(S){console.error(S)}finally{d({})}},k=r||i.all,A=b.reduce((S,_)=>{const T=_.product.discount||0,O=_.product.priceBeforeDiscount||_.product.price,R=T>0?(O-_.product.price)*_.quantity:0;return S+R},0);g.useEffect(()=>{const S={};b.forEach(({product:_})=>{S[_._id]=_.whatsappClicks??0}),f(S)},[b]);const P=async(S,_)=>{if(!_)return;const T=S._id;try{await se.post(`/products/public/${T}/whatsapp-click`),f(O=>({...O,[T]:(O?.[T]??S.whatsappClicks??0)+1}))}catch(O){console.error("Failed to record WhatsApp click:",O)}finally{typeof window<"u"&&window.open(_,"_blank","noopener,noreferrer")}};return e.createElement("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},e.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},e.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Mon Panier"),e.createElement("p",{className:"text-gray-600 font-medium"},b.length>0?`${b.length} article${b.length>1?"s":""} dans votre panier`:"Votre panier est vide")),b.length>0&&e.createElement("div",{className:"flex items-center gap-3"},e.createElement("button",{onClick:()=>m(!0),disabled:k,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-semibold text-red-600 bg-white border border-red-300 rounded-3xl hover:bg-red-50 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},e.createElement(FE,{className:"w-4 h-4"}),"Vider le panier")))),u&&e.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50"},e.createElement("div",{className:"bg-white rounded-3xl p-6 sm:p-8 max-w-md w-full space-y-6 shadow-2xl border-2 border-gray-100"},e.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-3xl flex items-center justify-center mx-auto"},e.createElement(FE,{className:"w-8 h-8 text-red-600"})),e.createElement("div",{className:"text-center space-y-2"},e.createElement("h3",{className:"text-xl font-black text-gray-900"},"Vider le panier"),e.createElement("p",{className:"text-gray-600 text-sm font-medium"},"tes-vous sr de vouloir supprimer tous les articles de votre panier ? Cette action est irrversible.")),e.createElement("div",{className:"flex gap-3 pt-2"},e.createElement("button",{onClick:()=>m(!1),className:"flex-1 px-5 py-3 text-sm font-semibold text-gray-700 bg-gray-100 rounded-3xl hover:bg-gray-200 transition-all duration-200 active:scale-95"},"Annuler"),e.createElement("button",{onClick:N,disabled:i.all,className:"flex-1 px-5 py-3 text-sm font-semibold text-white bg-red-600 rounded-3xl hover:bg-red-700 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},i.all?"Suppression...":"Vider le panier")))),a&&e.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-3xl p-4 sm:p-6 shadow-sm"},e.createElement("p",{className:"text-red-700 text-sm font-semibold"},a)),r&&b.length===0?e.createElement("div",{className:"flex items-center justify-center py-16"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600"},e.createElement("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.createElement("span",{className:"font-medium"},"Chargement du panier..."))):b.length===0?e.createElement("div",{className:"text-center py-16 sm:py-20"},e.createElement("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg"},e.createElement(cT,{className:"w-16 h-16 text-gray-400"})),e.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-3"},"Panier vide"),e.createElement("p",{className:"text-gray-600 mb-8 max-w-sm mx-auto font-medium"},"Votre panier est vide. Dcouvrez nos produits et ajoutez vos articles prfrs."),e.createElement(pe,{to:"/products",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3.5 rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 font-semibold shadow-sm"},e.createElement(cT,{className:"w-5 h-5"}),"Dcouvrir les produits")):e.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_420px] gap-6 sm:gap-8"},e.createElement("div",{className:"space-y-4 sm:space-y-5"},b.map(({product:S,quantity:_,lineTotal:T})=>{const O=S.user?.phone||S?.contactPhone,R=xN(S,O),D=S.discount||0,j=S.priceBeforeDiscount||S.price,$=p[S._id]??S.whatsappClicks??0;return e.createElement("div",{key:S._id,className:"group bg-white rounded-xl sm:rounded-3xl border-2 border-gray-200 p-2 sm:p-5 lg:p-6 hover:shadow-xl transition-all duration-300 hover:border-blue-200"},e.createElement("div",{className:"flex flex-col md:flex-row gap-2 sm:gap-5 lg:gap-6"},e.createElement("div",{className:"w-20 sm:w-full md:w-36 lg:w-44 flex-shrink-0"},e.createElement(pe,{to:ar(S),...y,className:"block relative overflow-hidden rounded-lg sm:rounded-2xl aspect-square bg-gradient-to-br from-gray-100 to-gray-200 group-hover:shadow-lg transition-all duration-300"},e.createElement("img",{src:S.images?.[0]||"https://via.placeholder.com/300",alt:S.title,className:"absolute inset-0 h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),D>0&&e.createElement("div",{className:"absolute top-1 left-1 sm:top-3 sm:left-3 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-[9px] sm:text-xs font-black px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-full shadow-lg ring-1 sm:ring-2 ring-white"},"-",D,"%"))),e.createElement("div",{className:"flex-1 space-y-1.5 sm:space-y-4 min-w-0"},e.createElement("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-2 sm:gap-4"},e.createElement("div",{className:"space-y-1.5 sm:space-y-3 flex-1 min-w-0"},e.createElement(pe,{to:ar(S),...y,className:"text-sm sm:text-xl lg:text-2xl font-black text-gray-900 hover:text-blue-600 transition-colors line-clamp-2"},S.title),e.createElement("p",{className:"text-[10px] sm:text-sm text-gray-600 font-medium"},"Catgorie : ",e.createElement("span",{className:"text-gray-900"},S.category)),e.createElement("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-wrap"},e.createElement("span",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-blue-600"},cl(S.price)," FCFA"),D>0&&e.createElement(e.Fragment,null,e.createElement("span",{className:"text-xs sm:text-lg text-gray-400 line-through font-bold"},cl(j)," FCFA"),e.createElement("span",{className:"text-[9px] sm:text-xs bg-gradient-to-r from-green-500 to-emerald-600 text-white px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-full font-black shadow-sm"},"co: ",cl((j-S.price)*_)," FCFA")))),e.createElement("div",{className:"flex flex-col items-end gap-1.5 sm:gap-4"},e.createElement("div",{className:"flex items-center gap-1 sm:gap-2 bg-gray-50 rounded-xl sm:rounded-3xl p-0.5 sm:p-1 border border-gray-200"},e.createElement("button",{type:"button",className:"w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-gray-700 hover:bg-white disabled:opacity-40 transition-all duration-200 active:scale-90 shadow-sm",onClick:()=>E(S._id,_-1),disabled:k||i[S._id]||_<=1},e.createElement("span",{className:"text-base sm:text-xl font-semibold"},"")),e.createElement("div",{className:"w-10 sm:w-14 text-center"},e.createElement("input",{type:"number",min:"1",className:"w-full bg-transparent border-0 text-center h-7 sm:h-10 font-black text-gray-900 text-xs sm:text-base focus:outline-none",value:_,onChange:K=>E(S._id,K.target.value),disabled:k||i[S._id]})),e.createElement("button",{type:"button",className:"w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-gray-700 hover:bg-white disabled:opacity-40 transition-all duration-200 active:scale-90 shadow-sm",onClick:()=>E(S._id,_+1),disabled:k||i[S._id]},e.createElement("span",{className:"text-base sm:text-xl font-semibold"},"+"))),e.createElement("div",{className:"text-right bg-blue-50 px-2 py-1 sm:px-4 sm:py-2 rounded-lg sm:rounded-2xl border border-blue-100"},e.createElement("span",{className:"text-[9px] sm:text-xs text-gray-600 font-medium block mb-0.5 sm:mb-1"},"Sous-total"),e.createElement("div",{className:"text-sm sm:text-xl lg:text-2xl font-black text-blue-600"},cl(T)," FCFA")))),e.createElement("div",{className:"flex items-center gap-2 sm:gap-3 pt-2 sm:pt-4 border-t-2 border-gray-100 w-full"},R&&e.createElement("button",{type:"button",onClick:()=>P(S,R),className:"flex-1 min-w-0 inline-flex items-center gap-1.5 sm:gap-2 bg-green-50 border border-green-200 text-green-700 px-2.5 py-2 sm:px-5 sm:py-3 rounded-xl sm:rounded-3xl hover:bg-green-100 transition-all duration-200 active:scale-95 font-semibold text-xs sm:text-sm shadow-sm overflow-hidden"},e.createElement(lie,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.createElement("div",{className:"flex flex-col items-start leading-tight text-left min-w-0 flex-1 overflow-hidden"},e.createElement("span",{className:"text-xs sm:text-sm font-bold truncate w-full"},"Commander"),O&&e.createElement("span",{className:"text-[10px] sm:text-xs text-green-600 font-medium truncate w-full"},O),e.createElement("span",{className:"text-[10px] text-green-500 whitespace-nowrap"},$," clic",$>1?"s":""))),e.createElement("button",{type:"button",onClick:()=>x(S._id),disabled:k||i[S._id],className:"flex-shrink-0 inline-flex items-center justify-center gap-1.5 sm:gap-2 text-red-600 bg-white border border-red-300 px-3 py-2 sm:px-5 sm:py-3 rounded-xl sm:rounded-3xl hover:bg-red-50 transition-all duration-200 active:scale-95 disabled:opacity-60 font-semibold text-xs sm:text-sm shadow-sm"},e.createElement(FE,{className:"w-4 h-4 flex-shrink-0"}),e.createElement("span",{className:"hidden sm:inline"},"Supprimer"),e.createElement("span",{className:"sm:hidden"},"Suppr."))))))})),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 p-6 sm:p-8 sticky top-6 shadow-xl"},e.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-6"},"Rsum de la commande"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-gray-50 rounded-2xl"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Articles (",w.quantity,")"),e.createElement("span",{className:"font-black text-gray-900 text-lg"},cl(w.subtotal)," FCFA")),A>0&&e.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-green-50 rounded-2xl border border-green-200"},e.createElement("span",{className:"text-green-700 font-semibold"},"conomies"),e.createElement("span",{className:"font-black text-green-600 text-lg"},"-",cl(A)," FCFA")),e.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-blue-50 rounded-2xl border border-blue-200"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Livraison estime"),e.createElement("span",{className:"font-black text-blue-600"},"Gratuite")),e.createElement("div",{className:"border-t-2 border-gray-200 pt-5"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-xl font-black text-gray-900"},"Total"),e.createElement("span",{className:"text-3xl font-black text-blue-600"},cl(w.subtotal)," FCFA"))),e.createElement("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-4"},e.createElement("p",{className:"text-xs text-blue-800 text-center font-medium leading-relaxed"}," Les paiements sont scuriss et grs aprs validation des annonces. Contactez directement les vendeurs pour finaliser vos achats.")),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement(pe,{to:"/orders/checkout",className:"block w-full bg-blue-600 text-white text-center py-4 rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 font-semibold shadow-sm text-base"},"Continuer mes achats")))),e.createElement("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl p-6 text-center border-2 border-gray-200"},e.createElement("h3",{className:"font-black text-gray-900 mb-4"},"Paiement scuris"),e.createElement("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 text-gray-600"},e.createElement("div",{className:"text-xs font-semibold"}," Paiement scuris"),e.createElement("div",{className:"text-xs font-semibold"}," Livraison garantie"),e.createElement("div",{className:"text-xs font-semibold"}," Support 24/7")))))))}const die={name:"",email:"",phone:"",password:"",confirmPassword:"",accountType:"person",shopName:"",shopAddress:"",shopDescription:"",address:"",country:"Rpublique du Congo",city:"",gender:""},uie=(t={})=>({pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t},cancelled:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...t}}),mie=()=>({pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0},cancelled:{count:0,totalAmount:0}}),BE=()=>({listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0},performance:{views:0,clicks:0,conversion:0},orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:uie()},sales:{totalCount:0,totalAmount:0,byStatus:mie()}}}),dT={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine"},fie={pending:"border-gray-200 bg-gray-50 text-gray-700",confirmed:"border-yellow-200 bg-yellow-50 text-yellow-800",delivering:"border-blue-200 bg-blue-50 text-blue-800",delivered:"border-green-200 bg-green-50 text-green-800"},uT=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation.",icon:Ut},{id:"confirmed",label:"Commande confirme",description:"Votre commande a t valide et sera prpare pour la livraison.",icon:Ot},{id:"delivering",label:"En cours de livraison",description:"Le livreur est en route avec votre colis.",icon:Tr},{id:"delivered",label:"Commande termine",description:"La commande est livre et archive par nos quipes.",icon:Qt}],pie=({status:t})=>{const r=uT.findIndex(n=>n.id===t),a=r>=0?r:0;return e.createElement("div",{className:"mt-4 border border-gray-100 rounded-2xl p-3 bg-gray-50"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-3"},"Suivi de lavancement"),e.createElement("div",{className:"space-y-4"},uT.map((n,s)=>{const o=n.icon,i=a>=s,d=a===s;return e.createElement("div",{key:n.id,className:"flex items-start gap-3"},e.createElement("div",{className:`mt-0.5 w-9 h-9 rounded-full border-2 flex items-center justify-center ${i?"border-indigo-600 text-indigo-600 bg-white":"border-gray-200 text-gray-400 bg-white"}`},e.createElement(o,{size:16})),e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-sm font-semibold ${i?"text-gray-900":"text-gray-500"}`},n.label,d&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700"},n.id==="pending"?"En attente":n.id==="delivered"?"Termine":"En cours"),!d&&i&&e.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-green-100 text-green-700"},"Termine")),e.createElement("p",{className:"text-xs text-gray-500"},n.description)))})))},gie=new Intl.NumberFormat("fr-FR"),_c=t=>{const r=Number(t);return!Number.isFinite(r)||r<0?"0":gie.format(r)},mT=t=>`${_c(t)} FCFA`,lp=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",W1=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}],Ap=()=>W1.map(t=>({day:t.key,label:t.label,open:"",close:"",closed:!0})),hie=t=>{if(!Array.isArray(t)||!t.length)return Ap();const r=new Map;return t.forEach(a=>{if(!a||typeof a!="object")return;const n=typeof a.day=="string"?a.day:"",s=W1.find(i=>i.key===n);if(!s)return;const o=typeof a.closed=="boolean"?a.closed:a.closed==="true"||a.closed==="1"||a.closed===1;r.set(n,{day:n,label:s.label,open:typeof a.open=="string"?a.open:"",close:typeof a.close=="string"?a.close:"",closed:o})}),W1.map(a=>{const n=r.get(a.key);return n?{...n,label:a.label}:{day:a.key,label:a.label,open:"",close:"",closed:!0}})};function yie(){const{user:t,updateUser:r}=g.useContext(fr),{showToast:a}=Qo(),n=Zr(),[s,o]=g.useState(die),[i,d]=g.useState(!1),[u,m]=g.useState(""),[p,f]=g.useState(""),[y,b]=g.useState(null),[w,E]=g.useState(""),[x,N]=g.useState(null),[k,A]=g.useState(""),[P,S]=g.useState(()=>Ap()),[_,T]=g.useState(()=>BE()),[O,R]=g.useState(!1),[D,j]=g.useState(""),[$,K]=g.useState(!1),[W,z]=g.useState(""),[Q,ee]=g.useState(!1),[H,q]=g.useState(!1),[B,G]=g.useState(""),[Y,V]=g.useState(""),[J,ue]=g.useState("profile"),[he,Oe]=g.useState([]),[te,ie]=g.useState(!1),[de,Ce]=g.useState(""),[ne,re]=g.useState(!1),[Ie,fe]=g.useState(""),[Le,at]=g.useState(""),[nt,it]=g.useState([]),[xe,He]=g.useState(!1),[Je,xt]=g.useState(""),[ht,mt]=g.useState(""),[pt,bt]=g.useState([]),[Pt,Ge]=g.useState(!1),[ft,We]=g.useState(""),[Ye,be]=g.useState(""),[ut,et]=g.useState(""),[Z,Ee]=g.useState(!1),[le,Ne]=g.useState(""),[tt,lt]=g.useState(""),[gt,F]=g.useState({total:0,remaining:5}),[we,ye]=g.useState([]),[ke,L]=g.useState(!1),[me,Se]=g.useState(""),[Ae,Fe]=g.useState(null),ct=t?.accountType==="shop"?la(t):null,Qe=[{label:"Annonces",value:_.listings?.total||0},{label:"Favoris reus",value:_.engagement?.favoritesReceived||0},{label:"Vues",value:_.performance?.views||0},{label:"WhatsApp",value:_.performance?.clicks||0}],It={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},Mt={pending:"bg-orange-100 text-orange-700",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-700"},wt=g.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),Br=g.useCallback(oe=>{if(!oe)return"";const je=oe.replace(/\\/g,"/");return/^https?:\/\//i.test(je)?je:`${wt}/${je.replace(/^\/+/,"")}`},[wt]);g.useEffect(()=>()=>{w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),k&&k.startsWith("blob:")&&URL.revokeObjectURL(k)},[w,k]),g.useEffect(()=>{if(!t){S(Ap());return}o(oe=>({...oe,name:t.name||"",email:t.email||"",phone:t.phone||"",accountType:t.accountType||"person",shopName:t.shopName||"",shopAddress:t.shopAddress||"",shopDescription:t.shopDescription||"",address:t.address||"",country:t.country||"Rpublique du Congo",city:t.city||"",gender:t.gender||""})),E(t.shopLogo||""),A(t.shopBanner||""),S(hie(t.shopHours))},[t]),g.useEffect(()=>{if(!t){T(BE()),j(""),R(!1),Oe([]),re(!1),Ce("");return}let oe=!0;return(async()=>{R(!0),j("");try{const{data:st}=await se.get("/users/profile/stats");if(!oe)return;const Rt=BE(),pr=st?.orders?.purchases||{},rs=st?.orders?.sales||{};T({listings:{...Rt.listings,...st?.listings||{}},engagement:{...Rt.engagement,...st?.engagement||{}},performance:{...Rt.performance,...st?.performance||{}},orders:{purchases:{...Rt.orders.purchases,...pr,byStatus:{...Rt.orders.purchases.byStatus,...pr.byStatus||{}}},sales:{...Rt.orders.sales,...rs,byStatus:{...Rt.orders.sales.byStatus,...rs.byStatus||{}}}}})}catch(st){if(!oe)return;j(st.response?.data?.message||st.message||"Impossible de charger les statistiques.")}finally{oe&&R(!1)}})(),()=>{oe=!1}},[t]);const Or=g.useCallback(async()=>{if(t){ie(!0),Ce("");try{const{data:oe}=await se.get("/orders?limit=50"),je=Array.isArray(oe)?oe:oe?.items||[];Oe(je),re(!0)}catch(oe){Ce(oe.response?.data?.message||oe.message||"Impossible de charger vos commandes.")}finally{ie(!1)}}},[t]);g.useEffect(()=>{J==="orders"&&t&&!ne&&!te&&Or()},[J,t,ne,te,Or]);const na=g.useCallback(async()=>{if(!t){bt([]),We("");return}Ge(!0),We("");try{const{data:oe}=await se.get("/users/complaints"),je=Array.isArray(oe)?oe.map(st=>({...st,attachments:(Array.isArray(st.attachments)?st.attachments:[]).map(Rt=>({...Rt,url:Br(Rt.path||Rt.url||"")}))})):[];bt(je)}catch(oe){We(oe.response?.data?.message||oe.message||"Impossible de charger vos rclamations.")}finally{Ge(!1)}},[Br,t]);g.useEffect(()=>{na()},[na]);const Hr=g.useCallback(async()=>{if(!t){F({total:0,remaining:5}),ye([]),Se("");return}L(!0),Se("");try{const{data:oe}=await se.get("/users/feedback"),je=Array.isArray(oe?.items)?oe.items:[];ye(je),F({total:Number(oe?.total||je.length||0),remaining:Number.isFinite(Number(oe?.remaining))?Number(oe.remaining):Math.max(0,5-Number(oe?.total||je.length||0))})}catch(oe){F({total:0,remaining:5}),ye([]),Se(oe.response?.data?.message||oe.message||"Impossible de charger vos avis.")}finally{L(!1)}},[t]);g.useEffect(()=>{Hr()},[Hr]);const tr=oe=>{const{name:je,value:st}=oe.target;if(je==="accountType"){o(Rt=>({...Rt,accountType:st,shopName:st==="shop"?Rt.shopName:"",shopAddress:st==="shop"?Rt.shopAddress:"",shopDescription:st==="shop"?Rt.shopDescription:""})),st!=="shop"&&(b(null),E(""),N(null),A(""));return}o(Rt=>({...Rt,[je]:st}))},lr=oe=>{const je=oe.target.files&&oe.target.files[0]?oe.target.files[0]:null;b(je),je&&(w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),E(URL.createObjectURL(je)))},sr=()=>{b(null),E("")},Lr=oe=>{const je=oe.target.files&&oe.target.files[0]?oe.target.files[0]:null;N(je),je&&(k&&k.startsWith("blob:")&&URL.revokeObjectURL(k),A(URL.createObjectURL(je)))},Ir=()=>{N(null),A("")},ea=()=>{S(Ap())},Oa=(oe,je)=>{S(st=>st.map(Rt=>Rt.day===oe?{...Rt,...je}:Rt))},Er=(oe,je)=>st=>{Oa(oe,{[je]:st.target.value})},Dr=(oe,je)=>{Oa(oe,{closed:je})},Cr=oe=>{const je=Array.from(oe.target.files||[]);if(!je.length)return;const st=Math.max(0,2-nt.length),Rt=je.slice(0,st);if(!Rt.length){xt("Vous pouvez ajouter au maximum 2 fichiers."),oe.target.value="";return}je.length>Rt.length?xt("Maximum 2 fichiers autoriss, seuls les premiers ont t ajouts."):xt(""),it(pr=>[...pr,...Rt]),oe.target.value=""},Vt=oe=>{it(je=>je.filter((st,Rt)=>Rt!==oe)),xt("")},Fa=async()=>{q(!0),G(""),V("");try{await se.post("/users/password/send-code"),ee(!0),V("Code envoy par email."),a("Code envoy par email.",{variant:"success"})}catch(oe){const je=oe.response?.data?.message||oe.message||"Impossible denvoyer le code.";G(je),a(je,{variant:"error"})}finally{q(!1)}},Ya=async()=>{if(!s.password)return!0;if(!W.trim()){const oe="Veuillez saisir le code reu par email avant de modifier le mot de passe.";return G(oe),a(oe,{variant:"error"}),!1}try{return await se.post("/users/password/change",{verificationCode:W.trim(),newPassword:s.password}),z(""),ee(!1),G(""),V("Mot de passe mis  jour."),a("Mot de passe mis  jour.",{variant:"success"}),!0}catch(oe){const je=oe.response?.data?.message||oe.message||"Impossible de modifier le mot de passe.";return G(je),a(je,{variant:"error"}),!1}},Ba=async oe=>{if(oe.preventDefault(),s.password&&s.password!==s.confirmPassword){const je="Les mots de passe ne correspondent pas.";f(je),a(je,{variant:"error"});return}if(!s.city||!s.gender){const je="Veuillez slectionner votre ville et votre genre.";f(je),a(je,{variant:"error"});return}if(!s.address.trim()){const je="Veuillez renseigner votre adresse complte.";f(je),a(je,{variant:"error"});return}d(!0),f(""),m("");try{if(s.password&&!await Ya())return;if(s.accountType==="shop"&&(!s.shopName||!s.shopAddress||!s.shopDescription.trim())){const pr="Veuillez renseigner le nom, ladresse et la description de votre boutique.";f(pr),a(pr,{variant:"error"});return}const je=new FormData,st=P.map(pr=>({day:pr.day,closed:!!pr.closed,open:pr.closed?"":pr.open||"",close:pr.closed?"":pr.close||""}));je.append("name",s.name),je.append("email",s.email),je.append("accountType",s.accountType),je.append("city",s.city),je.append("gender",s.gender),je.append("address",s.address.trim()),s.accountType==="shop"&&(je.append("shopName",s.shopName),je.append("shopAddress",s.shopAddress),je.append("shopDescription",s.shopDescription.trim()),y&&je.append("shopLogo",y),t?.shopVerified&&x&&je.append("shopBanner",x),je.append("shopHours",JSON.stringify(st)));const{data:Rt}=await se.put("/users/profile",je,{headers:{"Content-Type":"multipart/form-data"}});r(Rt),m("Profil mis  jour avec succs !"),a("Profil mis  jour avec succs !",{variant:"success"}),o(pr=>({...pr,password:"",confirmPassword:"",accountType:Rt.accountType||"person",shopName:Rt.shopName||"",shopAddress:Rt.shopAddress||"",shopDescription:Rt.shopDescription||"",address:Rt.address||"",country:Rt.country||"Rpublique du Congo",city:Rt.city||"",gender:Rt.gender||""})),E(Rt.shopLogo||""),b(null),A(Rt.shopBanner||""),N(null),z(""),ee(!1),G(""),V(""),setTimeout(()=>{n("/")},2e3)}catch(je){const st=je.response?.data?.message||je.message||"Une erreur est survenue.";f(st),a(st,{variant:"error"})}finally{d(!1)}},da=async oe=>{if(oe.preventDefault(),Ne(""),lt(""),!Ye.trim()){Ne("Veuillez renseigner un sujet.");return}if(!ut.trim()){Ne("Veuillez dtailler votre avis.");return}if(gt.remaining<=0){Ne("Vous avez atteint la limite de 5 avis.");return}Ee(!0);try{const{data:je}=await se.post("/users/feedback",{subject:Ye.trim(),body:ut.trim()});lt("Merci ! Votre avis a t envoy."),be(""),et(""),je?.feedback&&ye(st=>[je.feedback,...st].slice(0,5)),typeof je?.remaining=="number"?F(st=>({total:st.total+1,remaining:je.remaining})):await Hr()}catch(je){const st=je.response?.data?.message||je.message||"Impossible denvoyer votre avis.";Ne(st)}finally{Ee(!1)}},yn=oe=>{oe&&Fe(oe)},As=()=>{Fe(null)},Zt=async oe=>{if(oe.preventDefault(),xt(""),mt(""),!Le.trim()){xt("Veuillez dtailler votre rclamation.");return}He(!0);try{const je=new FormData;je.append("subject",Ie.trim()),je.append("message",Le.trim()),nt.forEach(st=>je.append("attachments",st)),await se.post("/users/complaints",je,{headers:{"Content-Type":"multipart/form-data"}}),mt("Votre rclamation a bien t envoye."),fe(""),at(""),it([]),a("Rclamation envoye",{variant:"success"}),await na()}catch(je){const st=je.response?.data?.message||je.message||"Une erreur est survenue.";xt(st),a(st,{variant:"error"})}finally{He(!1)}};return t?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"w-20 h-20 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(va,{className:"w-10 h-10 text-white"})),e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Mon Profil"),e.createElement("p",{className:"text-gray-500"},"Grez vos informations et consultez vos statistiques"),t?.address?e.createElement("p",{className:"mt-2 flex items-center justify-center text-sm text-gray-600 gap-2"},e.createElement(yr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,t.address)):null,ct&&e.createElement(pe,{to:ct,className:"inline-flex items-center gap-2 mt-4 px-4 py-2 rounded-xl border border-indigo-200 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 transition-colors"},e.createElement(Sr,{className:"w-4 h-4"}),"Voir ma boutique publique"),e.createElement("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:hidden"},Qe.map(({label:oe,value:je})=>e.createElement("div",{key:oe,className:"bg-white border border-gray-100 rounded-2xl p-3 shadow-sm flex flex-col"},e.createElement("span",{className:"text-[11px] uppercase tracking-wide text-gray-400"},oe),e.createElement("span",{className:"text-lg font-bold text-gray-900"},_c(je)))))),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-1 bg-white rounded-2xl p-2 sm:p-1 shadow-sm border border-gray-100 mb-6"},[{id:"profile",label:"Profil",icon:va},{id:"stats",label:"Statistiques",icon:Qn},{id:"performance",label:"Performance",icon:Xt},{id:"orders",label:"Mes commandes",icon:ca}].map(oe=>{const je=oe.icon;return e.createElement("button",{key:oe.id,onClick:()=>ue(oe.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl font-medium transition-all flex-1 w-full text-left sm:text-center ${J===oe.id?"bg-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`},e.createElement(je,{className:"w-4 h-4"}),e.createElement("span",null,oe.label))})),J==="profile"&&e.createElement(e.Fragment,null,e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Informations personnelles")),e.createElement("form",{onSubmit:Ba,className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(va,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Nom complet *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"name",value:s.name,onChange:tr,disabled:i,required:!0}),e.createElement(va,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Ri,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse email *")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"email",value:s.email,onChange:tr,disabled:i,required:!0}),e.createElement(Ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(yo,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Tlphone")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:s.phone,readOnly:!0,disabled:!0}),e.createElement("span",{className:"absolute top-2 right-3 text-[11px] text-gray-500"},"Non modifiable"),e.createElement(yo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(yr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Pays *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-500",value:"Rpublique du Congo",readOnly:!0,disabled:!0}),e.createElement(yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(yr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Ville *")),e.createElement("div",{className:"relative"},e.createElement("select",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"city",value:s.city,onChange:tr,disabled:i,required:!0},e.createElement("option",{value:""},"Choisissez votre ville"),["Brazzaville","Pointe-Noire","Ouesso","Oyo"].map(oe=>e.createElement("option",{key:oe,value:oe},oe))),e.createElement(yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(yr,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Adresse complte *")),e.createElement("div",{className:"relative"},e.createElement("textarea",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",rows:2,name:"address",value:s.address,onChange:tr,disabled:i,placeholder:"Quartier, rue, numro de parcelle...",required:!0}),e.createElement(yr,{className:"absolute left-4 top-4 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2 md:col-span-2"},e.createElement("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},e.createElement(Ia,{className:"w-4 h-4 text-indigo-500"}),"Genre *",e.createElement("span",{className:"text-[11px] text-gray-500"},"Non modifiable")),e.createElement("div",{className:"grid grid-cols-2 gap-3"},[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}].map(oe=>e.createElement("label",{key:oe.value,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${s.gender===oe.value?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-gray-50 text-gray-600"}`},e.createElement("input",{type:"radio",name:"gender",value:oe.value,checked:s.gender===oe.value,className:"sr-only",disabled:!0}),oe.label)))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(_r,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Type de compte")),t?.accountType==="shop"?e.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"accountType",value:s.accountType,onChange:tr,disabled:i},e.createElement("option",{value:"shop"},"Boutique"),e.createElement("option",{value:"person"},"Particulier")):e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:"Particulier",disabled:!0,readOnly:!0}),e.createElement("div",{className:"absolute right-4 top-1/2 -translate-y-1/2"},e.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"},"Basique"))))),s.accountType==="shop"&&e.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3 flex-wrap gap-y-2"},e.createElement("div",{className:"w-2 h-6 bg-amber-600 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Informations de la boutique"),e.createElement(dn,{verified:!!t?.shopVerified}),e.createElement("span",{className:"text-xs text-gray-500"},t?.shopVerified?"Boutique vrifie par lquipe HDMarket.":"Contactez un administrateur pour faire vrifier votre boutique.")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Sr,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Nom de la boutique *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopName",value:s.shopName,onChange:tr,disabled:i,required:!0}),e.createElement(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(yr,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Adresse *")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopAddress",value:s.shopAddress,onChange:tr,disabled:i,required:!0}),e.createElement(yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Bu,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null," propos de la boutique *")),e.createElement("textarea",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 text-sm",rows:4,name:"shopDescription",value:s.shopDescription,onChange:tr,placeholder:"Dcrivez vos engagements, types de produits, services...",disabled:i,required:!0}),e.createElement("p",{className:"text-xs text-gray-500"},"Ce texte saffiche sur votre page publique pour rassurer vos clients.")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900"},e.createElement(Ut,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Horaires d'ouverture")),e.createElement("button",{type:"button",onClick:ea,disabled:i,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500 disabled:opacity-50 transition-colors"},"Rinitialiser")),e.createElement("p",{className:"text-xs text-gray-500"},"Ces horaires sont indiqus aux acheteurs sur votre boutique publique."),e.createElement("div",{className:"space-y-2"},P.map(oe=>e.createElement("div",{key:oe.day,className:"flex flex-col gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},oe.label),e.createElement("p",{className:"text-xs text-gray-500"},oe.closed?"Ferm":oe.open&&oe.close?`${oe.open}  ${oe.close}`:"Horaires partiels")),e.createElement("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3"},e.createElement("input",{type:"time",value:oe.open,onChange:Er(oe.day,"open"),disabled:oe.closed||i,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),e.createElement("span",{className:"text-xs text-gray-400"},""),e.createElement("input",{type:"time",value:oe.close,onChange:Er(oe.day,"close"),disabled:oe.closed||i,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),e.createElement("label",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement("input",{type:"checkbox",checked:oe.closed,onChange:je=>Dr(oe.day,je.target.checked),disabled:i,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.createElement("span",null,"Ferm")))))),e.createElement("p",{className:"text-xs text-gray-500"},"Laissez un jour en ferme si vous ntes pas disponible ou si aucun horaire nest dfini.")),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(eM,{className:"w-4 h-4 text-amber-500"}),e.createElement("span",null,"Logo de la boutique")),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},w?e.createElement("div",{className:"text-center"},e.createElement("img",{src:w,alt:"Logo boutique",className:"w-24 h-24 rounded-2xl object-cover mx-auto mb-3 border-2 border-amber-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Logo actuel"),e.createElement("button",{type:"button",onClick:sr,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(vi,{className:"w-8 h-8 text-gray-400 group-hover:text-amber-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-amber-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - 200x200px recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:lr,className:"hidden"})))),t?.shopVerified?e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(kl,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",null,"Bannire de la boutique")),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},k?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:k,alt:"Bannire boutique",className:"h-32 w-full rounded-2xl object-cover mx-auto mb-3 border-2 border-indigo-200"}),e.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire actuelle"),e.createElement("button",{type:"button",onClick:Ir,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):e.createElement("label",{className:"text-center cursor-pointer"},e.createElement(vi,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),e.createElement("span",{className:"text-sm text-gray-500"},e.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("br",null),e.createElement("span",{className:"text-xs"},"PNG, JPG - 1200x400px recommand")),e.createElement("input",{type:"file",accept:"image/*",onChange:Lr,className:"hidden"})))):e.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/50 p-4 text-xs text-indigo-700"},"La bannire est disponible uniquement pour les boutiques certifies.")),e.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-2 h-6 bg-emerald-600 rounded-full"}),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Scurit")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jn,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Nouveau mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:$?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"password",value:s.password,onChange:tr,disabled:i,placeholder:"Laisser vide pour conserver"}),e.createElement(Jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("button",{type:"button",onClick:()=>K(!$),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},$?e.createElement(Om,{className:"w-4 h-4"}):e.createElement(zn,{className:"w-4 h-4"})))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Jn,{className:"w-4 h-4 text-green-500"}),e.createElement("span",null,"Confirmer le mot de passe")),e.createElement("div",{className:"relative"},e.createElement("input",{type:$?"text":"password",className:"w-full px-4 py-3 pl-11 pr-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"confirmPassword",value:s.confirmPassword,onChange:tr,disabled:i,placeholder:"Confirmez le mot de passe"}),e.createElement(Jn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-4 space-y-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-700"},"Code de vrification email"),e.createElement("p",{className:"text-xs text-gray-500"},"Un code est requis pour confirmer la modification du mot de passe.")),e.createElement("button",{type:"button",onClick:Fa,disabled:H||i,className:"px-4 py-2 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},H?"Envoi...":Q?"Renvoyer le code":"Envoyer le code")),e.createElement("div",{className:"relative"},e.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Code reu par email",value:W,onChange:oe=>z(oe.target.value),disabled:i}),e.createElement(_r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),B&&e.createElement("p",{className:"text-sm text-red-600"},B),Y&&e.createElement("p",{className:"text-sm text-emerald-600"},Y)),e.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:$,onChange:()=>K(!$),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.createElement("span",null,"Afficher les mots de passe"))),e.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-100"},e.createElement("div",{className:"flex-1"},p&&e.createElement("div",{className:"flex items-center space-x-2 text-red-600"},e.createElement($n,{className:"w-4 h-4"}),e.createElement("span",{className:"text-sm"},p)),u&&e.createElement("div",{className:"flex items-center space-x-2 text-green-600"},e.createElement(Qt,{className:"w-4 h-4"}),e.createElement("span",{className:"text-sm"},u))),e.createElement("button",{type:"submit",disabled:i,className:"px-8 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2 shadow-lg"},i?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Enregistrement...")):e.createElement(e.Fragment,null,e.createElement(xd,{className:"w-5 h-5"}),e.createElement("span",null,"Sauvegarder les modifications"))))),e.createElement("div",{className:"mt-6 space-y-3 border-t border-gray-100 pt-6"},e.createElement("div",{className:"flex items-center justify-between text-sm font-semibold text-gray-700"},e.createElement("span",null,"Suivi de mes rclamations"),Pt&&e.createElement("span",{className:"text-xs font-normal text-gray-500"},"Chargement")),Pt?e.createElement("p",{className:"text-xs text-gray-500"},"Chargement des rclamations en cours"):ft?e.createElement("p",{className:"text-xs text-red-600"},ft):pt.length?e.createElement("ul",{className:"space-y-3"},pt.map(oe=>e.createElement("li",{key:oe._id,className:"space-y-2 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-sm text-gray-600 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-gray-900"},oe.subject||"Sans objet"),e.createElement("p",{className:"text-[11px] text-gray-500"},lp(oe.createdAt))),e.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${Mt[oe.status]||"bg-gray-100 text-gray-600"}`},It[oe.status]||oe.status)),e.createElement("p",{className:"text-gray-600 whitespace-pre-line break-words"},oe.message),oe.attachments?.length?e.createElement("div",{className:"flex flex-wrap gap-2"},oe.attachments.filter(je=>je.url).map((je,st)=>e.createElement("a",{key:`${je.filename}-${st}`,href:je.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-1 text-xs font-medium text-gray-600 hover:border-rose-200"},e.createElement(Tu,{className:"w-3 h-3"}),je.originalName||je.filename))):null))):e.createElement("p",{className:"text-xs text-gray-500"},"Vous navez encore dpos aucune rclamation."))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-emerald-600 rounded-full"}),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Avis sur lamlioration"),e.createElement("p",{className:"text-sm text-gray-500"},"Partagez vos ides pour amliorer HDMarket. Limit  5 avis par utilisateur."))),e.createElement("div",{className:"space-y-3 mb-6"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Vos avis envoys"),e.createElement("span",{className:"text-xs font-semibold text-gray-500"},gt.total," / 5")),ke?e.createElement("div",{className:"space-y-2"},Array.from({length:2}).map((oe,je)=>e.createElement("div",{key:`improvement-skeleton-${je}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("div",{className:"h-4 w-1/2 rounded bg-gray-200"}),e.createElement("div",{className:"mt-2 h-3 w-3/4 rounded bg-gray-200"})))):me?e.createElement("p",{className:"text-sm text-red-600"},me):we.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucun avis envoy pour le moment."):e.createElement("div",{className:"space-y-2"},we.map(oe=>{const je=!!oe.readAt;return e.createElement("button",{type:"button",key:oe._id,onClick:()=>yn(oe),className:"w-full text-left rounded-2xl border border-gray-100 bg-white px-4 py-3 shadow-sm hover:border-emerald-200 transition-colors"},e.createElement("div",{className:"flex items-start justify-between gap-2"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},oe.subject),e.createElement("p",{className:"text-xs text-gray-500"},lp(oe.createdAt))),e.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${je?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},je?"Lu":"Non lu")),e.createElement("p",{className:"mt-2 text-xs text-gray-600 line-clamp-2"},oe.body))}))),e.createElement("form",{onSubmit:da,className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Sujet *")),e.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Ex : Nouvelle fonctionnalit",value:Ye,onChange:oe=>{be(oe.target.value),le&&Ne(""),tt&&lt("")},maxLength:150,disabled:Z,required:!0})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(br,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Votre avis *")),e.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:ut,onChange:oe=>{et(oe.target.value),le&&Ne(""),tt&&lt("")},placeholder:"Expliquez votre ide ou votre suggestion.",disabled:Z,maxLength:2e3,required:!0})),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},e.createElement("span",null,gt.remaining>0?`Il vous reste ${gt.remaining} avis sur 5.`:"Limite atteinte : 5 avis envoys."),e.createElement("span",null,gt.total," envoy",gt.total>1?"s":"")),(le||tt)&&e.createElement("div",{className:`flex items-center gap-2 text-sm ${le?"text-red-600":"text-green-600"}`},le?e.createElement(Sp,{className:"w-4 h-4"}):e.createElement(Qt,{className:"w-4 h-4"}),e.createElement("span",null,le||tt)),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{type:"submit",disabled:Z||gt.remaining<=0,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-60 disabled:cursor-not-allowed"},Z?e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.createElement("span",null,"Envoi...")):e.createElement(e.Fragment,null,e.createElement(br,{className:"w-4 h-4"}),e.createElement("span",null,"Envoyer lavis")))))),Ae&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:As}),e.createElement("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:oe=>oe.stopPropagation()},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Avis sur lamlioration"),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},Ae.subject)),e.createElement("button",{type:"button",onClick:As,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),e.createElement("div",{className:"mt-4 space-y-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,lp(Ae.createdAt)),e.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${Ae.readAt?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},Ae.readAt?"Lu":"Non lu")),e.createElement("p",{className:"text-sm text-gray-700 whitespace-pre-line"},Ae.body),Ae.readAt&&e.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",lp(Ae.readAt))))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},e.createElement("div",{className:"w-2 h-6 bg-rose-600 rounded-full"}),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Rclamations"),e.createElement("p",{className:"text-sm text-gray-500"},"Signalez un problme ou partagez une capture dcran : vous pouvez joindre deux fichiers."))),e.createElement("form",{onSubmit:Zt,className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(gn,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Objet (facultatif)")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all",placeholder:"Ex : Annonce non conforme",value:Ie,onChange:oe=>{fe(oe.target.value),Je&&xt("")},disabled:xe,maxLength:150}),e.createElement(gn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(br,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Description *")),e.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:Le,onChange:oe=>{at(oe.target.value),Je&&xt("")},placeholder:"Expliquez en dtail votre problme pour que nos quipes puissent investiguer.",disabled:xe,required:!0,maxLength:1500})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},e.createElement(Tu,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Fichiers (max 2)")),e.createElement("label",{className:"flex items-center justify-between rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-3 text-xs font-semibold text-gray-600 hover:border-rose-300 hover:bg-rose-50 cursor-pointer"},e.createElement("span",null,"Ajouter un fichier"),e.createElement("span",{className:"text-[11px] text-gray-400"},"PNG, JPG, PDF"),e.createElement("input",{type:"file",multiple:!0,className:"hidden",onChange:Cr,disabled:xe})),e.createElement("p",{className:"text-xs text-gray-500"},"Les pices jointes sont visibles uniquement par nos modrateurs.")),nt.length>0&&e.createElement("div",{className:"space-y-2"},nt.map((oe,je)=>e.createElement("div",{key:`${oe.name}-${oe.size}-${je}`,className:"flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-600"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Tu,{className:"w-4 h-4 text-gray-400"}),e.createElement("span",{className:"truncate"},oe.name)),e.createElement("button",{type:"button",onClick:()=>Vt(je),disabled:xe,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")))),(Je||ht)&&e.createElement("div",{className:`flex items-center gap-2 text-sm ${Je?"text-red-600":"text-green-600"}`},Je?e.createElement(Sp,{className:"w-4 h-4"}):e.createElement(Qt,{className:"w-4 h-4"}),e.createElement("span",null,Je||ht)),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{type:"submit",disabled:xe,className:"inline-flex items-center gap-2 rounded-xl bg-rose-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-rose-700 disabled:opacity-60 disabled:cursor-not-allowed"},xe?e.createElement("div",{className:"flex items-center gap-2"},e.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),e.createElement("span",null,"Rclamation...")):e.createElement(e.Fragment,null,e.createElement(Sp,{className:"w-4 h-4"}),e.createElement("span",null,"Envoyer la rclamation"))))))),J==="stats"&&e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-blue-600 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Vue d'ensemble")),O?e.createElement("div",{className:"flex justify-center py-8"},e.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-indigo-600 border-t-transparent"})):D?e.createElement("div",{className:"text-center py-8 text-red-600"},e.createElement($n,{className:"w-12 h-12 mx-auto mb-3"}),e.createElement("p",null,D)):e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[{label:"Annonces totales",value:_.listings.total,icon:Ot,color:"bg-blue-600"},{label:"Favoris reus",value:_.engagement.favoritesReceived,icon:ur,color:"bg-pink-600"},{label:"Commentaires",value:_.engagement.commentsReceived,icon:br,color:"bg-emerald-600"},{label:"Vues totales",value:_.performance.views,icon:Xt,color:"bg-purple-600"}].map((oe,je)=>{const st=oe.icon;return e.createElement("div",{key:je,className:`${oe.color} text-white rounded-2xl p-6 shadow-lg`},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement(st,{className:"w-8 h-8 text-white opacity-90"}),e.createElement("span",{className:"text-2xl font-bold"},_c(oe.value))),e.createElement("p",{className:"text-white text-opacity-90 text-sm font-medium"},oe.label))}))),!O&&!D&&e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(Ot,{className:"w-5 h-5 text-blue-500"}),e.createElement("span",null,"Statut des annonces")),e.createElement("div",{className:"space-y-4"},[{label:"Approuves",value:_.listings.approved,color:"bg-green-500",icon:Qt},{label:"En attente",value:_.listings.pending,color:"bg-yellow-500",icon:Ut},{label:"Rejetes",value:_.listings.rejected,color:"bg-red-500",icon:$n},{label:"Dsactives",value:_.listings.disabled,color:"bg-gray-500",icon:Ot}].map((oe,je)=>(oe.icon,e.createElement("div",{key:je,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:`w-3 h-3 rounded-full ${oe.color}`}),e.createElement("span",{className:"text-sm font-medium text-gray-700"},oe.label)),e.createElement("span",{className:"text-lg font-bold text-gray-900"},_c(oe.value))))))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(Ia,{className:"w-5 h-5 text-purple-500"}),e.createElement("span",null,"Engagement")),e.createElement("div",{className:"space-y-4"},[{label:"Favoris enregistrs",value:_.engagement.favoritesSaved,icon:ur},{label:"Taux de conversion",value:`${_.performance.conversion}%`,icon:Xt},{label:"Clicks WhatsApp",value:_.performance.clicks,icon:br}].map((oe,je)=>{const st=oe.icon;return e.createElement("div",{key:je,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement(st,{className:"w-4 h-4 text-gray-600"}),e.createElement("span",{className:"text-sm font-medium text-gray-700"},oe.label)),e.createElement("span",{className:"text-lg font-bold text-gray-900"},oe.value))}))),e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},e.createElement(ca,{className:"w-5 h-5 text-indigo-500"}),e.createElement("span",null,"Commandes")),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Achats"),[{label:"Total",value:_.orders?.purchases?.totalCount||0},{label:"En attente",value:_.orders?.purchases?.byStatus?.pending?.count||0},{label:"Confirmes",value:_.orders?.purchases?.byStatus?.confirmed?.count||0},{label:"En livraison",value:_.orders?.purchases?.byStatus?.delivering?.count||0},{label:"Livres",value:_.orders?.purchases?.byStatus?.delivered?.count||0}].map(oe=>e.createElement("div",{key:`purchases-${oe.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},oe.label),e.createElement("span",{className:"text-sm font-semibold text-gray-900"},_c(oe.value)))),[{label:"Montant total",value:_.orders?.purchases?.totalAmount||0},{label:"Acompte pay",value:_.orders?.purchases?.paidAmount||0},{label:"Reste  payer",value:_.orders?.purchases?.remainingAmount||0}].map(oe=>e.createElement("div",{key:`purchases-amount-${oe.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-indigo-50/60"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},oe.label),e.createElement("span",{className:"text-sm font-semibold text-indigo-700"},mT(oe.value))))),t?.accountType==="shop"&&e.createElement("div",{className:"space-y-2 pt-3 border-t border-gray-100"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Ventes"),[{label:"Total",value:_.orders?.sales?.totalCount||0},{label:"En attente",value:_.orders?.sales?.byStatus?.pending?.count||0},{label:"Confirmes",value:_.orders?.sales?.byStatus?.confirmed?.count||0},{label:"En livraison",value:_.orders?.sales?.byStatus?.delivering?.count||0},{label:"Livres",value:_.orders?.sales?.byStatus?.delivered?.count||0}].map(oe=>e.createElement("div",{key:`sales-${oe.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},oe.label),e.createElement("span",{className:"text-sm font-semibold text-gray-900"},_c(oe.value)))),e.createElement("div",{className:"flex items-center justify-between p-2 rounded-xl bg-emerald-50/60"},e.createElement("span",{className:"text-xs font-medium text-gray-700"},"Chiffre daffaires"),e.createElement("span",{className:"text-sm font-semibold text-emerald-700"},mT(_.orders?.sales?.totalAmount||0)))))))),J==="performance"&&e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},e.createElement("div",{className:"w-2 h-6 bg-purple-600 rounded-full"}),e.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Performance et Insights")),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},e.createElement(Xt,{className:"w-5 h-5 text-purple-500"}),e.createElement("span",null,"Vos performances")),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-purple-50 border border-purple-100"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-purple-900"},"Score d'engagement"),e.createElement("p",{className:"text-2xl font-bold text-purple-600"},Math.round((_.engagement.favoritesReceived+_.engagement.commentsReceived)/Math.max(_.listings.approved,1)))),e.createElement(Uo,{className:"w-8 h-8 text-purple-500"})),e.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-blue-50 border border-blue-100"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-blue-900"},"Taux d'approbation"),e.createElement("p",{className:"text-2xl font-bold text-blue-600"},_.listings.total>0?`${Math.round(_.listings.approved/_.listings.total*100)}%`:"0%")),e.createElement(Qt,{className:"w-8 h-8 text-blue-500"})))),e.createElement("div",{className:"space-y-6"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},e.createElement(rr,{className:"w-5 h-5 text-amber-500"}),e.createElement("span",null,"Recommandations")),e.createElement("div",{className:"space-y-3"},_.listings.pending>0&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-amber-50 border border-amber-200"},e.createElement(Ut,{className:"w-4 h-4 text-amber-600"}),e.createElement("p",{className:"text-sm text-amber-800"},"Vous avez ",_.listings.pending," annonce(s) en attente de validation")),_.engagement.favoritesReceived===0&&_.listings.approved>0&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-blue-50 border border-blue-200"},e.createElement(ur,{className:"w-4 h-4 text-blue-600"}),e.createElement("p",{className:"text-sm text-blue-800"},"Amliorez vos photos pour augmenter les favoris")),_.listings.approved>5&&e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-green-50 border border-green-200"},e.createElement(Xt,{className:"w-4 h-4 text-green-600"}),e.createElement("p",{className:"text-sm text-green-800"},"Excellent ! Pensez  promouvoir vos meilleures annonces")))))),J==="orders"&&e.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6"},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-indigo-600"},e.createElement(ca,{className:"w-4 h-4"}),"Historique des commandes"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Mes commandes"),e.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les commandes cres par ladministrateur.")),e.createElement("div",{className:"flex items-center gap-3 flex-wrap"},e.createElement(pe,{to:"/orders/draft",className:"inline-flex items-center gap-2 px-4 py-2 rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 text-amber-700 text-sm font-semibold hover:from-amber-100 hover:to-orange-100 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Ut,{className:"w-4 h-4"}),"Brouillons"),e.createElement("span",{className:"text-sm text-gray-500"},"Total : ",he.length),e.createElement("button",{type:"button",onClick:Or,disabled:te,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-60"},te?e.createElement(e.Fragment,null,e.createElement("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},e.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:"#c7d2fe",strokeWidth:"4",opacity:"0.3"}),e.createElement("path",{d:"M22 12a10 10 0 00-10-10",stroke:"#6366f1",strokeWidth:"4",strokeLinecap:"round"})),"Chargement"):e.createElement(e.Fragment,null,e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582M20 20v-5h-.581M5 9a7 7 0 0114 0M19 15a7 7 0 01-14 0"})),"Actualiser")))),de&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-600 mb-6"},de),!te&&!de&&he.length===0&&e.createElement("div",{className:"text-center py-10 border border-dashed border-gray-200 rounded-2xl"},e.createElement("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-3"},e.createElement(ca,{className:"w-8 h-8 text-gray-400"})),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Aucune commande disponible"),e.createElement("p",{className:"text-sm text-gray-500 max-w-md mx-auto"},"Un gestionnaire enregistre vos commandes depuis ladmin. Ds quune commande est cre, elle saffichera ici avec son statut.")),(te||he.length>0)&&e.createElement("div",{className:"space-y-4"},te&&he.length===0?Array.from({length:2}).map((oe,je)=>e.createElement("div",{key:je,className:"animate-pulse border border-gray-100 rounded-2xl p-5 bg-gray-50"})):he.map(oe=>{const je=oe.items&&oe.items.length?oe.items:oe.productSnapshot?[{snapshot:oe.productSnapshot,quantity:1}]:[];return e.createElement("div",{key:oe._id,className:"border border-gray-100 rounded-2xl p-5 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Commande #",oe._id.slice(-6)),e.createElement("div",{className:"mt-1 space-y-1 text-sm text-gray-700"},je.map((st,Rt)=>e.createElement("div",{key:`${oe._id}-${Rt}`,className:"space-y-0.5"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"font-medium text-gray-900"},st.snapshot?.title||"Produit"),e.createElement("span",{className:"text-xs text-gray-500"},"x",st.quantity,"  ",Number(st.snapshot?.price||0).toLocaleString()," FCFA")),st.snapshot?.confirmationNumber&&e.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",st.snapshot.confirmationNumber)))),e.createElement("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-gray-500"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(_r,{className:"w-3.5 h-3.5 text-indigo-500"}),"Gestionnaire : ",oe.createdBy?.name||oe.createdBy?.email||"Admin HDMarket"),e.createElement("span",{className:"hidden sm:block text-gray-300"},""),e.createElement("span",{className:"font-semibold text-gray-700"},"Statut : ",dT[oe.status]||"Enregistre"))),e.createElement("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border ${fie[oe.status]||"border-gray-200 bg-gray-50 text-gray-600"}`},oe.status==="pending"&&e.createElement(Ut,{size:14}),oe.status==="confirmed"&&e.createElement(Ot,{size:14}),oe.status==="delivering"&&e.createElement(Tr,{size:14}),oe.status==="delivered"&&e.createElement(Qt,{size:14}),dT[oe.status]||"Statut inconnu")),e.createElement("div",{className:"mt-4 grid gap-3 md:grid-cols-2 text-sm text-gray-600"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Adresse de livraison"),e.createElement("p",{className:"font-medium text-gray-900"},oe.deliveryAddress),e.createElement("p",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5"},e.createElement(yr,{size:13}),oe.deliveryCity)),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Suivi"),oe.trackingNote?e.createElement("p",null,oe.trackingNote):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune note ajoute pour le moment."))),e.createElement(pie,{status:oe.status}),e.createElement("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-gray-500"},e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(Ut,{size:12}),"Cre le ",new Date(oe.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),oe.shippedAt&&e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(Tr,{size:12}),"Expdie le ",new Date(oe.shippedAt).toLocaleDateString("fr-FR")),oe.deliveredAt&&e.createElement("span",{className:"inline-flex items-center gap-1"},e.createElement(Qt,{size:12}),"Livre le ",new Date(oe.deliveredAt).toLocaleDateString("fr-FR"))))}))))):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(va,{className:"w-8 h-8 text-white"})),e.createElement("p",{className:"text-gray-500"},"Vous devez tre connect pour accder  votre profil.")))}const fT={product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,order_cancelled:!0,feedback_read:!0},bie=t=>{if(!t)return"";const r=new Date(t);if(Number.isNaN(r.getTime()))return"";const n=new Date-r,s=Math.floor(n/(1e3*60)),o=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return s<1?" l'instant":s<60?`Il y a ${s} min`:o<24?`Il y a ${o} h`:i===1?"Hier":i<7?`Il y a ${i} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:i>365?"numeric":void 0})},xie=({preferences:t,onUpdate:r})=>{const[a,n]=g.useState(!1),[s,o]=g.useState(!1),i=async d=>{o(!0);const u={...t,[d]:!t[d]};try{const{data:m}=await se.patch("/users/notification-preferences",u);r(m?.preferences??u)}catch(m){console.error("Failed to update preferences:",m)}finally{o(!1)}};return e.createElement("div",{className:"relative"},e.createElement("button",{onClick:()=>n(!a),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 text-sm font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md active:scale-95"},e.createElement(Ip,{className:"w-4 h-4"}),e.createElement("span",{className:"hidden sm:inline"},"Prfrences"),e.createElement(Ha,{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`})),a&&e.createElement(e.Fragment,null,e.createElement("div",{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>n(!1)}),e.createElement("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border-2 border-gray-200 dark:border-gray-700 z-50 overflow-hidden"},e.createElement("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-600 to-purple-600 px-6 py-5"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h3",{className:"font-bold text-white text-base flex items-center gap-2"},e.createElement(ma,{className:"w-4 h-4"}),"Prfrences"),e.createElement("p",{className:"text-indigo-100 text-xs mt-1"},"Personnalisez vos alertes")),e.createElement("button",{onClick:()=>n(!1),className:"text-white/80 hover:text-white transition-colors p-1.5 rounded-lg hover:bg-white/10 active:scale-95"},e.createElement(_t,{className:"w-5 h-5"})))),e.createElement("div",{className:"max-h-96 overflow-y-auto p-4 space-y-1.5"},[{key:"product_comment",label:"Nouveaux commentaires",icon:fa},{key:"reply",label:"Rponses  mes commentaires",icon:fa},{key:"favorite",label:"Ajouts aux favoris",icon:ur},{key:"rating",label:"Nouvelles notes",icon:rr},{key:"product_approval",label:"Approbations d'annonce",icon:Ws},{key:"product_rejection",label:"Rejets d'annonce",icon:$n},{key:"promotional",label:"Promotions appliques",icon:Wa},{key:"shop_review",label:"Avis sur ma boutique",icon:rr},{key:"shop_follow",label:"Nouveaux abonns",icon:Ia},{key:"payment_pending",label:"Paiements  valider",icon:Xs},{key:"order_created",label:"Commandes confirmes",icon:Ks},{key:"order_delivering",label:"Commandes en livraison",icon:Tr},{key:"order_received",label:"Nouvelles commandes",icon:Ot},{key:"order_reminder",label:"Relances commandes",icon:ww},{key:"order_delivered",label:"Commandes livres",icon:Ws},{key:"order_cancelled",label:"Commandes annules",icon:$n},{key:"feedback_read",label:"Avis lus",icon:hl}].map(({key:d,label:u,icon:m})=>e.createElement("div",{key:d,className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200 ${t[d]?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-900/50":"bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`},e.createElement(m,{className:"w-4 h-4"})),e.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200"},u)),e.createElement("button",{onClick:()=>i(d),disabled:s,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 ${t[d]?"bg-indigo-600 dark:bg-indigo-500":"bg-gray-300 dark:bg-gray-600"}`},e.createElement("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${t[d]?"translate-x-6":"translate-x-1"}`}))))))))};function vie(){const t=Zr(),{user:r}=g.useContext(fr),{counts:a,loading:n,error:s,refresh:o}=HO(!!r),i=a.alerts||[],[d,u]=g.useState(!1),[m,p]=g.useState(""),[f,y]=g.useState("all"),[b,w]=g.useState(()=>({...fT})),[E,x]=g.useState(!1);g.useEffect(()=>{if(a?.preferences){const j={...fT};Object.keys(j).forEach($=>{typeof a.preferences[$]=="boolean"&&(j[$]=a.preferences[$])}),w($=>Object.keys(j).some(W=>j[W]!==$[W])?j:$)}},[a?.preferences]);const N={product_comment:{label:"Commentaire",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:e.createElement(fa,{className:"w-4 h-4"})},reply:{label:"Rponse",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",icon:e.createElement(fa,{className:"w-4 h-4"})},favorite:{label:"Favori",badgeClass:"bg-rose-50 text-rose-700 border border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800",icon:e.createElement(ur,{className:"w-4 h-4"})},rating:{label:"Note",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",icon:e.createElement(rr,{className:"w-4 h-4"})},product_approval:{label:"Approbation",badgeClass:"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:e.createElement(Ws,{className:"w-4 h-4"})},product_rejection:{label:"Rejet",badgeClass:"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:e.createElement($n,{className:"w-4 h-4"})},promotional:{label:"Promotion",badgeClass:"bg-orange-50 text-orange-700 border border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",icon:e.createElement(Wa,{className:"w-4 h-4"})},shop_review:{label:"Avis boutique",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",icon:e.createElement(Sr,{className:"w-4 h-4"})},shop_follow:{label:"Abonns boutique",badgeClass:"bg-cyan-50 text-cyan-700 border border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",icon:e.createElement(Ia,{className:"w-4 h-4"})},payment_pending:{label:"Paiement en attente",badgeClass:"bg-yellow-50 text-yellow-700 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",icon:e.createElement(Xs,{className:"w-4 h-4"})},order_created:{label:"Commande en attente",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",icon:e.createElement(Ks,{className:"w-4 h-4"})},order_delivering:{label:"Commande en livraison",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",icon:e.createElement(Tr,{className:"w-4 h-4"})},order_received:{label:"Nouvelle commande",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:e.createElement(Ot,{className:"w-4 h-4"})},order_reminder:{label:"Relance commande",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",icon:e.createElement(ww,{className:"w-4 h-4"})},order_delivered:{label:"Commande livre",badgeClass:"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:e.createElement(Ws,{className:"w-4 h-4"})},order_cancelled:{label:"Commande annule",badgeClass:"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:e.createElement($n,{className:"w-4 h-4"})},feedback_read:{label:"Avis lu",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:e.createElement(hl,{className:"w-4 h-4"})}},k=g.useMemo(()=>{let j=i;return f==="all"?j=j.filter($=>b[$.type]!==!1):f==="unread"?j=j.filter($=>b[$.type]!==!1).filter($=>$.isNew):j=j.filter($=>$.type===f),j},[i,b,f]),A=g.useMemo(()=>k.filter(j=>j.isNew),[k]),P=g.useMemo(()=>k.filter(j=>!j.isNew),[k]),S=(j,$)=>{const K=j.product?.status,W=N[j.type]||{label:"Notification",badgeClass:"bg-gray-100 text-gray-700 border border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",icon:e.createElement(uo,{className:"w-4 h-4"})};return e.createElement("div",{key:j._id,className:`group relative rounded-2xl transition-all duration-300 overflow-hidden ${$?"bg-gradient-to-br from-white via-white to-indigo-50/30 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-900/10 border-2 border-indigo-300 dark:border-indigo-700 shadow-md hover:shadow-xl":"bg-white/80 dark:bg-gray-800/80 border-2 border-gray-200/80 dark:border-gray-700/80 hover:bg-white dark:hover:bg-gray-800 hover:shadow-lg hover:border-gray-300 dark:hover:border-gray-600"}`},$&&e.createElement("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600"}),e.createElement("div",{className:"p-4 sm:p-5"},e.createElement("div",{className:"flex flex-col gap-3 sm:gap-4"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between gap-3 mb-2.5 sm:mb-3"},e.createElement("div",{className:"flex items-center gap-2 flex-wrap flex-1 min-w-0"},e.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold ${W.badgeClass}`},W.icon,e.createElement("span",{className:"hidden sm:inline"},W.label)),e.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400"},e.createElement(Ut,{className:"w-3.5 h-3.5"}),e.createElement("span",{className:"font-medium"},bie(j.createdAt))),$&&e.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold bg-gradient-to-r from-red-100 to-pink-100 dark:from-red-900/30 dark:to-pink-900/30 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800"},e.createElement("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"}),e.createElement("span",{className:"hidden sm:inline"},"Nouveau"))),e.createElement("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},$&&e.createElement("button",{onClick:()=>T([j._id]),className:"p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all duration-200 active:scale-95",title:"Marquer comme lu"},e.createElement(hl,{className:"w-4 h-4"})),e.createElement("button",{onClick:()=>O(j._id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 active:scale-95",title:"Supprimer"},e.createElement(Li,{className:"w-4 h-4"})))),j.user?.name&&e.createElement("div",{className:"flex items-center gap-2.5 mb-3"},e.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-md ring-2 ring-white dark:ring-gray-800"},j.user.name.charAt(0).toUpperCase()),e.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-white"},j.user.name)),j.type==="reply"&&j.parent?.message&&e.createElement("div",{className:"mb-3.5 p-3.5 bg-gradient-to-br from-gray-50 to-gray-100/50 dark:from-gray-700/50 dark:to-gray-700/30 rounded-xl border-l-4 border-indigo-400"},e.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},e.createElement(fa,{className:"w-3 h-3"}),"Votre commentaire"),e.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed"},'"',j.parent.message,'"')),e.createElement("p",{className:"text-sm sm:text-base text-gray-800 dark:text-gray-200 leading-relaxed mb-3.5 font-medium"},j.message),j.type==="shop_review"&&j.metadata?.rating&&e.createElement("div",{className:"flex items-center gap-2 mb-3 px-3.5 py-2.5 bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-900/20 dark:to-amber-900/10 rounded-xl border border-amber-200 dark:border-amber-800"},e.createElement(rr,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),e.createElement("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400"},"Note : ",Number(j.metadata.rating).toFixed(1),"/5")),j.type==="shop_review"&&j.metadata?.comment&&e.createElement("div",{className:"p-3.5 bg-gradient-to-br from-gray-50 to-gray-100/50 dark:from-gray-700/50 dark:to-gray-700/30 rounded-xl border-l-4 border-indigo-400 mb-3.5"},e.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},e.createElement(fa,{className:"w-3 h-3"}),"Commentaire"),e.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed"},'"',j.metadata.comment,'"')),j.type==="payment_pending"&&(r?.role==="admin"||r?.role==="manager")&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},e.createElement(pe,{to:"/admin",className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg active:scale-95"},e.createElement(Xs,{className:"w-4 h-4"}),e.createElement("span",{className:"truncate"},"Vrifier paiements"))),j.type==="order_delivered"&&j.metadata?.orderId&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},e.createElement(pe,{to:`/orders/delivered?orderId=${j.metadata.orderId}`,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-emerald-700 dark:text-emerald-400 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-900/10 hover:from-emerald-100 hover:to-emerald-100 dark:hover:from-emerald-900/30 dark:hover:to-emerald-900/20 transition-all duration-200 border-2 border-emerald-200 dark:border-emerald-800 active:scale-95"},e.createElement(Ws,{className:"w-4 h-4"}),e.createElement("span",{className:"truncate"},"Voir commande livre"))),j.type==="order_cancelled"&&e.createElement("div",{className:"mt-4 space-y-3"},j.metadata?.reason&&e.createElement("div",{className:"p-3.5 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 rounded-xl border-l-4 border-red-400"},e.createElement("p",{className:"text-xs text-red-600 dark:text-red-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},e.createElement($n,{className:"w-3 h-3"}),"Raison de l'annulation"),e.createElement("p",{className:"text-sm text-red-700 dark:text-red-300 italic leading-relaxed"},'"',j.metadata.reason,'"')),j.metadata?.orderId&&e.createElement("div",{className:"pt-4 border-t-2 border-gray-200 dark:border-gray-700"},e.createElement(pe,{to:`/orders?status=cancelled&orderId=${j.metadata.orderId}`,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-red-700 dark:text-red-400 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 hover:from-red-100 hover:to-red-100 dark:hover:from-red-900/30 dark:hover:to-red-900/20 transition-all duration-200 border-2 border-red-200 dark:border-red-800 active:scale-95"},e.createElement($n,{className:"w-4 h-4"}),"Voir commande annule"))),j.product&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700 space-y-2"},e.createElement("button",{type:"button",onClick:()=>{t(ar(j.product)),$&&T([j._id])},className:"w-full sm:w-auto inline-flex items-center justify-center sm:justify-start gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-indigo-700 dark:text-indigo-400 bg-gradient-to-br from-indigo-50 to-indigo-100/50 dark:from-indigo-900/20 dark:to-indigo-900/10 hover:from-indigo-100 hover:to-indigo-100 dark:hover:from-indigo-900/30 dark:hover:to-indigo-900/20 transition-all duration-200 border-2 border-indigo-200 dark:border-indigo-800 group/link active:scale-95"},e.createElement(Ot,{className:"w-4 h-4 flex-shrink-0"}),e.createElement("span",{className:"truncate flex-1 text-left"},e.createElement("span",{className:"hidden sm:inline"},"Voir l'annonce : "),j.product.title)),K&&K!=="approved"&&e.createElement("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},e.createElement(xr,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 flex-shrink-0"}),e.createElement("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400"},"Annonce actuellement  ",K==="pending"?"En attente":K," "))),!j.product&&j.shop&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},e.createElement(pe,{to:la(j.shop),className:"w-full sm:w-auto inline-flex items-center justify-center sm:justify-start gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-indigo-700 dark:text-indigo-400 bg-gradient-to-br from-indigo-50 to-indigo-100/50 dark:from-indigo-900/20 dark:to-indigo-900/10 hover:from-indigo-100 hover:to-indigo-100 dark:hover:from-indigo-900/30 dark:hover:to-indigo-900/20 transition-all duration-200 border-2 border-indigo-200 dark:border-indigo-800 group/link active:scale-95"},e.createElement(Sr,{className:"w-4 h-4 flex-shrink-0"}),e.createElement("span",{className:"truncate flex-1 text-left"},e.createElement("span",{className:"hidden sm:inline"},"Voir la boutique : "),j.shop.shopName||j.shop.name||"Boutique")))))))},_=async()=>{if(!(!A.length||d)){u(!0),p("");try{await se.patch("/users/notifications/read"),Ny(),await o()}catch(j){console.error(j),p(j.response?.data?.message||j.message||"Impossible de marquer les notifications comme lues.")}finally{u(!1)}}},T=async j=>{if(!(!Array.isArray(j)||!j.length))try{await se.patch("/users/notifications/read",{notificationIds:j}),Ny(),await o()}catch($){console.error("Failed to mark notification as read:",$)}},O=async j=>{try{await se.delete(`/users/notifications/${j}`),Ny(),await o()}catch($){console.error("Failed to delete notification:",$)}},R=[{key:"all",label:"Toutes",count:i.length,icon:uo},{key:"unread",label:"Non lues",count:A.length,icon:F5},{key:"product_comment",label:"Commentaires",count:i.filter(j=>j.type==="product_comment").length,icon:fa},{key:"reply",label:"Rponses",count:i.filter(j=>j.type==="reply").length,icon:fa},{key:"favorite",label:"Favoris",count:i.filter(j=>j.type==="favorite").length,icon:ur},{key:"rating",label:"Notes",count:i.filter(j=>j.type==="rating").length,icon:rr},{key:"product_approval",label:"Approbations",count:i.filter(j=>j.type==="product_approval").length,icon:Ws},{key:"product_rejection",label:"Rejets",count:i.filter(j=>j.type==="product_rejection").length,icon:$n},{key:"promotional",label:"Promotions",count:i.filter(j=>j.type==="promotional").length,icon:Wa},{key:"shop_review",label:"Avis boutique",count:i.filter(j=>j.type==="shop_review").length,icon:Sr},{key:"payment_pending",label:"Paiements",count:i.filter(j=>j.type==="payment_pending").length,icon:Xs},{key:"order_created",label:"Commandes confirmes",count:i.filter(j=>j.type==="order_created").length,icon:Ks},{key:"order_delivering",label:"En livraison",count:i.filter(j=>j.type==="order_delivering").length,icon:Tr},{key:"order_received",label:"Nouvelles commandes",count:i.filter(j=>j.type==="order_received").length,icon:Ot},{key:"order_reminder",label:"Relances",count:i.filter(j=>j.type==="order_reminder").length,icon:ww},{key:"order_delivered",label:"Livres",count:i.filter(j=>j.type==="order_delivered").length,icon:Ws},{key:"order_cancelled",label:"Annules",count:i.filter(j=>j.type==="order_cancelled").length,icon:$n},{key:"feedback_read",label:"Avis lus",count:i.filter(j=>j.type==="feedback_read").length,icon:hl}],D=({variant:j="stack",closeOnSelect:$=!1}={})=>R.map(({key:K,label:W,count:z,icon:Q})=>{const ee=f===K,H=j==="pills",q=H?`flex-shrink-0 inline-flex items-center gap-2 whitespace-nowrap rounded-full border-2 px-3.5 py-2 text-sm font-bold transition-all duration-200 active:scale-95 ${ee?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-transparent shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-md"}`:`w-full flex items-center justify-between px-3.5 py-3 rounded-xl text-sm font-semibold transition-all duration-200 active:scale-[0.98] ${ee?"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-700 dark:text-indigo-400 border-2 border-indigo-300 dark:border-indigo-700 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-700"}`,B=H?`text-xs font-bold px-2 py-0.5 rounded-full ${ee?"bg-white/25 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`:`px-2 py-0.5 rounded-full text-xs font-bold ${ee?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`;return e.createElement("button",{key:`${j}-${K}`,onClick:()=>{y(K),$&&x(!1)},className:q},e.createElement("span",{className:"flex items-center gap-2"},Q&&e.createElement(Q,{className:"w-4 h-4"}),W),e.createElement("span",{className:B},z))});return r?e.createElement("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-950/20"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 space-y-6"},e.createElement("header",{className:"bg-gradient-to-br from-white via-white to-indigo-50/50 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-900/20 rounded-3xl p-6 sm:p-8 border-2 border-gray-200/60 dark:border-gray-700/50 shadow-xl"},e.createElement("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-indigo-100 dark:ring-indigo-900/30"},e.createElement(uo,{className:"w-7 h-7 text-white"})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl sm:text-4xl font-black bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 dark:from-white dark:via-indigo-200 dark:to-purple-200 bg-clip-text text-transparent"},"Notifications"),e.createElement("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 font-medium"},A.length>0?`${A.length} nouvelle${A.length>1?"s":""} notification${A.length>1?"s":""}`:"Toutes vos notifications sont  jour")))),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},e.createElement(xie,{preferences:b,onUpdate:w}),A.length>0&&e.createElement("button",{type:"button",onClick:_,disabled:d,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-3 text-sm font-bold text-white transition-all hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl active:scale-95"},d?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.createElement("span",null,"Traitement...")):e.createElement(e.Fragment,null,e.createElement(hl,{className:"w-5 h-5"}),e.createElement("span",null,"Tout marquer comme lu")))))),e.createElement("div",{className:"space-y-4 lg:hidden"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl p-5 text-white shadow-xl"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(uo,{className:"w-5 h-5 opacity-90"}),e.createElement("p",{className:"text-xs uppercase tracking-wide text-white/80 font-bold"},"Total")),e.createElement("p",{className:"text-4xl font-black"},i.length)),e.createElement("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl p-5 text-white shadow-xl"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.createElement("p",{className:"text-xs uppercase tracking-wide text-white/80 font-bold"},"Non lues")),e.createElement("p",{className:"text-4xl font-black"},A.length))),e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border-2 border-gray-200 dark:border-gray-700 p-5 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ks,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),e.createElement("h3",{className:"text-base font-bold text-gray-900 dark:text-white"},"Filtres")),e.createElement("button",{type:"button",onClick:()=>x(j=>!j),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors active:scale-95"},E?"Masquer":"Voir tout",e.createElement(Ha,{className:`w-4 h-4 transition-transform duration-200 ${E?"rotate-180":""}`}))),e.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},D({variant:"pills"})),E&&e.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700 space-y-1.5"},D({variant:"stack",closeOnSelect:!0})))),e.createElement("div",{className:"flex flex-col lg:flex-row gap-6"},e.createElement("div",{className:"hidden lg:block lg:w-80 flex-shrink-0"},e.createElement("div",{className:"sticky top-6 space-y-4"},e.createElement("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 rounded-3xl p-6 text-white shadow-2xl"},e.createElement("div",{className:"flex items-center gap-3 mb-5"},e.createElement("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center ring-2 ring-white/30"},e.createElement(F5,{className:"w-6 h-6"})),e.createElement("h3",{className:"font-black text-xl"},"Aperu")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex justify-between items-center p-4 bg-white/15 backdrop-blur-sm rounded-xl border border-white/20"},e.createElement("span",{className:"text-white/90 font-semibold"},"Total"),e.createElement("span",{className:"font-black text-2xl"},i.length)),e.createElement("div",{className:"flex justify-between items-center p-4 bg-white/15 backdrop-blur-sm rounded-xl border border-white/20"},e.createElement("span",{className:"text-white/90 font-semibold"},"Non lues"),e.createElement("span",{className:"font-black text-2xl bg-white/30 backdrop-blur-sm px-3 py-1 rounded-lg"},A.length)))),e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border-2 border-gray-200 dark:border-gray-700 p-5 shadow-lg"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(ks,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),e.createElement("h3",{className:"font-bold text-gray-900 dark:text-white"},"Filtrer par")),e.createElement("div",{className:"space-y-1.5 max-h-[600px] overflow-y-auto"},D())))),e.createElement("div",{className:"flex-1 min-w-0"},n&&e.createElement("div",{className:"flex items-center justify-center py-20"},e.createElement("div",{className:"flex flex-col items-center gap-4"},e.createElement("div",{className:"w-14 h-14 border-4 border-indigo-200 dark:border-indigo-800 border-t-indigo-600 dark:border-t-indigo-400 rounded-full animate-spin"}),e.createElement("span",{className:"text-gray-600 dark:text-gray-400 font-semibold"},"Chargement des notifications..."))),s&&e.createElement("div",{className:"bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 border-2 border-red-300 dark:border-red-800 rounded-3xl p-8 text-center shadow-xl"},e.createElement("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4"},e.createElement(xr,{className:"w-8 h-8 text-red-600 dark:text-red-400"})),e.createElement("p",{className:"text-red-700 dark:text-red-400 font-bold text-lg mb-2"},"Erreur de chargement"),e.createElement("p",{className:"text-red-600 dark:text-red-500 text-sm"},s)),m&&e.createElement("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-2xl p-4 mb-6"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(xr,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.createElement("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium"},m))),A.length>0&&(f==="all"||f==="unread")&&e.createElement("section",{className:"space-y-4 mb-8"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("div",{className:"w-1.5 h-10 bg-gradient-to-b from-indigo-600 to-purple-600 rounded-full shadow-lg"}),e.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white"},"Non lues"),e.createElement("span",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white text-xs font-bold px-3.5 py-1.5 rounded-full shadow-lg ring-2 ring-red-100 dark:ring-red-900/30"},A.length)),e.createElement("div",{className:"space-y-4"},A.map(j=>S(j,!0)))),P.length>0&&(f==="all"||f!=="unread")&&e.createElement("section",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("div",{className:"w-1.5 h-10 bg-gray-400 rounded-full"}),e.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white"},f==="all"?"Notifications lues":"Notifications")),e.createElement("div",{className:"space-y-4"},P.map(j=>S(j,!1)))),!n&&!s&&k.length===0&&e.createElement("div",{className:"text-center py-20"},e.createElement("div",{className:"w-28 h-28 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl"},e.createElement(zD,{className:"w-14 h-14 text-gray-400 dark:text-gray-500"})),e.createElement("h3",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white mb-3"},f==="all"?"Aucune notification":"Aucune notification correspondante"),e.createElement("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed"},f==="all"?"Les notifications concernant vos annonces et commentaires apparatront ici.":"Aucune notification ne correspond aux filtres slectionns.")))))):e.createElement("main",{className:"max-w-4xl mx-auto p-6"},e.createElement("div",{className:"text-center py-16 sm:py-20"},e.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl"},e.createElement(uo,{className:"w-10 h-10 sm:w-12 sm:h-12 text-indigo-600 dark:text-indigo-400"})),e.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white mb-3"},"Connectez-vous"),e.createElement("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto leading-relaxed"},"Connectez-vous  votre compte pour consulter vos notifications et rester inform des dernires activits.")))}const qE=12;function Eie(){const t=Zr(),{favorites:r,loading:a}=g.useContext(Tm),[n,s]=g.useState(1),[o,i]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),d=r.length>0,u=Math.max(1,Math.ceil(r.length/qE));g.useEffect(()=>{s(1)},[r.length]),g.useEffect(()=>{const f=()=>{typeof window>"u"||i(window.innerWidth<=767)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),g.useEffect(()=>{if(!o||n>=u)return;const f=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&s(b=>Math.min(b+1,u))};return window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)},[o,n,u]),g.useEffect(()=>{n>u&&s(u)},[n,u]);const m=g.useMemo(()=>{const f=n*qE;return r.slice(0,f)},[r,n]),p=()=>{if(o||r.length<=qE)return null;const f=Math.min(5,u),y=Math.floor(f/2);let b=Math.max(1,n-y),w=Math.min(u,b+f-1);b=Math.max(1,w-f+1);const E=Array.from({length:w-b+1},(x,N)=>b+N);return e.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 mb-4 pb-[88px] md:pb-0"},e.createElement("button",{onClick:()=>s(x=>Math.max(1,x-1)),disabled:n<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),b>1&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>s(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),b>2&&e.createElement("span",{className:"px-1 text-gray-500"},"...")),E.map(x=>e.createElement("button",{key:x,onClick:()=>s(x),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===x?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},x)),w<u&&e.createElement(e.Fragment,null,w<u-1&&e.createElement("span",{className:"px-1 text-gray-500"},"..."),e.createElement("button",{onClick:()=>s(u),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===u?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},u)),e.createElement("button",{onClick:()=>s(x=>Math.min(u,x+1)),disabled:n>=u,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return e.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 space-y-4 sm:space-y-8 pb-12 md:pb-16"},e.createElement("header",{className:"text-center sm:text-left"},e.createElement("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour"),e.createElement("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold"},"Vos favoris"),e.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 mt-1"},"Articles enregistrs"),e.createElement("p",{className:"text-xs sm:text-base text-gray-600 mt-2"},"Retrouvez rapidement les produits que vous avez ajouts  votre liste de souhaits.")),a?e.createElement("div",{className:"rounded-3xl border border-dashed border-gray-200 bg-white px-6 py-12 text-center shadow-sm"},e.createElement("p",{className:"text-gray-600"},"Chargement de vos favoris")):d?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 lg:gap-5"},m.map(f=>e.createElement(Da,{key:f._id,p:f}))),p()):e.createElement("div",{className:"rounded-3xl border border-dashed border-gray-300 bg-white px-6 py-12 text-center shadow-sm"},e.createElement("p",{className:"text-lg font-semibold text-gray-700"},"Aucun favori pour le moment"),e.createElement("p",{className:"text-gray-500 mt-2"},"Explorez le catalogue et cliquez sur le coeur d'un produit pour le retrouver ici."),e.createElement(pe,{to:"/",className:"inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-3 font-medium text-white mt-6 hover:bg-indigo-700 transition"},"Dcouvrir les produits")))}const wie={monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche"},L$=new Intl.NumberFormat("fr-FR"),hu=t=>{const r=Number(t);return Number.isFinite(r)?L$.format(r):"0"},pT=t=>{const r=Number(t);return Number.isFinite(r)?`${L$.format(r)} FCFA`:"0 FCFA"},UE=t=>{if(!t)return"Date inconnue";const r=new Date(t);return Number.isNaN(r.getTime())?"Date inconnue":r.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},Sc=t=>{const r=Number(t);return Number.isFinite(r)?r.toFixed(1).replace(".",","):"0,0"},Nie=[5,4,3,2,1];function kie(){const{slug:t}=Di(),{user:r,updateUser:a}=g.useContext(fr),n=Zr(),[s,o]=g.useState(null),[i,d]=g.useState([]),[u,m]=g.useState([]),[p,f]=g.useState(!0),[y,b]=g.useState(""),[w,E]=g.useState("all"),[x,N]=g.useState(0),[k,A]=g.useState(!1),[P,S]=g.useState(!1),[_,T]=g.useState(0),[O,R]=g.useState({rating:0,comment:""}),[D,j]=g.useState(!1),[$,K]=g.useState(""),[W,z]=g.useState(""),[Q,ee]=g.useState(null),[H,q]=g.useState(!0),[B,G]=g.useState(!1),[Y,V]=g.useState([]),[J,ue]=g.useState(!1),[he,Oe]=g.useState(""),[te,ie]=g.useState([]),[de,Ce]=g.useState(!1),[ne,re]=g.useState(""),Ie=s?.slug||s?._id||t,fe=ts();g.useEffect(()=>{let be=!0;return(async()=>{try{f(!0);const{data:et}=await se.get(`/shops/${t}`);if(!be)return;o(et.shop);const Z=Array.isArray(et.products)?et.products:[];if(d(Z),m(Array.isArray(et.recentReviews)?et.recentReviews:[]),b(""),Z.length>0){const Ee=Z.filter(le=>Number(le.salesCount||0)>0).sort((le,Ne)=>Number(Ne.salesCount||0)-Number(le.salesCount||0)).slice(0,5);ie(Ee),Ce(!1)}}catch(et){if(!be)return;b(et.response?.data?.message||et.message||"Boutique introuvable."),o(null),d([]),m([]),ie([]),Ce(!1)}finally{be&&f(!1)}})(),()=>{be=!1}},[t,_]),g.useEffect(()=>{if(!s?._id||te.length>0)return;if(i.length>0){const Z=i.filter(Ee=>Number(Ee.salesCount||0)>0).sort((Ee,le)=>Number(le.salesCount||0)-Number(Ee.salesCount||0)).slice(0,5);if(Z.length>0){ie(Z);return}}let be=!0;const ut=async()=>{Ce(!0),re("");try{const{data:Z}=await se.get(`/shops/${t}`,{params:{limit:100}});if(!be)return;const Ee=Array.isArray(Z?.products)?Z.products:[],le=[...i,...Ee],Ne=Array.from(new Map(le.map(lt=>[String(lt._id),lt])).values()),tt=Ne.filter(lt=>Number(lt.salesCount||0)>0).sort((lt,gt)=>Number(gt.salesCount||0)-Number(lt.salesCount||0)).slice(0,5);ie(tt),tt.length===0&&Ne.length>0&&re("Aucun produit avec des ventes enregistres.")}catch(Z){if(!be)return;console.error("Error fetching top selling products:",Z),re("Impossible de charger les produits les plus vendus.")}finally{be&&Ce(!1)}};return i.filter(Z=>Number(Z.salesCount||0)>0).length<5&&ut(),()=>{be=!1}},[s?._id,t]),g.useEffect(()=>{E("all")},[t]),g.useEffect(()=>{K(""),z("")},[t,r]),g.useEffect(()=>{let be=!0;return!s?._id||!r?(ee(null),R({rating:0,comment:""}),()=>{be=!1}):((async()=>{try{const{data:et}=await se.get(`/shops/${Ie}/reviews/user`);if(!be)return;ee(et),R({rating:et.rating||0,comment:et.comment||""}),q(!et.comment?.trim())}catch(et){if(!be)return;et.response?.status===404&&(ee(null),R({rating:0,comment:""}),q(!0))}})(),()=>{be=!1})},[s?._id,t,r,_]),g.useEffect(()=>{if(!s){N(0);return}N(Number(s.followersCount??0))},[s?.followersCount,s]),g.useEffect(()=>{if(!s?._id||!r){A(!1);return}const ut=(Array.isArray(r.followingShops)?r.followingShops:[]).some(et=>String(et)===String(s._id));A(ut)},[s?._id,r?.followingShops]);const Le=g.useMemo(()=>{const be=new Set;return i.reduce((ut,et)=>{const Z=et?.category,Ee=typeof Z=="string"?Z.trim():"";return!Ee||be.has(Ee)||(be.add(Ee),ut.push(Ee)),ut},[])},[i]),at=g.useMemo(()=>!w||w==="all"?i:i.filter(be=>{const ut=be?.category;return(typeof ut=="string"?ut.trim():"")===w}),[w,i]),nt=!!Q?.comment?.trim(),it=!nt||H;if(p)return e.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10"},e.createElement("p",{className:"text-gray-600"},"Chargement de la boutique"));if(y)return e.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10 space-y-3"},e.createElement("p",{className:"text-red-600 font-semibold"},y),e.createElement(pe,{to:"/",className:"text-indigo-600 underline"},"Retourner  l'accueil"));if(!s)return null;s.phone&&(r?s.phone:`${t}`);const xe=Number(s.ratingAverage||0),He=Number(s.ratingCount||0),Je=Array.isArray(s.shopHours)?s.shopHours:[],xt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()]||"monday";s.productCount??i.length;const ht=r&&s.phone?e.createElement("a",{href:`tel:${s.phone}`,className:"group inline-flex items-center justify-center gap-2 rounded-xl bg-white/20 px-6 py-3 text-sm font-bold text-white backdrop-blur-md transition-all duration-300 hover:bg-white/30 hover:scale-105 hover:shadow-lg"},e.createElement(yo,{size:18,className:"transition-transform duration-300 group-hover:scale-110"}),"Appeler la boutique"):e.createElement(pe,{to:"/login",state:{from:`/shop/${t}`},className:"inline-flex items-center justify-center gap-2 rounded-xl border-2 border-white/60 bg-white/10 px-6 py-3 text-sm font-bold text-white backdrop-blur-md transition-all duration-300 hover:border-white hover:bg-white/20 hover:scale-105"},e.createElement(yo,{size:18}),"Connectez-vous pour appeler"),mt=s?.shopVerified?k?"Boutique suivie":"Suivre la boutique":"Boutique non certifie",pt=async()=>{if(!(!s?._id||P)){if(!r){n("/login",{state:{from:`/shop/${t}`}});return}if(s.shopVerified){S(!0);try{const be=k?await se.delete(`/users/shops/${s._id}/follow`):await se.post(`/users/shops/${s._id}/follow`);if(A(!k),N(be.data?.followersCount??x),typeof a=="function"){const et=(Array.isArray(r.followingShops)?r.followingShops:[]).map(Ee=>String(Ee)),Z=k?et.filter(Ee=>Ee!==String(s._id)):Array.from(new Set([...et,String(s._id)]));a({followingShops:Z})}}catch(be){console.error(be)}finally{S(!1)}}}},bt=e.createElement("button",{type:"button",onClick:pt,disabled:P||!s?.shopVerified,className:`group inline-flex items-center justify-center gap-2 rounded-xl border-2 px-6 py-3 text-sm font-bold transition-all duration-300 ${k?"border-white/60 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 text-white backdrop-blur-md hover:from-emerald-500/40 hover:to-teal-500/40 hover:scale-105 hover:shadow-lg":"border-white/60 bg-white/10 text-white backdrop-blur-md hover:bg-white/20 hover:scale-105"} ${!s?.shopVerified||P?"opacity-50 cursor-not-allowed hover:scale-100":""}`},e.createElement(ur,{size:18,className:`transition-all duration-300 ${k?"fill-white text-white":""} ${P?"":"group-hover:scale-110"}`}),P?"Traitement...":mt),Pt=async()=>{ue(!0),Oe("");try{const{data:be}=await se.get(`/shops/${Ie}/reviews`,{params:{page:1,limit:50}});V(Array.isArray(be.reviews)?be.reviews:[])}catch(be){Oe(be.response?.data?.message||be.message||"Impossible de charger les commentaires.")}finally{ue(!1)}},Ge=async()=>{G(!0),await Pt()},ft=()=>{G(!1)},We=async be=>{if(be.preventDefault(),!r){n("/login",{state:{from:`/shop/${t}`}});return}const ut=!!O.rating,et=!!O.comment?.trim();if(!ut&&!et){K("Ajoutez une note ou un commentaire pour continuer.");return}j(!0),K(""),z("");try{const Z=Ie,{data:Ee}=await se.post(`/shops/${Z}/reviews`,O);ee(Ee),R({rating:Ee.rating||0,comment:Ee.comment||""}),q(!Ee.comment?.trim()),z("Votre avis a bien t enregistr."),T(le=>le+1)}catch(Z){K(Z.response?.data?.message||Z.message||"Impossible d'enregistrer votre avis pour l'instant.")}finally{j(!1)}},Ye=be=>{q(!0),R({rating:be.rating||0,comment:be.comment||""}),z(""),K("")};return e.createElement("main",{className:"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 py-8"},e.createElement("div",{className:"mx-auto flex max-w-7xl flex-col gap-8 px-4 sm:px-6 lg:px-8 text-slate-900"},e.createElement("section",{className:"relative overflow-hidden rounded-[32px] bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white shadow-2xl"},s.shopBanner&&e.createElement("div",{className:"absolute inset-0"},e.createElement("img",{src:s.shopBanner,alt:`Bannire ${s.shopName}`,className:"h-full w-full object-cover"}),e.createElement("div",{className:"absolute inset-0 bg-slate-950/70"})),e.createElement("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at top right, rgba(255,255,255,0.3), transparent 60%), radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15), transparent 45%)"}}),e.createElement("div",{className:"relative z-10 flex flex-col gap-8 px-6 py-10 md:px-10 md:py-12"},e.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},e.createElement("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:items-start sm:gap-5"},e.createElement("div",{className:"h-24 w-24 overflow-hidden rounded-2xl border border-white/40 bg-white/20"},s.shopLogo?e.createElement("img",{src:s.shopLogo,alt:`Logo ${s.shopName}`,className:"h-full w-full object-cover"}):e.createElement("div",{className:"flex h-full w-full items-center justify-center text-xl font-semibold uppercase tracking-wide text-white/90"},s.shopName?.charAt(0)||"B")),e.createElement("div",{className:"w-full space-y-1 text-center text-white sm:text-left"},e.createElement("p",{className:"text-xs uppercase tracking-[0.4em] text-white/80"},"Boutique"),e.createElement("div",{className:"flex flex-col items-center justify-center gap-1 sm:flex-row sm:items-center sm:justify-start"},e.createElement("h1",{className:"text-3xl font-bold leading-tight text-white"},s.shopName),e.createElement(dn,{verified:s.shopVerified})),e.createElement("p",{className:"text-sm text-white/80"},"Gre par ",s.ownerName))),e.createElement("div",{className:"flex flex-col gap-2 text-sm text-white/80"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Ut,{className:"h-4 w-4"}),e.createElement("span",null,"Cre le ",UE(s.createdAt))),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(yr,{className:"h-4 w-4"}),e.createElement("span",null,s.shopAddress||"Adresse non renseigne")))),e.createElement("p",{className:"max-w-2xl text-sm text-white/80"},s.shopDescription||"Aucune description publique na encore t ajoute  cette boutique."),e.createElement("div",{className:"grid gap-4 text-xs uppercase tracking-[0.2em] text-white/80 sm:grid-cols-3"},e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Prod. disponibles"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},hu(s.productCount??i.length))),e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Avis"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},Sc(xe))),e.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},e.createElement("p",{className:"text-[10px]"},"Abonns"),e.createElement("p",{className:"mt-2 text-lg font-semibold"},hu(x)))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 justify-center"},ht,bt,e.createElement(pe,{to:"/shops/verified",className:"inline-flex items-center justify-center rounded-full border border-white/60 bg-white/10 px-5 py-2 text-sm font-semibold text-white transition hover:border-white"},"Dcouvrir dautres boutiques")))),e.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 p-8 shadow-xl"},e.createElement("article",{className:"space-y-6"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100"},e.createElement(rr,{size:24,className:"text-amber-600 fill-amber-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-2xl font-bold text-gray-900"},"Avis & Commentaires"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},He," avis  Note moyenne ",Sc(xe),"/5"))),e.createElement("button",{type:"button",onClick:Ge,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300 hover:scale-105"},e.createElement(br,{size:16}),"Voir tous les commentaires")),He>0&&e.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6"},e.createElement("div",{className:"flex items-center justify-center gap-3 mb-4"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"text-5xl font-black bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent"},Sc(xe)),e.createElement("div",{className:"flex items-center justify-center gap-1 mt-2"},[1,2,3,4,5].map(be=>e.createElement(rr,{key:be,size:20,className:be<=Math.round(xe)?"text-amber-400 fill-amber-400":"text-gray-300"}))),e.createElement("p",{className:"text-sm text-gray-600 mt-2"},hu(He)," avis vrifis")))),W&&e.createElement("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-4 flex items-center gap-3"},e.createElement(Qt,{size:20,className:"text-emerald-600 flex-shrink-0"}),e.createElement("p",{className:"text-sm font-medium text-emerald-800"},W)),it&&e.createElement("form",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white p-6",onSubmit:We},e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"text-sm font-bold text-gray-900"},"Votre note"),e.createElement("div",{className:"flex items-center gap-2"},Nie.map(be=>e.createElement("button",{type:"button",key:`rating-${be}`,onClick:()=>R(ut=>({...ut,rating:be})),className:`group flex items-center gap-1.5 rounded-xl border-2 px-4 py-2.5 text-sm font-bold transition-all duration-200 ${O.rating===be?"border-amber-500 bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 scale-105 shadow-md":"border-gray-200 bg-white text-gray-600 hover:border-amber-300 hover:bg-amber-50"}`},e.createElement(rr,{size:16,className:O.rating===be?"text-amber-500 fill-amber-500":"text-gray-400"}),e.createElement("span",null,be))))),e.createElement("div",{className:"space-y-3"},e.createElement("label",{className:"text-sm font-bold text-gray-900"},"Votre commentaire"),e.createElement("textarea",{value:O.comment,onChange:be=>R(ut=>({...ut,comment:be.target.value})),rows:4,className:"w-full rounded-xl border-2 border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 transition-all duration-200 focus:border-indigo-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100",placeholder:"Partagez votre exprience avec cette boutique..."})),e.createElement("div",{className:"flex flex-col gap-2"},$&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3"},e.createElement("p",{className:"text-xs font-medium text-red-800"},$)),!r&&e.createElement("p",{className:"text-xs text-gray-600"},e.createElement(pe,{to:"/login",state:{from:`/shop/${t}`},className:"font-semibold text-indigo-600 hover:text-indigo-700"},"Connectez-vous")," ","pour laisser un commentaire.")),e.createElement("button",{type:"submit",disabled:D||!r,className:"w-full rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-3 text-sm font-bold text-white shadow-lg transition-all duration-200 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},D?"Envoi en cours":Q?"Mettre  jour mon avis":"Publier mon avis")),!it&&nt&&e.createElement("div",{className:"flex items-center justify-between rounded-xl border border-emerald-200 bg-emerald-50 px-5 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(Qt,{size:20,className:"text-emerald-600"}),e.createElement("p",{className:"text-sm font-semibold text-emerald-900"},"Votre commentaire est publi.")),e.createElement("button",{type:"button",onClick:()=>q(!0),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-300 bg-white px-3 py-2 text-xs font-semibold text-emerald-700 transition-all duration-200 hover:bg-emerald-100"},e.createElement(Bu,{size:14}),"Modifier")),e.createElement("div",{className:"space-y-4"},u.length?u.map(be=>{const ut=!!r&&!!be.user?._id&&String(be.user._id)===String(r.id);return e.createElement("div",{key:be._id,className:"group rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-200 hover:shadow-md hover:border-indigo-200"},e.createElement("div",{className:"flex items-start justify-between gap-4"},e.createElement("div",{className:"flex items-start gap-3 flex-1"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement("span",{className:"text-sm font-bold text-indigo-600"},(be.user?.name||be.user?.shopName||"U").charAt(0).toUpperCase())),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement("div",{className:"flex items-center gap-1"},[1,2,3,4,5].map(et=>e.createElement(rr,{key:et,size:14,className:et<=be.rating?"text-amber-400 fill-amber-400":"text-gray-300"}))),e.createElement("span",{className:"text-sm font-bold text-gray-900"},Sc(be.rating))),e.createElement("p",{className:"text-xs font-semibold text-gray-700 mb-1"},be.user?.name||be.user?.shopName||"Utilisateur"),e.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},be.comment||"Pas de commentaire fourni."))),e.createElement("div",{className:"flex flex-col items-end gap-2"},e.createElement("span",{className:"text-xs text-gray-400"},UE(be.createdAt)),ut&&e.createElement("button",{type:"button",onClick:()=>Ye(be),className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-500 transition-all duration-200 hover:bg-gray-100 hover:text-indigo-600"},e.createElement(Bu,{size:14})))))}):e.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-8 text-center"},e.createElement(br,{size:32,className:"text-gray-400 mx-auto mb-3"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun commentaire publi pour le moment."))))),e.createElement("section",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,0.7fr)]"},e.createElement("div",{className:"space-y-6"},e.createElement("article",{className:"overflow-hidden rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/30 shadow-xl"},e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-gray-200 bg-gradient-to-r from-indigo-50/50 via-white to-purple-50/30 px-6 py-5"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(Ut,{className:"h-6 w-6 text-indigo-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Horaires d'ouverture"),e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Planification communique par la boutique"))),e.createElement("span",{className:"rounded-full bg-indigo-100 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider text-indigo-700 border border-indigo-200"},"Donnes directes")),Je.length?e.createElement("div",{className:"space-y-3 px-6 py-5"},Je.map(be=>{const ut=wie[be.day]||be.day||"Jour",et=be.closed?"Ferm":be.open&&be.close?`${be.open}  ${be.close}`:"Horaires partiels",Z=be.day===xt;return e.createElement("div",{key:`${be.day}-${be.open}-${be.close}`,className:`flex flex-wrap items-center justify-between gap-3 rounded-2xl border px-4 py-3 shadow-sm ${Z?"border-indigo-200 bg-indigo-50/60":"border-slate-100 bg-white"}`},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement("p",{className:"text-sm font-semibold text-slate-900"},ut),Z&&e.createElement("span",{className:"rounded-full bg-indigo-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.2em] text-indigo-600"},"Aujourd'hui")),e.createElement("p",{className:"text-xs text-slate-500"},et)),e.createElement("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${be.closed?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-700"}`},e.createElement("span",{className:`h-2 w-2 rounded-full ${be.closed?"bg-rose-500":"bg-emerald-500"}`}),be.closed?"Ferm":"Ouvert"))})):e.createElement("div",{className:"px-6 py-5"},e.createElement("p",{className:"text-sm text-slate-500"},"Pas encore dhoraire organis."))),e.createElement("article",{className:"rounded-3xl border border-gray-100 bg-white p-6 shadow-sm text-center"},e.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500"},"Note moyenne"),e.createElement("div",{className:"mt-3 flex items-center justify-center gap-2"},e.createElement(rr,{className:"h-6 w-6 text-yellow-500"}),e.createElement("span",{className:"text-4xl font-bold text-gray-900"},Sc(xe))),e.createElement("p",{className:"mt-2 text-xs text-gray-500"},hu(He)," avis vrifis")))),e.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-emerald-50/30 via-white to-teal-50/20 p-8 shadow-xl"},e.createElement("div",{className:"flex items-center justify-between gap-4 mb-6"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 shadow-md"},e.createElement(Xt,{size:24,className:"text-emerald-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Produits les plus vendus"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Les 5 meilleures ventes de cette boutique"))),e.createElement("div",{className:"hidden sm:flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-100 to-teal-100 px-4 py-2 border border-emerald-200 shadow-sm"},e.createElement(Uo,{size:18,className:"text-emerald-600"}),e.createElement("span",{className:"text-xs font-bold text-emerald-700"},"Top Ventes"))),de?e.createElement("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-5"},[1,2,3,4,5].map(be=>e.createElement("div",{key:be,className:"animate-pulse rounded-2xl border border-gray-200 bg-gray-100 aspect-square"}))):ne&&te.length===0?e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},e.createElement(_t,{size:20,className:"text-red-600 flex-shrink-0"}),e.createElement("p",{className:"text-sm font-medium text-red-800"},ne)):te.length>0?e.createElement("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-5"},te.map((be,ut)=>e.createElement("div",{key:be._id,className:"group relative overflow-hidden rounded-2xl border-2 border-gray-200 bg-white shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:scale-105"},e.createElement("div",{className:"absolute top-2 left-2 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 text-white shadow-lg ring-2 ring-white"},e.createElement("span",{className:"text-sm font-black"},"#",ut+1)),e.createElement(pe,{to:ar(be),...fe,className:"block aspect-square overflow-hidden bg-gray-100"},e.createElement("img",{src:be.images?.[0]||be.image||"/api/placeholder/200/200",alt:be.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"})),e.createElement("div",{className:"p-3 space-y-2"},e.createElement(pe,{to:ar(be),...fe,className:"block"},e.createElement("h3",{className:"text-xs font-bold text-gray-900 line-clamp-2 group-hover:text-emerald-600 transition-colors"},be.title)),e.createElement("div",{className:"flex items-baseline gap-1"},e.createElement("span",{className:"text-sm font-black text-gray-900"},pT(be.price)),be.priceBeforeDiscount&&be.priceBeforeDiscount>be.price&&e.createElement("span",{className:"text-[10px] text-gray-400 line-through"},pT(be.priceBeforeDiscount))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2 py-1 border border-emerald-200"},e.createElement(Xt,{size:10,className:"text-emerald-600"}),e.createElement("span",{className:"text-[10px] font-bold text-emerald-700"},hu(be.salesCount||0)," vente",be.salesCount>1?"s":"")),be.ratingAverage>0&&e.createElement("div",{className:"flex items-center gap-0.5"},e.createElement(rr,{size:10,className:"text-amber-400 fill-amber-400"}),e.createElement("span",{className:"text-[10px] font-semibold text-gray-600"},Number(be.ratingAverage).toFixed(1)))))))):e.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-8 text-center"},e.createElement(Xt,{size:32,className:"text-gray-400 mx-auto mb-3"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun produit vendu pour le moment."))),e.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/30 p-8 shadow-xl"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(Ot,{size:24,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Produits de la boutique"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},at.length," produit",at.length>1?"s":""," disponible",at.length>1?"s":""))),Le.length>0&&e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>E("all"),className:`inline-flex items-center gap-2 rounded-xl border-2 px-4 py-2 text-xs font-bold transition-all duration-200 ${w==="all"?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 shadow-md scale-105":"border-gray-200 bg-white text-gray-600 hover:border-indigo-300 hover:bg-indigo-50"}`},e.createElement(pN,{size:14}),"Tous"),Le.map(be=>e.createElement("button",{key:be,type:"button",onClick:()=>E(be),className:`inline-flex items-center gap-2 rounded-xl border-2 px-4 py-2 text-xs font-bold transition-all duration-200 ${w===be?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 shadow-md scale-105":"border-gray-200 bg-white text-gray-600 hover:border-indigo-300 hover:bg-indigo-50"}`},be)))),at.length?e.createElement("div",{className:"mt-6 grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},at.map(be=>e.createElement(Da,{key:be._id,p:be,hideMobileDiscountBadge:!0}))):e.createElement("div",{className:"mt-6 rounded-2xl border border-dashed border-gray-300 bg-slate-50 px-6 py-12 text-center"},e.createElement("p",{className:"text-lg font-semibold text-gray-700"},Le.length&&w!=="all"?`Aucun produit dans la catgorie ${w}.`:"Aucun produit publi pour le moment."),e.createElement(pe,{to:"/",className:"mt-4 inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700"},"Retour  laccueil"))),B&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8"},e.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl border border-gray-200 bg-white shadow-2xl max-h-[90vh] flex flex-col"},e.createElement("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-4 border-b border-gray-200 bg-white px-6 py-5 rounded-t-3xl"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100"},e.createElement(br,{size:20,className:"text-amber-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Tous les commentaires"),e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},Y.length," commentaire",Y.length>1?"s":""))),e.createElement("button",{type:"button",onClick:ft,className:"flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 text-gray-500 transition-all duration-200 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","aria-label":"Fermer"},e.createElement(_t,{size:20}))),e.createElement("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4"},J?e.createElement("div",{className:"flex items-center justify-center py-12"},e.createElement("div",{className:"flex flex-col items-center gap-3"},e.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des commentaires"))):he?e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},e.createElement(_t,{size:20,className:"text-red-600 flex-shrink-0"}),e.createElement("p",{className:"text-sm font-medium text-red-800"},he)):Y.length?Y.map(be=>e.createElement("div",{key:`modal-${be._id}`,className:"group rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-200 hover:shadow-md hover:border-indigo-200"},e.createElement("div",{className:"flex items-start gap-4"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex-shrink-0"},e.createElement("span",{className:"text-base font-bold text-indigo-600"},(be.user?.name||be.user?.shopName||"U").charAt(0).toUpperCase())),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center justify-between gap-3 mb-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("p",{className:"text-sm font-bold text-gray-900"},be.user?.name||be.user?.shopName||"Utilisateur"),e.createElement("div",{className:"flex items-center gap-1"},[1,2,3,4,5].map(ut=>e.createElement(rr,{key:ut,size:14,className:ut<=be.rating?"text-amber-400 fill-amber-400":"text-gray-300"}))),e.createElement("span",{className:"text-xs font-semibold text-gray-600"},Sc(be.rating))),e.createElement("span",{className:"text-xs text-gray-400 whitespace-nowrap"},UE(be.createdAt))),e.createElement("p",{className:"text-sm text-gray-700 leading-relaxed"},be.comment||"Pas de commentaire."))))):e.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-12 text-center"},e.createElement(br,{size:48,className:"text-gray-400 mx-auto mb-4"}),e.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun commentaire pour cette boutique.")))))))}const cp=[{title:"Paiements scuriss",description:"Tous les paiements vers ETS HD Tech Filial sont vrifis manuellement avant la mise en ligne dune annonce."},{title:"Vendeurs vrifis",description:"Les boutiques et les particuliers doivent fournir des informations valides pour publier sur HDMarket."},{title:"Service client ractif",description:"Notre support rpond sous 24h ouvres par email ou WhatsApp pour toute rclamation ou assistance."}];function yu(t=[]){const r=Date.now();return t.map((a,n)=>({...a,id:a.id||`condition-${r}-${n}`}))}function gT(t=[]){return t.map(({title:r,description:a})=>({title:(r||"").trim(),description:(a||"").trim()}))}function Sie(){const{user:t}=g.useContext(fr),r=t?.role==="admin",[a,n]=g.useState("ETS HD Tech Filial"),[s,o]=g.useState(()=>yu(cp)),[i,d]=g.useState({title:"",description:""}),[u,m]=g.useState(null),[p,f]=g.useState(""),[y,b]=g.useState(!0),[w,E]=g.useState(!1),[x,N]=g.useState("");g.useEffect(()=>{let O=!0;return(async()=>{b(!0);try{const{data:D}=await se.get("/support/help-center");if(!O)return;const j=Array.isArray(D?.conditions)&&D.conditions.length?D.conditions:cp;n(D?.companyName||"ETS HD Tech Filial"),o(yu(j)),N("")}catch(D){if(!O)return;o(yu(cp)),N(D.response?.data?.message||D.message||"Impossible de charger les conditions pour le moment.")}finally{O&&b(!1)}})(),()=>{O=!1}},[]),g.useEffect(()=>{if(!p)return;const O=setTimeout(()=>f(""),3e3);return()=>clearTimeout(O)},[p]);const k=g.useMemo(()=>[{label:"Entreprise",value:a},{label:"Sige social",value:"Brazzaville, Congo"},{label:"Support 24/7",value:"support@hdmarket.cg"},{label:"WhatsApp",value:"+242 06 000 00 00"}],[a]),A=g.useCallback(async(O,R)=>{if(!r)return f("Seuls les administrateurs peuvent enregistrer des changements."),!1;E(!0);try{const D={companyName:a,conditions:gT(O)},{data:j}=await se.put("/support/help-center",D),$=Array.isArray(j?.conditions)&&j.conditions.length?j.conditions:gT(O);return o(yu($)),n(j?.companyName||a),f(R||"Modifications enregistres."),N(""),!0}catch(D){return f(D.response?.data?.message||D.message||"Impossible denregistrer les modifications."),!1}finally{E(!1)}},[a,r]),P=O=>{if(!r){f("Seuls les administrateurs peuvent modifier les conditions.");return}m(O.id),d({title:O.title,description:O.description})},S=async O=>{if(O.preventDefault(),!r){f("Seuls les administrateurs peuvent enregistrer des changements.");return}if(!i.title.trim()||!i.description.trim()){f("Merci de renseigner un titre et un contenu.");return}const R={title:i.title.trim(),description:i.description.trim()},D=u?s.map($=>$.id===u?{...$,...R}:$):[{id:`condition-${Date.now()}`,...R},...s];await A(D,u?"Condition mise  jour avec succs.":"Nouvelle condition ajoute.")&&(d({title:"",description:""}),m(null))},_=()=>{m(null),d({title:"",description:""})},T=async()=>{if(!r){f("Seuls les administrateurs peuvent restaurer la version officielle.");return}const O=yu(cp);await A(O,"Conditions par dfaut restaures.")&&(m(null),d({title:"",description:""}))};return e.createElement("div",{className:"bg-gray-50 min-h-screen"},e.createElement("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-10"},e.createElement("header",{className:"space-y-3"},e.createElement("p",{className:"text-xs font-semibold uppercase tracking-widest text-indigo-600"},a),e.createElement("h1",{className:"text-3xl font-extrabold text-gray-900"},"Aide et service client"),e.createElement("p",{className:"text-sm text-gray-600 max-w-2xl"},"Retrouvez les conditions d'utilisation de la plateforme HDMarket, gre par ETS HD Tech Filial, et mettez-les  jour facilement grce au formulaire ddi.")),x&&e.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700"},x),e.createElement("section",{className:"grid gap-4 sm:grid-cols-2"},e.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"rounded-xl bg-indigo-100 p-3 text-indigo-600"},e.createElement(_r,{size:20})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Conditions vrifies"),e.createElement("p",{className:"text-sm text-gray-500"},"Politique de confiance et modration."))),e.createElement("ul",{className:"mt-4 space-y-2 text-sm text-gray-700"},k.map(O=>e.createElement("li",{key:O.label},e.createElement("span",{className:"font-semibold"},O.label," :")," ",O.value)))),e.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Contactez-nous"),e.createElement("div",{className:"space-y-3 text-sm text-gray-700"},e.createElement("p",{className:"flex items-center gap-2"},e.createElement(Ri,{size:16,className:"text-indigo-600"}),"support@hdmarket.cg"),e.createElement("p",{className:"flex items-center gap-2"},e.createElement(yo,{size:16,className:"text-green-600"}),"+242 06 000 00 00"),e.createElement("p",{className:"flex items-center gap-2"},e.createElement(fa,{size:16,className:"text-emerald-600"}),"Assistance WhatsApp disponible 7j/7")),e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner aux annonces"))),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},e.createElement("div",{className:"flex items-center justify-between flex-wrap gap-2"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},e.createElement(gn,{size:20,className:"text-indigo-600"}),"Conditions d'utilisation actuelles"),r?e.createElement("button",{type:"button",onClick:T,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:w},e.createElement(Bc,{size:14}),"Restaurer la version officielle"):e.createElement("p",{className:"text-xs font-medium text-gray-500"},"Lecture seule  modifiable par les administrateurs.")),e.createElement("ul",{className:"space-y-4"},y?e.createElement("li",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500"},"Chargement des conditions"):s.map(O=>e.createElement("li",{key:O.id,className:"rounded-xl border border-gray-100 bg-gray-50 p-4 text-sm text-gray-700 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between gap-3"},e.createElement("p",{className:"text-base font-semibold text-gray-900"},O.title),r&&e.createElement("button",{type:"button",onClick:()=>P(O),className:"inline-flex items-center gap-1 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},e.createElement(Bu,{size:14}),"Modifier")),e.createElement("p",{className:"mt-2 text-gray-600"},O.description))))),r&&e.createElement("section",{className:"rounded-2xl border border-indigo-100 bg-white p-5 shadow-lg space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"rounded-xl bg-indigo-50 p-3 text-indigo-600"},e.createElement(gn,{size:20})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Ajouter ou mettre  jour une condition"),e.createElement("p",{className:"text-sm text-gray-500"},"Ce formulaire vous permet de garder les conditions  jour sans crire de code."))),p&&e.createElement("div",{className:"flex items-center gap-2 rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800"},e.createElement(xr,{size:16}),p),e.createElement("form",{className:"space-y-4",onSubmit:S},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Titre"),e.createElement("input",{type:"text",value:i.title,onChange:O=>d(R=>({...R,title:O.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Ex: Politique de remboursement"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Description"),e.createElement("textarea",{value:i.description,onChange:O=>d(R=>({...R,description:O.target.value})),rows:4,className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Dcrivez clairement la condition d'utilisation."})),e.createElement("div",{className:"flex flex-wrap items-center gap-3"},e.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:w},e.createElement(xd,{size:16}),w?"Enregistrement":u?"Mettre  jour":"Ajouter la condition"),u&&e.createElement("button",{type:"button",onClick:_,className:"text-sm font-semibold text-gray-600 hover:text-gray-800",disabled:w},"Annuler la modification"))))))}function Cie(){const{user:t}=g.useContext(fr),r=t?.role==="admin",[a,n]=g.useState([]),[s,o]=g.useState([]),i=g.useMemo(()=>a.length?a.reduce((z,Q)=>{if(!z)return Q;const ee=Number(z.ratingCount??0),H=Number(Q.ratingCount??0);if(H>ee)return Q;if(H===ee){const q=Number(z.ratingAverage??0);return Number(Q.ratingAverage??0)>q?Q:z}return z},null):null,[a]),d=g.useMemo(()=>a.length?[...a].sort((z,Q)=>Number(Q.followersCount??0)-Number(z.followersCount??0)).slice(0,3):[],[a]),[u,m]=g.useState({}),[p,f]=g.useState(!0),[y,b]=g.useState(""),[w,E]=g.useState(new Map),[x,N]=g.useState(!1),[k,A]=g.useState("");g.useEffect(()=>{let z=!0;return(async()=>{f(!0),b("");try{const{data:ee}=await se.get("/shops",{params:{withImages:!0,imageLimit:6}}),H=Array.isArray(ee)?ee:[],q=H.filter(Y=>Y.shopVerified),B=H.filter(Y=>!Y.shopVerified);if(!z)return;n(q),o(B);const G=new Map;if(await Promise.all(q.slice(0,20).map(async Y=>{try{const V=Y.slug||Y._id;if(!V)return;const{data:J}=await se.get(`/shops/${V}`,{params:{limit:6}});if(z&&J?.products){const ue=Array.isArray(J.products)?J.products:[];G.set(Y._id,ue.slice(0,6))}}catch{}})),z&&E(G),r)try{const{data:Y}=await se.get("/admin/shops/verified");if(!z)return;const V={};(Y||[]).forEach(J=>{V[J.id]=J}),m(V)}catch(Y){console.error("Erreur chargement meta admin:",Y)}else m({})}catch(ee){if(!z)return;b(ee.response?.data?.message||ee.message||"Impossible de charger les boutiques."),n([]),o([])}finally{z&&f(!1)}})(),()=>{z=!1}},[r]),g.useMemo(()=>r?"Boutiques vrifies (Admin)":"Boutiques vrifies",[r]);const P=g.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),S=g.useMemo(()=>z=>{if(!z)return"";if(/^https?:\/\//i.test(z))return z;const Q=z.replace(/\\/g,"/");return`${P}/${Q.replace(/^\/+/,"")}`},[P]),_=g.useMemo(()=>{const z=new Map;return a.forEach(Q=>{const ee=Array.isArray(Q.sampleImages)?Q.sampleImages:[],H=Q.shopBanner?S(Q.shopBanner):"",q=Q.shopLogo?S(Q.shopLogo):"",G=[...ee.filter(Boolean).map(S).filter(V=>V&&V!==H&&V!==q)];for(let V=G.length-1;V>0;V-=1){const J=Math.floor(Math.random()*(V+1));[G[V],G[J]]=[G[J],G[V]]}const Y=G.slice(0,6);z.set(Q._id,Y)}),z},[a,S]),T=g.useMemo(()=>Number(a.length||0).toLocaleString("fr-FR"),[a.length]),O=g.useMemo(()=>{if(!a.length)return[];const z=[...a];for(let Q=z.length-1;Q>0;Q-=1){const ee=Math.floor(Math.random()*(Q+1));[z[Q],z[ee]]=[z[ee],z[Q]]}return z},[a]),R=z=>{if(!z)return"Rcemment";const Q=new Date,ee=new Date(z),H=Q-ee,q=Math.floor(H/(1e3*60*60*24));return q<1?"Aujourd'hui":q===1?"Hier":q<7?`Il y a ${q} jours`:q<30?`Il y a ${Math.floor(q/7)} semaines`:ee.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},D=z=>`${Number(z||0).toLocaleString("fr-FR")} FCFA`,j=z=>Number(z||0).toLocaleString("fr-FR"),$=g.useMemo(()=>{const z=[...a,...s];if(!k.trim())return z;const Q=k.toLowerCase().trim();return z.filter(ee=>ee.shopName?.toLowerCase().includes(Q)||ee.shopAddress?.toLowerCase().includes(Q)||ee.name?.toLowerCase().includes(Q))},[a,s,k]),K=g.useMemo(()=>$.filter(z=>z.shopVerified),[$]),W=g.useMemo(()=>$.filter(z=>!z.shopVerified),[$]);return e.createElement("div",{className:"min-h-screen bg-white"},e.createElement("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 shadow-sm"},e.createElement("div",{className:"max-w-2xl mx-auto px-4 py-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(_r,{className:"w-5 h-5 text-emerald-600"}),e.createElement("h1",{className:"text-lg font-black text-gray-900"},r?"Boutiques Vrifies (Admin)":"Boutiques Vrifies")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"text-xs text-gray-500 font-semibold"},T," boutiques"),e.createElement("button",{onClick:()=>N(!0),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-1.5 text-xs font-semibold text-indigo-700 hover:bg-indigo-100 hover:border-indigo-300 transition-all duration-200"},e.createElement(pN,{size:14}),"Voir toutes les boutiques"))))),e.createElement("div",{className:"max-w-2xl mx-auto px-4 py-4 space-y-4"},p?e.createElement("div",{className:"space-y-4"},[1,2,3].map(z=>e.createElement("div",{key:z,className:"bg-white rounded-2xl border border-gray-200 p-4 animate-pulse"},e.createElement("div",{className:"flex gap-3 mb-4"},e.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-4 w-32 bg-gray-200 rounded"}),e.createElement("div",{className:"h-3 w-24 bg-gray-200 rounded"}))),e.createElement("div",{className:"grid grid-cols-3 gap-2 mb-4"},[1,2,3,4,5,6].map(Q=>e.createElement("div",{key:Q,className:"aspect-square bg-gray-200 rounded-xl"})))))):y?e.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 text-center"},e.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},e.createElement(_r,{className:"w-6 h-6 text-red-600"})),e.createElement("p",{className:"text-red-700 font-semibold"},y)):a.length?e.createElement("div",{className:"space-y-4"},O.map(z=>{const Q=u[String(z._id)],ee=w.get(z._id)||[],H=_.get(z._id)||[],q=ee.length>0?ee:H.slice(0,6).map((J,ue)=>({images:[J],_id:`img-${ue}`})),B=ee.length>0&&ee[0]?.createdAt?R(ee[0].createdAt):z.createdAt?R(z.createdAt):"Rcemment",G=d.findIndex(J=>J._id===z._id),Y=G>=0&&G<3,V=i?._id===z._id;return e.createElement("div",{key:z._id,className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow"},e.createElement("div",{className:"p-4 border-b border-gray-100"},e.createElement("div",{className:"flex items-start justify-between gap-3"},e.createElement("div",{className:"flex items-center gap-3 flex-1 min-w-0"},e.createElement("div",{className:"relative flex-shrink-0"},e.createElement("img",{src:z.shopLogo||"/api/placeholder/60/60",alt:z.shopName,className:"w-12 h-12 rounded-full object-cover border-2 border-indigo-200"}),e.createElement("div",{className:"absolute -bottom-1 -left-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-lg"},"Vrifi")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},z.shopName),e.createElement(dn,{verified:!0,showLabel:!1}),Y&&e.createElement("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full"},e.createElement(Uo,{className:"w-3 h-3"}),"TOP",G+1),V&&e.createElement("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full"},e.createElement(xz,{className:"w-3 h-3"}),"#1")),e.createElement("div",{className:"flex items-center gap-2 text-xs text-gray-500"},e.createElement(pn,{className:"w-3 h-3"}),e.createElement("span",null,B)))),e.createElement("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors"},e.createElement(Sz,{className:"w-5 h-5"})))),q.length>0&&e.createElement("div",{className:"p-4"},e.createElement("div",{className:"grid grid-cols-3 gap-2"},q.slice(0,6).map((J,ue)=>{const he=J.images?.[0]||J.image||"/api/placeholder/200/200",Oe=J.slug?ar({slug:J.slug,_id:J._id}):la(z),te=J.title||J.price;return e.createElement(pe,{key:J._id||`product-${ue}`,to:Oe,className:"group relative aspect-square overflow-hidden rounded-xl bg-gray-100"},e.createElement("img",{src:he,alt:J.title||`Produit ${ue+1}`,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}),J.discount>0&&e.createElement("div",{className:"absolute top-1 left-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[9px] font-black px-1.5 py-0.5 rounded shadow-lg z-10"},"-",J.discount,"%"),te&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20"},e.createElement("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 text-white"},J.title&&e.createElement("p",{className:"text-xs font-bold mb-1.5 line-clamp-2 leading-tight"},J.title),J.price&&e.createElement("div",{className:"flex items-baseline gap-2 mb-2"},e.createElement("p",{className:"text-sm font-black text-white"},D(J.price)),J.priceBeforeDiscount&&J.priceBeforeDiscount>J.price&&e.createElement("p",{className:"text-[10px] text-gray-300 line-through"},D(J.priceBeforeDiscount))),e.createElement("div",{className:"flex items-center gap-3 text-[10px]"},J.ratingAverage>0&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(rr,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),e.createElement("span",{className:"font-semibold"},Number(J.ratingAverage).toFixed(1)),J.ratingCount>0&&e.createElement("span",{className:"text-gray-300"},"(",j(J.ratingCount),")")),J.commentCount>0&&e.createElement("div",{className:"flex items-center gap-1 text-gray-300"},e.createElement(br,{className:"w-3 h-3"}),e.createElement("span",null,j(J.commentCount)))),e.createElement("div",{className:"mt-2 pt-2 border-t border-white/20"},e.createElement("p",{className:"text-[9px] text-white/80 font-medium"},"Cliquer pour voir ")))))}))),e.createElement("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50/50"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},e.createElement("span",{className:"flex items-center gap-1.5"},e.createElement(ur,{className:"w-4 h-4 text-pink-500"}),e.createElement("span",{className:"font-semibold"},j(z.followersCount||0))),e.createElement("span",{className:"flex items-center gap-1.5"},e.createElement(Ga,{className:"w-4 h-4 text-indigo-500"}),e.createElement("span",{className:"font-semibold"},j(z.productCount||0))),e.createElement("span",{className:"flex items-center gap-1.5"},e.createElement(zn,{className:"w-4 h-4 text-gray-500"}),e.createElement("span",{className:"font-semibold"},j(Math.floor((z.productCount||0)*12.5))))),e.createElement(pe,{to:la(z),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-sm hover:shadow-md"},"Voir boutique",e.createElement($r,{className:"w-3 h-3"})))),r&&Q?.shopVerifiedBy&&e.createElement("div",{className:"px-4 py-3 border-t border-gray-100 bg-indigo-50/50"},e.createElement("div",{className:"flex items-center gap-2 text-xs text-indigo-700"},e.createElement(va,{className:"w-3.5 h-3.5"}),e.createElement("span",{className:"font-semibold"},"Vrifie par ",Q.shopVerifiedBy.name),Q.shopVerifiedAt&&e.createElement("span",{className:"text-indigo-600"}," ",new Date(Q.shopVerifiedAt).toLocaleDateString("fr-FR")))))})):e.createElement("div",{className:"bg-white rounded-2xl border-2 border-dashed border-gray-300 p-12 text-center"},e.createElement(Sr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.createElement("p",{className:"text-gray-600 font-semibold"},"Aucune boutique vrifie pour le moment.")),!p&&!y&&s.length>0&&e.createElement("section",{className:"mt-10 space-y-4"},e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase font-semibold text-amber-600 flex items-center gap-2"},e.createElement(_r,{size:16,className:"text-amber-500"}),"Boutiques en attente de vrification"),e.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-1"},"Soumissions rcentes"),e.createElement("p",{className:"text-sm text-gray-500"},"Ces boutiques seront examines prochainement par lquipe HDMarket.")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},s.map(z=>e.createElement(pe,{key:`pending-${z._id}`,to:la(z),className:"rounded-2xl border border-amber-100 bg-white p-4 hover:border-amber-200 hover:shadow-md transition-all space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("img",{src:z.shopLogo||"/api/placeholder/80/80",alt:z.shopName,className:"w-14 h-14 rounded-2xl object-cover border border-amber-100"}),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 truncate"},z.shopName||z.name),e.createElement("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1"},e.createElement(yr,{size:12}),z.shopAddress||"Adresse en cours"))),e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,z.productCount||0," annonce",z.productCount>1?"s":""),e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2 py-1 text-amber-700 border border-amber-100"},"En revue")))))),e.createElement("div",{className:"text-center"},e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner  l'accueil"))),x&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/50 backdrop-blur-sm p-4",onClick:()=>{N(!1),A("")}},e.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-2xl border border-gray-200 max-h-[90vh] flex flex-col",onClick:z=>z.stopPropagation()},e.createElement("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-4 p-6 border-b border-gray-200 bg-white rounded-t-3xl"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(Sr,{size:24,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Toutes les boutiques"),e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},$.length," boutique",$.length>1?"s":""," au total"))),e.createElement("button",{onClick:()=>{N(!1),A("")},className:"flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 text-gray-500 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200","aria-label":"Fermer"},e.createElement(_t,{size:20}))),e.createElement("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{type:"text",value:k,onChange:z=>A(z.target.value),placeholder:"Rechercher une boutique par nom ou adresse...",className:"w-full pl-11 pr-4 py-3 rounded-xl border border-gray-200 bg-white text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-100 transition-all duration-200"}))),e.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-8"},K.length>0&&e.createElement("section",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-100 to-teal-100"},e.createElement(Qt,{size:18,className:"text-emerald-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Boutiques certifies"),e.createElement("p",{className:"text-xs text-gray-500"},K.length," boutique",K.length>1?"s":""," vrifie",K.length>1?"s":""))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},K.map(z=>e.createElement(pe,{key:`certified-${z._id}`,to:la(z),onClick:()=>{N(!1),A("")},className:"group relative rounded-2xl border border-emerald-100 bg-gradient-to-br from-white to-emerald-50/30 p-4 hover:border-emerald-200 hover:shadow-lg transition-all duration-200"},e.createElement("div",{className:"flex items-start gap-3 mb-3"},e.createElement("div",{className:"relative flex-shrink-0"},e.createElement("img",{src:z.shopLogo||"/api/placeholder/60/60",alt:z.shopName,className:"w-14 h-14 rounded-xl object-cover border-2 border-emerald-200"}),e.createElement("div",{className:"absolute -bottom-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 shadow-lg"},e.createElement(Qt,{size:12,className:"text-white"}))),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},z.shopName||z.name),e.createElement(dn,{verified:!0,showLabel:!1})),e.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500"},e.createElement(yr,{size:12}),e.createElement("span",{className:"truncate"},z.shopAddress||"Adresse non renseigne")))),e.createElement("div",{className:"flex items-center justify-between text-xs"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ga,{size:12,className:"text-indigo-500"}),e.createElement("span",{className:"font-semibold"},j(z.productCount||0))),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{size:12,className:"text-pink-500"}),e.createElement("span",{className:"font-semibold"},j(z.followersCount||0)))),e.createElement($r,{size:14,className:"text-gray-400 group-hover:text-indigo-600 transition-colors"})))))),W.length>0&&e.createElement("section",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-amber-100 to-orange-100"},e.createElement(Ut,{size:18,className:"text-amber-600"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Boutiques non certifies"),e.createElement("p",{className:"text-xs text-gray-500"},W.length," boutique",W.length>1?"s":""," en attente de vrification"))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},W.map(z=>e.createElement(pe,{key:`non-certified-${z._id}`,to:la(z),onClick:()=>{N(!1),A("")},className:"group relative rounded-2xl border border-amber-100 bg-gradient-to-br from-white to-amber-50/30 p-4 hover:border-amber-200 hover:shadow-lg transition-all duration-200"},e.createElement("div",{className:"flex items-start gap-3 mb-3"},e.createElement("div",{className:"relative flex-shrink-0"},e.createElement("img",{src:z.shopLogo||"/api/placeholder/60/60",alt:z.shopName,className:"w-14 h-14 rounded-xl object-cover border-2 border-amber-200"}),e.createElement("div",{className:"absolute -bottom-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-amber-400 to-orange-400 shadow-lg"},e.createElement(Ut,{size:12,className:"text-white"}))),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},z.shopName||z.name),e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-700 border border-amber-200"},"En attente")),e.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500"},e.createElement(yr,{size:12}),e.createElement("span",{className:"truncate"},z.shopAddress||"Adresse non renseigne")))),e.createElement("div",{className:"flex items-center justify-between text-xs"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ga,{size:12,className:"text-indigo-500"}),e.createElement("span",{className:"font-semibold"},j(z.productCount||0))),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{size:12,className:"text-pink-500"}),e.createElement("span",{className:"font-semibold"},j(z.followersCount||0)))),e.createElement($r,{size:14,className:"text-gray-400 group-hover:text-indigo-600 transition-colors"})))))),$.length===0&&e.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},e.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 mb-4"},e.createElement(ir,{size:32,className:"text-gray-400"})),e.createElement("p",{className:"text-sm font-semibold text-gray-900 mb-1"},"Aucune boutique trouve"),e.createElement("p",{className:"text-xs text-gray-500"},"Essayez de modifier votre recherche"))))))}const Aie=new Intl.NumberFormat("fr-FR"),er=t=>{const r=Number(t);return!Number.isFinite(r)||r<0?"0":Aie.format(r)},lo=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,ys={listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0,shopsFollowed:0},performance:{views:0,clicks:0,conversion:0},breakdown:{categories:[],conditions:[]},timeline:[],topProducts:[],advertismentSpend:0,orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:{pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},cancelled:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0}}},sales:{totalCount:0,totalAmount:0,byStatus:{pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0},cancelled:{count:0,totalAmount:0}}}}},dp=({icon:t,label:r,value:a,subtitle:n,gradient:s,iconBg:o,trend:i})=>e.createElement("div",{className:"group relative overflow-hidden rounded-2xl bg-white border border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300"},e.createElement("div",{className:`absolute inset-0 ${s.replace("from-","bg-").split(" ")[0]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),e.createElement("div",{className:"relative p-6"},e.createElement("div",{className:"flex items-start justify-between mb-4"},e.createElement("div",{className:`p-3 rounded-xl ${o} shadow-sm`},e.createElement(t,{className:"w-6 h-6 text-white"})),i&&e.createElement("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 border border-emerald-200"},e.createElement(Xt,{className:"w-3 h-3 text-emerald-600"}),e.createElement("span",{className:"text-xs font-bold text-emerald-700"},i))),e.createElement("div",{className:"space-y-1"},e.createElement("p",{className:"text-sm font-medium text-gray-600"},r),e.createElement("p",{className:"text-3xl font-bold text-gray-900"},a),n&&e.createElement("p",{className:"text-xs text-gray-500 mt-2"},n)))),bi=({title:t,value:r,subtitle:a,icon:n,color:s="indigo"})=>{const o={indigo:{icon:"bg-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100",text:"text-indigo-600"},emerald:{icon:"bg-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",text:"text-emerald-600"},amber:{icon:"bg-amber-600",bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-600"},purple:{icon:"bg-purple-600",bg:"bg-purple-50",border:"border-purple-100",text:"text-purple-600"},rose:{icon:"bg-rose-600",bg:"bg-rose-50",border:"border-rose-100",text:"text-rose-600"}},i=o[s]||o.indigo;return e.createElement("div",{className:`rounded-xl border ${i.border} ${i.bg} p-4`},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:`p-2 rounded-lg ${i.icon}`},e.createElement(n,{className:"w-4 h-4 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},r)),e.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide"},t),a&&e.createElement("p",{className:"text-xs text-gray-500 mt-1"},a))};function _ie(){const{user:t}=g.useContext(fr),r=Zr(),[a,n]=g.useState(ys),[s,o]=g.useState(!0),[i,d]=g.useState(""),[u,m]=g.useState([]),[p,f]=g.useState(!1),[y,b]=g.useState(!1),[w,E]=g.useState(!1),[x,N]=g.useState([]),[k,A]=g.useState(!1),[P,S]=g.useState(""),[_,T]=g.useState(!1),[O,R]=g.useState([]),[D,j]=g.useState(!1),[$,K]=g.useState(""),W=t?.accountType==="shop"?la(t):null;g.useEffect(()=>{if(!t)return;let B=!0;return(async()=>{o(!0),d("");try{const{data:Y}=await se.get("/users/profile/stats");if(!B)return;n(V=>({...ys,...Y,listings:{...ys.listings,...Y?.listings||{}},engagement:{...ys.engagement,...Y?.engagement||{}},performance:{...ys.performance,...Y?.performance||{}},breakdown:{categories:Y?.breakdown?.categories||[],conditions:Y?.breakdown?.conditions||[]},timeline:Y?.timeline||[],topProducts:Y?.topProducts||[],advertismentSpend:Y?.advertismentSpend??V.advertismentSpend??0,followedShops:Array.isArray(Y?.followedShops)?Y.followedShops:[],orders:{...ys.orders,...Y?.orders||{},purchases:{...ys.orders.purchases,...Y?.orders?.purchases||{},byStatus:{...ys.orders.purchases.byStatus,...Y?.orders?.purchases?.byStatus||{}}},sales:{...ys.orders.sales,...Y?.orders?.sales||{},byStatus:{...ys.orders.sales.byStatus,...Y?.orders?.sales?.byStatus||{}}}}}))}catch(Y){if(!B)return;d(Y.response?.data?.message||Y.message||"Impossible de charger les statistiques.")}finally{B&&o(!1)}})(),()=>{B=!1}},[t]),g.useEffect(()=>{let B=!0;return(async()=>{if(!t){m([]);return}f(!0);try{const{data:Y}=await se.get("/users/search-history");if(!B)return;m(Array.isArray(Y)?Y:[])}catch{if(!B)return;m([])}finally{B&&f(!1)}})(),()=>{B=!1}},[t]);const z=g.useMemo(()=>Array.isArray(a.followedShops)?a.followedShops:[],[a.followedShops]);g.useEffect(()=>{!t&&!s&&r("/login")},[t,s,r]),g.useEffect(()=>{if(!w)return;let B=!0;return(async()=>{A(!0),S("");try{const{data:Y}=await se.get("/orders?limit=100");if(!B)return;const V=Array.isArray(Y)?Y:Y?.items||[],J=new Map;V.forEach(he=>{(Array.isArray(he.items)?he.items:[]).forEach(te=>{const ie=te.product?._id||te.product||"",de=te.snapshot?.title||te.product?.title||"Produit",Ce=ie||de,ne=Number(te.quantity||1),Ie=Number(te.snapshot?.price||te.product?.price||0)*ne,fe=J.get(Ce);if(fe){fe.quantity+=ne,fe.totalSpent+=Ie;return}J.set(Ce,{key:Ce,product:te.product||null,title:de,image:te.snapshot?.image||te.product?.images?.[0]||null,quantity:ne,totalSpent:Ie})})});const ue=Array.from(J.values()).sort((he,Oe)=>Oe.totalSpent-he.totalSpent);N(ue)}catch(Y){if(!B)return;S(Y.response?.data?.message||"Impossible de charger les produits commands."),N([])}finally{B&&A(!1)}})(),()=>{B=!1}},[w]),g.useEffect(()=>{if(!_)return;let B=!0;return(async()=>{j(!0),K("");try{const{data:Y}=await se.get("/orders/seller?limit=100");if(!B)return;const V=Array.isArray(Y)?Y:Y?.items||[],J=new Map;V.forEach(he=>{(Array.isArray(he.items)?he.items:[]).forEach(te=>{const ie=te.product?._id||te.product||"",de=te.snapshot?.title||te.product?.title||"Produit",Ce=ie||de,ne=Number(te.quantity||1),Ie=Number(te.snapshot?.price||te.product?.price||0)*ne,fe=J.get(Ce);if(fe){fe.quantity+=ne,fe.totalEarned+=Ie;return}J.set(Ce,{key:Ce,product:te.product||null,title:de,image:te.snapshot?.image||te.product?.images?.[0]||null,quantity:ne,totalEarned:Ie})})});const ue=Array.from(J.values()).sort((he,Oe)=>Oe.totalEarned-he.totalEarned);R(ue)}catch(Y){if(!B)return;K(Y.response?.data?.message||"Impossible de charger les produits vendus."),R([])}finally{B&&j(!1)}})(),()=>{B=!1}},[_]);const Q=g.useMemo(()=>a.breakdown.categories.reduce((B,G)=>Math.max(B,G.count||0),0)||1,[a.breakdown.categories]),ee=g.useMemo(()=>a.timeline||[],[a.timeline]),H=g.useMemo(()=>a.orders?.purchases||ys.orders.purchases,[a.orders]),q=g.useMemo(()=>a.orders?.sales||ys.orders.sales,[a.orders]);return t?s?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(B=>e.createElement("div",{key:B,className:"h-40 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):i?e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-16"},e.createElement("div",{className:"max-w-md w-full bg-white rounded-2xl border border-red-200 shadow-xl p-8 text-center"},e.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},e.createElement(_t,{className:"w-8 h-8 text-red-600"})),e.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-gray-600 mb-6"},i),e.createElement("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors"},"Ressayer"))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"bg-indigo-600 text-white"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Qn,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Tableau de bord"),e.createElement("h1",{className:"text-3xl font-bold"},"Statistiques & Performance"))),e.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Analysez vos performances, suivez votre croissance et optimisez votre prsence sur HDMarket.")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement(pe,{to:"/my",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},e.createElement(Ot,{className:"w-4 h-4"}),"Mes annonces"),W&&e.createElement(pe,{to:W,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},e.createElement(Sr,{className:"w-4 h-4"}),"Ma boutique"),e.createElement(pe,{to:"/profile",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},e.createElement(Ia,{className:"w-4 h-4"}),"Mon profil"))))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},e.createElement(dp,{icon:Ot,label:"Annonces totales",value:er(a.listings.total),subtitle:`${er(a.listings.approved)} approuves`,gradient:"bg-indigo-600",iconBg:"bg-indigo-600"}),e.createElement(dp,{icon:ur,label:"Favoris reus",value:er(a.engagement.favoritesReceived),subtitle:`${er(a.engagement.commentsReceived)} commentaires`,gradient:"bg-pink-600",iconBg:"bg-pink-600"}),e.createElement(dp,{icon:zn,label:"Vues totales",value:er(a.performance.views),subtitle:`${er(a.performance.clicks)} clics WhatsApp`,gradient:"bg-purple-600",iconBg:"bg-purple-600"}),e.createElement(dp,{icon:xa,label:"Budget annonces",value:lo(a.advertismentSpend),subtitle:"Total des frais confirms",gradient:"bg-emerald-600",iconBg:"bg-emerald-600"})),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-indigo-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},e.createElement(Ks,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Mes commandes"),e.createElement("p",{className:"text-sm text-gray-600"},er(H.totalCount)," commande(s)"))),H.totalItems>0&&e.createElement("button",{type:"button",onClick:()=>E(!0),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Voir dtails"))),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4"},e.createElement(bi,{title:"Total dpens",value:lo(H.totalAmount),icon:xa,color:"indigo"}),e.createElement(bi,{title:"Acompte vers",value:lo(H.paidAmount),icon:Qt,color:"emerald"})),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement(bi,{title:"Reste  payer",value:lo(H.remainingAmount),icon:Ew,color:"amber"}),e.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4"},e.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2"},"Statuts"),e.createElement("div",{className:"space-y-1 text-xs text-gray-600"},e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"En attente:"),e.createElement("span",{className:"font-semibold"},er(H.byStatus?.pending?.count||0))),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Confirmes:"),e.createElement("span",{className:"font-semibold"},er(H.byStatus?.confirmed?.count||0))),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"En cours:"),e.createElement("span",{className:"font-semibold"},er(H.byStatus?.delivering?.count||0))),e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,"Livres:"),e.createElement("span",{className:"font-semibold"},er(H.byStatus?.delivered?.count||0))),e.createElement("div",{className:"flex justify-between pt-1 border-t border-gray-200"},e.createElement("span",{className:"text-red-600"},"Annules:"),e.createElement("span",{className:"font-semibold text-red-600"},er(H.byStatus?.cancelled?.count||0)))))))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-emerald-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-emerald-600"},e.createElement(Xt,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Mes ventes"),e.createElement("p",{className:"text-sm text-gray-600"},er(q.totalCount)," commande(s)"))),q.totalCount>0&&e.createElement("button",{type:"button",onClick:()=>T(!0),className:"text-xs font-semibold text-emerald-600 hover:text-emerald-700"},"Voir dtails"))),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4"},e.createElement(bi,{title:"Gains estims",value:lo(q.totalAmount),icon:xa,color:"emerald"}),e.createElement(bi,{title:"Commandes",value:er(q.totalCount),icon:Ot,color:"purple"})),e.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4"},e.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-3"},"Rpartition par statut"),e.createElement("div",{className:"grid grid-cols-2 gap-3 text-xs"},e.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},e.createElement("span",{className:"text-gray-600"},"En attente"),e.createElement("span",{className:"font-bold text-gray-900"},er(q.byStatus?.pending?.count||0))),e.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},e.createElement("span",{className:"text-gray-600"},"Confirmes"),e.createElement("span",{className:"font-bold text-gray-900"},er(q.byStatus?.confirmed?.count||0))),e.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},e.createElement("span",{className:"text-gray-600"},"En cours"),e.createElement("span",{className:"font-bold text-gray-900"},er(q.byStatus?.delivering?.count||0))),e.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},e.createElement("span",{className:"text-gray-600"},"Livres"),e.createElement("span",{className:"font-bold text-gray-900"},er(q.byStatus?.delivered?.count||0))),e.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-red-50 border border-red-200 col-span-2"},e.createElement("span",{className:"text-red-600 font-semibold"},"Annules"),e.createElement("span",{className:"font-bold text-red-700"},er(q.byStatus?.cancelled?.count||0)))))))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-purple-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-purple-600"},e.createElement(Sr,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Boutiques suivies"),e.createElement("p",{className:"text-sm text-gray-600"},er(a.engagement.shopsFollowed)," boutique(s)"))),z.length>0&&e.createElement("button",{type:"button",onClick:()=>b(!0),className:"text-xs font-semibold text-purple-600 hover:text-purple-700"},"Voir toutes"))),e.createElement("div",{className:"p-6"},s?e.createElement("div",{className:"space-y-3"},[1,2].map(B=>e.createElement("div",{key:B,className:"h-16 rounded-xl bg-gray-100 animate-pulse"}))):z.length?e.createElement("div",{className:"space-y-3"},z.slice(0,3).map(B=>e.createElement(pe,{key:B._id||B.id,to:la(B),className:"flex items-center gap-3 rounded-xl border border-gray-100 p-3 hover:border-purple-200 hover:bg-purple-50/50 transition-all group"},e.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0"},B.shopLogo?e.createElement("img",{src:B.shopLogo,alt:B.shopName||B.name,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-purple-100 flex items-center justify-center text-purple-600 text-sm font-bold"},(B.shopName||B.name)?.charAt(0)||"B")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 group-hover:text-purple-600 transition-colors truncate"},B.shopName||B.name),e.createElement("p",{className:"text-xs text-gray-500"},er(B.followersCount||0)," abonn(s)")),B.shopVerified&&e.createElement(Uo,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}))),z.length>3&&e.createElement("button",{type:"button",onClick:()=>b(!0),className:"w-full text-center text-sm font-semibold text-purple-600 hover:text-purple-700 py-2"},"Voir ",z.length-3," autre(s) boutique(s)")):e.createElement("div",{className:"text-center py-8"},e.createElement(Sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Aucune boutique suivie"),e.createElement(pe,{to:"/shops/verified",className:"inline-flex items-center gap-2 text-sm font-semibold text-purple-600 hover:text-purple-700"},"Explorer les boutiques",e.createElement(Pr,{className:"w-4 h-4 rotate-180"}))))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-blue-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-blue-600"},e.createElement(JO,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Performance"),e.createElement("p",{className:"text-sm text-gray-600"},"Indicateurs cls")))),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement(bi,{title:"Taux de conversion",value:`${a.performance.conversion}%`,subtitle:"Bas sur vos annonces",icon:Ew,color:"blue"}),e.createElement(bi,{title:"Commentaires",value:er(a.engagement.commentsReceived),subtitle:"Interactions clients",icon:br,color:"purple"}),e.createElement(bi,{title:"Favoris sauvegards",value:er(a.engagement.favoritesSaved),subtitle:"Dans votre liste",icon:ur,color:"rose"}),e.createElement("div",{className:"rounded-xl border border-amber-100 bg-amber-50 p-4"},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("div",{className:"p-2 rounded-lg bg-amber-600"},e.createElement(Nn,{className:"w-4 h-4 text-white"}))),e.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1"},"Statut annonces"),e.createElement("p",{className:"text-sm text-gray-600"},er(a.listings.pending)," en attente"),e.createElement("p",{className:"text-sm text-gray-600"},er(a.listings.rejected)," rejetes")))))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-indigo-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},e.createElement(Qn,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Catgories actives"),e.createElement("p",{className:"text-sm text-gray-600"},"Rpartition de vos annonces")))),e.createElement("div",{className:"p-6"},a.breakdown.categories.length===0?e.createElement("div",{className:"text-center py-8"},e.createElement(Qn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-500"},"Publiez des annonces pour voir vos catgories")):e.createElement("div",{className:"space-y-4"},a.breakdown.categories.map(B=>e.createElement("div",{key:B.category,className:"space-y-2"},e.createElement("div",{className:"flex items-center justify-between text-sm"},e.createElement("span",{className:"font-semibold text-gray-900 capitalize"},B.category),e.createElement("span",{className:"text-gray-600 font-bold"},er(B.count))),e.createElement("div",{className:"h-2.5 rounded-full bg-gray-100 overflow-hidden"},e.createElement("div",{className:"h-full rounded-full bg-indigo-600 transition-all duration-500",style:{width:`${Math.min(B.count/Q*100,100)}%`}}))))))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-pink-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-pink-600"},e.createElement(pn,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Activit mensuelle"),e.createElement("p",{className:"text-sm text-gray-600"},"Publications rcentes")))),e.createElement("div",{className:"p-6"},ee.length===0?e.createElement("div",{className:"text-center py-8"},e.createElement(pn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-500"},"Publiez vos premires annonces")):e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},ee.map(B=>e.createElement("div",{key:`${B.year}-${B.month}`,className:"rounded-xl border border-gray-100 bg-white p-4 text-center hover:border-pink-200 transition-colors"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2"},B.label),e.createElement("p",{className:"text-2xl font-bold text-gray-900 mb-1"},er(B.count)),e.createElement("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{className:"w-3 h-3 text-pink-500"}),er(B.favorites)),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"w-3 h-3 text-green-500"}),er(B.clicks))))))))),a.topProducts.length>0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"bg-amber-50 border-b border-gray-100 px-6 py-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-amber-600"},e.createElement(rr,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Meilleures annonces"),e.createElement("p",{className:"text-sm text-gray-600"},"Vos produits les plus performants")))),e.createElement("div",{className:"p-6"},e.createElement("div",{className:"space-y-4"},a.topProducts.map((B,G)=>e.createElement("div",{key:B._id,className:"flex items-center gap-4 p-4 rounded-xl border border-gray-100 hover:border-amber-200 hover:bg-amber-50/30 transition-all group"},e.createElement("div",{className:"flex-shrink-0"},e.createElement("div",{className:"w-12 h-12 rounded-lg bg-amber-600 flex items-center justify-center text-white font-bold text-sm"},"#",G+1)),e.createElement("img",{src:B.image||"/api/placeholder/80/80",alt:B.title,className:"w-16 h-16 rounded-xl object-cover border border-gray-200"}),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement(pe,{to:ar(B),className:"font-semibold text-gray-900 hover:text-amber-600 transition-colors block truncate"},B.title),e.createElement("p",{className:"text-sm text-gray-500 capitalize truncate"},B.category||"Sans catgorie"),e.createElement("p",{className:"text-sm font-bold text-gray-900 mt-1"},lo(B.price||0))),e.createElement("div",{className:"flex items-center gap-4 text-sm"},e.createElement("div",{className:"flex items-center gap-1 text-pink-600"},e.createElement(ur,{className:"w-4 h-4"}),e.createElement("span",{className:"font-semibold"},er(B.favorites))),e.createElement("div",{className:"flex items-center gap-1 text-green-600"},e.createElement(br,{className:"w-4 h-4"}),e.createElement("span",{className:"font-semibold"},er(B.whatsappClicks)))))))))),y&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>b(!1)}),e.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:B=>B.stopPropagation()},e.createElement("div",{className:"bg-purple-600 text-white px-6 py-5"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Sr,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Boutiques suivies"),e.createElement("h3",{className:"text-xl font-bold mt-1"},z.length?`${z.length} boutique(s)`:"Aucune boutique suivie"))),e.createElement("button",{type:"button",onClick:()=>b(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},e.createElement(_t,{size:20})))),e.createElement("div",{className:"flex-1 overflow-y-auto p-6"},s?e.createElement("div",{className:"space-y-4"},[1,2,3,4].map(B=>e.createElement("div",{key:B,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):z.length?e.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},z.map(B=>e.createElement(pe,{key:B._id||B.id,to:la(B),className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-purple-300 hover:shadow-lg transition-all duration-200",onClick:()=>b(!1)},e.createElement("div",{className:"relative flex-shrink-0"},e.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden ring-2 ring-gray-100 group-hover:ring-purple-200 transition-all"},B.shopLogo?e.createElement("img",{src:B.shopLogo,alt:B.shopName||B.name,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-purple-100 flex items-center justify-center text-purple-600 text-lg font-bold"},(B.shopName||B.name)?.charAt(0)||"B")),B.shopVerified&&e.createElement("div",{className:"absolute -top-1 -right-1 p-1 bg-white rounded-full shadow-md"},e.createElement(Uo,{className:"w-4 h-4 text-emerald-600"}))),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-bold text-gray-900 truncate group-hover:text-purple-600 transition-colors"},B.shopName||B.name),e.createElement("div",{className:"flex items-center gap-3 mt-1 flex-wrap"},B.city&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(yr,{className:"w-3 h-3 text-gray-400"}),e.createElement("p",{className:"text-xs text-gray-500"},B.city)),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Ia,{className:"w-3 h-3 text-gray-400"}),e.createElement("p",{className:"text-xs text-gray-500"},er(B.followersCount||0)," abonn(s)")))),e.createElement(Pr,{className:"w-5 h-5 text-gray-300 group-hover:text-purple-600 rotate-180 transition-colors flex-shrink-0"})))):e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-purple-100 flex items-center justify-center mb-4"},e.createElement(Sr,{className:"w-10 h-10 text-purple-600"})),e.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune boutique suivie"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Commencez  suivre vos boutiques prfres pour les retrouver facilement"),e.createElement(pe,{to:"/shops/verified",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-purple-600 text-white font-semibold hover:bg-purple-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>b(!1)},e.createElement(Sr,{className:"w-4 h-4"}),"Explorer les boutiques"))))),w&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>E(!1)}),e.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:B=>B.stopPropagation()},e.createElement("div",{className:"bg-indigo-600 text-white px-6 py-5"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Ks,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Produits commands"),e.createElement("h3",{className:"text-xl font-bold mt-1"},H.totalItems?`${er(H.totalItems)} produit(s)`:"Aucun produit command"),e.createElement("p",{className:"text-sm text-white/80 mt-1"},"Total dpens: ",lo(H.totalAmount)))),e.createElement("button",{type:"button",onClick:()=>E(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},e.createElement(_t,{size:20})))),e.createElement("div",{className:"flex-1 overflow-y-auto p-6"},k?e.createElement("div",{className:"space-y-4"},[1,2,3,4,5].map(B=>e.createElement("div",{key:B,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):P?e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},e.createElement(_t,{className:"w-8 h-8 text-red-600"})),e.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},P)):x.length?e.createElement("div",{className:"space-y-3"},x.map((B,G)=>{const Y=e.createElement("div",{className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-indigo-300 hover:shadow-lg transition-all duration-200"},e.createElement("div",{className:"flex-shrink-0"},e.createElement("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold text-sm"},"#",G+1)),e.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 ring-2 ring-gray-100 group-hover:ring-indigo-200 transition-all"},B.image?e.createElement("img",{src:B.image,alt:B.title,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-sm font-bold"},B.title?.charAt(0)||"P")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-bold text-gray-900 truncate group-hover:text-indigo-600 transition-colors"},B.title),e.createElement("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ot,{className:"w-3 h-3"}),er(B.quantity)," article(s)"),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(xa,{className:"w-3 h-3"}),lo(B.totalSpent)))),B.product&&e.createElement(Pr,{className:"w-5 h-5 text-gray-300 group-hover:text-indigo-600 rotate-180 transition-colors flex-shrink-0"}));return B.product?e.createElement(pe,{key:B.key,to:ar(B.product),className:"block"},Y):e.createElement("div",{key:B.key},Y)})):e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},e.createElement(Ks,{className:"w-10 h-10 text-indigo-600"})),e.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun produit command"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Vos produits commands apparatront ici"),e.createElement(pe,{to:"/orders",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>E(!1)},e.createElement(Ks,{className:"w-4 h-4"}),"Voir mes commandes"))))),_&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>T(!1)}),e.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:B=>B.stopPropagation()},e.createElement("div",{className:"bg-emerald-600 text-white px-6 py-5"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Xt,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Produits vendus"),e.createElement("h3",{className:"text-xl font-bold mt-1"},q.totalCount?`${er(q.totalCount)} commande(s)`:"Aucune vente"),e.createElement("p",{className:"text-sm text-white/80 mt-1"},"Gains estims: ",lo(q.totalAmount)))),e.createElement("button",{type:"button",onClick:()=>T(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},e.createElement(_t,{size:20})))),e.createElement("div",{className:"flex-1 overflow-y-auto p-6"},D?e.createElement("div",{className:"space-y-4"},[1,2,3,4,5].map(B=>e.createElement("div",{key:B,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):$?e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},e.createElement(_t,{className:"w-8 h-8 text-red-600"})),e.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},$)):O.length?e.createElement("div",{className:"space-y-3"},O.map((B,G)=>{const Y=e.createElement("div",{className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-emerald-300 hover:shadow-lg transition-all duration-200"},e.createElement("div",{className:"flex-shrink-0"},e.createElement("div",{className:"w-12 h-12 rounded-lg bg-emerald-600 flex items-center justify-center text-white font-bold text-sm"},"#",G+1)),e.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 ring-2 ring-gray-100 group-hover:ring-emerald-200 transition-all"},B.image?e.createElement("img",{src:B.image,alt:B.title,className:"h-full w-full object-cover"}):e.createElement("div",{className:"h-full w-full bg-emerald-100 flex items-center justify-center text-emerald-600 text-sm font-bold"},B.title?.charAt(0)||"P")),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-bold text-gray-900 truncate group-hover:text-emerald-600 transition-colors"},B.title),e.createElement("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(Ot,{className:"w-3 h-3"}),er(B.quantity)," article(s)"),e.createElement("span",{className:"flex items-center gap-1 font-semibold text-emerald-600"},e.createElement(xa,{className:"w-3 h-3"}),lo(B.totalEarned)))),B.product&&e.createElement(Pr,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-600 rotate-180 transition-colors flex-shrink-0"}));return B.product?e.createElement(pe,{key:B.key,to:ar(B.product),className:"block"},Y):e.createElement("div",{key:B.key},Y)})):e.createElement("div",{className:"text-center py-12"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-emerald-100 flex items-center justify-center mb-4"},e.createElement(Xt,{className:"w-10 h-10 text-emerald-600"})),e.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun produit vendu"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Vos produits vendus apparatront ici une fois que vous recevrez des commandes"),e.createElement(pe,{to:"/seller/orders",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-emerald-600 text-white font-semibold hover:bg-emerald-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>T(!1)},e.createElement(Xt,{className:"w-4 h-4"}),"Voir mes ventes")))))):e.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-16"},e.createElement("div",{className:"max-w-md w-full text-center space-y-6"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-600 flex items-center justify-center shadow-xl"},e.createElement(Qn,{className:"w-10 h-10 text-white"})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Accs aux statistiques"),e.createElement("p",{className:"text-gray-600"},"Connectez-vous pour visualiser vos performances et insights personnaliss.")),e.createElement(pe,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200"},e.createElement(Pr,{className:"w-4 h-4"}),"Se connecter")))}function I$({deadline:t,remainingMs:r,isActive:a,onExpire:n}){const[s,o]=g.useState(r||0),[i,d]=g.useState(!1);if(g.useEffect(()=>{if(!a||s<=0){d(!0),n&&n();return}const b=setInterval(()=>{if(t){const w=Date.now(),x=new Date(t).getTime()-w;x<=0?(o(0),d(!0),n&&n(),clearInterval(b)):o(x)}else o(w=>{const E=w-1e3;return E<=0?(d(!0),n&&n(),clearInterval(b),0):E})},1e3);return()=>clearInterval(b)},[t,a,n]),!a||i)return null;const u=Math.floor(s/1e3),m=Math.floor(u/60),p=u%60,f=m<5,y=(b,w)=>`${String(b).padStart(2,"0")}:${String(w).padStart(2,"0")}`;return e.createElement("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border-2 ${f?"bg-red-50 border-red-300 text-red-700 dark:bg-red-900/20 dark:border-red-700 dark:text-red-400":"bg-amber-50 border-amber-300 text-amber-700 dark:bg-amber-900/20 dark:border-amber-700 dark:text-amber-400"}`},e.createElement(Ut,{size:18,className:`${f?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`}),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"text-xs font-semibold uppercase tracking-wide mb-0.5"},"Dlai d'annulation"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("span",{className:"text-lg font-black tabular-nums"},y(m,p)),e.createElement("span",{className:"text-xs font-medium"},"restant",m>1?"s":""))),f&&e.createElement(xr,{size:16,className:"text-red-600 dark:text-red-400 animate-pulse"}))}const Pie=["Brazzaville","Pointe-Noire","Ouesso","Oyo"];function Tie({isOpen:t,onClose:r,order:a,onSave:n}){const[s,o]=g.useState(""),[i,d]=g.useState("Brazzaville"),[u,m]=g.useState(!1),[p,f]=g.useState("");if(g.useEffect(()=>{t&&a&&(o(a.deliveryAddress||""),d(a.deliveryCity||"Brazzaville"),f(""))},[t,a]),!t)return null;const y=async w=>{if(w.preventDefault(),f(""),!s.trim()||s.trim().length<4){f("L'adresse doit contenir au moins 4 caractres.");return}m(!0);try{await n({deliveryAddress:s.trim(),deliveryCity:i}),r()}catch(E){f(E.response?.data?.message||"Impossible de modifier l'adresse.")}finally{m(!1)}},b=a&&a.status!=="delivering"&&a.status!=="delivered"&&a.status!=="cancelled";return e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md"},e.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30"},e.createElement(yr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})),e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Modifier l'adresse de livraison")),e.createElement("button",{type:"button",onClick:r,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},e.createElement(_t,{size:20}))),e.createElement("form",{onSubmit:y,className:"p-6 space-y-4"},!b&&e.createElement("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},e.createElement(xr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300"},"Modification impossible"),e.createElement("p",{className:"text-xs text-red-700 dark:text-red-400 mt-1"},"L'adresse ne peut tre modifie que pour les commandes en attente ou confirmes, avant l'expdition."))),p&&e.createElement("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},e.createElement("p",{className:"text-sm text-red-700 dark:text-red-300"},p)),b&&e.createElement(e.Fragment,null,a&&e.createElement("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600"},e.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"},"Adresse actuelle"),e.createElement("p",{className:"text-sm font-medium text-gray-900 dark:text-white"},a.deliveryAddress),e.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1"},a.deliveryCity)),e.createElement("div",null,e.createElement("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Nouvelle adresse de livraison *"),e.createElement("textarea",{id:"deliveryAddress",value:s,onChange:w=>o(w.target.value),placeholder:"Entrez la nouvelle adresse complte...",rows:3,required:!0,minLength:4,maxLength:300,className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"}),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Minimum 4 caractres, maximum 300 caractres")),e.createElement("div",null,e.createElement("label",{htmlFor:"deliveryCity",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Ville *"),e.createElement("select",{id:"deliveryCity",value:i,onChange:w=>d(w.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},Pie.map(w=>e.createElement("option",{key:w,value:w},w)))),e.createElement("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"},e.createElement("p",{className:"text-xs text-blue-800 dark:text-blue-300"},e.createElement("span",{className:"font-semibold"},"Note :")," La modification de l'adresse sera notifie aux vendeurs concerns."))),e.createElement("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("button",{type:"button",onClick:r,disabled:u,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all disabled:opacity-50"},"Annuler"),b&&e.createElement("button",{type:"submit",disabled:u||!s.trim(),className:"flex-1 px-4 py-2.5 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"},u?"Enregistrement...":"Enregistrer")))))}const up={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine",cancelled:"Commande annule"},mp={pending:{header:"bg-gray-600",card:"bg-gray-50 border-gray-200 text-gray-700"},confirmed:{header:"bg-amber-600",card:"bg-amber-50 border-amber-200 text-amber-800"},delivering:{header:"bg-blue-600",card:"bg-blue-50 border-blue-200 text-blue-800"},delivered:{header:"bg-emerald-600",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},cancelled:{header:"bg-red-600",card:"bg-red-50 border-red-200 text-red-800"}},hT={pending:Ut,confirmed:Ot,delivering:Tr,delivered:Qt,cancelled:_t},Oie=[{key:"all",label:"Toutes",icon:ca,count:null},{key:"pending",label:"En attente",icon:Ut,count:null},{key:"confirmed",label:"Confirmes",icon:Ot,count:null},{key:"delivering",label:"En livraison",icon:Tr,count:null},{key:"delivered",label:"Livres",icon:Qt,count:null},{key:"cancelled",label:"Annules",icon:_t,count:null}],bu=6,VE=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation par nos quipes.",icon:Ut,color:"gray"},{id:"confirmed",label:"Commande confirme",description:"Un gestionnaire a valid votre commande et prpare l'expdition.",icon:Ot,color:"amber"},{id:"delivering",label:"En cours de livraison",description:"Le colis est pris en charge par le livreur et se dirige vers votre adresse.",icon:Tr,color:"blue"},{id:"delivered",label:"Commande termine",description:"La commande est livre avec succs et archive par nos quipes.",icon:Qt,color:"emerald"},{id:"cancelled",label:"Commande annule",description:"Cette commande a t annule et ne sera pas livre.",icon:_t,color:"red"}],xu=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,co=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Mie=({status:t})=>{const r=VE.findIndex(n=>n.id===t),a=r>=0?r:0;return e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-5"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},e.createElement(Xt,{className:"w-4 h-4 text-white"})),e.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Suivi de commande")),e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},e.createElement("div",{className:"absolute top-0 left-0 w-full bg-indigo-600 transition-all duration-500",style:{height:`${a/(VE.length-1)*100}%`}})),e.createElement("div",{className:"space-y-6 relative"},VE.map((n,s)=>{const o=n.icon,i=a>=s,d=a===s,u={gray:"bg-gray-600",amber:"bg-amber-600",blue:"bg-blue-600",emerald:"bg-emerald-600"};return e.createElement("div",{key:n.id,className:"flex items-start gap-4 relative"},e.createElement("div",{className:`relative z-10 flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${i?`${u[n.color]} border-transparent text-white shadow-lg scale-110`:"border-gray-300 text-gray-400 bg-white"}`},e.createElement(o,{size:16}),d&&e.createElement("div",{className:`absolute inset-0 rounded-full ${u[n.color]} animate-ping opacity-75`})),e.createElement("div",{className:"flex-1 pt-1"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("p",{className:`text-sm font-bold ${i?"text-gray-900":"text-gray-500"}`},n.label),d&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${u[n.color]} text-white`},"En cours"),!d&&i&&e.createElement("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-emerald-100 text-emerald-700"},"Termin")),e.createElement("p",{className:`text-xs ${i?"text-gray-600":"text-gray-400"}`},n.description)))}))))};function yT(){const t=ts(),{user:r}=g.useContext(fr),[a,n]=g.useState([]),[s,o]=g.useState(!1),[i,d]=g.useState(""),[u,m]=g.useState(1),[p,f]=g.useState({total:0,totalPages:1}),[y,b]=g.useState({total:0,totalAmount:0,byStatus:{}}),[w,E]=g.useState(!1),[x,N]=g.useState(!1),[k,A]=g.useState(null),[P,S]=g.useState(!1),[_,T]=g.useState(""),[O,R]=g.useState(""),[D,j]=g.useState({}),[$,K]=g.useState(!1),[W,z]=g.useState({dateFrom:"",dateTo:"",amountMin:"",amountMax:"",shopName:""}),[Q,ee]=g.useState([]),[H,q]=g.useState("card"),[B,G]=g.useState(!1),[Y,V]=g.useState(navigator.onLine),[J,ue]=g.useState(null),[he,Oe]=g.useState(null),[te,ie]=g.useState(null),de=g.useRef(0),Ce=g.useRef(0),[ne,re]=g.useState(0),Ie=g.useRef(null),{status:fe}=Di(),{addItem:Le}=g.useContext(Fl),at=Zr(),nt=g.useMemo(()=>fe&&Object.keys(up).includes(fe)?fe:"all",[fe]);g.useEffect(()=>{const Z=()=>V(!0),Ee=()=>V(!1);return window.addEventListener("online",Z),window.addEventListener("offline",Ee),()=>{window.removeEventListener("online",Z),window.removeEventListener("offline",Ee)}},[]),g.useEffect(()=>{if(a.length>0&&Y)try{localStorage.setItem("cached_orders",JSON.stringify({orders:a,timestamp:Date.now(),status:nt}))}catch(Z){console.warn("Failed to cache orders:",Z)}},[a,Y,nt]),g.useEffect(()=>{if(!Y&&a.length===0)try{const Z=localStorage.getItem("cached_orders");if(Z){const{orders:Ee}=JSON.parse(Z);n(Ee)}}catch(Z){console.warn("Failed to load cached orders:",Z)}},[Y,a.length]);const it=g.useCallback(Z=>{Ie.current?.scrollTop===0&&(de.current=Z.touches[0].clientY)},[]),xe=g.useCallback(Z=>{if(de.current===0)return;Ce.current=Z.touches[0].clientY;const Ee=Ce.current-de.current;Ee>0&&Ee<150&&re(Ee)},[]),He=g.useCallback(async()=>{if(ne>80&&!B&&Y){G(!0);try{const Z=new URLSearchParams;Z.set("page",u),Z.set("limit",bu),nt!=="all"&&Z.set("status",nt);const{data:Ee}=await se.get(`/orders?${Z.toString()}`),le=Array.isArray(Ee)?Ee:Ee?.items||[];n(le),f({total:Ee?.total??le.length,totalPages:Math.max(1,Number(Ee?.totalPages)||1)})}catch(Z){console.error("Refresh failed:",Z)}finally{G(!1)}}de.current=0,Ce.current=0,re(0)},[ne,B,Y,u,nt]),Je=50,xt=(Z,Ee)=>{ie(null),Oe(Z.targetTouches[0].clientX),ue(Ee)},ht=Z=>{ie(Z.targetTouches[0].clientX)},mt=Z=>{if(!he||!te)return;he-te>Je&&Z.cancellationWindow?.isActive&&Z.status!=="cancelled"&&confirm("Annuler cette commande ?")&&We(Z._id),ue(null),Oe(null),ie(null)};g.useEffect(()=>{m(1)},[nt]),g.useEffect(()=>{let Z=!0;return(async()=>{E(!0);try{const{data:le}=await se.get("/orders?limit=1000");if(!Z)return;const Ne=Array.isArray(le)?le:le?.items||[],tt=Ne.length,lt=Ne.reduce((we,ye)=>{const L=(ye.items||(ye.productSnapshot?[{snapshot:ye.productSnapshot,quantity:1}]:[])).reduce((me,Se)=>me+Number(Se.snapshot?.price||0)*Number(Se.quantity||1),0);return we+Number(ye.totalAmount??L)},0),gt=Ne.reduce((we,ye)=>{const ke=ye.status||"pending";return we[ke]=(we[ke]||0)+1,we},{});b({total:tt,totalAmount:lt,byStatus:gt});const F=new Set;Ne.forEach(we=>{(we.items||(we.productSnapshot?[{snapshot:we.productSnapshot}]:[])).forEach(ke=>{ke.snapshot?.shopName&&F.add(ke.snapshot.shopName)})}),ee(Array.from(F).sort())}catch(le){console.error("Error loading stats:",le)}finally{Z&&E(!1)}})(),()=>{Z=!1}},[]);const pt=async Z=>{if(!Z||Z.length===0||!r?._id)return{};try{return(await Promise.all(Z.map(async le=>{try{const{data:Ne}=await se.get(`/orders/${le}/messages`),tt=Array.isArray(Ne)?Ne.filter(lt=>String(lt.recipient?._id)===String(r._id)&&!lt.readAt):[];return{orderId:le,count:tt.length}}catch{return{orderId:le,count:0}}}))).reduce((le,{orderId:Ne,count:tt})=>(le[Ne]=tt,le),{})}catch{return{}}};g.useEffect(()=>{(async()=>{o(!0),d("");try{const Ee=new URLSearchParams;Ee.set("page",u),Ee.set("limit",bu),nt!=="all"&&Ee.set("status",nt);const{data:le}=await se.get(`/orders?${Ee.toString()}`),Ne=Array.isArray(le)?le:le?.items||[],tt=Math.max(1,Number(le?.totalPages)||1);n(Ne);const lt=Ne.map(we=>we._id),gt=await pt(lt);j(gt),f({total:le?.total??Ne.length,totalPages:tt});const F=Number(le?.page);Number.isFinite(F)&&F>0&&F!==u&&m(F)}catch(Ee){d(Ee.response?.data?.message||"Impossible de charger vos commandes."),n([]),f({total:0,totalPages:1})}finally{o(!1)}})()},[nt,u,O,r?._id]),g.useEffect(()=>{const Z=setTimeout(()=>{R(_.trim())},400);return()=>clearTimeout(Z)},[_]),g.useEffect(()=>{m(1)},[nt,O]);const bt=g.useMemo(()=>a.filter(Z=>{if(W.dateFrom){const tt=new Date(Z.createdAt),lt=new Date(W.dateFrom);if(lt.setHours(0,0,0,0),tt<lt)return!1}if(W.dateTo){const tt=new Date(Z.createdAt),lt=new Date(W.dateTo);if(lt.setHours(23,59,59,999),tt>lt)return!1}const le=(Z.items||(Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1}]:[])).reduce((tt,lt)=>tt+Number(lt.snapshot?.price||0)*Number(lt.quantity||1),0),Ne=Number(Z.totalAmount??le);return!(W.amountMin&&Ne<Number(W.amountMin)||W.amountMax&&Ne>Number(W.amountMax)||W.shopName&&!(Z.items||(Z.productSnapshot?[{snapshot:Z.productSnapshot}]:[])).some(gt=>gt.snapshot?.shopName?.toLowerCase().includes(W.shopName.toLowerCase())))}),[a,W]),Pt=W.dateFrom||W.dateTo||W.amountMin||W.amountMax||W.shopName,Ge=()=>{z({dateFrom:"",dateTo:"",amountMin:"",amountMax:"",shopName:""})},ft=Pt?"Aucune commande ne correspond  vos critres de filtrage.":nt==="all"?"Vous n'avez pas encore de commande.":`Aucune commande ${up[nt].toLowerCase()} pour le moment.`,We=async Z=>{if(confirm("tes-vous sr de vouloir annuler cette commande ? Cette action est irrversible."))try{await se.patch(`/orders/${Z}/status`,{status:"cancelled"});const Ee=new URLSearchParams;Ee.set("page",u),Ee.set("limit",bu),nt!=="all"&&Ee.set("status",nt);const{data:le}=await se.get(`/orders?${Ee.toString()}`),Ne=Array.isArray(le)?le:le?.items||[],tt=Math.max(1,Number(le?.totalPages)||1);n(Ne),f({total:le?.total??Ne.length,totalPages:tt})}catch(Ee){alert(Ee.response?.data?.message||"Impossible d'annuler la commande.")}},Ye=Z=>{A(Z),N(!0)},be=async Z=>{if(k)try{await se.patch(`/orders/${k._id}/address`,Z);const Ee=new URLSearchParams;Ee.set("page",u),Ee.set("limit",bu),nt!=="all"&&Ee.set("status",nt);const{data:le}=await se.get(`/orders?${Ee.toString()}`),Ne=Array.isArray(le)?le:le?.items||[],tt=Math.max(1,Number(le?.totalPages)||1);n(Ne),f({total:le?.total??Ne.length,totalPages:tt}),N(!1),A(null)}catch(Ee){throw Ee}},ut=async Z=>{if(!Z||!Z.items||Z.items.length===0)return;S(!0);const Ee=[],le=[];try{for(const Ne of Z.items){const tt=Ne.product?._id||Ne.product,lt=Ne.quantity||1;if(!tt){le.push(Ne.snapshot?.title||"Produit inconnu");continue}try{await Le(tt,lt),Ee.push(Ne.snapshot?.title||"Produit")}catch{le.push(Ne.snapshot?.title||"Produit inconnu")}}if(Ee.length>0){const Ne=le.length>0?`${Ee.length} article(s) ajout(s) au panier. ${le.length} article(s) non disponible(s).`:"Tous les articles ont t ajouts au panier !";alert(Ne),Ee.length>0&&at("/cart")}else le.length>0&&alert("Aucun article n'a pu tre ajout au panier. Les produits peuvent tre indisponibles ou supprims.")}catch{alert("Erreur lors de l'ajout des articles au panier. Veuillez ressayer.")}finally{S(!1)}},et=Z=>{const Ee=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1}]:[],le=Ee.reduce((L,me)=>{const Se=Number(me.snapshot?.price||0),Ae=Number(me.quantity||1);return L+Se*Ae},0),Ne=Number(Z.totalAmount??le),tt=Number(Z.paidAmount||0);Number(Z.remainingAmount??Math.max(0,Ne-tt));const lt=L=>String(L??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),gt=Ee.map((L,me)=>{const Se=lt(L.snapshot?.title||"Produit"),Ae=lt(L.snapshot?.shopName||""),Fe=lt(L.snapshot?.confirmationNumber||""),ct=Number(L.quantity||1),Qe=co(L.snapshot?.price||0),It=co((L.snapshot?.price||0)*ct);return`
          <tr>
            <td>${me+1}</td>
            <td>
              <div class="title">${Se}</div>
              ${Ae?`<div class="meta">Boutique: ${Ae}</div>`:""}
              ${Fe?`<div class="meta">Code: ${Fe}</div>`:""}
            </td>
            <td class="right">x${ct}</td>
            <td class="right">${Qe}</td>
            <td class="right">${It}</td>
          </tr>
        `}).join("");lt(Z._id||"");const F=lt(Z._id?.slice(-6)||""),we=`${window.location.origin}/favicon.svg`,ye=`
      <!doctype html>
      <html lang="fr">
        <head>
          <meta charset="utf-8" />
          <title>Bon de commande ${F}</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body { font-family: "Helvetica Neue", Arial, sans-serif; margin: 32px; color: #111827; }
            .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; }
            .brand { display: flex; align-items: center; gap: 12px; }
            .logo { width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; padding: 6px; }
            .title { font-size: 22px; font-weight: 700; }
            .badge { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #6b7280; }
            table { width: 100%; border-collapse: collapse; margin-top: 24px; }
            th, td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; font-size: 13px; }
            th { background: #f9fafb; font-size: 12px; text-transform: uppercase; letter-spacing: 0.15em; color: #6b7280; }
            .right { text-align: right; }
            .total-row td { font-weight: 700; border-top: 2px solid #111827; }
            @media print {
              body { margin: 0; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="brand">
              <img src="${we}" alt="HDMarket" class="logo" />
              <div>
                <div class="title">Bon de commande</div>
                <div class="badge">HDMarket</div>
              </div>
            </div>
            <div class="right">
              <div class="badge">Commande #${F}</div>
              <div>${lt(new Date(Z.createdAt).toLocaleDateString("fr-FR"))}</div>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Article</th>
                <th class="right">Qt</th>
                <th class="right">Prix</th>
                <th class="right">Total</th>
              </tr>
            </thead>
            <tbody>
              ${gt}
              <tr class="total-row">
                <td colspan="4" class="right">Total commande</td>
                <td class="right">${co(Ne)}</td>
              </tr>
            </tbody>
          </table>
        </body>
      </html>
    `,ke=window.open("","_blank");if(!ke){const L=new Blob([ye],{type:"text/html"}),me=URL.createObjectURL(L);window.location.href=me,setTimeout(()=>URL.revokeObjectURL(me),1500);return}ke.document.open(),ke.document.write(ye),ke.document.close(),ke.focus()};return s&&a.length===0?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},[1,2,3].map(Z=>e.createElement("div",{key:Z,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),e.createElement("div",{className:"space-y-4"},[1,2].map(Z=>e.createElement("div",{key:Z,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):e.createElement("div",{className:"min-h-screen bg-gray-50",ref:Ie,onTouchStart:it,onTouchMove:xe,onTouchEnd:He},ne>0&&e.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-indigo-600 text-white transition-all duration-200",style:{height:Math.min(ne,80)}},e.createElement($i,{className:`w-5 h-5 transition-transform ${ne>80?"animate-spin":""}`,style:{transform:`rotate(${ne*2}deg)`}}),e.createElement("span",{className:"ml-2 text-sm font-medium"},ne>80?"Relchez pour actualiser":"Tirez pour actualiser")),B&&e.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-indigo-600 text-white py-3"},e.createElement($i,{className:"w-5 h-5 animate-spin"}),e.createElement("span",{className:"ml-2 text-sm font-medium"},"Actualisation...")),!Y&&e.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center gap-2 bg-amber-500 text-white py-2 px-4"},e.createElement(oM,{className:"w-4 h-4"}),e.createElement("span",{className:"text-sm font-medium"},"Mode hors ligne - Donnes en cache")),e.createElement("div",{className:`bg-indigo-600 text-white ${Y?"":"mt-10"}`},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(ca,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Mes commandes"),e.createElement("h1",{className:"text-3xl font-bold"},"Suivi de vos commandes"))),e.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Consultez l'tat de vos commandes, suivez les livraisons et accdez  tous les dtails de vos achats.")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},e.createElement(Pr,{className:"w-4 h-4"}),"Accueil"),e.createElement(pe,{to:"/my/stats",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},e.createElement(Xt,{className:"w-4 h-4"}),"Statistiques"))))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!w&&y.total>0&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},e.createElement(ca,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},y.total)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total commandes"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes vos commandes")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},e.createElement(xa,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},co(y.totalAmount))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total dpens"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant total de vos achats")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},e.createElement(Ut,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},y.byStatus.pending||0)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Commandes en cours de traitement"))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8 space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative flex-1 max-w-md"},e.createElement(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.createElement("input",{type:"text",placeholder:"Rechercher par produit, boutique, adresse...",value:_,onChange:Z=>T(Z.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border-2 border-gray-200 bg-white text-sm font-medium text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",title:"Rechercher par nom de produit, nom de boutique, adresse de livraison ou code de livraison"}),_&&e.createElement("button",{type:"button",onClick:()=>T(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},e.createElement(_t,{className:"w-4 h-4"}))),e.createElement("button",{type:"button",onClick:()=>K(!$),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${$||Pt?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`},e.createElement(ks,{className:"w-4 h-4"}),e.createElement("span",null,"Filtres"),Pt&&e.createElement("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-bold bg-white/20"},[W.dateFrom||W.dateTo,W.amountMin||W.amountMax,W.shopName].filter(Boolean).length),$?e.createElement(Lo,{className:"w-4 h-4"}):e.createElement(Ha,{className:"w-4 h-4"})),e.createElement("div",{className:"flex items-center rounded-xl border border-gray-200 bg-gray-50 p-1"},e.createElement("button",{type:"button",onClick:()=>q("card"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${H==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Vue carte"},e.createElement(Np,{className:"w-4 h-4"}),e.createElement("span",{className:"hidden sm:inline"},"Carte")),e.createElement("button",{type:"button",onClick:()=>q("list"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${H==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Vue liste"},e.createElement(aM,{className:"w-4 h-4"}),e.createElement("span",{className:"hidden sm:inline"},"Liste")))),$&&e.createElement("div",{className:"border-t border-gray-100 pt-4 space-y-4"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},e.createElement(pn,{className:"w-3.5 h-3.5"}),"Priode"),e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"date",value:W.dateFrom,onChange:Z=>z(Ee=>({...Ee,dateFrom:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Du"}),e.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Du")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"date",value:W.dateTo,onChange:Z=>z(Ee=>({...Ee,dateTo:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Au"}),e.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Au")))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},e.createElement(xa,{className:"w-3.5 h-3.5"}),"Montant (FCFA)"),e.createElement("div",{className:"flex flex-col gap-2"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"number",value:W.amountMin,onChange:Z=>z(Ee=>({...Ee,amountMin:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Minimum",min:"0"}),e.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Min")),e.createElement("div",{className:"relative"},e.createElement("input",{type:"number",value:W.amountMax,onChange:Z=>z(Ee=>({...Ee,amountMax:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Maximum",min:"0"}),e.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Max")))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},e.createElement(Sr,{className:"w-3.5 h-3.5"}),"Vendeur/Boutique"),e.createElement("select",{value:W.shopName,onChange:Z=>z(Ee=>({...Ee,shopName:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all bg-white"},e.createElement("option",{value:""},"Toutes les boutiques"),Q.map(Z=>e.createElement("option",{key:Z,value:Z},Z)))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-xs font-bold text-transparent"},"Actions"),e.createElement("button",{type:"button",onClick:Ge,disabled:!Pt,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border-2 border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},e.createElement(G5,{className:"w-4 h-4"}),"Rinitialiser"))),Pt&&e.createElement("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-100"},e.createElement("span",{className:"text-xs font-semibold text-gray-500"},"Filtres actifs:"),(W.dateFrom||W.dateTo)&&e.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200 text-xs font-medium text-indigo-700"},e.createElement(pn,{className:"w-3 h-3"}),W.dateFrom&&W.dateTo?`${new Date(W.dateFrom).toLocaleDateString("fr-FR")} - ${new Date(W.dateTo).toLocaleDateString("fr-FR")}`:W.dateFrom?`Depuis ${new Date(W.dateFrom).toLocaleDateString("fr-FR")}`:`Jusqu'au ${new Date(W.dateTo).toLocaleDateString("fr-FR")}`,e.createElement("button",{type:"button",onClick:()=>z(Z=>({...Z,dateFrom:"",dateTo:""})),className:"ml-1 hover:text-indigo-900"},e.createElement(_t,{className:"w-3 h-3"}))),(W.amountMin||W.amountMax)&&e.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-emerald-50 border border-emerald-200 text-xs font-medium text-emerald-700"},e.createElement(xa,{className:"w-3 h-3"}),W.amountMin&&W.amountMax?`${Number(W.amountMin).toLocaleString("fr-FR")} - ${Number(W.amountMax).toLocaleString("fr-FR")} FCFA`:W.amountMin?`Min ${Number(W.amountMin).toLocaleString("fr-FR")} FCFA`:`Max ${Number(W.amountMax).toLocaleString("fr-FR")} FCFA`,e.createElement("button",{type:"button",onClick:()=>z(Z=>({...Z,amountMin:"",amountMax:""})),className:"ml-1 hover:text-emerald-900"},e.createElement(_t,{className:"w-3 h-3"}))),W.shopName&&e.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-amber-50 border border-amber-200 text-xs font-medium text-amber-700"},e.createElement(Sr,{className:"w-3 h-3"}),W.shopName,e.createElement("button",{type:"button",onClick:()=>z(Z=>({...Z,shopName:""})),className:"ml-1 hover:text-amber-900"},e.createElement(_t,{className:"w-3 h-3"}))))),e.createElement("div",{className:"flex flex-wrap gap-2"},Oie.map(Z=>{const Ee=Z.key===nt,le=Z.key==="all"?"/orders":`/orders/${Z.key}`,Ne=Z.icon,tt=Z.key==="all"?y.total:y.byStatus[Z.key]||0;return e.createElement(pe,{key:Z.key,to:le,className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${Ee?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},e.createElement(Ne,{className:"w-4 h-4"}),e.createElement("span",null,Z.label),tt>0&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${Ee?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},tt))}))),i?e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},i)))):bt.length===0?e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},Pt?e.createElement(ks,{className:"w-10 h-10 text-gray-400"}):e.createElement(ca,{className:"w-10 h-10 text-gray-400"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},Pt?"Aucun rsultat":"Aucune commande"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},ft),e.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3"},Pt&&e.createElement("button",{type:"button",onClick:Ge,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-all"},e.createElement(G5,{className:"w-4 h-4"}),"Rinitialiser les filtres"),e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement(ma,{className:"w-4 h-4"}),"Dcouvrir nos produits"))):e.createElement(e.Fragment,null,H==="list"&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},e.createElement("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-gray-50 border-b border-gray-100 text-xs font-bold text-gray-500 uppercase tracking-wide"},e.createElement("div",{className:"col-span-1"},"N"),e.createElement("div",{className:"col-span-3"},"Produit(s)"),e.createElement("div",{className:"col-span-2"},"Boutique"),e.createElement("div",{className:"col-span-2"},"Date"),e.createElement("div",{className:"col-span-2"},"Montant"),e.createElement("div",{className:"col-span-2"},"Statut")),e.createElement("div",{className:"divide-y divide-gray-100"},bt.map(Z=>{const Ee=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1,product:Z.product}]:[],le=Ee.reduce((ke,L)=>ke+Number(L.snapshot?.price||0)*Number(L.quantity||1),0),Ne=Number(Z.totalAmount??le),tt=hT[Z.status]||Ut,lt=mp[Z.status]||mp.pending,gt=Ee[0],F=gt?.snapshot?.shopName||"N/A",we=gt?.snapshot?.title||"Produit",ye=Ee.length;return e.createElement(pe,{key:Z._id,to:`/orders/${Z.status}`,className:"grid grid-cols-1 md:grid-cols-12 gap-2 md:gap-4 px-4 md:px-6 py-4 hover:bg-gray-50 transition-colors items-center"},e.createElement("div",{className:"col-span-1 flex items-center gap-2 md:block"},e.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"N:"),e.createElement("span",{className:"font-bold text-gray-900 text-sm"},"#",Z._id.slice(-6))),e.createElement("div",{className:"col-span-3 flex items-center gap-3"},gt?.snapshot?.image?e.createElement("img",{src:gt.snapshot.image,alt:we,className:"w-10 h-10 rounded-lg object-cover border border-gray-200 flex-shrink-0"}):e.createElement("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center flex-shrink-0"},e.createElement(Ot,{className:"w-5 h-5 text-indigo-600"})),e.createElement("div",{className:"min-w-0"},e.createElement("p",{className:"font-semibold text-gray-900 text-sm truncate"},we),ye>1&&e.createElement("p",{className:"text-xs text-gray-500"},"+",ye-1," autre",ye>2?"s":""))),e.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},e.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Boutique:"),e.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},e.createElement(Sr,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),e.createElement("span",{className:"truncate"},F))),e.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},e.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Date:"),e.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},e.createElement(pn,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),e.createElement("span",null,new Date(Z.createdAt).toLocaleDateString("fr-FR")))),e.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},e.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Montant:"),e.createElement("span",{className:"font-bold text-gray-900 text-sm"},co(Ne))),e.createElement("div",{className:"col-span-2 flex items-center gap-2"},e.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Statut:"),e.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold border ${lt.card}`},e.createElement(tt,{className:"w-3.5 h-3.5"}),up[Z.status])))}))),H==="card"&&e.createElement("div",{className:"space-y-6"},bt.map(Z=>{const Ee=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1,product:Z.product}]:[],le=Ee.reduce((Ae,Fe)=>Ae+Number(Fe.snapshot?.price||0)*Number(Fe.quantity||1),0),Ne=Number(Z.totalAmount??le),tt=Number(Z.paidAmount||0),lt=Number(Z.remainingAmount??Math.max(0,Ne-tt)),gt=!!(tt||Z.paymentTransactionCode||Z.paymentName),we=(Z.createdBy?._id&&Z.customer?._id?Z.createdBy._id===Z.customer._id:!1)?"Vous":Z.createdBy?.name||Z.createdBy?.email||"Admin HDMarket",ye=hT[Z.status]||Ut,ke=mp[Z.status]||mp.pending,L=J===Z._id&&he&&te,me=L?he-te:0,Se=Z.cancellationWindow?.isActive&&Z.status!=="cancelled";return e.createElement("div",{key:Z._id,className:"relative overflow-hidden"},Se&&e.createElement("div",{className:"md:hidden absolute inset-y-0 right-0 w-24 bg-red-500 flex items-center justify-center"},e.createElement("div",{className:"flex flex-col items-center text-white"},e.createElement(Li,{className:"w-5 h-5"}),e.createElement("span",{className:"text-xs mt-1 font-medium"},"Annuler"))),e.createElement("div",{className:"bg-white rounded-2xl border-2 border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative",style:{transform:me>0?`translateX(-${Math.min(me,100)}px)`:"translateX(0)",transition:L?"none":"transform 0.3s ease"},onTouchStart:Ae=>Se&&xt(Ae,Z._id),onTouchMove:Se?ht:void 0,onTouchEnd:()=>Se&&mt(Z)},e.createElement("div",{className:`${ke.header} text-white px-6 py-4`},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm"},e.createElement(ye,{className:"w-5 h-5"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Commande"),e.createElement("h3",{className:"text-lg font-bold"},"#",Z._id.slice(-6)))),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("span",{className:"px-3 py-1.5 rounded-lg bg-white/20 backdrop-blur-sm text-xs font-bold uppercase tracking-wide"},up[Z.status]),e.createElement("button",{type:"button",onClick:()=>et(Z),className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-all",title:"Tlcharger le bon de commande"},e.createElement(Ci,{className:"w-4 h-4"}))))),e.createElement("div",{className:"p-6 space-y-6"},Z.cancellationWindow?.isActive&&Z.status!=="cancelled"&&e.createElement("div",{className:"space-y-3"},e.createElement(I$,{deadline:Z.cancellationWindow.deadline,remainingMs:Z.cancellationWindow.remainingMs,isActive:Z.cancellationWindow.isActive,onExpire:()=>{const Ae=new URLSearchParams;Ae.set("page",u),Ae.set("limit",bu),nt!=="all"&&Ae.set("status",nt),se.get(`/orders?${Ae.toString()}`).then(({data:Fe})=>{const ct=Array.isArray(Fe)?Fe:Fe?.items||[];n(ct)})}}),e.createElement("button",{type:"button",onClick:()=>We(Z._id),className:"w-full px-6 py-3 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2"},e.createElement(_t,{className:"w-5 h-5"}),"Annuler la commande"),e.createElement("p",{className:"text-xs text-gray-500 text-center"},"Vous pouvez annuler cette commande dans les 30 minutes suivant sa cration. Le vendeur ne pourra pas modifier le statut pendant ce dlai.")),e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(Ot,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Articles commands")),e.createElement("div",{className:"space-y-3"},Ee.map((Ae,Fe)=>e.createElement("div",{key:`${Z._id}-${Ae.product||Ae.snapshot?.title||Fe}`,className:"flex items-start gap-4 p-4 rounded-xl border border-gray-100 bg-gray-50/50 hover:bg-gray-100/50 transition-colors"},Ae.snapshot?.image||Ae.product?.images?.[0]?e.createElement("img",{src:Ae.snapshot?.image||Ae.product?.images?.[0],alt:Ae.snapshot?.title||"Produit",className:"w-16 h-16 rounded-xl object-cover border border-gray-200 flex-shrink-0"}):e.createElement("div",{className:"w-16 h-16 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0"},e.createElement(Ot,{className:"w-6 h-6 text-indigo-600"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},Ae.product?e.createElement(pe,{to:ar(Ae.product),...t,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate"},Ae.snapshot?.title||"Produit"):e.createElement("span",{className:"font-bold text-gray-900"},Ae.snapshot?.title||"Produit"),e.createElement("span",{className:"text-sm font-bold text-gray-900 whitespace-nowrap"},co((Ae.snapshot?.price||0)*(Ae.quantity||1)))),e.createElement("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-1"},e.createElement("span",null,"Quantit: ",Ae.quantity||1),e.createElement("span",null,""),e.createElement("span",null,"Prix unitaire: ",co(Ae.snapshot?.price||0))),Ae.snapshot?.shopName&&e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(Sr,{className:"w-3 h-3"}),e.createElement("span",null,Ae.snapshot.shopName)),Ae.snapshot?.confirmationNumber&&e.createElement("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200"},e.createElement("span",{className:"text-[10px] font-bold text-indigo-700 uppercase tracking-wide"},"Code: ",Ae.snapshot.confirmationNumber))))))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-4"},Z.deliveryCode&&e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(_a,{className:"w-4 h-4 text-indigo-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Code de livraison")),e.createElement("div",{className:"p-5 rounded-xl border-2 border-indigo-200 bg-indigo-50"},e.createElement("p",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-2"},"Prsentez ce code au livreur"),e.createElement("div",{className:"flex items-center justify-center"},e.createElement("span",{className:"text-4xl font-black text-indigo-900 tracking-wider font-mono"},Z.deliveryCode)),e.createElement("p",{className:"text-xs text-indigo-600 mt-3 text-center"},"Ce code est requis pour recevoir votre commande"))),e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(yr,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Adresse de livraison")),(Z.status==="pending"||Z.status==="confirmed")&&e.createElement("button",{type:"button",onClick:()=>Ye(Z),className:"px-3 py-1.5 rounded-lg border border-indigo-200 bg-indigo-50 text-indigo-700 text-xs font-semibold hover:bg-indigo-100 transition-all"},"Modifier")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},Z.deliveryAddress||"Non renseigne"),e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(yr,{className:"w-3 h-3"}),e.createElement("span",null,Z.deliveryCity||"Ville non renseigne")),Z.deliveryGuy&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},e.createElement("div",{className:"flex items-center gap-2 text-xs"},e.createElement(Tr,{className:"w-3 h-3 text-blue-600"}),e.createElement("span",{className:"font-semibold text-gray-700"},"Livreur:"),e.createElement("span",{className:"text-gray-600"},Z.deliveryGuy.name||"Non assign"),Z.deliveryGuy.phone&&e.createElement(e.Fragment,null,e.createElement("span",null,""),e.createElement("span",{className:"text-gray-600"},Z.deliveryGuy.phone))))),Z.trackingNote&&e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(gN,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Note de suivi")),e.createElement("div",{className:"p-4 rounded-xl border border-blue-100 bg-blue-50/50"},e.createElement("p",{className:"text-sm text-gray-700"},Z.trackingNote)))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(Xs,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Informations de paiement")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-sm text-gray-600"},"Total commande"),e.createElement("span",{className:"text-lg font-bold text-gray-900"},co(Ne))),gt&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},e.createElement("span",{className:"text-sm text-gray-600"},"Acompte vers"),e.createElement("span",{className:"text-sm font-semibold text-emerald-700"},co(tt))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-sm text-gray-600"},"Reste  payer"),e.createElement("span",{className:"text-sm font-semibold text-amber-700"},co(lt))),(Z.paymentName||Z.paymentTransactionCode)&&e.createElement("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-500"},Z.paymentName&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(va,{className:"w-3 h-3"}),e.createElement("span",null,"Payeur: ",Z.paymentName)),Z.paymentTransactionCode&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(nM,{className:"w-3 h-3"}),e.createElement("span",null,"Transaction: ",Z.paymentTransactionCode))))),e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(_a,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Gestionnaire")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},we),Z.createdBy?.email&&e.createElement("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},e.createElement(Ri,{className:"w-3 h-3"}),Z.createdBy.email))))),Z.status==="cancelled"&&e.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 p-4 space-y-2"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(xr,{className:"w-5 h-5 text-red-600"}),e.createElement("p",{className:"text-sm font-bold text-red-800"},"Commande annule")),Z.cancellationReason&&e.createElement("p",{className:"text-sm text-red-700"},"Raison: ",Z.cancellationReason),Z.cancelledAt&&e.createElement("p",{className:"text-xs text-red-600"},"Annule le ",xu(Z.cancelledAt))),Z.status!=="cancelled"&&e.createElement(Mie,{status:Z.status}),e.createElement("div",{className:"mt-4 space-y-3"},e.createElement(fd,{order:Z,buttonText:"Contacter le vendeur",unreadCount:D[Z._id]||0}),Z.status==="delivered"&&Z.items&&Z.items.length>0&&e.createElement("button",{type:"button",onClick:()=>ut(Z),disabled:P,className:"w-full px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},P?e.createElement(e.Fragment,null,e.createElement(Ut,{className:"w-5 h-5 animate-spin"}),e.createElement("span",null,"Ajout au panier...")):e.createElement(e.Fragment,null,e.createElement(ma,{className:"w-5 h-5"}),e.createElement("span",null,"Commander  nouveau"))),Z.status==="delivered"&&e.createElement("p",{className:"text-xs text-gray-500 text-center"},"Ajoute tous les articles de cette commande  votre panier")),e.createElement("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t border-gray-100 text-xs text-gray-500"},e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(pn,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Cre:"),e.createElement("span",null,xu(Z.createdAt))),Z.shippedAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(Tr,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Expdie:"),e.createElement("span",null,xu(Z.shippedAt))),Z.deliveredAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(Qt,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Livre:"),e.createElement("span",null,xu(Z.deliveredAt))),Z.cancelledAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(_t,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Annule:"),e.createElement("span",null,xu(Z.cancelledAt)))))))})),p.totalPages>1&&e.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("p",{className:"text-sm text-gray-600"},"Page ",e.createElement("span",{className:"font-bold text-gray-900"},u)," sur"," ",e.createElement("span",{className:"font-bold text-gray-900"},p.totalPages)," "," ",e.createElement("span",{className:"font-bold text-gray-900"},p.total)," commande",p.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>m(Z=>Math.max(1,Z-1)),disabled:u<=1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>m(Z=>Math.min(p.totalPages,Z+1)),disabled:u>=p.totalPages,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant")))),e.createElement(Tie,{isOpen:x,onClose:()=>{N(!1),A(null)},order:k,onSave:be})))}const HE={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine",cancelled:"Commande annule"},bT={pending:{header:"bg-gray-600",card:"bg-gray-50 border-gray-200 text-gray-700"},confirmed:{header:"bg-amber-600",card:"bg-amber-50 border-amber-200 text-amber-800"},delivering:{header:"bg-blue-600",card:"bg-blue-50 border-blue-200 text-blue-800"},delivered:{header:"bg-emerald-600",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},cancelled:{header:"bg-red-600",card:"bg-red-50 border-red-200 text-red-800"}},jie={pending:Ut,confirmed:Ot,delivering:Tr,delivered:Qt,cancelled:_t},Rie=[{key:"all",label:"Toutes",icon:ca,count:null},{key:"pending",label:"En attente",icon:Ut,count:null},{key:"confirmed",label:"Confirmes",icon:Ot,count:null},{key:"delivering",label:"En livraison",icon:Tr,count:null},{key:"delivered",label:"Livres",icon:Qt,count:null},{key:"cancelled",label:"Annules",icon:_t,count:null}],$ie=6,WE=[{id:"pending",label:"Commande en attente",description:"La commande est enregistre et en attente de confirmation.",icon:Ut,color:"gray"},{id:"confirmed",label:"Commande confirme",description:"La commande est confirme et prte pour la prparation.",icon:Ot,color:"amber"},{id:"delivering",label:"En cours de livraison",description:"Le colis est pris en charge par le livreur.",icon:Tr,color:"blue"},{id:"delivered",label:"Commande termine",description:"La commande est livre avec succs.",icon:Qt,color:"emerald"},{id:"cancelled",label:"Commande annule",description:"Cette commande a t annule et ne sera pas livre.",icon:_t,color:"red"}],vu=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,Cc=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,Lie=({status:t})=>{const r=WE.findIndex(n=>n.id===t),a=r>=0?r:0;return e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-5"},e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},e.createElement(Xt,{className:"w-4 h-4 text-white"})),e.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Suivi de commande")),e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},e.createElement("div",{className:"absolute top-0 left-0 w-full bg-indigo-600 transition-all duration-500",style:{height:`${a/(WE.length-1)*100}%`}})),e.createElement("div",{className:"space-y-6 relative"},WE.map((n,s)=>{const o=n.icon,i=a>=s,d={gray:"bg-gray-600",amber:"bg-amber-600",blue:"bg-blue-600",emerald:"bg-emerald-600",red:"bg-red-600"},u=d[n.color]||d.gray;return e.createElement("div",{key:n.id,className:"flex items-start gap-4"},e.createElement("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${i?`${u} text-white shadow-lg scale-110`:"bg-gray-200 text-gray-400"}`},e.createElement(o,{className:"w-4 h-4"})),e.createElement("div",{className:"flex-1 pt-1"},e.createElement("p",{className:`text-sm font-bold mb-1 ${i?"text-gray-900":"text-gray-400"}`},n.label),e.createElement("p",{className:`text-xs ${i?"text-gray-600":"text-gray-400"}`},n.description)))}))))};function xT(){const{user:t}=g.useContext(fr),{showToast:r}=Qo(),a=ts(),[n,s]=g.useState([]),[o,i]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState(1),[f,y]=g.useState({total:0,totalPages:1}),[b,w]=g.useState(""),[E,x]=g.useState({id:"",message:""}),[N,k]=g.useState(!1),[A,P]=g.useState(null),[S,_]=g.useState(""),[T,O]=g.useState(!1),[R,D]=g.useState({total:0,totalAmount:0,byStatus:{}}),[j,$]=g.useState(!1),[K,W]=g.useState({}),{status:z}=Di();if(t?.role==="admin")return e.createElement(Mc,{to:"/admin/orders",replace:!0});const Q=g.useMemo(()=>z&&Object.keys(HE).includes(z)?z:"all",[z]);g.useEffect(()=>{p(1)},[Q]),g.useEffect(()=>{let V=!0;return(async()=>{$(!0);try{const{data:ue}=await se.get("/orders/seller?limit=1000");if(!V)return;const he=Array.isArray(ue)?ue:ue?.items||[],Oe=he.length,te=he.reduce((de,Ce)=>{const re=(Ce.items||[]).reduce((Ie,fe)=>Ie+Number(fe.snapshot?.price||0)*Number(fe.quantity||1),0);return de+Number(Ce.totalAmount??re)},0),ie=he.reduce((de,Ce)=>{const ne=Ce.status||"pending";return de[ne]=(de[ne]||0)+1,de},{});D({total:Oe,totalAmount:te,byStatus:ie})}catch(ue){console.error("Error loading stats:",ue)}finally{V&&$(!1)}})(),()=>{V=!1}},[]);const ee=async V=>{if(!V||V.length===0||!t?._id)return{};try{return(await Promise.all(V.map(async ue=>{try{const{data:he}=await se.get(`/orders/${ue}/messages`),Oe=Array.isArray(he)?he.filter(te=>String(te.recipient?._id)===String(t._id)&&!te.readAt):[];return{orderId:ue,count:Oe.length}}catch{return{orderId:ue,count:0}}}))).reduce((ue,{orderId:he,count:Oe})=>(ue[he]=Oe,ue),{})}catch{return{}}};g.useEffect(()=>{(async()=>{i(!0),u("");try{const J=new URLSearchParams;J.set("page",m),J.set("limit",$ie),Q!=="all"&&J.set("status",Q);const{data:ue}=await se.get(`/orders/seller?${J.toString()}`),he=Array.isArray(ue)?ue:ue?.items||[],Oe=Math.max(1,Number(ue?.totalPages)||1);s(he);const te=he.map(Ce=>Ce._id),ie=await ee(te);W(ie),y({total:ue?.total??he.length,totalPages:Oe});const de=Number(ue?.page);Number.isFinite(de)&&de>0&&de!==m&&p(de)}catch(J){u(J.response?.data?.message||"Impossible de charger les commandes clients."),s([]),y({total:0,totalPages:1})}finally{i(!1)}})()},[Q,m,t?._id]);const H=async(V,J)=>{w(V),x({id:"",message:""});try{const{data:ue}=await se.patch(`/orders/seller/${V}/status`,{status:J});s(ie=>ie.map(de=>de._id===V?ue:de)),r("Statut de la commande mis  jour.",{variant:"success"});const{data:he}=await se.get("/orders/seller?limit=1000"),te=(Array.isArray(he)?he:he?.items||[]).reduce((ie,de)=>{const Ce=de.status||"pending";return ie[Ce]=(ie[Ce]||0)+1,ie},{});D(ie=>({...ie,byStatus:te}))}catch(ue){const he=ue.response?.data?.message||"Impossible de mettre  jour le statut.";x({id:V,message:he}),r(he,{variant:"error"})}finally{w("")}},q=V=>{P(V),_(""),k(!0)},B=()=>{k(!1),P(null),_("")},G=async()=>{if(!A)return;const V=S.trim();if(!V||V.length<5){r("Veuillez fournir une raison d'annulation (minimum 5 caractres).",{variant:"error"});return}O(!0);try{const{data:J}=await se.post(`/orders/seller/${A}/cancel`,{reason:V});s(te=>te.map(ie=>ie._id===A?J:ie)),r("Commande annule avec succs. Le client a t notifi.",{variant:"success"}),B();const{data:ue}=await se.get("/orders/seller?limit=1000"),Oe=(Array.isArray(ue)?ue:ue?.items||[]).reduce((te,ie)=>{const de=ie.status||"pending";return te[de]=(te[de]||0)+1,te},{});D(te=>({...te,byStatus:Oe}))}catch(J){const ue=J.response?.data?.message||J.response?.data?.details?.[0]||"Impossible d'annuler la commande.";r(ue,{variant:"error"})}finally{O(!1)}},Y=Q==="all"?"Aucune commande client pour le moment.":`Aucune commande ${HE[Q].toLowerCase()} pour le moment.`;return o&&n.length===0?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},[1,2,3].map(V=>e.createElement("div",{key:V,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),e.createElement("div",{className:"space-y-4"},[1,2].map(V=>e.createElement("div",{key:V,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"bg-indigo-600 text-white"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(ca,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Commandes clients"),e.createElement("h1",{className:"text-3xl font-bold"},"Gestion des commandes"))),e.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Suivez les commandes passes sur vos produits, mettez  jour leur statut et grez les livraisons.")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},e.createElement(Pr,{className:"w-4 h-4"}),"Accueil"),e.createElement(pe,{to:"/my/stats",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},e.createElement(Xt,{className:"w-4 h-4"}),"Statistiques"))))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!j&&R.total>0&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},e.createElement(ca,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},R.total)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total commandes"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes les commandes clients")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},e.createElement(xa,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},Cc(R.totalAmount))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Chiffre d'affaires"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant total des commandes")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},e.createElement(Ut,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},R.byStatus.pending||0)),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Commandes en cours de traitement"))),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},e.createElement("div",{className:"flex flex-wrap gap-2"},Rie.map(V=>{const J=V.key===Q,ue=V.key==="all"?"/seller/orders":`/seller/orders/${V.key}`,he=V.icon,Oe=V.key==="all"?R.total:R.byStatus[V.key]||0;return e.createElement(pe,{key:V.key,to:ue,className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${J?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},e.createElement(he,{className:"w-4 h-4"}),e.createElement("span",null,V.label),Oe>0&&e.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${J?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},Oe))}))),d?e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},d)))):n.length===0?e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},e.createElement(ca,{className:"w-10 h-10 text-gray-400"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune commande"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},Y),e.createElement(pe,{to:"/my",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement(ma,{className:"w-4 h-4"}),"Grer mes annonces")):e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-6"},n.map(V=>{const J=Array.isArray(V.items)?V.items:[],ue=J.reduce((ne,re)=>ne+Number(re.snapshot?.price||0)*Number(re.quantity||1),0),he=Number(V.totalAmount??ue),Oe=Number(V.paidAmount||0),te=Number(V.remainingAmount??Math.max(0,he-Oe)),ie=!!(Oe||V.paymentTransactionCode||V.paymentName),de=jie[V.status]||Ut,Ce=bT[V.status]||bT.pending;return e.createElement("div",{key:V._id,className:"bg-white rounded-2xl border-2 border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden"},e.createElement("div",{className:`${Ce.header} text-white px-6 py-4`},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm"},e.createElement(de,{className:"w-5 h-5"})),e.createElement("div",null,e.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Commande"),e.createElement("h3",{className:"text-lg font-bold"},"#",V._id.slice(-6)))),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("span",{className:"px-3 py-1.5 rounded-lg bg-white/20 backdrop-blur-sm text-xs font-bold uppercase tracking-wide"},HE[V.status])))),e.createElement("div",{className:"p-6 space-y-6"},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-4"},e.createElement(Ot,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Articles commands")),e.createElement("div",{className:"space-y-3"},J.map((ne,re)=>e.createElement("div",{key:`${V._id}-${ne.product||ne.snapshot?.title||re}`,className:"flex items-start gap-4 p-4 rounded-xl border border-gray-100 bg-gray-50/50 hover:bg-gray-100/50 transition-colors"},ne.snapshot?.image||ne.product?.images?.[0]?e.createElement("img",{src:ne.snapshot?.image||ne.product?.images?.[0],alt:ne.snapshot?.title||"Produit",className:"w-16 h-16 rounded-xl object-cover border border-gray-200 flex-shrink-0"}):e.createElement("div",{className:"w-16 h-16 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0"},e.createElement(Ot,{className:"w-6 h-6 text-indigo-600"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},ne.product?e.createElement(pe,{to:ar(ne.product),...a,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate"},ne.snapshot?.title||"Produit"):e.createElement("span",{className:"font-bold text-gray-900"},ne.snapshot?.title||"Produit"),e.createElement("span",{className:"text-sm font-bold text-gray-900 whitespace-nowrap"},Cc((ne.snapshot?.price||0)*(ne.quantity||1)))),e.createElement("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-1"},e.createElement("span",null,"Quantit: ",ne.quantity||1),e.createElement("span",null,""),e.createElement("span",null,"Prix unitaire: ",Cc(ne.snapshot?.price||0))),ne.snapshot?.confirmationNumber&&e.createElement("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200"},e.createElement("span",{className:"text-[10px] font-bold text-indigo-700 uppercase tracking-wide"},"Code: ",ne.snapshot.confirmationNumber))))))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.createElement("div",{className:"space-y-4"},V.deliveryCode&&e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(_a,{className:"w-4 h-4 text-indigo-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Code de livraison")),e.createElement("div",{className:"p-5 rounded-xl border-2 border-indigo-200 bg-indigo-50"},e.createElement("p",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-2"},"Code pour le livreur"),e.createElement("div",{className:"flex items-center justify-center"},e.createElement("span",{className:"text-4xl font-black text-indigo-900 tracking-wider font-mono"},V.deliveryCode)),e.createElement("p",{className:"text-xs text-indigo-600 mt-3 text-center"},"Le client doit prsenter ce code pour recevoir la commande"))),e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(va,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Client")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},V.customer?.name||"Client"),V.customer?.phone&&e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(yo,{className:"w-3 h-3"}),e.createElement("span",null,V.customer.phone)),V.customer?.email&&e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(Ri,{className:"w-3 h-3"}),e.createElement("span",null,V.customer.email))),e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(yr,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Adresse de livraison")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},V.deliveryAddress||"Non renseigne"),e.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},e.createElement(yr,{className:"w-3 h-3"}),e.createElement("span",null,V.deliveryCity||"Ville non renseigne")),V.deliveryGuy&&e.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},e.createElement("div",{className:"flex items-center gap-2 text-xs"},e.createElement(Tr,{className:"w-3 h-3 text-blue-600"}),e.createElement("span",{className:"font-semibold text-gray-700"},"Livreur:"),e.createElement("span",{className:"text-gray-600"},V.deliveryGuy.name||"Non assign"),V.deliveryGuy.phone&&e.createElement(e.Fragment,null,e.createElement("span",null,""),e.createElement("span",{className:"text-gray-600"},V.deliveryGuy.phone))))),V.trackingNote&&e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(gN,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Note de suivi")),e.createElement("div",{className:"p-4 rounded-xl border border-blue-100 bg-blue-50/50"},e.createElement("p",{className:"text-sm text-gray-700"},V.trackingNote)))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(Xs,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Informations de paiement")),e.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-sm text-gray-600"},"Total commande"),e.createElement("span",{className:"text-lg font-bold text-gray-900"},Cc(he))),ie&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},e.createElement("span",{className:"text-sm text-gray-600"},"Acompte vers"),e.createElement("span",{className:"text-sm font-semibold text-emerald-700"},Cc(Oe))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"text-sm text-gray-600"},"Reste  payer"),e.createElement("span",{className:"text-sm font-semibold text-amber-700"},Cc(te))),(V.paymentName||V.paymentTransactionCode)&&e.createElement("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-500"},V.paymentName&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(va,{className:"w-3 h-3"}),e.createElement("span",null,"Payeur: ",V.paymentName)),V.paymentTransactionCode&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement(nM,{className:"w-3 h-3"}),e.createElement("span",null,"Transaction: ",V.paymentTransactionCode))))),V.cancellationWindow?.isActive&&V.status!=="cancelled"&&e.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-amber-50 p-4 space-y-3"},e.createElement(I$,{deadline:V.cancellationWindow.deadline,remainingMs:V.cancellationWindow.remainingMs,isActive:V.cancellationWindow.isActive}),e.createElement("div",{className:"flex items-start gap-2 p-3 rounded-xl bg-amber-100 border border-amber-200"},e.createElement(xr,{className:"w-4 h-4 text-amber-700 flex-shrink-0 mt-0.5"}),e.createElement("p",{className:"text-xs text-amber-800"},e.createElement("span",{className:"font-semibold"},"Dlai d'annulation actif :")," Vous ne pouvez pas modifier le statut de cette commande pendant les 30 premires minutes. Le client peut annuler sa commande pendant ce dlai."))),e.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50 p-4"},e.createElement(fd,{order:V,buttonText:"Contacter l'acheteur",unreadCount:K[V._id]||0})),V.status!=="cancelled"&&V.status!=="delivered"&&e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-4 space-y-3"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(_a,{className:"w-4 h-4 text-gray-500"}),e.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Mettre  jour le statut")),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:()=>H(V._id,"confirmed"),disabled:V.status!=="pending"||b===V._id||V.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-semibold text-amber-700 hover:bg-amber-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},e.createElement(Ot,{size:12}),"Confirmer"),e.createElement("button",{type:"button",onClick:()=>H(V._id,"delivering"),disabled:V.status!=="confirmed"||b===V._id||V.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-3 py-2 text-xs font-semibold text-blue-700 hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},e.createElement(Tr,{size:12}),"En livraison"),e.createElement("button",{type:"button",onClick:()=>H(V._id,"delivered"),disabled:V.status!=="delivering"||b===V._id||V.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-green-200 bg-green-50 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},e.createElement(Qt,{size:12}),"Marquer livre"),e.createElement("button",{type:"button",onClick:()=>q(V._id),disabled:V.status==="delivered"||b===V._id||V.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},e.createElement(_t,{size:12}),"Annuler")),E.id===V._id&&e.createElement("p",{className:"text-xs text-red-600"},E.message),V.cancellationWindow?.isActive&&e.createElement("p",{className:"text-xs text-amber-700 font-medium"}," Les modifications de statut sont temporairement dsactives pendant le dlai d'annulation.")))),V.status==="cancelled"&&e.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 p-5 space-y-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-red-600"},e.createElement(xr,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-bold text-red-800"},"Commande annule"),V.cancelledAt&&e.createElement("p",{className:"text-xs text-red-600 mt-1"},"Annule le ",vu(V.cancelledAt)))),V.cancellationReason&&e.createElement("div",{className:"p-4 rounded-xl border border-red-200 bg-red-100/50"},e.createElement("p",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide mb-2"},"Raison de l'annulation"),e.createElement("p",{className:"text-sm text-red-800 font-medium"},V.cancellationReason))),V.status!=="cancelled"&&e.createElement(Lie,{status:V.status}),e.createElement("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t border-gray-100 text-xs text-gray-500"},e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(pn,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Cre:"),e.createElement("span",null,vu(V.createdAt))),V.shippedAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(Tr,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Expdie:"),e.createElement("span",null,vu(V.shippedAt))),V.deliveredAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(Qt,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Livre:"),e.createElement("span",null,vu(V.deliveredAt))),V.cancelledAt&&e.createElement("div",{className:"flex items-center gap-1.5"},e.createElement(_t,{className:"w-3 h-3"}),e.createElement("span",{className:"font-semibold"},"Annule:"),e.createElement("span",null,vu(V.cancelledAt))))))})),N&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},e.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:B}),e.createElement("div",{className:"relative w-full max-w-md rounded-3xl bg-white shadow-2xl border border-gray-100 p-6",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-red-600"},e.createElement(xr,{className:"w-5 h-5 text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Annuler la commande"),e.createElement("p",{className:"text-xs text-gray-500"},"Commande #",A?.slice(-6)))),e.createElement("button",{type:"button",onClick:B,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},e.createElement(_t,{size:16}))),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3"},e.createElement("p",{className:"text-xs font-semibold text-amber-800 mb-1"}," Attention"),e.createElement("p",{className:"text-xs text-amber-700"},"Cette action est irrversible. Le client sera notifi de l'annulation.")),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-900 mb-2"},"Raison de l'annulation ",e.createElement("span",{className:"text-red-600"},"*")),e.createElement("textarea",{value:S,onChange:V=>_(V.target.value),placeholder:"Expliquez la raison de l'annulation (minimum 5 caractres)...",className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0,minLength:5}),S.length>0&&S.length<5&&e.createElement("p",{className:"mt-1 text-xs text-red-600"},"La raison doit contenir au moins 5 caractres.")),e.createElement("div",{className:"flex gap-3"},e.createElement("button",{type:"button",onClick:B,disabled:T,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50"},"Annuler"),e.createElement("button",{type:"button",onClick:G,disabled:T||!S.trim()||S.trim().length<5,className:"flex-1 px-4 py-2.5 rounded-xl bg-red-600 text-white text-sm font-semibold hover:bg-red-700 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},T?"Annulation...":"Confirmer l'annulation"))))),f.totalPages>1&&e.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("p",{className:"text-sm text-gray-600"},"Page ",e.createElement("span",{className:"font-bold text-gray-900"},m)," sur"," ",e.createElement("span",{className:"font-bold text-gray-900"},f.totalPages)," "," ",e.createElement("span",{className:"font-bold text-gray-900"},f.total)," commande",f.total>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>p(V=>Math.max(1,V-1)),disabled:m<=1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>p(V=>Math.min(f.totalPages,V+1)),disabled:m>=f.totalPages,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant"))))))}const Ro=t=>Number(t||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0});function Iie(){const{cart:t,clearCart:r}=g.useContext(Fl),{user:a}=g.useContext(fr),{showToast:n}=Qo(),s=Zr(),[o,i]=g.useState({}),[d,u]=g.useState(!1),[m,p]=g.useState(""),[f,y]=g.useState(!1),b=t.totals||{subtotal:0},w=g.useMemo(()=>Math.round((b.subtotal||0)*.25),[b.subtotal]),E=Math.max(0,Number(b.subtotal||0)-w),x=t.items||[],N=g.useMemo(()=>{const P=new Map;return x.forEach(S=>{const _=S?.product?.user||null,T=_?._id,O=T?String(T):"unknown",R=_?.shopName||_?.name||"Vendeur",D=_?.phone||S?.product?.contactPhone||"";P.has(O)||P.set(O,{sellerId:O,sellerName:R,sellerPhone:D,items:[],subtotal:0});const j=P.get(O);j.items.push(S),j.subtotal+=Number(S?.lineTotal||0)}),Array.from(P.values())},[x]);g.useEffect(()=>{i(P=>{const S={};return N.forEach(_=>{const T=_.sellerId,O=P[T]||{};S[T]={payerName:O.payerName??a?.name??"",transactionCode:O.transactionCode??""}}),S})},[N,a?.name]);const k=async P=>{if(P.preventDefault(),!x.length){p("Votre panier est vide.");return}if(N.some(T=>!T.sellerId||T.sellerId==="unknown")){p("Impossible de dterminer le vendeur pour certains articles.");return}if(N.some(T=>{const O=o[T.sellerId]||{};return!O.payerName?.trim()||!O.transactionCode?.trim()})){p(N.length>1?"Veuillez renseigner le nom et le code de transaction pour chaque vendeur.":"Veuillez renseigner le nom et le code de transaction.");return}u(!0),p("");try{await se.post("/orders/checkout",{payments:N.map(T=>{const O=o[T.sellerId]||{};return{sellerId:T.sellerId,payerName:O.payerName.trim(),transactionCode:O.transactionCode.trim()}})}),await r(),n("Commande enregistre. Elle est en attente de validation.",{variant:"success"}),s("/orders")}catch(T){const O=T.response?.data?.message||"Impossible de confirmer la commande.";p(O),n(O,{variant:"error"})}finally{u(!1)}},A=(P,S,_)=>{i(T=>({...T,[P]:{...T[P]||{},[S]:_}}))};return g.useEffect(()=>{if(!a||!x.length)return;(async()=>{try{const{data:S}=await se.get("/orders/draft");if(S.items&&S.items.length>0){const _={};S.items.forEach(T=>{T.draftPayments&&T.draftPayments.length>0&&T.draftPayments.forEach(O=>{O.sellerId&&(_[String(O.sellerId)]={payerName:O.payerName||"",transactionCode:O.transactionCode||""})})}),Object.keys(_).length>0&&i(T=>({...T,..._}))}}catch(S){console.error("Failed to load draft payments:",S)}})()},[a,x.length]),g.useEffect(()=>{if(!a||!x.length||d||f)return;const P=async()=>{try{const S=N.map(_=>{const T=o[_.sellerId]||{};return{sellerId:_.sellerId,payerName:T.payerName?.trim()||"",transactionCode:T.transactionCode?.trim()||""}});await se.post("/orders/draft",{payments:S})}catch(S){console.error("Failed to save draft order:",S)}};return()=>{f||P()}},[a,x.length,N,o,d,f]),x.length?e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},e.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},e.createElement(pe,{to:"/cart",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors"},e.createElement(Pr,{size:18}),e.createElement("span",{className:"font-medium text-sm"},"Retour au panier")),e.createElement("div",{className:"space-y-3"},e.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Confirmer votre commande"),e.createElement("p",{className:"text-gray-600 font-medium"},"Un acompte de 25% est requis pour confirmer votre commande."))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-6 sm:gap-8"},e.createElement("section",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(Ks,{size:20,className:"text-white"})),e.createElement("h2",{className:"text-xl font-black text-gray-900"},"Rsum de la commande")),e.createElement("div",{className:"space-y-3"},x.map(({product:P,quantity:S,lineTotal:_})=>e.createElement("div",{key:P._id,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-200"},e.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 flex-shrink-0 rounded-xl overflow-hidden bg-gray-200"},e.createElement("img",{src:P.images?.[0]||"https://via.placeholder.com/80",alt:P.title,className:"w-full h-full object-cover"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"font-black text-gray-900 text-sm sm:text-base line-clamp-2 mb-1"},P.title),e.createElement("p",{className:"text-xs text-gray-600 font-medium mb-1"},"Quantit: x",S),e.createElement("p",{className:"text-xs text-gray-500"},"Vendeur: ",P.user?.phone||P.contactPhone||"")),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"font-black text-blue-600 text-base sm:text-lg"},Ro(_)," FCFA"))))),e.createElement("div",{className:"border-t-2 border-gray-200 pt-4 space-y-3"},e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Total commande"),e.createElement("span",{className:"font-black text-gray-900 text-lg"},Ro(b.subtotal)," FCFA")),e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-blue-50 rounded-xl border border-blue-200"},e.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),e.createElement("span",{className:"font-black text-blue-600 text-lg"},Ro(w)," FCFA")),e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),e.createElement("span",{className:"font-black text-gray-900 text-lg"},Ro(E)," FCFA"))),e.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-4 text-xs sm:text-sm text-blue-800 flex items-start gap-3"},e.createElement(_a,{size:16}),e.createElement("span",null,"Le paiement de lacompte confirme la commande. Le solde sera rgl  la livraison."))),e.createElement("section",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(Xs,{size:20,className:"text-white"})),e.createElement("h2",{className:"text-xl font-black text-gray-900"},"Informations de paiement")),e.createElement("form",{className:"space-y-5",onSubmit:k},N.map(P=>{const S=o[P.sellerId]||{},_=Math.round(Number(P.subtotal||0)*.25),T=Math.max(0,Number(P.subtotal||0)-_);return e.createElement("div",{key:P.sellerId,className:"rounded-3xl border-2 border-gray-200 bg-gradient-to-br from-gray-50 to-blue-50/30 p-5 sm:p-6 space-y-4 shadow-md"},e.createElement("div",{className:"flex items-start justify-between gap-3 pb-3 border-b-2 border-gray-200"},e.createElement("div",{className:"space-y-1.5"},e.createElement("p",{className:"text-xs font-bold uppercase text-gray-500 tracking-wide"},"Paiement vendeur"),e.createElement("p",{className:"text-base sm:text-lg font-black text-gray-900"},P.sellerName),P.sellerPhone&&e.createElement("p",{className:"text-xs text-gray-600 font-medium"}," ",P.sellerPhone)),e.createElement("div",{className:"text-right bg-blue-100 px-3 py-2 rounded-xl border border-blue-200"},e.createElement("p",{className:"text-base sm:text-lg font-black text-blue-600"},Ro(_)," FCFA"),e.createElement("p",{className:"text-xs text-gray-600 font-medium"},"Acompte (25%)"))),e.createElement("div",{className:"space-y-4"},e.createElement("div",null,e.createElement("label",{className:"block text-xs font-bold uppercase text-gray-700 mb-2"},"Nom du payeur"),e.createElement("input",{type:"text",value:S.payerName||"",onChange:O=>A(P.sellerId,"payerName",O.target.value),className:"w-full rounded-3xl border-2 border-gray-300 px-4 py-3 text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",placeholder:a?.name||"Ex: Jean K."})),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-bold uppercase text-gray-700 mb-2"},"Code transaction"),e.createElement("div",{className:"flex items-center gap-3 rounded-3xl border-2 border-gray-300 px-4 py-3 bg-white focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all"},e.createElement(Xs,{size:18,className:"text-gray-400 flex-shrink-0"}),e.createElement("input",{type:"text",value:S.transactionCode||"",onChange:O=>A(P.sellerId,"transactionCode",O.target.value),className:"w-full border-none p-0 text-sm font-medium focus:outline-none",placeholder:"Ex: TRX123456"})))),e.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 px-4 py-3 space-y-2 text-xs sm:text-sm"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Sous-total vendeur"),e.createElement("span",{className:"font-black text-gray-900"},Ro(P.subtotal)," FCFA")),e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),e.createElement("span",{className:"font-black text-blue-600"},Ro(_)," FCFA")),e.createElement("div",{className:"flex justify-between items-center pt-2 border-t border-blue-200"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),e.createElement("span",{className:"font-black text-gray-900"},Ro(T)," FCFA"))))}),e.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 px-4 py-3 text-xs sm:text-sm text-amber-800 flex items-start gap-3"},e.createElement(Qt,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),N.length>1?"Merci de payer lacompte indiqu pour chaque vendeur avant validation.":`Merci de payer exactement ${Ro(w)} FCFA avant validation.`),m&&e.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 px-4 py-3 flex items-start gap-3"},e.createElement(xr,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),e.createElement("p",{className:"text-sm text-red-700 font-semibold"},m)),e.createElement("button",{type:"submit",disabled:d,className:"w-full inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-4 text-sm sm:text-base font-semibold text-white hover:bg-blue-700 disabled:opacity-60 transition-all duration-200 active:scale-95 shadow-sm"},d?e.createElement(e.Fragment,null,e.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Confirmation..."):e.createElement(e.Fragment,null,e.createElement(Jn,{size:18}),"Confirmer la commande"))))))):e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50 flex items-center justify-center px-4 py-10"},e.createElement("div",{className:"max-w-md w-full text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-3xl bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center mb-6 shadow-lg border-2 border-blue-100"},e.createElement(ca,{size:32,className:"text-blue-600"})),e.createElement("h1",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-3"},"Votre panier est vide"),e.createElement("p",{className:"text-gray-600 font-medium mb-8"},"Ajoutez des produits avant de confirmer une commande."),e.createElement(pe,{to:"/products",className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Ks,{size:18}),"Explorer le march")))}const fp=t=>Number(t||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0});function Die(){const{user:t}=g.useContext(fr),r=Zr(),[a,n]=g.useState([]),[s,o]=g.useState(!0),[i,d]=g.useState(""),[u,m]=g.useState({});g.useEffect(()=>{if(!t){r("/login");return}p()},[t,r]);const p=async()=>{o(!0),d("");try{const{data:y}=await se.get("/orders/draft");n(y.items||[])}catch(y){d(y.response?.data?.message||"Impossible de charger les brouillons.")}finally{o(!1)}},f=async y=>{if(confirm("tes-vous sr de vouloir supprimer ce brouillon ?")){m(b=>({...b,[y]:!0}));try{await se.delete(`/orders/draft/${y}`),n(b=>b.filter(w=>w._id!==y))}catch(b){alert(b.response?.data?.message||"Impossible de supprimer le brouillon.")}finally{m(b=>({...b,[y]:!1}))}}};return t?s?e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50 flex items-center justify-center"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.createElement("p",{className:"text-gray-600 font-medium"},"Chargement..."))):e.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},e.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},e.createElement(pe,{to:"/profile",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors"},e.createElement(Pr,{size:18}),e.createElement("span",{className:"font-medium text-sm"},"Retour au profil")),e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(ca,{size:24,className:"text-white"})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Mes commandes en brouillon"),e.createElement("p",{className:"text-gray-600 font-medium mt-1"},"Commandes non finalises que vous pouvez complter")))),i&&e.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 px-4 py-3 flex items-start gap-3"},e.createElement(xr,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),e.createElement("p",{className:"text-sm text-red-700 font-semibold"},i)),a.length===0?e.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-8 sm:p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mb-6 shadow-lg"},e.createElement(ca,{size:32,className:"text-gray-400"})),e.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-3"},"Aucun brouillon"),e.createElement("p",{className:"text-gray-600 font-medium mb-8"},"Vous n'avez pas de commandes en brouillon pour le moment."),e.createElement(pe,{to:"/cart",className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Ga,{size:18}),"Voir mon panier")):e.createElement("div",{className:"space-y-4 sm:space-y-6"},a.map(y=>{const b=Math.round((y.totalAmount||0)*.25),w=Math.max(0,(y.totalAmount||0)-b),E=y.draftPayments?.[0]||{};return e.createElement("div",{key:y._id,className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300"},e.createElement("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-b-2 border-amber-200 px-5 sm:px-6 py-4 flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg"},e.createElement(Ut,{size:20,className:"text-white"})),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-black text-gray-900"},"Brouillon"),e.createElement("p",{className:"text-xs text-gray-600 font-medium"},"Cr le ",new Date(y.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})))),e.createElement("button",{onClick:()=>f(y._id),disabled:u[y._id],className:"p-2 rounded-full bg-white border border-red-200 text-red-600 hover:bg-red-50 transition-all duration-200 active:scale-95"},e.createElement(Li,{size:18}))),e.createElement("div",{className:"p-5 sm:p-6 space-y-5"},e.createElement("div",{className:"space-y-3"},e.createElement("h4",{className:"text-sm font-bold uppercase text-gray-500 tracking-wide"},"Articles"),e.createElement("div",{className:"space-y-2"},y.items?.map((x,N)=>e.createElement("div",{key:N,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-200"},e.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 flex-shrink-0 rounded-xl overflow-hidden bg-gray-200"},e.createElement("img",{src:x.snapshot?.image||x.product?.images?.[0]||"https://via.placeholder.com/80",alt:x.snapshot?.title||x.product?.title,className:"w-full h-full object-cover"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement(pe,{to:ar(x.product),className:"font-black text-gray-900 text-sm sm:text-base line-clamp-2 mb-1 hover:text-blue-600 transition-colors"},x.snapshot?.title||x.product?.title),e.createElement("p",{className:"text-xs text-gray-600 font-medium mb-1"},"Quantit: x",x.quantity),e.createElement("p",{className:"text-sm font-black text-blue-600"},fp((x.snapshot?.price||x.product?.price||0)*(x.quantity||1))," FCFA")))))),E.payerName||E.transactionCode?e.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-4 space-y-2"},e.createElement("h4",{className:"text-xs font-bold uppercase text-blue-700 tracking-wide"},"Informations de paiement"),E.payerName&&e.createElement("p",{className:"text-sm text-gray-700"},e.createElement("span",{className:"font-semibold"},"Payeur:")," ",E.payerName),E.transactionCode&&e.createElement("p",{className:"text-sm text-gray-700"},e.createElement("span",{className:"font-semibold"},"Code transaction:")," ",E.transactionCode)):e.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 p-4 flex items-start gap-3"},e.createElement(xr,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.createElement("p",{className:"text-sm text-amber-800 font-medium"},"Les informations de paiement n'ont pas encore t renseignes.")),e.createElement("div",{className:"border-t-2 border-gray-200 pt-4 space-y-3"},e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Total commande"),e.createElement("span",{className:"font-black text-gray-900 text-lg"},fp(y.totalAmount)," FCFA")),e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-blue-50 rounded-xl border border-blue-200"},e.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),e.createElement("span",{className:"font-black text-blue-600 text-lg"},fp(b)," FCFA")),e.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},e.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),e.createElement("span",{className:"font-black text-gray-900 text-lg"},fp(w)," FCFA"))),e.createElement("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t-2 border-gray-200"},e.createElement(pe,{to:"/orders/checkout",className:"flex-1 inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},e.createElement(Xs,{size:18}),"Continuer la commande"),e.createElement("button",{onClick:()=>f(y._id),disabled:u[y._id],className:"inline-flex items-center justify-center gap-2 rounded-3xl border border-red-300 bg-white text-red-600 px-6 py-3.5 text-sm font-semibold hover:bg-red-50 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},e.createElement(Li,{size:18}),"Supprimer"))))})))):null}function zie(t=767){g.useEffect(()=>{if(typeof window>"u"||typeof document>"u")return;const r=window.matchMedia(`(max-width: ${t}px)`),a=s=>{if(typeof s.composedPath=="function")return s.composedPath().find(i=>i instanceof HTMLElement&&(i.tagName==="A"||i.tagName==="AREA")&&i.getAttribute("target")==="_blank");const o=s.target;return o&&typeof o.closest=="function"?o.closest('a[target="_blank"],area[target="_blank"]'):null},n=s=>{if(!r.matches)return;const o=a(s);if(!o)return;const i=o.getAttribute("href");if(!i)return;const d=new URL(i,window.location.href);d.origin===window.location.origin&&(s.preventDefault(),window.location.assign(d.pathname+d.search+d.hash))};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[t])}function Fie(){const t=Sn();return g.useEffect(()=>{typeof window>"u"||(window.requestAnimationFrame(()=>{window.scrollTo({top:0,behavior:"instant"})}),window.scrollTo(0,0))},[t.pathname]),null}const xo=Object.create(null);xo.open="0";xo.close="1";xo.ping="2";xo.pong="3";xo.message="4";xo.upgrade="5";xo.noop="6";const _p=Object.create(null);Object.keys(xo).forEach(t=>{_p[xo[t]]=t});const G1={type:"error",data:"parser error"},D$=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z$=typeof ArrayBuffer=="function",F$=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,A2=({type:t,data:r},a,n)=>D$&&r instanceof Blob?a?n(r):vT(r,n):z$&&(r instanceof ArrayBuffer||F$(r))?a?n(r):vT(new Blob([r]),n):n(xo[t]+(r||"")),vT=(t,r)=>{const a=new FileReader;return a.onload=function(){const n=a.result.split(",")[1];r("b"+(n||""))},a.readAsDataURL(t)};function ET(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let GE;function Bie(t,r){if(D$&&t.data instanceof Blob)return t.data.arrayBuffer().then(ET).then(r);if(z$&&(t.data instanceof ArrayBuffer||F$(t.data)))return r(ET(t.data));A2(t,!1,a=>{GE||(GE=new TextEncoder),r(GE.encode(a))})}const wT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<wT.length;t++)Pu[wT.charCodeAt(t)]=t;const qie=t=>{let r=t.length*.75,a=t.length,n,s=0,o,i,d,u;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const m=new ArrayBuffer(r),p=new Uint8Array(m);for(n=0;n<a;n+=4)o=Pu[t.charCodeAt(n)],i=Pu[t.charCodeAt(n+1)],d=Pu[t.charCodeAt(n+2)],u=Pu[t.charCodeAt(n+3)],p[s++]=o<<2|i>>4,p[s++]=(i&15)<<4|d>>2,p[s++]=(d&3)<<6|u&63;return m},Uie=typeof ArrayBuffer=="function",_2=(t,r)=>{if(typeof t!="string")return{type:"message",data:B$(t,r)};const a=t.charAt(0);return a==="b"?{type:"message",data:Vie(t.substring(1),r)}:_p[a]?t.length>1?{type:_p[a],data:t.substring(1)}:{type:_p[a]}:G1},Vie=(t,r)=>{if(Uie){const a=qie(t);return B$(a,r)}else return{base64:!0,data:t}},B$=(t,r)=>r==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,q$="",Hie=(t,r)=>{const a=t.length,n=new Array(a);let s=0;t.forEach((o,i)=>{A2(o,!1,d=>{n[i]=d,++s===a&&r(n.join(q$))})})},Wie=(t,r)=>{const a=t.split(q$),n=[];for(let s=0;s<a.length;s++){const o=_2(a[s],r);if(n.push(o),o.type==="error")break}return n};function Gie(){return new TransformStream({transform(t,r){Bie(t,a=>{const n=a.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(a)})}})}let KE;function pp(t){return t.reduce((r,a)=>r+a.length,0)}function gp(t,r){if(t[0].length===r)return t.shift();const a=new Uint8Array(r);let n=0;for(let s=0;s<r;s++)a[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),a}function Kie(t,r){KE||(KE=new TextDecoder);const a=[];let n=0,s=-1,o=!1;return new TransformStream({transform(i,d){for(a.push(i);;){if(n===0){if(pp(a)<1)break;const u=gp(a,1);o=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(pp(a)<2)break;const u=gp(a,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(pp(a)<8)break;const u=gp(a,8),m=new DataView(u.buffer,u.byteOffset,u.length),p=m.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(G1);break}s=p*Math.pow(2,32)+m.getUint32(4),n=3}else{if(pp(a)<s)break;const u=gp(a,s);d.enqueue(_2(o?u:KE.decode(u),r)),n=0}if(s===0||s>t){d.enqueue(G1);break}}}})}const U$=4;function Ea(t){if(t)return Yie(t)}function Yie(t){for(var r in Ea.prototype)t[r]=Ea.prototype[r];return t}Ea.prototype.on=Ea.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Ea.prototype.once=function(t,r){function a(){this.off(t,a),r.apply(this,arguments)}return a.fn=r,this.on(t,a),this};Ea.prototype.off=Ea.prototype.removeListener=Ea.prototype.removeAllListeners=Ea.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+t];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<a.length;s++)if(n=a[s],n===r||n.fn===r){a.splice(s,1);break}return a.length===0&&delete this._callbacks["$"+t],this};Ea.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),a=this._callbacks["$"+t],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(a){a=a.slice(0);for(var n=0,s=a.length;n<s;++n)a[n].apply(this,r)}return this};Ea.prototype.emitReserved=Ea.prototype.emit;Ea.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ea.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Lg=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,a)=>a(r,0),xs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Xie="arraybuffer";function V$(t,...r){return r.reduce((a,n)=>(t.hasOwnProperty(n)&&(a[n]=t[n]),a),{})}const Qie=xs.setTimeout,Jie=xs.clearTimeout;function Ig(t,r){r.useNativeTimers?(t.setTimeoutFn=Qie.bind(xs),t.clearTimeoutFn=Jie.bind(xs)):(t.setTimeoutFn=xs.setTimeout.bind(xs),t.clearTimeoutFn=xs.clearTimeout.bind(xs))}const Zie=1.33;function ele(t){return typeof t=="string"?tle(t):Math.ceil((t.byteLength||t.size)*Zie)}function tle(t){let r=0,a=0;for(let n=0,s=t.length;n<s;n++)r=t.charCodeAt(n),r<128?a+=1:r<2048?a+=2:r<55296||r>=57344?a+=3:(n++,a+=4);return a}function H$(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rle(t){let r="";for(let a in t)t.hasOwnProperty(a)&&(r.length&&(r+="&"),r+=encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return r}function ale(t){let r={},a=t.split("&");for(let n=0,s=a.length;n<s;n++){let o=a[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}class nle extends Error{constructor(r,a,n){super(r),this.description=a,this.context=n,this.type="TransportError"}}class P2 extends Ea{constructor(r){super(),this.writable=!1,Ig(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,a,n){return super.emitReserved("error",new nle(r,a,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const a=_2(r,this.socket.binaryType);this.onPacket(a)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,a={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const a=rle(r);return a.length?"?"+a:""}}class sle extends P2{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const a=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||a()})),this.writable||(n++,this.once("drain",function(){--n||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const a=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Wie(r,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Hie(r,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=H$()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(r,a)}}let W$=!1;try{W$=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ole=W$;function ile(){}class lle extends sle{constructor(r){if(super(r),typeof location<"u"){const a=location.protocol==="https:";let n=location.port;n||(n=a?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,a){const n=this.request({method:"POST",data:r});n.on("success",a),n.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(a,n)=>{this.onError("xhr poll error",a,n)}),this.pollXhr=r}}class ho extends Ea{constructor(r,a,n){super(),this.createRequest=r,Ig(this,n),this._opts=n,this._method=n.method||"GET",this._uri=a,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const a=V$(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(a);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ho.requestsCount++,ho.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ile,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ho.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ho.requestsCount=0;ho.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",NT);else if(typeof addEventListener=="function"){const t="onpagehide"in xs?"pagehide":"unload";addEventListener(t,NT,!1)}}function NT(){for(let t in ho.requests)ho.requests.hasOwnProperty(t)&&ho.requests[t].abort()}const cle=(function(){const t=G$({xdomain:!1});return t&&t.responseType!==null})();class dle extends lle{constructor(r){super(r);const a=r&&r.forceBase64;this.supportsBinary=cle&&!a}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new ho(G$,this.uri(),r)}}function G$(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||ole))return new XMLHttpRequest}catch{}if(!r)try{return new xs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const K$=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ule extends P2{get name(){return"websocket"}doOpen(){const r=this.uri(),a=this.opts.protocols,n=K$?{}:V$(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,a,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const n=r[a],s=a===r.length-1;A2(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}s&&Lg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=H$()),this.supportsBinary||(a.b64=1),this.createUri(r,a)}}const YE=xs.WebSocket||xs.MozWebSocket;class mle extends ule{createSocket(r,a,n){return K$?new YE(r,a,n):a?new YE(r,a):new YE(r)}doWrite(r,a){this.ws.send(a)}}class fle extends P2{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const a=Kie(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(a).getReader(),s=Gie();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const o=()=>{n.read().then(({done:d,value:u})=>{d||(this.onPacket(u),o())}).catch(d=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const n=r[a],s=a===r.length-1;this._writer.write(n).then(()=>{s&&Lg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const ple={websocket:mle,webtransport:fle,polling:dle},gle=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hle=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function K1(t){if(t.length>8e3)throw"URI too long";const r=t,a=t.indexOf("["),n=t.indexOf("]");a!=-1&&n!=-1&&(t=t.substring(0,a)+t.substring(a,n).replace(/:/g,";")+t.substring(n,t.length));let s=gle.exec(t||""),o={},i=14;for(;i--;)o[hle[i]]=s[i]||"";return a!=-1&&n!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=yle(o,o.path),o.queryKey=ble(o,o.query),o}function yle(t,r){const a=/\/{2,9}/g,n=r.replace(a,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ble(t,r){const a={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,o){s&&(a[s]=o)}),a}const Y1=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pp=[];Y1&&addEventListener("offline",()=>{Pp.forEach(t=>t())},!1);class Ti extends Ea{constructor(r,a){if(super(),this.binaryType=Xie,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(a=r,r=null),r){const n=K1(r);a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)}else a.host&&(a.hostname=K1(a.host).host);Ig(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ale(this.opts.query)),Y1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const a=Object.assign({},this.opts.query);a.EIO=U$,a.transport=r,this.id&&(a.sid=this.id);const n=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Ti.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(r);a.open(),this.setTransport(a)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",Ti.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=r.data,this._onError(a);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(a+=ele(s)),n>0&&a>this._maxPayload)return this.writeBuffer.slice(0,n);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Lg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,a,n){return this._sendPacket("message",r,a,n),this}send(r,a,n){return this._sendPacket("message",r,a,n),this}_sendPacket(r,a,n,s){if(typeof a=="function"&&(s=a,a=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:r,data:a,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),r()},n=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if(Ti.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Y1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Pp.indexOf(this._offlineEventListener);n!==-1&&Pp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,a),this.writeBuffer=[],this._prevBufferLen=0}}}Ti.protocol=U$;class xle extends Ti{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let a=this.createTransport(r),n=!1;Ti.priorWebsocketSuccess=!1;const s=()=>{n||(a.send([{type:"ping",data:"probe"}]),a.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Ti.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=a.name,this.emitReserved("upgradeError",y)}}))};function o(){n||(n=!0,p(),a.close(),a=null)}const i=f=>{const y=new Error("probe error: "+f);y.transport=a.name,o(),this.emitReserved("upgradeError",y)};function d(){i("transport closed")}function u(){i("socket closed")}function m(f){a&&f.name!==a.name&&o()}const p=()=>{a.removeListener("open",s),a.removeListener("error",i),a.removeListener("close",d),this.off("close",u),this.off("upgrading",m)};a.once("open",s),a.once("error",i),a.once("close",d),this.once("close",u),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||a.open()},200):a.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const a=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&a.push(r[n]);return a}}let vle=class extends xle{constructor(r,a={}){const n=typeof r=="object"?r:a;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>ple[s]).filter(s=>!!s)),super(r,n)}};function Ele(t,r="",a){let n=t;a=a||typeof location<"u"&&location,t==null&&(t=a.protocol+"//"+a.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=a.protocol+t:t=a.host+t),/^(https?|wss?):\/\//.test(t)||(typeof a<"u"?t=a.protocol+"//"+t:t="https://"+t),n=K1(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+r,n.href=n.protocol+"://"+o+(a&&a.port===n.port?"":":"+n.port),n}const wle=typeof ArrayBuffer=="function",Nle=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Y$=Object.prototype.toString,kle=typeof Blob=="function"||typeof Blob<"u"&&Y$.call(Blob)==="[object BlobConstructor]",Sle=typeof File=="function"||typeof File<"u"&&Y$.call(File)==="[object FileConstructor]";function T2(t){return wle&&(t instanceof ArrayBuffer||Nle(t))||kle&&t instanceof Blob||Sle&&t instanceof File}function Tp(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let a=0,n=t.length;a<n;a++)if(Tp(t[a]))return!0;return!1}if(T2(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Tp(t.toJSON(),!0);for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&Tp(t[a]))return!0;return!1}function Cle(t){const r=[],a=t.data,n=t;return n.data=X1(a,r),n.attachments=r.length,{packet:n,buffers:r}}function X1(t,r){if(!t)return t;if(T2(t)){const a={_placeholder:!0,num:r.length};return r.push(t),a}else if(Array.isArray(t)){const a=new Array(t.length);for(let n=0;n<t.length;n++)a[n]=X1(t[n],r);return a}else if(typeof t=="object"&&!(t instanceof Date)){const a={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=X1(t[n],r));return a}return t}function Ale(t,r){return t.data=Q1(t.data,r),delete t.attachments,t}function Q1(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let a=0;a<t.length;a++)t[a]=Q1(t[a],r);else if(typeof t=="object")for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=Q1(t[a],r));return t}const X$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_le=5;var Gt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Gt||(Gt={}));class Ple{constructor(r){this.replacer=r}encode(r){return(r.type===Gt.EVENT||r.type===Gt.ACK)&&Tp(r)?this.encodeAsBinary({type:r.type===Gt.EVENT?Gt.BINARY_EVENT:Gt.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let a=""+r.type;return(r.type===Gt.BINARY_EVENT||r.type===Gt.BINARY_ACK)&&(a+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(a+=r.nsp+","),r.id!=null&&(a+=r.id),r.data!=null&&(a+=JSON.stringify(r.data,this.replacer)),a}encodeAsBinary(r){const a=Cle(r),n=this.encodeAsString(a.packet),s=a.buffers;return s.unshift(n),s}}class O2 extends Ea{constructor(r){super(),this.reviver=r}add(r){let a;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(r);const n=a.type===Gt.BINARY_EVENT;n||a.type===Gt.BINARY_ACK?(a.type=n?Gt.EVENT:Gt.ACK,this.reconstructor=new Tle(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(T2(r)||r.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(r),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let a=0;const n={type:Number(r.charAt(0))};if(Gt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Gt.BINARY_EVENT||n.type===Gt.BINARY_ACK){const o=a+1;for(;r.charAt(++a)!=="-"&&a!=r.length;);const i=r.substring(o,a);if(i!=Number(i)||r.charAt(a)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(r.charAt(a+1)==="/"){const o=a+1;for(;++a&&!(r.charAt(a)===","||a===r.length););n.nsp=r.substring(o,a)}else n.nsp="/";const s=r.charAt(a+1);if(s!==""&&Number(s)==s){const o=a+1;for(;++a;){const i=r.charAt(a);if(i==null||Number(i)!=i){--a;break}if(a===r.length)break}n.id=Number(r.substring(o,a+1))}if(r.charAt(++a)){const o=this.tryParse(r.substr(a));if(O2.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,a){switch(r){case Gt.CONNECT:return V0(a);case Gt.DISCONNECT:return a===void 0;case Gt.CONNECT_ERROR:return typeof a=="string"||V0(a);case Gt.EVENT:case Gt.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&X$.indexOf(a[0])===-1);case Gt.ACK:case Gt.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Tle{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const a=Ale(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ole(t){return typeof t=="string"}const Mle=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function jle(t){return t===void 0||Mle(t)}function V0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rle(t,r){switch(t){case Gt.CONNECT:return r===void 0||V0(r);case Gt.DISCONNECT:return r===void 0;case Gt.EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&X$.indexOf(r[0])===-1);case Gt.ACK:return Array.isArray(r);case Gt.CONNECT_ERROR:return typeof r=="string"||V0(r);default:return!1}}function $le(t){return Ole(t.nsp)&&jle(t.id)&&Rle(t.type,t.data)}const Lle=Object.freeze(Object.defineProperty({__proto__:null,Decoder:O2,Encoder:Ple,get PacketType(){return Gt},isPacketValid:$le,protocol:_le},Symbol.toStringTag,{value:"Module"}));function Vs(t,r,a){return t.on(r,a),function(){t.off(r,a)}}const Ile=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Q$ extends Ea{constructor(r,a,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=a,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Vs(r,"open",this.onopen.bind(this)),Vs(r,"packet",this.onpacket.bind(this)),Vs(r,"error",this.onerror.bind(this)),Vs(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...a){var n,s,o;if(Ile.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(a.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const i={type:Gt.EVENT,data:a};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const p=this.ids++,f=a.pop();this._registerAckCallback(p,f),i.id=p}const d=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(u?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(r,a){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[r]=a;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);a.call(this,new Error("operation has timed out"))},s),i=(...d)=>{this.io.clearTimeoutFn(o),a.apply(this,d)};i.withError=!0,this.acks[r]=i}emitWithAck(r,...a){return new Promise((n,s)=>{const o=(i,d)=>i?s(i):n(d);o.withError=!0,a.push(o),this.emit(r,...a)})}_addToQueue(r){let a;typeof r[r.length-1]=="function"&&(a=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...o)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(s)):(this._queue.shift(),a&&a(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!r||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Gt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Gt.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Gt.EVENT:case Gt.BINARY_EVENT:this.onevent(r);break;case Gt.ACK:case Gt.BINARY_ACK:this.onack(r);break;case Gt.DISCONNECT:this.ondisconnect();break;case Gt.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const a=r.data||[];r.id!=null&&a.push(this.ack(r.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const n of a)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const a=this;let n=!1;return function(...s){n||(n=!0,a.packet({type:Gt.ACK,id:r,data:s}))}}onack(r){const a=this.acks[r.id];typeof a=="function"&&(delete this.acks[r.id],a.withError&&r.data.unshift(null),a.apply(this,r.data))}onconnect(r,a){this.id=r,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Gt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const a=this._anyListeners;for(let n=0;n<a.length;n++)if(r===a[n])return a.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const a=this._anyOutgoingListeners;for(let n=0;n<a.length;n++)if(r===a[n])return a.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const n of a)n.apply(this,r.data)}}}function _d(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_d.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),a=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-a:t+a}return Math.min(t,this.max)|0};_d.prototype.reset=function(){this.attempts=0};_d.prototype.setMin=function(t){this.ms=t};_d.prototype.setMax=function(t){this.max=t};_d.prototype.setJitter=function(t){this.jitter=t};class J1 extends Ea{constructor(r,a){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(a=r,r=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,Ig(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((n=a.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new _d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=r;const s=a.parser||Lle;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var a;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(a=this.backoff)===null||a===void 0||a.setMin(r),this)}randomizationFactor(r){var a;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(a=this.backoff)===null||a===void 0||a.setJitter(r),this)}reconnectionDelayMax(r){var a;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(a=this.backoff)===null||a===void 0||a.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new vle(this.uri,this.opts);const a=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Vs(a,"open",function(){n.onopen(),r&&r()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),r?r(d):this.maybeReconnectOnOpen()},i=Vs(a,"error",o);if(this._timeout!==!1){const d=this._timeout,u=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),a.close()},d);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(i),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Vs(r,"ping",this.onping.bind(this)),Vs(r,"data",this.ondata.bind(this)),Vs(r,"error",this.onerror.bind(this)),Vs(r,"close",this.onclose.bind(this)),Vs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(a){this.onclose("parse error",a)}}ondecoded(r){Lg(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,a){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new Q$(this,r,a),this.nsps[r]=n),n}_destroy(r){const a=Object.keys(this.nsps);for(const n of a)if(this.nsps[n].active)return;this._close()}_packet(r){const a=this.encoder.encode(r);for(let n=0;n<a.length;n++)this.engine.write(a[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,a){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},a);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Eu={};function Op(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const a=Ele(t,r.path||"/socket.io"),n=a.source,s=a.id,o=a.path,i=Eu[s]&&o in Eu[s].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||i;let u;return d?u=new J1(n,r):(Eu[s]||(Eu[s]=new J1(n,r)),u=Eu[s]),a.query&&!r.query&&(r.query=a.queryKey),u.socket(a.path,r)}Object.assign(Op,{Manager:J1,Socket:Q$,io:Op,connect:Op});const Dle=t=>{const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},zle=t=>{const r=new Date(t),a=new Date,n=new Date(a);return n.setDate(n.getDate()-1),r.toDateString()===a.toDateString()?"Aujourd'hui":r.toDateString()===n.toDateString()?"Hier":r.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},XE={id:"welcome",from:"support",text:"Bonjour !  Bienvenue sur le support HDMarket. Comment pouvons-nous vous aider ?",createdAt:new Date().toISOString()},kT=768,ST=70,Fle=22,Ble=18,qle=56,Ule=()=>{const{user:t}=g.useContext(fr),r=t?.token,[a,n]=g.useState(!1),[s,o]=g.useState([XE]),[i,d]=g.useState([]),[u,m]=g.useState(!1),[p,f]=g.useState(""),[y,b]=g.useState(!1),[w,E]=g.useState(0),[x,N]=g.useState(!1),[k,A]=g.useState(()=>{if(typeof window>"u")return!1;try{return localStorage.getItem("hdmarket_chat_hidden")==="true"}catch{return!1}}),P=g.useRef(null),S=g.useRef(null),_=g.useRef(null),T=g.useRef(null),O="https://hdmarket-backend.onrender.com/api".replace(/\/api$/,"");g.useEffect(()=>{if(!r){_.current&&(_.current.disconnect(),_.current=null),m(!1);return}const J=Op(O,{auth:r?{token:r}:void 0,transports:["websocket"]});return _.current=J,J.on("message",async ue=>{if(ue.from==="user"&&T.current&&ue.text===T.current){T.current=null;return}o(he=>[...he,ue]),!a&&ue.from==="support"&&E(he=>he+1),b(!1)}),J.on("typing",()=>b(!0)),J.on("stopTyping",()=>b(!1)),J.on("connect",()=>m(!0)),J.on("disconnect",()=>m(!1)),J.on("connect_error",()=>m(!1)),()=>{J.disconnect(),_.current=null}},[r,O,a]),g.useEffect(()=>{if(!r){d([]);return}(async()=>{try{const{data:ue}=await se.get("/chat/templates");d(Array.isArray(ue)?ue:[])}catch(ue){console.error("Templates load error:",ue)}})()},[r]);const[R,D]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<kT),[j,$]=g.useState(!1);g.useEffect(()=>{if(typeof window>"u")return;const J=()=>{D(window.innerWidth<kT)};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),g.useEffect(()=>{if(typeof window>"u")return;const J=ue=>{const he=!!ue?.detail?.visible;$(he)};return window.addEventListener("hdmarket:scroll-top-visibility",J),()=>window.removeEventListener("hdmarket:scroll-top-visibility",J)},[]),g.useEffect(()=>{if(!r){o([XE]);return}(async()=>{try{const{data:ue}=await se.get("/chat/history?limit=100");o(ue.length?ue:[XE])}catch(ue){console.error("Chat history load error:",ue)}})()},[r]),g.useEffect(()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)},[s,a]),g.useEffect(()=>{a&&(E(0),S.current?.focus())},[a]);const K=()=>{if(!P.current)return;const{scrollTop:J,scrollHeight:ue,clientHeight:he}=P.current;N(ue-J-he>100)},W=()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)},z=async J=>{if(!_.current||!J?.trim())return;const ue=J.trim();T.current=ue,_.current.emit("sendMessage",{text:ue});const he={id:`local-user-${Date.now()}`,from:"user",text:ue,createdAt:new Date().toISOString(),status:"sent"};o(Oe=>[...Oe,he]),f("")},Q=J=>{if(!_.current||!J?.question)return;const ue=J.question.trim();T.current=ue,_.current.emit("sendMessage",{text:ue});const he={id:`local-response-${J._id}-${Date.now()}`,from:"support",text:J.response||"Le support vous rpondra bientt.",createdAt:new Date().toISOString()},Oe={id:`local-user-${J._id}-${Date.now()}`,from:"user",text:ue,createdAt:new Date().toISOString(),status:"sent"};o(te=>[...te,Oe,he])},ee=J=>{J.preventDefault(),z(p)},H=async J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),await z(p))},q=()=>{A(!0);try{localStorage.setItem("hdmarket_chat_hidden","true")}catch(J){console.error("Failed to save chat hidden state:",J)}},B=()=>{A(!1),n(!0);try{localStorage.removeItem("hdmarket_chat_hidden")}catch(J){console.error("Failed to remove chat hidden state:",J)}},G=g.useMemo(()=>i.slice(0,4),[i]),Y=j?ST+Ble+qle:ST+Fle,V=g.useMemo(()=>{const J=[];let ue=null;return s.forEach(he=>{const Oe=new Date(he.createdAt).toDateString();Oe!==ue&&(ue=Oe,J.push({type:"date",date:he.createdAt})),J.push({type:"message",...he})}),J},[s]);return r?k?e.createElement("button",{type:"button",onClick:B,className:"fixed right-4 bottom-4 z-50 flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 px-4 py-2.5 text-white shadow-lg shadow-indigo-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/40 sm:right-6",style:{bottom:R?`calc(env(safe-area-inset-bottom, 0px) + ${Y}px)`:"24px"},title:"Afficher le support"},w>0&&e.createElement("span",{className:"absolute -right-1 -top-1 flex h-5 w-5"},e.createElement("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-red-400 opacity-75"}),e.createElement("span",{className:"relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold"},w>9?"9+":w)),e.createElement(zn,{className:"h-4 w-4"}),e.createElement("span",{className:"text-sm font-medium"},"Support")):e.createElement("div",{className:"fixed right-4 z-50 flex flex-col items-end sm:right-6",style:{bottom:R?`calc(env(safe-area-inset-bottom, 0px) + ${Y}px)`:"24px"}},a&&e.createElement("div",{className:"mb-3 w-[340px] max-w-[calc(100vw-2rem)] rounded-2xl border border-gray-200 bg-white shadow-2xl transition-all duration-300 dark:border-gray-700 dark:bg-gray-900"},e.createElement("div",{className:"relative overflow-hidden rounded-t-2xl bg-gradient-to-r from-indigo-600 via-indigo-500 to-purple-600 px-4 py-4"},e.createElement("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-white/10 blur-2xl"}),e.createElement("div",{className:"absolute -left-6 -bottom-6 h-20 w-20 rounded-full bg-purple-400/20 blur-xl"}),e.createElement("div",{className:"relative flex items-start justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(Uz,{className:"h-5 w-5 text-white"})),e.createElement("span",{className:`absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full border-2 border-indigo-600 ${u?"bg-emerald-400":"bg-gray-400"}`})),e.createElement("div",null,e.createElement("h3",{className:"font-semibold text-white"},"Support HDMarket"),e.createElement("div",{className:"flex items-center gap-1.5 text-xs text-white/80"},u?e.createElement(e.Fragment,null,e.createElement(xB,{className:"h-3 w-3"}),e.createElement("span",null,"En ligne  Rponse rapide")):e.createElement(e.Fragment,null,e.createElement(oM,{className:"h-3 w-3"}),e.createElement("span",null,"Hors ligne"))))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:q,className:"flex items-center gap-1.5 rounded-lg px-2.5 py-1.5 text-xs font-medium text-white/90 bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Masquer le chat",title:"Masquer le chat"},e.createElement(Om,{className:"h-3.5 w-3.5"}),e.createElement("span",null,"Masquer")),e.createElement("button",{type:"button",onClick:()=>n(!1),className:"rounded-lg p-1.5 text-white/80 transition-colors hover:bg-white/20 hover:text-white","aria-label":"Fermer le chat",title:"Fermer le chat"},e.createElement(_t,{className:"h-5 w-5"})))),e.createElement("div",{className:"relative mt-3 flex items-center gap-2 rounded-lg bg-white/10 px-3 py-1.5 backdrop-blur-sm"},e.createElement(Jn,{className:"h-3.5 w-3.5 text-emerald-300"}),e.createElement("span",{className:"text-xs text-white/90"},"Conversation scurise et chiffre"))),e.createElement("div",{ref:P,onScroll:K,className:"relative flex max-h-[320px] min-h-[200px] flex-col gap-1 overflow-y-auto bg-gradient-to-b from-gray-50 to-white p-4 dark:from-gray-800 dark:to-gray-900"},V.map((J,ue)=>{if(J.type==="date")return e.createElement("div",{key:`date-${J.date}-${ue}`,className:"my-3 flex items-center justify-center"},e.createElement("div",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-500 dark:bg-gray-700 dark:text-gray-400"},zle(J.date)));const he=J.from==="user";return e.createElement("div",{key:J.id||`msg-${ue}-${J.createdAt}`,className:`flex ${he?"justify-end":"justify-start"} mb-1`},e.createElement("div",{className:`group relative max-w-[85%] rounded-2xl px-3.5 py-2 ${he?"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white":"bg-white text-gray-800 shadow-sm ring-1 ring-gray-100 dark:bg-gray-800 dark:text-gray-200 dark:ring-gray-700"}`},!he&&e.createElement("div",{className:"mb-1 flex items-center gap-1.5"},e.createElement(_r,{className:"h-3 w-3 text-indigo-500"}),e.createElement("span",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400"},"Support")),e.createElement("p",{className:"text-sm leading-relaxed whitespace-pre-wrap"},J.text),e.createElement("div",{className:`mt-1 flex items-center gap-1.5 text-[10px] ${he?"justify-end text-indigo-200":"text-gray-400"}`},e.createElement("span",null,Dle(J.createdAt)),he&&e.createElement("span",null,J.status==="read"?e.createElement(tM,{className:"h-3 w-3 text-emerald-300"}):e.createElement(hl,{className:"h-3 w-3"})))))}),y&&e.createElement("div",{className:"flex justify-start mb-1"},e.createElement("div",{className:"flex items-center gap-1.5 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100 dark:bg-gray-800 dark:ring-gray-700"},e.createElement("div",{className:"flex gap-1"},e.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0ms"}}),e.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"150ms"}}),e.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"300ms"}})),e.createElement("span",{className:"ml-1 text-xs text-gray-500"},"Support crit..."))),x&&e.createElement("button",{type:"button",onClick:W,className:"sticky bottom-2 left-1/2 -translate-x-1/2 rounded-full bg-white p-2 shadow-lg ring-1 ring-gray-200 transition-all hover:bg-gray-50 dark:bg-gray-800 dark:ring-gray-700"},e.createElement(Ha,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}))),G.length>0&&e.createElement("div",{className:"border-t border-gray-100 bg-gray-50/50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/50"},e.createElement("p",{className:"mb-2 flex items-center gap-1.5 text-xs font-medium text-gray-500 dark:text-gray-400"},e.createElement(ma,{className:"h-3 w-3"}),"Rponses rapides"),e.createElement("div",{className:"flex flex-wrap gap-1.5"},G.map(J=>e.createElement("button",{key:J._id,type:"button",onClick:()=>Q(J),className:"rounded-full border border-indigo-200 bg-white px-3 py-1.5 text-xs font-medium text-indigo-600 transition-all hover:border-indigo-300 hover:bg-indigo-50 dark:border-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300 dark:hover:bg-indigo-900/50"},J.question)))),e.createElement("form",{onSubmit:ee,className:"border-t border-gray-100 p-3 dark:border-gray-700"},e.createElement("div",{className:"flex items-end gap-2"},e.createElement("div",{className:"relative flex-1"},e.createElement("input",{ref:S,type:"text",value:p,onChange:J=>f(J.target.value),onKeyDown:H,placeholder:"crivez votre message...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 pr-10 text-sm text-gray-800 placeholder-gray-400 transition-all focus:border-indigo-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:border-indigo-500 dark:focus:ring-indigo-900/50",disabled:!u})),e.createElement("button",{type:"submit",disabled:!p.trim()||!u,className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-md shadow-indigo-500/30 transition-all hover:from-indigo-600 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none dark:disabled:from-gray-600 dark:disabled:to-gray-700"},e.createElement(ag,{className:"h-4 w-4"}))),e.createElement("p",{className:"mt-2 flex items-center justify-center gap-1.5 text-[10px] text-gray-400 dark:text-gray-500"},e.createElement(_r,{className:"h-3 w-3"}),"Messages protgs"))),e.createElement("button",{type:"button",onClick:()=>n(J=>!J),className:"group relative flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-3 text-white shadow-lg shadow-indigo-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/40"},w>0&&e.createElement("span",{className:"absolute -right-1 -top-1 flex h-5 w-5"},e.createElement("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-red-400 opacity-75"}),e.createElement("span",{className:"relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold"},w>9?"9+":w)),e.createElement(br,{className:`h-5 w-5 transition-transform duration-300 ${a?"rotate-12":"group-hover:scale-110"}`}),e.createElement("span",{className:"font-medium"},a?"Fermer":"Support"),e.createElement("span",{className:`flex h-2.5 w-2.5 rounded-full ${u?"bg-emerald-400":"bg-gray-400"}`},u&&e.createElement("span",{className:"animate-ping absolute inline-flex h-2.5 w-2.5 rounded-full bg-emerald-400 opacity-75"})))):null},CT=768,Vle=120,Hle=["/","/products","/notifications","/suggestions"],Wle=70,Gle=18;function Kle(){const t=Sn(),[r,a]=g.useState(()=>typeof window>"u"?!1:window.innerWidth<CT),[n,s]=g.useState(!1),o=g.useMemo(()=>Hle.includes(t.pathname),[t.pathname]);return g.useEffect(()=>{if(typeof window>"u")return;const i=()=>{a(window.innerWidth<CT)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),g.useEffect(()=>{if(!o||!r||typeof window>"u"){s(!1);return}let i=null;const d=()=>{i||(i=requestAnimationFrame(()=>{i=null;const u=window.scrollY||window.pageYOffset,m=window.innerHeight,p=document.documentElement?.scrollHeight||document.body?.scrollHeight||0,f=u+m>=p-Vle;s(y=>y===f?y:f)}))};return d(),window.addEventListener("scroll",d,{passive:!0}),()=>{window.removeEventListener("scroll",d),i&&cancelAnimationFrame(i)}},[o,r]),g.useEffect(()=>{if(typeof window>"u")return;const i=new CustomEvent("hdmarket:scroll-top-visibility",{detail:{visible:n}});window.dispatchEvent(i)},[n]),n?e.createElement("button",{type:"button",onClick:()=>{typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Remonter en haut",style:{bottom:`calc(env(safe-area-inset-bottom, 0px) + ${Wle+Gle}px)`},className:"fixed right-4 z-40 inline-flex h-12 w-12 items-center justify-center rounded-full bg-indigo-600/95 text-white shadow-xl shadow-indigo-500/40 transition hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-500"},e.createElement(HD,{className:"h-5 w-5"})):null}function Yle(){const[t,r]=g.useState([]),[a,n]=g.useState(""),[s,o]=g.useState(""),[i,d]=g.useState(!1),[u,m]=g.useState(!1),[p,f]=g.useState(""),[y,b]=g.useState(null),[w,E]=g.useState(""),[x,N]=g.useState(""),k=async()=>{d(!0);try{const{data:T}=await se.get("/chat/templates");r(Array.isArray(T)?T:[])}catch(T){console.error("Templates load error:",T),f("Impossible de charger les modles.")}finally{d(!1)}};g.useEffect(()=>{k()},[]);const A=async T=>{if(T.preventDefault(),!a.trim()||!s.trim()){f("Question et rponse requises.");return}m(!0);try{await se.post("/admin/chat/templates",{question:a.trim(),response:s.trim()}),n(""),o(""),f(""),await k()}catch(O){console.error("Template save error:",O),f(O.response?.data?.message||"Impossible de crer le modle.")}finally{m(!1)}},P=T=>{b(T._id),E(T.question),N(T.response),f("")},S=async T=>{if(T.preventDefault(),!w.trim()||!x.trim()){f("Question et rponse requises.");return}m(!0);try{await se.patch(`/chat/templates/${y}`,{question:w.trim(),response:x.trim()}),b(null),E(""),N(""),await k()}catch(O){console.error("Template edit error:",O),f(O.response?.data?.message||"Impossible de mettre  jour.")}finally{m(!1)}},_=async T=>{try{await se.delete(`/chat/templates/${T}`),await k()}catch(O){console.error("Template delete error:",O),f("Impossible de supprimer le modle.")}};return e.createElement("div",{className:"mx-auto max-w-4xl space-y-6 px-4"},e.createElement("header",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50 flex items-center gap-2"},e.createElement(fa,{className:"h-6 w-6 text-indigo-600"}),"Gestion des modles de chat"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ajoutez des questions et rponses standards pour guider le support en conversation.")),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("form",{className:"space-y-4",onSubmit:A},e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),e.createElement("input",{value:a,onChange:T=>n(T.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Exemple : Quels sont vos dlais de livraison ?"})),e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),e.createElement("textarea",{rows:3,value:s,onChange:T=>o(T.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Rponse par dfaut du support."})),p&&e.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},p),e.createElement("button",{type:"submit",disabled:u,className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60"},u?"Enregistrement...":"Crer le modle"))),y&&e.createElement("section",{className:"rounded-2xl border border-yellow-200 bg-yellow-50 p-5 shadow-sm dark:border-yellow-700 dark:bg-yellow-900/80"},e.createElement("h3",{className:"text-base font-semibold text-yellow-800 dark:text-yellow-200"},"Modifier le modle"),e.createElement("form",{className:"mt-3 space-y-3",onSubmit:S},e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),e.createElement("input",{value:w,onChange:T=>E(T.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),e.createElement("div",null,e.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),e.createElement("textarea",{rows:3,value:x,onChange:T=>N(T.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60",disabled:u,type:"submit"},u?"Sauvegarde...":"Sauvegarder"),e.createElement("button",{type:"button",onClick:()=>{b(null),E(""),N(""),f("")},className:"inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:text-gray-200"},"Annuler")))),e.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50"},"Modles existants"),i?e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement..."):t.length?e.createElement("div",{className:"mt-4 space-y-3"},t.map(T=>e.createElement("div",{key:T._id,className:"rounded-2xl border border-gray-100 p-4 text-sm text-gray-800 dark:border-gray-700 dark:text-gray-100"},e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2"},e.createElement(fa,{className:"h-4 w-4 text-indigo-500"}),T.question),e.createElement("p",{className:"mt-2 text-gray-600 dark:text-gray-300"},T.response),e.createElement("div",{className:"mt-3 flex gap-2"},e.createElement("button",{type:"button",onClick:()=>P(T),className:"rounded-full border border-indigo-200 px-3 py-1 text-xs text-indigo-600 hover:bg-indigo-50 dark:border-gray-700 dark:text-indigo-200"},"diter"),e.createElement("button",{type:"button",onClick:()=>_(T._id),className:"rounded-full border border-red-200 px-3 py-1 text-xs text-red-600 hover:bg-red-50 dark:border-gray-700 dark:text-red-400"},"Supprimer"))))):e.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun modle renseign pour le moment.")))}const Xle=12;function Qle(){const{user:t}=g.useContext(fr),[r,a]=g.useState([]),[n,s]=g.useState([]),[o,i]=g.useState(!1),[d,u]=g.useState(!1),[m,p]=g.useState(""),[f,y]=g.useState(""),[b,w]=g.useState(1),[E,x]=g.useState(1),[N,k]=g.useState(1),[A,P]=g.useState(1),[S,_]=g.useState(null),[T,O]=g.useState(""),[R,D]=g.useState(null),[j,$]=g.useState(!0),[K,W]=g.useState([]),[z,Q]=g.useState(!1),[ee,H]=g.useState([]),[q,B]=g.useState(!1),[G,Y]=g.useState(!1),[V,J]=g.useState(""),[ue,he]=g.useState({}),Oe=t?.role==="admin",te=xe=>{O(xe.target.value),w(1),x(1)},ie=g.useCallback(async()=>{$(!0);try{const{data:xe}=await se.get("/admin/products/boosts/stats");D(xe)}catch(xe){console.error("Stats load error",xe)}finally{$(!1)}},[]),de=g.useCallback(async()=>{if(Oe){Q(!0);try{const{data:xe}=await se.get("/admin/boost-managers");W(Array.isArray(xe)?xe:[])}catch(xe){console.error("Boost managers load error",xe)}finally{Q(!1)}}},[Oe]),Ce=g.useCallback(async(xe="")=>{if(Oe){B(!0);try{const{data:He}=await se.get("/admin/users",{params:{q:xe,limit:50}}),Je=Array.isArray(He)?He:He?.items||[];H(Je)}catch(He){console.error("Users load error",He)}finally{B(!1)}}},[Oe]),ne=g.useCallback(async({boostedFilter:xe,pageNumber:He,searchQuery:Je,setItems:xt,setTotalPages:ht,setLoading:mt,setError:pt})=>{mt(!0),pt("");try{const{data:bt}=await se.get("/admin/products/boosts",{params:{q:Je,page:He,limit:Xle,boosted:xe}});xt(Array.isArray(bt?.items)?bt.items:[]),ht(bt?.pagination?.pages||1)}catch(bt){console.error("Boosts load error",bt),xt([]),ht(1),pt(xe?"Impossible de charger les produits boosts.":"Impossible de charger les produits  booster.")}finally{mt(!1)}},[]);g.useEffect(()=>{ie(),de();const xe=setInterval(()=>{ie()},6e4);return()=>clearInterval(xe)},[ie,de]),g.useEffect(()=>{ne({boostedFilter:!0,pageNumber:b,searchQuery:T,setItems:a,setTotalPages:k,setLoading:i,setError:p})},[T,b,ne]),g.useEffect(()=>{ne({boostedFilter:!1,pageNumber:E,searchQuery:T,setItems:s,setTotalPages:P,setLoading:u,setError:y})},[T,E,ne]),g.useEffect(()=>{G&&Ce(V)},[G,V,Ce]);const re=(xe,He,Je)=>{he(xt=>({...xt,[xe]:{...xt[xe],[He]:Je}}))},Ie=async xe=>{_(xe);try{const He=ue[xe]||{},Je={};He.boostStartDate&&(Je.boostStartDate=He.boostStartDate),He.boostEndDate&&(Je.boostEndDate=He.boostEndDate),await se.patch(`/admin/products/${xe}/boost`,Je),he(xt=>{const ht={...xt};return delete ht[xe],ht}),await Promise.all([ne({boostedFilter:!0,pageNumber:b,searchQuery:T,setItems:a,setTotalPages:k,setLoading:i,setError:p}),ne({boostedFilter:!1,pageNumber:E,searchQuery:T,setItems:s,setTotalPages:P,setLoading:u,setError:y}),ie()])}catch(He){console.error("Toggle boost error",He);const Je=He.response?.data?.message||"Impossible de modifier le boost.";p(Je),y(Je)}finally{_(null)}},fe=async xe=>{try{await se.patch(`/admin/boost-managers/${xe}/toggle`),await Promise.all([de(),Ce(V)])}catch(He){console.error("Toggle boost manager error",He),alert(He.response?.data?.message||"Erreur lors de la modification de la permission.")}},Le=(xe,He,Je,xt)=>{if(Je<=1)return null;const ht=[],mt=7;let pt=Math.max(1,He-Math.floor(mt/2)),bt=Math.min(Je,pt+mt-1);bt-pt<mt-1&&(pt=Math.max(1,bt-mt+1)),pt>1&&(ht.push(e.createElement("button",{key:`${xe}-1`,type:"button",onClick:()=>xt(1),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},"1")),pt>2&&ht.push(e.createElement("span",{key:`${xe}-ellipsis-start`,className:"px-2 text-gray-500"},"...")));for(let Pt=pt;Pt<=bt;Pt++)ht.push(e.createElement("button",{key:`${xe}-${Pt}`,type:"button",onClick:()=>xt(Pt),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${He===Pt?"bg-indigo-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700"}`},Pt));return bt<Je&&(bt<Je-1&&ht.push(e.createElement("span",{key:`${xe}-ellipsis-end`,className:"px-2 text-gray-500"},"...")),ht.push(e.createElement("button",{key:`${xe}-${Je}`,type:"button",onClick:()=>xt(Je),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},Je))),ht},at=xe=>{const He=xe.images?.[0]||xe.image||"https://via.placeholder.com/400x400?text=HDMarket",Je=xe.description?`${xe.description.slice(0,100)}...`:"Aucune description disponible.",xt=Number(xe.price),ht=Number.isFinite(xt)?xt.toLocaleString("fr-FR"):"-",mt=xe.createdAt?new Date(xe.createdAt).toLocaleDateString("fr-FR"):"-";return e.createElement("article",{key:xe._id,className:"group rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-sm hover:shadow-lg hover:border-indigo-300 dark:hover:border-indigo-600 transition-all duration-300"},e.createElement("div",{className:"mb-4 h-48 overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-700"},e.createElement("img",{src:He,alt:xe.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-start justify-between gap-2"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement(Wa,{className:"h-3.5 w-3.5 text-indigo-500 flex-shrink-0"}),e.createElement("p",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400 truncate"},xe.category)),e.createElement("h2",{className:"text-lg font-bold text-gray-900 dark:text-white line-clamp-2"},xe.title)),e.createElement("div",{className:"text-right flex-shrink-0"},e.createElement("p",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400"},ht," FCFA"),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},mt))),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2"},Je),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400"},e.createElement("div",{className:"flex items-center gap-1"},e.createElement(ur,{className:"h-3.5 w-3.5"}),e.createElement("span",null,xe.favoritesCount||0)),e.createElement("div",{className:"flex items-center gap-1"},e.createElement(Ga,{className:"h-3.5 w-3.5"}),e.createElement("span",null,xe.salesCount||0)),xe.user?.shopName&&e.createElement("div",{className:"flex items-center gap-1"},e.createElement("span",{className:"truncate max-w-[100px]"},xe.user.shopName))),!xe.boosted&&e.createElement("div",{className:"space-y-2 px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement(pn,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),e.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300"},"Priode de boost (optionnel)")),e.createElement("div",{className:"grid grid-cols-2 gap-2"},e.createElement("div",null,e.createElement("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},"Date de dbut"),e.createElement("input",{type:"date",value:ue[xe._id]?.boostStartDate||"",onChange:pt=>re(xe._id,"boostStartDate",pt.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})),e.createElement("div",null,e.createElement("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},"Date de fin"),e.createElement("input",{type:"date",value:ue[xe._id]?.boostEndDate||"",onChange:pt=>re(xe._id,"boostEndDate",pt.target.value),min:ue[xe._id]?.boostStartDate||new Date().toISOString().split("T")[0],className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}))),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Laissez vide pour un boost permanent")),xe.boosted&&(xe.boostStartDate||xe.boostEndDate)&&e.createElement("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800"},e.createElement(pn,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),e.createElement("div",{className:"flex-1 text-xs text-indigo-700 dark:text-indigo-300"},xe.boostStartDate&&xe.boostEndDate?e.createElement("span",null,"Du ",new Date(xe.boostStartDate).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})," au ",new Date(xe.boostEndDate).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})):xe.boostStartDate?e.createElement("span",null," partir du ",new Date(xe.boostStartDate).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})):xe.boostEndDate?e.createElement("span",null,"Jusqu'au ",new Date(xe.boostEndDate).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})):null)),e.createElement("button",{onClick:()=>Ie(xe._id),disabled:S===xe._id,className:`w-full rounded-xl px-4 py-2.5 text-sm font-semibold transition-all duration-200 ${xe.boosted?"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-md hover:shadow-lg"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`},S===xe._id?e.createElement(e.Fragment,null,e.createElement(ku,{className:"h-4 w-4 animate-spin"}),e.createElement("span",null,"Chargement...")):xe.boosted?e.createElement(e.Fragment,null,e.createElement(_t,{className:"h-4 w-4"}),e.createElement("span",null,"Retirer le boost")):e.createElement(e.Fragment,null,e.createElement(Nn,{className:"h-4 w-4"}),e.createElement("span",null,"Booster ce produit")))))},nt=Le("boosted",b,N,w),it=Le("non-boosted",E,A,x);return e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},e.createElement("header",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 shadow-lg"},e.createElement(ma,{className:"h-8 w-8 text-white"})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-black text-gray-900 dark:text-white"},"Gestion des Boosts"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Promouvez vos produits et augmentez leur visibilit"))),Oe&&e.createElement("button",{type:"button",onClick:()=>Y(!G),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-md hover:shadow-lg transition-all"},e.createElement(Ia,{className:"h-5 w-5"}),e.createElement("span",null,"Grer les permissions"))),j?e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[1,2,3,4].map(xe=>e.createElement("div",{key:xe,className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 animate-pulse"},e.createElement("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-3"}),e.createElement("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"})))):R?e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement("div",{className:"rounded-2xl border-2 border-indigo-200 dark:border-indigo-800 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"p-2 rounded-xl bg-indigo-500 text-white"},e.createElement(Nn,{className:"h-5 w-5"})),e.createElement(Xt,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})),e.createElement("p",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-300 mb-1"},"Produits boosts"),e.createElement("p",{className:"text-3xl font-black text-indigo-900 dark:text-indigo-100"},R.totalBoosted||0),e.createElement("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-2"},"Sur ",R.totalProducts||0," produits")),e.createElement("div",{className:"rounded-2xl border-2 border-purple-200 dark:border-purple-800 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"p-2 rounded-xl bg-purple-500 text-white"},e.createElement(Ot,{className:"h-5 w-5"})),e.createElement(Qn,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})),e.createElement("p",{className:"text-sm font-semibold text-purple-700 dark:text-purple-300 mb-1"},"Non boosts"),e.createElement("p",{className:"text-3xl font-black text-purple-900 dark:text-purple-100"},R.totalNonBoosted||0),e.createElement("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-2"},"Disponibles pour boost")),e.createElement("div",{className:"rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"p-2 rounded-xl bg-emerald-500 text-white"},e.createElement(pn,{className:"h-5 w-5"})),e.createElement(Xt,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})),e.createElement("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-1"},"Boosts ce mois"),e.createElement("p",{className:"text-3xl font-black text-emerald-900 dark:text-emerald-100"},R.boostedThisMonth||0),e.createElement("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-2"},R.boostedThisWeek||0," cette semaine")),e.createElement("div",{className:"rounded-2xl border-2 border-amber-200 dark:border-amber-800 bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"p-2 rounded-xl bg-amber-500 text-white"},e.createElement(Ia,{className:"h-5 w-5"})),e.createElement($r,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})),e.createElement("p",{className:"text-sm font-semibold text-amber-700 dark:text-amber-300 mb-1"},"Gestionnaires"),e.createElement("p",{className:"text-3xl font-black text-amber-900 dark:text-amber-100"},K.length),e.createElement("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2"},"Utilisateurs autoriss"))):null,R?.boostedByCategory&&R.boostedByCategory.length>0&&e.createElement("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},e.createElement(Wa,{className:"h-5 w-5 text-indigo-600"}),"Top catgories boostes"),e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3"},R.boostedByCategory.map((xe,He)=>e.createElement("div",{key:xe._id||He,className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 border border-gray-200 dark:border-gray-600"},e.createElement("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 truncate"},xe._id||"Non catgoris"),e.createElement("p",{className:"text-2xl font-black text-indigo-600 dark:text-indigo-400"},xe.count))))),Oe&&G&&e.createElement("div",{className:"rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},e.createElement(Ia,{className:"h-5 w-5 text-indigo-600"}),"Gestionnaires de boosts"),e.createElement("button",{type:"button",onClick:()=>Y(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},e.createElement(_t,{className:"h-5 w-5 text-gray-500"}))),e.createElement("div",{className:"mb-4"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.createElement("input",{type:"text",value:V,onChange:xe=>J(xe.target.value),placeholder:"Rechercher un utilisateur...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900 transition-all"}))),K.length>0&&e.createElement("div",{className:"mb-6"},e.createElement("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Gestionnaires actuels (",K.length,")"),e.createElement("div",{className:"space-y-2"},K.map(xe=>e.createElement("div",{key:xe._id,className:"flex items-center justify-between p-3 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-500 text-white"},e.createElement(Ia,{className:"h-4 w-4"})),e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},xe.name),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},xe.email))),e.createElement("button",{type:"button",onClick:()=>fe(xe._id),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white text-sm font-medium transition-colors"},e.createElement(hN,{className:"h-4 w-4"}),e.createElement("span",null,"Retirer")))))),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Tous les utilisateurs"),q?e.createElement("div",{className:"flex items-center justify-center py-8"},e.createElement(ku,{className:"h-6 w-6 animate-spin text-indigo-600"})):e.createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},ee.filter(xe=>!xe.isBlocked&&xe.role!=="admin"&&!K.some(He=>He._id===xe._id||He._id===xe.id)).map(xe=>e.createElement("div",{key:xe._id||xe.id,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 transition-colors"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700"},e.createElement(Ia,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})),e.createElement("div",null,e.createElement("p",{className:"font-semibold text-gray-900 dark:text-white"},xe.name),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},xe.email,"  ",xe.role))),e.createElement("button",{type:"button",onClick:()=>fe(xe._id||xe.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium transition-colors"},e.createElement(yN,{className:"h-4 w-4"}),e.createElement("span",null,"Ajouter")))),ee.filter(xe=>!xe.isBlocked&&xe.role!=="admin"&&!K.some(He=>He._id===xe._id||He._id===xe.id)).length===0&&e.createElement("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400"},"Aucun utilisateur disponible")))),e.createElement("div",{className:"flex flex-col gap-3 rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-5 shadow-lg"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/20"},e.createElement(ir,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})),e.createElement("input",{value:T,onChange:te,placeholder:"Rechercher par titre, catgorie ou vendeur...",className:"flex-1 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-4 py-2.5 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-900 transition-all text-gray-900 dark:text-white placeholder-gray-400"})),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 pl-12"},"Recherche dans les produits approuvs avec tri par statut de boost")),e.createElement("section",{className:"space-y-8"},e.createElement("div",{className:"space-y-5 rounded-2xl border-2 border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-xl bg-indigo-500 text-white"},e.createElement(Nn,{className:"h-6 w-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400"},"Boost actif"),e.createElement("h2",{className:"text-2xl font-black text-gray-900 dark:text-white"},"Produits boosts"))),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Page ",b,"/",N),e.createElement("p",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400"},r.length," produit",r.length!==1?"s":""))),m&&e.createElement("div",{className:"rounded-xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 px-4 py-3 text-sm text-red-700 dark:text-red-300 flex items-center gap-2"},e.createElement(xr,{className:"h-5 w-5"}),m),e.createElement("div",{className:"grid gap-6 lg:grid-cols-2 xl:grid-cols-3"},o?e.createElement("div",{className:"col-span-full rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-12 text-center"},e.createElement(ku,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Chargement des produits boosts...")):r.length?r.map(xe=>at(xe)):e.createElement("div",{className:"col-span-full rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-12 text-center"},e.createElement(Ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Aucun produit boost pour le moment."))),nt&&nt.length>0&&e.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700"},nt)),e.createElement("div",{className:"space-y-5 rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-xl bg-gray-500 text-white"},e.createElement(Ot,{className:"h-6 w-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400"},"Disponible"),e.createElement("h2",{className:"text-2xl font-black text-gray-900 dark:text-white"},"Produits non boosts"))),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Page ",E,"/",A),e.createElement("p",{className:"text-lg font-bold text-gray-600 dark:text-gray-400"},n.length," produit",n.length!==1?"s":""))),f&&e.createElement("div",{className:"rounded-xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 px-4 py-3 text-sm text-red-700 dark:text-red-300 flex items-center gap-2"},e.createElement(xr,{className:"h-5 w-5"}),f),e.createElement("div",{className:"grid gap-6 lg:grid-cols-2 xl:grid-cols-3"},d?e.createElement("div",{className:"col-span-full rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-12 text-center"},e.createElement(ku,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-3"}),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Chargement des produits  booster...")):n.length?n.map(xe=>at(xe)):e.createElement("div",{className:"col-span-full rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-12 text-center"},e.createElement(Ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Aucun produit disponible pour le moment."))),it&&it.length>0&&e.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-700"},it))))}const AT={pending:"En attente",approved:"Valide",rejected:"Rejete",disabled:"Dsactive"},Jle={pending:"bg-yellow-100 text-yellow-800",approved:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800",disabled:"bg-gray-100 text-gray-600"},Zle=[{value:"recent",label:"Plus rcents"},{value:"price_asc",label:"Prix croissants"},{value:"price_desc",label:"Prix dcroissants"},{value:"discount",label:"Meilleure remise"}],ece=20,QE=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,_T=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",hp=({title:t,value:r,helper:a,icon:n,highlight:s,trend:o})=>{const i=s?"from-indigo-500 to-purple-600":"from-gray-400 to-gray-500";return e.createElement("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-300 ${s?"border-indigo-200/60 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 shadow-md hover:shadow-lg":"border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 shadow-sm hover:shadow-md hover:border-indigo-200/40"}`},e.createElement("div",{className:"p-5"},e.createElement("div",{className:"flex items-start justify-between mb-3"},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:`text-xs font-semibold uppercase tracking-wider mb-1 ${s?"text-indigo-700":"text-gray-600"}`},t),e.createElement("p",{className:`text-3xl font-bold mb-1 ${s?"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent":"text-gray-900"}`},r),a&&e.createElement("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1"},o&&e.createElement(Xt,{size:12,className:o>0?"text-green-500":"text-red-500"}),a)),n&&e.createElement("div",{className:`ml-3 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${i} text-white shadow-sm transition-transform duration-300 group-hover:scale-110 group-hover:shadow-md`},e.createElement(n,{size:22,strokeWidth:2.5})))),s&&e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 via-purple-500/0 to-pink-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:via-purple-500/5 group-hover:to-pink-500/5"}))},tce=Es.flatMap(t=>t.options.map(r=>({value:r.value,label:`${t.label}  ${r.label}`})));function rce(){const{user:t}=g.useContext(fr),r=t?.role==="admin",[a,n]=g.useState([]),[s,o]=g.useState(null),[i,d]=g.useState(!1),[u,m]=g.useState(""),[p,f]=g.useState(1),[y,b]=g.useState(1),[w,E]=g.useState(0),[x,N]=g.useState(""),[k,A]=g.useState(""),[P,S]=g.useState(""),[_,T]=g.useState(""),[O,R]=g.useState("recent"),[D,j]=g.useState(null),[$,K]=g.useState(""),[W,z]=g.useState(""),[Q,ee]=g.useState(!1),H=g.useCallback(async()=>{d(!0),m("");try{const V={page:p,limit:ece,sort:O};x&&(V.status=x),k&&(V.category=k),P&&(V.certified=P),_&&(V.search=_.trim());const{data:J}=await se.get("/admin/products",{params:V});n(Array.isArray(J?.items)?J.items:[]),b(J?.pagination?.pages||1),E(J?.pagination?.total||0),o(J?.stats||null)}catch(V){console.error("Erreur chargement produits admin",V),m(V?.response?.data?.message||V.message||"Impossible de charger les produits.")}finally{d(!1)}},[p,x,k,P,_,O]);g.useEffect(()=>{const V=setTimeout(()=>{H()},250);return()=>clearTimeout(V)},[H]);const q=()=>{N(""),A(""),S(""),T(""),R("recent"),f(1)},B=async()=>{if(!(!D||Q)){K(""),z(""),ee(!0);try{const V=!D.certified,{data:J}=await se.patch(`/admin/products/${D._id}/certify`,{certified:V}),ue={...D,certified:J.certified,certifiedBy:J.certifiedBy,certifiedAt:J.certifiedAt};j(ue),n(he=>he.map(Oe=>Oe._id===ue._id?{...Oe,...ue}:Oe)),o(he=>{if(!he)return he;const Oe=J.certified?1:-1,te=-Oe;return{...he,certifiedCount:Math.max(0,(he.certifiedCount||0)+Oe),uncertifiedCount:Math.max(0,(he.uncertifiedCount||0)+te)}}),K(J.certified?"Produit certifi.":"Certification retire.")}catch(V){console.error("Erreur certification",V),z(V?.response?.data?.message||"Une erreur est survenue.")}finally{ee(!1)}}},G=g.useMemo(()=>{if(!s)return[];const V=J=>s.statusCounts?.[J]||0;return[{title:"En attente",value:V("pending")},{title:"Valides",value:V("approved")},{title:"Rejetes",value:V("rejected")},{title:"Dsactives",value:V("disabled")}]},[s]),Y=s?.topCategories||[];return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},e.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},e.createElement(Ot,{size:24,className:"text-white",strokeWidth:2.5})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},"Gestion des produits"),e.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Visualisez les annonces, filtrez-les et certifiez celles qui respectent la charte HDMarket.")))),e.createElement("div",{className:"flex flex-wrap gap-3"},e.createElement(pe,{to:"/admin",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},e.createElement(Pr,{size:16}),"Retour au tableau"),e.createElement("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2.5 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},e.createElement(Bc,{size:16,className:"transition-transform duration-300 hover:rotate-180"}),"Actualiser"))),e.createElement("section",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},e.createElement(hp,{title:"Produits total",value:w,helper:`${y} page(s)`,icon:Ot}),e.createElement(hp,{title:"Produits certifis",value:s?.certifiedCount??0,helper:`${s?.uncertifiedCount??0} non certifis`,icon:_a,highlight:!0}),e.createElement(hp,{title:"Certifications en attente",value:G[0]?.value||0,helper:"Suivre les validations",icon:Ut}),e.createElement(hp,{title:"Produits dsactivs",value:G[3]?.value||0,helper:"Vrifier les suspensions",icon:xr})),e.createElement("section",{className:"rounded-2xl border border-gray-200/60 bg-gradient-to-br from-white to-indigo-50/20 p-6 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-4"},e.createElement("div",{className:"flex items-center justify-between gap-3"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},e.createElement(ks,{size:20,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Filtres rapides"),e.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Recherchez et filtrez les produits"))),e.createElement("button",{type:"button",onClick:q,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2 text-xs font-semibold text-gray-600 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700"},e.createElement(_t,{size:14}),"Rinitialiser")),e.createElement("div",{className:"flex flex-col gap-4"},e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{value:_,onChange:V=>{T(V.target.value),f(1)},placeholder:"Rechercher par titre ou description...",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 pl-11 text-sm shadow-sm transition-all duration-200 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-100"})),e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-5"},e.createElement("select",{value:x,onChange:V=>{N(V.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Tous les statuts"),e.createElement("option",{value:"pending"},"En attente"),e.createElement("option",{value:"approved"},"Valids"),e.createElement("option",{value:"rejected"},"Rejets"),e.createElement("option",{value:"disabled"},"Dsactivs")),e.createElement("select",{value:P,onChange:V=>{S(V.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Tous les produits"),e.createElement("option",{value:"true"},"Certifis"),e.createElement("option",{value:"false"},"Non certifis")),e.createElement("select",{value:k,onChange:V=>{A(V.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},e.createElement("option",{value:""},"Toutes les catgories"),tce.map(V=>e.createElement("option",{key:V.value,value:V.value},V.label))),e.createElement("select",{value:O,onChange:V=>{R(V.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},Zle.map(V=>e.createElement("option",{key:V.value,value:V.value},V.label))))))),e.createElement("section",{className:"space-y-4"},u&&e.createElement("p",{className:"text-sm text-red-600"},u),i?e.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((V,J)=>e.createElement("div",{key:J,className:"animate-pulse rounded-2xl border border-gray-100 bg-white px-4 py-5"},e.createElement("div",{className:"h-4 w-2/5 bg-gray-200 mb-3 rounded"}),e.createElement("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2"},e.createElement("div",{className:"h-8 bg-gray-200 rounded"}),e.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):a.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 gap-4"},a.map(V=>e.createElement("article",{key:V._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},e.createElement("div",{className:"flex items-start gap-3"},e.createElement("div",{className:"h-20 w-20 rounded-2xl bg-gray-100 overflow-hidden"},e.createElement("img",{src:V.images?.[0]||"/api/placeholder/120/120",alt:V.title,className:"h-full w-full object-cover",loading:"lazy"})),e.createElement("div",null,e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},V.category||""),e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},V.title),e.createElement("p",{className:"text-xs text-gray-500"},V.user?.shopName||V.user?.name||"Vendeur indisponible"))),e.createElement("div",{className:"flex items-center gap-3 text-right"},e.createElement("div",null,e.createElement("p",{className:"text-sm text-gray-500"},"Prix"),e.createElement("p",{className:"text-lg font-semibold text-gray-900"},QE(V.price))),e.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Jle[V.status]||"bg-gray-100 text-gray-600"}`},AT[V.status]||V.status))),e.createElement("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},V.certified?e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-1 text-emerald-600"},e.createElement(_a,{className:"w-4 h-4"}),"Certifi"):e.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 text-gray-600"},e.createElement(_r,{className:"w-4 h-4"}),"Non certifi"),e.createElement("button",{type:"button",onClick:()=>{j(V),K(""),z("")},className:"inline-flex items-center gap-2 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Dtails",e.createElement($r,{className:"w-3 h-3"})))))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",p," / ",y,"  ",w," annonce",w>1?"s":""),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>f(V=>Math.max(1,V-1)),disabled:p<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(V=>Math.min(y,V+1)),disabled:p>=y,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit ne correspond aux filtres actuels.")),Y.length>0&&e.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between mb-3 text-xs uppercase tracking-wide text-gray-500"},e.createElement("span",null,"Catgories les plus populaires"),e.createElement(Wa,{className:"h-4 w-4 text-indigo-500"})),e.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4"},Y.map(V=>e.createElement("div",{key:V.category,className:"rounded-2xl border border-gray-100 p-3 text-xs font-semibold text-gray-700"},e.createElement("p",{className:"text-sm text-gray-900"},V.category),e.createElement("p",{className:"text-xs text-gray-500"},V.count," annonces")))))),D&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/40 p-4",onClick:()=>{j(null),K(""),z("")}},e.createElement("div",{className:"w-full max-w-4xl rounded-2xl bg-white p-6 shadow-2xl",onClick:V=>V.stopPropagation()},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-500"},"Dtail produit"),e.createElement("h2",{className:"text-lg font-bold text-gray-900"},D.title)),e.createElement("button",{type:"button",onClick:()=>{j(null),K(""),z("")},className:"text-xs font-semibold uppercase tracking-wide text-gray-500 transition hover:text-gray-900"},"Fermer ",e.createElement(_t,{className:"inline-block h-4 w-4"}))),e.createElement("div",{className:"mt-4 grid gap-4 lg:grid-cols-[1fr,1fr]"},e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"grid grid-cols-3 gap-2"},(D.images||[]).slice(0,3).map((V,J)=>e.createElement("img",{key:`modal-img-${J}`,src:V,alt:`${D.title} ${J+1}`,className:"h-24 w-full rounded-2xl object-cover border border-gray-200"})),!D.images?.length&&e.createElement("div",{className:"col-span-3 h-24 rounded-2xl border border-gray-200 bg-gray-100"})),e.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},D.category),e.createElement("p",{className:"text-sm text-gray-600"},D.description)),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},e.createElement("span",null,"Prix"),e.createElement("span",{className:"text-gray-900 font-semibold"},QE(D.price))),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("span",{className:"rounded-full px-3 py-1 text-xs font-semibold"},AT[D.status]||D.status),e.createElement("span",{className:"text-xs text-gray-500"},"Cr le ",_T(D.createdAt))),e.createElement("div",{className:"border-t border-gray-100 pt-3 space-y-2 text-xs text-gray-500"},e.createElement("p",null,"Vendeur: ",D.user?.shopName||D.user?.name||""),e.createElement("p",null,"Email: ",D.user?.email||""),e.createElement("p",null,"Tlphone: ",D.user?.phone||"")),e.createElement("div",{className:"border-t border-gray-100 pt-3"},D.certified?e.createElement("div",{className:"text-xs text-emerald-700"},e.createElement("span",{className:"flex items-center gap-2 text-emerald-600"},e.createElement(_a,{className:"w-4 h-4"}),"Produit certifi"),D.certifiedBy?e.createElement("p",null,"Valid par ",D.certifiedBy.name||"Admin"," (",D.certifiedBy.email||"",")"):null,D.certifiedAt?e.createElement("p",null,"Le ",_T(D.certifiedAt)):null):e.createElement("div",{className:"text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(_r,{className:"w-4 h-4"}),"Produit non certifi"))),r&&e.createElement("div",{className:"space-y-2"},e.createElement("button",{type:"button",onClick:B,disabled:Q,className:"w-full rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-500 disabled:opacity-60"},D.certified?"Retirer la certification":"Certifier ce produit"),($||W)&&e.createElement("p",{className:`text-xs ${W?"text-red-600":"text-green-600"}`},W||$)),D.payment&&e.createElement("div",{className:"border-t border-gray-100 pt-3 text-xs text-gray-500 space-y-1"},e.createElement("p",{className:"font-semibold text-gray-900 text-sm"},"Paiement"),e.createElement("p",null,"Status: ",D.payment.status),e.createElement("p",null,"Montant: ",QE(D.payment.amount)),e.createElement("p",null,"Oprateur: ",D.payment.operator)))))))}const PT=[{key:"all",label:"Tous"},{key:"unread",label:"Non lus"},{key:"read",label:"Lus"}],TT=12,wu=t=>t?new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";function ace(){const{user:t}=g.useContext(fr),r=t?.role==="admin",[a,n]=g.useState([]),[s,o]=g.useState("unread"),[i,d]=g.useState(""),[u,m]=g.useState(""),[p,f]=g.useState(1),[y,b]=g.useState({total:0,totalPages:1}),[w,E]=g.useState(!1),[x,N]=g.useState(""),[k,A]=g.useState(""),[P,S]=g.useState(!1),[_,T]=g.useState(""),[O,R]=g.useState([]),[D,j]=g.useState(!1),[$,K]=g.useState(!1),[W,z]=g.useState(""),[Q,ee]=g.useState(!1),[H,q]=g.useState([]),B=g.useCallback(async()=>{E(!0),N("");try{const te=new URLSearchParams;te.set("page",p),te.set("limit",TT),s!=="all"&&te.set("status",s),u&&te.set("search",u);const{data:ie}=await se.get(`/admin/feedback?${te.toString()}`),de=Array.isArray(ie?.items)?ie.items:[];n(de),b({total:ie?.total??de.length,totalPages:ie?.totalPages??1})}catch(te){N(te.response?.data?.message||te.message||"Impossible de charger les avis."),n([]),b({total:0,totalPages:1})}finally{E(!1)}},[p,u,s]);g.useEffect(()=>{B()},[B]),g.useEffect(()=>{const te=setTimeout(()=>{m(i.trim())},300);return()=>clearTimeout(te)},[i]),g.useEffect(()=>{f(1)},[s,u]);const G=g.useCallback(async te=>{if(te){A(te);try{const{data:ie}=await se.patch(`/admin/feedback/${te}/read`),de=ie?.feedback;de&&(n(Ce=>Ce.map(ne=>ne._id===de._id?de:ne)),window.dispatchEvent(new CustomEvent("hdmarket:admin-counts-refresh")),s==="unread"&&(n(Ce=>Ce.filter(ne=>ne._id!==de._id)),b(Ce=>({...Ce,total:Math.max(0,(Ce.total||0)-1),totalPages:Math.max(1,Math.ceil(Math.max(0,(Ce.total||0)-1)/TT))}))))}catch(ie){N(ie.response?.data?.message||"Impossible de marquer comme lu.")}finally{A("")}}},[s]),Y=async()=>{S(!0);try{const te=(await Nl(async()=>{const{default:Le}=await import("./jspdf.es.min-CUOboXId.js").then(at=>at.j);return{default:Le}},[])).default,ie=(await Nl(async()=>{const{default:Le}=await import("./jspdf.plugin.autotable-CBbcTuFj.js");return{default:Le}},[])).default,de=new URLSearchParams;s!=="all"&&de.set("status",s),u&&de.set("search",u);const{data:Ce}=await se.get(`/admin/feedback/export-pdf?${de.toString()}`),ne=Ce.items||[],re=new te;re.setFontSize(18),re.setFont(void 0,"bold"),re.text("Avis sur l'amelioration",14,20),re.setFontSize(10),re.setFont(void 0,"normal"),re.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,28),re.text(`Total: ${ne.length} avis`,14,34),re.text(`Filtre: ${PT.find(Le=>Le.key===s)?.label||"Tous"}`,14,40);const Ie=ne.map((Le,at)=>[at+1,Le.subject||"-",(Le.body||"-").substring(0,100)+(Le.body?.length>100?"...":""),Le.user?.name||"N/A",Le.user?.phone||"-",Le.readAt?"Oui":"Non",wu(Le.createdAt)]);ie(re,{startY:48,head:[["#","Sujet","Contenu","Utilisateur","Telephone","Lu","Date"]],body:Ie,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[79,70,229],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:48}});const fe=`avis-amelioration-${s}-${new Date().toISOString().split("T")[0]}.pdf`;re.save(fe)}catch(te){console.error("Export PDF error:",te),alert("Impossible d'exporter en PDF: "+(te.response?.data?.message||te.message))}finally{S(!1)}},V=async te=>{T(te._id);try{const ie=(await Nl(async()=>{const{default:Je}=await import("./jspdf.es.min-CUOboXId.js").then(xt=>xt.j);return{default:Je}},[])).default,de=new ie;de.setFontSize(20),de.setFont(void 0,"bold"),de.text("Avis d'amelioration",14,20),de.setLineWidth(.5),de.setDrawColor(79,70,229),de.line(14,25,196,25);let Ce=35;const ne=7,re=180;de.setFontSize(14),de.setFont(void 0,"bold"),de.text("Sujet:",14,Ce),de.setFont(void 0,"normal"),de.setFontSize(12);const Ie=de.splitTextToSize(te.subject||"-",re-30);de.text(Ie,40,Ce),Ce+=Ie.length*ne+5,de.setFontSize(10),de.setTextColor(100,100,100);const fe=te.user?.name||te.user?.email||"Utilisateur",Le=te.user?.phone||"N/A";de.text(`Auteur: ${fe} - Tel: ${Le}`,14,Ce),Ce+=ne,de.text(`Date: ${wu(te.createdAt)}`,14,Ce),Ce+=ne;const at=te.readAt?`Lu le ${wu(te.readAt)}`:"Non lu",nt=te.readBy?.name?` par ${te.readBy.name}`:"";de.text(`Statut: ${at}${nt}`,14,Ce),Ce+=ne+8,de.setFontSize(12),de.setTextColor(0,0,0),de.setFont(void 0,"bold"),de.text("Contenu:",14,Ce),Ce+=ne,de.setFont(void 0,"normal"),de.setFontSize(11);const it=de.splitTextToSize(te.body||"-",re);de.text(it,14,Ce);const xe=de.internal.getNumberOfPages();for(let Je=1;Je<=xe;Je++)de.setPage(Je),de.setFontSize(8),de.setTextColor(150,150,150),de.text(`Page ${Je} sur ${xe} - Exporte le ${new Date().toLocaleDateString("fr-FR")}`,14,de.internal.pageSize.height-10);const He=`avis-${te._id}-${new Date().toISOString().split("T")[0]}.pdf`;de.save(He)}catch(ie){console.error("Export single PDF error:",ie),alert("Impossible d'exporter en PDF: "+ie.message)}finally{T("")}},J=async()=>{K(!0);try{const{data:te}=await se.get("/admin/feedback-readers");R(te.readers||[])}catch(te){console.error("Load readers error:",te)}finally{K(!1)}},ue=async te=>{if(console.log("Toggle feedback reader - userId:",te),console.log("userId type:",typeof te),console.log("userId length:",te?.length),!te||typeof te!="string"){console.error("Invalid userId - not a string:",te),alert("ID utilisateur invalide");return}if(!/^[0-9a-fA-F]{24}$/.test(te)){console.error("Invalid MongoDB ObjectId format:",te),alert(`Format d'ID invalide: ${te}`);return}try{console.log("Making API request to:",`/admin/feedback-readers/${te}/toggle`);const{data:ie}=await se.patch(`/admin/feedback-readers/${te}/toggle`);alert(ie.message||"Statut mis a jour"),await J(),q([]),z("")}catch(ie){console.error("Toggle feedback reader error:",ie),console.error("Error response:",ie.response?.data),alert(ie.response?.data?.message||"Erreur lors de la mise a jour")}},he=async()=>{if(W.trim()){ee(!0);try{const{data:te}=await se.get(`/admin/users?search=${encodeURIComponent(W.trim())}&limit=10`),ie=Array.isArray(te)?te.filter(de=>de.role!=="admin"):[];console.log("Search results:",ie),console.log("First user structure:",ie[0]),q(ie)}catch(te){console.error("Search users error:",te),q([])}finally{ee(!1)}}},Oe=g.useMemo(()=>{if(!y.total)return"0 avis";const te=(y.total>1,"avis");return`${y.total} ${te}`},[y.total]);return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},e.createElement("header",{className:"flex flex-col gap-3"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Avis sur l'amelioration"),e.createElement("p",{className:"text-sm text-gray-500"},"Centralisez les retours utilisateurs et marquez-les comme lus.")),e.createElement("div",{className:"inline-flex items-center gap-2 rounded-full bg-white border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-600"},e.createElement(ks,{className:"h-4 w-4"}),Oe)),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{type:"button",onClick:Y,disabled:P||a.length===0,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-3xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-semibold shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(gn,{className:"w-4 h-4"}),e.createElement("span",{className:"hidden sm:inline"},P?"Export en cours...":"Exporter en PDF"),e.createElement("span",{className:"sm:hidden"},P?"Export...":"PDF")),r&&e.createElement("button",{type:"button",onClick:()=>{j(!D),!D&&O.length===0&&J()},className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-3xl bg-white border-2 border-indigo-200 text-indigo-700 text-sm font-semibold hover:bg-indigo-50 active:scale-95 transition-all duration-200"},e.createElement(va,{className:"w-4 h-4"}),e.createElement("span",{className:"hidden sm:inline"},"Gerer les lecteurs"),e.createElement("span",{className:"sm:hidden"},"Lecteurs")))),r&&D&&e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Lecteurs d'avis autorises"),e.createElement("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 transition-colors"},"")),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex gap-2"},e.createElement("input",{type:"text",placeholder:"Rechercher un utilisateur (nom, email, telephone)...",value:W,onChange:te=>z(te.target.value),onKeyDown:te=>te.key==="Enter"&&he(),className:"flex-1 px-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.createElement("button",{onClick:he,disabled:Q||!W.trim(),className:"px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50"},e.createElement(ir,{className:"w-4 h-4"}))),H.length>0&&e.createElement("div",{className:"space-y-2 max-h-48 overflow-y-auto"},e.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Resultats de recherche:"),H.map(te=>e.createElement("div",{key:te._id||te.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 bg-gray-50"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},te.name),e.createElement("p",{className:"text-xs text-gray-500 truncate"},te.email,"  ",te.phone)),e.createElement("button",{onClick:()=>ue(te._id||te.id),className:"ml-3 inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 active:scale-95 transition-all"},e.createElement(yN,{className:"w-3.5 h-3.5"}),"Ajouter")))),e.createElement("div",{className:"pt-3 border-t border-gray-200"},e.createElement("p",{className:"text-xs text-gray-500 font-semibold mb-2"},"Lecteurs actuels (",O.length,"):"),$?e.createElement("p",{className:"text-sm text-gray-500"},"Chargement..."):O.length===0?e.createElement("p",{className:"text-sm text-gray-500"},"Aucun lecteur autorise pour le moment."):e.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},O.map(te=>e.createElement("div",{key:te._id||te.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},te.name),e.createElement("p",{className:"text-xs text-gray-500 truncate"},te.email,"  ",te.phone)),e.createElement("button",{onClick:()=>ue(te._id||te.id),className:"ml-3 inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-600 text-white text-xs font-semibold hover:bg-red-700 active:scale-95 transition-all"},e.createElement(hN,{className:"w-3.5 h-3.5"}),"Retirer"))))))),e.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-4"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex flex-wrap gap-2"},PT.map(te=>e.createElement("button",{key:te.key,type:"button",onClick:()=>o(te.key),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${s===te.key?"bg-indigo-600 text-white shadow":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},te.label))),e.createElement("div",{className:"relative w-full sm:max-w-xs"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un avis",value:i,onChange:te=>d(te.target.value)}))),x&&e.createElement("p",{className:"text-sm text-red-600"},x),w?e.createElement("div",{className:"space-y-3"},Array.from({length:4}).map((te,ie)=>e.createElement("div",{key:`skeleton-${ie}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("div",{className:"h-4 w-1/3 rounded bg-gray-200"}),e.createElement("div",{className:"mt-3 h-3 w-full rounded bg-gray-200"}),e.createElement("div",{className:"mt-2 h-3 w-4/5 rounded bg-gray-200"})))):a.length===0?e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Aucun avis disponible pour ce filtre."):e.createElement("div",{className:"space-y-4"},a.map(te=>{const ie=!!te.readAt,de=te.user?.name||te.user?.email||"Utilisateur";return e.createElement("article",{key:te._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm space-y-3"},e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(fa,{className:"h-4 w-4 text-indigo-500"}),e.createElement("h3",{className:"text-base font-semibold text-gray-900"},te.subject)),e.createElement("p",{className:"text-xs text-gray-500"},"Envoye le ",wu(te.createdAt))),e.createElement("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ie?"bg-green-50 text-green-700 border border-green-200":"bg-amber-50 text-amber-700 border border-amber-200"}`},ie?"Lu":"Non lu")),e.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},te.body),e.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2"},e.createElement(va,{className:"h-4 w-4 text-gray-400"}),e.createElement("span",null,de),te.user?.phone?e.createElement("span",null,"- ",te.user.phone):null),e.createElement("div",{className:"flex flex-wrap items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>V(te),disabled:_===te._id,className:"inline-flex items-center gap-1.5 rounded-full border border-purple-200 bg-purple-50 px-3 py-1.5 text-xs font-semibold text-purple-700 hover:bg-purple-100 disabled:opacity-60 transition-all",title:"Exporter cet avis en PDF"},e.createElement(jz,{className:"h-3.5 w-3.5"}),_===te._id?"Export...":"PDF"),ie?e.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",wu(te.readAt),te.readBy?.name?` - ${te.readBy.name}`:""):e.createElement("button",{type:"button",onClick:()=>G(te._id),disabled:k===te._id,className:"inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100 disabled:opacity-60"},e.createElement(Qt,{className:"h-4 w-4"}),k===te._id?"Mise a jour...":"Marquer comme lu"))))})),y.totalPages>1&&e.createElement("div",{className:"flex items-center justify-between pt-2"},e.createElement("button",{type:"button",onClick:()=>f(te=>Math.max(1,te-1)),disabled:p<=1,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Precedent"),e.createElement("span",{className:"text-xs text-gray-500"},"Page ",p," / ",y.totalPages),e.createElement("button",{type:"button",onClick:()=>f(te=>Math.min(y.totalPages,te+1)),disabled:p>=y.totalPages,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Suivant")))))}const nce=new Intl.NumberFormat("fr-FR"),oa=t=>{const r=Number(t);return Number.isFinite(r)?nce.format(r):"0"},JE=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,sce=({label:t,value:r,helper:a})=>e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-5 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},t),e.createElement("p",{className:"text-2xl font-semibold text-gray-900"},r),a?e.createElement("p",{className:"text-xs text-gray-400 mt-1"},a):null),oce=({label:t,value:r,helper:a})=>e.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gradient-to-br from-indigo-600 to-blue-600 px-4 py-5 text-white shadow-lg"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-100"},t),e.createElement("p",{className:"text-3xl font-semibold"},r),a?e.createElement("p",{className:"text-xs text-indigo-100/80 mt-1"},a):null),ice=({title:t,onClose:r,children:a})=>e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6"},e.createElement("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl bg-white p-5 shadow-2xl"},e.createElement("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3"},e.createElement("h3",{className:"text-lg font-semibold text-gray-900"},t),e.createElement("button",{type:"button",onClick:r,className:"text-xs font-semibold uppercase tracking-wide text-gray-500 hover:text-gray-800"},"Fermer")),e.createElement("div",{className:"mt-4 max-h-[70vh] overflow-y-auto pr-1"},a)));function lce(){const{id:t}=Di(),r=6,[a,n]=g.useState(null),[s,o]=g.useState(!1),[i,d]=g.useState(""),[u,m]=g.useState(null),[p,f]=g.useState(1);g.useEffect(()=>{if(!t)return;const R=new AbortController;let D=!0;return o(!0),d(""),se.get(`/admin/users/${t}/stats`,{signal:R.signal}).then(j=>{D&&n(j.data)}).catch(j=>{D&&d(j.response?.data?.message||j.message||"Impossible de charger les statistiques.")}).finally(()=>{D&&o(!1)}),()=>{D=!1,R.abort()}},[t]);const y=g.useMemo(()=>a?.timeline||[],[a]),b=g.useMemo(()=>a?.breakdown?.categories||[],[a]),w=g.useMemo(()=>a?.topProducts||[],[a]),E=g.useMemo(()=>a?[{label:"Annonces totales",value:oa(a.listings.total),helper:`${oa(a.listings.approved)} publies`},{label:"Favoris reus",value:oa(a.engagement.favoritesReceived)},{label:"Commentaires reus",value:oa(a.engagement.commentsReceived)},{label:"Favoris enregistrs",value:oa(a.engagement.favoritesSaved)},{label:"Boutiques suivies",value:oa(a.engagement.shopsFollowed)},{label:"Budget annonces",value:JE(a.advertismentSpend)}]:[],[a]),x=g.useMemo(()=>a?[{label:"Contacts WhatsApp",value:oa(a.performance.clicks),helper:"Nombre de clics gnrs"},{label:"Vues totales",value:oa(a.performance.views),helper:"Rponses aux annonces"},{label:"Conversion",value:`${oa(a.performance.conversion)} %`,helper:"Annonces approuves"}]:[],[a]),N=R=>m(R),k=()=>m(null),A=()=>{if(!u||!a)return null;switch(u){case"summary":return e.createElement("dl",{className:"space-y-3"},E.map(R=>e.createElement("div",{key:R.label,className:"flex items-center justify-between border-b border-gray-100 pb-2"},e.createElement("dt",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),e.createElement("dd",{className:"text-sm font-semibold text-gray-900"},R.helper?`${R.value}  ${R.helper}`:R.value))));case"highlights":return e.createElement("div",{className:"space-y-3"},x.map(R=>e.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-gray-50 p-4"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),e.createElement("p",{className:"text-xl font-semibold text-gray-900"},R.value),R.helper?e.createElement("p",{className:"text-xs text-gray-500"},R.helper):null)));case"timeline":return y.length?e.createElement("div",{className:"space-y-3"},y.map(R=>e.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),e.createElement("p",{className:"text-sm font-semibold text-gray-900"},oa(R.count)," annonces"),e.createElement("p",{className:"text-xs text-gray-500"},oa(R.favorites)," favoris  ",oa(R.clicks)," contacts")))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune activit rcente.");case"categories":return b.length?e.createElement("div",{className:"flex flex-wrap gap-2"},b.map(R=>e.createElement("span",{key:R.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},R.category,"  ",oa(R.count)," annonces"))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible.");case"topProducts":return w.length?e.createElement("div",{className:"space-y-3"},w.map(R=>e.createElement("div",{key:R._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"text-sm font-semibold text-gray-900"},R.title),e.createElement("span",{className:"text-xs text-gray-500"},R.category||"Catgorie inconnue")),e.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-400"},R.status||"Statut inconnu"),e.createElement("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{className:"h-3 w-3 text-pink-500"}),oa(R.favorites)),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3 text-purple-500"}),oa(R.whatsappClicks)),e.createElement("span",{className:"text-xs text-gray-400"},JE(R.price)))))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.");default:return null}},P=g.useMemo(()=>a?.followedShops||[],[a]),S=Math.max(1,Math.ceil(P.length/r)),_=g.useMemo(()=>{const R=(p-1)*r;return P.slice(R,R+r)},[P,p]);g.useEffect(()=>{f(R=>{const D=Math.max(1,Math.ceil(P.length/r));return Math.min(R,D)})},[P.length]);const O=u?{summary:"Vue densemble",highlights:"Performances",timeline:"Timeline dtaille",categories:"Rpartition par catgorie",topProducts:"Produits les plus engags"}[u]:"";return s?e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},e.createElement("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Chargement des statistiques")):e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},e.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-500"},e.createElement(pe,{to:"/admin",className:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-4 py-1 text-xs font-semibold text-gray-600 hover:border-indigo-300 hover:text-indigo-700"},e.createElement(Pr,{className:"h-4 w-4"}),"Retour au back office"),a?.user?e.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques de ",a.user.name):e.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques utilisateur")),a?.user?e.createElement("div",{className:"text-right text-xs text-gray-500"},e.createElement("p",null,a.user.email),e.createElement("p",null,a.user.accountType==="shop"?"Boutique":"Particulier"," "," ",a.user.role==="manager"?"Gestionnaire":"Utilisateur")):null),i?e.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},i):null,!a&&!i?e.createElement("p",{className:"text-sm text-gray-500"},"Slectionnez un utilisateur pour afficher ses statistiques."):null,a?e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vue densemble"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("summary")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"},E.map(R=>e.createElement(sce,{key:R.label,label:R.label,value:R.value,helper:R.helper})))),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Performances"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("highlights")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3"},x.map(R=>e.createElement(oce,{key:R.label,label:R.label,value:R.value,helper:R.helper})))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Boutiques suivies"),e.createElement("p",{className:"text-xs text-gray-400"},P.length," boutique(s)")),P.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"space-y-2"},_.map(R=>e.createElement(pe,{key:R.id,to:la(R),className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs font-semibold text-gray-700 transition hover:border-indigo-200 hover:text-indigo-800"},e.createElement("div",{className:"min-w-0 space-y-0.5"},e.createElement("p",{className:"truncate text-sm font-semibold text-gray-900"},R.name),e.createElement("p",{className:"truncate text-[11px] text-gray-500"},R.city||"Localisation inconnue")),e.createElement("span",{className:"flex-shrink-0 text-[11px] text-gray-400"},oa(R.followersCount)," abonns")))),e.createElement("div",{className:"flex items-center justify-between text-[11px] text-gray-500"},e.createElement("span",null,"Affichage"," ",Math.min((p-1)*r+1,P.length),"-",Math.min(p*r,P.length)," sur ",P.length),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>f(R=>Math.max(1,R-1)),disabled:p<=1,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>f(R=>Math.min(S,R+1)),disabled:p>=S,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune boutique suivie.")),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Timeline"),e.createElement("p",{className:"text-xs text-gray-400"},"6 derniers mois")),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("timeline")},"Voir les rsultats")),e.createElement("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3"},y.length?y.map(R=>e.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},e.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),e.createElement("p",{className:"text-lg font-semibold text-gray-900"},oa(R.count)," annonces"),e.createElement("p",{className:"text-xs text-gray-500"},oa(R.favorites)," favoris  ",oa(R.clicks)," contacts"))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucune activit rcente."))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition par catgorie"),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("categories")},"Voir les rsultats")),e.createElement("div",{className:"flex flex-wrap gap-2"},b.length?b.map(R=>e.createElement("span",{key:R.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},R.category,"  ",oa(R.count)," annonces")):e.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible."))),e.createElement("section",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Produits les plus engags"),e.createElement("p",{className:"text-xs text-gray-400"},"Favoris + clics")),e.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("topProducts")},"Voir les rsultats")),e.createElement("div",{className:"space-y-3"},w.length?w.map(R=>e.createElement(pe,{key:R._id,to:ar(R),className:"flex flex-col gap-2 rounded-2xl border border-gray-100 bg-white p-4 shadow-sm transition hover:border-indigo-200 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",null,e.createElement("p",{className:"text-sm font-semibold text-gray-900"},R.title),e.createElement("p",{className:"text-xs text-gray-500"},R.category||"Catgorie inconnue","  ",R.status||"Statut inconnu")),e.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500"},e.createElement("span",{className:"flex items-center gap-1"},e.createElement(ur,{className:"h-3 w-3 text-pink-500"}),oa(R.favorites)),e.createElement("span",{className:"flex items-center gap-1"},e.createElement(br,{className:"h-3 w-3 text-purple-500"}),oa(R.whatsappClicks)),e.createElement("span",{className:"text-xs text-gray-400"},JE(R.price))))):e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.")))):null,u&&e.createElement(ice,{title:O,onClose:k},A()))}function cce(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(!1),[u,m]=g.useState([]),p=g.useCallback(async()=>{n(!0);try{const{data:b}=await se.get("/admin/payment-verifiers");r(b.verifiers||[])}catch(b){console.error("Load verifiers error:",b)}finally{n(!1)}},[]);g.useEffect(()=>{p()},[p]);const f=async b=>{if(!b||typeof b!="string"){alert("ID utilisateur invalide");return}if(!/^[0-9a-fA-F]{24}$/.test(b)){alert(`Format d'ID invalide: ${b}`);return}try{const{data:w}=await se.patch(`/admin/payment-verifiers/${b}/toggle`);alert(w.message||"Statut mis  jour"),await p(),m([]),o("")}catch(w){console.error("Toggle verifier error:",w),alert(w.response?.data?.message||"Erreur lors de la mise  jour")}},y=async()=>{if(s.trim()){d(!0);try{const{data:b}=await se.get(`/admin/users?search=${encodeURIComponent(s.trim())}&limit=10`),w=Array.isArray(b)?b.filter(E=>E.role!=="admin"):[];m(w)}catch(b){console.error("Search users error:",b),m([])}finally{d(!1)}}};return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},e.createElement("div",{className:"max-w-5xl mx-auto px-4 py-8"},e.createElement("header",{className:"mb-8"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement(xa,{className:"w-8 h-8 text-indigo-600"}),e.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Vrificateurs de paiements")),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Grez les utilisateurs autoriss  vrifier les paiements")),e.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 space-y-6"},e.createElement("div",{className:"space-y-3"},e.createElement("h2",{className:"text-lg font-bold text-gray-900 dark:text-white"},"Ajouter un vrificateur"),e.createElement("div",{className:"flex gap-2"},e.createElement("input",{type:"text",placeholder:"Rechercher un utilisateur (nom, email, tlphone)...",value:s,onChange:b=>o(b.target.value),onKeyDown:b=>b.key==="Enter"&&y(),className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.createElement("button",{onClick:y,disabled:i||!s.trim(),className:"px-4 py-2.5 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50"},e.createElement(ir,{className:"w-4 h-4"}))),u.length>0&&e.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold"},"Rsultats de recherche:"),u.map(b=>e.createElement("div",{key:b._id||b.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},b.name),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},b.email,"  ",b.phone)),e.createElement("button",{onClick:()=>f(b._id||b.id),className:"ml-3 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 active:scale-95 transition-all"},e.createElement(yN,{className:"w-3.5 h-3.5"}),"Ajouter"))))),e.createElement("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600"},e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-semibold mb-3"},"Vrificateurs actuels (",t.length,"):"),a?e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Chargement..."):t.length===0?e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Aucun vrificateur de paiements pour le moment."):e.createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},t.map(b=>e.createElement("div",{key:b.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},b.name),e.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},b.email,"  ",b.phone)),e.createElement("button",{onClick:()=>f(b.id),className:"ml-3 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-600 text-white text-xs font-semibold hover:bg-red-700 active:scale-95 transition-all"},e.createElement(hN,{className:"w-3.5 h-3.5"}),"Retirer"))))))))}const OT=t=>`${Number(t||0).toLocaleString("fr-FR")} FCFA`,dce=t=>t?new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",MT={MTN:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Airtel:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Orange:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",Moov:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Other:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};function uce(){const[t,r]=g.useState([]),[a,n]=g.useState(!1),[s,o]=g.useState(""),[i,d]=g.useState(""),u=g.useCallback(async()=>{n(!0);try{const f=new URLSearchParams;f.set("status","waiting"),s.trim()&&f.set("search",s.trim());const{data:y}=await se.get(`/payments/admin?${f.toString()}`);r(Array.isArray(y)?y:[])}catch(f){console.error("Load payments error:",f),r([])}finally{n(!1)}},[s]);g.useEffect(()=>{u()},[u]),g.useEffect(()=>{const f=()=>{u()},y=()=>{document.visibilityState==="visible"&&u()};return window.addEventListener("paymentStatusChanged",f),document.addEventListener("visibilitychange",y),window.addEventListener("focus",f),()=>{window.removeEventListener("paymentStatusChanged",f),document.removeEventListener("visibilitychange",y),window.removeEventListener("focus",f)}},[u]);const m=async f=>{if(confirm("Voulez-vous vrifier ce paiement ? Le produit sera approuv.")){d(f);try{await se.put(`/payments/admin/${f}/verify`),alert("Paiement vrifi avec succs"),await u(),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:f,status:"verified"}}))}catch(y){console.error("Verify payment error:",y),alert(y.response?.data?.message||"Erreur lors de la vrification")}finally{d("")}}},p=async f=>{if(confirm("Voulez-vous rejeter ce paiement ? Le produit sera rejet.")){d(f);try{await se.put(`/payments/admin/${f}/reject`),alert("Paiement rejet"),await u(),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:f,status:"rejected"}}))}catch(y){console.error("Reject payment error:",y),alert(y.response?.data?.message||"Erreur lors du rejet")}finally{d("")}}};return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},e.createElement("header",{className:"mb-8"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement(xa,{className:"w-8 h-8 text-indigo-600"}),e.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Vrification des paiements"),t.length>0&&e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute -top-2 -right-2 flex items-center justify-center min-w-[24px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},t.length>99?"99+":t.length))),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},t.length," paiement",t.length!==1?"s":""," en attente de vrification"),t.length>0&&e.createElement("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs font-semibold border border-amber-200 dark:border-amber-800"},e.createElement("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),"Action requise"))),e.createElement("div",{className:"mb-6"},e.createElement("div",{className:"relative max-w-md"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un produit...",value:s,onChange:f=>o(f.target.value)}))),a?e.createElement("div",{className:"grid grid-cols-1 gap-4"},Array.from({length:3}).map((f,y)=>e.createElement("div",{key:y,className:"animate-pulse rounded-2xl border border-gray-100 bg-white p-4"},e.createElement("div",{className:"h-4 w-2/3 rounded bg-gray-200 mb-3"}),e.createElement("div",{className:"h-3 w-full rounded bg-gray-200 mb-2"}),e.createElement("div",{className:"h-3 w-4/5 rounded bg-gray-200"})))):t.length===0?e.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-8 text-center text-sm text-gray-500 dark:text-gray-400"},"Aucun paiement en attente de vrification."):e.createElement("div",{className:"space-y-4"},t.map(f=>e.createElement("article",{key:f._id,className:"rounded-2xl border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-sm"},e.createElement("div",{className:"flex flex-col lg:flex-row gap-4"},f.product?.images?.[0]&&e.createElement("div",{className:"w-full lg:w-32 h-32 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0"},e.createElement("img",{src:f.product.images[0],alt:f.product.title,className:"w-full h-full object-cover"})),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between gap-3 mb-3"},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-2 mb-2"},e.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},f.product?.title||"Produit supprim"),f.product?.slug&&e.createElement(pe,{to:`/product/${f.product.slug}`,target:"_blank",className:"text-gray-400 hover:text-indigo-600 transition-colors",title:"Voir le produit"},e.createElement(Az,{size:16}))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-3"},e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Payeur:")," ",e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},f.payerName)),e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Vendeur:")," ",e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},f.user?.name||"Utilisateur inconnu")),e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Transaction:")," ",e.createElement("span",{className:"font-mono text-xs font-semibold text-gray-900 dark:text-white"},f.transactionNumber)),e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Oprateur:")," ",e.createElement("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-semibold ${MT[f.operator]||MT.Other}`},f.operator))),e.createElement("div",{className:"flex flex-wrap items-center gap-3 text-sm"},e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Montant pay:")," ",e.createElement("span",{className:"font-bold text-indigo-600 dark:text-indigo-400"},OT(f.amount))),e.createElement("span",{className:"text-gray-300 dark:text-gray-600"},""),e.createElement("div",null,e.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Prix produit:")," ",e.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},OT(f.product?.price))),e.createElement("span",{className:"text-gray-300 dark:text-gray-600"},""),e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Soumis le ",dce(f.submittedAt))))),e.createElement("div",{className:"flex flex-wrap gap-2"},e.createElement("button",{onClick:()=>m(f._id),disabled:i===f._id,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 active:scale-95 transition-all disabled:opacity-60"},e.createElement(Qt,{className:"w-4 h-4"}),i===f._id?"Vrification...":"Vrifier"),e.createElement("button",{onClick:()=>p(f._id),disabled:i===f._id,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700 active:scale-95 transition-all disabled:opacity-60"},e.createElement($n,{className:"w-4 h-4"}),i===f._id?"Rejet...":"Rejeter")))))))))}const mce=[{value:"today",label:"Aujourd'hui"},{value:"week",label:"Cette semaine"},{value:"month",label:"Ce mois"},{value:"year",label:"Cette anne"},{value:"custom",label:"Priode personnalise"}];function fce(){const[t,r]=g.useState("month"),[a,n]=g.useState(""),[s,o]=g.useState(""),[i,d]=g.useState(null),[u,m]=g.useState(!1),[p,f]=g.useState(""),y=g.useCallback(async()=>{m(!0),f("");try{const E=new URLSearchParams({period:t});if(t==="custom"){if(!a||!s){f("Veuillez slectionner une date de dbut et de fin"),m(!1);return}E.set("startDate",a),E.set("endDate",s)}const{data:x}=await se.get(`/admin/reports?${E.toString()}`);d(x)}catch(E){console.error("Generate report error:",E),f(E.response?.data?.message||"Erreur lors de la gnration du rapport")}finally{m(!1)}},[t,a,s]),b=g.useCallback(async()=>{if(i)try{const{jsPDF:E}=await Nl(async()=>{const{jsPDF:P}=await import("./jspdf.es.min-CUOboXId.js").then(S=>S.j);return{jsPDF:P}},[]),{default:x}=await Nl(async()=>{const{default:P}=await import("./jspdf.plugin.autotable-CBbcTuFj.js");return{default:P}},[]),N=new E;let k=20;if(N.setFontSize(20),N.setFont(void 0,"bold"),N.text("Rapport HDMarket",105,k,{align:"center"}),k+=10,N.setFontSize(12),N.setFont(void 0,"normal"),N.text(i.period.label,105,k,{align:"center"}),k+=5,N.setFontSize(10),N.text(`Gnr le ${new Date(i.generatedAt).toLocaleDateString("fr-FR")}`,105,k,{align:"center"}),k+=15,N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Utilisateurs",14,k),k+=7,x(N,{startY:k,head:[["Mtrique","Valeur"]],body:[["Total utilisateurs",i.users.total.toLocaleString()],["Nouveaux utilisateurs",i.users.new.toLocaleString()],["Convertis en boutique",i.users.convertedToShop.toLocaleString()],["Utilisateurs suspendus",i.users.suspended.toLocaleString()],["Utilisateurs vrifis",i.users.verified.toLocaleString()]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),k=N.lastAutoTable.finalY+10,k>250&&(N.addPage(),k=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Commandes",14,k),k+=7,x(N,{startY:k,head:[["Mtrique","Valeur"]],body:[["Total commandes",i.orders.total.toLocaleString()],["Nouvelles commandes",i.orders.new.toLocaleString()],["Valeur totale",`${i.orders.totalValue.toLocaleString()} FCFA`],["Valeur moyenne",`${Math.round(i.orders.averageValue).toLocaleString()} FCFA`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),k=N.lastAutoTable.finalY+10,k>250&&(N.addPage(),k=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Annonces",14,k),k+=7,x(N,{startY:k,head:[["Mtrique","Valeur"]],body:[["Total annonces",i.products.total.toLocaleString()],["Nouvelles annonces",i.products.new.toLocaleString()],["Annonces approuves",(i.products.byStatus.approved||0).toLocaleString()],["Annonces en attente",(i.products.byStatus.pending||0).toLocaleString()],["Annonces rejetes",(i.products.byStatus.rejected||0).toLocaleString()]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),k=N.lastAutoTable.finalY+10,k>250&&(N.addPage(),k=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Paiements",14,k),k+=7,x(N,{startY:k,head:[["Mtrique","Valeur"]],body:[["Total paiements",i.payments.total.toLocaleString()],["Nouveaux paiements",i.payments.new.toLocaleString()],["Montant total",`${i.payments.totalValue.toLocaleString()} FCFA`],["Montant moyen",`${Math.round(i.payments.averageValue).toLocaleString()} FCFA`],["Taux de vrification",`${i.payments.verificationRate}%`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),k=N.lastAutoTable.finalY+10,k>250&&(N.addPage(),k=20),i.growth&&(N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Croissance",14,k),k+=7,x(N,{startY:k,head:[["Mtrique","Taux de croissance"]],body:[["Utilisateurs",`${i.growth.monthlyGrowthRate.users>=0?"+":""}${i.growth.monthlyGrowthRate.users}%`],["Annonces",`${i.growth.monthlyGrowthRate.products>=0?"+":""}${i.growth.monthlyGrowthRate.products}%`],["Commandes",`${i.growth.monthlyGrowthRate.orders>=0?"+":""}${i.growth.monthlyGrowthRate.orders}%`],["Paiements",`${i.growth.monthlyGrowthRate.payments>=0?"+":""}${i.growth.monthlyGrowthRate.payments}%`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),k=N.lastAutoTable.finalY+10),k>250&&(N.addPage(),k=20),i.content){N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Mtriques de contenu",14,k),k+=7;const P=[["Photos moyennes par annonce",i.content.avgPhotosPerListing.toFixed(2)],["Longueur moyenne des descriptions",`${i.content.avgDescriptionLength} caractres`]];i.content.avgPriceByCategory&&Object.keys(i.content.avgPriceByCategory).length>0&&(P.push(["",""]),P.push(["Prix moyen par catgorie",""]),Object.entries(i.content.avgPriceByCategory).sort((S,_)=>_[1]-S[1]).slice(0,8).forEach(([S,_])=>{P.push([S,`${Math.round(_).toLocaleString()} FCFA`])})),x(N,{startY:k,head:[["Mtrique","Valeur"]],body:P,theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}})}const A=N.internal.getNumberOfPages();for(let P=1;P<=A;P++)N.setPage(P),N.setFontSize(8),N.setFont(void 0,"normal"),N.text(`Page ${P} sur ${A} - HDMarket Admin`,105,N.internal.pageSize.height-10,{align:"center"});N.save(`rapport-hdmarket-${i.period.type}-${new Date().toISOString().split("T")[0]}.pdf`)}catch(E){console.error("PDF export error:",E),alert("Erreur lors de l'export PDF")}},[i]),w=g.useCallback(async()=>{if(i)try{const E=(await Nl(async()=>{const{default:T}=await import("./exceljs.min-Co_AytCa.js").then(O=>O.e);return{default:T}},[])).default,x=new E.Workbook,N=x.addWorksheet("Rsum");N.columns=[{header:"Catgorie",key:"category",width:30},{header:"Mtrique",key:"metric",width:30},{header:"Valeur",key:"value",width:20}],N.addRow({category:"Priode",metric:i.period.label,value:""}),N.addRow({category:"Gnr le",metric:new Date(i.generatedAt).toLocaleString("fr-FR"),value:""}),N.addRow({}),N.addRow({category:"UTILISATEURS",metric:"",value:""}),N.addRow({category:"",metric:"Total utilisateurs",value:i.users.total}),N.addRow({category:"",metric:"Nouveaux utilisateurs",value:i.users.new}),N.addRow({category:"",metric:"Convertis en boutique",value:i.users.convertedToShop}),N.addRow({category:"",metric:"Utilisateurs suspendus",value:i.users.suspended}),N.addRow({category:"",metric:"Utilisateurs vrifis",value:i.users.verified}),N.addRow({}),N.addRow({category:"COMMANDES",metric:"",value:""}),N.addRow({category:"",metric:"Total commandes",value:i.orders.total}),N.addRow({category:"",metric:"Nouvelles commandes",value:i.orders.new}),N.addRow({category:"",metric:"Valeur totale (FCFA)",value:i.orders.totalValue}),N.addRow({category:"",metric:"Valeur moyenne (FCFA)",value:Math.round(i.orders.averageValue)}),N.addRow({}),N.addRow({category:"ANNONCES",metric:"",value:""}),N.addRow({category:"",metric:"Total annonces",value:i.products.total}),N.addRow({category:"",metric:"Nouvelles annonces",value:i.products.new}),N.addRow({category:"",metric:"Annonces approuves",value:i.products.byStatus.approved||0}),N.addRow({category:"",metric:"Annonces en attente",value:i.products.byStatus.pending||0}),N.addRow({category:"",metric:"Annonces rejetes",value:i.products.byStatus.rejected||0}),N.addRow({}),N.addRow({category:"PAIEMENTS",metric:"",value:""}),N.addRow({category:"",metric:"Total paiements",value:i.payments.total}),N.addRow({category:"",metric:"Nouveaux paiements",value:i.payments.new}),N.addRow({category:"",metric:"Montant total (FCFA)",value:i.payments.totalValue}),N.addRow({category:"",metric:"Montant moyen (FCFA)",value:Math.round(i.payments.averageValue)}),N.addRow({category:"",metric:"Taux de vrification (%)",value:i.payments.verificationRate}),N.addRow({}),i.growth&&(N.addRow({category:"CROISSANCE",metric:"",value:""}),N.addRow({category:"",metric:"Taux croissance utilisateurs (%)",value:i.growth.monthlyGrowthRate.users}),N.addRow({category:"",metric:"Taux croissance annonces (%)",value:i.growth.monthlyGrowthRate.products}),N.addRow({category:"",metric:"Taux croissance commandes (%)",value:i.growth.monthlyGrowthRate.orders}),N.addRow({category:"",metric:"Taux croissance paiements (%)",value:i.growth.monthlyGrowthRate.payments}),N.addRow({})),i.content&&(N.addRow({category:"CONTENU",metric:"",value:""}),N.addRow({category:"",metric:"Photos moyennes par annonce",value:i.content.avgPhotosPerListing.toFixed(2)}),N.addRow({category:"",metric:"Longueur moyenne descriptions",value:i.content.avgDescriptionLength}),N.addRow({}),i.content.avgPriceByCategory&&Object.keys(i.content.avgPriceByCategory).length>0&&(N.addRow({category:"PRIX MOYEN PAR CATGORIE",metric:"",value:""}),Object.entries(i.content.avgPriceByCategory).sort((T,O)=>O[1]-T[1]).forEach(([T,O])=>{N.addRow({category:"",metric:T,value:Math.round(O)})}))),N.getRow(1).font={bold:!0},N.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}},N.getRow(1).font={color:{argb:"FFFFFFFF"},bold:!0};const k=x.addWorksheet("Par Ville");k.columns=[{header:"Ville",key:"city",width:20},{header:"Utilisateurs",key:"users",width:15}],Object.entries(i.users.byCity).forEach(([T,O])=>{k.addRow({city:T,users:O})}),k.getRow(1).font={bold:!0},k.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}},k.getRow(1).font={color:{argb:"FFFFFFFF"},bold:!0};const A=await x.xlsx.writeBuffer(),P=new Blob([A],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),S=window.URL.createObjectURL(P),_=document.createElement("a");_.href=S,_.download=`rapport-hdmarket-${i.period.type}-${new Date().toISOString().split("T")[0]}.xlsx`,_.click(),window.URL.revokeObjectURL(S)}catch(E){console.error("Excel export error:",E),alert("Erreur lors de l'export Excel")}},[i]);return e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},e.createElement("header",{className:"mb-8"},e.createElement("div",{className:"flex items-center gap-3 mb-2"},e.createElement(gn,{className:"w-8 h-8 text-indigo-600"}),e.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Rapports Administratifs")),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Gnrez des rapports dtaills sur l'activit de votre plateforme")),e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 mb-6"},e.createElement("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Configuration du rapport"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Priode"),e.createElement("select",{value:t,onChange:E=>r(E.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},mce.map(E=>e.createElement("option",{key:E.value,value:E.value},E.label)))),t==="custom"&&e.createElement(e.Fragment,null,e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Date de dbut"),e.createElement("input",{type:"date",value:a,onChange:E=>n(E.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),e.createElement("div",null,e.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Date de fin"),e.createElement("input",{type:"date",value:s,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})))),p&&e.createElement("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm"},p),e.createElement("div",{className:"flex flex-wrap gap-3"},e.createElement("button",{onClick:y,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-60"},e.createElement(pn,{className:"w-4 h-4"}),u?"Gnration...":"Gnrer le rapport"),i&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700 active:scale-95 transition-all"},e.createElement(Ci,{className:"w-4 h-4"}),"Exporter PDF"),e.createElement("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 active:scale-95 transition-all"},e.createElement(Ci,{className:"w-4 h-4"}),"Exporter Excel")))),i&&e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},e.createElement(yp,{icon:Ia,title:"Utilisateurs",value:i.users.total,change:i.users.new,color:"blue"}),e.createElement(yp,{icon:Ot,title:"Annonces",value:i.products.total,change:i.products.new,color:"purple"}),e.createElement(yp,{icon:xa,title:"Paiements",value:`${Math.round(i.payments.totalValue).toLocaleString()} FCFA`,change:i.payments.new,color:"green"}),e.createElement(yp,{icon:Xt,title:"Commandes",value:i.orders.total,change:i.orders.new,color:"orange"})),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},e.createElement(Fs,{title:"Utilisateurs",icon:Ia},e.createElement(jt,{label:"Total",value:i.users.total.toLocaleString()}),e.createElement(jt,{label:"Nouveaux",value:i.users.new.toLocaleString(),highlight:!0}),e.createElement(jt,{label:"Convertis en boutique",value:i.users.convertedToShop.toLocaleString()}),e.createElement(jt,{label:"Suspendus",value:i.users.suspended.toLocaleString()}),e.createElement(jt,{label:"Vrifis",value:i.users.verified.toLocaleString()}),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par genre"),Object.entries(i.users.byGender).map(([E,x])=>e.createElement(jt,{key:E,label:E==="homme"?"Hommes":"Femmes",value:x.toLocaleString(),small:!0}))),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par ville"),Object.entries(i.users.byCity).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:x.toLocaleString(),small:!0})))),e.createElement(Fs,{title:"Commandes",icon:Xt},e.createElement(jt,{label:"Total",value:i.orders.total.toLocaleString()}),e.createElement(jt,{label:"Nouvelles",value:i.orders.new.toLocaleString(),highlight:!0}),e.createElement(jt,{label:"Valeur totale",value:`${Math.round(i.orders.totalValue).toLocaleString()} FCFA`}),e.createElement(jt,{label:"Valeur moyenne",value:`${Math.round(i.orders.averageValue).toLocaleString()} FCFA`}),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),Object.entries(i.orders.byStatus).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:x.toLocaleString(),small:!0})))),e.createElement(Fs,{title:"Annonces",icon:Ot},e.createElement(jt,{label:"Total",value:i.products.total.toLocaleString()}),e.createElement(jt,{label:"Nouvelles",value:i.products.new.toLocaleString(),highlight:!0}),e.createElement(jt,{label:"Avec paiement",value:i.products.withPayment.toLocaleString()}),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),e.createElement(jt,{label:"Approuves",value:(i.products.byStatus.approved||0).toLocaleString(),small:!0}),e.createElement(jt,{label:"En attente",value:(i.products.byStatus.pending||0).toLocaleString(),small:!0}),e.createElement(jt,{label:"Rejetes",value:(i.products.byStatus.rejected||0).toLocaleString(),small:!0})),Object.keys(i.products.byCategory).length>0&&e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par catgorie"),Object.entries(i.products.byCategory).slice(0,5).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:x.toLocaleString(),small:!0})))),e.createElement(Fs,{title:"Paiements",icon:xa},e.createElement(jt,{label:"Total",value:i.payments.total.toLocaleString()}),e.createElement(jt,{label:"Nouveaux",value:i.payments.new.toLocaleString(),highlight:!0}),e.createElement(jt,{label:"Montant total",value:`${Math.round(i.payments.totalValue).toLocaleString()} FCFA`}),e.createElement(jt,{label:"Montant moyen",value:`${Math.round(i.payments.averageValue).toLocaleString()} FCFA`}),e.createElement(jt,{label:"Taux de vrification",value:`${i.payments.verificationRate}%`}),e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par oprateur"),Object.entries(i.payments.byOperator).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:x.toLocaleString(),small:!0})))),e.createElement(Fs,{title:"Avis d'amlioration",icon:fa},e.createElement(jt,{label:"Total",value:i.feedback.total.toLocaleString()}),e.createElement(jt,{label:"Nouveaux",value:i.feedback.new.toLocaleString(),highlight:!0}),e.createElement(jt,{label:"Lus",value:i.feedback.read.toLocaleString()}),e.createElement(jt,{label:"Non lus",value:i.feedback.unread.toLocaleString()})),e.createElement(Fs,{title:"Rclamations",icon:xr},e.createElement(jt,{label:"Total",value:i.complaints.total.toLocaleString()}),e.createElement(jt,{label:"Nouvelles",value:i.complaints.new.toLocaleString(),highlight:!0}),Object.keys(i.complaints.byStatus).length>0&&e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),Object.entries(i.complaints.byStatus).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:x.toLocaleString(),small:!0})))),e.createElement(Fs,{title:"Boutiques",icon:Sr},e.createElement(jt,{label:"Total",value:i.shops.total.toLocaleString()}),e.createElement(jt,{label:"Vrifies",value:i.shops.verified.toLocaleString()}),e.createElement(jt,{label:"Taux de conversion",value:`${i.shops.conversionRate}%`}),i.shops.topShops.length>0&&e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Top boutiques"),i.shops.topShops.map((E,x)=>e.createElement(jt,{key:x,label:E.name,value:`${E.followers} followers`,small:!0})))),e.createElement(Fs,{title:"Mtriques cls",icon:Xt},e.createElement(jt,{label:"Taux d'approbation",value:`${i.metrics.approvalRate}%`}),e.createElement(jt,{label:"Taux de vrification",value:`${i.metrics.verificationRate}%`}),e.createElement(jt,{label:"Taux de conversion boutique",value:`${i.metrics.shopConversionRate}%`}),e.createElement(jt,{label:"Valeur moyenne commande",value:`${Math.round(i.metrics.averageOrderValue).toLocaleString()} FCFA`}),e.createElement(jt,{label:"Valeur moyenne paiement",value:`${Math.round(i.metrics.averagePaymentValue).toLocaleString()} FCFA`}))),i.growth&&e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},e.createElement(Fs,{title:"Croissance",icon:Xt},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Taux de croissance mensuel"),e.createElement(jt,{label:"Utilisateurs",value:`${i.growth.monthlyGrowthRate.users>=0?"+":""}${i.growth.monthlyGrowthRate.users}%`}),e.createElement(jt,{label:"Annonces",value:`${i.growth.monthlyGrowthRate.products>=0?"+":""}${i.growth.monthlyGrowthRate.products}%`}),e.createElement(jt,{label:"Commandes",value:`${i.growth.monthlyGrowthRate.orders>=0?"+":""}${i.growth.monthlyGrowthRate.orders}%`}),e.createElement(jt,{label:"Paiements",value:`${i.growth.monthlyGrowthRate.payments>=0?"+":""}${i.growth.monthlyGrowthRate.payments}%`}),i.growth.growthByCity&&Object.keys(i.growth.growthByCity).length>0&&e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Croissance par ville"),Object.entries(i.growth.growthByCity).slice(0,5).map(([E,x])=>e.createElement("div",{key:E,className:"mb-2"},e.createElement("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1"},E),e.createElement(jt,{label:"Utilisateurs",value:`${x.users>=0?"+":""}${x.users}%`,small:!0}),e.createElement(jt,{label:"Annonces",value:`${x.products>=0?"+":""}${x.products}%`,small:!0}))))),i.growth.seasonalTrends&&e.createElement(Fs,{title:"Tendances saisonnires",icon:pn},e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3"},"volution sur les 12 derniers mois"),i.growth.seasonalTrends.users&&i.growth.seasonalTrends.users.length>0&&e.createElement("div",{className:"mb-4"},e.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Utilisateurs"),e.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},i.growth.seasonalTrends.users.slice(-6).map((E,x)=>e.createElement(jt,{key:x,label:E.period,value:E.count.toLocaleString(),small:!0})))),i.growth.seasonalTrends.products&&i.growth.seasonalTrends.products.length>0&&e.createElement("div",{className:"mb-4"},e.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Annonces"),e.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},i.growth.seasonalTrends.products.slice(-6).map((E,x)=>e.createElement(jt,{key:x,label:E.period,value:E.count.toLocaleString(),small:!0})))),i.growth.seasonalTrends.orders&&i.growth.seasonalTrends.orders.length>0&&e.createElement("div",null,e.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Commandes"),e.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},i.growth.seasonalTrends.orders.slice(-6).map((E,x)=>e.createElement(jt,{key:x,label:E.period,value:`${E.count} (${Math.round(E.totalValue).toLocaleString()} FCFA)`,small:!0})))))),i.content&&e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},e.createElement(Fs,{title:"Mtriques de contenu",icon:Ot},e.createElement(jt,{label:"Photos moyennes par annonce",value:i.content.avgPhotosPerListing.toFixed(2)}),e.createElement(jt,{label:"Longueur moyenne des descriptions",value:`${i.content.avgDescriptionLength} caractres`}),i.content.avgPriceByCategory&&Object.keys(i.content.avgPriceByCategory).length>0&&e.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Prix moyen par catgorie"),Object.entries(i.content.avgPriceByCategory).sort((E,x)=>x[1]-E[1]).slice(0,8).map(([E,x])=>e.createElement(jt,{key:E,label:E,value:`${Math.round(x).toLocaleString()} FCFA`,small:!0}))))))))}function yp({icon:t,title:r,value:a,change:n,color:s}){const o={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",purple:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",orange:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"};return e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6"},e.createElement("div",{className:"flex items-center gap-3 mb-3"},e.createElement("div",{className:`p-3 rounded-xl ${o[s]}`},e.createElement(t,{className:"w-6 h-6"})),e.createElement("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400"},r)),e.createElement("p",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1"},typeof a=="number"?a.toLocaleString():a),n!==void 0&&e.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},"+",typeof n=="number"?n.toLocaleString():n," nouveaux"))}function Fs({title:t,icon:r,children:a}){return e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement(r,{className:"w-5 h-5 text-indigo-600"}),e.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},t)),e.createElement("div",{className:"space-y-2"},a))}function jt({label:t,value:r,highlight:a,small:n}){return e.createElement("div",{className:`flex items-center justify-between ${n?"text-sm":""} ${a?"font-semibold":""}`},e.createElement("span",{className:`${a?"text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-gray-400"}`},t),e.createElement("span",{className:`${a?"text-indigo-900 dark:text-indigo-300":"text-gray-900 dark:text-white"} font-semibold`},r))}const bp=t=>{if(!t)return"";const r=new Date(t);return Number.isNaN(r.getTime())?"":r.toISOString().slice(0,10)};function pce(){const{showToast:t}=Qo(),[r,a]=g.useState(null),[n,s]=g.useState(""),[o,i]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState(""),[f,y]=g.useState(null),[b,w]=g.useState(""),[E,x]=g.useState(!1),[N,k]=g.useState(""),[A,P]=g.useState(""),[S,_]=g.useState(null),[T,O]=g.useState(""),[R,D]=g.useState(!1),[j,$]=g.useState(""),[K,W]=g.useState(""),[z,Q]=g.useState(null),[ee,H]=g.useState(""),[q,B]=g.useState(null),[G,Y]=g.useState(""),[V,J]=g.useState(""),[ue,he]=g.useState(""),[Oe,te]=g.useState(""),[ie,de]=g.useState(!1),[Ce,ne]=g.useState(""),[re,Ie]=g.useState(""),[fe,Le]=g.useState([]),[at,nt]=g.useState(""),[it,xe]=g.useState(!1),[He,Je]=g.useState(""),[xt,ht]=g.useState(""),[mt,pt]=g.useState(!0);g.useEffect(()=>{let le=!0;return(async()=>{pt(!0);try{const[tt,lt,gt,F]=await Promise.all([se.get("/settings/hero-banner"),se.get("/settings/app-logo"),se.get("/settings/promo-banner"),se.get("/admin/prohibited-words").catch(()=>({data:[]}))]);if(!le)return;O(tt?.data?.heroBanner||""),s(lt?.data?.appLogoDesktop||""),w(lt?.data?.appLogoMobile||""),H(gt?.data?.promoBanner||""),Y(gt?.data?.promoBannerMobile||""),J(gt?.data?.promoBannerLink||""),he(bp(gt?.data?.promoBannerStartAt)),te(bp(gt?.data?.promoBannerEndAt)),Le(Array.isArray(F?.data)?F.data:[])}catch(tt){if(!le)return;t(tt.response?.data?.message||"Erreur chargement paramtres.",{variant:"error"})}finally{le&&pt(!1)}})(),()=>{le=!1}},[t]),g.useEffect(()=>()=>{[T,n,b,ee,G].forEach(Ne=>{Ne&&typeof Ne=="string"&&Ne.startsWith("blob:")&&URL.revokeObjectURL(Ne)})},[T,n,b,ee,G]);const bt=le=>{const Ne=le.target.files?.[0]??null;a(Ne),u(""),p(""),Ne&&(n?.startsWith?.("blob:")&&URL.revokeObjectURL(n),s(URL.createObjectURL(Ne)))},Pt=le=>{const Ne=le.target.files?.[0]??null;y(Ne),k(""),P(""),Ne&&(b?.startsWith?.("blob:")&&URL.revokeObjectURL(b),w(URL.createObjectURL(Ne)))},Ge=le=>{const Ne=le.target.files?.[0]??null;_(Ne),$(""),W(""),Ne&&(T?.startsWith?.("blob:")&&URL.revokeObjectURL(T),O(URL.createObjectURL(Ne)))},ft=le=>{const Ne=le.target.files?.[0]??null;Q(Ne),ne(""),Ie(""),Ne&&(ee?.startsWith?.("blob:")&&URL.revokeObjectURL(ee),H(URL.createObjectURL(Ne)))},We=le=>{const Ne=le.target.files?.[0]??null;B(Ne),ne(""),Ie(""),Ne&&(G?.startsWith?.("blob:")&&URL.revokeObjectURL(G),Y(URL.createObjectURL(Ne)))},Ye=g.useCallback(async()=>{if(!S){$("Veuillez slectionner une image pour la bannire.");return}D(!0),$(""),W("");try{const le=new FormData;le.append("heroBanner",S);const{data:Ne}=await se.put("/admin/hero-banner",le,{headers:{"Content-Type":"multipart/form-data"}});O(Ne?.heroBanner??T),_(null),W("Bannire mise  jour avec succs."),t("Bannire HERO mise  jour.",{variant:"success"})}catch(le){const Ne=le.response?.data?.message||"Impossible d'enregistrer la bannire.";$(Ne),t(Ne,{variant:"error"})}finally{D(!1)}},[S,T,t]),be=g.useCallback(async()=>{if(ue&&Oe){const le=new Date(ue),Ne=new Date(Oe);if(Number.isNaN(le.getTime())||Number.isNaN(Ne.getTime())){ne("Dates de bannire invalides.");return}if(Ne<le){ne("La date de fin doit tre aprs la date de dbut.");return}}de(!0),ne(""),Ie("");try{const le=new FormData;z&&le.append("promoBanner",z),q&&le.append("promoBannerMobile",q),le.append("promoBannerLink",V.trim()),le.append("promoBannerStartAt",ue),le.append("promoBannerEndAt",Oe);const{data:Ne}=await se.put("/admin/promo-banner",le,{headers:{"Content-Type":"multipart/form-data"}});H(Ne?.promoBanner??ee),Y(Ne?.promoBannerMobile??G),J(Ne?.promoBannerLink??V),he(bp(Ne?.promoBannerStartAt)),te(bp(Ne?.promoBannerEndAt)),Q(null),B(null),Ie("Bannire publicitaire mise  jour avec succs."),t("Bannire publicitaire mise  jour.",{variant:"success"})}catch(le){const Ne=le.response?.data?.message||"Impossible d'enregistrer la bannire publicitaire.";ne(Ne),t(Ne,{variant:"error"})}finally{de(!1)}},[z,q,V,ue,Oe,ee,G,t]),ut=g.useCallback(async()=>{if(!r){u("Veuillez slectionner un logo desktop.");return}i(!0),u(""),p("");try{const le=new FormData;le.append("appLogoDesktop",r);const{data:Ne}=await se.put("/admin/app-logo/desktop",le,{headers:{"Content-Type":"multipart/form-data"}});s(Ne?.appLogoDesktop??n),a(null),p("Logo desktop mis  jour avec succs."),t("Logo desktop mis  jour.",{variant:"success"})}catch(le){const Ne=le.response?.data?.message||"Impossible d'enregistrer le logo desktop.";u(Ne),t(Ne,{variant:"error"})}finally{i(!1)}},[r,n,t]),et=g.useCallback(async()=>{if(!f){k("Veuillez slectionner un logo mobile.");return}x(!0),k(""),P("");try{const le=new FormData;le.append("appLogoMobile",f);const{data:Ne}=await se.put("/admin/app-logo/mobile",le,{headers:{"Content-Type":"multipart/form-data"}});w(Ne?.appLogoMobile??b),y(null),P("Logo mobile mis  jour avec succs."),t("Logo mobile mis  jour.",{variant:"success"})}catch(le){const Ne=le.response?.data?.message||"Impossible d'enregistrer le logo mobile.";k(Ne),t(Ne,{variant:"error"})}finally{x(!1)}},[f,b,t]),Z=g.useCallback(async le=>{if(le.preventDefault(),!!at.trim()){Je(""),ht("");try{const{data:Ne}=await se.post("/admin/prohibited-words",{word:at.trim()});Le(tt=>[...tt,Ne]),nt(""),ht("Mot ajout  la liste."),t("Mot interdit ajout.",{variant:"success"})}catch(Ne){const tt=Ne.response?.data?.message||Ne.message||"chec de l'ajout du mot interdit.";Je(tt),t(tt,{variant:"error"})}}},[at,t]),Ee=g.useCallback(async le=>{Je(""),ht("");try{await se.delete(`/admin/prohibited-words/${le}`),Le(Ne=>Ne.filter(tt=>tt.id!==le)),ht("Mot supprim de la liste."),t("Mot interdit supprim.",{variant:"success"})}catch(Ne){const tt=Ne.response?.data?.message||Ne.message||"Impossible de supprimer le mot.";Je(tt),t(tt,{variant:"error"})}},[t]);return mt?e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},e.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8"},e.createElement("div",{className:"flex flex-col items-center justify-center py-24"},e.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),e.createElement("p",{className:"mt-4 text-sm font-medium text-gray-600"},"Chargement des paramtres")))):e.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},e.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},e.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},e.createElement(kl,{size:24,className:"text-white",strokeWidth:2.5})),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},"App Settings"),e.createElement("p",{className:"text-sm text-gray-600 mt-0.5"},"Logo, bannire HERO et bannire publicitaire"))),e.createElement(pe,{to:"/admin",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 transition-all"},e.createElement(Pr,{size:16}),"Retour au tableau de bord")),e.createElement("section",{className:"space-y-8"},e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100"},e.createElement(W5,{size:20,className:"text-amber-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Logos de lapplication"),e.createElement("p",{className:"text-sm text-gray-500"},"Utiliss dans la barre de navigation (desktop et mobile)."))),e.createElement("div",{className:"grid gap-6 md:grid-cols-2"},e.createElement("div",{className:"space-y-3 rounded-xl border border-gray-100 bg-gray-50/50 p-4"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},e.createElement(W5,{size:16})," Logo desktop"),d&&e.createElement("p",{className:"text-sm text-red-600"},d),m&&e.createElement("p",{className:"text-sm text-emerald-600"},m),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-white p-6 cursor-pointer hover:bg-gray-50 transition-colors"},n?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:n,alt:"Logo desktop",className:"h-16 w-auto max-w-full object-contain mx-auto mb-2"}),e.createElement("p",{className:"text-xs text-gray-500"},"Logo actuel")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),e.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},e.createElement(vi,{size:20,className:"text-gray-400"}),e.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG, WEBP  format horizontal"),e.createElement("input",{type:"file",accept:"image/*",onChange:bt,className:"hidden"}))),e.createElement("button",{type:"button",onClick:ut,disabled:o||!r,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},o?"Mise  jour":"Enregistrer le logo desktop")),e.createElement("div",{className:"space-y-3 rounded-xl border border-gray-100 bg-gray-50/50 p-4"},e.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},e.createElement(sM,{size:16})," Logo mobile"),N&&e.createElement("p",{className:"text-sm text-red-600"},N),A&&e.createElement("p",{className:"text-sm text-emerald-600"},A),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-white p-6 cursor-pointer hover:bg-gray-50 transition-colors"},b?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:b,alt:"Logo mobile",className:"h-16 w-16 rounded-xl object-contain mx-auto mb-2 border border-gray-200"}),e.createElement("p",{className:"text-xs text-gray-500"},"Logo actuel")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),e.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},e.createElement(vi,{size:20,className:"text-gray-400"}),e.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG, WEBP  format carr"),e.createElement("input",{type:"file",accept:"image/*",onChange:Pt,className:"hidden"}))),e.createElement("button",{type:"button",onClick:et,disabled:E||!f,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},E?"Mise  jour":"Enregistrer le logo mobile")))),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-100"},e.createElement(kl,{size:20,className:"text-indigo-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Bannire du HERO (Accueil)"),e.createElement("p",{className:"text-sm text-gray-500"},"Image en arrire-plan du HERO sur la page daccueil. 1600600px recommand."))),j&&e.createElement("p",{className:"text-sm text-red-600 mb-2"},j),K&&e.createElement("p",{className:"text-sm text-emerald-600 mb-2"},K),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},T?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:T,alt:"Bannire HERO",className:"h-32 w-full rounded-xl object-cover mx-auto mb-2 border-2 border-indigo-200"}),e.createElement("p",{className:"text-sm text-gray-600"},"Bannire actuelle")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire dfinie."),e.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},e.createElement(vi,{size:20,className:"text-gray-400"}),e.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),e.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG  1600600px recommand"),e.createElement("input",{type:"file",accept:"image/*",onChange:Ge,className:"hidden"}))),e.createElement("button",{type:"button",onClick:Ye,disabled:R||!S,className:"mt-4 w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},R?"Mise  jour":"Enregistrer la bannire HERO")),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-pink-100"},e.createElement(kl,{size:20,className:"text-pink-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Bannire publicitaire"),e.createElement("p",{className:"text-sm text-gray-500"},"Bannire sur la page daccueil. Lien optionnel et plage de dates."))),Ce&&e.createElement("p",{className:"text-sm text-red-600 mb-2"},Ce),re&&e.createElement("p",{className:"text-sm text-emerald-600 mb-2"},re),e.createElement("div",{className:"space-y-4 mb-6"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Lien du banner"),e.createElement("input",{type:"text",value:V,onChange:le=>J(le.target.value),placeholder:"https://exemple.com/promo ou /products",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),e.createElement("div",{className:"grid gap-3 sm:grid-cols-2"},e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de dbut"),e.createElement("input",{type:"date",value:ue,onChange:le=>he(le.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),e.createElement("div",null,e.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de fin"),e.createElement("input",{type:"date",value:Oe,onChange:le=>te(le.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),e.createElement("p",{className:"text-xs text-gray-500"},"Hors priode, la bannire par dfaut saffiche.")),e.createElement("div",{className:"grid gap-4 lg:grid-cols-2 mb-6"},e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},ee?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:ee,alt:"Bannire publicitaire",className:"h-28 w-full rounded-xl object-cover mx-auto mb-2 border border-gray-200"}),e.createElement("p",{className:"text-xs text-gray-600"},"Desktop")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire desktop."),e.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},e.createElement(vi,{size:18,className:"text-gray-400"}),e.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Upload"),e.createElement("input",{type:"file",accept:"image/*",onChange:ft,className:"hidden"}))),e.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},G?e.createElement("div",{className:"text-center w-full"},e.createElement("img",{src:G,alt:"Bannire publicitaire mobile",className:"h-28 w-full rounded-xl object-cover mx-auto mb-2 border border-gray-200"}),e.createElement("p",{className:"text-xs text-gray-600"},"Mobile")):e.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire mobile."),e.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},e.createElement(vi,{size:18,className:"text-gray-400"}),e.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Upload"),e.createElement("input",{type:"file",accept:"image/*",onChange:We,className:"hidden"})))),e.createElement("button",{type:"button",onClick:be,disabled:ie,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},ie?"Mise  jour":"Enregistrer la bannire publicitaire")),e.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100"},e.createElement(_r,{size:20,className:"text-amber-600"})),e.createElement("div",null,e.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Mots interdits"),e.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez les mots que les vendeurs ne doivent pas utiliser dans leurs annonces. Les annonces contenant ces mots seront bloques."))),e.createElement("form",{onSubmit:Z,className:"flex flex-col gap-3 sm:flex-row mb-4"},e.createElement("div",{className:"relative flex-1"},e.createElement(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.createElement("input",{type:"text",placeholder:"Ex : contrefaon, interdit...",value:at,onChange:le=>nt(le.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 bg-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:it})),e.createElement("button",{type:"submit",disabled:it||!at.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},it?e.createElement(e.Fragment,null,e.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Ajout..."):e.createElement(e.Fragment,null,e.createElement(_r,{size:16}),"Ajouter"))),xt&&e.createElement("p",{className:"text-sm text-emerald-600 mb-2"},xt),He&&e.createElement("p",{className:"text-sm text-red-600 mb-2"},He),e.createElement("div",{className:"flex flex-wrap gap-2"},fe.map(le=>e.createElement("span",{key:le.id,className:"flex items-center gap-2 rounded-full border border-gray-200 bg-gray-50 px-3 py-1.5 text-xs font-semibold text-gray-700"},le.word,e.createElement("button",{type:"button",onClick:()=>Ee(le.id),className:"text-[11px] text-red-600 hover:text-red-500 transition-colors"},e.createElement(_t,{size:12})))),!fe.length&&e.createElement("p",{className:"text-sm text-gray-400"},"Aucun mot interdit dfini pour l'instant."))))))}const gce=12;function hce(){const t=Zr(),[r,a]=g.useState([]),[n,s]=g.useState(!1),[o,i]=g.useState(""),[d,u]=g.useState(1),[m,p]=g.useState(1),f=async()=>{s(!0),i("");try{const{data:y}=await se.get("/products/public",{params:{certified:!0,sort:"new",limit:gce,page:d}}),w=(Array.isArray(y?.items)?y.items:Array.isArray(y)?y:[]).filter(E=>E?.certified);a(w),p(y?.pagination?.pages||1)}catch(y){console.error("Erreur chargement certifis",y),i(y.response?.data?.message||y.message||"Impossible de charger les produits certifis.")}finally{s(!1)}};return g.useEffect(()=>{f()},[d]),e.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 space-y-4 sm:space-y-8 pb-8"},e.createElement("header",{className:"space-y-2"},e.createElement("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},e.createElement(Pr,{className:"w-4 h-4"}),"Retour"),e.createElement("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900"},"Produits certifis"),e.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Toutes les annonces approuves par nos quipes certifies HDMarket.")),o&&e.createElement("p",{className:"text-sm text-red-600"},o),n?e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4"},Array.from({length:8}).map((y,b)=>e.createElement("div",{key:b,className:"rounded-2xl border border-gray-100 bg-white p-2 sm:p-4 shadow-sm"},e.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),e.createElement("div",{className:"mt-2 sm:mt-3 space-y-1.5 sm:space-y-2"},e.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),e.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):r.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4"},r.map(y=>e.createElement(Da,{key:y._id,p:y}))),e.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},e.createElement("span",null,"Page ",d," / ",m),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>u(y=>Math.max(1,y-1)),disabled:d<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>u(y=>Math.min(m,y+1)),disabled:d>=m,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):e.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit certifi nest disponible pour le moment. Revenez plus tard."))}const ZE=12,yce=4,bce=t=>new Set(t.map(r=>String(r?.id)).filter(Boolean)),ew=t=>{const r=Number(t);return!Number.isFinite(r)||r<0?"0":r.toLocaleString("fr-FR")},xce={lectronique:"lectronique","Mode & Accessoires":"Mode","Maison & Jardin":"Maison",Vhicules:"Vhicules","Sports & Loisirs":"Sports",Services:"Services",Autre:"Autre"};function vce(){const t=Bl();ts();const{user:r}=g.useContext(fr),[a,n]=g.useState([]),[s,o]=g.useState([]),[i,d]=g.useState(!1),[u,m]=g.useState(""),[p,f]=g.useState({}),[y,b]=g.useState({}),[w,E]=g.useState(!0),[x,N]=g.useState(!1);g.useEffect(()=>{let O=!0;return(async()=>{if(!r){O&&n(ul());return}try{const D=await Y5();O&&n(D.length?D:ul())}catch{O&&n(ul())}})(),()=>{O=!1}},[r]);const k=g.useMemo(()=>jB(a,yce),[a]),A=g.useMemo(()=>bce(a),[a]),P=r?._id||r?.id||null;g.useEffect(()=>{o([]),m(""),f({}),b({}),E(k.length>0)},[k]);const S=g.useCallback(async()=>{if(i||!w||!k.length)return;d(!0),m("");const O=new Set(s.map(K=>String(K?._id))),R={...p},D={...y},j=[];for(const K of k){if(j.length>=ZE)break;if(D[K])continue;const W=R[K]||1;try{const{data:z}=await se.get("/products/public",{params:{category:K,page:W,limit:ZE,sort:"new"}}),Q=Array.isArray(z)?z:z?.items||[],ee=Array.isArray(z)?1:z?.pagination?.pages||1;Q.forEach(H=>{if(j.length>=ZE||!H?._id)return;const q=String(H._id),B=H.user?._id||H.user?.id||H.user;P&&B&&String(B)===String(P)||A.has(q)||O.has(q)||j.some(G=>String(G._id)===q)||j.push(H)}),W>=ee?D[K]=!0:R[K]=W+1}catch(z){m(z.response?.data?.message||z.message||"Erreur de chargement.");break}}o(K=>[...K,...j]),f(R),b(D),k.some(K=>!D[K])||E(!1),d(!1)},[i,w,k,s,p,y,A,P]);g.useEffect(()=>{k.length&&S()},[k,S]),g.useEffect(()=>{if(!t||i||!w)return;const O=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&S()};return window.addEventListener("scroll",O,{passive:!0}),()=>window.removeEventListener("scroll",O)},[t,i,w,S]);const _=async()=>{if(N(!0),o([]),f({}),b({}),E(!0),m(""),r)try{const O=await Y5();n(O.length?O:ul())}catch{n(ul())}else n(ul());N(!1)},T=g.useMemo(()=>{const O={};return k.forEach(R=>{const D=s.filter(j=>j.category===R);O[R]=D.length}),O},[k,s]);return i&&s.length===0?e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},[1,2,3,4,5,6,7,8].map(O=>e.createElement("div",{key:O,className:"h-80 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"bg-indigo-600 text-white"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},e.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(ma,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Suggestions personnalises"),e.createElement("h1",{className:"text-3xl font-bold"},"Dcouvrez pour vous"))),e.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Des produits slectionns spcialement pour vous, bass sur vos recherches et consultations rcentes.")),e.createElement("button",{type:"button",onClick:_,disabled:x||i,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all disabled:opacity-50"},e.createElement($i,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Actualiser")))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},a.length>0&&e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},e.createElement(zn,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},ew(a.length))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Produits consults"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Vos vues rcentes")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-purple-600"},e.createElement(Ew,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},ew(k.length))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Catgories prfres"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Bas sur vos intrts")),e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},e.createElement(Ks,{className:"w-5 h-5 text-white"})),e.createElement("span",{className:"text-2xl font-bold text-gray-900"},ew(s.length))),e.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Suggestions"),e.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Produits recommands"))),k.length>0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},e.createElement("div",{className:"flex items-center gap-2 mb-3"},e.createElement(ks,{className:"w-4 h-4 text-gray-500"}),e.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Catgories suggres")),e.createElement("div",{className:"flex flex-wrap gap-2"},k.map(O=>e.createElement("div",{key:O,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-50 border border-indigo-200"},e.createElement(Xt,{className:"w-4 h-4 text-indigo-600"}),e.createElement("span",{className:"text-sm font-semibold text-indigo-700"},xce[O]||O),T[O]>0&&e.createElement("span",{className:"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold"},T[O]))))),u&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement(xr,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.createElement("div",null,e.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),e.createElement("p",{className:"text-sm text-red-600"},u)))),!k.length&&!i&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},e.createElement(ir,{className:"w-10 h-10 text-indigo-600"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune suggestion disponible"),e.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Consultez quelques produits pour obtenir des suggestions personnalises bases sur vos intrts."),e.createElement("div",{className:"flex flex-wrap gap-3 justify-center"},e.createElement(pe,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement(Ks,{className:"w-4 h-4"}),"Explorer les produits"),e.createElement(pe,{to:"/shops/verified",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl border-2 border-indigo-200 bg-white text-indigo-600 font-semibold hover:bg-indigo-50 transition-all"},e.createElement(Uo,{className:"w-4 h-4"}),"Boutiques vrifies"))),!i&&s.length===0&&k.length>0&&e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-amber-100 flex items-center justify-center mb-4"},e.createElement(Nn,{className:"w-10 h-10 text-amber-600"})),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune suggestion disponible"),e.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Nous avons analys vos prfrences, mais aucun nouveau produit ne correspond  vos critres pour le moment."),e.createElement("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement($i,{className:"w-4 h-4"}),"Actualiser les suggestions")),s.length>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("div",null,e.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Produits recommands"),e.createElement("p",{className:"text-sm text-gray-500 mt-1"},s.length," produit",s.length>1?"s":""," suggr",s.length>1?"s":""," pour vous"))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},s.map(O=>e.createElement(Da,{key:O._id,p:O})))),i&&s.length>0&&e.createElement("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},[1,2,3,4].map(O=>e.createElement("div",{key:O,className:"h-80 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),!t&&w&&!i&&s.length>0&&e.createElement("div",{className:"mt-8 text-center"},e.createElement("button",{type:"button",onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},e.createElement(ZO,{className:"w-4 h-4"}),"Charger plus de suggestions")),!w&&s.length>0&&e.createElement("div",{className:"mt-8 text-center"},e.createElement("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-100 text-gray-600 text-sm"},e.createElement(Qt,{className:"w-4 h-4"}),e.createElement("span",null,"Toutes les suggestions ont t charges")))))}const Ece=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],wce=[{value:"new",label:"Neuf"},{value:"used",label:"Occasion"}],Nce=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}],kce=12;function Sce(){const{showToast:t}=Qo();Zr();const[r,a]=hd(),[n,s]=g.useState(r.get("q")||""),[o,i]=g.useState(r.get("category")||""),[d,u]=g.useState(r.get("city")||""),[m,p]=g.useState(r.get("condition")||""),[f,y]=g.useState(r.get("minPrice")||""),[b,w]=g.useState(r.get("maxPrice")||""),[E,x]=g.useState(r.get("certified")||""),[N,k]=g.useState(r.get("shopVerified")||""),[A,P]=g.useState(r.get("hasDiscount")==="true"),[S,_]=g.useState(r.get("minRating")||""),[T,O]=g.useState(r.get("minFavorites")||""),[R,D]=g.useState(r.get("minSales")||""),[j,$]=g.useState(r.get("sort")||"new"),[K,W]=g.useState(Number(r.get("page"))||1),[z,Q]=g.useState(!1),[ee,H]=g.useState({basic:!0,price:!1,quality:!1,location:!1}),[q,B]=g.useState([]),[G,Y]=g.useState(!1),[V,J]=g.useState(""),[ue,he]=g.useState(1),[Oe,te]=g.useState(0),ie=g.useCallback(()=>{const fe=new URLSearchParams;return n&&fe.set("q",n),o&&fe.set("category",o),d&&fe.set("city",d),m&&fe.set("condition",m),f&&fe.set("minPrice",f),b&&fe.set("maxPrice",b),E&&fe.set("certified",E),N&&fe.set("shopVerified",N),A&&fe.set("hasDiscount","true"),S&&fe.set("minRating",S),T&&fe.set("minFavorites",T),R&&fe.set("minSales",R),j&&fe.set("sort",j),K>1&&fe.set("page",String(K)),fe},[n,o,d,m,f,b,E,N,A,S,T,R,j,K]);g.useEffect(()=>{const fe=ie();a(fe,{replace:!0})},[ie,a]);const de=g.useCallback(async()=>{Y(!0),J("");try{const fe=ie();fe.delete("page");const Le={};fe.forEach((xe,He)=>{He!=="page"&&(Le[He]=xe)}),Le.page=K,Le.limit=kce;const{data:at}=await se.get("/products/public",{params:Le}),nt=Array.isArray(at)?at:at?.items||[],it=at?.pagination||{};B(nt),te(it.total||nt.length),he(Math.max(1,Number(it.pages)||1))}catch(fe){J(fe.response?.data?.message||fe.message||"Impossible de charger les produits."),t("Erreur lors de la recherche",{variant:"error"})}finally{Y(!1)}},[ie,K,t]);g.useEffect(()=>{de()},[de]);const Ce=g.useMemo(()=>{let fe=0;return n&&fe++,o&&fe++,d&&fe++,m&&fe++,(f||b)&&fe++,E&&fe++,N&&fe++,A&&fe++,S&&fe++,T&&fe++,R&&fe++,fe},[n,o,d,m,f,b,E,N,A,S,T,R]),ne=()=>{s(""),i(""),u(""),p(""),y(""),w(""),x(""),k(""),P(!1),_(""),O(""),D(""),$("new"),W(1)},re=fe=>{H(Le=>({...Le,[fe]:!Le[fe]}))},Ie=({title:fe,icon:Le,section:at,children:nt})=>{const it=ee[at];return e.createElement("div",{className:"border-b border-gray-200 last:border-b-0"},e.createElement("button",{type:"button",onClick:()=>re(at),className:"w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50 transition-colors"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Le,{className:"w-4 h-4 text-gray-500"}),e.createElement("span",{className:"font-semibold text-gray-900"},fe)),it?e.createElement(Lo,{className:"w-4 h-4 text-gray-500"}):e.createElement(Ha,{className:"w-4 h-4 text-gray-500"})),it&&e.createElement("div",{className:"px-4 pb-4 space-y-3"},nt))};return e.createElement("div",{className:"min-h-screen bg-gray-50"},e.createElement("div",{className:"bg-indigo-600 text-white"},e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},e.createElement("div",{className:"flex items-center gap-3 mb-6"},e.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},e.createElement(ir,{className:"w-6 h-6"})),e.createElement("div",null,e.createElement("h1",{className:"text-3xl font-bold"},"Recherche avance"),e.createElement("p",{className:"text-white/90 text-sm mt-1"},"Trouvez exactement ce que vous cherchez avec nos filtres avancs"))),e.createElement("div",{className:"relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.createElement("input",{type:"text",value:n,onChange:fe=>{s(fe.target.value),W(1)},placeholder:"Rechercher un produit...",className:"w-full pl-12 pr-4 py-4 rounded-xl bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/50 shadow-lg"})))),e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},e.createElement("div",{className:"flex flex-col lg:flex-row gap-6"},e.createElement("aside",{className:`lg:w-80 flex-shrink-0 ${z?"block":"hidden lg:block"}`},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm sticky top-4"},e.createElement("div",{className:"p-4 border-b border-gray-200"},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2"},e.createElement(Dp,{className:"w-5 h-5"}),"Filtres"),Ce>0&&e.createElement("button",{type:"button",onClick:ne,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Tout effacer")),Ce>0&&e.createElement("p",{className:"text-xs text-gray-500"},Ce," filtre",Ce>1?"s":""," actif",Ce>1?"s":"")),e.createElement("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto"},e.createElement(Ie,{title:"Catgorie",icon:Wa,section:"basic"},e.createElement("select",{value:o,onChange:fe=>{i(fe.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},e.createElement("option",{value:""},"Toutes les catgories"),Es.map(fe=>e.createElement("optgroup",{key:fe.id,label:fe.label},fe.options.map(Le=>e.createElement("option",{key:Le.value,value:Le.value},Le.label)))))),e.createElement(Ie,{title:"Prix",icon:xa,section:"price"},e.createElement("div",{className:"grid grid-cols-2 gap-2"},e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-1"},"Min (FCFA)"),e.createElement("input",{type:"number",value:f,onChange:fe=>{y(fe.target.value),W(1)},placeholder:"0",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-1"},"Max (FCFA)"),e.createElement("input",{type:"number",value:b,onChange:fe=>{w(fe.target.value),W(1)},placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})))),e.createElement(Ie,{title:"Qualit & Options",icon:ma,section:"quality"},e.createElement("div",{className:"space-y-3"},e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"tat"),e.createElement("div",{className:"space-y-2"},wce.map(fe=>e.createElement("label",{key:fe.value,className:"flex items-center gap-2 cursor-pointer"},e.createElement("input",{type:"radio",name:"condition",value:fe.value,checked:m===fe.value,onChange:Le=>{p(Le.target.value),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),e.createElement("span",{className:"text-sm text-gray-700"},fe.label))),e.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},e.createElement("input",{type:"radio",name:"condition",value:"",checked:m==="",onChange:()=>{p(""),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),e.createElement("span",{className:"text-sm text-gray-700"},"Tous")))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Certification"),e.createElement("select",{value:E,onChange:fe=>{x(fe.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},e.createElement("option",{value:""},"Tous"),e.createElement("option",{value:"true"},"Certifis uniquement"),e.createElement("option",{value:"false"},"Non certifis"))),e.createElement("div",null,e.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:N==="true",onChange:fe=>{k(fe.target.checked?"true":""),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),e.createElement("span",{className:"text-sm text-gray-700 flex items-center gap-1"},e.createElement(Qt,{className:"w-4 h-4 text-emerald-500"}),"Boutiques vrifies uniquement"))),e.createElement("div",null,e.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},e.createElement("input",{type:"checkbox",checked:A,onChange:fe=>{P(fe.target.checked),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),e.createElement("span",{className:"text-sm text-gray-700 flex items-center gap-1"},e.createElement(Wa,{className:"w-4 h-4 text-amber-500"}),"Avec remise"))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Note minimum"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(rr,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),e.createElement("input",{type:"number",min:"0",max:"5",step:"0.5",value:S,onChange:fe=>{_(fe.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Minimum de favoris"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(ur,{className:"w-4 h-4 text-red-500"}),e.createElement("input",{type:"number",min:"0",value:T,onChange:fe=>{O(fe.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),e.createElement("div",null,e.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Minimum de ventes"),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Xt,{className:"w-4 h-4 text-emerald-500"}),e.createElement("input",{type:"number",min:"0",value:R,onChange:fe=>{D(fe.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))))),e.createElement(Ie,{title:"Localisation",icon:yr,section:"location"},e.createElement("select",{value:d,onChange:fe=>{u(fe.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},e.createElement("option",{value:""},"Toutes les villes"),Ece.map(fe=>e.createElement("option",{key:fe,value:fe},fe))))))),e.createElement("main",{className:"flex-1 min-w-0"},e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-6"},e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},e.createElement("div",null,e.createElement("h2",{className:"text-lg font-bold text-gray-900"},G?"Recherche en cours...":`${Oe} rsultat${Oe>1?"s":""}`),Ce>0&&e.createElement("p",{className:"text-sm text-gray-500 mt-1"},Ce," filtre",Ce>1?"s":""," appliqu",Ce>1?"s":"")),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("button",{type:"button",onClick:()=>Q(!z),className:"lg:hidden inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50"},e.createElement(ks,{className:"w-4 h-4"}),"Filtres",Ce>0&&e.createElement("span",{className:"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold"},Ce)),e.createElement("select",{value:j,onChange:fe=>{$(fe.target.value),W(1)},className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Nce.map(fe=>e.createElement("option",{key:fe.value,value:fe.value},fe.label)))))),V&&e.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6"},e.createElement("p",{className:"text-sm text-red-700"},V)),G&&q.length===0?e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Array.from({length:6}).map((fe,Le)=>e.createElement("div",{key:Le,className:"bg-white rounded-2xl border border-gray-100 p-4 animate-pulse"},e.createElement("div",{className:"h-48 bg-gray-200 rounded-xl mb-4"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.createElement("div",{className:"h-4 bg-gray-200 rounded w-2/3"})))):q.length>0?e.createElement(e.Fragment,null,e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},q.map(fe=>e.createElement(Da,{key:fe._id,p:fe,onProductClick:Mm}))),ue>1&&e.createElement("div",{className:"mt-8 flex items-center justify-center gap-2"},e.createElement("button",{type:"button",onClick:()=>W(fe=>Math.max(1,fe-1)),disabled:K<=1,className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Prcdent"),e.createElement("span",{className:"px-4 py-2 text-sm text-gray-600"},"Page ",K," sur ",ue),e.createElement("button",{type:"button",onClick:()=>W(fe=>Math.min(ue,fe+1)),disabled:K>=ue,className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Suivant"))):e.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},e.createElement(ir,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun rsultat"),e.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Aucun produit ne correspond  vos critres de recherche."),e.createElement("button",{type:"button",onClick:ne,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors"},e.createElement($i,{className:"w-4 h-4"}),"Rinitialiser les filtres"))))))}const jT={pending:"En attente",confirmed:"Confirme",delivering:"En livraison",delivered:"Livre",cancelled:"Annule"},RT={pending:"bg-gray-100 text-gray-700 border-gray-200",confirmed:"bg-amber-100 text-amber-800 border-amber-200",delivering:"bg-blue-100 text-blue-800 border-blue-200",delivered:"bg-emerald-100 text-emerald-800 border-emerald-200",cancelled:"bg-red-100 text-red-800 border-red-200"},Cce={pending:Ut,confirmed:Ot,delivering:Tr,delivered:Qt,cancelled:_t},Ace=12;function _ce(){const{user:t}=g.useContext(fr),r=Sn(),a=Zr(),[n,s]=g.useState([]),[o,i]=g.useState(!1),[d,u]=g.useState(""),[m,p]=g.useState(1),[f,y]=g.useState({total:0,totalPages:1}),[b,w]=g.useState(null),[E,x]=g.useState(""),[N,k]=g.useState("all"),[A,P]=g.useState(0),[S,_]=g.useState(!1);g.useEffect(()=>{T(),O()},[m]),g.useEffect(()=>{const $=r.state?.inquireProduct;if(!$?._id||!t)return;let K=!1;return(async()=>{_(!0),u("");try{const{data:z}=await se.post("/orders/inquiry",{productId:$._id});if(K)return;w(z),await T(),O(),a(r.pathname,{replace:!0,state:{}})}catch(z){K||u(z.response?.data?.message||"Impossible de dmarrer la conversation."),a(r.pathname,{replace:!0,state:{}})}finally{K||_(!1)}})(),()=>{K=!0}},[r.state?.inquireProduct?._id,t]);const T=async()=>{i(!0),u("");try{const $=new URLSearchParams;$.set("page",m),$.set("limit",Ace);const{data:K}=await se.get(`/orders/messages/conversations?${$.toString()}`);s(Array.isArray(K.items)?K.items:[]),y({total:K.total||0,totalPages:K.totalPages||1})}catch($){u($.response?.data?.message||"Impossible de charger les conversations."),s([])}finally{i(!1)}},O=async()=>{try{const{data:$}=await se.get("/orders/messages/unread");P($.count||0)}catch($){console.error("Error loading unread count:",$)}},R=$=>{if(!$)return"";const K=new Date($);if(Number.isNaN(K.getTime()))return"";const z=new Date-K,Q=Math.floor(z/(1e3*60)),ee=Math.floor(z/(1e3*60*60)),H=Math.floor(z/(1e3*60*60*24));return Q<1?" l'instant":Q<60?`${Q} min`:ee<24?`${ee}h`:H<7?`${H}j`:K.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},D=n.filter($=>{if(E.trim()){const K=E.toLowerCase();if(!($.productInfo?.title?.toLowerCase().includes(K)||$.productInfo?.shopName?.toLowerCase().includes(K)||$.latestMessage?.text?.toLowerCase().includes(K)||$.orderCode?.toLowerCase().includes(K)))return!1}return!(N==="unread"&&(!$.unreadCount||$.unreadCount===0))}),j=()=>{w(null),T(),O()};return o&&n.length===0||S?e.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 relative"},S&&e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl px-8 py-6 flex flex-col items-center gap-4"},e.createElement("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),e.createElement("p",{className:"text-gray-700 dark:text-gray-200 font-medium"},"Ouverture de la conversation avec le vendeur..."))),o&&n.length===0&&!S&&e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},e.createElement("div",{className:"flex items-center justify-center h-96"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"w-16 h-16 rounded-full border-4 border-indigo-100 border-t-indigo-600 animate-spin mx-auto mb-4"}),e.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Chargement des conversations..."))))):e.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"},e.createElement("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white"},e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-4"},e.createElement(pe,{to:"/orders",className:"p-2 rounded-xl hover:bg-white/20 transition-colors"},e.createElement(Pr,{className:"w-5 h-5"})),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm"},e.createElement(br,{className:"w-7 h-7"})),e.createElement("div",null,e.createElement("h1",{className:"text-2xl font-bold"},"Messages"),e.createElement("p",{className:"text-sm text-white/80"},f.total," conversation",f.total>1?"s":"","  ",A," non lu",A>1?"s":"")))),e.createElement("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm"},e.createElement(Jn,{className:"w-4 h-4 text-emerald-300"}),e.createElement("span",{className:"text-sm"},"Messages scuriss"))))),e.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6"},e.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},e.createElement("div",{className:"flex-1 relative"},e.createElement(ir,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.createElement("input",{type:"text",placeholder:"Rechercher par produit, boutique, message...",value:E,onChange:$=>x($.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"}),E&&e.createElement("button",{type:"button",onClick:()=>x(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},e.createElement(_t,{className:"w-5 h-5"}))),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{type:"button",onClick:()=>k("all"),className:`px-4 py-2.5 rounded-xl text-sm font-semibold transition-all ${N==="all"?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(Xz,{className:"w-4 h-4"}),"Tous")),e.createElement("button",{type:"button",onClick:()=>k("unread"),className:`px-4 py-2.5 rounded-xl text-sm font-semibold transition-all ${N==="unread"?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`},e.createElement("span",{className:"flex items-center gap-2"},e.createElement(uo,{className:"w-4 h-4"}),"Non lus",A>0&&e.createElement("span",{className:"px-1.5 py-0.5 rounded-full bg-red-500 text-white text-xs"},A)))))),d&&e.createElement("div",{className:"mb-6 p-4 rounded-2xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/30"},e.createElement(_t,{className:"w-5 h-5 text-red-600"})),e.createElement("p",{className:"text-sm text-red-700 dark:text-red-300"},d)),D.length===0?e.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm p-12 text-center"},e.createElement("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mx-auto mb-6"},e.createElement(br,{className:"w-12 h-12 text-indigo-500"})),e.createElement("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"Aucune conversation"),e.createElement("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto"},E?"Aucune conversation ne correspond  votre recherche.":N==="unread"?"Vous avez lu tous vos messages.":"Vous n'avez pas encore de messages. Commencez une conversation depuis une commande."),e.createElement(pe,{to:"/orders",className:"inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg"},e.createElement(Ot,{className:"w-5 h-5"}),"Voir mes commandes")):e.createElement("div",{className:"space-y-3"},D.map($=>{const K=Cce[$.status]||Ut,W=RT[$.status]||RT.pending,z=$.unreadCount>0,Q=t?.role==="admin"||t?.role==="manager",ee=$.customerId&&String($.customerId)===String(t?._id),H=$.sellerId&&String($.sellerId)===String(t?._id);let q=$.productInfo?.shopName||"Vendeur",B="Contacter le vendeur";return Q||H?(q="Client",B="Contacter l'acheteur"):ee&&(q=$.productInfo?.shopName||"Vendeur",B="Contacter le vendeur"),e.createElement("div",{key:$.orderId,className:`group bg-white dark:bg-gray-800 rounded-2xl border-2 transition-all duration-300 hover:shadow-lg cursor-pointer ${z?"border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/10":"border-gray-100 dark:border-gray-700 hover:border-indigo-200 dark:hover:border-indigo-800"}`},e.createElement("div",{className:"p-4"},e.createElement("div",{className:"flex gap-4"},e.createElement("div",{className:"relative flex-shrink-0"},$.productInfo?.image?e.createElement("img",{src:$.productInfo.image,alt:$.productInfo.title,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl object-cover"}):e.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center"},e.createElement(Ot,{className:"w-8 h-8 text-indigo-500"})),z&&e.createElement("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-white text-xs font-bold flex items-center justify-center shadow-lg animate-pulse"},$.unreadCount>9?"9+":$.unreadCount)),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h3",{className:`font-bold text-gray-900 dark:text-white truncate ${z?"text-indigo-900 dark:text-indigo-100":""}`},$.productInfo?.title||"Produit"),e.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},e.createElement("span",null,q),e.createElement("span",null,""),e.createElement("span",null,"#",$.orderCode||`Demande-${String($.orderId||"").slice(-6)}`))),e.createElement("div",{className:`hidden sm:inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg border text-xs font-semibold ${W}`},e.createElement(K,{className:"w-3 h-3"}),jT[$.status]||"Inconnu")),$.latestMessage?e.createElement("div",{className:"mt-2"},e.createElement("div",{className:"flex items-center gap-2 mb-1"},e.createElement("span",{className:`text-xs font-medium ${z?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400"}`},$.latestMessage.sender?.shopName||$.latestMessage.sender?.name||"Utilisateur"),e.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},R($.latestMessage.createdAt))),e.createElement("p",{className:`text-sm line-clamp-2 ${z?"text-gray-900 dark:text-white font-medium":"text-gray-600 dark:text-gray-300"}`},$.latestMessage.text)):e.createElement("p",{className:"text-sm text-gray-400 dark:text-gray-500 italic mt-2"},"Aucun message pour le moment"),e.createElement("div",{className:`sm:hidden inline-flex items-center gap-1.5 px-2 py-1 rounded-lg border text-xs font-semibold mt-2 ${W}`},e.createElement(K,{className:"w-3 h-3"}),jT[$.status]||"Inconnu"),e.createElement("div",{className:"mt-3",onClick:G=>G.stopPropagation()},e.createElement(fd,{order:{_id:$.orderId,items:[{snapshot:$.productInfo}],customer:{_id:$.customerId||t?._id},status:$.status,deliveryCode:$.orderCode},buttonText:B,unreadCount:$.unreadCount||0,onClose:j}))),e.createElement("div",{className:"hidden sm:flex items-center"},e.createElement($r,{className:"w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-indigo-500 transition-colors"})))))})),f.totalPages>1&&e.createElement("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 p-4"},e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Page ",e.createElement("span",{className:"font-bold text-gray-900 dark:text-white"},m)," sur"," ",e.createElement("span",{className:"font-bold text-gray-900 dark:text-white"},f.totalPages)),e.createElement("div",{className:"flex gap-2"},e.createElement("button",{type:"button",onClick:()=>p($=>Math.max(1,$-1)),disabled:m<=1,className:"px-5 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),e.createElement("button",{type:"button",onClick:()=>p($=>Math.min(f.totalPages,$+1)),disabled:m>=f.totalPages,className:"px-5 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant"))),e.createElement("div",{className:"mt-8 text-center"},e.createElement("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm"},e.createElement(_r,{className:"w-4 h-4 text-emerald-500"}),e.createElement("span",null,"Tous vos messages sont chiffrs et scuriss")))),b&&e.createElement(fd,{order:b,onClose:j}))}const dl=Pm("PushNotifications",{});function Pce(t){const r=g.useRef(!1);g.useEffect(()=>{if(!t?.token||!Fc.isNativePlatform()||r.current)return;r.current=!0;let a=!0;(async()=>{(await dl.checkPermissions()).receive!=="granted"&&(await dl.requestPermissions()).receive!=="granted"||await dl.register()})().catch(()=>{});const s=dl.addListener("registration",async m=>{if(!(!a||!m?.value))try{await se.post("/users/push-tokens",{token:m.value,platform:Fc.getPlatform()})}catch{}}),o=dl.addListener("registrationError",()=>{}),i=m=>{const p=m?.notification?.data||m?.data||{},f=p.url||p.link||p.deeplink||p.path;if(!f||typeof f!="string")return null;const y=f.trim();return y?y.startsWith("http")||y.startsWith("/")?y:`/${y}`:null},d=dl.addListener("pushNotificationReceived",m=>{const p=i(m);p&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("hdmarket:notification-link",{detail:{link:p},bubbles:!0,cancelable:!1})),typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))}),u=dl.addListener("pushNotificationActionPerformed",m=>{const p=i(m);if(p&&typeof window<"u"){window.location.assign(p);return}typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))});return()=>{a=!1,s.remove(),o.remove(),d.remove(),u.remove()}},[t?.token])}function Tce(){const{user:t}=g.useContext(fr);return Pce(t),null}var $T={};const J$=function(t){const r=[];let a=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?r[a++]=s:s<2048?(r[a++]=s>>6|192,r[a++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[a++]=s>>18|240,r[a++]=s>>12&63|128,r[a++]=s>>6&63|128,r[a++]=s&63|128):(r[a++]=s>>12|224,r[a++]=s>>6&63|128,r[a++]=s&63|128)}return r},Oce=function(t){const r=[];let a=0,n=0;for(;a<t.length;){const s=t[a++];if(s<128)r[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[a++];r[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[a++],i=t[a++],d=t[a++],u=((s&7)<<18|(o&63)<<12|(i&63)<<6|d&63)-65536;r[n++]=String.fromCharCode(55296+(u>>10)),r[n++]=String.fromCharCode(56320+(u&1023))}else{const o=t[a++],i=t[a++];r[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return r.join("")},Z$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,r){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,d=i?t[s+1]:0,u=s+2<t.length,m=u?t[s+2]:0,p=o>>2,f=(o&3)<<4|d>>4;let y=(d&15)<<2|m>>6,b=m&63;u||(b=64,i||(y=64)),n.push(a[p],a[f],a[y],a[b])}return n.join("")},encodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(t):this.encodeByteArray(J$(t),r)},decodeString(t,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(t):Oce(this.decodeStringToByteArray(t,r))},decodeStringToByteArray(t,r){this.init_();const a=r?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const o=a[t.charAt(s++)],d=s<t.length?a[t.charAt(s)]:0;++s;const m=s<t.length?a[t.charAt(s)]:64;++s;const f=s<t.length?a[t.charAt(s)]:64;if(++s,o==null||d==null||m==null||f==null)throw new Mce;const y=o<<2|d>>4;if(n.push(y),m!==64){const b=d<<4&240|m>>2;if(n.push(b),f!==64){const w=m<<6&192|f;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jce=function(t){const r=J$(t);return Z$.encodeByteArray(r,!0)},eL=function(t){return jce(t).replace(/\./g,"")},Rce=function(t){try{return Z$.decodeString(t,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};function $ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lce=()=>$ce().__FIREBASE_DEFAULTS__,Ice=()=>{if(typeof process>"u"||typeof $T>"u")return;const t=$T.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=t&&Rce(t[1]);return r&&JSON.parse(r)},zce=()=>{try{return Lce()||Ice()||Dce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tL=()=>{var t;return(t=zce())===null||t===void 0?void 0:t.config};class Fce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}wrapCallback(r){return(a,n)=>{a?this.reject(a):this.resolve(n),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(a):r(a,n))}}}function rL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M2(){try{return typeof indexedDB=="object"}catch{return!1}}function j2(){return new Promise((t,r)=>{try{let a=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),a||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{a=!1},s.onerror=()=>{var o;r(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(a){r(a)}})}function aL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Bce="FirebaseError";class Kl extends Error{constructor(r,a,n){super(a),this.code=r,this.customData=n,this.name=Bce,Object.setPrototypeOf(this,Kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dg.prototype.create)}}class Dg{constructor(r,a,n){this.service=r,this.serviceName=a,this.errors=n}create(r,...a){const n=a[0]||{},s=`${this.service}/${r}`,o=this.errors[r],i=o?qce(o,n):"Error",d=`${this.serviceName}: ${i} (${s}).`;return new Kl(s,d,n)}}function qce(t,r){return t.replace(Uce,(a,n)=>{const s=r[n];return s!=null?String(s):`<${n}?>`})}const Uce=/\{\$([^}]+)}/g;function H0(t,r){if(t===r)return!0;const a=Object.keys(t),n=Object.keys(r);for(const s of a){if(!n.includes(s))return!1;const o=t[s],i=r[s];if(LT(o)&&LT(i)){if(!H0(o,i))return!1}else if(o!==i)return!1}for(const s of n)if(!a.includes(s))return!1;return!0}function LT(t){return t!==null&&typeof t=="object"}const Vce=1e3,Hce=2,Wce=14400*1e3,Gce=.5;function IT(t,r=Vce,a=Hce){const n=r*Math.pow(a,t),s=Math.round(Gce*n*(Math.random()-.5)*2);return Math.min(Wce,n+s)}function zg(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(r,a,n){this.name=r,this.instanceFactory=a,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const pl="[DEFAULT]";class Kce{constructor(r,a){this.name=r,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const a=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(a)){const n=new Fce;if(this.instancesDeferred.set(a,n),this.isInitialized(a)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:a});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(r){var a;const n=this.normalizeInstanceIdentifier(r?.identifier),s=(a=r?.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(Xce(r))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[a,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(r=pl){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...r.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=pl){return this.instances.has(r)}getOptions(r=pl){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:a={}}=r,n=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:a});for(const[o,i]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&i.resolve(s)}return s}onInit(r,a){var n;const s=this.normalizeInstanceIdentifier(a),o=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;o.add(r),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&r(i,s),()=>{o.delete(r)}}invokeOnInitCallbacks(r,a){const n=this.onInitCallbacks.get(a);if(n)for(const s of n)try{s(r,a)}catch{}}getOrInitializeService({instanceIdentifier:r,options:a={}}){let n=this.instances.get(r);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Yce(r),options:a}),this.instances.set(r,n),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(n,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,n)}catch{}return n||null}normalizeInstanceIdentifier(r=pl){return this.component?this.component.multipleInstances?r:pl:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yce(t){return t===pl?void 0:t}function Xce(t){return t.instantiationMode==="EAGER"}class Qce{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const a=this.getProvider(r.name);if(a.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);a.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const a=new Kce(r,this);return this.providers.set(r,a),a}getProviders(){return Array.from(this.providers.values())}}var Yr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yr||(Yr={}));const Jce={debug:Yr.DEBUG,verbose:Yr.VERBOSE,info:Yr.INFO,warn:Yr.WARN,error:Yr.ERROR,silent:Yr.SILENT},Zce=Yr.INFO,ede={[Yr.DEBUG]:"log",[Yr.VERBOSE]:"log",[Yr.INFO]:"info",[Yr.WARN]:"warn",[Yr.ERROR]:"error"},tde=(t,r,...a)=>{if(r<t.logLevel)return;const n=new Date().toISOString(),s=ede[r];if(s)console[s](`[${n}]  ${t.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class nL{constructor(r){this.name=r,this._logLevel=Zce,this._logHandler=tde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Yr))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?Jce[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Yr.DEBUG,...r),this._logHandler(this,Yr.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Yr.VERBOSE,...r),this._logHandler(this,Yr.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Yr.INFO,...r),this._logHandler(this,Yr.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Yr.WARN,...r),this._logHandler(this,Yr.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Yr.ERROR,...r),this._logHandler(this,Yr.ERROR,...r)}}const rde=(t,r)=>r.some(a=>t instanceof a);let DT,zT;function ade(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nde(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sL=new WeakMap,Z1=new WeakMap,oL=new WeakMap,tw=new WeakMap,R2=new WeakMap;function sde(t){const r=new Promise((a,n)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{a(Oi(t.result)),s()},i=()=>{n(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return r.then(a=>{a instanceof IDBCursor&&sL.set(a,t)}).catch(()=>{}),R2.set(r,t),r}function ode(t){if(Z1.has(t))return;const r=new Promise((a,n)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{a(),s()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Z1.set(t,r)}let eN={get(t,r,a){if(t instanceof IDBTransaction){if(r==="done")return Z1.get(t);if(r==="objectStoreNames")return t.objectStoreNames||oL.get(t);if(r==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Oi(t[r])},set(t,r,a){return t[r]=a,!0},has(t,r){return t instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in t}};function ide(t){eN=t(eN)}function lde(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...a){const n=t.call(rw(this),r,...a);return oL.set(n,r.sort?r.sort():[r]),Oi(n)}:nde().includes(t)?function(...r){return t.apply(rw(this),r),Oi(sL.get(this))}:function(...r){return Oi(t.apply(rw(this),r))}}function cde(t){return typeof t=="function"?lde(t):(t instanceof IDBTransaction&&ode(t),rde(t,ade())?new Proxy(t,eN):t)}function Oi(t){if(t instanceof IDBRequest)return sde(t);if(tw.has(t))return tw.get(t);const r=cde(t);return r!==t&&(tw.set(t,r),R2.set(r,t)),r}const rw=t=>R2.get(t);function iL(t,r,{blocked:a,upgrade:n,blocking:s,terminated:o}={}){const i=indexedDB.open(t,r),d=Oi(i);return n&&i.addEventListener("upgradeneeded",u=>{n(Oi(i.result),u.oldVersion,u.newVersion,Oi(i.transaction),u)}),a&&i.addEventListener("blocked",u=>a(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const dde=["get","getKey","getAll","getAllKeys","count"],ude=["put","add","delete","clear"],aw=new Map;function FT(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&typeof r=="string"))return;if(aw.get(r))return aw.get(r);const a=r.replace(/FromIndex$/,""),n=r!==a,s=ude.includes(a);if(!(a in(n?IDBIndex:IDBObjectStore).prototype)||!(s||dde.includes(a)))return;const o=async function(i,...d){const u=this.transaction(i,s?"readwrite":"readonly");let m=u.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[a](...d),s&&u.done]))[0]};return aw.set(r,o),o}ide(t=>({...t,get:(r,a,n)=>FT(r,a)||t.get(r,a,n),has:(r,a)=>!!FT(r,a)||t.has(r,a)}));class mde{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(fde(a)){const n=a.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(a=>a).join(" ")}}function fde(t){const r=t.getComponent();return r?.type==="VERSION"}const tN="@firebase/app",BT="0.10.13";const Ko=new nL("@firebase/app"),pde="@firebase/app-compat",gde="@firebase/analytics-compat",hde="@firebase/analytics",yde="@firebase/app-check-compat",bde="@firebase/app-check",xde="@firebase/auth",vde="@firebase/auth-compat",Ede="@firebase/database",wde="@firebase/data-connect",Nde="@firebase/database-compat",kde="@firebase/functions",Sde="@firebase/functions-compat",Cde="@firebase/installations",Ade="@firebase/installations-compat",_de="@firebase/messaging",Pde="@firebase/messaging-compat",Tde="@firebase/performance",Ode="@firebase/performance-compat",Mde="@firebase/remote-config",jde="@firebase/remote-config-compat",Rde="@firebase/storage",$de="@firebase/storage-compat",Lde="@firebase/firestore",Ide="@firebase/vertexai-preview",Dde="@firebase/firestore-compat",zde="firebase";const rN="[DEFAULT]",Fde={[tN]:"fire-core",[pde]:"fire-core-compat",[hde]:"fire-analytics",[gde]:"fire-analytics-compat",[bde]:"fire-app-check",[yde]:"fire-app-check-compat",[xde]:"fire-auth",[vde]:"fire-auth-compat",[Ede]:"fire-rtdb",[wde]:"fire-data-connect",[Nde]:"fire-rtdb-compat",[kde]:"fire-fn",[Sde]:"fire-fn-compat",[Cde]:"fire-iid",[Ade]:"fire-iid-compat",[_de]:"fire-fcm",[Pde]:"fire-fcm-compat",[Tde]:"fire-perf",[Ode]:"fire-perf-compat",[Mde]:"fire-rc",[jde]:"fire-rc-compat",[Rde]:"fire-gcs",[$de]:"fire-gcs-compat",[Lde]:"fire-fst",[Dde]:"fire-fst-compat",[Ide]:"fire-vertex","fire-js":"fire-js",[zde]:"fire-js-all"};const Nm=new Map,Bde=new Map,aN=new Map;function qT(t,r){try{t.container.addComponent(r)}catch(a){Ko.debug(`Component ${r.name} failed to register with FirebaseApp ${t.name}`,a)}}function Il(t){const r=t.name;if(aN.has(r))return Ko.debug(`There were multiple attempts to register component ${r}.`),!1;aN.set(r,t);for(const a of Nm.values())qT(a,t);for(const a of Bde.values())qT(a,t);return!0}function Fg(t,r){const a=t.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),t.container.getProvider(r)}const qde={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Dg("app","Firebase",qde);class Ude{constructor(r,a,n){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}function lL(t,r={}){let a=t;typeof r!="object"&&(r={name:r});const n=Object.assign({name:rN,automaticDataCollectionEnabled:!1},r),s=n.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(a||(a=tL()),!a)throw Mi.create("no-options");const o=Nm.get(s);if(o){if(H0(a,o.options)&&H0(n,o.config))return o;throw Mi.create("duplicate-app",{appName:s})}const i=new Qce(s);for(const u of aN.values())i.addComponent(u);const d=new Ude(a,n,i);return Nm.set(s,d),d}function Vde(t=rN){const r=Nm.get(t);if(!r&&t===rN&&tL())return lL();if(!r)throw Mi.create("no-app",{appName:t});return r}function UT(){return Array.from(Nm.values())}function ji(t,r,a){var n;let s=(n=Fde[t])!==null&&n!==void 0?n:t;a&&(s+=`-${a}`);const o=s.match(/\s|\//),i=r.match(/\s|\//);if(o||i){const d=[`Unable to register library "${s}" with version "${r}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&d.push("and"),i&&d.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Ko.warn(d.join(" "));return}Il(new Ii(`${s}-version`,()=>({library:s,version:r}),"VERSION"))}const Hde="firebase-heartbeat-database",Wde=1,km="firebase-heartbeat-store";let nw=null;function cL(){return nw||(nw=iL(Hde,Wde,{upgrade:(t,r)=>{switch(r){case 0:try{t.createObjectStore(km)}catch(a){console.warn(a)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),nw}async function Gde(t){try{const a=(await cL()).transaction(km),n=await a.objectStore(km).get(dL(t));return await a.done,n}catch(r){if(r instanceof Kl)Ko.warn(r.message);else{const a=Mi.create("idb-get",{originalErrorMessage:r?.message});Ko.warn(a.message)}}}async function VT(t,r){try{const n=(await cL()).transaction(km,"readwrite");await n.objectStore(km).put(r,dL(t)),await n.done}catch(a){if(a instanceof Kl)Ko.warn(a.message);else{const n=Mi.create("idb-set",{originalErrorMessage:a?.message});Ko.warn(n.message)}}}function dL(t){return`${t.name}!${t.options.appId}`}const Kde=1024,Yde=720*60*60*1e3;class Xde{constructor(r){this.container=r,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new Jde(a),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var r,a;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HT();return((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const d=new Date(i.date).valueOf();return Date.now()-d<=Yde}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ko.warn(n)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=HT(),{heartbeatsToSend:n,unsentEntries:s}=Qde(this._heartbeatsCache.heartbeats),o=eL(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=a,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(a){return Ko.warn(a),""}}}function HT(){return new Date().toISOString().substring(0,10)}function Qde(t,r=Kde){const a=[];let n=t.slice();for(const s of t){const o=a.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),WT(a)>r){o.dates.pop();break}}else if(a.push({agent:s.agent,dates:[s.date]}),WT(a)>r){a.pop();break}n=n.slice(1)}return{heartbeatsToSend:a,unsentEntries:n}}class Jde{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M2()?j2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await Gde(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var a;if(await this._canUseIndexedDBPromise){const s=await this.read();return VT(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:s.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var a;if(await this._canUseIndexedDBPromise){const s=await this.read();return VT(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...r.heartbeats]})}else return}}function WT(t){return eL(JSON.stringify({version:2,heartbeats:t})).length}function Zde(t){Il(new Ii("platform-logger",r=>new mde(r),"PRIVATE")),Il(new Ii("heartbeat",r=>new Xde(r),"PRIVATE")),ji(tN,BT,t),ji(tN,BT,"esm2017"),ji("fire-js","")}Zde("");var eue="firebase",tue="10.14.1";ji(eue,tue,"app");const uL="@firebase/installations",$2="0.6.9";const mL=1e4,fL=`w:${$2}`,pL="FIS_v2",rue="https://firebaseinstallations.googleapis.com/v1",aue=3600*1e3,nue="installations",sue="Installations";const oue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Dl=new Dg(nue,sue,oue);function gL(t){return t instanceof Kl&&t.code.includes("request-failed")}function hL({projectId:t}){return`${rue}/projects/${t}/installations`}function yL(t){return{token:t.token,requestStatus:2,expiresIn:lue(t.expiresIn),creationTime:Date.now()}}async function bL(t,r){const n=(await r.json()).error;return Dl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function xL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iue(t,{refreshToken:r}){const a=xL(t);return a.append("Authorization",cue(r)),a}async function vL(t){const r=await t();return r.status>=500&&r.status<600?t():r}function lue(t){return Number(t.replace("s","000"))}function cue(t){return`${pL} ${t}`}async function due({appConfig:t,heartbeatServiceProvider:r},{fid:a}){const n=hL(t),s=xL(t),o=r.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const i={fid:a,authVersion:pL,appId:t.appId,sdkVersion:fL},d={method:"POST",headers:s,body:JSON.stringify(i)},u=await vL(()=>fetch(n,d));if(u.ok){const m=await u.json();return{fid:m.fid||a,registrationStatus:2,refreshToken:m.refreshToken,authToken:yL(m.authToken)}}else throw await bL("Create Installation",u)}function EL(t){return new Promise(r=>{setTimeout(r,t)})}function uue(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const mue=/^[cdef][\w-]{21}$/,nN="";function fue(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const a=pue(t);return mue.test(a)?a:nN}catch{return nN}}function pue(t){return uue(t).substr(0,22)}function Bg(t){return`${t.appName}!${t.appId}`}const wL=new Map;function NL(t,r){const a=Bg(t);kL(a,r),gue(a,r)}function kL(t,r){const a=wL.get(t);if(a)for(const n of a)n(r)}function gue(t,r){const a=hue();a&&a.postMessage({key:t,fid:r}),yue()}let El=null;function hue(){return!El&&"BroadcastChannel"in self&&(El=new BroadcastChannel("[Firebase] FID Change"),El.onmessage=t=>{kL(t.data.key,t.data.fid)}),El}function yue(){wL.size===0&&El&&(El.close(),El=null)}const bue="firebase-installations-database",xue=1,zl="firebase-installations-store";let sw=null;function L2(){return sw||(sw=iL(bue,xue,{upgrade:(t,r)=>{r===0&&t.createObjectStore(zl)}})),sw}async function W0(t,r){const a=Bg(t),s=(await L2()).transaction(zl,"readwrite"),o=s.objectStore(zl),i=await o.get(a);return await o.put(r,a),await s.done,(!i||i.fid!==r.fid)&&NL(t,r.fid),r}async function SL(t){const r=Bg(t),n=(await L2()).transaction(zl,"readwrite");await n.objectStore(zl).delete(r),await n.done}async function qg(t,r){const a=Bg(t),s=(await L2()).transaction(zl,"readwrite"),o=s.objectStore(zl),i=await o.get(a),d=r(i);return d===void 0?await o.delete(a):await o.put(d,a),await s.done,d&&(!i||i.fid!==d.fid)&&NL(t,d.fid),d}async function I2(t){let r;const a=await qg(t.appConfig,n=>{const s=vue(n),o=Eue(t,s);return r=o.registrationPromise,o.installationEntry});return a.fid===nN?{installationEntry:await r}:{installationEntry:a,registrationPromise:r}}function vue(t){const r=t||{fid:fue(),registrationStatus:0};return CL(r)}function Eue(t,r){if(r.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Dl.create("app-offline"));return{installationEntry:r,registrationPromise:s}}const a={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},n=wue(t,a);return{installationEntry:a,registrationPromise:n}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:Nue(t)}:{installationEntry:r}}async function wue(t,r){try{const a=await due(t,r);return W0(t.appConfig,a)}catch(a){throw gL(a)&&a.customData.serverCode===409?await SL(t.appConfig):await W0(t.appConfig,{fid:r.fid,registrationStatus:0}),a}}async function Nue(t){let r=await GT(t.appConfig);for(;r.registrationStatus===1;)await EL(100),r=await GT(t.appConfig);if(r.registrationStatus===0){const{installationEntry:a,registrationPromise:n}=await I2(t);return n||a}return r}function GT(t){return qg(t,r=>{if(!r)throw Dl.create("installation-not-found");return CL(r)})}function CL(t){return kue(t)?{fid:t.fid,registrationStatus:0}:t}function kue(t){return t.registrationStatus===1&&t.registrationTime+mL<Date.now()}async function Sue({appConfig:t,heartbeatServiceProvider:r},a){const n=Cue(t,a),s=iue(t,a),o=r.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const i={installation:{sdkVersion:fL,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(i)},u=await vL(()=>fetch(n,d));if(u.ok){const m=await u.json();return yL(m)}else throw await bL("Generate Auth Token",u)}function Cue(t,{fid:r}){return`${hL(t)}/${r}/authTokens:generate`}async function D2(t,r=!1){let a;const n=await qg(t.appConfig,o=>{if(!AL(o))throw Dl.create("not-registered");const i=o.authToken;if(!r&&Pue(i))return o;if(i.requestStatus===1)return a=Aue(t,r),o;{if(!navigator.onLine)throw Dl.create("app-offline");const d=Oue(o);return a=_ue(t,d),d}});return a?await a:n.authToken}async function Aue(t,r){let a=await KT(t.appConfig);for(;a.authToken.requestStatus===1;)await EL(100),a=await KT(t.appConfig);const n=a.authToken;return n.requestStatus===0?D2(t,r):n}function KT(t){return qg(t,r=>{if(!AL(r))throw Dl.create("not-registered");const a=r.authToken;return Mue(a)?Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}):r})}async function _ue(t,r){try{const a=await Sue(t,r),n=Object.assign(Object.assign({},r),{authToken:a});return await W0(t.appConfig,n),a}catch(a){if(gL(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await SL(t.appConfig);else{const n=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});await W0(t.appConfig,n)}throw a}}function AL(t){return t!==void 0&&t.registrationStatus===2}function Pue(t){return t.requestStatus===2&&!Tue(t)}function Tue(t){const r=Date.now();return r<t.creationTime||t.creationTime+t.expiresIn<r+aue}function Oue(t){const r={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:r})}function Mue(t){return t.requestStatus===1&&t.requestTime+mL<Date.now()}async function jue(t){const r=t,{installationEntry:a,registrationPromise:n}=await I2(r);return n?n.catch(console.error):D2(r).catch(console.error),a.fid}async function Rue(t,r=!1){const a=t;return await $ue(a),(await D2(a,r)).token}async function $ue(t){const{registrationPromise:r}=await I2(t);r&&await r}function Lue(t){if(!t||!t.options)throw ow("App Configuration");if(!t.name)throw ow("App Name");const r=["projectId","apiKey","appId"];for(const a of r)if(!t.options[a])throw ow(a);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ow(t){return Dl.create("missing-app-config-values",{valueName:t})}const _L="installations",Iue="installations-internal",Due=t=>{const r=t.getProvider("app").getImmediate(),a=Lue(r),n=Fg(r,"heartbeat");return{app:r,appConfig:a,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},zue=t=>{const r=t.getProvider("app").getImmediate(),a=Fg(r,_L).getImmediate();return{getId:()=>jue(a),getToken:s=>Rue(a,s)}};function Fue(){Il(new Ii(_L,Due,"PUBLIC")),Il(new Ii(Iue,zue,"PRIVATE"))}Fue();ji(uL,$2);ji(uL,$2,"esm2017");const G0="analytics",Bue="firebase_id",que="origin",Uue=60*1e3,Vue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",z2="https://www.googletagmanager.com/gtag/js";const hn=new nL("@firebase/analytics");const Hue={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zn=new Dg("analytics","Analytics",Hue);function Wue(t){if(!t.startsWith(z2)){const r=Zn.create("invalid-gtag-resource",{gtagURL:t});return hn.warn(r.message),""}return t}function PL(t){return Promise.all(t.map(r=>r.catch(a=>a)))}function Gue(t,r){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(t,r)),a}function Kue(t,r){const a=Gue("firebase-js-sdk-policy",{createScriptURL:Wue}),n=document.createElement("script"),s=`${z2}?l=${t}&id=${r}`;n.src=a?a?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function Yue(t){let r=[];return Array.isArray(window[t])?r=window[t]:window[t]=r,r}async function Xue(t,r,a,n,s,o){const i=n[s];try{if(i)await r[i];else{const u=(await PL(a)).find(m=>m.measurementId===s);u&&await r[u.appId]}}catch(d){hn.error(d)}t("config",s,o)}async function Que(t,r,a,n,s){try{let o=[];if(s&&s.send_to){let i=s.send_to;Array.isArray(i)||(i=[i]);const d=await PL(a);for(const u of i){const m=d.find(f=>f.measurementId===u),p=m&&r[m.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(r)),await Promise.all(o),t("event",n,s||{})}catch(o){hn.error(o)}}function Jue(t,r,a,n){async function s(o,...i){try{if(o==="event"){const[d,u]=i;await Que(t,r,a,d,u)}else if(o==="config"){const[d,u]=i;await Xue(t,r,a,n,d,u)}else if(o==="consent"){const[d,u]=i;t("consent",d,u)}else if(o==="get"){const[d,u,m]=i;t("get",d,u,m)}else if(o==="set"){const[d]=i;t("set",d)}else t(o,...i)}catch(d){hn.error(d)}}return s}function Zue(t,r,a,n,s){let o=function(...i){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=Jue(o,t,r,a),{gtagCore:o,wrappedGtag:window[s]}}function eme(t){const r=window.document.getElementsByTagName("script");for(const a of Object.values(r))if(a.src&&a.src.includes(z2)&&a.src.includes(t))return a;return null}const tme=30,rme=1e3;class ame{constructor(r={},a=rme){this.throttleMetadata=r,this.intervalMillis=a}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,a){this.throttleMetadata[r]=a}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const TL=new ame;function nme(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function sme(t){var r;const{appId:a,apiKey:n}=t,s={method:"GET",headers:nme(n)},o=Vue.replace("{app-id}",a),i=await fetch(o,s);if(i.status!==200&&i.status!==304){let d="";try{const u=await i.json();!((r=u.error)===null||r===void 0)&&r.message&&(d=u.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:d})}return i.json()}async function ome(t,r=TL,a){const{appId:n,apiKey:s,measurementId:o}=t.options;if(!n)throw Zn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:n};throw Zn.create("no-api-key")}const i=r.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cme;return setTimeout(async()=>{d.abort()},Uue),OL({appId:n,apiKey:s,measurementId:o},i,d,r)}async function OL(t,{throttleEndTimeMillis:r,backoffCount:a},n,s=TL){var o;const{appId:i,measurementId:d}=t;try{await ime(n,r)}catch(u){if(d)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:i,measurementId:d};throw u}try{const u=await sme(t);return s.deleteThrottleMetadata(i),u}catch(u){const m=u;if(!lme(m)){if(s.deleteThrottleMetadata(i),d)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:i,measurementId:d};throw u}const p=Number((o=m?.customData)===null||o===void 0?void 0:o.httpStatus)===503?IT(a,s.intervalMillis,tme):IT(a,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+p,backoffCount:a+1};return s.setThrottleMetadata(i,f),hn.debug(`Calling attemptFetch again in ${p} millis`),OL(t,f,n,s)}}function ime(t,r){return new Promise((a,n)=>{const s=Math.max(r-Date.now(),0),o=setTimeout(a,s);t.addEventListener(()=>{clearTimeout(o),n(Zn.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function lme(t){if(!(t instanceof Kl)||!t.customData)return!1;const r=Number(t.customData.httpStatus);return r===429||r===500||r===503||r===504}class cme{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function dme(t,r,a,n,s){if(s&&s.global){t("event",a,n);return}else{const o=await r,i=Object.assign(Object.assign({},n),{send_to:o});t("event",a,i)}}async function ume(t,r,a,n){{const s=await r;t("config",s,{update:!0,user_id:a})}}async function mme(t,r,a,n){{const s=await r;t("config",s,{update:!0,user_properties:a})}}async function fme(){if(M2())try{await j2()}catch(t){return hn.warn(Zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return hn.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pme(t,r,a,n,s,o,i){var d;const u=ome(t);u.then(b=>{a[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>hn.error(b)),r.push(u);const m=fme().then(b=>{if(b)return n.getId()}),[p,f]=await Promise.all([u,m]);eme(o)||Kue(o,p.measurementId),s("js",new Date);const y=(d=i?.config)!==null&&d!==void 0?d:{};return y[que]="firebase",y.update=!0,f!=null&&(y[Bue]=f),s("config",p.measurementId,y),p.measurementId}class gme{constructor(r){this.app=r}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},YT=[];const XT={};let iw="dataLayer",hme="gtag",QT,Ug,JT=!1;function yme(){const t=[];if(rL()&&t.push("This is a browser extension environment."),aL()||t.push("Cookies are not available."),t.length>0){const r=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),a=Zn.create("invalid-analytics-context",{errorInfo:r});hn.warn(a.message)}}function bme(t,r,a){yme();const n=t.options.appId;if(!n)throw Zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zn.create("no-api-key");if(Pl[n]!=null)throw Zn.create("already-exists",{id:n});if(!JT){Yue(iw);const{wrappedGtag:o,gtagCore:i}=Zue(Pl,YT,XT,iw,hme);Ug=o,QT=i,JT=!0}return Pl[n]=pme(t,YT,XT,r,QT,iw,a),new gme(t)}function xme(t=Vde()){t=zg(t);const r=Fg(t,G0);return r.isInitialized()?r.getImmediate():vme(t)}function vme(t,r={}){const a=Fg(t,G0);if(a.isInitialized()){const s=a.getImmediate();if(H0(r,a.getOptions()))return s;throw Zn.create("already-initialized")}return a.initialize({options:r})}async function Eme(){if(rL()||!aL()||!M2())return!1;try{return await j2()}catch{return!1}}function ZT(t,r,a){t=zg(t),ume(Ug,Pl[t.app.options.appId],r).catch(n=>hn.error(n))}function eO(t,r,a){t=zg(t),mme(Ug,Pl[t.app.options.appId],r).catch(n=>hn.error(n))}function ML(t,r,a,n){t=zg(t),dme(Ug,Pl[t.app.options.appId],r,a,n).catch(s=>hn.error(s))}const tO="@firebase/analytics",rO="0.10.8";function wme(){Il(new Ii(G0,(r,{options:a})=>{const n=r.getProvider("app").getImmediate(),s=r.getProvider("installations-internal").getImmediate();return bme(n,s,a)},"PUBLIC")),Il(new Ii("analytics-internal",t,"PRIVATE")),ji(tO,rO),ji(tO,rO,"esm2017");function t(r){try{const a=r.getProvider(G0).getImmediate();return{logEvent:(n,s,o)=>ML(a,n,s,o)}}catch(a){throw Zn.create("interop-component-reg-failed",{reason:a})}}}wme();const Nme={apiKey:"AIzaSyChYexMhZDqZ-8DaI-ynht7q_OL8M2260M",authDomain:"hdmarketcg.firebaseapp.com",projectId:"hdmarketcg",storageBucket:"hdmarketcg.firebasestorage.app",messagingSenderId:"882664621680",appId:"1:882664621680:web:976a95b6708fe409f0d6b5",measurementId:"G-NCC0QWVJQB"};let aO=null,xp=null;const kme=async()=>{if(typeof window>"u")return!1;try{return await Eme()}catch{return!1}},jL=async()=>xp||(xp=(async()=>{if(!await kme())return null;const r=UT().length?UT()[0]:lL(Nme);return aO=xme(r),aO})(),xp),Sme=async({path:t,title:r})=>{const a=await jL();if(!a)return;const n=t||window.location.pathname;ML(a,"page_view",{page_path:n,page_location:window.location.href,page_title:r||document.title||"HDMarket"})},Cme=async t=>{const r=await jL();if(!r)return;if(!t){ZT(r,null),eO(r,{});return}const a=t._id||t.id||null;a&&ZT(r,String(a)),eO(r,{account_type:t.accountType||"person",role:t.role||"user"})};function Ame(){const t=Sn(),{user:r}=g.useContext(fr);return g.useEffect(()=>{Cme(r)},[r]),g.useEffect(()=>{const a=`${t.pathname}${t.search||""}`;Sme({path:a})},[t]),null}function _me(){return zie(),e.createElement(f8,null,e.createElement(Tce,null),e.createElement(Ame,null),e.createElement(Fie,null),e.createElement(CB,null),e.createElement("main",{className:"pt-20 sm:pt-24 md:pt-32 pb-24 md:pb-0",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 5rem)"}},e.createElement(n8,null,e.createElement(Dt,{path:"/",element:e.createElement(mU,null)}),e.createElement(Dt,{path:"/login",element:e.createElement(fU,null)}),e.createElement(Dt,{path:"/register",element:e.createElement(pU,null)}),e.createElement(Dt,{path:"/forgot-password",element:e.createElement(gU,null)}),e.createElement(Dt,{path:"/product/:slug",element:e.createElement(rie,null)}),e.createElement(Dt,{path:"/product-preview/:slug",element:e.createElement(oie,null)}),e.createElement(Dt,{path:"/shop/:slug",element:e.createElement(kie,null)}),e.createElement(Dt,{path:"/shops/verified",element:e.createElement(Cie,null)}),e.createElement(Dt,{path:"/help",element:e.createElement(Sie,null)}),e.createElement(Dt,{path:"/top-deals",element:e.createElement(Ioe,null)}),e.createElement(Dt,{path:"/top-ranking",element:e.createElement(zoe,null)}),e.createElement(Dt,{path:"/top-favorites",element:e.createElement(Boe,null)}),e.createElement(Dt,{path:"/top-discounts",element:e.createElement(Hoe,null)}),e.createElement(Dt,{path:"/top-new",element:e.createElement(Goe,null)}),e.createElement(Dt,{path:"/top-used",element:e.createElement(Yoe,null)}),e.createElement(Dt,{path:"/top-sales",element:e.createElement(Uoe,null)}),e.createElement(Dt,{path:"/products",element:e.createElement(eie,null)}),e.createElement(Dt,{path:"/search",element:e.createElement(Sce,null)}),e.createElement(Dt,{path:"/cities",element:e.createElement(tie,null)}),e.createElement(Dt,{path:"/categories/:categoryId",element:e.createElement(Qoe,null)}),e.createElement(Dt,{path:"/suggestions",element:e.createElement(vce,null)}),e.createElement(Dt,{path:"/favorites",element:e.createElement(jr,null,e.createElement(Eie,null))}),e.createElement(Dt,{path:"/product/:slug/edit",element:e.createElement(jr,null,e.createElement(iie,null))}),e.createElement(Dt,{path:"/profile",element:e.createElement(jr,null,e.createElement(yie,null))}),e.createElement(Dt,{path:"/notifications",element:e.createElement(jr,null,e.createElement(vie,null))}),e.createElement(Dt,{path:"/cart",element:e.createElement(jr,null,e.createElement(cie,null))}),e.createElement(Dt,{path:"/my",element:e.createElement(jr,null,e.createElement(vU,null))}),e.createElement(Dt,{path:"/my/stats",element:e.createElement(jr,null,e.createElement(_ie,null))}),e.createElement(Dt,{path:"/orders",element:e.createElement(jr,null,e.createElement(yT,null))}),e.createElement(Dt,{path:"/orders/checkout",element:e.createElement(jr,null,e.createElement(Iie,null))}),e.createElement(Dt,{path:"/orders/draft",element:e.createElement(jr,null,e.createElement(Die,null))}),e.createElement(Dt,{path:"/orders/:status",element:e.createElement(jr,null,e.createElement(yT,null))}),e.createElement(Dt,{path:"/orders/messages",element:e.createElement(jr,null,e.createElement(_ce,null))}),e.createElement(Dt,{path:"/seller/orders",element:e.createElement(jr,null,e.createElement(xT,null))}),e.createElement(Dt,{path:"/seller/orders/:status",element:e.createElement(jr,null,e.createElement(xT,null))}),e.createElement(Dt,{path:"/admin/chat-templates",element:e.createElement(jr,{roles:["admin"]},e.createElement(Yle,null))}),e.createElement(Dt,{path:"/admin",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement(voe,null))}),e.createElement(Dt,{path:"/admin/payments",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement(Eoe,null))}),e.createElement(Dt,{path:"/admin/orders",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement(Roe,null))}),e.createElement(Dt,{path:"/admin/delivery-guys",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement($oe,null))}),e.createElement(Dt,{path:"/admin/users",element:e.createElement(jr,{role:"admin"},e.createElement(woe,null))}),e.createElement(Dt,{path:"/admin/users/:id/stats",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement(lce,null))}),e.createElement(Dt,{path:"/admin/product-boosts",element:e.createElement(jr,{allowAccess:t=>t.role==="admin"||t.canManageBoosts===!0},e.createElement(Qle,null))}),e.createElement(Dt,{path:"/admin/products",element:e.createElement(jr,{roles:["admin","manager"]},e.createElement(rce,null))}),e.createElement(Dt,{path:"/admin/feedback",element:e.createElement(jr,{allowAccess:t=>t.role==="admin"||t.canReadFeedback===!0},e.createElement(ace,null))}),e.createElement(Dt,{path:"/admin/payment-verifiers",element:e.createElement(jr,{roles:["admin"]},e.createElement(cce,null))}),e.createElement(Dt,{path:"/admin/payment-verification",element:e.createElement(jr,{allowAccess:t=>t.role==="admin"||t.canVerifyPayments===!0},e.createElement(uce,null))}),e.createElement(Dt,{path:"/admin/reports",element:e.createElement(jr,{roles:["admin"]},e.createElement(fce,null))}),e.createElement(Dt,{path:"/admin/settings",element:e.createElement(jr,{roles:["admin"]},e.createElement(pce,null))}),e.createElement(Dt,{path:"/certified-products",element:e.createElement(hce,null)}))),e.createElement(AB,null),e.createElement(Ule,null),e.createElement(Kle,null))}pI.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(wD,null,e.createElement(ND,null,e.createElement(kD,null,e.createElement(hU,null,e.createElement(_me,null)))))));export{mN as W,Nl as _,Lf as c,Fr as g};
