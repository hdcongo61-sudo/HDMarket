function ZI(e,r){for(var a=0;a<r.length;a++){const n=r[a];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dy={exports:{}},Gt={};var Uk;function e8(){if(Uk)return Gt;Uk=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function x(B,G,z){this.props=B,this.context=G,this.refs=w,this.updater=z||b}x.prototype.isReactComponent={},x.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=x.prototype;function S(B,G,z){this.props=B,this.context=G,this.refs=w,this.updater=z||b}var k=S.prototype=new N;k.constructor=S,E(k,x.prototype),k.isPureReactComponent=!0;var P=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function T(B,G,z){var ae,he={},ve=null,_e=null;if(G!=null)for(ae in G.ref!==void 0&&(_e=G.ref),G.key!==void 0&&(ve=""+G.key),G)C.call(G,ae)&&!O.hasOwnProperty(ae)&&(he[ae]=G[ae]);var ee=arguments.length-2;if(ee===1)he.children=z;else if(1<ee){for(var le=Array(ee),pe=0;pe<ee;pe++)le[pe]=arguments[pe+2];he.children=le}if(B&&B.defaultProps)for(ae in ee=B.defaultProps,ee)he[ae]===void 0&&(he[ae]=ee[ae]);return{$$typeof:e,type:B,key:ve,ref:_e,props:he,_owner:_.current}}function R(B,G){return{$$typeof:e,type:B.type,key:G,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function j(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return G[z]})}var L=/\/+/g;function K(B,G){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):G.toString(36)}function W(B,G,z,ae,he){var ve=typeof B;(ve==="undefined"||ve==="boolean")&&(B=null);var _e=!1;if(B===null)_e=!0;else switch(ve){case"string":case"number":_e=!0;break;case"object":switch(B.$$typeof){case e:case r:_e=!0}}if(_e)return _e=B,he=he(_e),B=ae===""?"."+K(_e,0):ae,P(he)?(z="",B!=null&&(z=B.replace(L,"$&/")+"/"),W(he,G,z,"",function(pe){return pe})):he!=null&&(D(he)&&(he=R(he,z+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+B)),G.push(he)),1;if(_e=0,ae=ae===""?".":ae+":",P(B))for(var ee=0;ee<B.length;ee++){ve=B[ee];var le=ae+K(ve,ee);_e+=W(ve,G,z,le,he)}else if(le=y(B),typeof le=="function")for(B=le.call(B),ee=0;!(ve=B.next()).done;)ve=ve.value,le=ae+K(ve,ee++),_e+=W(ve,G,z,le,he);else if(ve==="object")throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return _e}function $(B,G,z){if(B==null)return B;var ae=[],he=0;return W(B,ae,"","",function(ve){return G.call(z,ve,he++)}),ae}function J(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var Q={current:null},X={transition:null},H={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:X,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}return Gt.Children={map:$,forEach:function(B,G,z){$(B,function(){G.apply(this,arguments)},z)},count:function(B){var G=0;return $(B,function(){G++}),G},toArray:function(B){return $(B,function(G){return G})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Gt.Component=x,Gt.Fragment=a,Gt.Profiler=s,Gt.PureComponent=S,Gt.StrictMode=n,Gt.Suspense=u,Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Gt.act=I,Gt.cloneElement=function(B,G,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ae=E({},B.props),he=B.key,ve=B.ref,_e=B._owner;if(G!=null){if(G.ref!==void 0&&(ve=G.ref,_e=_.current),G.key!==void 0&&(he=""+G.key),B.type&&B.type.defaultProps)var ee=B.type.defaultProps;for(le in G)C.call(G,le)&&!O.hasOwnProperty(le)&&(ae[le]=G[le]===void 0&&ee!==void 0?ee[le]:G[le])}var le=arguments.length-2;if(le===1)ae.children=z;else if(1<le){ee=Array(le);for(var pe=0;pe<le;pe++)ee[pe]=arguments[pe+2];ae.children=ee}return{$$typeof:e,type:B.type,key:he,ref:ve,props:ae,_owner:_e}},Gt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Gt.createElement=T,Gt.createFactory=function(B){var G=T.bind(null,B);return G.type=B,G},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(B){return{$$typeof:d,render:B}},Gt.isValidElement=D,Gt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:J}},Gt.memo=function(B,G){return{$$typeof:m,type:B,compare:G===void 0?null:G}},Gt.startTransition=function(B){var G=X.transition;X.transition={};try{B()}finally{X.transition=G}},Gt.unstable_act=I,Gt.useCallback=function(B,G){return Q.current.useCallback(B,G)},Gt.useContext=function(B){return Q.current.useContext(B)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(B){return Q.current.useDeferredValue(B)},Gt.useEffect=function(B,G){return Q.current.useEffect(B,G)},Gt.useId=function(){return Q.current.useId()},Gt.useImperativeHandle=function(B,G,z){return Q.current.useImperativeHandle(B,G,z)},Gt.useInsertionEffect=function(B,G){return Q.current.useInsertionEffect(B,G)},Gt.useLayoutEffect=function(B,G){return Q.current.useLayoutEffect(B,G)},Gt.useMemo=function(B,G){return Q.current.useMemo(B,G)},Gt.useReducer=function(B,G,z){return Q.current.useReducer(B,G,z)},Gt.useRef=function(B){return Q.current.useRef(B)},Gt.useState=function(B){return Q.current.useState(B)},Gt.useSyncExternalStore=function(B,G,z){return Q.current.useSyncExternalStore(B,G,z)},Gt.useTransition=function(){return Q.current.useTransition()},Gt.version="18.3.1",Gt}var Vk;function YT(){return Vk||(Vk=1,dy.exports=e8()),dy.exports}var h=YT();const t=Pr(h),t8=ZI({__proto__:null,default:t},[h]);var Of={},uy={exports:{}},un={},my={exports:{}},fy={};var Hk;function r8(){return Hk||(Hk=1,(function(e){function r(X,H){var I=X.length;X.push(H);e:for(;0<I;){var B=I-1>>>1,G=X[B];if(0<s(G,H))X[B]=H,X[I]=G,I=B;else break e}}function a(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var H=X[0],I=X.pop();if(I!==H){X[0]=I;e:for(var B=0,G=X.length,z=G>>>1;B<z;){var ae=2*(B+1)-1,he=X[ae],ve=ae+1,_e=X[ve];if(0>s(he,I))ve<G&&0>s(_e,he)?(X[B]=_e,X[ve]=I,B=ve):(X[B]=he,X[ae]=I,B=ae);else if(ve<G&&0>s(_e,I))X[B]=_e,X[ve]=I,B=ve;else break e}}return H}function s(X,H){var I=X.sortIndex-H.sortIndex;return I!==0?I:X.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var u=[],m=[],p=1,f=null,y=3,b=!1,E=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(X){for(var H=a(m);H!==null;){if(H.callback===null)n(m);else if(H.startTime<=X)n(m),H.sortIndex=H.expirationTime,r(u,H);else break;H=a(m)}}function P(X){if(w=!1,k(X),!E)if(a(u)!==null)E=!0,J(C);else{var H=a(m);H!==null&&Q(P,H.startTime-X)}}function C(X,H){E=!1,w&&(w=!1,N(T),T=-1),b=!0;var I=y;try{for(k(H),f=a(u);f!==null&&(!(f.expirationTime>H)||X&&!j());){var B=f.callback;if(typeof B=="function"){f.callback=null,y=f.priorityLevel;var G=B(f.expirationTime<=H);H=e.unstable_now(),typeof G=="function"?f.callback=G:f===a(u)&&n(u),k(H)}else n(u);f=a(u)}if(f!==null)var z=!0;else{var ae=a(m);ae!==null&&Q(P,ae.startTime-H),z=!1}return z}finally{f=null,y=I,b=!1}}var _=!1,O=null,T=-1,R=5,D=-1;function j(){return!(e.unstable_now()-D<R)}function L(){if(O!==null){var X=e.unstable_now();D=X;var H=!0;try{H=O(!0,X)}finally{H?K():(_=!1,O=null)}}else _=!1}var K;if(typeof S=="function")K=function(){S(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=L,K=function(){$.postMessage(null)}}else K=function(){x(L,0)};function J(X){O=X,_||(_=!0,K())}function Q(X,H){T=x(function(){X(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){E||b||(E=!0,J(C))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return a(u)},e.unstable_next=function(X){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var I=y;y=H;try{return X()}finally{y=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,H){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var I=y;y=X;try{return H()}finally{y=I}},e.unstable_scheduleCallback=function(X,H,I){var B=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,X={id:p++,callback:H,priorityLevel:X,startTime:I,expirationTime:G,sortIndex:-1},I>B?(X.sortIndex=I,r(m,X),a(u)===null&&X===a(m)&&(w?(N(T),T=-1):w=!0,Q(P,I-B))):(X.sortIndex=G,r(u,X),E||b||(E=!0,J(C))),X},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(X){var H=y;return function(){var I=y;y=H;try{return X.apply(this,arguments)}finally{y=I}}}})(fy)),fy}var Wk;function a8(){return Wk||(Wk=1,my.exports=r8()),my.exports}var Gk;function n8(){if(Gk)return un;Gk=1;var e=YT(),r=a8();function a(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(s[l]=c,l=0;l<c.length;l++)n.add(c[l])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function y(l){return u.call(f,l)?!0:u.call(p,l)?!1:m.test(l)?f[l]=!0:(p[l]=!0,!1)}function b(l,c,g,v){if(g!==null&&g.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:g!==null?!g.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function E(l,c,g,v){if(c===null||typeof c>"u"||b(l,c,g,v))return!0;if(v)return!1;if(g!==null)switch(g.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(l,c,g,v,A,M,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=A,this.mustUseProperty=g,this.propertyName=l,this.type=c,this.sanitizeURL=M,this.removeEmptyString=V}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];x[c]=new w(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(N,S);x[c]=new w(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(N,S);x[c]=new w(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(N,S);x[c]=new w(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function k(l,c,g,v){var A=x.hasOwnProperty(c)?x[c]:null;(A!==null?A.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(E(c,g,A,v)&&(g=null),v||A===null?y(c)&&(g===null?l.removeAttribute(c):l.setAttribute(c,""+g)):A.mustUseProperty?l[A.propertyName]=g===null?A.type===3?!1:"":g:(c=A.attributeName,v=A.attributeNamespace,g===null?l.removeAttribute(c):(A=A.type,g=A===3||A===4&&g===!0?"":""+g,v?l.setAttributeNS(v,c,g):l.setAttribute(c,g))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),_=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),X=Symbol.iterator;function H(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var I=Object.assign,B;function G(l){if(B===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);B=c&&c[1]||""}return`
`+B+l}var z=!1;function ae(l,c){if(!l||z)return"";z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ce){var v=Ce}Reflect.construct(l,[],c)}else{try{c.call()}catch(Ce){v=Ce}l.call(c.prototype)}else{try{throw Error()}catch(Ce){v=Ce}l()}}catch(Ce){if(Ce&&v&&typeof Ce.stack=="string"){for(var A=Ce.stack.split(`
`),M=v.stack.split(`
`),V=A.length-1,te=M.length-1;1<=V&&0<=te&&A[V]!==M[te];)te--;for(;1<=V&&0<=te;V--,te--)if(A[V]!==M[te]){if(V!==1||te!==1)do if(V--,te--,0>te||A[V]!==M[te]){var ce=`
`+A[V].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=V&&0<=te);break}}}finally{z=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?G(l):""}function he(l){switch(l.tag){case 5:return G(l.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return l=ae(l.type,!1),l;case 11:return l=ae(l.type.render,!1),l;case 1:return l=ae(l.type,!0),l;default:return""}}function ve(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case O:return"Fragment";case _:return"Portal";case R:return"Profiler";case T:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case j:return(l.displayName||"Context")+".Consumer";case D:return(l._context.displayName||"Context")+".Provider";case L:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case $:return c=l.displayName||null,c!==null?c:ve(l.type)||"Memo";case J:c=l._payload,l=l._init;try{return ve(l(c))}catch{}}return null}function _e(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function le(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pe(l){var c=le(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,M=g.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return A.call(this)},set:function(V){v=""+V,M.call(this,V)}}),Object.defineProperty(l,c,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ne(l){l._valueTracker||(l._valueTracker=pe(l))}function oe(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var g=c.getValue(),v="";return l&&(v=le(l)?l.checked?"true":"false":l.value),l=v,l!==g?(c.setValue(l),!0):!1}function re(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Me(l,c){var g=c.checked;return I({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??l._wrapperState.initialChecked})}function ge(l,c){var g=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;g=ee(c.value!=null?c.value:g),l._wrapperState={initialChecked:v,initialValue:g,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function $e(l,c){c=c.checked,c!=null&&k(l,"checked",c,!1)}function De(l,c){$e(l,c);var g=ee(c.value),v=c.type;if(g!=null)v==="number"?(g===0&&l.value===""||l.value!=g)&&(l.value=""+g):l.value!==""+g&&(l.value=""+g);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Je(l,c.type,g):c.hasOwnProperty("defaultValue")&&Je(l,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function Ye(l,c,g){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,g||c===l.value||(l.value=c),l.defaultValue=c}g=l.name,g!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,g!==""&&(l.name=g)}function Je(l,c,g){(c!=="number"||re(l.ownerDocument)!==l)&&(g==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+g&&(l.defaultValue=""+g))}var bt=Array.isArray;function Ze(l,c,g,v){if(l=l.options,c){c={};for(var A=0;A<g.length;A++)c["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=c.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&v&&(l[g].defaultSelected=!0)}else{for(g=""+ee(g),c=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}c!==null||l[A].disabled||(c=l[A])}c!==null&&(c.selected=!0)}}function nt(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(a(91));return I({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ct(l,c){var g=c.value;if(g==null){if(g=c.children,c=c.defaultValue,g!=null){if(c!=null)throw Error(a(92));if(bt(g)){if(1<g.length)throw Error(a(93));g=g[0]}c=g}c==null&&(c=""),g=c}l._wrapperState={initialValue:ee(g)}}function vt(l,c){var g=ee(c.value),v=ee(c.defaultValue);g!=null&&(g=""+g,g!==l.value&&(l.value=g),c.defaultValue==null&&l.defaultValue!==g&&(l.defaultValue=g)),v!=null&&(l.defaultValue=""+v)}function Zt(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function pt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?pt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Lt,zt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,v,A){MSApp.execUnsafeLocalFunction(function(){return l(c,g,v,A)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Lt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function nr(l,c){if(c){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=c;return}}l.textContent=c}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(l){xt.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),Bt[c]=Bt[l]})});function we(l,c,g){return c==null||typeof c=="boolean"||c===""?"":g||typeof c!="number"||c===0||Bt.hasOwnProperty(l)&&Bt[l]?(""+c).trim():c+"px"}function ot(l,c){l=l.style;for(var g in c)if(c.hasOwnProperty(g)){var v=g.indexOf("--")===0,A=we(g,c[g],v);g==="float"&&(g="cssFloat"),v?l.setProperty(g,A):l[g]=A}}var ht=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(l,c){if(c){if(ht[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(a(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(a(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(a(61))}if(c.style!=null&&typeof c.style!="object")throw Error(a(62))}}function xe(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function ye(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Y=null,U=null,de=null;function Re(l){if(l=Cd(l)){if(typeof Y!="function")throw Error(a(280));var c=l.stateNode;c&&(c=Vm(c),Y(l.stateNode,l.type,c))}}function Ve(l){U?de?de.push(l):de=[l]:U=l}function Qe(){if(U){var l=U,c=de;if(de=U=null,Re(l),c)for(l=0;l<c.length;l++)Re(c[l])}}function Pt(l,c){return l(c)}function q(){}var ue=!1;function ke(l,c,g){if(ue)return l(c,g);ue=!0;try{return Pt(l,c,g)}finally{ue=!1,(U!==null||de!==null)&&(q(),Qe())}}function Pe(l,c){var g=l.stateNode;if(g===null)return null;var v=Vm(g);if(v===null)return null;g=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(a(231,c,typeof g));return g}var ze=!1;if(d)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){ze=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{ze=!1}function He(l,c,g,v,A,M,V,te,ce){var Ce=Array.prototype.slice.call(arguments,3);try{c.apply(g,Ce)}catch(Ue){this.onError(Ue)}}var jt=!1,Nt=null,St=!1,sa=null,Xr={onError:function(l){jt=!0,Nt=l}};function La(l,c,g,v,A,M,V,te,ce){jt=!1,Nt=null,He.apply(Xr,arguments)}function Yr(l,c,g,v,A,M,V,te,ce){if(La.apply(this,arguments),jt){if(jt){var Ce=Nt;jt=!1,Nt=null}else throw Error(a(198));St||(St=!0,sa=Ce)}}function er(l){var c=l,g=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(g=c.return),l=c.return;while(l)}return c.tag===3?g:null}function Yt(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function ne(l){if(er(l)!==l)throw Error(a(188))}function rt(l){var c=l.alternate;if(!c){if(c=er(l),c===null)throw Error(a(188));return c!==l?null:l}for(var g=l,v=c;;){var A=g.return;if(A===null)break;var M=A.alternate;if(M===null){if(v=A.return,v!==null){g=v;continue}break}if(A.child===M.child){for(M=A.child;M;){if(M===g)return ne(A),l;if(M===v)return ne(A),c;M=M.sibling}throw Error(a(188))}if(g.return!==v.return)g=A,v=M;else{for(var V=!1,te=A.child;te;){if(te===g){V=!0,g=A,v=M;break}if(te===v){V=!0,v=A,g=M;break}te=te.sibling}if(!V){for(te=M.child;te;){if(te===g){V=!0,g=M,v=A;break}if(te===v){V=!0,v=M,g=A;break}te=te.sibling}if(!V)throw Error(a(189))}}if(g.alternate!==v)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:c}function Ke(l){return l=rt(l),l!==null?dt(l):null}function dt(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=dt(l);if(c!==null)return c;l=l.sibling}return null}var mt=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,Be=r.unstable_shouldYield,Er=r.unstable_requestPaint,Ft=r.unstable_now,Eo=r.unstable_getCurrentPriorityLevel,Tr=r.unstable_ImmediatePriority,nn=r.unstable_UserBlockingPriority,Ia=r.unstable_NormalPriority,Pa=r.unstable_LowPriority,Cs=r.unstable_IdlePriority,ts=null,se=null;function Te(l){if(se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(ts,l,void 0,(l.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Ks,Mt=Math.log,Br=Math.LN2;function Ks(l){return l>>>=0,l===0?32:31-(Mt(l)/Br|0)|0}var _i=64,Xs=4194304;function Oe(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Le(l,c){var g=l.pendingLanes;if(g===0)return 0;var v=0,A=l.suspendedLanes,M=l.pingedLanes,V=g&268435455;if(V!==0){var te=V&~A;te!==0?v=Oe(te):(M&=V,M!==0&&(v=Oe(M)))}else V=g&~A,V!==0?v=Oe(V):M!==0&&(v=Oe(M));if(v===0)return 0;if(c!==0&&c!==v&&(c&A)===0&&(A=v&-v,M=c&-c,A>=M||A===16&&(M&4194240)!==0))return c;if((v&4)!==0&&(v|=g&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=v;0<c;)g=31-et(c),A=1<<g,v|=l[g],c&=~A;return v}function Et(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(l,c){for(var g=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,M=l.pendingLanes;0<M;){var V=31-et(M),te=1<<V,ce=A[V];ce===-1?((te&g)===0||(te&v)!==0)&&(A[V]=Et(te,c)):ce<=c&&(l.expiredLanes|=te),M&=~te}}function wr(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ta(){var l=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),l}function Xa(l){for(var c=[],g=0;31>g;g++)c.push(l);return c}function As(l,c,g){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-et(c),l[c]=g}function Pm(l,c){var g=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<g;){var A=31-et(g),M=1<<A;c[A]=0,v[A]=-1,l[A]=-1,g&=~M}}function Pi(l,c){var g=l.entangledLanes|=c;for(l=l.entanglements;g;){var v=31-et(g),A=1<<v;A&c|l[v]&c&&(l[v]|=c),g&=~A}}var cr=0;function ud(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Tm,Al,md,Ti,wo,No=!1,Oi=[],On=null,Mn=null,jn=null,_s=new Map,So=new Map,Ps=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _l(l,c){switch(l){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":_s.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(c.pointerId)}}function Mi(l,c,g,v,A,M){return l===null||l.nativeEvent!==M?(l={blockedOn:c,domEventName:g,eventSystemFlags:v,nativeEvent:M,targetContainers:[A]},c!==null&&(c=Cd(c),c!==null&&Al(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),l)}function Dg(l,c,g,v,A){switch(c){case"focusin":return On=Mi(On,l,c,g,v,A),!0;case"dragenter":return Mn=Mi(Mn,l,c,g,v,A),!0;case"mouseover":return jn=Mi(jn,l,c,g,v,A),!0;case"pointerover":var M=A.pointerId;return _s.set(M,Mi(_s.get(M)||null,l,c,g,v,A)),!0;case"gotpointercapture":return M=A.pointerId,So.set(M,Mi(So.get(M)||null,l,c,g,v,A)),!0}return!1}function Mm(l){var c=ko(l.target);if(c!==null){var g=er(c);if(g!==null){if(c=g.tag,c===13){if(c=Yt(g),c!==null){l.blockedOn=c,wo(l.priority,function(){md(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ji(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var g=dr(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(g===null){g=l.nativeEvent;var v=new g.constructor(g.type,g);fe=v,g.target.dispatchEvent(v),fe=null}else return c=Cd(g),c!==null&&Al(c),l.blockedOn=g,!1;c.shift()}return!0}function fd(l,c,g){ji(l)&&g.delete(c)}function jm(){No=!1,On!==null&&ji(On)&&(On=null),Mn!==null&&ji(Mn)&&(Mn=null),jn!==null&&ji(jn)&&(jn=null),_s.forEach(fd),So.forEach(fd)}function Ts(l,c){l.blockedOn===c&&(l.blockedOn=null,No||(No=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jm)))}function Ri(l){function c(A){return Ts(A,l)}if(0<Oi.length){Ts(Oi[0],l);for(var g=1;g<Oi.length;g++){var v=Oi[g];v.blockedOn===l&&(v.blockedOn=null)}}for(On!==null&&Ts(On,l),Mn!==null&&Ts(Mn,l),jn!==null&&Ts(jn,l),_s.forEach(c),So.forEach(c),g=0;g<Ps.length;g++)v=Ps[g],v.blockedOn===l&&(v.blockedOn=null);for(;0<Ps.length&&(g=Ps[0],g.blockedOn===null);)Mm(g),g.blockedOn===null&&Ps.shift()}var F=P.ReactCurrentBatchConfig,Fe=!0;function yt(l,c,g,v){var A=cr,M=F.transition;F.transition=null;try{cr=1,Rt(l,c,g,v)}finally{cr=A,F.transition=M}}function qt(l,c,g,v){var A=cr,M=F.transition;F.transition=null;try{cr=4,Rt(l,c,g,v)}finally{cr=A,F.transition=M}}function Rt(l,c,g,v){if(Fe){var A=dr(l,c,g,v);if(A===null)eh(l,c,v,Vt,g),_l(l,v);else if(Dg(A,l,c,g,v))v.stopPropagation();else if(_l(l,v),c&4&&-1<Om.indexOf(l)){for(;A!==null;){var M=Cd(A);if(M!==null&&Tm(M),M=dr(l,c,g,v),M===null&&eh(l,c,v,Vt,g),M===A)break;A=M}A!==null&&v.stopPropagation()}else eh(l,c,v,null,g)}}var Vt=null;function dr(l,c,g,v){if(Vt=null,l=ye(v),l=ko(l),l!==null)if(c=er(l),c===null)l=null;else if(g=c.tag,g===13){if(l=Yt(c),l!==null)return l;l=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return Vt=l,null}function Or(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eo()){case Tr:return 1;case nn:return 4;case Ia:case Pa:return 16;case Cs:return 536870912;default:return 16}default:return 16}}var xa=null,va=null,rs=null;function pd(){if(rs)return rs;var l,c=va,g=c.length,v,A="value"in xa?xa.value:xa.textContent,M=A.length;for(l=0;l<g&&c[l]===A[l];l++);var V=g-l;for(v=1;v<=V&&c[g-v]===A[M-v];v++);return rs=A.slice(l,1<v?1-v:void 0)}function Rm(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function $m(){return!0}function O2(){return!1}function bn(l){function c(g,v,A,M,V){this._reactName=g,this._targetInst=A,this.type=v,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var te in l)l.hasOwnProperty(te)&&(g=l[te],this[te]=g?g(M):M[te]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?$m:O2,this.isPropagationStopped=O2,this}return I(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),c}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fg=bn(Pl),gd=I({},Pl,{view:0,detail:0}),CL=bn(gd),zg,Bg,hd,Lm=I({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==hd&&(hd&&l.type==="mousemove"?(zg=l.screenX-hd.screenX,Bg=l.screenY-hd.screenY):Bg=zg=0,hd=l),zg)},movementY:function(l){return"movementY"in l?l.movementY:Bg}}),M2=bn(Lm),AL=I({},Lm,{dataTransfer:0}),_L=bn(AL),PL=I({},gd,{relatedTarget:0}),qg=bn(PL),TL=I({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),OL=bn(TL),ML=I({},Pl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),jL=bn(ML),RL=I({},Pl,{data:0}),j2=bn(RL),$L={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DL(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=IL[l])?!!c[l]:!1}function Ug(){return DL}var FL=I({},gd,{key:function(l){if(l.key){var c=$L[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Rm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?LL[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(l){return l.type==="keypress"?Rm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Rm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),zL=bn(FL),BL=I({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R2=bn(BL),qL=I({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),UL=bn(qL),VL=I({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),HL=bn(VL),WL=I({},Lm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),GL=bn(WL),KL=[9,13,27,32],Vg=d&&"CompositionEvent"in window,yd=null;d&&"documentMode"in document&&(yd=document.documentMode);var XL=d&&"TextEvent"in window&&!yd,$2=d&&(!Vg||yd&&8<yd&&11>=yd),L2=" ",I2=!1;function D2(l,c){switch(l){case"keyup":return KL.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Tl=!1;function YL(l,c){switch(l){case"compositionend":return F2(c);case"keypress":return c.which!==32?null:(I2=!0,L2);case"textInput":return l=c.data,l===L2&&I2?null:l;default:return null}}function QL(l,c){if(Tl)return l==="compositionend"||!Vg&&D2(l,c)?(l=pd(),rs=va=xa=null,Tl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $2&&c.locale!=="ko"?null:c.data;default:return null}}var JL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z2(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!JL[l.type]:c==="textarea"}function B2(l,c,g,v){Ve(v),c=Bm(c,"onChange"),0<c.length&&(g=new Fg("onChange","change",null,g,v),l.push({event:g,listeners:c}))}var bd=null,xd=null;function ZL(l){sS(l,0)}function Im(l){var c=$l(l);if(oe(c))return l}function eI(l,c){if(l==="change")return c}var q2=!1;if(d){var Hg;if(d){var Wg="oninput"in document;if(!Wg){var U2=document.createElement("div");U2.setAttribute("oninput","return;"),Wg=typeof U2.oninput=="function"}Hg=Wg}else Hg=!1;q2=Hg&&(!document.documentMode||9<document.documentMode)}function V2(){bd&&(bd.detachEvent("onpropertychange",H2),xd=bd=null)}function H2(l){if(l.propertyName==="value"&&Im(xd)){var c=[];B2(c,xd,l,ye(l)),ke(ZL,c)}}function tI(l,c,g){l==="focusin"?(V2(),bd=c,xd=g,bd.attachEvent("onpropertychange",H2)):l==="focusout"&&V2()}function rI(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Im(xd)}function aI(l,c){if(l==="click")return Im(c)}function nI(l,c){if(l==="input"||l==="change")return Im(c)}function sI(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var as=typeof Object.is=="function"?Object.is:sI;function vd(l,c){if(as(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var g=Object.keys(l),v=Object.keys(c);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var A=g[v];if(!u.call(c,A)||!as(l[A],c[A]))return!1}return!0}function W2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function G2(l,c){var g=W2(l);l=0;for(var v;g;){if(g.nodeType===3){if(v=l+g.textContent.length,l<=c&&v>=c)return{node:g,offset:c-l};l=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=W2(g)}}function K2(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?K2(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function X2(){for(var l=window,c=re();c instanceof l.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)l=c.contentWindow;else break;c=re(l.document)}return c}function Gg(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function iI(l){var c=X2(),g=l.focusedElem,v=l.selectionRange;if(c!==g&&g&&g.ownerDocument&&K2(g.ownerDocument.documentElement,g)){if(v!==null&&Gg(g)){if(c=v.start,l=v.end,l===void 0&&(l=c),"selectionStart"in g)g.selectionStart=c,g.selectionEnd=Math.min(l,g.value.length);else if(l=(c=g.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var A=g.textContent.length,M=Math.min(v.start,A);v=v.end===void 0?M:Math.min(v.end,A),!l.extend&&M>v&&(A=v,v=M,M=A),A=G2(g,M);var V=G2(g,v);A&&V&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==V.node||l.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(A.node,A.offset),l.removeAllRanges(),M>v?(l.addRange(c),l.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),l.addRange(c)))}}for(c=[],l=g;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<c.length;g++)l=c[g],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var oI=d&&"documentMode"in document&&11>=document.documentMode,Ol=null,Kg=null,Ed=null,Xg=!1;function Y2(l,c,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Xg||Ol==null||Ol!==re(v)||(v=Ol,"selectionStart"in v&&Gg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ed&&vd(Ed,v)||(Ed=v,v=Bm(Kg,"onSelect"),0<v.length&&(c=new Fg("onSelect","select",null,c,g),l.push({event:c,listeners:v}),c.target=Ol)))}function Dm(l,c){var g={};return g[l.toLowerCase()]=c.toLowerCase(),g["Webkit"+l]="webkit"+c,g["Moz"+l]="moz"+c,g}var Ml={animationend:Dm("Animation","AnimationEnd"),animationiteration:Dm("Animation","AnimationIteration"),animationstart:Dm("Animation","AnimationStart"),transitionend:Dm("Transition","TransitionEnd")},Yg={},Q2={};d&&(Q2=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Fm(l){if(Yg[l])return Yg[l];if(!Ml[l])return l;var c=Ml[l],g;for(g in c)if(c.hasOwnProperty(g)&&g in Q2)return Yg[l]=c[g];return l}var J2=Fm("animationend"),Z2=Fm("animationiteration"),eS=Fm("animationstart"),tS=Fm("transitionend"),rS=new Map,aS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(l,c){rS.set(l,c),i(c,[l])}for(var Qg=0;Qg<aS.length;Qg++){var Jg=aS[Qg],lI=Jg.toLowerCase(),cI=Jg[0].toUpperCase()+Jg.slice(1);$i(lI,"on"+cI)}$i(J2,"onAnimationEnd"),$i(Z2,"onAnimationIteration"),$i(eS,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(tS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function nS(l,c,g){var v=l.type||"unknown-event";l.currentTarget=g,Yr(v,c,void 0,l),l.currentTarget=null}function sS(l,c){c=(c&4)!==0;for(var g=0;g<l.length;g++){var v=l[g],A=v.event;v=v.listeners;e:{var M=void 0;if(c)for(var V=v.length-1;0<=V;V--){var te=v[V],ce=te.instance,Ce=te.currentTarget;if(te=te.listener,ce!==M&&A.isPropagationStopped())break e;nS(A,te,Ce),M=ce}else for(V=0;V<v.length;V++){if(te=v[V],ce=te.instance,Ce=te.currentTarget,te=te.listener,ce!==M&&A.isPropagationStopped())break e;nS(A,te,Ce),M=ce}}}if(St)throw l=sa,St=!1,sa=null,l}function Lr(l,c){var g=c[ih];g===void 0&&(g=c[ih]=new Set);var v=l+"__bubble";g.has(v)||(iS(c,l,2,!1),g.add(v))}function Zg(l,c,g){var v=0;c&&(v|=4),iS(g,l,v,c)}var zm="_reactListening"+Math.random().toString(36).slice(2);function Nd(l){if(!l[zm]){l[zm]=!0,n.forEach(function(g){g!=="selectionchange"&&(dI.has(g)||Zg(g,!1,l),Zg(g,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[zm]||(c[zm]=!0,Zg("selectionchange",!1,c))}}function iS(l,c,g,v){switch(Or(c)){case 1:var A=yt;break;case 4:A=qt;break;default:A=Rt}g=A.bind(null,c,g,l),A=void 0,!ze||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(c,g,{capture:!0,passive:A}):l.addEventListener(c,g,!0):A!==void 0?l.addEventListener(c,g,{passive:A}):l.addEventListener(c,g,!1)}function eh(l,c,g,v,A){var M=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var te=v.stateNode.containerInfo;if(te===A||te.nodeType===8&&te.parentNode===A)break;if(V===4)for(V=v.return;V!==null;){var ce=V.tag;if((ce===3||ce===4)&&(ce=V.stateNode.containerInfo,ce===A||ce.nodeType===8&&ce.parentNode===A))return;V=V.return}for(;te!==null;){if(V=ko(te),V===null)return;if(ce=V.tag,ce===5||ce===6){v=M=V;continue e}te=te.parentNode}}v=v.return}ke(function(){var Ce=M,Ue=ye(g),We=[];e:{var qe=rS.get(l);if(qe!==void 0){var at=Fg,lt=l;switch(l){case"keypress":if(Rm(g)===0)break e;case"keydown":case"keyup":at=zL;break;case"focusin":lt="focus",at=qg;break;case"focusout":lt="blur",at=qg;break;case"beforeblur":case"afterblur":at=qg;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=M2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=_L;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=UL;break;case J2:case Z2:case eS:at=OL;break;case tS:at=HL;break;case"scroll":at=CL;break;case"wheel":at=GL;break;case"copy":case"cut":case"paste":at=jL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=R2}var ft=(c&4)!==0,ta=!ft&&l==="scroll",Ee=ft?qe!==null?qe+"Capture":null:qe;ft=[];for(var me=Ce,Se;me!==null;){Se=me;var Ge=Se.stateNode;if(Se.tag===5&&Ge!==null&&(Se=Ge,Ee!==null&&(Ge=Pe(me,Ee),Ge!=null&&ft.push(Sd(me,Ge,Se)))),ta)break;me=me.return}0<ft.length&&(qe=new at(qe,lt,null,g,Ue),We.push({event:qe,listeners:ft}))}}if((c&7)===0){e:{if(qe=l==="mouseover"||l==="pointerover",at=l==="mouseout"||l==="pointerout",qe&&g!==fe&&(lt=g.relatedTarget||g.fromElement)&&(ko(lt)||lt[Ys]))break e;if((at||qe)&&(qe=Ue.window===Ue?Ue:(qe=Ue.ownerDocument)?qe.defaultView||qe.parentWindow:window,at?(lt=g.relatedTarget||g.toElement,at=Ce,lt=lt?ko(lt):null,lt!==null&&(ta=er(lt),lt!==ta||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(at=null,lt=Ce),at!==lt)){if(ft=M2,Ge="onMouseLeave",Ee="onMouseEnter",me="mouse",(l==="pointerout"||l==="pointerover")&&(ft=R2,Ge="onPointerLeave",Ee="onPointerEnter",me="pointer"),ta=at==null?qe:$l(at),Se=lt==null?qe:$l(lt),qe=new ft(Ge,me+"leave",at,g,Ue),qe.target=ta,qe.relatedTarget=Se,Ge=null,ko(Ue)===Ce&&(ft=new ft(Ee,me+"enter",lt,g,Ue),ft.target=Se,ft.relatedTarget=ta,Ge=ft),ta=Ge,at&&lt)t:{for(ft=at,Ee=lt,me=0,Se=ft;Se;Se=jl(Se))me++;for(Se=0,Ge=Ee;Ge;Ge=jl(Ge))Se++;for(;0<me-Se;)ft=jl(ft),me--;for(;0<Se-me;)Ee=jl(Ee),Se--;for(;me--;){if(ft===Ee||Ee!==null&&ft===Ee.alternate)break t;ft=jl(ft),Ee=jl(Ee)}ft=null}else ft=null;at!==null&&oS(We,qe,at,ft,!1),lt!==null&&ta!==null&&oS(We,ta,lt,ft,!0)}}e:{if(qe=Ce?$l(Ce):window,at=qe.nodeName&&qe.nodeName.toLowerCase(),at==="select"||at==="input"&&qe.type==="file")var gt=eI;else if(z2(qe))if(q2)gt=nI;else{gt=rI;var Ct=tI}else(at=qe.nodeName)&&at.toLowerCase()==="input"&&(qe.type==="checkbox"||qe.type==="radio")&&(gt=aI);if(gt&&(gt=gt(l,Ce))){B2(We,gt,g,Ue);break e}Ct&&Ct(l,qe,Ce),l==="focusout"&&(Ct=qe._wrapperState)&&Ct.controlled&&qe.type==="number"&&Je(qe,"number",qe.value)}switch(Ct=Ce?$l(Ce):window,l){case"focusin":(z2(Ct)||Ct.contentEditable==="true")&&(Ol=Ct,Kg=Ce,Ed=null);break;case"focusout":Ed=Kg=Ol=null;break;case"mousedown":Xg=!0;break;case"contextmenu":case"mouseup":case"dragend":Xg=!1,Y2(We,g,Ue);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":Y2(We,g,Ue)}var At;if(Vg)e:{switch(l){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Tl?D2(l,g)&&($t="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&($t="onCompositionStart");$t&&($2&&g.locale!=="ko"&&(Tl||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Tl&&(At=pd()):(xa=Ue,va="value"in xa?xa.value:xa.textContent,Tl=!0)),Ct=Bm(Ce,$t),0<Ct.length&&($t=new j2($t,l,null,g,Ue),We.push({event:$t,listeners:Ct}),At?$t.data=At:(At=F2(g),At!==null&&($t.data=At)))),(At=XL?YL(l,g):QL(l,g))&&(Ce=Bm(Ce,"onBeforeInput"),0<Ce.length&&(Ue=new j2("onBeforeInput","beforeinput",null,g,Ue),We.push({event:Ue,listeners:Ce}),Ue.data=At))}sS(We,c)})}function Sd(l,c,g){return{instance:l,listener:c,currentTarget:g}}function Bm(l,c){for(var g=c+"Capture",v=[];l!==null;){var A=l,M=A.stateNode;A.tag===5&&M!==null&&(A=M,M=Pe(l,g),M!=null&&v.unshift(Sd(l,M,A)),M=Pe(l,c),M!=null&&v.push(Sd(l,M,A))),l=l.return}return v}function jl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function oS(l,c,g,v,A){for(var M=c._reactName,V=[];g!==null&&g!==v;){var te=g,ce=te.alternate,Ce=te.stateNode;if(ce!==null&&ce===v)break;te.tag===5&&Ce!==null&&(te=Ce,A?(ce=Pe(g,M),ce!=null&&V.unshift(Sd(g,ce,te))):A||(ce=Pe(g,M),ce!=null&&V.push(Sd(g,ce,te)))),g=g.return}V.length!==0&&l.push({event:c,listeners:V})}var uI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function lS(l){return(typeof l=="string"?l:""+l).replace(uI,`
`).replace(mI,"")}function qm(l,c,g){if(c=lS(c),lS(l)!==c&&g)throw Error(a(425))}function Um(){}var th=null,rh=null;function ah(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0,cS=typeof Promise=="function"?Promise:void 0,pI=typeof queueMicrotask=="function"?queueMicrotask:typeof cS<"u"?function(l){return cS.resolve(null).then(l).catch(gI)}:nh;function gI(l){setTimeout(function(){throw l})}function sh(l,c){var g=c,v=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(v===0){l.removeChild(A),Ri(c);return}v--}else g!=="$"&&g!=="$?"&&g!=="$!"||v++;g=A}while(g);Ri(c)}function Li(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function dS(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return l;c--}else g==="/$"&&c++}l=l.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Os="__reactFiber$"+Rl,kd="__reactProps$"+Rl,Ys="__reactContainer$"+Rl,ih="__reactEvents$"+Rl,hI="__reactListeners$"+Rl,yI="__reactHandles$"+Rl;function ko(l){var c=l[Os];if(c)return c;for(var g=l.parentNode;g;){if(c=g[Ys]||g[Os]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(l=dS(l);l!==null;){if(g=l[Os])return g;l=dS(l)}return c}l=g,g=l.parentNode}return null}function Cd(l){return l=l[Os]||l[Ys],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function $l(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(a(33))}function Vm(l){return l[kd]||null}var oh=[],Ll=-1;function Ii(l){return{current:l}}function Ir(l){0>Ll||(l.current=oh[Ll],oh[Ll]=null,Ll--)}function Mr(l,c){Ll++,oh[Ll]=l.current,l.current=c}var Di={},Da=Ii(Di),sn=Ii(!1),Co=Di;function Il(l,c){var g=l.type.contextTypes;if(!g)return Di;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var A={},M;for(M in g)A[M]=c[M];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=A),A}function on(l){return l=l.childContextTypes,l!=null}function Hm(){Ir(sn),Ir(Da)}function uS(l,c,g){if(Da.current!==Di)throw Error(a(168));Mr(Da,c),Mr(sn,g)}function mS(l,c,g){var v=l.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return g;v=v.getChildContext();for(var A in v)if(!(A in c))throw Error(a(108,_e(l)||"Unknown",A));return I({},g,v)}function Wm(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Di,Co=Da.current,Mr(Da,l),Mr(sn,sn.current),!0}function fS(l,c,g){var v=l.stateNode;if(!v)throw Error(a(169));g?(l=mS(l,c,Co),v.__reactInternalMemoizedMergedChildContext=l,Ir(sn),Ir(Da),Mr(Da,l)):Ir(sn),Mr(sn,g)}var Qs=null,Gm=!1,lh=!1;function pS(l){Qs===null?Qs=[l]:Qs.push(l)}function bI(l){Gm=!0,pS(l)}function Fi(){if(!lh&&Qs!==null){lh=!0;var l=0,c=cr;try{var g=Qs;for(cr=1;l<g.length;l++){var v=g[l];do v=v(!0);while(v!==null)}Qs=null,Gm=!1}catch(A){throw Qs!==null&&(Qs=Qs.slice(l+1)),mt(Tr,Fi),A}finally{cr=c,lh=!1}}return null}var Dl=[],Fl=0,Km=null,Xm=0,Rn=[],$n=0,Ao=null,Js=1,Zs="";function _o(l,c){Dl[Fl++]=Xm,Dl[Fl++]=Km,Km=l,Xm=c}function gS(l,c,g){Rn[$n++]=Js,Rn[$n++]=Zs,Rn[$n++]=Ao,Ao=l;var v=Js;l=Zs;var A=32-et(v)-1;v&=~(1<<A),g+=1;var M=32-et(c)+A;if(30<M){var V=A-A%5;M=(v&(1<<V)-1).toString(32),v>>=V,A-=V,Js=1<<32-et(c)+A|g<<A|v,Zs=M+l}else Js=1<<M|g<<A|v,Zs=l}function ch(l){l.return!==null&&(_o(l,1),gS(l,1,0))}function dh(l){for(;l===Km;)Km=Dl[--Fl],Dl[Fl]=null,Xm=Dl[--Fl],Dl[Fl]=null;for(;l===Ao;)Ao=Rn[--$n],Rn[$n]=null,Zs=Rn[--$n],Rn[$n]=null,Js=Rn[--$n],Rn[$n]=null}var xn=null,vn=null,qr=!1,ns=null;function hS(l,c){var g=Fn(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=l,c=l.deletions,c===null?(l.deletions=[g],l.flags|=16):c.push(g)}function yS(l,c){switch(l.tag){case 5:var g=l.type;return c=c.nodeType!==1||g.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,xn=l,vn=Li(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,xn=l,vn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(g=Ao!==null?{id:Js,overflow:Zs}:null,l.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=Fn(18,null,null,0),g.stateNode=c,g.return=l,l.child=g,xn=l,vn=null,!0):!1;default:return!1}}function uh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function mh(l){if(qr){var c=vn;if(c){var g=c;if(!yS(l,c)){if(uh(l))throw Error(a(418));c=Li(g.nextSibling);var v=xn;c&&yS(l,c)?hS(v,g):(l.flags=l.flags&-4097|2,qr=!1,xn=l)}}else{if(uh(l))throw Error(a(418));l.flags=l.flags&-4097|2,qr=!1,xn=l}}}function bS(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xn=l}function Ym(l){if(l!==xn)return!1;if(!qr)return bS(l),qr=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!ah(l.type,l.memoizedProps)),c&&(c=vn)){if(uh(l))throw xS(),Error(a(418));for(;c;)hS(l,c),c=Li(c.nextSibling)}if(bS(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"){if(c===0){vn=Li(l.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++}l=l.nextSibling}vn=null}}else vn=xn?Li(l.stateNode.nextSibling):null;return!0}function xS(){for(var l=vn;l;)l=Li(l.nextSibling)}function zl(){vn=xn=null,qr=!1}function fh(l){ns===null?ns=[l]:ns.push(l)}var xI=P.ReactCurrentBatchConfig;function Ad(l,c,g){if(l=g.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(a(309));var v=g.stateNode}if(!v)throw Error(a(147,l));var A=v,M=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===M?c.ref:(c=function(V){var te=A.refs;V===null?delete te[M]:te[M]=V},c._stringRef=M,c)}if(typeof l!="string")throw Error(a(284));if(!g._owner)throw Error(a(290,l))}return l}function Qm(l,c){throw l=Object.prototype.toString.call(c),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function vS(l){var c=l._init;return c(l._payload)}function ES(l){function c(Ee,me){if(l){var Se=Ee.deletions;Se===null?(Ee.deletions=[me],Ee.flags|=16):Se.push(me)}}function g(Ee,me){if(!l)return null;for(;me!==null;)c(Ee,me),me=me.sibling;return null}function v(Ee,me){for(Ee=new Map;me!==null;)me.key!==null?Ee.set(me.key,me):Ee.set(me.index,me),me=me.sibling;return Ee}function A(Ee,me){return Ee=Gi(Ee,me),Ee.index=0,Ee.sibling=null,Ee}function M(Ee,me,Se){return Ee.index=Se,l?(Se=Ee.alternate,Se!==null?(Se=Se.index,Se<me?(Ee.flags|=2,me):Se):(Ee.flags|=2,me)):(Ee.flags|=1048576,me)}function V(Ee){return l&&Ee.alternate===null&&(Ee.flags|=2),Ee}function te(Ee,me,Se,Ge){return me===null||me.tag!==6?(me=ny(Se,Ee.mode,Ge),me.return=Ee,me):(me=A(me,Se),me.return=Ee,me)}function ce(Ee,me,Se,Ge){var gt=Se.type;return gt===O?Ue(Ee,me,Se.props.children,Ge,Se.key):me!==null&&(me.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===J&&vS(gt)===me.type)?(Ge=A(me,Se.props),Ge.ref=Ad(Ee,me,Se),Ge.return=Ee,Ge):(Ge=wf(Se.type,Se.key,Se.props,null,Ee.mode,Ge),Ge.ref=Ad(Ee,me,Se),Ge.return=Ee,Ge)}function Ce(Ee,me,Se,Ge){return me===null||me.tag!==4||me.stateNode.containerInfo!==Se.containerInfo||me.stateNode.implementation!==Se.implementation?(me=sy(Se,Ee.mode,Ge),me.return=Ee,me):(me=A(me,Se.children||[]),me.return=Ee,me)}function Ue(Ee,me,Se,Ge,gt){return me===null||me.tag!==7?(me=Lo(Se,Ee.mode,Ge,gt),me.return=Ee,me):(me=A(me,Se),me.return=Ee,me)}function We(Ee,me,Se){if(typeof me=="string"&&me!==""||typeof me=="number")return me=ny(""+me,Ee.mode,Se),me.return=Ee,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return Se=wf(me.type,me.key,me.props,null,Ee.mode,Se),Se.ref=Ad(Ee,null,me),Se.return=Ee,Se;case _:return me=sy(me,Ee.mode,Se),me.return=Ee,me;case J:var Ge=me._init;return We(Ee,Ge(me._payload),Se)}if(bt(me)||H(me))return me=Lo(me,Ee.mode,Se,null),me.return=Ee,me;Qm(Ee,me)}return null}function qe(Ee,me,Se,Ge){var gt=me!==null?me.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return gt!==null?null:te(Ee,me,""+Se,Ge);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return Se.key===gt?ce(Ee,me,Se,Ge):null;case _:return Se.key===gt?Ce(Ee,me,Se,Ge):null;case J:return gt=Se._init,qe(Ee,me,gt(Se._payload),Ge)}if(bt(Se)||H(Se))return gt!==null?null:Ue(Ee,me,Se,Ge,null);Qm(Ee,Se)}return null}function at(Ee,me,Se,Ge,gt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ee=Ee.get(Se)||null,te(me,Ee,""+Ge,gt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case C:return Ee=Ee.get(Ge.key===null?Se:Ge.key)||null,ce(me,Ee,Ge,gt);case _:return Ee=Ee.get(Ge.key===null?Se:Ge.key)||null,Ce(me,Ee,Ge,gt);case J:var Ct=Ge._init;return at(Ee,me,Se,Ct(Ge._payload),gt)}if(bt(Ge)||H(Ge))return Ee=Ee.get(Se)||null,Ue(me,Ee,Ge,gt,null);Qm(me,Ge)}return null}function lt(Ee,me,Se,Ge){for(var gt=null,Ct=null,At=me,$t=me=0,Na=null;At!==null&&$t<Se.length;$t++){At.index>$t?(Na=At,At=null):Na=At.sibling;var ur=qe(Ee,At,Se[$t],Ge);if(ur===null){At===null&&(At=Na);break}l&&At&&ur.alternate===null&&c(Ee,At),me=M(ur,me,$t),Ct===null?gt=ur:Ct.sibling=ur,Ct=ur,At=Na}if($t===Se.length)return g(Ee,At),qr&&_o(Ee,$t),gt;if(At===null){for(;$t<Se.length;$t++)At=We(Ee,Se[$t],Ge),At!==null&&(me=M(At,me,$t),Ct===null?gt=At:Ct.sibling=At,Ct=At);return qr&&_o(Ee,$t),gt}for(At=v(Ee,At);$t<Se.length;$t++)Na=at(At,Ee,$t,Se[$t],Ge),Na!==null&&(l&&Na.alternate!==null&&At.delete(Na.key===null?$t:Na.key),me=M(Na,me,$t),Ct===null?gt=Na:Ct.sibling=Na,Ct=Na);return l&&At.forEach(function(Ki){return c(Ee,Ki)}),qr&&_o(Ee,$t),gt}function ft(Ee,me,Se,Ge){var gt=H(Se);if(typeof gt!="function")throw Error(a(150));if(Se=gt.call(Se),Se==null)throw Error(a(151));for(var Ct=gt=null,At=me,$t=me=0,Na=null,ur=Se.next();At!==null&&!ur.done;$t++,ur=Se.next()){At.index>$t?(Na=At,At=null):Na=At.sibling;var Ki=qe(Ee,At,ur.value,Ge);if(Ki===null){At===null&&(At=Na);break}l&&At&&Ki.alternate===null&&c(Ee,At),me=M(Ki,me,$t),Ct===null?gt=Ki:Ct.sibling=Ki,Ct=Ki,At=Na}if(ur.done)return g(Ee,At),qr&&_o(Ee,$t),gt;if(At===null){for(;!ur.done;$t++,ur=Se.next())ur=We(Ee,ur.value,Ge),ur!==null&&(me=M(ur,me,$t),Ct===null?gt=ur:Ct.sibling=ur,Ct=ur);return qr&&_o(Ee,$t),gt}for(At=v(Ee,At);!ur.done;$t++,ur=Se.next())ur=at(At,Ee,$t,ur.value,Ge),ur!==null&&(l&&ur.alternate!==null&&At.delete(ur.key===null?$t:ur.key),me=M(ur,me,$t),Ct===null?gt=ur:Ct.sibling=ur,Ct=ur);return l&&At.forEach(function(JI){return c(Ee,JI)}),qr&&_o(Ee,$t),gt}function ta(Ee,me,Se,Ge){if(typeof Se=="object"&&Se!==null&&Se.type===O&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:e:{for(var gt=Se.key,Ct=me;Ct!==null;){if(Ct.key===gt){if(gt=Se.type,gt===O){if(Ct.tag===7){g(Ee,Ct.sibling),me=A(Ct,Se.props.children),me.return=Ee,Ee=me;break e}}else if(Ct.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===J&&vS(gt)===Ct.type){g(Ee,Ct.sibling),me=A(Ct,Se.props),me.ref=Ad(Ee,Ct,Se),me.return=Ee,Ee=me;break e}g(Ee,Ct);break}else c(Ee,Ct);Ct=Ct.sibling}Se.type===O?(me=Lo(Se.props.children,Ee.mode,Ge,Se.key),me.return=Ee,Ee=me):(Ge=wf(Se.type,Se.key,Se.props,null,Ee.mode,Ge),Ge.ref=Ad(Ee,me,Se),Ge.return=Ee,Ee=Ge)}return V(Ee);case _:e:{for(Ct=Se.key;me!==null;){if(me.key===Ct)if(me.tag===4&&me.stateNode.containerInfo===Se.containerInfo&&me.stateNode.implementation===Se.implementation){g(Ee,me.sibling),me=A(me,Se.children||[]),me.return=Ee,Ee=me;break e}else{g(Ee,me);break}else c(Ee,me);me=me.sibling}me=sy(Se,Ee.mode,Ge),me.return=Ee,Ee=me}return V(Ee);case J:return Ct=Se._init,ta(Ee,me,Ct(Se._payload),Ge)}if(bt(Se))return lt(Ee,me,Se,Ge);if(H(Se))return ft(Ee,me,Se,Ge);Qm(Ee,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,me!==null&&me.tag===6?(g(Ee,me.sibling),me=A(me,Se),me.return=Ee,Ee=me):(g(Ee,me),me=ny(Se,Ee.mode,Ge),me.return=Ee,Ee=me),V(Ee)):g(Ee,me)}return ta}var Bl=ES(!0),wS=ES(!1),Jm=Ii(null),Zm=null,ql=null,ph=null;function gh(){ph=ql=Zm=null}function hh(l){var c=Jm.current;Ir(Jm),l._currentValue=c}function yh(l,c,g){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===g)break;l=l.return}}function Ul(l,c){Zm=l,ph=ql=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(ln=!0),l.firstContext=null)}function Ln(l){var c=l._currentValue;if(ph!==l)if(l={context:l,memoizedValue:c,next:null},ql===null){if(Zm===null)throw Error(a(308));ql=l,Zm.dependencies={lanes:0,firstContext:l}}else ql=ql.next=l;return c}var Po=null;function bh(l){Po===null?Po=[l]:Po.push(l)}function NS(l,c,g,v){var A=c.interleaved;return A===null?(g.next=g,bh(c)):(g.next=A.next,A.next=g),c.interleaved=g,ei(l,v)}function ei(l,c){l.lanes|=c;var g=l.alternate;for(g!==null&&(g.lanes|=c),g=l,l=l.return;l!==null;)l.childLanes|=c,g=l.alternate,g!==null&&(g.childLanes|=c),g=l,l=l.return;return g.tag===3?g.stateNode:null}var zi=!1;function xh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SS(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ti(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Bi(l,c,g){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(ir&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,ei(l,g)}return A=v.interleaved,A===null?(c.next=c,bh(v)):(c.next=A.next,A.next=c),v.interleaved=c,ei(l,g)}function ef(l,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var v=c.lanes;v&=l.pendingLanes,g|=v,c.lanes=g,Pi(l,g)}}function kS(l,c){var g=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var A=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var V={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?A=M=V:M=M.next=V,g=g.next}while(g!==null);M===null?A=M=c:M=M.next=c}else A=M=c;g={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:M,shared:v.shared,effects:v.effects},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=c:l.next=c,g.lastBaseUpdate=c}function tf(l,c,g,v){var A=l.updateQueue;zi=!1;var M=A.firstBaseUpdate,V=A.lastBaseUpdate,te=A.shared.pending;if(te!==null){A.shared.pending=null;var ce=te,Ce=ce.next;ce.next=null,V===null?M=Ce:V.next=Ce,V=ce;var Ue=l.alternate;Ue!==null&&(Ue=Ue.updateQueue,te=Ue.lastBaseUpdate,te!==V&&(te===null?Ue.firstBaseUpdate=Ce:te.next=Ce,Ue.lastBaseUpdate=ce))}if(M!==null){var We=A.baseState;V=0,Ue=Ce=ce=null,te=M;do{var qe=te.lane,at=te.eventTime;if((v&qe)===qe){Ue!==null&&(Ue=Ue.next={eventTime:at,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var lt=l,ft=te;switch(qe=c,at=g,ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){We=lt.call(at,We,qe);break e}We=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,qe=typeof lt=="function"?lt.call(at,We,qe):lt,qe==null)break e;We=I({},We,qe);break e;case 2:zi=!0}}te.callback!==null&&te.lane!==0&&(l.flags|=64,qe=A.effects,qe===null?A.effects=[te]:qe.push(te))}else at={eventTime:at,lane:qe,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ue===null?(Ce=Ue=at,ce=We):Ue=Ue.next=at,V|=qe;if(te=te.next,te===null){if(te=A.shared.pending,te===null)break;qe=te,te=qe.next,qe.next=null,A.lastBaseUpdate=qe,A.shared.pending=null}}while(!0);if(Ue===null&&(ce=We),A.baseState=ce,A.firstBaseUpdate=Ce,A.lastBaseUpdate=Ue,c=A.shared.interleaved,c!==null){A=c;do V|=A.lane,A=A.next;while(A!==c)}else M===null&&(A.shared.lanes=0);Mo|=V,l.lanes=V,l.memoizedState=We}}function CS(l,c,g){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var v=l[c],A=v.callback;if(A!==null){if(v.callback=null,v=g,typeof A!="function")throw Error(a(191,A));A.call(v)}}}var _d={},Ms=Ii(_d),Pd=Ii(_d),Td=Ii(_d);function To(l){if(l===_d)throw Error(a(174));return l}function vh(l,c){switch(Mr(Td,c),Mr(Pd,l),Mr(Ms,_d),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ut(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=ut(c,l)}Ir(Ms),Mr(Ms,c)}function Vl(){Ir(Ms),Ir(Pd),Ir(Td)}function AS(l){To(Td.current);var c=To(Ms.current),g=ut(c,l.type);c!==g&&(Mr(Pd,l),Mr(Ms,g))}function Eh(l){Pd.current===l&&(Ir(Ms),Ir(Pd))}var Vr=Ii(0);function rf(l){for(var c=l;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var wh=[];function Nh(){for(var l=0;l<wh.length;l++)wh[l]._workInProgressVersionPrimary=null;wh.length=0}var af=P.ReactCurrentDispatcher,Sh=P.ReactCurrentBatchConfig,Oo=0,Hr=null,ma=null,Ea=null,nf=!1,Od=!1,Md=0,vI=0;function Fa(){throw Error(a(321))}function kh(l,c){if(c===null)return!1;for(var g=0;g<c.length&&g<l.length;g++)if(!as(l[g],c[g]))return!1;return!0}function Ch(l,c,g,v,A,M){if(Oo=M,Hr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,af.current=l===null||l.memoizedState===null?SI:kI,l=g(v,A),Od){M=0;do{if(Od=!1,Md=0,25<=M)throw Error(a(301));M+=1,Ea=ma=null,c.updateQueue=null,af.current=CI,l=g(v,A)}while(Od)}if(af.current=lf,c=ma!==null&&ma.next!==null,Oo=0,Ea=ma=Hr=null,nf=!1,c)throw Error(a(300));return l}function Ah(){var l=Md!==0;return Md=0,l}function js(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?Hr.memoizedState=Ea=l:Ea=Ea.next=l,Ea}function In(){if(ma===null){var l=Hr.alternate;l=l!==null?l.memoizedState:null}else l=ma.next;var c=Ea===null?Hr.memoizedState:Ea.next;if(c!==null)Ea=c,ma=l;else{if(l===null)throw Error(a(310));ma=l,l={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},Ea===null?Hr.memoizedState=Ea=l:Ea=Ea.next=l}return Ea}function jd(l,c){return typeof c=="function"?c(l):c}function _h(l){var c=In(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var v=ma,A=v.baseQueue,M=g.pending;if(M!==null){if(A!==null){var V=A.next;A.next=M.next,M.next=V}v.baseQueue=A=M,g.pending=null}if(A!==null){M=A.next,v=v.baseState;var te=V=null,ce=null,Ce=M;do{var Ue=Ce.lane;if((Oo&Ue)===Ue)ce!==null&&(ce=ce.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),v=Ce.hasEagerState?Ce.eagerState:l(v,Ce.action);else{var We={lane:Ue,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ce===null?(te=ce=We,V=v):ce=ce.next=We,Hr.lanes|=Ue,Mo|=Ue}Ce=Ce.next}while(Ce!==null&&Ce!==M);ce===null?V=v:ce.next=te,as(v,c.memoizedState)||(ln=!0),c.memoizedState=v,c.baseState=V,c.baseQueue=ce,g.lastRenderedState=v}if(l=g.interleaved,l!==null){A=l;do M=A.lane,Hr.lanes|=M,Mo|=M,A=A.next;while(A!==l)}else A===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function Ph(l){var c=In(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var v=g.dispatch,A=g.pending,M=c.memoizedState;if(A!==null){g.pending=null;var V=A=A.next;do M=l(M,V.action),V=V.next;while(V!==A);as(M,c.memoizedState)||(ln=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),g.lastRenderedState=M}return[M,v]}function _S(){}function PS(l,c){var g=Hr,v=In(),A=c(),M=!as(v.memoizedState,A);if(M&&(v.memoizedState=A,ln=!0),v=v.queue,Th(MS.bind(null,g,v,l),[l]),v.getSnapshot!==c||M||Ea!==null&&Ea.memoizedState.tag&1){if(g.flags|=2048,Rd(9,OS.bind(null,g,v,A,c),void 0,null),wa===null)throw Error(a(349));(Oo&30)!==0||TS(g,c,A)}return A}function TS(l,c,g){l.flags|=16384,l={getSnapshot:c,value:g},c=Hr.updateQueue,c===null?(c={lastEffect:null,stores:null},Hr.updateQueue=c,c.stores=[l]):(g=c.stores,g===null?c.stores=[l]:g.push(l))}function OS(l,c,g,v){c.value=g,c.getSnapshot=v,jS(c)&&RS(l)}function MS(l,c,g){return g(function(){jS(c)&&RS(l)})}function jS(l){var c=l.getSnapshot;l=l.value;try{var g=c();return!as(l,g)}catch{return!0}}function RS(l){var c=ei(l,1);c!==null&&ls(c,l,1,-1)}function $S(l){var c=js();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:l},c.queue=l,l=l.dispatch=NI.bind(null,Hr,l),[c.memoizedState,l]}function Rd(l,c,g,v){return l={tag:l,create:c,destroy:g,deps:v,next:null},c=Hr.updateQueue,c===null?(c={lastEffect:null,stores:null},Hr.updateQueue=c,c.lastEffect=l.next=l):(g=c.lastEffect,g===null?c.lastEffect=l.next=l:(v=g.next,g.next=l,l.next=v,c.lastEffect=l)),l}function LS(){return In().memoizedState}function sf(l,c,g,v){var A=js();Hr.flags|=l,A.memoizedState=Rd(1|c,g,void 0,v===void 0?null:v)}function of(l,c,g,v){var A=In();v=v===void 0?null:v;var M=void 0;if(ma!==null){var V=ma.memoizedState;if(M=V.destroy,v!==null&&kh(v,V.deps)){A.memoizedState=Rd(c,g,M,v);return}}Hr.flags|=l,A.memoizedState=Rd(1|c,g,M,v)}function IS(l,c){return sf(8390656,8,l,c)}function Th(l,c){return of(2048,8,l,c)}function DS(l,c){return of(4,2,l,c)}function FS(l,c){return of(4,4,l,c)}function zS(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function BS(l,c,g){return g=g!=null?g.concat([l]):null,of(4,4,zS.bind(null,c,l),g)}function Oh(){}function qS(l,c){var g=In();c=c===void 0?null:c;var v=g.memoizedState;return v!==null&&c!==null&&kh(c,v[1])?v[0]:(g.memoizedState=[l,c],l)}function US(l,c){var g=In();c=c===void 0?null:c;var v=g.memoizedState;return v!==null&&c!==null&&kh(c,v[1])?v[0]:(l=l(),g.memoizedState=[l,c],l)}function VS(l,c,g){return(Oo&21)===0?(l.baseState&&(l.baseState=!1,ln=!0),l.memoizedState=g):(as(g,c)||(g=Ta(),Hr.lanes|=g,Mo|=g,l.baseState=!0),c)}function EI(l,c){var g=cr;cr=g!==0&&4>g?g:4,l(!0);var v=Sh.transition;Sh.transition={};try{l(!1),c()}finally{cr=g,Sh.transition=v}}function HS(){return In().memoizedState}function wI(l,c,g){var v=Hi(l);if(g={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null},WS(l))GS(c,g);else if(g=NS(l,c,g,v),g!==null){var A=Qa();ls(g,l,v,A),KS(g,c,v)}}function NI(l,c,g){var v=Hi(l),A={lane:v,action:g,hasEagerState:!1,eagerState:null,next:null};if(WS(l))GS(c,A);else{var M=l.alternate;if(l.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var V=c.lastRenderedState,te=M(V,g);if(A.hasEagerState=!0,A.eagerState=te,as(te,V)){var ce=c.interleaved;ce===null?(A.next=A,bh(c)):(A.next=ce.next,ce.next=A),c.interleaved=A;return}}catch{}g=NS(l,c,A,v),g!==null&&(A=Qa(),ls(g,l,v,A),KS(g,c,v))}}function WS(l){var c=l.alternate;return l===Hr||c!==null&&c===Hr}function GS(l,c){Od=nf=!0;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}function KS(l,c,g){if((g&4194240)!==0){var v=c.lanes;v&=l.pendingLanes,g|=v,c.lanes=g,Pi(l,g)}}var lf={readContext:Ln,useCallback:Fa,useContext:Fa,useEffect:Fa,useImperativeHandle:Fa,useInsertionEffect:Fa,useLayoutEffect:Fa,useMemo:Fa,useReducer:Fa,useRef:Fa,useState:Fa,useDebugValue:Fa,useDeferredValue:Fa,useTransition:Fa,useMutableSource:Fa,useSyncExternalStore:Fa,useId:Fa,unstable_isNewReconciler:!1},SI={readContext:Ln,useCallback:function(l,c){return js().memoizedState=[l,c===void 0?null:c],l},useContext:Ln,useEffect:IS,useImperativeHandle:function(l,c,g){return g=g!=null?g.concat([l]):null,sf(4194308,4,zS.bind(null,c,l),g)},useLayoutEffect:function(l,c){return sf(4194308,4,l,c)},useInsertionEffect:function(l,c){return sf(4,2,l,c)},useMemo:function(l,c){var g=js();return c=c===void 0?null:c,l=l(),g.memoizedState=[l,c],l},useReducer:function(l,c,g){var v=js();return c=g!==void 0?g(c):c,v.memoizedState=v.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},v.queue=l,l=l.dispatch=wI.bind(null,Hr,l),[v.memoizedState,l]},useRef:function(l){var c=js();return l={current:l},c.memoizedState=l},useState:$S,useDebugValue:Oh,useDeferredValue:function(l){return js().memoizedState=l},useTransition:function(){var l=$S(!1),c=l[0];return l=EI.bind(null,l[1]),js().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,g){var v=Hr,A=js();if(qr){if(g===void 0)throw Error(a(407));g=g()}else{if(g=c(),wa===null)throw Error(a(349));(Oo&30)!==0||TS(v,c,g)}A.memoizedState=g;var M={value:g,getSnapshot:c};return A.queue=M,IS(MS.bind(null,v,M,l),[l]),v.flags|=2048,Rd(9,OS.bind(null,v,M,g,c),void 0,null),g},useId:function(){var l=js(),c=wa.identifierPrefix;if(qr){var g=Zs,v=Js;g=(v&~(1<<32-et(v)-1)).toString(32)+g,c=":"+c+"R"+g,g=Md++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=vI++,c=":"+c+"r"+g.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},kI={readContext:Ln,useCallback:qS,useContext:Ln,useEffect:Th,useImperativeHandle:BS,useInsertionEffect:DS,useLayoutEffect:FS,useMemo:US,useReducer:_h,useRef:LS,useState:function(){return _h(jd)},useDebugValue:Oh,useDeferredValue:function(l){var c=In();return VS(c,ma.memoizedState,l)},useTransition:function(){var l=_h(jd)[0],c=In().memoizedState;return[l,c]},useMutableSource:_S,useSyncExternalStore:PS,useId:HS,unstable_isNewReconciler:!1},CI={readContext:Ln,useCallback:qS,useContext:Ln,useEffect:Th,useImperativeHandle:BS,useInsertionEffect:DS,useLayoutEffect:FS,useMemo:US,useReducer:Ph,useRef:LS,useState:function(){return Ph(jd)},useDebugValue:Oh,useDeferredValue:function(l){var c=In();return ma===null?c.memoizedState=l:VS(c,ma.memoizedState,l)},useTransition:function(){var l=Ph(jd)[0],c=In().memoizedState;return[l,c]},useMutableSource:_S,useSyncExternalStore:PS,useId:HS,unstable_isNewReconciler:!1};function ss(l,c){if(l&&l.defaultProps){c=I({},c),l=l.defaultProps;for(var g in l)c[g]===void 0&&(c[g]=l[g]);return c}return c}function Mh(l,c,g,v){c=l.memoizedState,g=g(v,c),g=g==null?c:I({},c,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var cf={isMounted:function(l){return(l=l._reactInternals)?er(l)===l:!1},enqueueSetState:function(l,c,g){l=l._reactInternals;var v=Qa(),A=Hi(l),M=ti(v,A);M.payload=c,g!=null&&(M.callback=g),c=Bi(l,M,A),c!==null&&(ls(c,l,A,v),ef(c,l,A))},enqueueReplaceState:function(l,c,g){l=l._reactInternals;var v=Qa(),A=Hi(l),M=ti(v,A);M.tag=1,M.payload=c,g!=null&&(M.callback=g),c=Bi(l,M,A),c!==null&&(ls(c,l,A,v),ef(c,l,A))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var g=Qa(),v=Hi(l),A=ti(g,v);A.tag=2,c!=null&&(A.callback=c),c=Bi(l,A,v),c!==null&&(ls(c,l,v,g),ef(c,l,v))}};function XS(l,c,g,v,A,M,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,M,V):c.prototype&&c.prototype.isPureReactComponent?!vd(g,v)||!vd(A,M):!0}function YS(l,c,g){var v=!1,A=Di,M=c.contextType;return typeof M=="object"&&M!==null?M=Ln(M):(A=on(c)?Co:Da.current,v=c.contextTypes,M=(v=v!=null)?Il(l,A):Di),c=new c(g,M),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cf,l.stateNode=c,c._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=M),c}function QS(l,c,g,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,v),c.state!==l&&cf.enqueueReplaceState(c,c.state,null)}function jh(l,c,g,v){var A=l.stateNode;A.props=g,A.state=l.memoizedState,A.refs={},xh(l);var M=c.contextType;typeof M=="object"&&M!==null?A.context=Ln(M):(M=on(c)?Co:Da.current,A.context=Il(l,M)),A.state=l.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Mh(l,c,M,g),A.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&cf.enqueueReplaceState(A,A.state,null),tf(l,g,A,v),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function Hl(l,c){try{var g="",v=c;do g+=he(v),v=v.return;while(v);var A=g}catch(M){A=`
Error generating stack: `+M.message+`
`+M.stack}return{value:l,source:c,stack:A,digest:null}}function Rh(l,c,g){return{value:l,source:null,stack:g??null,digest:c??null}}function $h(l,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var AI=typeof WeakMap=="function"?WeakMap:Map;function JS(l,c,g){g=ti(-1,g),g.tag=3,g.payload={element:null};var v=c.value;return g.callback=function(){hf||(hf=!0,Yh=v),$h(l,c)},g}function ZS(l,c,g){g=ti(-1,g),g.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var A=c.value;g.payload=function(){return v(A)},g.callback=function(){$h(l,c)}}var M=l.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){$h(l,c),typeof v!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),g}function ek(l,c,g){var v=l.pingCache;if(v===null){v=l.pingCache=new AI;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(g)||(A.add(g),l=BI.bind(null,l,c,g),c.then(l,l))}function tk(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function rk(l,c,g,v,A){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=ti(-1,1),c.tag=2,Bi(g,c,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var _I=P.ReactCurrentOwner,ln=!1;function Ya(l,c,g,v){c.child=l===null?wS(c,null,g,v):Bl(c,l.child,g,v)}function ak(l,c,g,v,A){g=g.render;var M=c.ref;return Ul(c,A),v=Ch(l,c,g,v,M,A),g=Ah(),l!==null&&!ln?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~A,ri(l,c,A)):(qr&&g&&ch(c),c.flags|=1,Ya(l,c,v,A),c.child)}function nk(l,c,g,v,A){if(l===null){var M=g.type;return typeof M=="function"&&!ay(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=M,sk(l,c,M,v,A)):(l=wf(g.type,null,v,c,c.mode,A),l.ref=c.ref,l.return=c,c.child=l)}if(M=l.child,(l.lanes&A)===0){var V=M.memoizedProps;if(g=g.compare,g=g!==null?g:vd,g(V,v)&&l.ref===c.ref)return ri(l,c,A)}return c.flags|=1,l=Gi(M,v),l.ref=c.ref,l.return=c,c.child=l}function sk(l,c,g,v,A){if(l!==null){var M=l.memoizedProps;if(vd(M,v)&&l.ref===c.ref)if(ln=!1,c.pendingProps=v=M,(l.lanes&A)!==0)(l.flags&131072)!==0&&(ln=!0);else return c.lanes=l.lanes,ri(l,c,A)}return Lh(l,c,g,v,A)}function ik(l,c,g){var v=c.pendingProps,A=v.children,M=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr(Gl,En),En|=g;else{if((g&1073741824)===0)return l=M!==null?M.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Mr(Gl,En),En|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=M!==null?M.baseLanes:g,Mr(Gl,En),En|=v}else M!==null?(v=M.baseLanes|g,c.memoizedState=null):v=g,Mr(Gl,En),En|=v;return Ya(l,c,A,g),c.child}function ok(l,c){var g=c.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function Lh(l,c,g,v,A){var M=on(g)?Co:Da.current;return M=Il(c,M),Ul(c,A),g=Ch(l,c,g,v,M,A),v=Ah(),l!==null&&!ln?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~A,ri(l,c,A)):(qr&&v&&ch(c),c.flags|=1,Ya(l,c,g,A),c.child)}function lk(l,c,g,v,A){if(on(g)){var M=!0;Wm(c)}else M=!1;if(Ul(c,A),c.stateNode===null)uf(l,c),YS(c,g,v),jh(c,g,v,A),v=!0;else if(l===null){var V=c.stateNode,te=c.memoizedProps;V.props=te;var ce=V.context,Ce=g.contextType;typeof Ce=="object"&&Ce!==null?Ce=Ln(Ce):(Ce=on(g)?Co:Da.current,Ce=Il(c,Ce));var Ue=g.getDerivedStateFromProps,We=typeof Ue=="function"||typeof V.getSnapshotBeforeUpdate=="function";We||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==v||ce!==Ce)&&QS(c,V,v,Ce),zi=!1;var qe=c.memoizedState;V.state=qe,tf(c,v,V,A),ce=c.memoizedState,te!==v||qe!==ce||sn.current||zi?(typeof Ue=="function"&&(Mh(c,g,Ue,v),ce=c.memoizedState),(te=zi||XS(c,g,te,v,qe,ce,Ce))?(We||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ce),V.props=v,V.state=ce,V.context=Ce,v=te):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{V=c.stateNode,SS(l,c),te=c.memoizedProps,Ce=c.type===c.elementType?te:ss(c.type,te),V.props=Ce,We=c.pendingProps,qe=V.context,ce=g.contextType,typeof ce=="object"&&ce!==null?ce=Ln(ce):(ce=on(g)?Co:Da.current,ce=Il(c,ce));var at=g.getDerivedStateFromProps;(Ue=typeof at=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==We||qe!==ce)&&QS(c,V,v,ce),zi=!1,qe=c.memoizedState,V.state=qe,tf(c,v,V,A);var lt=c.memoizedState;te!==We||qe!==lt||sn.current||zi?(typeof at=="function"&&(Mh(c,g,at,v),lt=c.memoizedState),(Ce=zi||XS(c,g,Ce,v,qe,lt,ce)||!1)?(Ue||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,lt,ce),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,lt,ce)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=lt),V.props=v,V.state=lt,V.context=ce,v=Ce):(typeof V.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(c.flags|=1024),v=!1)}return Ih(l,c,g,v,M,A)}function Ih(l,c,g,v,A,M){ok(l,c);var V=(c.flags&128)!==0;if(!v&&!V)return A&&fS(c,g,!1),ri(l,c,M);v=c.stateNode,_I.current=c;var te=V&&typeof g.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,l!==null&&V?(c.child=Bl(c,l.child,null,M),c.child=Bl(c,null,te,M)):Ya(l,c,te,M),c.memoizedState=v.state,A&&fS(c,g,!0),c.child}function ck(l){var c=l.stateNode;c.pendingContext?uS(l,c.pendingContext,c.pendingContext!==c.context):c.context&&uS(l,c.context,!1),vh(l,c.containerInfo)}function dk(l,c,g,v,A){return zl(),fh(A),c.flags|=256,Ya(l,c,g,v),c.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Fh(l){return{baseLanes:l,cachePool:null,transitions:null}}function uk(l,c,g){var v=c.pendingProps,A=Vr.current,M=!1,V=(c.flags&128)!==0,te;if((te=V)||(te=l!==null&&l.memoizedState===null?!1:(A&2)!==0),te?(M=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),Mr(Vr,A&1),l===null)return mh(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=v.children,l=v.fallback,M?(v=c.mode,M=c.child,V={mode:"hidden",children:V},(v&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=V):M=Nf(V,v,0,null),l=Lo(l,v,g,null),M.return=c,l.return=c,M.sibling=l,c.child=M,c.child.memoizedState=Fh(g),c.memoizedState=Dh,l):zh(c,V));if(A=l.memoizedState,A!==null&&(te=A.dehydrated,te!==null))return PI(l,c,V,v,te,A,g);if(M){M=v.fallback,V=c.mode,A=l.child,te=A.sibling;var ce={mode:"hidden",children:v.children};return(V&1)===0&&c.child!==A?(v=c.child,v.childLanes=0,v.pendingProps=ce,c.deletions=null):(v=Gi(A,ce),v.subtreeFlags=A.subtreeFlags&14680064),te!==null?M=Gi(te,M):(M=Lo(M,V,g,null),M.flags|=2),M.return=c,v.return=c,v.sibling=M,c.child=v,v=M,M=c.child,V=l.child.memoizedState,V=V===null?Fh(g):{baseLanes:V.baseLanes|g,cachePool:null,transitions:V.transitions},M.memoizedState=V,M.childLanes=l.childLanes&~g,c.memoizedState=Dh,v}return M=l.child,l=M.sibling,v=Gi(M,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=g),v.return=c,v.sibling=null,l!==null&&(g=c.deletions,g===null?(c.deletions=[l],c.flags|=16):g.push(l)),c.child=v,c.memoizedState=null,v}function zh(l,c){return c=Nf({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function df(l,c,g,v){return v!==null&&fh(v),Bl(c,l.child,null,g),l=zh(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function PI(l,c,g,v,A,M,V){if(g)return c.flags&256?(c.flags&=-257,v=Rh(Error(a(422))),df(l,c,V,v)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(M=v.fallback,A=c.mode,v=Nf({mode:"visible",children:v.children},A,0,null),M=Lo(M,A,V,null),M.flags|=2,v.return=c,M.return=c,v.sibling=M,c.child=v,(c.mode&1)!==0&&Bl(c,l.child,null,V),c.child.memoizedState=Fh(V),c.memoizedState=Dh,M);if((c.mode&1)===0)return df(l,c,V,null);if(A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var te=v.dgst;return v=te,M=Error(a(419)),v=Rh(M,v,void 0),df(l,c,V,v)}if(te=(V&l.childLanes)!==0,ln||te){if(v=wa,v!==null){switch(V&-V){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(v.suspendedLanes|V))!==0?0:A,A!==0&&A!==M.retryLane&&(M.retryLane=A,ei(l,A),ls(v,l,A,-1))}return ry(),v=Rh(Error(a(421))),df(l,c,V,v)}return A.data==="$?"?(c.flags|=128,c.child=l.child,c=qI.bind(null,l),A._reactRetry=c,null):(l=M.treeContext,vn=Li(A.nextSibling),xn=c,qr=!0,ns=null,l!==null&&(Rn[$n++]=Js,Rn[$n++]=Zs,Rn[$n++]=Ao,Js=l.id,Zs=l.overflow,Ao=c),c=zh(c,v.children),c.flags|=4096,c)}function mk(l,c,g){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),yh(l.return,c,g)}function Bh(l,c,g,v,A){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:A}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=v,M.tail=g,M.tailMode=A)}function fk(l,c,g){var v=c.pendingProps,A=v.revealOrder,M=v.tail;if(Ya(l,c,v.children,g),v=Vr.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&mk(l,g,c);else if(l.tag===19)mk(l,g,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Mr(Vr,v),(c.mode&1)===0)c.memoizedState=null;else switch(A){case"forwards":for(g=c.child,A=null;g!==null;)l=g.alternate,l!==null&&rf(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=c.child,c.child=null):(A=g.sibling,g.sibling=null),Bh(c,!1,A,g,M);break;case"backwards":for(g=null,A=c.child,c.child=null;A!==null;){if(l=A.alternate,l!==null&&rf(l)===null){c.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}Bh(c,!0,g,null,M);break;case"together":Bh(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function uf(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function ri(l,c,g){if(l!==null&&(c.dependencies=l.dependencies),Mo|=c.lanes,(g&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(a(153));if(c.child!==null){for(l=c.child,g=Gi(l,l.pendingProps),c.child=g,g.return=c;l.sibling!==null;)l=l.sibling,g=g.sibling=Gi(l,l.pendingProps),g.return=c;g.sibling=null}return c.child}function TI(l,c,g){switch(c.tag){case 3:ck(c),zl();break;case 5:AS(c);break;case 1:on(c.type)&&Wm(c);break;case 4:vh(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,A=c.memoizedProps.value;Mr(Jm,v._currentValue),v._currentValue=A;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(Mr(Vr,Vr.current&1),c.flags|=128,null):(g&c.child.childLanes)!==0?uk(l,c,g):(Mr(Vr,Vr.current&1),l=ri(l,c,g),l!==null?l.sibling:null);Mr(Vr,Vr.current&1);break;case 19:if(v=(g&c.childLanes)!==0,(l.flags&128)!==0){if(v)return fk(l,c,g);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Mr(Vr,Vr.current),v)break;return null;case 22:case 23:return c.lanes=0,ik(l,c,g)}return ri(l,c,g)}var pk,qh,gk,hk;pk=function(l,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)l.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},qh=function(){},gk=function(l,c,g,v){var A=l.memoizedProps;if(A!==v){l=c.stateNode,To(Ms.current);var M=null;switch(g){case"input":A=Me(l,A),v=Me(l,v),M=[];break;case"select":A=I({},A,{value:void 0}),v=I({},v,{value:void 0}),M=[];break;case"textarea":A=nt(l,A),v=nt(l,v),M=[];break;default:typeof A.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=Um)}Z(g,v);var V;g=null;for(Ce in A)if(!v.hasOwnProperty(Ce)&&A.hasOwnProperty(Ce)&&A[Ce]!=null)if(Ce==="style"){var te=A[Ce];for(V in te)te.hasOwnProperty(V)&&(g||(g={}),g[V]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(s.hasOwnProperty(Ce)?M||(M=[]):(M=M||[]).push(Ce,null));for(Ce in v){var ce=v[Ce];if(te=A?.[Ce],v.hasOwnProperty(Ce)&&ce!==te&&(ce!=null||te!=null))if(Ce==="style")if(te){for(V in te)!te.hasOwnProperty(V)||ce&&ce.hasOwnProperty(V)||(g||(g={}),g[V]="");for(V in ce)ce.hasOwnProperty(V)&&te[V]!==ce[V]&&(g||(g={}),g[V]=ce[V])}else g||(M||(M=[]),M.push(Ce,g)),g=ce;else Ce==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,te=te?te.__html:void 0,ce!=null&&te!==ce&&(M=M||[]).push(Ce,ce)):Ce==="children"?typeof ce!="string"&&typeof ce!="number"||(M=M||[]).push(Ce,""+ce):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ce)?(ce!=null&&Ce==="onScroll"&&Lr("scroll",l),M||te===ce||(M=[])):(M=M||[]).push(Ce,ce))}g&&(M=M||[]).push("style",g);var Ce=M;(c.updateQueue=Ce)&&(c.flags|=4)}},hk=function(l,c,g,v){g!==v&&(c.flags|=4)};function $d(l,c){if(!qr)switch(l.tailMode){case"hidden":c=l.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function za(l){var c=l.alternate!==null&&l.alternate.child===l.child,g=0,v=0;if(c)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,v|=A.subtreeFlags&14680064,v|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=g,c}function OI(l,c,g){var v=c.pendingProps;switch(dh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(c),null;case 1:return on(c.type)&&Hm(),za(c),null;case 3:return v=c.stateNode,Vl(),Ir(sn),Ir(Da),Nh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Ym(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ns!==null&&(Zh(ns),ns=null))),qh(l,c),za(c),null;case 5:Eh(c);var A=To(Td.current);if(g=c.type,l!==null&&c.stateNode!=null)gk(l,c,g,v,A),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(a(166));return za(c),null}if(l=To(Ms.current),Ym(c)){v=c.stateNode,g=c.type;var M=c.memoizedProps;switch(v[Os]=c,v[kd]=M,l=(c.mode&1)!==0,g){case"dialog":Lr("cancel",v),Lr("close",v);break;case"iframe":case"object":case"embed":Lr("load",v);break;case"video":case"audio":for(A=0;A<wd.length;A++)Lr(wd[A],v);break;case"source":Lr("error",v);break;case"img":case"image":case"link":Lr("error",v),Lr("load",v);break;case"details":Lr("toggle",v);break;case"input":ge(v,M),Lr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!M.multiple},Lr("invalid",v);break;case"textarea":ct(v,M),Lr("invalid",v)}Z(g,M),A=null;for(var V in M)if(M.hasOwnProperty(V)){var te=M[V];V==="children"?typeof te=="string"?v.textContent!==te&&(M.suppressHydrationWarning!==!0&&qm(v.textContent,te,l),A=["children",te]):typeof te=="number"&&v.textContent!==""+te&&(M.suppressHydrationWarning!==!0&&qm(v.textContent,te,l),A=["children",""+te]):s.hasOwnProperty(V)&&te!=null&&V==="onScroll"&&Lr("scroll",v)}switch(g){case"input":Ne(v),Ye(v,M,!0);break;case"textarea":Ne(v),Zt(v);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(v.onclick=Um)}v=A,c.updateQueue=v,v!==null&&(c.flags|=4)}else{V=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=pt(g)),l==="http://www.w3.org/1999/xhtml"?g==="script"?(l=V.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=V.createElement(g,{is:v.is}):(l=V.createElement(g),g==="select"&&(V=l,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):l=V.createElementNS(l,g),l[Os]=c,l[kd]=v,pk(l,c,!1,!1),c.stateNode=l;e:{switch(V=xe(g,v),g){case"dialog":Lr("cancel",l),Lr("close",l),A=v;break;case"iframe":case"object":case"embed":Lr("load",l),A=v;break;case"video":case"audio":for(A=0;A<wd.length;A++)Lr(wd[A],l);A=v;break;case"source":Lr("error",l),A=v;break;case"img":case"image":case"link":Lr("error",l),Lr("load",l),A=v;break;case"details":Lr("toggle",l),A=v;break;case"input":ge(l,v),A=Me(l,v),Lr("invalid",l);break;case"option":A=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},A=I({},v,{value:void 0}),Lr("invalid",l);break;case"textarea":ct(l,v),A=nt(l,v),Lr("invalid",l);break;default:A=v}Z(g,A),te=A;for(M in te)if(te.hasOwnProperty(M)){var ce=te[M];M==="style"?ot(l,ce):M==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&zt(l,ce)):M==="children"?typeof ce=="string"?(g!=="textarea"||ce!=="")&&nr(l,ce):typeof ce=="number"&&nr(l,""+ce):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?ce!=null&&M==="onScroll"&&Lr("scroll",l):ce!=null&&k(l,M,ce,V))}switch(g){case"input":Ne(l),Ye(l,v,!1);break;case"textarea":Ne(l),Zt(l);break;case"option":v.value!=null&&l.setAttribute("value",""+ee(v.value));break;case"select":l.multiple=!!v.multiple,M=v.value,M!=null?Ze(l,!!v.multiple,M,!1):v.defaultValue!=null&&Ze(l,!!v.multiple,v.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=Um)}switch(g){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return za(c),null;case 6:if(l&&c.stateNode!=null)hk(l,c,l.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(a(166));if(g=To(Td.current),To(Ms.current),Ym(c)){if(v=c.stateNode,g=c.memoizedProps,v[Os]=c,(M=v.nodeValue!==g)&&(l=xn,l!==null))switch(l.tag){case 3:qm(v.nodeValue,g,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&qm(v.nodeValue,g,(l.mode&1)!==0)}M&&(c.flags|=4)}else v=(g.nodeType===9?g:g.ownerDocument).createTextNode(v),v[Os]=c,c.stateNode=v}return za(c),null;case 13:if(Ir(Vr),v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(qr&&vn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)xS(),zl(),c.flags|=98560,M=!1;else if(M=Ym(c),v!==null&&v.dehydrated!==null){if(l===null){if(!M)throw Error(a(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(a(317));M[Os]=c}else zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;za(c),M=!1}else ns!==null&&(Zh(ns),ns=null),M=!0;if(!M)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=g,c):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Vr.current&1)!==0?fa===0&&(fa=3):ry())),c.updateQueue!==null&&(c.flags|=4),za(c),null);case 4:return Vl(),qh(l,c),l===null&&Nd(c.stateNode.containerInfo),za(c),null;case 10:return hh(c.type._context),za(c),null;case 17:return on(c.type)&&Hm(),za(c),null;case 19:if(Ir(Vr),M=c.memoizedState,M===null)return za(c),null;if(v=(c.flags&128)!==0,V=M.rendering,V===null)if(v)$d(M,!1);else{if(fa!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(V=rf(l),V!==null){for(c.flags|=128,$d(M,!1),v=V.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=g,g=c.child;g!==null;)M=g,l=v,M.flags&=14680066,V=M.alternate,V===null?(M.childLanes=0,M.lanes=l,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=V.childLanes,M.lanes=V.lanes,M.child=V.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=V.memoizedProps,M.memoizedState=V.memoizedState,M.updateQueue=V.updateQueue,M.type=V.type,l=V.dependencies,M.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),g=g.sibling;return Mr(Vr,Vr.current&1|2),c.child}l=l.sibling}M.tail!==null&&Ft()>Kl&&(c.flags|=128,v=!0,$d(M,!1),c.lanes=4194304)}else{if(!v)if(l=rf(V),l!==null){if(c.flags|=128,v=!0,g=l.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),$d(M,!0),M.tail===null&&M.tailMode==="hidden"&&!V.alternate&&!qr)return za(c),null}else 2*Ft()-M.renderingStartTime>Kl&&g!==1073741824&&(c.flags|=128,v=!0,$d(M,!1),c.lanes=4194304);M.isBackwards?(V.sibling=c.child,c.child=V):(g=M.last,g!==null?g.sibling=V:c.child=V,M.last=V)}return M.tail!==null?(c=M.tail,M.rendering=c,M.tail=c.sibling,M.renderingStartTime=Ft(),c.sibling=null,g=Vr.current,Mr(Vr,v?g&1|2:g&1),c):(za(c),null);case 22:case 23:return ty(),v=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(En&1073741824)!==0&&(za(c),c.subtreeFlags&6&&(c.flags|=8192)):za(c),null;case 24:return null;case 25:return null}throw Error(a(156,c.tag))}function MI(l,c){switch(dh(c),c.tag){case 1:return on(c.type)&&Hm(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Vl(),Ir(sn),Ir(Da),Nh(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return Eh(c),null;case 13:if(Ir(Vr),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(a(340));zl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Ir(Vr),null;case 4:return Vl(),null;case 10:return hh(c.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var mf=!1,Ba=!1,jI=typeof WeakSet=="function"?WeakSet:Set,st=null;function Wl(l,c){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(v){Qr(l,c,v)}else g.current=null}function Uh(l,c,g){try{g()}catch(v){Qr(l,c,v)}}var yk=!1;function RI(l,c){if(th=Fe,l=X2(),Gg(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var A=v.anchorOffset,M=v.focusNode;v=v.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var V=0,te=-1,ce=-1,Ce=0,Ue=0,We=l,qe=null;t:for(;;){for(var at;We!==g||A!==0&&We.nodeType!==3||(te=V+A),We!==M||v!==0&&We.nodeType!==3||(ce=V+v),We.nodeType===3&&(V+=We.nodeValue.length),(at=We.firstChild)!==null;)qe=We,We=at;for(;;){if(We===l)break t;if(qe===g&&++Ce===A&&(te=V),qe===M&&++Ue===v&&(ce=V),(at=We.nextSibling)!==null)break;We=qe,qe=We.parentNode}We=at}g=te===-1||ce===-1?null:{start:te,end:ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(rh={focusedElem:l,selectionRange:g},Fe=!1,st=c;st!==null;)if(c=st,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,st=l;else for(;st!==null;){c=st;try{var lt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ft=lt.memoizedProps,ta=lt.memoizedState,Ee=c.stateNode,me=Ee.getSnapshotBeforeUpdate(c.elementType===c.type?ft:ss(c.type,ft),ta);Ee.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Se=c.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ge){Qr(c,c.return,Ge)}if(l=c.sibling,l!==null){l.return=c.return,st=l;break}st=c.return}return lt=yk,yk=!1,lt}function Ld(l,c,g){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&l)===l){var M=A.destroy;A.destroy=void 0,M!==void 0&&Uh(c,g,M)}A=A.next}while(A!==v)}}function ff(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&l)===l){var v=g.create;g.destroy=v()}g=g.next}while(g!==c)}}function Vh(l){var c=l.ref;if(c!==null){var g=l.stateNode;l.tag,l=g,typeof c=="function"?c(l):c.current=l}}function bk(l){var c=l.alternate;c!==null&&(l.alternate=null,bk(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Os],delete c[kd],delete c[ih],delete c[hI],delete c[yI])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function xk(l){return l.tag===5||l.tag===3||l.tag===4}function vk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xk(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Hh(l,c,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(l,c):g.insertBefore(l,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(l,g)):(c=g,c.appendChild(l)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=Um));else if(v!==4&&(l=l.child,l!==null))for(Hh(l,c,g),l=l.sibling;l!==null;)Hh(l,c,g),l=l.sibling}function Wh(l,c,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?g.insertBefore(l,c):g.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(Wh(l,c,g),l=l.sibling;l!==null;)Wh(l,c,g),l=l.sibling}var Oa=null,is=!1;function qi(l,c,g){for(g=g.child;g!==null;)Ek(l,c,g),g=g.sibling}function Ek(l,c,g){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(ts,g)}catch{}switch(g.tag){case 5:Ba||Wl(g,c);case 6:var v=Oa,A=is;Oa=null,qi(l,c,g),Oa=v,is=A,Oa!==null&&(is?(l=Oa,g=g.stateNode,l.nodeType===8?l.parentNode.removeChild(g):l.removeChild(g)):Oa.removeChild(g.stateNode));break;case 18:Oa!==null&&(is?(l=Oa,g=g.stateNode,l.nodeType===8?sh(l.parentNode,g):l.nodeType===1&&sh(l,g),Ri(l)):sh(Oa,g.stateNode));break;case 4:v=Oa,A=is,Oa=g.stateNode.containerInfo,is=!0,qi(l,c,g),Oa=v,is=A;break;case 0:case 11:case 14:case 15:if(!Ba&&(v=g.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){A=v=v.next;do{var M=A,V=M.destroy;M=M.tag,V!==void 0&&((M&2)!==0||(M&4)!==0)&&Uh(g,c,V),A=A.next}while(A!==v)}qi(l,c,g);break;case 1:if(!Ba&&(Wl(g,c),v=g.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=g.memoizedProps,v.state=g.memoizedState,v.componentWillUnmount()}catch(te){Qr(g,c,te)}qi(l,c,g);break;case 21:qi(l,c,g);break;case 22:g.mode&1?(Ba=(v=Ba)||g.memoizedState!==null,qi(l,c,g),Ba=v):qi(l,c,g);break;default:qi(l,c,g)}}function wk(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new jI),c.forEach(function(v){var A=UI.bind(null,l,v);g.has(v)||(g.add(v),v.then(A,A))})}}function os(l,c){var g=c.deletions;if(g!==null)for(var v=0;v<g.length;v++){var A=g[v];try{var M=l,V=c,te=V;e:for(;te!==null;){switch(te.tag){case 5:Oa=te.stateNode,is=!1;break e;case 3:Oa=te.stateNode.containerInfo,is=!0;break e;case 4:Oa=te.stateNode.containerInfo,is=!0;break e}te=te.return}if(Oa===null)throw Error(a(160));Ek(M,V,A),Oa=null,is=!1;var ce=A.alternate;ce!==null&&(ce.return=null),A.return=null}catch(Ce){Qr(A,c,Ce)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Nk(c,l),c=c.sibling}function Nk(l,c){var g=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(os(c,l),Rs(l),v&4){try{Ld(3,l,l.return),ff(3,l)}catch(ft){Qr(l,l.return,ft)}try{Ld(5,l,l.return)}catch(ft){Qr(l,l.return,ft)}}break;case 1:os(c,l),Rs(l),v&512&&g!==null&&Wl(g,g.return);break;case 5:if(os(c,l),Rs(l),v&512&&g!==null&&Wl(g,g.return),l.flags&32){var A=l.stateNode;try{nr(A,"")}catch(ft){Qr(l,l.return,ft)}}if(v&4&&(A=l.stateNode,A!=null)){var M=l.memoizedProps,V=g!==null?g.memoizedProps:M,te=l.type,ce=l.updateQueue;if(l.updateQueue=null,ce!==null)try{te==="input"&&M.type==="radio"&&M.name!=null&&$e(A,M),xe(te,V);var Ce=xe(te,M);for(V=0;V<ce.length;V+=2){var Ue=ce[V],We=ce[V+1];Ue==="style"?ot(A,We):Ue==="dangerouslySetInnerHTML"?zt(A,We):Ue==="children"?nr(A,We):k(A,Ue,We,Ce)}switch(te){case"input":De(A,M);break;case"textarea":vt(A,M);break;case"select":var qe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!M.multiple;var at=M.value;at!=null?Ze(A,!!M.multiple,at,!1):qe!==!!M.multiple&&(M.defaultValue!=null?Ze(A,!!M.multiple,M.defaultValue,!0):Ze(A,!!M.multiple,M.multiple?[]:"",!1))}A[kd]=M}catch(ft){Qr(l,l.return,ft)}}break;case 6:if(os(c,l),Rs(l),v&4){if(l.stateNode===null)throw Error(a(162));A=l.stateNode,M=l.memoizedProps;try{A.nodeValue=M}catch(ft){Qr(l,l.return,ft)}}break;case 3:if(os(c,l),Rs(l),v&4&&g!==null&&g.memoizedState.isDehydrated)try{Ri(c.containerInfo)}catch(ft){Qr(l,l.return,ft)}break;case 4:os(c,l),Rs(l);break;case 13:os(c,l),Rs(l),A=l.child,A.flags&8192&&(M=A.memoizedState!==null,A.stateNode.isHidden=M,!M||A.alternate!==null&&A.alternate.memoizedState!==null||(Xh=Ft())),v&4&&wk(l);break;case 22:if(Ue=g!==null&&g.memoizedState!==null,l.mode&1?(Ba=(Ce=Ba)||Ue,os(c,l),Ba=Ce):os(c,l),Rs(l),v&8192){if(Ce=l.memoizedState!==null,(l.stateNode.isHidden=Ce)&&!Ue&&(l.mode&1)!==0)for(st=l,Ue=l.child;Ue!==null;){for(We=st=Ue;st!==null;){switch(qe=st,at=qe.child,qe.tag){case 0:case 11:case 14:case 15:Ld(4,qe,qe.return);break;case 1:Wl(qe,qe.return);var lt=qe.stateNode;if(typeof lt.componentWillUnmount=="function"){v=qe,g=qe.return;try{c=v,lt.props=c.memoizedProps,lt.state=c.memoizedState,lt.componentWillUnmount()}catch(ft){Qr(v,g,ft)}}break;case 5:Wl(qe,qe.return);break;case 22:if(qe.memoizedState!==null){Ck(We);continue}}at!==null?(at.return=qe,st=at):Ck(We)}Ue=Ue.sibling}e:for(Ue=null,We=l;;){if(We.tag===5){if(Ue===null){Ue=We;try{A=We.stateNode,Ce?(M=A.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(te=We.stateNode,ce=We.memoizedProps.style,V=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,te.style.display=we("display",V))}catch(ft){Qr(l,l.return,ft)}}}else if(We.tag===6){if(Ue===null)try{We.stateNode.nodeValue=Ce?"":We.memoizedProps}catch(ft){Qr(l,l.return,ft)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===l)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===l)break e;for(;We.sibling===null;){if(We.return===null||We.return===l)break e;Ue===We&&(Ue=null),We=We.return}Ue===We&&(Ue=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:os(c,l),Rs(l),v&4&&wk(l);break;case 21:break;default:os(c,l),Rs(l)}}function Rs(l){var c=l.flags;if(c&2){try{e:{for(var g=l.return;g!==null;){if(xk(g)){var v=g;break e}g=g.return}throw Error(a(160))}switch(v.tag){case 5:var A=v.stateNode;v.flags&32&&(nr(A,""),v.flags&=-33);var M=vk(l);Wh(l,M,A);break;case 3:case 4:var V=v.stateNode.containerInfo,te=vk(l);Hh(l,te,V);break;default:throw Error(a(161))}}catch(ce){Qr(l,l.return,ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function $I(l,c,g){st=l,Sk(l)}function Sk(l,c,g){for(var v=(l.mode&1)!==0;st!==null;){var A=st,M=A.child;if(A.tag===22&&v){var V=A.memoizedState!==null||mf;if(!V){var te=A.alternate,ce=te!==null&&te.memoizedState!==null||Ba;te=mf;var Ce=Ba;if(mf=V,(Ba=ce)&&!Ce)for(st=A;st!==null;)V=st,ce=V.child,V.tag===22&&V.memoizedState!==null?Ak(A):ce!==null?(ce.return=V,st=ce):Ak(A);for(;M!==null;)st=M,Sk(M),M=M.sibling;st=A,mf=te,Ba=Ce}kk(l)}else(A.subtreeFlags&8772)!==0&&M!==null?(M.return=A,st=M):kk(l)}}function kk(l){for(;st!==null;){var c=st;if((c.flags&8772)!==0){var g=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Ba||ff(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!Ba)if(g===null)v.componentDidMount();else{var A=c.elementType===c.type?g.memoizedProps:ss(c.type,g.memoizedProps);v.componentDidUpdate(A,g.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var M=c.updateQueue;M!==null&&CS(c,M,v);break;case 3:var V=c.updateQueue;if(V!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=c.child.stateNode;break;case 1:g=c.child.stateNode}CS(c,V,g)}break;case 5:var te=c.stateNode;if(g===null&&c.flags&4){g=te;var ce=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&g.focus();break;case"img":ce.src&&(g.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Ce=c.alternate;if(Ce!==null){var Ue=Ce.memoizedState;if(Ue!==null){var We=Ue.dehydrated;We!==null&&Ri(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ba||c.flags&512&&Vh(c)}catch(qe){Qr(c,c.return,qe)}}if(c===l){st=null;break}if(g=c.sibling,g!==null){g.return=c.return,st=g;break}st=c.return}}function Ck(l){for(;st!==null;){var c=st;if(c===l){st=null;break}var g=c.sibling;if(g!==null){g.return=c.return,st=g;break}st=c.return}}function Ak(l){for(;st!==null;){var c=st;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{ff(4,c)}catch(ce){Qr(c,g,ce)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var A=c.return;try{v.componentDidMount()}catch(ce){Qr(c,A,ce)}}var M=c.return;try{Vh(c)}catch(ce){Qr(c,M,ce)}break;case 5:var V=c.return;try{Vh(c)}catch(ce){Qr(c,V,ce)}}}catch(ce){Qr(c,c.return,ce)}if(c===l){st=null;break}var te=c.sibling;if(te!==null){te.return=c.return,st=te;break}st=c.return}}var LI=Math.ceil,pf=P.ReactCurrentDispatcher,Gh=P.ReactCurrentOwner,Dn=P.ReactCurrentBatchConfig,ir=0,wa=null,ia=null,Ma=0,En=0,Gl=Ii(0),fa=0,Id=null,Mo=0,gf=0,Kh=0,Dd=null,cn=null,Xh=0,Kl=1/0,ai=null,hf=!1,Yh=null,Ui=null,yf=!1,Vi=null,bf=0,Fd=0,Qh=null,xf=-1,vf=0;function Qa(){return(ir&6)!==0?Ft():xf!==-1?xf:xf=Ft()}function Hi(l){return(l.mode&1)===0?1:(ir&2)!==0&&Ma!==0?Ma&-Ma:xI.transition!==null?(vf===0&&(vf=Ta()),vf):(l=cr,l!==0||(l=window.event,l=l===void 0?16:Or(l.type)),l)}function ls(l,c,g,v){if(50<Fd)throw Fd=0,Qh=null,Error(a(185));As(l,g,v),((ir&2)===0||l!==wa)&&(l===wa&&((ir&2)===0&&(gf|=g),fa===4&&Wi(l,Ma)),dn(l,v),g===1&&ir===0&&(c.mode&1)===0&&(Kl=Ft()+500,Gm&&Fi()))}function dn(l,c){var g=l.callbackNode;tr(l,c);var v=Le(l,l===wa?Ma:0);if(v===0)g!==null&&Dt(g),l.callbackNode=null,l.callbackPriority=0;else if(c=v&-v,l.callbackPriority!==c){if(g!=null&&Dt(g),c===1)l.tag===0?bI(Pk.bind(null,l)):pS(Pk.bind(null,l)),pI(function(){(ir&6)===0&&Fi()}),g=null;else{switch(ud(v)){case 1:g=Tr;break;case 4:g=nn;break;case 16:g=Ia;break;case 536870912:g=Cs;break;default:g=Ia}g=Ik(g,_k.bind(null,l))}l.callbackPriority=c,l.callbackNode=g}}function _k(l,c){if(xf=-1,vf=0,(ir&6)!==0)throw Error(a(327));var g=l.callbackNode;if(Xl()&&l.callbackNode!==g)return null;var v=Le(l,l===wa?Ma:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||c)c=Ef(l,v);else{c=v;var A=ir;ir|=2;var M=Ok();(wa!==l||Ma!==c)&&(ai=null,Kl=Ft()+500,Ro(l,c));do try{FI();break}catch(te){Tk(l,te)}while(!0);gh(),pf.current=M,ir=A,ia!==null?c=0:(wa=null,Ma=0,c=fa)}if(c!==0){if(c===2&&(A=wr(l),A!==0&&(v=A,c=Jh(l,A))),c===1)throw g=Id,Ro(l,0),Wi(l,v),dn(l,Ft()),g;if(c===6)Wi(l,v);else{if(A=l.current.alternate,(v&30)===0&&!II(A)&&(c=Ef(l,v),c===2&&(M=wr(l),M!==0&&(v=M,c=Jh(l,M))),c===1))throw g=Id,Ro(l,0),Wi(l,v),dn(l,Ft()),g;switch(l.finishedWork=A,l.finishedLanes=v,c){case 0:case 1:throw Error(a(345));case 2:$o(l,cn,ai);break;case 3:if(Wi(l,v),(v&130023424)===v&&(c=Xh+500-Ft(),10<c)){if(Le(l,0)!==0)break;if(A=l.suspendedLanes,(A&v)!==v){Qa(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=nh($o.bind(null,l,cn,ai),c);break}$o(l,cn,ai);break;case 4:if(Wi(l,v),(v&4194240)===v)break;for(c=l.eventTimes,A=-1;0<v;){var V=31-et(v);M=1<<V,V=c[V],V>A&&(A=V),v&=~M}if(v=A,v=Ft()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*LI(v/1960))-v,10<v){l.timeoutHandle=nh($o.bind(null,l,cn,ai),v);break}$o(l,cn,ai);break;case 5:$o(l,cn,ai);break;default:throw Error(a(329))}}}return dn(l,Ft()),l.callbackNode===g?_k.bind(null,l):null}function Jh(l,c){var g=Dd;return l.current.memoizedState.isDehydrated&&(Ro(l,c).flags|=256),l=Ef(l,c),l!==2&&(c=cn,cn=g,c!==null&&Zh(c)),l}function Zh(l){cn===null?cn=l:cn.push.apply(cn,l)}function II(l){for(var c=l;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var v=0;v<g.length;v++){var A=g[v],M=A.getSnapshot;A=A.value;try{if(!as(M(),A))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Wi(l,c){for(c&=~Kh,c&=~gf,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var g=31-et(c),v=1<<g;l[g]=-1,c&=~v}}function Pk(l){if((ir&6)!==0)throw Error(a(327));Xl();var c=Le(l,0);if((c&1)===0)return dn(l,Ft()),null;var g=Ef(l,c);if(l.tag!==0&&g===2){var v=wr(l);v!==0&&(c=v,g=Jh(l,v))}if(g===1)throw g=Id,Ro(l,0),Wi(l,c),dn(l,Ft()),g;if(g===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,$o(l,cn,ai),dn(l,Ft()),null}function ey(l,c){var g=ir;ir|=1;try{return l(c)}finally{ir=g,ir===0&&(Kl=Ft()+500,Gm&&Fi())}}function jo(l){Vi!==null&&Vi.tag===0&&(ir&6)===0&&Xl();var c=ir;ir|=1;var g=Dn.transition,v=cr;try{if(Dn.transition=null,cr=1,l)return l()}finally{cr=v,Dn.transition=g,ir=c,(ir&6)===0&&Fi()}}function ty(){En=Gl.current,Ir(Gl)}function Ro(l,c){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==-1&&(l.timeoutHandle=-1,fI(g)),ia!==null)for(g=ia.return;g!==null;){var v=g;switch(dh(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Hm();break;case 3:Vl(),Ir(sn),Ir(Da),Nh();break;case 5:Eh(v);break;case 4:Vl();break;case 13:Ir(Vr);break;case 19:Ir(Vr);break;case 10:hh(v.type._context);break;case 22:case 23:ty()}g=g.return}if(wa=l,ia=l=Gi(l.current,null),Ma=En=c,fa=0,Id=null,Kh=gf=Mo=0,cn=Dd=null,Po!==null){for(c=0;c<Po.length;c++)if(g=Po[c],v=g.interleaved,v!==null){g.interleaved=null;var A=v.next,M=g.pending;if(M!==null){var V=M.next;M.next=A,v.next=V}g.pending=v}Po=null}return l}function Tk(l,c){do{var g=ia;try{if(gh(),af.current=lf,nf){for(var v=Hr.memoizedState;v!==null;){var A=v.queue;A!==null&&(A.pending=null),v=v.next}nf=!1}if(Oo=0,Ea=ma=Hr=null,Od=!1,Md=0,Gh.current=null,g===null||g.return===null){fa=1,Id=c,ia=null;break}e:{var M=l,V=g.return,te=g,ce=c;if(c=Ma,te.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ce=ce,Ue=te,We=Ue.tag;if((Ue.mode&1)===0&&(We===0||We===11||We===15)){var qe=Ue.alternate;qe?(Ue.updateQueue=qe.updateQueue,Ue.memoizedState=qe.memoizedState,Ue.lanes=qe.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var at=tk(V);if(at!==null){at.flags&=-257,rk(at,V,te,M,c),at.mode&1&&ek(M,Ce,c),c=at,ce=Ce;var lt=c.updateQueue;if(lt===null){var ft=new Set;ft.add(ce),c.updateQueue=ft}else lt.add(ce);break e}else{if((c&1)===0){ek(M,Ce,c),ry();break e}ce=Error(a(426))}}else if(qr&&te.mode&1){var ta=tk(V);if(ta!==null){(ta.flags&65536)===0&&(ta.flags|=256),rk(ta,V,te,M,c),fh(Hl(ce,te));break e}}M=ce=Hl(ce,te),fa!==4&&(fa=2),Dd===null?Dd=[M]:Dd.push(M),M=V;do{switch(M.tag){case 3:M.flags|=65536,c&=-c,M.lanes|=c;var Ee=JS(M,ce,c);kS(M,Ee);break e;case 1:te=ce;var me=M.type,Se=M.stateNode;if((M.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Ui===null||!Ui.has(Se)))){M.flags|=65536,c&=-c,M.lanes|=c;var Ge=ZS(M,te,c);kS(M,Ge);break e}}M=M.return}while(M!==null)}jk(g)}catch(gt){c=gt,ia===g&&g!==null&&(ia=g=g.return);continue}break}while(!0)}function Ok(){var l=pf.current;return pf.current=lf,l===null?lf:l}function ry(){(fa===0||fa===3||fa===2)&&(fa=4),wa===null||(Mo&268435455)===0&&(gf&268435455)===0||Wi(wa,Ma)}function Ef(l,c){var g=ir;ir|=2;var v=Ok();(wa!==l||Ma!==c)&&(ai=null,Ro(l,c));do try{DI();break}catch(A){Tk(l,A)}while(!0);if(gh(),ir=g,pf.current=v,ia!==null)throw Error(a(261));return wa=null,Ma=0,fa}function DI(){for(;ia!==null;)Mk(ia)}function FI(){for(;ia!==null&&!Be();)Mk(ia)}function Mk(l){var c=Lk(l.alternate,l,En);l.memoizedProps=l.pendingProps,c===null?jk(l):ia=c,Gh.current=null}function jk(l){var c=l;do{var g=c.alternate;if(l=c.return,(c.flags&32768)===0){if(g=OI(g,c,En),g!==null){ia=g;return}}else{if(g=MI(g,c),g!==null){g.flags&=32767,ia=g;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{fa=6,ia=null;return}}if(c=c.sibling,c!==null){ia=c;return}ia=c=l}while(c!==null);fa===0&&(fa=5)}function $o(l,c,g){var v=cr,A=Dn.transition;try{Dn.transition=null,cr=1,zI(l,c,g,v)}finally{Dn.transition=A,cr=v}return null}function zI(l,c,g,v){do Xl();while(Vi!==null);if((ir&6)!==0)throw Error(a(327));g=l.finishedWork;var A=l.finishedLanes;if(g===null)return null;if(l.finishedWork=null,l.finishedLanes=0,g===l.current)throw Error(a(177));l.callbackNode=null,l.callbackPriority=0;var M=g.lanes|g.childLanes;if(Pm(l,M),l===wa&&(ia=wa=null,Ma=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||yf||(yf=!0,Ik(Ia,function(){return Xl(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=Dn.transition,Dn.transition=null;var V=cr;cr=1;var te=ir;ir|=4,Gh.current=null,RI(l,g),Nk(g,l),iI(rh),Fe=!!th,rh=th=null,l.current=g,$I(g),Er(),ir=te,cr=V,Dn.transition=M}else l.current=g;if(yf&&(yf=!1,Vi=l,bf=A),M=l.pendingLanes,M===0&&(Ui=null),Te(g.stateNode),dn(l,Ft()),c!==null)for(v=l.onRecoverableError,g=0;g<c.length;g++)A=c[g],v(A.value,{componentStack:A.stack,digest:A.digest});if(hf)throw hf=!1,l=Yh,Yh=null,l;return(bf&1)!==0&&l.tag!==0&&Xl(),M=l.pendingLanes,(M&1)!==0?l===Qh?Fd++:(Fd=0,Qh=l):Fd=0,Fi(),null}function Xl(){if(Vi!==null){var l=ud(bf),c=Dn.transition,g=cr;try{if(Dn.transition=null,cr=16>l?16:l,Vi===null)var v=!1;else{if(l=Vi,Vi=null,bf=0,(ir&6)!==0)throw Error(a(331));var A=ir;for(ir|=4,st=l.current;st!==null;){var M=st,V=M.child;if((st.flags&16)!==0){var te=M.deletions;if(te!==null){for(var ce=0;ce<te.length;ce++){var Ce=te[ce];for(st=Ce;st!==null;){var Ue=st;switch(Ue.tag){case 0:case 11:case 15:Ld(8,Ue,M)}var We=Ue.child;if(We!==null)We.return=Ue,st=We;else for(;st!==null;){Ue=st;var qe=Ue.sibling,at=Ue.return;if(bk(Ue),Ue===Ce){st=null;break}if(qe!==null){qe.return=at,st=qe;break}st=at}}}var lt=M.alternate;if(lt!==null){var ft=lt.child;if(ft!==null){lt.child=null;do{var ta=ft.sibling;ft.sibling=null,ft=ta}while(ft!==null)}}st=M}}if((M.subtreeFlags&2064)!==0&&V!==null)V.return=M,st=V;else e:for(;st!==null;){if(M=st,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Ld(9,M,M.return)}var Ee=M.sibling;if(Ee!==null){Ee.return=M.return,st=Ee;break e}st=M.return}}var me=l.current;for(st=me;st!==null;){V=st;var Se=V.child;if((V.subtreeFlags&2064)!==0&&Se!==null)Se.return=V,st=Se;else e:for(V=me;st!==null;){if(te=st,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:ff(9,te)}}catch(gt){Qr(te,te.return,gt)}if(te===V){st=null;break e}var Ge=te.sibling;if(Ge!==null){Ge.return=te.return,st=Ge;break e}st=te.return}}if(ir=A,Fi(),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(ts,l)}catch{}v=!0}return v}finally{cr=g,Dn.transition=c}}return!1}function Rk(l,c,g){c=Hl(g,c),c=JS(l,c,1),l=Bi(l,c,1),c=Qa(),l!==null&&(As(l,1,c),dn(l,c))}function Qr(l,c,g){if(l.tag===3)Rk(l,l,g);else for(;c!==null;){if(c.tag===3){Rk(c,l,g);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ui===null||!Ui.has(v))){l=Hl(g,l),l=ZS(c,l,1),c=Bi(c,l,1),l=Qa(),c!==null&&(As(c,1,l),dn(c,l));break}}c=c.return}}function BI(l,c,g){var v=l.pingCache;v!==null&&v.delete(c),c=Qa(),l.pingedLanes|=l.suspendedLanes&g,wa===l&&(Ma&g)===g&&(fa===4||fa===3&&(Ma&130023424)===Ma&&500>Ft()-Xh?Ro(l,0):Kh|=g),dn(l,c)}function $k(l,c){c===0&&((l.mode&1)===0?c=1:(c=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var g=Qa();l=ei(l,c),l!==null&&(As(l,c,g),dn(l,g))}function qI(l){var c=l.memoizedState,g=0;c!==null&&(g=c.retryLane),$k(l,g)}function UI(l,c){var g=0;switch(l.tag){case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(c),$k(l,g)}var Lk;Lk=function(l,c,g){if(l!==null)if(l.memoizedProps!==c.pendingProps||sn.current)ln=!0;else{if((l.lanes&g)===0&&(c.flags&128)===0)return ln=!1,TI(l,c,g);ln=(l.flags&131072)!==0}else ln=!1,qr&&(c.flags&1048576)!==0&&gS(c,Xm,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;uf(l,c),l=c.pendingProps;var A=Il(c,Da.current);Ul(c,g),A=Ch(null,c,v,l,A,g);var M=Ah();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,on(v)?(M=!0,Wm(c)):M=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,xh(c),A.updater=cf,c.stateNode=A,A._reactInternals=c,jh(c,v,l,g),c=Ih(null,c,v,!0,M,g)):(c.tag=0,qr&&M&&ch(c),Ya(null,c,A,g),c=c.child),c;case 16:v=c.elementType;e:{switch(uf(l,c),l=c.pendingProps,A=v._init,v=A(v._payload),c.type=v,A=c.tag=HI(v),l=ss(v,l),A){case 0:c=Lh(null,c,v,l,g);break e;case 1:c=lk(null,c,v,l,g);break e;case 11:c=ak(null,c,v,l,g);break e;case 14:c=nk(null,c,v,ss(v.type,l),g);break e}throw Error(a(306,v,""))}return c;case 0:return v=c.type,A=c.pendingProps,A=c.elementType===v?A:ss(v,A),Lh(l,c,v,A,g);case 1:return v=c.type,A=c.pendingProps,A=c.elementType===v?A:ss(v,A),lk(l,c,v,A,g);case 3:e:{if(ck(c),l===null)throw Error(a(387));v=c.pendingProps,M=c.memoizedState,A=M.element,SS(l,c),tf(c,v,null,g);var V=c.memoizedState;if(v=V.element,M.isDehydrated)if(M={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){A=Hl(Error(a(423)),c),c=dk(l,c,v,g,A);break e}else if(v!==A){A=Hl(Error(a(424)),c),c=dk(l,c,v,g,A);break e}else for(vn=Li(c.stateNode.containerInfo.firstChild),xn=c,qr=!0,ns=null,g=wS(c,null,v,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(zl(),v===A){c=ri(l,c,g);break e}Ya(l,c,v,g)}c=c.child}return c;case 5:return AS(c),l===null&&mh(c),v=c.type,A=c.pendingProps,M=l!==null?l.memoizedProps:null,V=A.children,ah(v,A)?V=null:M!==null&&ah(v,M)&&(c.flags|=32),ok(l,c),Ya(l,c,V,g),c.child;case 6:return l===null&&mh(c),null;case 13:return uk(l,c,g);case 4:return vh(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Bl(c,null,v,g):Ya(l,c,v,g),c.child;case 11:return v=c.type,A=c.pendingProps,A=c.elementType===v?A:ss(v,A),ak(l,c,v,A,g);case 7:return Ya(l,c,c.pendingProps,g),c.child;case 8:return Ya(l,c,c.pendingProps.children,g),c.child;case 12:return Ya(l,c,c.pendingProps.children,g),c.child;case 10:e:{if(v=c.type._context,A=c.pendingProps,M=c.memoizedProps,V=A.value,Mr(Jm,v._currentValue),v._currentValue=V,M!==null)if(as(M.value,V)){if(M.children===A.children&&!sn.current){c=ri(l,c,g);break e}}else for(M=c.child,M!==null&&(M.return=c);M!==null;){var te=M.dependencies;if(te!==null){V=M.child;for(var ce=te.firstContext;ce!==null;){if(ce.context===v){if(M.tag===1){ce=ti(-1,g&-g),ce.tag=2;var Ce=M.updateQueue;if(Ce!==null){Ce=Ce.shared;var Ue=Ce.pending;Ue===null?ce.next=ce:(ce.next=Ue.next,Ue.next=ce),Ce.pending=ce}}M.lanes|=g,ce=M.alternate,ce!==null&&(ce.lanes|=g),yh(M.return,g,c),te.lanes|=g;break}ce=ce.next}}else if(M.tag===10)V=M.type===c.type?null:M.child;else if(M.tag===18){if(V=M.return,V===null)throw Error(a(341));V.lanes|=g,te=V.alternate,te!==null&&(te.lanes|=g),yh(V,g,c),V=M.sibling}else V=M.child;if(V!==null)V.return=M;else for(V=M;V!==null;){if(V===c){V=null;break}if(M=V.sibling,M!==null){M.return=V.return,V=M;break}V=V.return}M=V}Ya(l,c,A.children,g),c=c.child}return c;case 9:return A=c.type,v=c.pendingProps.children,Ul(c,g),A=Ln(A),v=v(A),c.flags|=1,Ya(l,c,v,g),c.child;case 14:return v=c.type,A=ss(v,c.pendingProps),A=ss(v.type,A),nk(l,c,v,A,g);case 15:return sk(l,c,c.type,c.pendingProps,g);case 17:return v=c.type,A=c.pendingProps,A=c.elementType===v?A:ss(v,A),uf(l,c),c.tag=1,on(v)?(l=!0,Wm(c)):l=!1,Ul(c,g),YS(c,v,A),jh(c,v,A,g),Ih(null,c,v,!0,l,g);case 19:return fk(l,c,g);case 22:return ik(l,c,g)}throw Error(a(156,c.tag))};function Ik(l,c){return mt(l,c)}function VI(l,c,g,v){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(l,c,g,v){return new VI(l,c,g,v)}function ay(l){return l=l.prototype,!(!l||!l.isReactComponent)}function HI(l){if(typeof l=="function")return ay(l)?1:0;if(l!=null){if(l=l.$$typeof,l===L)return 11;if(l===$)return 14}return 2}function Gi(l,c){var g=l.alternate;return g===null?(g=Fn(l.tag,c,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=c,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&14680064,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,c=l.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function wf(l,c,g,v,A,M){var V=2;if(v=l,typeof l=="function")ay(l)&&(V=1);else if(typeof l=="string")V=5;else e:switch(l){case O:return Lo(g.children,A,M,c);case T:V=8,A|=8;break;case R:return l=Fn(12,g,c,A|2),l.elementType=R,l.lanes=M,l;case K:return l=Fn(13,g,c,A),l.elementType=K,l.lanes=M,l;case W:return l=Fn(19,g,c,A),l.elementType=W,l.lanes=M,l;case Q:return Nf(g,A,M,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case D:V=10;break e;case j:V=9;break e;case L:V=11;break e;case $:V=14;break e;case J:V=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return c=Fn(V,g,c,A),c.elementType=l,c.type=v,c.lanes=M,c}function Lo(l,c,g,v){return l=Fn(7,l,v,c),l.lanes=g,l}function Nf(l,c,g,v){return l=Fn(22,l,v,c),l.elementType=Q,l.lanes=g,l.stateNode={isHidden:!1},l}function ny(l,c,g){return l=Fn(6,l,null,c),l.lanes=g,l}function sy(l,c,g){return c=Fn(4,l.children!==null?l.children:[],l.key,c),c.lanes=g,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function WI(l,c,g,v,A){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=v,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function iy(l,c,g,v,A,M,V,te,ce){return l=new WI(l,c,g,te,ce),c===1?(c=1,M===!0&&(c|=8)):c=0,M=Fn(3,null,null,c),l.current=M,M.stateNode=l,M.memoizedState={element:v,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(M),l}function GI(l,c,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:v==null?null:""+v,children:l,containerInfo:c,implementation:g}}function Dk(l){if(!l)return Di;l=l._reactInternals;e:{if(er(l)!==l||l.tag!==1)throw Error(a(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(on(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(a(171))}if(l.tag===1){var g=l.type;if(on(g))return mS(l,g,c)}return c}function Fk(l,c,g,v,A,M,V,te,ce){return l=iy(g,v,!0,l,A,M,V,te,ce),l.context=Dk(null),g=l.current,v=Qa(),A=Hi(g),M=ti(v,A),M.callback=c??null,Bi(g,M,A),l.current.lanes=A,As(l,A,v),dn(l,v),l}function Sf(l,c,g,v){var A=c.current,M=Qa(),V=Hi(A);return g=Dk(g),c.context===null?c.context=g:c.pendingContext=g,c=ti(M,V),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Bi(A,c,V),l!==null&&(ls(l,A,V,M),ef(l,A,V)),V}function kf(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function zk(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<c?g:c}}function oy(l,c){zk(l,c),(l=l.alternate)&&zk(l,c)}function KI(){return null}var Bk=typeof reportError=="function"?reportError:function(l){console.error(l)};function ly(l){this._internalRoot=l}Cf.prototype.render=ly.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(a(409));Sf(l,c,null,null)},Cf.prototype.unmount=ly.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;jo(function(){Sf(null,l,null,null)}),c[Ys]=null}};function Cf(l){this._internalRoot=l}Cf.prototype.unstable_scheduleHydration=function(l){if(l){var c=Ti();l={blockedOn:null,target:l,priority:c};for(var g=0;g<Ps.length&&c!==0&&c<Ps[g].priority;g++);Ps.splice(g,0,l),g===0&&Mm(l)}};function cy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Af(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function qk(){}function XI(l,c,g,v,A){if(A){if(typeof v=="function"){var M=v;v=function(){var Ce=kf(V);M.call(Ce)}}var V=Fk(c,v,l,0,null,!1,!1,"",qk);return l._reactRootContainer=V,l[Ys]=V.current,Nd(l.nodeType===8?l.parentNode:l),jo(),V}for(;A=l.lastChild;)l.removeChild(A);if(typeof v=="function"){var te=v;v=function(){var Ce=kf(ce);te.call(Ce)}}var ce=iy(l,0,!1,null,null,!1,!1,"",qk);return l._reactRootContainer=ce,l[Ys]=ce.current,Nd(l.nodeType===8?l.parentNode:l),jo(function(){Sf(c,ce,g,v)}),ce}function _f(l,c,g,v,A){var M=g._reactRootContainer;if(M){var V=M;if(typeof A=="function"){var te=A;A=function(){var ce=kf(V);te.call(ce)}}Sf(c,V,l,A)}else V=XI(g,c,l,A,v);return kf(V)}Tm=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var g=Oe(c.pendingLanes);g!==0&&(Pi(c,g|1),dn(c,Ft()),(ir&6)===0&&(Kl=Ft()+500,Fi()))}break;case 13:jo(function(){var v=ei(l,1);if(v!==null){var A=Qa();ls(v,l,1,A)}}),oy(l,1)}},Al=function(l){if(l.tag===13){var c=ei(l,134217728);if(c!==null){var g=Qa();ls(c,l,134217728,g)}oy(l,134217728)}},md=function(l){if(l.tag===13){var c=Hi(l),g=ei(l,c);if(g!==null){var v=Qa();ls(g,l,c,v)}oy(l,c)}},Ti=function(){return cr},wo=function(l,c){var g=cr;try{return cr=l,c()}finally{cr=g}},Y=function(l,c,g){switch(c){case"input":if(De(l,g),c=g.name,g.type==="radio"&&c!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<g.length;c++){var v=g[c];if(v!==l&&v.form===l.form){var A=Vm(v);if(!A)throw Error(a(90));oe(v),De(v,A)}}}break;case"textarea":vt(l,g);break;case"select":c=g.value,c!=null&&Ze(l,!!g.multiple,c,!1)}},Pt=ey,q=jo;var YI={usingClientEntryPoint:!1,Events:[Cd,$l,Vm,Ve,Qe,ey]},zd={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QI={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Ke(l),l===null?null:l.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||KI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ts=Pf.inject(QI),se=Pf}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI,un.createPortal=function(l,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cy(c))throw Error(a(200));return GI(l,c,null,g)},un.createRoot=function(l,c){if(!cy(l))throw Error(a(299));var g=!1,v="",A=Bk;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=iy(l,1,!1,null,null,g,!1,v,A),l[Ys]=c.current,Nd(l.nodeType===8?l.parentNode:l),new ly(c)},un.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=Ke(c),l=l===null?null:l.stateNode,l},un.flushSync=function(l){return jo(l)},un.hydrate=function(l,c,g){if(!Af(c))throw Error(a(200));return _f(null,l,c,!0,g)},un.hydrateRoot=function(l,c,g){if(!cy(l))throw Error(a(405));var v=g!=null&&g.hydratedSources||null,A=!1,M="",V=Bk;if(g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(V=g.onRecoverableError)),c=Fk(c,null,l,1,g??null,A,!1,M,V),l[Ys]=c.current,Nd(l),v)for(l=0;l<v.length;l++)g=v[l],A=g._getVersion,A=A(g._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[g,A]:c.mutableSourceEagerHydrationData.push(g,A);return new Cf(c)},un.render=function(l,c,g){if(!Af(c))throw Error(a(200));return _f(null,l,c,!1,g)},un.unmountComponentAtNode=function(l){if(!Af(l))throw Error(a(40));return l._reactRootContainer?(jo(function(){_f(null,null,l,!1,function(){l._reactRootContainer=null,l[Ys]=null})}),!0):!1},un.unstable_batchedUpdates=ey,un.unstable_renderSubtreeIntoContainer=function(l,c,g,v){if(!Af(g))throw Error(a(200));if(l==null||l._reactInternals===void 0)throw Error(a(38));return _f(l,c,g,!1,v)},un.version="18.3.1-next-f1338f8080-20240426",un}var Kk;function QT(){if(Kk)return uy.exports;Kk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),uy.exports=n8(),uy.exports}var Xk;function s8(){if(Xk)return Of;Xk=1;var e=QT();return Of.createRoot=e.createRoot,Of.hydrateRoot=e.hydrateRoot,Of}var i8=s8();QT();function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Nu.apply(this,arguments)}var eo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(eo||(eo={}));const Yk="popstate";function o8(e){e===void 0&&(e={});function r(n,s){let{pathname:i,search:o,hash:d}=n.location;return aw("",{pathname:i,search:o,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(n,s){return typeof s=="string"?s:Ap(s)}return c8(r,a,null,e)}function Gr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Q1(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function l8(){return Math.random().toString(36).substr(2,8)}function Qk(e,r){return{usr:e.state,key:e.key,idx:r}}function aw(e,r,a,n){return a===void 0&&(a=null),Nu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Yc(r):r,{state:a,key:r&&r.key||n||l8()})}function Ap(e){let{pathname:r="/",search:a="",hash:n=""}=e;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Yc(e){let r={};if(e){let a=e.indexOf("#");a>=0&&(r.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(r.search=e.substr(n),e=e.substr(0,n)),e&&(r.pathname=e)}return r}function c8(e,r,a,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,d=eo.Pop,u=null,m=p();m==null&&(m=0,o.replaceState(Nu({},o.state,{idx:m}),""));function p(){return(o.state||{idx:null}).idx}function f(){d=eo.Pop;let x=p(),N=x==null?null:x-m;m=x,u&&u({action:d,location:w.location,delta:N})}function y(x,N){d=eo.Push;let S=aw(w.location,x,N);m=p()+1;let k=Qk(S,m),P=w.createHref(S);try{o.pushState(k,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(P)}i&&u&&u({action:d,location:w.location,delta:1})}function b(x,N){d=eo.Replace;let S=aw(w.location,x,N);m=p();let k=Qk(S,m),P=w.createHref(S);o.replaceState(k,"",P),i&&u&&u({action:d,location:w.location,delta:0})}function E(x){let N=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof x=="string"?x:Ap(x);return S=S.replace(/ $/,"%20"),Gr(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let w={get action(){return d},get location(){return e(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Yk,f),u=x,()=>{s.removeEventListener(Yk,f),u=null}},createHref(x){return r(s,x)},createURL:E,encodeLocation(x){let N=E(x);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(x){return o.go(x)}};return w}var Jk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jk||(Jk={}));function d8(e,r,a){return a===void 0&&(a="/"),u8(e,r,a)}function u8(e,r,a,n){let s=typeof r=="string"?Yc(r):r,i=vc(s.pathname||"/",a);if(i==null)return null;let o=JT(e);m8(o);let d=null;for(let u=0;d==null&&u<o.length;++u){let m=N8(i);d=E8(o[u],m)}return d}function JT(e,r,a,n){r===void 0&&(r=[]),a===void 0&&(a=[]),n===void 0&&(n="");let s=(i,o,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Gr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let m=ao([n,u.relativePath]),p=a.concat(u);i.children&&i.children.length>0&&(Gr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),JT(i.children,r,p,m)),!(i.path==null&&!i.index)&&r.push({path:m,score:x8(m,i.index),routesMeta:p})};return e.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))s(i,o);else for(let u of ZT(i.path))s(i,o,u)}),r}function ZT(e){let r=e.split("/");if(r.length===0)return[];let[a,...n]=r,s=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ZT(n.join("/")),d=[];return d.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&d.push(...o),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function m8(e){e.sort((r,a)=>r.score!==a.score?a.score-r.score:v8(r.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}const f8=/^:[\w-]+$/,p8=3,g8=2,h8=1,y8=10,b8=-2,Zk=e=>e==="*";function x8(e,r){let a=e.split("/"),n=a.length;return a.some(Zk)&&(n+=b8),r&&(n+=g8),a.filter(s=>!Zk(s)).reduce((s,i)=>s+(f8.test(i)?p8:i===""?h8:y8),n)}function v8(e,r){return e.length===r.length&&e.slice(0,-1).every((n,s)=>n===r[s])?e[e.length-1]-r[r.length-1]:0}function E8(e,r,a){let{routesMeta:n}=e,s={},i="/",o=[];for(let d=0;d<n.length;++d){let u=n[d],m=d===n.length-1,p=i==="/"?r:r.slice(i.length)||"/",f=nw({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},p),y=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ao([i,f.pathname]),pathnameBase:_8(ao([i,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(i=ao([i,f.pathnameBase]))}return o}function nw(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=w8(e.path,e.caseSensitive,e.end),s=r.match(a);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((m,p,f)=>{let{paramName:y,isOptional:b}=p;if(y==="*"){let w=d[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const E=d[f];return b&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:e}}function w8(e,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),Q1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),n]}function N8(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Q1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function vc(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,n=e.charAt(a);return n&&n!=="/"?null:e.slice(a)||"/"}const S8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k8=e=>S8.test(e);function C8(e,r){r===void 0&&(r="/");let{pathname:a,search:n="",hash:s=""}=typeof e=="string"?Yc(e):e,i;if(a)if(k8(a))i=a;else{if(a.includes("//")){let o=a;a=a.replace(/\/\/+/g,"/"),Q1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+a))}a.startsWith("/")?i=e5(a.substring(1),"/"):i=e5(a,r)}else i=r;return{pathname:i,search:P8(n),hash:T8(s)}}function e5(e,r){let a=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function py(e,r,a,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A8(e){return e.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function J1(e,r){let a=A8(e);return r?a.map((n,s)=>s===a.length-1?n.pathname:n.pathnameBase):a.map(n=>n.pathnameBase)}function Z1(e,r,a,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Yc(e):(s=Nu({},e),Gr(!s.pathname||!s.pathname.includes("?"),py("?","pathname","search",s)),Gr(!s.pathname||!s.pathname.includes("#"),py("#","pathname","hash",s)),Gr(!s.search||!s.search.includes("#"),py("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,d;if(o==null)d=a;else{let f=r.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),f-=1;s.pathname=y.join("/")}d=f>=0?r[f]:"/"}let u=C8(s,d),m=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(m||p)&&(u.pathname+="/"),u}const ao=e=>e.join("/").replace(/\/\/+/g,"/"),_8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eO=["post","put","patch","delete"];new Set(eO);const M8=["get",...eO];new Set(M8);function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Su.apply(this,arguments)}const q0=h.createContext(null),tO=h.createContext(null),wi=h.createContext(null),U0=h.createContext(null),Ni=h.createContext({outlet:null,matches:[],isDataRoute:!1}),rO=h.createContext(null);function j8(e,r){let{relative:a}=r===void 0?{}:r;Qc()||Gr(!1);let{basename:n,navigator:s}=h.useContext(wi),{hash:i,pathname:o,search:d}=V0(e,{relative:a}),u=o;return n!=="/"&&(u=o==="/"?n:ao([n,o])),s.createHref({pathname:u,search:d,hash:i})}function Qc(){return h.useContext(U0)!=null}function hn(){return Qc()||Gr(!1),h.useContext(U0).location}function aO(e){h.useContext(wi).static||h.useLayoutEffect(e)}function Kr(){let{isDataRoute:e}=h.useContext(Ni);return e?W8():R8()}function R8(){Qc()||Gr(!1);let e=h.useContext(q0),{basename:r,future:a,navigator:n}=h.useContext(wi),{matches:s}=h.useContext(Ni),{pathname:i}=hn(),o=JSON.stringify(J1(s,a.v7_relativeSplatPath)),d=h.useRef(!1);return aO(()=>{d.current=!0}),h.useCallback(function(m,p){if(p===void 0&&(p={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let f=Z1(m,JSON.parse(o),i,p.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:ao([r,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[r,n,o,i,e])}function go(){let{matches:e}=h.useContext(Ni),r=e[e.length-1];return r?r.params:{}}function V0(e,r){let{relative:a}=r===void 0?{}:r,{future:n}=h.useContext(wi),{matches:s}=h.useContext(Ni),{pathname:i}=hn(),o=JSON.stringify(J1(s,n.v7_relativeSplatPath));return h.useMemo(()=>Z1(e,JSON.parse(o),i,a==="path"),[e,o,i,a])}function $8(e,r){return L8(e,r)}function L8(e,r,a,n){Qc()||Gr(!1);let{navigator:s}=h.useContext(wi),{matches:i}=h.useContext(Ni),o=i[i.length-1],d=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let m=hn(),p;if(r){var f;let x=typeof r=="string"?Yc(r):r;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||Gr(!1),p=x}else p=m;let y=p.pathname||"/",b=y;if(u!=="/"){let x=u.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=d8(e,{pathname:b}),w=B8(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},d,x.params),pathname:ao([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ao([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,a,n);return r&&w?h.createElement(U0.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:eo.Pop}},w):w}function I8(){let e=H8(),r=O8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},r),a?h.createElement("pre",{style:s},a):null,null)}const D8=h.createElement(I8,null);class F8 extends h.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?h.createElement(Ni.Provider,{value:this.props.routeContext},h.createElement(rO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z8(e){let{routeContext:r,match:a,children:n}=e,s=h.useContext(q0);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),h.createElement(Ni.Provider,{value:r},n)}function B8(e,r,a,n){var s;if(r===void 0&&(r=[]),a===void 0&&(a=null),n===void 0&&(n=null),e==null){var i;if(!a)return null;if(a.errors)e=a.matches;else if((i=n)!=null&&i.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let o=e,d=(s=a)==null?void 0:s.errors;if(d!=null){let p=o.findIndex(f=>f.route.id&&d?.[f.route.id]!==void 0);p>=0||Gr(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,m=-1;if(a&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=p),f.route.id){let{loaderData:y,errors:b}=a,E=f.route.loader&&y[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||E){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,f,y)=>{let b,E=!1,w=null,x=null;a&&(b=d&&f.route.id?d[f.route.id]:void 0,w=f.route.errorElement||D8,u&&(m<0&&y===0?(G8("route-fallback"),E=!0,x=null):m===y&&(E=!0,x=f.route.hydrateFallbackElement||null)));let N=r.concat(o.slice(0,y+1)),S=()=>{let k;return b?k=w:E?k=x:f.route.Component?k=h.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=p,h.createElement(z8,{match:f,routeContext:{outlet:p,matches:N,isDataRoute:a!=null},children:k})};return a&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?h.createElement(F8,{location:a.location,revalidation:a.revalidation,component:w,error:b,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var nO=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(nO||{}),sO=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sO||{});function q8(e){let r=h.useContext(q0);return r||Gr(!1),r}function U8(e){let r=h.useContext(tO);return r||Gr(!1),r}function V8(e){let r=h.useContext(Ni);return r||Gr(!1),r}function iO(e){let r=V8(),a=r.matches[r.matches.length-1];return a.route.id||Gr(!1),a.route.id}function H8(){var e;let r=h.useContext(rO),a=U8(),n=iO();return r!==void 0?r:(e=a.errors)==null?void 0:e[n]}function W8(){let{router:e}=q8(nO.UseNavigateStable),r=iO(sO.UseNavigateStable),a=h.useRef(!1);return aO(()=>{a.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),a.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Su({fromRouteId:r},i)))},[e,r])}const t5={};function G8(e,r,a){t5[e]||(t5[e]=!0)}function K8(e,r){e?.v7_startTransition,e?.v7_relativeSplatPath}function pc(e){let{to:r,replace:a,state:n,relative:s}=e;Qc()||Gr(!1);let{future:i,static:o}=h.useContext(wi),{matches:d}=h.useContext(Ni),{pathname:u}=hn(),m=Kr(),p=Z1(r,J1(d,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(p);return h.useEffect(()=>m(JSON.parse(f),{replace:a,state:n,relative:s}),[m,f,s,a,n]),null}function Tt(e){Gr(!1)}function X8(e){let{basename:r="/",children:a=null,location:n,navigationType:s=eo.Pop,navigator:i,static:o=!1,future:d}=e;Qc()&&Gr(!1);let u=r.replace(/^\/*/,"/"),m=h.useMemo(()=>({basename:u,navigator:i,static:o,future:Su({v7_relativeSplatPath:!1},d)}),[u,d,i,o]);typeof n=="string"&&(n=Yc(n));let{pathname:p="/",search:f="",hash:y="",state:b=null,key:E="default"}=n,w=h.useMemo(()=>{let x=vc(p,u);return x==null?null:{location:{pathname:x,search:f,hash:y,state:b,key:E},navigationType:s}},[u,p,f,y,b,E,s]);return w==null?null:h.createElement(wi.Provider,{value:m},h.createElement(U0.Provider,{children:a,value:w}))}function Y8(e){let{children:r,location:a}=e;return $8(sw(r),a)}new Promise(()=>{});function sw(e,r){r===void 0&&(r=[]);let a=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let i=[...r,s];if(n.type===h.Fragment){a.push.apply(a,sw(n.props.children,i));return}n.type!==Tt&&Gr(!1),!n.props.index||!n.props.children||Gr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sw(n.props.children,i)),a.push(o)}),a}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_p.apply(this,arguments)}function oO(e,r){if(e==null)return{};var a={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(r.indexOf(s)>=0)&&(a[s]=e[s]);return a}function Q8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J8(e,r){return e.button===0&&(!r||r==="_self")&&!Q8(e)}function iw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,a)=>{let n=e[a];return r.concat(Array.isArray(n)?n.map(s=>[a,s]):[[a,n]])},[]))}function Z8(e,r){let a=iw(e);return r&&r.forEach((n,s)=>{a.has(s)||r.getAll(s).forEach(i=>{a.append(s,i)})}),a}const eD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rD="6";try{window.__reactRouterVersion=rD}catch{}const aD=h.createContext({isTransitioning:!1}),nD="startTransition",r5=t8[nD];function sD(e){let{basename:r,children:a,future:n,window:s}=e,i=h.useRef();i.current==null&&(i.current=o8({window:s,v5Compat:!0}));let o=i.current,[d,u]=h.useState({action:o.action,location:o.location}),{v7_startTransition:m}=n||{},p=h.useCallback(f=>{m&&r5?r5(()=>u(f)):u(f)},[u,m]);return h.useLayoutEffect(()=>o.listen(p),[o,p]),h.useEffect(()=>K8(n),[n]),h.createElement(X8,{basename:r,children:a,location:d.location,navigationType:d.action,navigator:o,future:n})}const iD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=h.forwardRef(function(r,a){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:d,target:u,to:m,preventScrollReset:p,viewTransition:f}=r,y=oO(r,eD),{basename:b}=h.useContext(wi),E,w=!1;if(typeof m=="string"&&oD.test(m)&&(E=m,iD))try{let k=new URL(window.location.href),P=m.startsWith("//")?new URL(k.protocol+m):new URL(m),C=vc(P.pathname,b);P.origin===k.origin&&C!=null?m=C+P.search+P.hash:w=!0}catch{}let x=j8(m,{relative:s}),N=cD(m,{replace:o,state:d,target:u,preventScrollReset:p,relative:s,viewTransition:f});function S(k){n&&n(k),k.defaultPrevented||N(k)}return h.createElement("a",_p({},y,{href:E||x,onClick:w||i?n:S,ref:a,target:u}))}),Qt=h.forwardRef(function(r,a){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:d,to:u,viewTransition:m,children:p}=r,f=oO(r,tD),y=V0(u,{relative:f.relative}),b=hn(),E=h.useContext(tO),{navigator:w,basename:x}=h.useContext(wi),N=E!=null&&dD(y)&&m===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,k=b.pathname,P=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(k=k.toLowerCase(),P=P?P.toLowerCase():null,S=S.toLowerCase()),P&&x&&(P=vc(P,x)||P);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let _=k===S||!o&&k.startsWith(S)&&k.charAt(C)==="/",O=P!=null&&(P===S||!o&&P.startsWith(S)&&P.charAt(S.length)==="/"),T={isActive:_,isPending:O,isTransitioning:N},R=_?n:void 0,D;typeof i=="function"?D=i(T):D=[i,_?"active":null,O?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof d=="function"?d(T):d;return h.createElement(be,_p({},f,{"aria-current":R,className:D,ref:a,style:j,to:u,viewTransition:m}),typeof p=="function"?p(T):p)});var ow;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ow||(ow={}));var a5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a5||(a5={}));function lD(e){let r=h.useContext(q0);return r||Gr(!1),r}function cD(e,r){let{target:a,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:d}=r===void 0?{}:r,u=Kr(),m=hn(),p=V0(e,{relative:o});return h.useCallback(f=>{if(J8(f,a)){f.preventDefault();let y=n!==void 0?n:Ap(m)===Ap(p);u(e,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:d})}},[m,u,p,n,s,a,e,i,o,d])}function Jc(e){let r=h.useRef(iw(e)),a=h.useRef(!1),n=hn(),s=h.useMemo(()=>Z8(n.search,a.current?null:r.current),[n.search]),i=Kr(),o=h.useCallback((d,u)=>{const m=iw(typeof d=="function"?d(s):d);a.current=!0,i("?"+m,u)},[i,s]);return[s,o]}function dD(e,r){r===void 0&&(r={});let a=h.useContext(aD);a==null&&Gr(!1);let{basename:n}=lD(ow.useViewTransitionState),s=V0(e,{relative:r.relative});if(!a.isTransitioning)return!1;let i=vc(a.currentLocation.pathname,n)||a.currentLocation.pathname,o=vc(a.nextLocation.pathname,n)||a.nextLocation.pathname;return nw(s.pathname,o)!=null||nw(s.pathname,i)!=null}function lO(e,r){return function(){return e.apply(r,arguments)}}const{toString:uD}=Object.prototype,{getPrototypeOf:eN}=Object,{iterator:H0,toStringTag:cO}=Symbol,W0=(e=>r=>{const a=uD.call(r);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=e=>(e=e.toLowerCase(),r=>W0(r)===e),G0=e=>r=>typeof r===e,{isArray:Zc}=Array,Ec=G0("undefined");function mm(e){return e!==null&&!Ec(e)&&e.constructor!==null&&!Ec(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dO=Ss("ArrayBuffer");function mD(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&dO(e.buffer),r}const fD=G0("string"),pn=G0("function"),uO=G0("number"),fm=e=>e!==null&&typeof e=="object",pD=e=>e===!0||e===!1,fp=e=>{if(W0(e)!=="object")return!1;const r=eN(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(cO in e)&&!(H0 in e)},gD=e=>{if(!fm(e)||mm(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hD=Ss("Date"),yD=Ss("File"),bD=Ss("Blob"),xD=Ss("FileList"),vD=e=>fm(e)&&pn(e.pipe),ED=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||pn(e.append)&&((r=W0(e))==="formdata"||r==="object"&&pn(e.toString)&&e.toString()==="[object FormData]"))},wD=Ss("URLSearchParams"),[ND,SD,kD,CD]=["ReadableStream","Request","Response","Headers"].map(Ss),AD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pm(e,r,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Zc(e))for(n=0,s=e.length;n<s;n++)r.call(null,e[n],n,e);else{if(mm(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let d;for(n=0;n<o;n++)d=i[n],r.call(null,e[d],d,e)}}function mO(e,r){if(mm(e))return null;r=r.toLowerCase();const a=Object.keys(e);let n=a.length,s;for(;n-- >0;)if(s=a[n],r===s.toLowerCase())return s;return null}const Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fO=e=>!Ec(e)&&e!==Go;function lw(){const{caseless:e,skipUndefined:r}=fO(this)&&this||{},a={},n=(s,i)=>{const o=e&&mO(a,i)||i;fp(a[o])&&fp(s)?a[o]=lw(a[o],s):fp(s)?a[o]=lw({},s):Zc(s)?a[o]=s.slice():(!r||!Ec(s))&&(a[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&pm(arguments[s],n);return a}const _D=(e,r,a,{allOwnKeys:n}={})=>(pm(r,(s,i)=>{a&&pn(s)?e[i]=lO(s,a):e[i]=s},{allOwnKeys:n}),e),PD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TD=(e,r,a,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),a&&Object.assign(e.prototype,a)},OD=(e,r,a,n)=>{let s,i,o;const d={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,r))&&!d[o]&&(r[o]=e[o],d[o]=!0);e=a!==!1&&eN(e)}while(e&&(!a||a(e,r))&&e!==Object.prototype);return r},MD=(e,r,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=r.length;const n=e.indexOf(r,a);return n!==-1&&n===a},jD=e=>{if(!e)return null;if(Zc(e))return e;let r=e.length;if(!uO(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=e[r];return a},RD=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&eN(Uint8Array)),$D=(e,r)=>{const n=(e&&e[H0]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},LD=(e,r)=>{let a;const n=[];for(;(a=e.exec(r))!==null;)n.push(a);return n},ID=Ss("HTMLFormElement"),DD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,s){return n.toUpperCase()+s}),n5=(({hasOwnProperty:e})=>(r,a)=>e.call(r,a))(Object.prototype),FD=Ss("RegExp"),pO=(e,r)=>{const a=Object.getOwnPropertyDescriptors(e),n={};pm(a,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},zD=e=>{pO(e,(r,a)=>{if(pn(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(pn(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},BD=(e,r)=>{const a={},n=s=>{s.forEach(i=>{a[i]=!0})};return Zc(e)?n(e):n(String(e).split(r)),a},qD=()=>{},UD=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function VD(e){return!!(e&&pn(e.append)&&e[cO]==="FormData"&&e[H0])}const HD=e=>{const r=new Array(10),a=(n,s)=>{if(fm(n)){if(r.indexOf(n)>=0)return;if(mm(n))return n;if(!("toJSON"in n)){r[s]=n;const i=Zc(n)?[]:{};return pm(n,(o,d)=>{const u=a(o,s+1);!Ec(u)&&(i[d]=u)}),r[s]=void 0,i}}return n};return a(e,0)},WD=Ss("AsyncFunction"),GD=e=>e&&(fm(e)||pn(e))&&pn(e.then)&&pn(e.catch),gO=((e,r)=>e?setImmediate:r?((a,n)=>(Go.addEventListener("message",({source:s,data:i})=>{s===Go&&i===a&&n.length&&n.shift()()},!1),s=>{n.push(s),Go.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",pn(Go.postMessage)),KD=typeof queueMicrotask<"u"?queueMicrotask.bind(Go):typeof process<"u"&&process.nextTick||gO,XD=e=>e!=null&&pn(e[H0]),Ae={isArray:Zc,isArrayBuffer:dO,isBuffer:mm,isFormData:ED,isArrayBufferView:mD,isString:fD,isNumber:uO,isBoolean:pD,isObject:fm,isPlainObject:fp,isEmptyObject:gD,isReadableStream:ND,isRequest:SD,isResponse:kD,isHeaders:CD,isUndefined:Ec,isDate:hD,isFile:yD,isBlob:bD,isRegExp:FD,isFunction:pn,isStream:vD,isURLSearchParams:wD,isTypedArray:RD,isFileList:xD,forEach:pm,merge:lw,extend:_D,trim:AD,stripBOM:PD,inherits:TD,toFlatObject:OD,kindOf:W0,kindOfTest:Ss,endsWith:MD,toArray:jD,forEachEntry:$D,matchAll:LD,isHTMLForm:ID,hasOwnProperty:n5,hasOwnProp:n5,reduceDescriptors:pO,freezeMethods:zD,toObjectSet:BD,toCamelCase:DD,noop:qD,toFiniteNumber:UD,findKey:mO,global:Go,isContextDefined:fO,isSpecCompliantForm:VD,toJSONObject:HD,isAsyncFn:WD,isThenable:GD,setImmediate:gO,asap:KD,isIterable:XD};function Ut(e,r,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ae.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const hO=Ut.prototype,yO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yO[e]={value:e}});Object.defineProperties(Ut,yO);Object.defineProperty(hO,"isAxiosError",{value:!0});Ut.from=(e,r,a,n,s,i)=>{const o=Object.create(hO);Ae.toFlatObject(e,o,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const d=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return Ut.call(o,d,u,a,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const YD=null;function cw(e){return Ae.isPlainObject(e)||Ae.isArray(e)}function bO(e){return Ae.endsWith(e,"[]")?e.slice(0,-2):e}function s5(e,r,a){return e?e.concat(r).map(function(s,i){return s=bO(s),!a&&i?"["+s+"]":s}).join(a?".":""):r}function QD(e){return Ae.isArray(e)&&!e.some(cw)}const JD=Ae.toFlatObject(Ae,{},null,function(r){return/^is[A-Z]/.test(r)});function K0(e,r,a){if(!Ae.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,a=Ae.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!Ae.isUndefined(x[w])});const n=a.metaTokens,s=a.visitor||p,i=a.dots,o=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(r);if(!Ae.isFunction(s))throw new TypeError("visitor must be a function");function m(E){if(E===null)return"";if(Ae.isDate(E))return E.toISOString();if(Ae.isBoolean(E))return E.toString();if(!u&&Ae.isBlob(E))throw new Ut("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(E)||Ae.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,w,x){let N=E;if(E&&!x&&typeof E=="object"){if(Ae.endsWith(w,"{}"))w=n?w:w.slice(0,-2),E=JSON.stringify(E);else if(Ae.isArray(E)&&QD(E)||(Ae.isFileList(E)||Ae.endsWith(w,"[]"))&&(N=Ae.toArray(E)))return w=bO(w),N.forEach(function(k,P){!(Ae.isUndefined(k)||k===null)&&r.append(o===!0?s5([w],P,i):o===null?w:w+"[]",m(k))}),!1}return cw(E)?!0:(r.append(s5(x,w,i),m(E)),!1)}const f=[],y=Object.assign(JD,{defaultVisitor:p,convertValue:m,isVisitable:cw});function b(E,w){if(!Ae.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(E),Ae.forEach(E,function(N,S){(!(Ae.isUndefined(N)||N===null)&&s.call(r,N,Ae.isString(S)?S.trim():S,w,y))===!0&&b(N,w?w.concat(S):[S])}),f.pop()}}if(!Ae.isObject(e))throw new TypeError("data must be an object");return b(e),r}function i5(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function tN(e,r){this._pairs=[],e&&K0(e,this,r)}const xO=tN.prototype;xO.append=function(r,a){this._pairs.push([r,a])};xO.toString=function(r){const a=r?function(n){return r.call(this,n,i5)}:i5;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function ZD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vO(e,r,a){if(!r)return e;const n=a&&a.encode||ZD;Ae.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let i;if(s?i=s(r,a):i=Ae.isURLSearchParams(r)?r.toString():new tN(r,a).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class o5{constructor(){this.handlers=[]}use(r,a,n){return this.handlers.push({fulfilled:r,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Ae.forEach(this.handlers,function(n){n!==null&&r(n)})}}const EO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e7=typeof URLSearchParams<"u"?URLSearchParams:tN,t7=typeof FormData<"u"?FormData:null,r7=typeof Blob<"u"?Blob:null,a7={isBrowser:!0,classes:{URLSearchParams:e7,FormData:t7,Blob:r7},protocols:["http","https","file","blob","url","data"]},rN=typeof window<"u"&&typeof document<"u",dw=typeof navigator=="object"&&navigator||void 0,n7=rN&&(!dw||["ReactNative","NativeScript","NS"].indexOf(dw.product)<0),s7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i7=rN&&window.location.href||"http://localhost",o7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rN,hasStandardBrowserEnv:n7,hasStandardBrowserWebWorkerEnv:s7,navigator:dw,origin:i7},Symbol.toStringTag,{value:"Module"})),Wa={...o7,...a7};function l7(e,r){return K0(e,new Wa.classes.URLSearchParams,{visitor:function(a,n,s,i){return Wa.isNode&&Ae.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function c7(e){return Ae.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function d7(e){const r={},a=Object.keys(e);let n;const s=a.length;let i;for(n=0;n<s;n++)i=a[n],r[i]=e[i];return r}function wO(e){function r(a,n,s,i){let o=a[i++];if(o==="__proto__")return!0;const d=Number.isFinite(+o),u=i>=a.length;return o=!o&&Ae.isArray(s)?s.length:o,u?(Ae.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!d):((!s[o]||!Ae.isObject(s[o]))&&(s[o]=[]),r(a,n,s[o],i)&&Ae.isArray(s[o])&&(s[o]=d7(s[o])),!d)}if(Ae.isFormData(e)&&Ae.isFunction(e.entries)){const a={};return Ae.forEachEntry(e,(n,s)=>{r(c7(n),s,a,0)}),a}return null}function u7(e,r,a){if(Ae.isString(e))try{return(r||JSON.parse)(e),Ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const gm={transitional:EO,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const n=a.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ae.isObject(r);if(i&&Ae.isHTMLForm(r)&&(r=new FormData(r)),Ae.isFormData(r))return s?JSON.stringify(wO(r)):r;if(Ae.isArrayBuffer(r)||Ae.isBuffer(r)||Ae.isStream(r)||Ae.isFile(r)||Ae.isBlob(r)||Ae.isReadableStream(r))return r;if(Ae.isArrayBufferView(r))return r.buffer;if(Ae.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return l7(r,this.formSerializer).toString();if((d=Ae.isFileList(r))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return K0(d?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||s?(a.setContentType("application/json",!1),u7(r)):r}],transformResponse:[function(r){const a=this.transitional||gm.transitional,n=a&&a.forcedJSONParsing,s=this.responseType==="json";if(Ae.isResponse(r)||Ae.isReadableStream(r))return r;if(r&&Ae.isString(r)&&(n&&!this.responseType||s)){const o=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(d){if(o)throw d.name==="SyntaxError"?Ut.from(d,Ut.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wa.classes.FormData,Blob:Wa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],e=>{gm.headers[e]={}});const m7=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f7=e=>{const r={};let a,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),a=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!a||r[a]&&m7[a])&&(a==="set-cookie"?r[a]?r[a].push(n):r[a]=[n]:r[a]=r[a]?r[a]+", "+n:n)}),r},l5=Symbol("internals");function Bd(e){return e&&String(e).trim().toLowerCase()}function pp(e){return e===!1||e==null?e:Ae.isArray(e)?e.map(pp):String(e)}function p7(e){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)r[n[1]]=n[2];return r}const g7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gy(e,r,a,n,s){if(Ae.isFunction(n))return n.call(this,r,a);if(s&&(r=a),!!Ae.isString(r)){if(Ae.isString(n))return r.indexOf(n)!==-1;if(Ae.isRegExp(n))return n.test(r)}}function h7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,n)=>a.toUpperCase()+n)}function y7(e,r){const a=Ae.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(s,i,o){return this[n].call(this,r,s,i,o)},configurable:!0})})}let gn=class{constructor(r){r&&this.set(r)}set(r,a,n){const s=this;function i(d,u,m){const p=Bd(u);if(!p)throw new Error("header name must be a non-empty string");const f=Ae.findKey(s,p);(!f||s[f]===void 0||m===!0||m===void 0&&s[f]!==!1)&&(s[f||u]=pp(d))}const o=(d,u)=>Ae.forEach(d,(m,p)=>i(m,p,u));if(Ae.isPlainObject(r)||r instanceof this.constructor)o(r,a);else if(Ae.isString(r)&&(r=r.trim())&&!g7(r))o(f7(r),a);else if(Ae.isObject(r)&&Ae.isIterable(r)){let d={},u,m;for(const p of r){if(!Ae.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[m=p[0]]=(u=d[m])?Ae.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}o(d,a)}else r!=null&&i(a,r,n);return this}get(r,a){if(r=Bd(r),r){const n=Ae.findKey(this,r);if(n){const s=this[n];if(!a)return s;if(a===!0)return p7(s);if(Ae.isFunction(a))return a.call(this,s,n);if(Ae.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=Bd(r),r){const n=Ae.findKey(this,r);return!!(n&&this[n]!==void 0&&(!a||gy(this,this[n],n,a)))}return!1}delete(r,a){const n=this;let s=!1;function i(o){if(o=Bd(o),o){const d=Ae.findKey(n,o);d&&(!a||gy(n,n[d],d,a))&&(delete n[d],s=!0)}}return Ae.isArray(r)?r.forEach(i):i(r),s}clear(r){const a=Object.keys(this);let n=a.length,s=!1;for(;n--;){const i=a[n];(!r||gy(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const a=this,n={};return Ae.forEach(this,(s,i)=>{const o=Ae.findKey(n,i);if(o){a[o]=pp(s),delete a[i];return}const d=r?h7(i):String(i).trim();d!==i&&delete a[i],a[d]=pp(s),n[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return Ae.forEach(this,(n,s)=>{n!=null&&n!==!1&&(a[s]=r&&Ae.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const n=new this(r);return a.forEach(s=>n.set(s)),n}static accessor(r){const n=(this[l5]=this[l5]={accessors:{}}).accessors,s=this.prototype;function i(o){const d=Bd(o);n[d]||(y7(s,o),n[d]=!0)}return Ae.isArray(r)?r.forEach(i):i(r),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(gn.prototype,({value:e},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(n){this[a]=n}}});Ae.freezeMethods(gn);function hy(e,r){const a=this||gm,n=r||a,s=gn.from(n.headers);let i=n.data;return Ae.forEach(e,function(d){i=d.call(a,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function NO(e){return!!(e&&e.__CANCEL__)}function ed(e,r,a){Ut.call(this,e??"canceled",Ut.ERR_CANCELED,r,a),this.name="CanceledError"}Ae.inherits(ed,Ut,{__CANCEL__:!0});function SO(e,r,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):r(new Ut("Request failed with status code "+a.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function b7(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function x7(e,r){e=e||10;const a=new Array(e),n=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(u){const m=Date.now(),p=n[i];o||(o=m),a[s]=u,n[s]=m;let f=i,y=0;for(;f!==s;)y+=a[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),m-o<r)return;const b=p&&m-p;return b?Math.round(y*1e3/b):void 0}}function v7(e,r){let a=0,n=1e3/r,s,i;const o=(m,p=Date.now())=>{a=p,s=null,i&&(clearTimeout(i),i=null),e(...m)};return[(...m)=>{const p=Date.now(),f=p-a;f>=n?o(m,p):(s=m,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const Pp=(e,r,a=3)=>{let n=0;const s=x7(50,250);return v7(i=>{const o=i.loaded,d=i.lengthComputable?i.total:void 0,u=o-n,m=s(u),p=o<=d;n=o;const f={loaded:o,total:d,progress:d?o/d:void 0,bytes:u,rate:m||void 0,estimated:m&&d&&p?(d-o)/m:void 0,event:i,lengthComputable:d!=null,[r?"download":"upload"]:!0};e(f)},a)},c5=(e,r)=>{const a=e!=null;return[n=>r[0]({lengthComputable:a,total:e,loaded:n}),r[1]]},d5=e=>(...r)=>Ae.asap(()=>e(...r)),E7=Wa.hasStandardBrowserEnv?((e,r)=>a=>(a=new URL(a,Wa.origin),e.protocol===a.protocol&&e.host===a.host&&(r||e.port===a.port)))(new URL(Wa.origin),Wa.navigator&&/(msie|trident)/i.test(Wa.navigator.userAgent)):()=>!0,w7=Wa.hasStandardBrowserEnv?{write(e,r,a,n,s,i,o){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(r)}`];Ae.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),Ae.isString(n)&&d.push(`path=${n}`),Ae.isString(s)&&d.push(`domain=${s}`),i===!0&&d.push("secure"),Ae.isString(o)&&d.push(`SameSite=${o}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function N7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function S7(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function kO(e,r,a){let n=!N7(r);return e&&(n||a==!1)?S7(e,r):r}const u5=e=>e instanceof gn?{...e}:e;function cl(e,r){r=r||{};const a={};function n(m,p,f,y){return Ae.isPlainObject(m)&&Ae.isPlainObject(p)?Ae.merge.call({caseless:y},m,p):Ae.isPlainObject(p)?Ae.merge({},p):Ae.isArray(p)?p.slice():p}function s(m,p,f,y){if(Ae.isUndefined(p)){if(!Ae.isUndefined(m))return n(void 0,m,f,y)}else return n(m,p,f,y)}function i(m,p){if(!Ae.isUndefined(p))return n(void 0,p)}function o(m,p){if(Ae.isUndefined(p)){if(!Ae.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function d(m,p,f){if(f in r)return n(m,p);if(f in e)return n(void 0,m)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d,headers:(m,p,f)=>s(u5(m),u5(p),f,!0)};return Ae.forEach(Object.keys({...e,...r}),function(p){const f=u[p]||s,y=f(e[p],r[p],p);Ae.isUndefined(y)&&f!==d||(a[p]=y)}),a}const CO=e=>{const r=cl({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:d}=r;if(r.headers=o=gn.from(o),r.url=vO(kO(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&o.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Ae.isFormData(a)){if(Wa.hasStandardBrowserEnv||Wa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ae.isFunction(a.getHeaders)){const u=a.getHeaders(),m=["content-type","content-length"];Object.entries(u).forEach(([p,f])=>{m.includes(p.toLowerCase())&&o.set(p,f)})}}if(Wa.hasStandardBrowserEnv&&(n&&Ae.isFunction(n)&&(n=n(r)),n||n!==!1&&E7(r.url))){const u=s&&i&&w7.read(i);u&&o.set(s,u)}return r},k7=typeof XMLHttpRequest<"u",C7=k7&&function(e){return new Promise(function(a,n){const s=CO(e);let i=s.data;const o=gn.from(s.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:m}=s,p,f,y,b,E;function w(){b&&b(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function N(){if(!x)return;const k=gn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),C={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:k,config:e,request:x};SO(function(O){a(O),w()},function(O){n(O),w()},C),x=null}"onloadend"in x?x.onloadend=N:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(N)},x.onabort=function(){x&&(n(new Ut("Request aborted",Ut.ECONNABORTED,e,x)),x=null)},x.onerror=function(P){const C=P&&P.message?P.message:"Network Error",_=new Ut(C,Ut.ERR_NETWORK,e,x);_.event=P||null,n(_),x=null},x.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||EO;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new Ut(P,C.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&Ae.forEach(o.toJSON(),function(P,C){x.setRequestHeader(C,P)}),Ae.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),d&&d!=="json"&&(x.responseType=s.responseType),m&&([y,E]=Pp(m,!0),x.addEventListener("progress",y)),u&&x.upload&&([f,b]=Pp(u),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(p=k=>{x&&(n(!k||k.type?new ed(null,e,x):k),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const S=b7(s.url);if(S&&Wa.protocols.indexOf(S)===-1){n(new Ut("Unsupported protocol "+S+":",Ut.ERR_BAD_REQUEST,e));return}x.send(i||null)})},A7=(e,r)=>{const{length:a}=e=e?e.filter(Boolean):[];if(r||a){let n=new AbortController,s;const i=function(m){if(!s){s=!0,d();const p=m instanceof Error?m:this.reason;n.abort(p instanceof Ut?p:new ed(p instanceof Error?p.message:p))}};let o=r&&setTimeout(()=>{o=null,i(new Ut(`timeout ${r} of ms exceeded`,Ut.ETIMEDOUT))},r);const d=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),e=null)};e.forEach(m=>m.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Ae.asap(d),u}},_7=function*(e,r){let a=e.byteLength;if(a<r){yield e;return}let n=0,s;for(;n<a;)s=n+r,yield e.slice(n,s),n=s},P7=async function*(e,r){for await(const a of T7(e))yield*_7(a,r)},T7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:a,value:n}=await r.read();if(a)break;yield n}}finally{await r.cancel()}},m5=(e,r,a,n)=>{const s=P7(e,r);let i=0,o,d=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:m,value:p}=await s.next();if(m){d(),u.close();return}let f=p.byteLength;if(a){let y=i+=f;a(y)}u.enqueue(new Uint8Array(p))}catch(m){throw d(m),m}},cancel(u){return d(u),s.return()}},{highWaterMark:2})},f5=64*1024,{isFunction:Mf}=Ae,O7=(({Request:e,Response:r})=>({Request:e,Response:r}))(Ae.global),{ReadableStream:p5,TextEncoder:g5}=Ae.global,h5=(e,...r)=>{try{return!!e(...r)}catch{return!1}},M7=e=>{e=Ae.merge.call({skipUndefined:!0},O7,e);const{fetch:r,Request:a,Response:n}=e,s=r?Mf(r):typeof fetch=="function",i=Mf(a),o=Mf(n);if(!s)return!1;const d=s&&Mf(p5),u=s&&(typeof g5=="function"?(E=>w=>E.encode(w))(new g5):async E=>new Uint8Array(await new a(E).arrayBuffer())),m=i&&d&&h5(()=>{let E=!1;const w=new a(Wa.origin,{body:new p5,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!w}),p=o&&d&&h5(()=>Ae.isReadableStream(new n("").body)),f={stream:p&&(E=>E.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!f[E]&&(f[E]=(w,x)=>{let N=w&&w[E];if(N)return N.call(w);throw new Ut(`Response type '${E}' is not supported`,Ut.ERR_NOT_SUPPORT,x)})});const y=async E=>{if(E==null)return 0;if(Ae.isBlob(E))return E.size;if(Ae.isSpecCompliantForm(E))return(await new a(Wa.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(E)||Ae.isArrayBuffer(E))return E.byteLength;if(Ae.isURLSearchParams(E)&&(E=E+""),Ae.isString(E))return(await u(E)).byteLength},b=async(E,w)=>{const x=Ae.toFiniteNumber(E.getContentLength());return x??y(w)};return async E=>{let{url:w,method:x,data:N,signal:S,cancelToken:k,timeout:P,onDownloadProgress:C,onUploadProgress:_,responseType:O,headers:T,withCredentials:R="same-origin",fetchOptions:D}=CO(E),j=r||fetch;O=O?(O+"").toLowerCase():"text";let L=A7([S,k&&k.toAbortSignal()],P),K=null;const W=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let $;try{if(_&&m&&x!=="get"&&x!=="head"&&($=await b(T,N))!==0){let B=new a(w,{method:"POST",body:N,duplex:"half"}),G;if(Ae.isFormData(N)&&(G=B.headers.get("content-type"))&&T.setContentType(G),B.body){const[z,ae]=c5($,Pp(d5(_)));N=m5(B.body,f5,z,ae)}}Ae.isString(R)||(R=R?"include":"omit");const J=i&&"credentials"in a.prototype,Q={...D,signal:L,method:x.toUpperCase(),headers:T.normalize().toJSON(),body:N,duplex:"half",credentials:J?R:void 0};K=i&&new a(w,Q);let X=await(i?j(K,D):j(w,Q));const H=p&&(O==="stream"||O==="response");if(p&&(C||H&&W)){const B={};["status","statusText","headers"].forEach(he=>{B[he]=X[he]});const G=Ae.toFiniteNumber(X.headers.get("content-length")),[z,ae]=C&&c5(G,Pp(d5(C),!0))||[];X=new n(m5(X.body,f5,z,()=>{ae&&ae(),W&&W()}),B)}O=O||"text";let I=await f[Ae.findKey(f,O)||"text"](X,E);return!H&&W&&W(),await new Promise((B,G)=>{SO(B,G,{data:I,headers:gn.from(X.headers),status:X.status,statusText:X.statusText,config:E,request:K})})}catch(J){throw W&&W(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,E,K),{cause:J.cause||J}):Ut.from(J,J&&J.code,E,K)}}},j7=new Map,AO=e=>{let r=e&&e.env||{};const{fetch:a,Request:n,Response:s}=r,i=[n,s,a];let o=i.length,d=o,u,m,p=j7;for(;d--;)u=i[d],m=p.get(u),m===void 0&&p.set(u,m=d?new Map:M7(r)),p=m;return m};AO();const aN={http:YD,xhr:C7,fetch:{get:AO}};Ae.forEach(aN,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const y5=e=>`- ${e}`,R7=e=>Ae.isFunction(e)||e===null||e===!1;function $7(e,r){e=Ae.isArray(e)?e:[e];const{length:a}=e;let n,s;const i={};for(let o=0;o<a;o++){n=e[o];let d;if(s=n,!R7(n)&&(s=aN[(d=String(n)).toLowerCase()],s===void 0))throw new Ut(`Unknown adapter '${d}'`);if(s&&(Ae.isFunction(s)||(s=s.get(r))))break;i[d||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=a?o.length>1?`since :
`+o.map(y5).join(`
`):" "+y5(o[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const _O={getAdapter:$7,adapters:aN};function yy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ed(null,e)}function b5(e){return yy(e),e.headers=gn.from(e.headers),e.data=hy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_O.getAdapter(e.adapter||gm.adapter,e)(e).then(function(n){return yy(e),n.data=hy.call(e,e.transformResponse,n),n.headers=gn.from(n.headers),n},function(n){return NO(n)||(yy(e),n&&n.response&&(n.response.data=hy.call(e,e.transformResponse,n.response),n.response.headers=gn.from(n.response.headers))),Promise.reject(n)})}const PO="1.13.2",X0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{X0[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const x5={};X0.transitional=function(r,a,n){function s(i,o){return"[Axios v"+PO+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,d)=>{if(r===!1)throw new Ut(s(o," has been removed"+(a?" in "+a:"")),Ut.ERR_DEPRECATED);return a&&!x5[o]&&(x5[o]=!0,console.warn(s(o," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(i,o,d):!0}};X0.spelling=function(r){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function L7(e,r,a){if(typeof e!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=r[i];if(o){const d=e[i],u=d===void 0||o(d,i,e);if(u!==!0)throw new Ut("option "+i+" must be "+u,Ut.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ut("Unknown option "+i,Ut.ERR_BAD_OPTION)}}const gp={assertOptions:L7,validators:X0},$s=gp.validators;let el=class{constructor(r){this.defaults=r||{},this.interceptors={request:new o5,response:new o5}}async request(r,a){try{return await this._request(r,a)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=cl(this.defaults,a);const{transitional:n,paramsSerializer:s,headers:i}=a;n!==void 0&&gp.assertOptions(n,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1),s!=null&&(Ae.isFunction(s)?a.paramsSerializer={serialize:s}:gp.assertOptions(s,{encode:$s.function,serialize:$s.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),gp.assertOptions(a,{baseUrl:$s.spelling("baseURL"),withXsrfToken:$s.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&Ae.merge(i.common,i[a.method]);i&&Ae.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),a.headers=gn.concat(o,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const m=[];this.interceptors.response.forEach(function(w){m.push(w.fulfilled,w.rejected)});let p,f=0,y;if(!u){const E=[b5.bind(this),void 0];for(E.unshift(...d),E.push(...m),y=E.length,p=Promise.resolve(a);f<y;)p=p.then(E[f++],E[f++]);return p}y=d.length;let b=a;for(;f<y;){const E=d[f++],w=d[f++];try{b=E(b)}catch(x){w.call(this,x);break}}try{p=b5.call(this,b)}catch(E){return Promise.reject(E)}for(f=0,y=m.length;f<y;)p=p.then(m[f++],m[f++]);return p}getUri(r){r=cl(this.defaults,r);const a=kO(r.baseURL,r.url,r.allowAbsoluteUrls);return vO(a,r.params,r.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(r){el.prototype[r]=function(a,n){return this.request(cl(n||{},{method:r,url:a,data:(n||{}).data}))}});Ae.forEach(["post","put","patch"],function(r){function a(n){return function(i,o,d){return this.request(cl(d||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}el.prototype[r]=a(),el.prototype[r+"Form"]=a(!0)});let I7=class TO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(d=>{n.subscribe(d),i=d}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},r(function(i,o,d){n.reason||(n.reason=new ed(i,o,d),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=n=>{r.abort(n)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new TO(function(s){r=s}),cancel:r}}};function D7(e){return function(a){return e.apply(null,a)}}function F7(e){return Ae.isObject(e)&&e.isAxiosError===!0}const uw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uw).forEach(([e,r])=>{uw[r]=e});function OO(e){const r=new el(e),a=lO(el.prototype.request,r);return Ae.extend(a,el.prototype,r,{allOwnKeys:!0}),Ae.extend(a,r,null,{allOwnKeys:!0}),a.create=function(s){return OO(cl(e,s))},a}const na=OO(gm);na.Axios=el;na.CanceledError=ed;na.CancelToken=I7;na.isCancel=NO;na.VERSION=PO;na.toFormData=K0;na.AxiosError=Ut;na.Cancel=na.CanceledError;na.all=function(r){return Promise.all(r)};na.spread=D7;na.isAxiosError=F7;na.mergeConfig=cl;na.AxiosHeaders=gn;na.formToJSON=e=>wO(Ae.isHTMLForm(e)?new FormData(e):e);na.getAdapter=_O.getAdapter;na.HttpStatusCode=uw;na.default=na;const{Axios:Yue,AxiosError:Que,CanceledError:Jue,isCancel:Zue,CancelToken:eme,VERSION:tme,all:rme,Cancel:ame,isAxiosError:nme,spread:sme,toFormData:ime,AxiosHeaders:ome,HttpStatusCode:lme,formToJSON:cme,getAdapter:dme,mergeConfig:ume}=na;var wc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(wc||(wc={}));class by extends Error{constructor(r,a,n){super(r),this.message=r,this.code=a,this.data=n}}const z7=e=>{var r,a;return e?.androidBridge?"android":!((a=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},B7=e=>{const r=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},n=a.Plugins=a.Plugins||{},s=()=>r!==null?r.name:z7(e),i=()=>s()!=="web",o=f=>{const y=m.get(f);return!!(y?.platforms.has(s())||d(f))},d=f=>{var y;return(y=a.PluginHeaders)===null||y===void 0?void 0:y.find(b=>b.name===f)},u=f=>e.console.error(f),m=new Map,p=(f,y={})=>{const b=m.get(f);if(b)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),b.proxy;const E=s(),w=d(f);let x;const N=async()=>(!x&&E in y?x=typeof y[E]=="function"?x=await y[E]():x=y[E]:r!==null&&!x&&"web"in y&&(x=typeof y.web=="function"?x=await y.web():x=y.web),x),S=(T,R)=>{var D,j;if(w){const L=w?.methods.find(K=>R===K.name);if(L)return L.rtype==="promise"?K=>a.nativePromise(f,R.toString(),K):(K,W)=>a.nativeCallback(f,R.toString(),K,W);if(T)return(D=T[R])===null||D===void 0?void 0:D.bind(T)}else{if(T)return(j=T[R])===null||j===void 0?void 0:j.bind(T);throw new by(`"${f}" plugin is not implemented on ${E}`,wc.Unimplemented)}},k=T=>{let R;const D=(...j)=>{const L=N().then(K=>{const W=S(K,T);if(W){const $=W(...j);return R=$?.remove,$}else throw new by(`"${f}.${T}()" is not implemented on ${E}`,wc.Unimplemented)});return T==="addListener"&&(L.remove=async()=>R()),L};return D.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:T,writable:!1,configurable:!1}),D},P=k("addListener"),C=k("removeListener"),_=(T,R)=>{const D=P({eventName:T},R),j=async()=>{const K=await D;C({eventName:T,callbackId:K},R)},L=new Promise(K=>D.then(()=>K({remove:j})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await j()},L},O=new Proxy({},{get(T,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?_:P;case"removeListener":return C;default:return k(R)}}});return n[f]=O,m.set(f,{name:f,proxy:O,platforms:new Set([...Object.keys(y),...w?[E]:[]])}),O};return a.convertFileSrc||(a.convertFileSrc=f=>f),a.getPlatform=s,a.handleError=u,a.isNativePlatform=i,a.isPluginAvailable=o,a.registerPlugin=p,a.Exception=by,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},q7=e=>e.Capacitor=B7(e),Nc=q7(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hm=Nc.registerPlugin;class nN{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,a){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(a);const i=this.windowListeners[r];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(r);const o=async()=>this.removeListener(r,a);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,n){const s=this.listeners[r];if(!s){if(n){let i=this.retainedEventArguments[r];i||(i=[]),i.push(a),this.retainedEventArguments[r]=i}return}s.forEach(i=>i(a))}hasListeners(r){var a;return!!(!((a=this.listeners[r])===null||a===void 0)&&a.length)}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:n=>{this.notifyListeners(a,n)}}}unimplemented(r="not implemented"){return new Nc.Exception(r,wc.Unimplemented)}unavailable(r="not available"){return new Nc.Exception(r,wc.Unavailable)}async removeListener(r,a){const n=this.listeners[r];if(!n)return;const s=n.indexOf(a);this.listeners[r].splice(s,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(n=>{this.notifyListeners(r,n)}))}}const v5=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),E5=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class U7 extends nN{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=E5(s).trim(),i=E5(i).trim(),a[s]=i}),a}async setCookie(r){try{const a=v5(r.key),n=v5(r.value),s=`; expires=${(r.expires||"").replace("expires=","")}`,i=(r.path||"/").replace("path=",""),o=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${n||""}${s}; path=${i}; ${o};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}hm("CapacitorCookies",{web:()=>new U7});const V7=async e=>new Promise((r,a)=>{const n=new FileReader;n.onload=()=>{const s=n.result;r(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>a(s),n.readAsDataURL(e)}),H7=(e={})=>{const r=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[r[o]],s),{})},W7=(e,r=!0)=>e?Object.entries(e).reduce((n,s)=>{const[i,o]=s;let d,u;return Array.isArray(o)?(u="",o.forEach(m=>{d=r?encodeURIComponent(m):m,u+=`${i}=${d}&`}),u.slice(0,-1)):(d=r?encodeURIComponent(o):o,u=`${i}=${d}`),`${n}&${u}`},"").substr(1):null,G7=(e,r={})=>{const a=Object.assign({method:e.method||"GET",headers:e.headers},r),s=H7(e.headers)["content-type"]||"";if(typeof e.data=="string")a.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,d]of Object.entries(e.data||{}))i.set(o,d);a.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((d,u)=>{i.append(u,d)});else for(const d of Object.keys(e.data))i.append(d,e.data[d]);a.body=i;const o=new Headers(a.headers);o.delete("content-type"),a.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(a.body=JSON.stringify(e.data));return a};class K7 extends nN{async request(r){const a=G7(r,r.webFetchExtra),n=W7(r.params,r.shouldEncodeUrlParams),s=n?`${r.url}?${n}`:r.url,i=await fetch(s,a),o=i.headers.get("content-type")||"";let{responseType:d="text"}=i.ok?r:{};o.includes("application/json")&&(d="json");let u,m;switch(d){case"arraybuffer":case"blob":m=await i.blob(),u=await V7(m);break;case"json":u=await i.json();break;default:u=await i.text()}const p={};return i.headers.forEach((f,y)=>{p[y]=f}),{data:u,headers:p,status:i.status,url:i.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}hm("CapacitorHttp",{web:()=>new K7});var w5;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(w5||(w5={}));var N5;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(N5||(N5={}));class X7 extends nN{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}hm("SystemBars",{web:()=>new X7});const Y7="modulepreload",Q7=function(e){return"/"+e},S5={},tl=function(r,a,n){let s=Promise.resolve();if(a&&a.length>0){let u=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=o?.nonce||o?.getAttribute("nonce");s=u(a.map(m=>{if(m=Q7(m),m in S5)return;S5[m]=!0;const p=m.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Y7,p||(y.as="script"),y.crossOrigin="",y.href=m,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((b,E)=>{y.addEventListener("load",b),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return s.then(o=>{for(const d of o||[])d.status==="rejected"&&i(d.reason);return r().catch(i)})},Io=hm("Preferences",{web:()=>tl(()=>import("./web-CImT33-D.js"),[]).then(e=>new e.PreferencesWeb)});class J7{constructor(){try{this.isNative=Nc.isNativePlatform()}catch{this.isNative=!1}this.maxLocalStorageSize=5*1024*1024}_useNativeStorage(){return this.isNative}async get(r){try{const a=this._useNativeStorage();let n=null;if(a?n=(await Io.get({key:r}))?.value:n=localStorage.getItem(r),!n||n==="null")return null;try{return JSON.parse(n)}catch{return n}}catch{return null}}async set(r,a){try{const n=JSON.stringify(a);if(this._useNativeStorage())return await Io.set({key:r,value:n}),!0;{const i=new Blob([n]).size;return i>this.maxLocalStorageSize?(console.warn(`Value too large for localStorage (${i} bytes). Consider using IndexedDB.`),!1):(localStorage.setItem(r,n),!0)}}catch(n){if(n.name==="QuotaExceededError"){console.warn("Storage quota exceeded. Cleaning up old entries..."),await this.cleanup();try{return this._useNativeStorage()?await Io.set({key:r,value:JSON.stringify(a)}):localStorage.setItem(r,JSON.stringify(a)),!0}catch(s){return console.error("Storage set error after cleanup:",s),!1}}return console.error(`Storage set error for key ${r}:`,n),!1}}async remove(r){try{return this._useNativeStorage()?await Io.remove({key:r}):localStorage.removeItem(r),!0}catch(a){return console.error(`Storage remove error for key ${r}:`,a),!1}}async clear(){try{return this._useNativeStorage()?await Io.clear():localStorage.clear(),!0}catch(r){return console.error("Storage clear error:",r),!1}}async keys(){try{if(this._useNativeStorage()){const{keys:a}=await Io.keys();return a}else return Object.keys(localStorage)}catch(r){return console.error("Storage keys error:",r),[]}}async has(r){try{if(this._useNativeStorage()){const{value:n}=await Io.get({key:r});return n!==null}else return localStorage.getItem(r)!==null}catch{return!1}}async cleanup(){return!0}}const Wr=new J7,Z7="HDMarketDB",e9=1,Vn={PRODUCTS:"products",SEARCH_RESULTS:"searchResults",SHOP_DATA:"shopData",CACHE:"cache"};class t9{constructor(){this.db=null,this.initPromise=null}async init(){return this.initPromise?this.initPromise:(this.initPromise=new Promise((r,a)=>{if(typeof window>"u"||!window.indexedDB){console.warn("IndexedDB not available"),r(!1);return}const n=ku.open(Z7,e9);n.onerror=()=>{console.error("IndexedDB open error:",n.error),a(n.error)},n.onsuccess=()=>{this.db=n.result,r(!0)},n.onupgradeneeded=s=>{const i=s.target.result;if(!i.objectStoreNames.contains(Vn.PRODUCTS)){const o=i.createObjectStore(Vn.PRODUCTS,{keyPath:"id"});o.createIndex("slug","slug",{unique:!0}),o.createIndex("category","category",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}if(i.objectStoreNames.contains(Vn.SEARCH_RESULTS)||i.createObjectStore(Vn.SEARCH_RESULTS,{keyPath:"query"}).createIndex("timestamp","timestamp",{unique:!1}),!i.objectStoreNames.contains(Vn.SHOP_DATA)){const o=i.createObjectStore(Vn.SHOP_DATA,{keyPath:"id"});o.createIndex("slug","slug",{unique:!0}),o.createIndex("timestamp","timestamp",{unique:!1})}i.objectStoreNames.contains(Vn.CACHE)||i.createObjectStore(Vn.CACHE,{keyPath:"key"}).createIndex("timestamp","timestamp",{unique:!1})}}),this.initPromise)}async get(r,a){return await this.init(),this.db?new Promise((n,s)=>{const d=this.db.transaction([r],"readonly").objectStore(r).get(a);d.onsuccess=()=>{const u=d.result;u&&u.data?u.expiry&&Date.now()>u.expiry?(this.delete(r,a),n(null)):n(u.data):n(null)},d.onerror=()=>{s(d.error)}}):null}async set(r,a,n,s=null){return await this.init(),this.db?new Promise((i,o)=>{const u=this.db.transaction([r],"readwrite").objectStore(r),m={key:typeof a=="object"?a.id||a.slug||a.query:a,data:n,timestamp:Date.now(),expiry:s?Date.now()+s:null},p=u.put(m);p.onsuccess=()=>{i(!0)},p.onerror=()=>{o(p.error)}}):!1}async delete(r,a){return await this.init(),this.db?new Promise((n,s)=>{const d=this.db.transaction([r],"readwrite").objectStore(r).delete(a);d.onsuccess=()=>{n(!0)},d.onerror=()=>{s(d.error)}}):!1}async clear(r){return await this.init(),this.db?new Promise((a,n)=>{const o=this.db.transaction([r],"readwrite").objectStore(r).clear();o.onsuccess=()=>{a(!0)},o.onerror=()=>{n(o.error)}}):!1}async cleanup(r){return await this.init(),this.db?new Promise((a,n)=>{const d=this.db.transaction([r],"readwrite").objectStore(r).index("timestamp").openCursor();let u=0;d.onsuccess=m=>{const p=m.target.result;if(p){const f=p.value;f.expiry&&Date.now()>f.expiry&&(p.delete(),u++),p.continue()}else a(u)},d.onerror=()=>{n(d.error)}}):0}async getAllKeys(r){return await this.init(),this.db?new Promise((a,n)=>{const o=this.db.transaction([r],"readonly").objectStore(r).getAllKeys();o.onsuccess=()=>{a(o.result)},o.onerror=()=>{n(o.error)}}):[]}}const ku=new t9,ie=na.create({baseURL:"https://hdmarket-backend.onrender.com/api",withCredentials:!0}),r9=120*1e3,MO="hdmarket:api-cache:",Tp="hdmarket:cache-keys",jO={"/products/public":180*1e3,"/shops":300*1e3,"/settings":600*1e3,"/search":120*1e3,"/categories":1800*1e3,"/cities":1800*1e3,"/users/notifications":60*1e3,"/users/profile/stats":120*1e3,"/admin/dashboard/stats":60*1e3},a9=Object.keys(jO),n9=["/users/auth","/users/login","/users/register","/cart","/orders/create","/admin","/payments","/support","/chat"],sN=()=>typeof window<"u",Y0=e=>{const r=e.url||"",a=e.baseURL||"";if(r.startsWith("http"))try{const n=new URL(r);return n.pathname+n.search}catch{return r.replace(a,"")}return r.replace(a,"")},RO=e=>{const r=Y0(e),a=e.params?new URLSearchParams(e.params).toString():"",n=a?r.includes("?")?`&${a}`:`?${a}`:"";return`${MO}${r}${n}`},Op=e=>{for(const[r,a]of Object.entries(jO))if(e.startsWith(r))return a;return r9},k5=async e=>{try{const r=await Wr.get(Tp)||[];r.includes(e)||(r.push(e),await Wr.set(Tp,r))}catch{}},mw=(e,r)=>{const a=["/products/public","/search","/shops"],n=r>102400;return a.some(s=>e.startsWith(s))||n},fw=async()=>{try{const e=await Wr.get(Tp)||[],r=[];for(const a of e)try{const n=await Wr.get(a);if(n){const s=Op(a.replace(MO,""));Date.now()-n.timestamp<s?r.push(a):await Wr.remove(a)}}catch{await Wr.remove(a)}await Wr.set(Tp,r),await ku.cleanup(Vn.CACHE)}catch{}};typeof window<"u"&&(fw(),setInterval(fw,300*1e3));const s9=async(e,r)=>{if(!sN())return null;try{if(mw(r,0))return await ku.get(Vn.CACHE,e);const a=await Wr.get(e);if(!a||typeof a!="object")return null;const n=Op(r);return Date.now()-a.timestamp>n?(await Wr.remove(e),null):a.data}catch{return null}},i9=async(e,r,a)=>{if(sN())try{const n=new Blob([JSON.stringify(r)]).size,s=Op(a);mw(a,n)?await ku.set(Vn.CACHE,e,r,s):await Wr.set(e,{timestamp:Date.now(),data:r}),await k5(e)}catch(n){if(n.name==="QuotaExceededError"||n.message?.includes("quota")){await fw();try{const s=new Blob([JSON.stringify(r)]).size,i=Op(a);mw(a,s)?await ku.set(Vn.CACHE,e,r,i):await Wr.set(e,{timestamp:Date.now(),data:r}),await k5(e)}catch{}}}},$O=e=>{if(!sN()||(e.method||"get").toLowerCase()!=="get"||e.skipCache||e.headers?.["x-skip-cache"])return!1;const r=Y0(e);return!r.startsWith("/")||n9.some(a=>r.startsWith(a))?!1:a9.some(a=>r.startsWith(a))};ie.interceptors.request.use(async e=>{e.headers=e.headers||{};const r=await Wr.get("qm_token");if(r&&(e.headers.Authorization=`Bearer ${r}`),$O(e)){const a=Y0(e),n=RO(e),s=await s9(n,a);s?e.adapter=async()=>({data:s,status:200,statusText:"OK",headers:{"x-cache":"HIT"},config:e,request:{fromCache:!0}}):(e.__cacheKey=n,e.__normalizedUrl=a)}return e});ie.interceptors.response.use(async e=>{if($O(e.config)){const r=e.config.__cacheKey||RO(e.config),a=e.config.__normalizedUrl||Y0(e.config);r&&e.status===200&&await i9(r,e.data,a)}return e},e=>{if(!e.response){const r="Impossible de joindre le serveur. Vrifiez votre connexion internet et ressayez.";window.dispatchEvent(new CustomEvent("hdmarket:network-error",{detail:{message:r},bubbles:!0,cancelable:!1}))}return Promise.reject(e)});class du extends Error{}du.prototype.name="InvalidTokenError";function o9(e){return decodeURIComponent(atob(e).replace(/(.)/g,(r,a)=>{let n=a.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function l9(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return o9(r)}catch{return atob(r)}}function c9(e,r){if(typeof e!="string")throw new du("Invalid token specified: must be a string");r||(r={});const a=r.header===!0?0:1,n=e.split(".")[a];if(typeof n!="string")throw new du(`Invalid token specified: missing part #${a+1}`);let s;try{s=l9(n)}catch(i){throw new du(`Invalid token specified: invalid base64 for part #${a+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new du(`Invalid token specified: invalid json for part #${a+1} (${i.message})`)}}const fr=h.createContext(),d9=async()=>{if(typeof window>"u")return null;try{const e=await Wr.get("qm_token");if(!e)return null;const r=c9(e),n=await Wr.get("qm_user")||{},s={...n,shopHours:Array.isArray(n.shopHours)?n.shopHours:[],shopVerified:!!n.shopVerified,phoneVerified:!!n.phoneVerified,followingShops:Array.isArray(n.followingShops)?n.followingShops:[],canReadFeedback:!!n.canReadFeedback,canVerifyPayments:!!n.canVerifyPayments};return{id:r.id,role:r.role,token:e,...s}}catch{return await Wr.remove("qm_token"),await Wr.remove("qm_user"),null}},u9=({children:e})=>{const[r,a]=h.useState(null),[n,s]=h.useState(!0);h.useEffect(()=>{d9().then(m=>{a(m),s(!1)})},[]);const i=async m=>{const{token:p,...f}=m||{};try{await Wr.set("qm_user",f)}catch{}},o=async m=>{await Wr.set("qm_token",m.token);const p={id:m._id,role:m.role,token:m.token,name:m.name,email:m.email,phone:m.phone,phoneVerified:!!m.phoneVerified,accountType:m.accountType||"person",shopName:m.shopName||"",shopAddress:m.shopAddress||"",shopLogo:m.shopLogo||"",shopBanner:m.shopBanner||"",shopDescription:m.shopDescription||"",shopHours:Array.isArray(m.shopHours)?m.shopHours:[],shopVerified:!!m.shopVerified,followingShops:Array.isArray(m.followingShops)?m.followingShops:[],canReadFeedback:!!m.canReadFeedback,canVerifyPayments:!!m.canVerifyPayments,country:m.country||"Rpublique du Congo",address:m.address||"",city:m.city||"",gender:m.gender||""};await i(p),a(p)},d=async()=>{await Wr.remove("qm_token"),await Wr.remove("qm_user"),a(null)};h.useEffect(()=>{(async()=>{if(r?.token)try{const{data:p}=await ie.get("/users/profile");u(p)}catch(p){if(p.response?.status===401)d();else if(p.response?.status===403&&p.response?.data?.code==="ACCOUNT_BLOCKED"){const f=p.response?.data?.message||"Votre compte est suspendu. Contactez ladministrateur pour plus dinformations.";d(),alert(f)}}})()},[r?.token]);const u=async m=>{a(p=>{if(!p)return p;const f={...p,...m};return i(f),f})};return t.createElement(fr.Provider,{value:{user:r,login:o,logout:d,updateUser:u}},e)},cc={items:[],totals:{quantity:0,subtotal:0},updatedAt:null},xl=h.createContext({cart:cc,loading:!1,error:"",addItem:async()=>{},updateItem:async()=>{},removeItem:async()=>{},clearCart:async()=>{},refresh:async()=>{}}),m9=({children:e})=>{const{user:r}=h.useContext(fr),[a,n]=h.useState(cc),[s,i]=h.useState(!1),[o,d]=h.useState(""),u=h.useCallback(w=>{n(w?{items:w.items||[],totals:w.totals||{quantity:0,subtotal:0},updatedAt:w.updatedAt||null}:cc)},[]),m=h.useCallback(async()=>{if(!r){n(cc),d("");return}i(!0);try{const{data:w}=await ie.get("/cart");u(w),d("")}catch(w){w.response?.status===401?n(cc):d(w.response?.data?.message||w.message||"Erreur lors du chargement du panier.")}finally{i(!1)}},[u,r]);h.useEffect(()=>{m()},[m]);const p=h.useCallback(async(w,x=1)=>{if(r){i(!0);try{const{data:N}=await ie.post("/cart/items",{productId:w,quantity:x});u(N),d("")}catch(N){throw d(N.response?.data?.message||N.message||"Impossible dajouter larticle au panier."),N}finally{i(!1)}}},[u,r]),f=h.useCallback(async(w,x)=>{if(r){i(!0);try{if(x<=0){const{data:N}=await ie.delete(`/cart/items/${w}`);u(N)}else{const{data:N}=await ie.put(`/cart/items/${w}`,{quantity:x});u(N)}d("")}catch(N){throw d(N.response?.data?.message||N.message||"Impossible de mettre  jour le panier."),N}finally{i(!1)}}},[u,r]),y=h.useCallback(async w=>{if(r){i(!0);try{const{data:x}=await ie.delete(`/cart/items/${w}`);u(x),d("")}catch(x){throw d(x.response?.data?.message||x.message||"Impossible de retirer larticle."),x}finally{i(!1)}}},[u,r]),b=h.useCallback(async()=>{if(!r){n(cc);return}i(!0);try{const{data:w}=await ie.delete("/cart");u(w),d("")}catch(w){throw d(w.response?.data?.message||w.message||"Impossible de vider le panier."),w}finally{i(!1)}},[u,r]),E=h.useMemo(()=>({cart:a,loading:s,error:o,addItem:p,updateItem:f,removeItem:y,clearCart:b,refresh:m}),[p,a,b,o,m,s,y,f]);return t.createElement(xl.Provider,{value:E},e)},ym=h.createContext({favorites:[],loading:!1,refreshFavorites:()=>Promise.resolve(),addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),toggleFavorite:()=>Promise.resolve(),isFavorite:()=>!1}),f9=({children:e})=>{const{user:r}=h.useContext(fr),[a,n]=h.useState([]),[s,i]=h.useState(!1),o=h.useCallback(async()=>{if(!r?.token){n([]);return}i(!0);try{const{data:y}=await ie.get("/users/favorites");n(Array.isArray(y)?y:[])}catch(y){console.error("Impossible de rcuprer les favoris.",y)}finally{i(!1)}},[r?.token]);h.useEffect(()=>{o()},[o]),h.useEffect(()=>{r?.token||(n([]),i(!1))},[r?.token]);const d=h.useCallback(y=>a.some(b=>b._id===y),[a]),u=h.useCallback(async y=>{if(!r?.token||!y?._id)throw new Error("Authentification requise");return await ie.post("/users/favorites",{productId:y._id}),n(b=>b.some(E=>E._id===y._id)?b:[{...y},...b]),!0},[r?.token]),m=h.useCallback(async y=>{if(!r?.token||!y)throw new Error("Authentification requise");return await ie.delete(`/users/favorites/${y}`),n(b=>b.filter(E=>E._id!==y)),!0},[r?.token]),p=h.useCallback(async y=>y?._id?d(y._id)?(await m(y._id),!1):(await u(y),!0):null,[d,u,m]),f=h.useMemo(()=>({favorites:a,loading:s,refreshFavorites:o,addFavorite:u,removeFavorite:m,toggleFavorite:p,isFavorite:d}),[a,s,o,u,m,p,d]);return t.createElement(ym.Provider,{value:f},e)},C5={waitingPayments:0,unreadFeedback:0};function p9(e){const[r,a]=h.useState(C5),[n,s]=h.useState(!1),[i,o]=h.useState(""),d=h.useCallback(async()=>{s(!0);try{const{data:u}=await ie.get("/admin/stats");a({waitingPayments:u?.payments?.waiting||0,unreadFeedback:u?.feedback?.unread||0}),o("")}catch(u){o(u.response?.data?.message||u.message||"Erreur lors du chargement des statistiques admin.")}finally{s(!1)}},[]);return h.useEffect(()=>{if(!e){a(C5);return}return d().catch(()=>{}),()=>{}},[e,d]),h.useEffect(()=>{if(!e)return()=>{};const u=()=>{d().catch(()=>{})};return window.addEventListener("hdmarket:admin-counts-refresh",u),()=>{window.removeEventListener("hdmarket:admin-counts-refresh",u)}},[e,d]),{counts:r,loading:n,error:i}}const g9=Object.freeze({product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,feedback_read:!0}),LO=()=>({...g9}),h9=(e={})=>{const r=LO();return Object.keys(r).forEach(a=>{typeof e[a]=="boolean"&&(r[a]=e[a])}),r},jf=()=>({commentAlerts:0,alerts:[],unreadCount:0,preferences:LO()});function IO(e){const[r,a]=h.useState(()=>jf()),[n,s]=h.useState(!1),[i,o]=h.useState(""),d="hdmarket:notifications-refresh",u=h.useCallback(async()=>{if(!e){const f=jf();return a(f),f}s(!0);try{const{data:f}=await ie.get("/users/notifications"),y=typeof f?.unreadCount=="number"?f.unreadCount:typeof f?.commentAlerts=="number"?f.commentAlerts:0,b=Array.isArray(f?.alerts)?f.alerts:[],E={commentAlerts:y,unreadCount:y,alerts:b,preferences:h9(f?.preferences)};return a(E),o(""),E}catch(f){return o(f.response?.data?.message||f.message||"Erreur lors du chargement des notifications."),jf()}finally{s(!1)}},[e]);h.useEffect(()=>{u()},[u]);const m=h.useRef(null),p=h.useRef(null);return h.useEffect(()=>{if(typeof window>"u")return()=>{};const f=()=>{m.current&&(m.current.close(),m.current=null)},y=()=>{p.current&&(clearTimeout(p.current),p.current=null)};if(!e)return f(),y(),a(jf()),o(""),()=>{f(),y()};const b=window.localStorage.getItem("qm_token");if(!b)return f(),y(),()=>{f(),y()};const E="https://hdmarket-backend.onrender.com/api",w=E.endsWith("/")?E:`${E}/`,x=new URL("users/notifications/stream",w);x.searchParams.set("token",b);const N=()=>{y(),f();const S=new EventSource(x.toString());m.current=S,S.onopen=()=>{u()},S.onmessage=k=>{if(k?.data){try{if(JSON.parse(k.data)?.type==="connected")return}catch{}u()}},S.onerror=()=>{f(),p.current=setTimeout(N,5e3)}};return N(),()=>{f(),y()}},[e,u]),h.useEffect(()=>{const f=()=>{u()};return window.addEventListener(d,f),()=>{window.removeEventListener(d,f)}},[u]),{counts:r,loading:n,error:i,refresh:u}}const xy=()=>{window.dispatchEvent(new Event("hdmarket:notifications-refresh"))},y9=(e,r="slug")=>{if(!e)return null;if(typeof e=="string")return e;if(typeof e=="object"){if(e[r])return e[r];if(e._id)return e._id;if(e.id)return e.id;if(e.slug)return e.slug}return null},DO=(e,r="slug")=>{if(!e)return null;if(typeof e=="string")return e;if(typeof e=="object"){if(e[r])return e[r];if(e.slug)return e.slug}return null},or=e=>{const r=DO(e,"slug");return r?`/product/${r}`:"/product"},la=e=>{const r=y9(e,"slug");return r?`/shop/${r}`:"/shop"},FO=(e,r="")=>{const a=r||(typeof window<"u"?window.location.origin:""),n=DO(e,"slug");return n?`${a}/product/${n}`:a};const b9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,n)=>n?n.toUpperCase():a.toLowerCase()),A5=e=>{const r=x9(e);return r.charAt(0).toUpperCase()+r.slice(1)},zO=(...e)=>e.filter((r,a,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===a).join(" ").trim(),v9=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var E9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w9=h.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...d},u)=>h.createElement("svg",{ref:u,...E9,width:r,height:r,stroke:e,strokeWidth:n?Number(a)*24/Number(r):a,className:zO("lucide",s),...!i&&!v9(d)&&{"aria-hidden":"true"},...d},[...o.map(([m,p])=>h.createElement(m,p)),...Array.isArray(i)?i:[i]]));const Ie=(e,r)=>{const a=h.forwardRef(({className:n,...s},i)=>h.createElement(w9,{ref:i,iconNode:r,className:zO(`lucide-${b9(A5(e))}`,`lucide-${e}`,n),...s}));return a.displayName=A5(e),a};const N9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],BO=Ie("activity",N9);const S9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],k9=Ie("archive",S9);const C9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cr=Ie("arrow-left",C9);const A9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qO=Ie("arrow-right",A9);const _9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],P9=Ie("arrow-up",_9);const T9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Es=Ie("award",T9);const O9=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_5=Ie("ban",O9);const M9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],P5=Ie("bell-ring",M9);const j9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ci=Ie("bell",j9);const R9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wn=Ie("calendar",R9);const $9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],UO=Ie("camera",$9);const L9=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],I9=Ie("car",L9);const D9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gn=Ie("chart-column",D9);const F9=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],VO=Ie("check-check",F9);const z9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ko=Ie("check",z9);const B9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hs=Ie("chevron-down",B9);const q9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],HO=Ie("chevron-left",q9);const U9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rr=Ie("chevron-right",U9);const V9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iN=Ie("chevron-up",V9);const H9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],br=Ie("circle-alert",H9);const W9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kt=Ie("circle-check-big",W9);const G9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ys=Ie("circle-check",G9);const K9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mn=Ie("circle-x",K9);const X9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ea=Ie("clipboard-list",X9);const Y9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],It=Ie("clock",Y9);const Q9=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],T5=Ie("corner-down-left",Q9);const J9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vs=Ie("credit-card",J9);const Z9=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],O5=Ie("crop",Z9);const eF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tF=Ie("crown",eF);const rF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ca=Ie("dollar-sign",rF);const aF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mp=Ie("download",aF);const nF=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],sF=Ie("dumbbell",nF);const iF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],oF=Ie("ellipsis-vertical",iF);const lF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cF=Ie("external-link",lF);const dF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Q0=Ie("eye-off",dF);const uF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jn=Ie("eye",uF);const mF=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fF=Ie("factory",mF);const pF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],gF=Ie("file-down",pF);const hF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ga=Ie("file-text",hF);const yF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ws=Ie("funnel",yF);const bF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],oN=Ie("grid-3x3",bF);const xF=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],vF=Ie("hash",xF);const EF=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],wF=Ie("headphones",EF);const NF=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],SF=Ie("heart-pulse",NF);const kF=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ar=Ie("heart",kF);const CF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hp=Ie("house",CF);const AF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rl=Ie("image",AF);const _F=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],PF=Ie("inbox",_F);const TF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lN=Ie("info",TF);const OF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yp=Ie("layout-grid",OF);const MF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],WO=Ie("list",MF);const jF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RF=Ie("loader-circle",jF);const $F=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],An=Ie("lock",$F);const LF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],M5=Ie("log-out",LF);const IF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],uo=Ie("mail",IF);const DF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sr=Ie("map-pin",DF);const FF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],zF=Ie("maximize-2",FF);const BF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],j5=Ie("menu",BF);const qF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pr=Ie("message-circle",qF);const UF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ra=Ie("message-square",UF);const VF=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],HF=Ie("minimize-2",VF);const WF=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],R5=Ie("moon",WF);const GF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wt=Ie("package",GF);const KF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],$5=Ie("panels-top-left",KF);const XF=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bp=Ie("paperclip",XF);const YF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cu=Ie("pen-line",YF);const QF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hi=Ie("phone",QF);const JF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],al=Ie("plus",JF);const ZF=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xp=Ie("power-off",ZF);const ez=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],vy=Ie("power",ez);const tz=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],GO=Ie("receipt",tz);const rz=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Sc=Ie("refresh-ccw",rz);const az=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mo=Ie("refresh-cw",az);const nz=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],sz=Ie("reply",nz);const iz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],L5=Ie("rotate-ccw",iz);const oz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bm=Ie("save",oz);const lz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zr=Ie("search",lz);const cz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J0=Ie("send",cz);const dz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Au=Ie("settings",dz);const uz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],I5=Ie("share-2",uz);const mz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ca=Ie("shield-check",mz);const fz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$r=Ie("shield",fz);const pz=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],gz=Ie("shirt",pz);const hz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Kn=Ie("shopping-bag",hz);const yz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],rn=Ie("shopping-cart",yz);const bz=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],jp=Ie("sliders-horizontal",bz);const xz=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],KO=Ie("smartphone",xz);const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Ez=Ie("smile",vz);const wz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],en=Ie("sparkles",wz);const Nz=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rf=Ie("square-check-big",Nz);const Sz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hu=Ie("square-pen",Sz);const kz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ey=Ie("square",kz);const Cz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gr=Ie("star",Cz);const Az=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],vr=Ie("store",Az);const _z=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D5=Ie("sun",_z);const Pz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ra=Ie("tag",Pz);const Tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pw=Ie("target",Tz);const Oz=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],gw=Ie("timer",Oz);const Mz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fo=Ie("trash-2",Mz);const jz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rr=Ie("trending-up",jz);const Rz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vp=Ie("triangle-alert",Rz);const $z=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],xr=Ie("truck",$z);const Lz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ji=Ie("upload",Lz);const Iz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XO=Ie("user-minus",Iz);const Dz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],YO=Ie("user-plus",Dz);const Fz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ha=Ie("user",Fz);const zz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ns=Ie("users",zz);const Bz=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],QO=Ie("video",Bz);const qz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],JO=Ie("wifi-off",qz);const Uz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Vz=Ie("wifi",Uz);const Hz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_t=Ie("x",Hz);const Wz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gc=Ie("zap",Wz);const Gz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Kz=Ie("zoom-in",Gz);function Za({verified:e,showLabel:r=!0,className:a="",verifiedLabel:n="Boutique vrifie",unverifiedLabel:s="Boutique non vrifie"}){const i=e?Ca:$r,o=e?n:s,d=e?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-gray-200 bg-gray-100 text-gray-500",u=r?"px-2":"px-1.5";return t.createElement("span",{className:`inline-flex items-center gap-1 rounded-full border ${u} py-0.5 text-[11px] font-semibold ${d} ${a}`,"aria-label":o,title:r?void 0:o},t.createElement(i,{size:12}),r?t.createElement("span",null,o):null)}const Xz=e=>{if(!e)return"";const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const n=new Date-r,s=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),o=Math.floor(n/(1e3*60*60*24));return s<1?" l'instant":s<60?`Il y a ${s} min`:i<24?`Il y a ${i} h`:o===1?"Hier":o<7?`Il y a ${o} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:o>365?"numeric":void 0})},Yl=(e,r)=>{if(!r||!e)return e;const a=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(a).map((s,i)=>a.test(s)?t.createElement("mark",{key:i,className:"bg-yellow-200 text-gray-900 rounded px-0.5"},s):s)},F5=e=>{const r=Number(e);return Number.isNaN(r)?"0 FCFA":r.toLocaleString("fr-FR")+" FCFA"};function Yz(){const e=Kr(),{user:r,logout:a}=h.useContext(fr),{cart:n}=h.useContext(xl),{favorites:s}=h.useContext(ym),i=n?.totals?.quantity||0,o=s.length,[d,u]=h.useState(0),[m,p]=h.useState(0),f=r?.role==="admin",y=r?.role==="manager",b=f||y,E=!!r?.canVerifyPayments,w=y?"Gestion":"Admin",x=!!(r&&!f),N=b||E,{counts:S}=p9(N),k=S.waitingPayments||0,P=S.unreadFeedback||0,{counts:C}=IO(!!r),_=C.commentAlerts||0,O=d>0,T=d>99?"99+":d,R=m>0,D=m>99?"99+":m,[j,L]=h.useState(!1),[K,W]=h.useState(!1),[$,J]=h.useState(""),[Q,X]=h.useState({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),[H,I]=h.useState(!1),[B,G]=h.useState(!1),[z,ae]=h.useState(""),[he,ve]=h.useState(!1),[_e,ee]=h.useState([]),[le,pe]=h.useState(!1),[Ne,oe]=h.useState([]),[re,Me]=h.useState(!1),[ge,$e]=h.useState(!1),[De,Ye]=h.useState({category:"",minPrice:"",maxPrice:"",city:"",shopVerified:!1,condition:""}),[Je,bt]=h.useState([]),[Ze,nt]=h.useState(!1),[ct,vt]=h.useState([]),[Zt,pt]=h.useState(!1),[ut,Lt]=h.useState(""),[zt,nr]=h.useState({desktop:"",mobile:""}),[Bt,xt]=h.useState(!1),we=h.useRef(null),[ot,ht]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<1024),Z=j&&ot,xe=h.useRef(he),fe=zt.desktop||zt.mobile,ye=zt.mobile||zt.desktop;h.useEffect(()=>{document.documentElement.classList.toggle("dark",K)},[K]),h.useEffect(()=>{if(!r)return u(0),()=>{};let ne=!1,rt;const Ke=async()=>{try{const{data:dt}=await ie.get("/orders?limit=50");if(!ne){const Dt=(Array.isArray(dt)?dt:dt?.items||[]).filter(Be=>Be?.status!=="delivered").length;u(Dt)}}catch{ne||u(0)}};return Ke(),rt=setInterval(Ke,6e4),()=>{ne=!0,rt&&clearInterval(rt)}},[r]),h.useEffect(()=>{if(!r||f)return p(0),()=>{};let ne=!1,rt;const Ke=async()=>{try{const{data:dt}=await ie.get("/orders/seller?limit=50");if(!ne){const Dt=(Array.isArray(dt)?dt:dt?.items||[]).filter(Be=>Be?.status!=="delivered").length;p(Dt)}}catch{ne||p(0)}};return Ke(),rt=setInterval(Ke,6e4),()=>{ne=!0,rt&&clearInterval(rt)}},[r,f]);const Y=h.useCallback(()=>{we.current&&(clearTimeout(we.current),we.current=null)},[]),U=h.useCallback(()=>{Y(),xt(!0)},[Y]),de=h.useCallback(()=>{Y(),we.current=setTimeout(()=>{xt(!1),we.current=null},1500)},[Y]);h.useEffect(()=>()=>{Y()},[Y]),h.useEffect(()=>{if(typeof window>"u")return;const ne=()=>{ht(window.innerWidth<1024)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),h.useEffect(()=>{Z&&(I(!1),ve(!1))},[Z]),h.useEffect(()=>{xe.current=he},[he]),h.useEffect(()=>{if(typeof document>"u")return;const ne=document.body;return j?ne.style.overflow="hidden":ne.style.overflow="",()=>{ne.style.overflow=""}},[j]),h.useEffect(()=>{if(!$.trim()){X({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),ae("");return}ve(!1);const ne=new AbortController,rt=setTimeout(async()=>{G(!0),ae("");try{const Ke=new URLSearchParams;Ke.append("q",$.trim()),De.category&&Ke.append("category",De.category),De.minPrice&&Ke.append("minPrice",De.minPrice),De.maxPrice&&Ke.append("maxPrice",De.maxPrice),De.city&&Ke.append("city",De.city),De.shopVerified&&Ke.append("shopVerified","true"),De.condition&&Ke.append("condition",De.condition);const{data:dt}=await ie.get(`/search?${Ke.toString()}`,{signal:ne.signal});X({products:Array.isArray(dt?.products)?dt.products:[],shops:Array.isArray(dt?.shops)?dt.shops:[],categories:Array.isArray(dt?.categories)?dt.categories:[],totals:dt?.totals||{products:0,shops:0,categories:0,total:0}}),I(!0)}catch(Ke){Ke.name!=="CanceledError"&&Ke.name!=="AbortError"&&(console.error("Search error:",Ke),ae("Erreur lors de la recherche. Veuillez ressayer."),X({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}))}finally{G(!1)}},300);return()=>{clearTimeout(rt),ne.abort()}},[$,De]);const Re=h.useCallback(async()=>{if(!r)return ee([]),[];pe(!0);try{const{data:ne}=await ie.get("/users/search-history"),rt=Array.isArray(ne)?ne:[];return ee(rt),rt}catch{return ee([]),[]}finally{pe(!1)}},[r]);h.useEffect(()=>{let ne=!1;return(async()=>{Me(!0);try{const{data:Ke}=await ie.get("/search/popular");!ne&&Array.isArray(Ke)&&oe(Ke.slice(0,8))}catch{ne||oe([{query:"iPhone",count:150},{query:"Samsung",count:120},{query:"Chaussures",count:100},{query:"MacBook",count:90},{query:"Vtements",count:85},{query:"Tlphone",count:80},{query:"Ordinateur",count:75},{query:"Accessoires",count:70}])}finally{ne||Me(!1)}})(),()=>{ne=!0}},[]);const Ve=async()=>{if(!r){e("/login",{state:{from:"/profile"}});return}await Re(),I(!0),ve(!0)},Qe=()=>{ve(!1),I(!1)},Pt=async ne=>{if(ne)try{await ie.delete(`/users/search-history/${ne}`),ee(rt=>rt.filter(Ke=>Ke._id!==ne))}catch{}},q=async()=>{if(r)try{await ie.delete("/users/search-history"),ee([])}catch{}},ue=ne=>{const rt=ne.metadata?.type,Ke=ne.metadata?.targetSlug,dt=ne.metadata?.targetId,mt=!!Ke;return rt==="shop"?mt||dt?la(mt?{slug:Ke}:{_id:dt}):"/shops/verified":mt?or({slug:Ke}):"/shops/verified"},ke=ne=>{I(!1),ve(!1);const rt=$.trim();if(rt&&r)try{ie.post("/users/search-history",{query:rt,metadata:{type:ne?.type,targetId:ne?._id,targetSlug:ne?.slug}}).then(Ke=>{const dt=Ke.data;dt&&ee(mt=>[dt,...mt].slice(0,20))}).catch(()=>{})}catch{}if(J(""),X({products:[],shops:[],categories:[],totals:{products:0,shops:0,categories:0,total:0}}),ne?.type==="shop"){e(la(ne));return}if(ne?.type==="category"){e(`/products?category=${encodeURIComponent(ne.title)}&search=${encodeURIComponent($.trim())}`);return}ne?.slug&&e(or(ne))},Pe=ne=>{if(ne.key==="Enter"){ne.preventDefault();const{products:rt=[],shops:Ke=[],categories:dt=[]}=Q||{},mt=[...rt,...Ke,...dt];mt.length>0&&ke(mt[0])}},ze=ne=>{I(!1),ve(!1),e(`/products?category=${encodeURIComponent(ne.title)}&search=${encodeURIComponent($.trim())}`),J("")},tt=ne=>{if(!ne)return;const rt=ue(ne);rt&&(Qe(),e(rt))},He=(ne,rt)=>{Ye(Ke=>({...Ke,[ne]:rt}))},jt=()=>{Ye({category:"",minPrice:"",maxPrice:"",city:"",shopVerified:!1,condition:""})},Nt=De.category||De.minPrice||De.maxPrice||De.city||De.shopVerified||De.condition,St=()=>t.createElement("div",{className:"px-4 py-3 flex items-center gap-3 animate-pulse"},t.createElement("div",{className:"h-12 w-12 rounded-lg bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),t.createElement("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}))),sa=()=>t.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},t.createElement("button",{type:"button",onClick:()=>$e(!ge),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(ws,{size:16,className:"text-gray-600 dark:text-gray-400"}),t.createElement("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"Filtres"),Nt&&t.createElement("span",{className:"bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},[De.category&&1,De.minPrice&&1,De.maxPrice&&1,De.city&&1,De.shopVerified&&1,De.condition&&1].filter(Boolean).length)),t.createElement(hs,{size:16,className:`text-gray-500 transition-transform ${ge?"rotate-180":""}`})),ge&&t.createElement("div",{className:"px-4 py-3 space-y-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("div",null,t.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Catgorie"),t.createElement("select",{value:De.category,onChange:ne=>He("category",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},t.createElement("option",{value:""},"Toutes les catgories"),Ze?t.createElement("option",{disabled:!0},"Chargement..."):Je.map(ne=>t.createElement("option",{key:ne,value:ne},ne)))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Prix (FCFA)"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("input",{type:"number",placeholder:"Min",value:De.minPrice,onChange:ne=>He("minPrice",ne.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0"}),t.createElement("span",{className:"text-gray-500"},"-"),t.createElement("input",{type:"number",placeholder:"Max",value:De.maxPrice,onChange:ne=>He("maxPrice",ne.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:"0"}))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},t.createElement(Sr,{size:12,className:"inline mr-1"}),"Ville"),t.createElement("select",{value:De.city,onChange:ne=>He("city",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},t.createElement("option",{value:""},"Toutes les villes"),t.createElement("option",{value:"Brazzaville"},"Brazzaville"),t.createElement("option",{value:"Pointe-Noire"},"Pointe-Noire"),t.createElement("option",{value:"Ouesso"},"Ouesso"),t.createElement("option",{value:"Oyo"},"Oyo"))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"tat"),t.createElement("select",{value:De.condition,onChange:ne=>He("condition",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},t.createElement("option",{value:""},"Tous les tats"),t.createElement("option",{value:"new"},"Neuf"),t.createElement("option",{value:"used"},"Occasion"))),t.createElement("div",null,t.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},t.createElement("input",{type:"checkbox",checked:De.shopVerified,onChange:ne=>He("shopVerified",ne.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),t.createElement("span",{className:"text-sm text-gray-700 dark:text-gray-300"},"Boutiques vrifies uniquement"))),Nt&&t.createElement("button",{type:"button",onClick:jt,className:"w-full px-3 py-2 text-sm font-semibold text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},"Effacer les filtres"))),Xr=ne=>{J(ne),I(!0)},La=()=>{const ne=_e.slice(0,5),rt=ne.length>0,Ke=Je.slice(0,4),dt=ct.filter(mt=>mt.verified).slice(0,4);return t.createElement("div",{className:"max-h-[400px] overflow-auto"},r&&rt&&t.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(It,{size:14,className:"text-indigo-600 dark:text-indigo-400"}),t.createElement("span",{className:"text-xs font-bold text-indigo-700 dark:text-indigo-300 uppercase tracking-wide"},"Recherches rcentes")),t.createElement("button",{type:"button",onClick:Ve,className:"text-[10px] font-semibold text-indigo-600 dark:text-indigo-400 hover:underline"},"Voir tout"))),t.createElement("div",{className:"p-2 flex flex-wrap gap-2"},ne.map(mt=>t.createElement("button",{key:mt._id,type:"button",onClick:()=>Xr(mt.query),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gray-100 dark:bg-gray-800 text-sm text-gray-700 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 hover:text-indigo-700 dark:hover:text-indigo-300 transition-colors"},t.createElement(It,{size:12,className:"text-gray-400"}),t.createElement("span",{className:"truncate max-w-[120px]"},mt.query))))),t.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(rr,{size:14,className:"text-amber-600 dark:text-amber-400"}),t.createElement("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300 uppercase tracking-wide"},"Recherches populaires"))),t.createElement("div",{className:"p-2"},re?t.createElement("div",{className:"flex flex-wrap gap-2"},[1,2,3,4].map(mt=>t.createElement("div",{key:mt,className:"h-8 w-24 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}))):t.createElement("div",{className:"flex flex-wrap gap-2"},Ne.map((mt,Dt)=>t.createElement("button",{key:Dt,type:"button",onClick:()=>Xr(mt.query),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-amber-50 dark:bg-amber-900/20 text-sm text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900/40 border border-amber-200 dark:border-amber-700/50 transition-colors"},t.createElement(en,{size:12,className:"text-amber-500"}),t.createElement("span",null,mt.query),mt.count&&t.createElement("span",{className:"text-[10px] text-amber-500 dark:text-amber-400"},"(",mt.count>99?"99+":mt.count,")")))))),Ke.length>0&&t.createElement("div",{className:"border-b border-gray-100 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Ra,{size:14,className:"text-blue-600 dark:text-blue-400"}),t.createElement("span",{className:"text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-wide"},"Catgories"))),t.createElement("div",{className:"p-2 grid grid-cols-2 gap-2"},Ke.map(mt=>t.createElement("button",{key:mt._id||mt.title,type:"button",onClick:()=>{I(!1),e(`/products?category=${encodeURIComponent(mt.title)}`)},className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all text-left group"},t.createElement("div",{className:"p-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/40 transition-colors"},t.createElement(Ra,{size:14,className:"text-blue-600 dark:text-blue-400"})),t.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate"},mt.title))))),dt.length>0&&t.createElement("div",null,t.createElement("div",{className:"px-4 py-2.5 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(vr,{size:14,className:"text-purple-600 dark:text-purple-400"}),t.createElement("span",{className:"text-xs font-bold text-purple-700 dark:text-purple-300 uppercase tracking-wide"},"Boutiques vrifies")),t.createElement(be,{to:"/shops/verified",onClick:()=>I(!1),className:"text-[10px] font-semibold text-purple-600 dark:text-purple-400 hover:underline"},"Voir tout"))),t.createElement("div",{className:"p-2 space-y-1"},dt.map(mt=>t.createElement("button",{key:mt._id,type:"button",onClick:()=>{I(!1),e(la(mt))},className:"w-full flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors text-left group"},t.createElement("img",{src:mt.shopLogo||"/api/placeholder/40/40",alt:mt.shopName,className:"w-10 h-10 rounded-lg object-cover border border-gray-200 dark:border-gray-700",onError:Dt=>{Dt.target.src="/api/placeholder/40/40"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center gap-1"},t.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},mt.shopName),t.createElement(Za,{verified:mt.verified,showLabel:!1})),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},mt.shopAddress||"HDMarket")),t.createElement(Rr,{size:16,className:"text-gray-300 dark:text-gray-600 group-hover:text-purple-500 transition-colors"}))))))},Yr=()=>{const{products:ne=[],shops:rt=[],categories:Ke=[],totals:dt={}}=Q||{},mt=(ne?.length||0)>0||(rt?.length||0)>0||(Ke?.length||0)>0,Dt=dt?.total||0;return!$.trim()&&!he?La():t.createElement(t.Fragment,null,B&&t.createElement("div",{className:"py-2"},[1,2,3].map(Be=>t.createElement(St,{key:Be}))),!B&&z&&t.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},t.createElement(br,{size:16}),z),!B&&!z&&!mt&&$.trim()&&t.createElement("div",{className:"px-4 py-6 text-center text-gray-500"},t.createElement("p",{className:"text-sm"},"Aucun rsultat pour  ",$," "),t.createElement("p",{className:"text-xs mt-2 text-gray-400"},"Essayez avec d'autres mots-cls")),!B&&!z&&mt&&t.createElement("div",{className:"max-h-96 overflow-auto"},ne.length>0&&t.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Produits (",(dt?.products||0)>ne.length?`${ne.length} sur ${dt.products}`:ne.length,")"))),ne.map(Be=>t.createElement("button",{key:Be._id,type:"button",onClick:()=>ke(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},t.createElement("img",{src:Be.image||Be.shopLogo||"/api/placeholder/60/60",alt:Be.title,className:"h-12 w-12 rounded-lg object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Er=>{Er.target.src="/api/placeholder/60/60"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm block truncate"},Yl(Be.title,$)),t.createElement("div",{className:"text-gray-500 text-xs flex items-center gap-2 mt-1 flex-wrap"},Be.price&&t.createElement("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400"},F5(Be.price),Be.discount>0&&t.createElement("span",{className:"ml-1 text-green-600 dark:text-green-400"},"(-",Be.discount,"%)")),Be.rating>0&&t.createElement("span",{className:"flex items-center gap-1"},t.createElement(gr,{size:12,className:"fill-yellow-400 text-yellow-400"}),t.createElement("span",null,Be.rating.toFixed(1)),Be.ratingCount>0&&t.createElement("span",{className:"text-gray-400"},"(",Be.ratingCount,")")),Be.condition&&t.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${Be.condition==="new"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`},Be.condition==="new"?"Neuf":"Occasion"),Be.shopName&&t.createElement("span",{className:"flex items-center gap-1 truncate"},Be.shopName,t.createElement(Za,{verified:!!Be.shopVerified,showLabel:!1})),Be.category&&t.createElement("span",{className:"truncate"},Be.category)))))),rt.length>0&&t.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Boutiques (",(dt?.shops||0)>rt.length?`${rt.length} sur ${dt?.shops||0}`:rt.length,")")),rt.map(Be=>t.createElement("button",{key:Be._id,type:"button",onClick:()=>ke(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},t.createElement("img",{src:Be.image||Be.shopLogo||"/api/placeholder/60/60",alt:Be.title,className:"h-12 w-12 rounded-lg object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Er=>{Er.target.src="/api/placeholder/60/60"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm block truncate"},Yl(Be.title,$)),t.createElement("div",{className:"text-gray-500 text-xs flex items-center gap-2 mt-1 flex-wrap"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(wt,{size:12}),t.createElement("span",null,Be.productCount||0," produit",Be.productCount!==1?"s":"")),Be.shopAddress&&t.createElement("span",{className:"truncate"},Be.shopAddress),t.createElement(Za,{verified:!!Be.shopVerified,showLabel:!1})))))),Ke.length>0&&t.createElement("div",null,t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Catgories (",Ke.length,")")),Ke.map(Be=>t.createElement("button",{key:Be._id,type:"button",onClick:()=>ze(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors"},t.createElement("div",{className:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0"},t.createElement(Ra,{size:20,className:"text-blue-600 dark:text-blue-400"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"font-semibold text-gray-900 dark:text-white text-sm"},Yl(Be.title,$)),t.createElement("div",{className:"text-gray-500 text-xs mt-1"},"Voir tous les produits de cette catgorie"))))),$.trim()&&Dt>0&&t.createElement("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-center sticky bottom-0"},t.createElement(be,{to:`/products?search=${encodeURIComponent($.trim())}`,className:"font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 inline-flex items-center gap-2",onClick:()=>{ve(!1),I(!1)}},"Voir tous les rsultats (",Dt,")",t.createElement(hs,{size:16,className:"rotate-[-90deg]"})))))},er=()=>{const{products:ne=[],shops:rt=[],categories:Ke=[],totals:dt={}}=Q||{},mt=(ne?.length||0)>0||(rt?.length||0)>0||(Ke?.length||0)>0,Dt=dt?.total||0;return!$.trim()&&!he?La():t.createElement(t.Fragment,null,$.trim()&&sa(),B&&t.createElement("div",{className:"py-2"},[1,2,3].map(Be=>t.createElement(St,{key:Be}))),!B&&z&&t.createElement("div",{className:"px-4 py-3 flex items-center space-x-3 text-red-500 text-sm"},t.createElement(br,{size:16}),z),!B&&!z&&!mt&&$.trim()&&t.createElement("div",{className:"px-4 py-6 text-center text-gray-500"},t.createElement("p",{className:"text-sm"},"Aucun rsultat pour  ",$," "),t.createElement("p",{className:"text-xs mt-2 text-gray-400"},"Essayez avec d'autres mots-cls")),!B&&!z&&mt&&t.createElement("div",{className:"max-h-80 overflow-auto"},ne.length>0&&t.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Produits (",dt.products>ne.length?`${ne.length} sur ${dt.products}`:ne.length,")")),ne.map(Be=>{const Er=Be.image||Be.shopLogo||"/api/placeholder/60/60";return t.createElement("button",{key:Be._id,type:"button",onClick:()=>ke(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},t.createElement("img",{src:Er,alt:Be.title||"Rsultat de recherche",className:"w-14 h-14 rounded-xl object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ft=>{Ft.currentTarget.src="/api/placeholder/60/60"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate"},Yl(Be.title,$)),t.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1 flex-wrap"},Be.price&&t.createElement("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400"},F5(Be.price),Be.discount>0&&t.createElement("span",{className:"ml-1 text-green-600 dark:text-green-400"},"(-",Be.discount,"%)")),Be.rating>0&&t.createElement("span",{className:"flex items-center gap-1"},t.createElement(gr,{size:12,className:"fill-yellow-400 text-yellow-400"}),t.createElement("span",null,Be.rating.toFixed(1)),Be.ratingCount>0&&t.createElement("span",{className:"text-gray-400"},"(",Be.ratingCount,")")),Be.condition&&t.createElement("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${Be.condition==="new"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`},Be.condition==="new"?"Neuf":"Occasion"),Be.shopName&&t.createElement("span",{className:"flex items-center gap-1 truncate"},Be.shopName,t.createElement(Za,{verified:!!Be.shopVerified,showLabel:!1})))))})),rt.length>0&&t.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Boutiques (",(dt?.shops||0)>rt.length?`${rt.length} sur ${dt?.shops||0}`:rt.length,")")),rt.map(Be=>{const Er=Be.image||Be.shopLogo||"/api/placeholder/60/60";return t.createElement("button",{key:Be._id,type:"button",onClick:()=>ke(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},t.createElement("img",{src:Er,alt:Be.title||"Boutique",className:"w-14 h-14 rounded-xl object-cover border border-gray-200 dark:border-gray-600 flex-shrink-0",onError:Ft=>{Ft.currentTarget.src="/api/placeholder/60/60"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate"},Yl(Be.title,$)),t.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1 flex-wrap"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(wt,{size:12}),t.createElement("span",null,Be.productCount||0," produit",Be.productCount!==1?"s":"")),Be.shopAddress&&t.createElement("span",{className:"truncate"},Be.shopAddress),t.createElement(Za,{verified:!!Be.shopVerified,showLabel:!1}))))})),Ke.length>0&&t.createElement("div",null,t.createElement("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},t.createElement("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Catgories (",Ke.length,")")),Ke.map(Be=>t.createElement("button",{key:Be._id,type:"button",onClick:()=>ze(Be),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0"},t.createElement("div",{className:"w-14 h-14 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0"},t.createElement(Ra,{size:20,className:"text-blue-600 dark:text-blue-400"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white text-sm"},Yl(Be.title,$)),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Voir tous les produits"))))),$.trim()&&Dt>0&&t.createElement("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-center sticky bottom-0"},t.createElement(be,{to:`/products?search=${encodeURIComponent($.trim())}`,className:"font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 inline-flex items-center gap-2",onClick:()=>{ve(!1),I(!1)}},"Voir tous les rsultats (",Dt,")",t.createElement(hs,{size:16,className:"rotate-[-90deg]"})))))},Yt=()=>t.createElement("div",{className:"text-sm text-gray-900 dark:text-white"},t.createElement("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 px-4 py-3 rounded-t-2xl"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm"},t.createElement(It,{size:16,className:"text-white"})),t.createElement("div",null,t.createElement("h3",{className:"text-sm font-semibold text-white"},"Historique"),t.createElement("p",{className:"text-[10px] text-indigo-100"},_e.length?`${_e.length} recherche${_e.length>1?"s":""}`:"Aucune recherche"))),t.createElement("div",{className:"flex items-center gap-1"},_e.length>0&&t.createElement("button",{type:"button",onClick:q,className:"text-[10px] font-medium text-white/80 hover:text-white px-2 py-1 rounded-lg hover:bg-white/10 transition-colors"},"Tout effacer"),t.createElement("button",{type:"button","aria-label":"Fermer l'historique",onClick:Qe,className:"p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors"},t.createElement(_t,{size:16}))))),t.createElement("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-b-2xl"},t.createElement("div",{className:"space-y-2 max-h-64 overflow-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-700"},le?t.createElement("div",{className:"space-y-2"},[1,2,3].map(ne=>t.createElement("div",{key:ne,className:"flex items-center gap-3 p-3 rounded-xl bg-white dark:bg-gray-800 animate-pulse"},t.createElement("div",{className:"h-8 w-8 rounded-lg bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),t.createElement("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}))))):_e.length?_e.map((ne,rt)=>{const Ke=ne.metadata?.type==="shop"?"Boutique":ne.metadata?.type==="category"?"Catgorie":"Produit",dt=ne.metadata?.type==="shop"?t.createElement(vr,{size:14,className:"text-purple-500"}):ne.metadata?.type==="category"?t.createElement(Ra,{size:14,className:"text-blue-500"}):t.createElement(wt,{size:14,className:"text-indigo-500"}),mt=ne.metadata?.type==="shop"?"bg-purple-100 dark:bg-purple-900/30":ne.metadata?.type==="category"?"bg-blue-100 dark:bg-blue-900/30":"bg-indigo-100 dark:bg-indigo-900/30";return t.createElement("div",{key:ne._id,role:"button",tabIndex:0,onClick:()=>tt(ne),onKeyDown:Dt=>{(Dt.key==="Enter"||Dt.key===" ")&&(Dt.preventDefault(),tt(ne))},className:"group flex items-center gap-3 p-2.5 rounded-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-md hover:shadow-indigo-100 dark:hover:shadow-indigo-900/20 transition-all duration-200 cursor-pointer",style:{animationDelay:`${rt*50}ms`}},t.createElement("div",{className:`p-2 rounded-lg ${mt} flex-shrink-0`},dt),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},ne.query),t.createElement("div",{className:"flex items-center gap-2 mt-0.5"},t.createElement("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium ${ne.metadata?.type==="shop"?"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300":ne.metadata?.type==="category"?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"}`},Ke),t.createElement("span",{className:"text-[10px] text-gray-400 dark:text-gray-500"},Xz(ne.createdAt)))),t.createElement("div",{className:"flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"},t.createElement("button",{type:"button",onClick:Dt=>{Dt.stopPropagation(),tt(ne)},className:"p-1.5 text-indigo-600 hover:bg-indigo-100 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Rechercher"},t.createElement(zr,{size:14})),t.createElement("button",{type:"button",onClick:Dt=>{Dt.stopPropagation(),Pt(ne._id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Supprimer"},t.createElement(fo,{size:14}))),t.createElement(Rr,{size:14,className:"text-gray-300 dark:text-gray-600 group-hover:text-indigo-400 transition-colors flex-shrink-0"}))}):t.createElement("div",{className:"text-center py-8"},t.createElement("div",{className:"inline-flex p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3"},t.createElement(It,{size:24,className:"text-gray-400"})),t.createElement("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Aucun historique"),t.createElement("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"Vos recherches rcentes apparatront ici")))));return h.useEffect(()=>{let ne=!1;return(async()=>{pt(!0),Lt("");try{const{data:Ke}=await ie.get("/shops");ne||vt(Array.isArray(Ke)?Ke:[])}catch(Ke){ne||(console.error("Shops loading error:",Ke),Lt("Impossible de charger les boutiques. Vrifiez votre connexion."),vt([]))}finally{ne||pt(!1)}})(),()=>{ne=!0}},[]),h.useEffect(()=>{let ne=!1;return(async()=>{try{const{data:Ke}=await ie.get("/settings/app-logo");if(ne)return;nr({desktop:Ke?.appLogoDesktop||"",mobile:Ke?.appLogoMobile||""})}catch{ne||nr({desktop:"",mobile:""})}})(),()=>{ne=!0}},[]),t.createElement(t.Fragment,null,t.createElement("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 shadow-lg border-b border-gray-200/50 dark:border-gray-800/50",style:{paddingTop:"env(safe-area-inset-top)"}},t.createElement("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",style:{maxWidth:"1083px"}},t.createElement("div",{className:"flex items-center justify-between h-16 sm:h-16 pt-0"},t.createElement(be,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 group active:scale-95 transition-transform"},fe||ye?t.createElement(t.Fragment,null,t.createElement("img",{src:ye||fe,alt:"Logo HDMarket",className:"h-10 w-10 sm:h-14 sm:w-14 rounded-xl object-contain border border-gray-200/60 dark:border-gray-700/60 bg-white dark:bg-gray-800 shadow-sm sm:shadow-md transition-all duration-300 group-hover:shadow-lg sm:hidden"}),t.createElement("img",{src:fe||ye,alt:"Logo HDMarket",className:"hidden h-[138px] w-auto max-w-[200px] object-contain sm:block transition-all duration-300 group-hover:scale-105",style:{lineHeight:"28px"}})):t.createElement(t.Fragment,null,t.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-600 rounded-xl flex items-center justify-center shadow-md sm:shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105"},t.createElement("span",{className:"text-white font-black text-sm sm:text-base"},"HD")),t.createElement("div",{className:"hidden sm:flex flex-col"},t.createElement("span",{className:"text-xl font-black text-indigo-600"},"HDMarket"),t.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-1"},"Marketplace Premium")))),r&&t.createElement("div",{className:"md:hidden flex items-center gap-2"},t.createElement(be,{to:"/notifications",className:"relative flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 active:scale-95","aria-label":"Notifications"},t.createElement(ci,{className:"text-gray-600 dark:text-gray-300",size:18}),_>0&&t.createElement("span",{className:"absolute -top-0.5 -right-0.5 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center shadow-lg"},_>99?"99+":_))),t.createElement("div",{className:"hidden md:flex items-center gap-2"},t.createElement(Qt,{to:"/",className:({isActive:ne})=>`flex items-center gap-2 px-3 py-2 rounded-xl transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"}`},t.createElement(hp,{size:18}),t.createElement("span",{className:"font-medium"},"Accueil")),t.createElement("div",{className:"relative"},t.createElement("button",{onClick:()=>{window.matchMedia("(max-width: 767px)").matches&&(e("/shops/verified"),xt(!1))},onMouseEnter:ne=>{window.matchMedia("(max-width: 767px)").matches||U()},onMouseLeave:ne=>{window.matchMedia("(max-width: 767px)").matches||de()},className:"flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},t.createElement(vr,{size:18}),t.createElement("span",{className:"font-medium"},"Boutiques"),t.createElement(hs,{size:16,className:`transition-transform duration-200 ${Bt?"rotate-180":""}`})),Bt&&t.createElement("div",{className:"absolute left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl z-40 overflow-hidden",onMouseEnter:U,onMouseLeave:de},t.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between gap-3"},t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 dark:text-white"},"Nos Boutiques"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Dcouvrez nos vendeurs professionnels")),t.createElement(be,{to:"/shops/verified",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500",onClick:()=>xt(!1)},"Tout voir ")),t.createElement("div",{className:"max-h-96 overflow-auto"},Zt?t.createElement("div",{className:"p-4 flex items-center justify-center"},t.createElement("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-indigo-600 border-t-transparent"})):ut?t.createElement("div",{className:"p-4 text-center text-red-500 text-sm flex items-center justify-center gap-2"},t.createElement(br,{size:16}),ut):ct.length===0?t.createElement("div",{className:"p-4 text-center text-gray-500 text-sm"},"Aucune boutique enregistre pour le moment."):t.createElement("div",{className:"p-2"},ct.map(ne=>t.createElement(be,{key:ne._id,to:la(ne),className:"flex items-center gap-3 rounded-xl p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",onClick:()=>xt(!1)},t.createElement("img",{src:ne.shopLogo||"/api/placeholder/60/60",alt:ne.shopName,className:"h-12 w-12 rounded-xl object-cover border border-gray-200 dark:border-gray-600 group-hover:border-indigo-300 transition-colors",onError:rt=>{rt.target.src="/api/placeholder/60/60"}}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:"font-semibold text-gray-900 dark:text-white text-sm block group-hover:text-indigo-600 transition-colors"},ne.shopName),t.createElement(Za,{verified:!!ne.shopVerified,showLabel:!1})),t.createElement("span",{className:"text-xs text-gray-500 block mt-1 truncate"},ne.shopAddress||"Adresse non renseigne"),t.createElement("span",{className:"text-xs text-indigo-600 font-semibold"},ne.productCount||0," annonce",ne.productCount>1?"s":"")))))))),r&&t.createElement(t.Fragment,null,t.createElement(Qt,{to:"/notifications",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},t.createElement(ci,{size:18}),t.createElement("span",{className:"font-medium"},"Notifications"),_>0&&t.createElement("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},_)),t.createElement(Qt,{to:"/orders/messages",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},t.createElement(ra,{size:18}),t.createElement("span",{className:"font-medium"},"Messages")),x&&t.createElement(Qt,{to:"/seller/orders",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},t.createElement(wt,{size:18}),t.createElement("span",{className:"font-medium"},"Commandes clients"),R&&t.createElement("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},D))),b&&t.createElement(Qt,{to:"/admin",className:"relative flex items-center gap-2 px-3 py-2 rounded-xl text-amber-700 dark:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-all duration-200"},t.createElement(Au,{size:18}),t.createElement("span",{className:"font-medium"},w),k>0&&t.createElement("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-black text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center"},k)),b&&t.createElement(Qt,{to:"/admin/orders",className:"flex items-center gap-2 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},t.createElement(ea,{size:18}),t.createElement("span",{className:"font-medium"},"Commandes")),t.createElement("button",{onClick:()=>W(ne=>!ne),className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200","aria-label":K?"Activer le mode clair":"Activer le mode sombre"},K?t.createElement(D5,{size:18}):t.createElement(R5,{size:18})),r?t.createElement("div",{className:"relative group"},t.createElement("button",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200"},t.createElement("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center"},t.createElement("span",{className:"text-white font-semibold text-sm"},r.name?.charAt(0)?.toUpperCase()||"U")),t.createElement("span",{className:"font-medium text-gray-700 dark:text-gray-200 max-w-24 truncate hidden lg:block"},r.name||"Mon compte"),t.createElement(hs,{size:16,className:"text-gray-500 hidden lg:block"})),t.createElement("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50"},t.createElement("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white truncate"},r.name||"Utilisateur"),t.createElement("p",{className:"text-sm text-gray-500 truncate"},r.email)),t.createElement("div",{className:"p-2"},t.createElement(be,{to:"/profile",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(ha,{size:16}),t.createElement("span",null,"Mon profil")),t.createElement(be,{to:"/my",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(wt,{size:16}),t.createElement("span",null,"Mes annonces")),t.createElement(be,{to:"/orders",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(ea,{size:16}),t.createElement("span",null,"Mes commandes"),O&&t.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},T)),b&&t.createElement(be,{to:"/admin/delivery-guys",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(xr,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Livreurs")),r?.role==="admin"&&t.createElement(be,{to:"/admin/chat-templates",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(ra,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Chat templates")),r?.role==="admin"&&t.createElement(be,{to:"/admin/product-boosts",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(en,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Boost produits")),r?.role==="admin"&&t.createElement(be,{to:"/admin/settings",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(jp,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"App Settings")),(f||r?.canReadFeedback)&&t.createElement(be,{to:"/admin/feedback",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(ra,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Avis amlioration"),P>0&&t.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},P>99?"99+":P)),(f||r?.canVerifyPayments)&&t.createElement(be,{to:"/admin/payment-verification",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(Kt,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Vrifier paiements"),k>0&&t.createElement("span",{className:"ml-auto flex items-center justify-center min-w-[22px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},k>99?"99+":k)),f&&t.createElement(be,{to:"/admin/payment-verifiers",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(Ns,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Vrificateurs paiements")),f&&t.createElement(be,{to:"/admin/reports",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(Ga,{size:16}),t.createElement("span",{className:"text-sm font-semibold"},"Rapports")),t.createElement(be,{to:"/my/stats",className:"flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(Gn,{size:16}),t.createElement("span",null,"Statistiques")),t.createElement(be,{to:"/favorites",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(Ar,{size:16}),t.createElement("span",null,"Favoris"),o>0&&t.createElement("span",{className:"ml-auto bg-pink-500 text-white text-xs font-bold px-2 py-0.5 rounded-full"},o)),t.createElement(be,{to:"/cart",className:"relative flex items-center gap-3 px-3 py-2 rounded-xl text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},t.createElement(rn,{size:16}),t.createElement("span",null,"Panier"),i>0&&t.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded-full"},i)),t.createElement("button",{onClick:a,className:"flex items-center gap-3 px-3 py-2 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left"},t.createElement(M5,{size:16}),t.createElement("span",null,"Dconnexion"))))):t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Qt,{to:"/login",className:"px-3 py-2 rounded-xl border border-indigo-600 text-indigo-600 font-medium hover:bg-indigo-50 transition-all duration-200"},"Connexion"),t.createElement(Qt,{to:"/register",className:"px-3 py-2 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200"},"Inscription"))),t.createElement("button",{onClick:()=>L(!j),className:`md:hidden flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-300 active:scale-95 ${j?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700"}`,"aria-label":j?"Fermer le menu":"Ouvrir le menu"},j?t.createElement(_t,{size:20,strokeWidth:2.5}):t.createElement(j5,{size:20,strokeWidth:2})))),!Z&&t.createElement("div",{className:"hidden lg:block mt-2 border-t border-gray-200 dark:border-gray-800 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3"},t.createElement("div",{className:"flex items-center justify-center"},t.createElement("div",{className:"w-full max-w-2xl"},t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),t.createElement("input",{type:"text",value:$,onChange:ne=>J(ne.target.value),placeholder:"Rechercher des produits, marques, catgories ou boutiques...",className:"w-full pl-12 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border-0 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-all duration-200 placeholder-gray-500 text-sm",onFocus:()=>{I(!0),r&&_e.length===0&&Re()},onKeyDown:Pe,onBlur:()=>setTimeout(()=>I(!1),250)}),t.createElement("div",{className:"absolute right-4 top-full mt-2 text-xs text-indigo-600 dark:text-indigo-400"},t.createElement("button",{onClick:Ve,className:"font-semibold hover:underline"},"Historique")),H&&t.createElement("div",{className:"absolute top-14 left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl max-h-80 overflow-auto z-50 w-full"},he?Yt():Yr())))))),t.createElement("div",{className:`lg:hidden mt-2 border-t border-gray-200/60 dark:border-gray-800/60 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md mb-6 ${Z?"hidden":""}`},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3"},t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",size:18}),t.createElement("input",{type:"text",value:$,onChange:ne=>J(ne.target.value),placeholder:"Rechercher produits, boutiques...",className:"w-full pl-11 pr-20 py-3 bg-gray-50 dark:bg-gray-800/80 border border-gray-200/60 dark:border-gray-700/60 rounded-2xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 focus:bg-white dark:focus:bg-gray-800 transition-all duration-200 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 shadow-sm focus:shadow-md",onFocus:()=>{I(!0),r&&_e.length===0&&Re()},onKeyDown:Pe,onBlur:()=>setTimeout(()=>I(!1),250)}),t.createElement("div",{className:"absolute right-3 top-1/2 -translate-y-1/2"},t.createElement("button",{onClick:Ve,className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 px-2 py-1 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors"},"Historique")),H&&t.createElement("div",{className:"absolute top-14 left-0 right-0 bg-white dark:bg-gray-900 border border-gray-200/80 dark:border-gray-700/80 rounded-2xl shadow-2xl max-h-80 overflow-auto z-40 backdrop-blur-xl"},he?Yt():er()))))),j&&t.createElement("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50 backdrop-blur-sm mt-16"},t.createElement("div",{className:"bg-white dark:bg-gray-900 h-full overflow-y-auto pb-32"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-3"},t.createElement(Qt,{to:"/",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(hp,{size:20}),"Accueil"),t.createElement(Qt,{to:"/shops/verified",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(vr,{size:20}),"Boutiques"),t.createElement(Qt,{to:"/suggestions",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(en,{size:20}),"Suggestions"),r&&t.createElement(t.Fragment,null,t.createElement(Qt,{to:"/my",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(wt,{size:20}),"Mes annonces"),t.createElement(Qt,{to:"/profile",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(ha,{size:20}),"Mon profil"),t.createElement(Qt,{to:"/my/stats",onClick:()=>L(!1),className:({isActive:ne})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${ne?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200"}`},t.createElement(Gn,{size:20}),"Statistiques"),t.createElement(Qt,{to:"/notifications",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(ci,{size:20}),"Notifications",_>0&&t.createElement("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full"},_)),t.createElement(Qt,{to:"/orders",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(ea,{size:20}),"Mes commandes",O&&t.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},T)),t.createElement(Qt,{to:"/orders/messages",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(ra,{size:20}),"Messages"),x&&t.createElement(Qt,{to:"/seller/orders",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(wt,{size:20}),"Commandes clients",R&&t.createElement("span",{className:"ml-auto bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full"},D)),b&&t.createElement(Qt,{to:"/admin/orders",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(ea,{size:20}),"Commandes admin"),(f||r?.canReadFeedback)&&t.createElement(Qt,{to:"/admin/feedback",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(ra,{size:20}),"Avis amlioration",P>0&&t.createElement("span",{className:"ml-auto bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full"},P>99?"99+":P)),(f||r?.canVerifyPayments)&&t.createElement(Qt,{to:"/admin/payment-verification",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(Kt,{size:20}),t.createElement("span",null,"Vrifier paiements"),k>0&&t.createElement("span",{className:"ml-auto flex items-center justify-center min-w-[22px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},k>99?"99+":k)),f&&t.createElement(Qt,{to:"/admin/payment-verifiers",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(Ns,{size:20}),"Vrificateurs paiements"),f&&t.createElement(Qt,{to:"/admin/reports",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(Ga,{size:20}),"Rapports"),b&&t.createElement(Qt,{to:"/admin/delivery-guys",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(xr,{size:20}),"Livreurs")),b&&t.createElement(t.Fragment,null,t.createElement(Qt,{to:"/admin",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 font-medium hover:bg-amber-200 dark:hover:bg-amber-900/30 transition-colors"},t.createElement(Au,{size:20}),y?"Espace gestionnaire":"Administration",k>0&&t.createElement("span",{className:"ml-auto bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full"},k)),r?.role==="admin"&&t.createElement(t.Fragment,null,t.createElement(Qt,{to:"/admin/chat-templates",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},t.createElement(ra,{size:20}),"Chat templates"),t.createElement(Qt,{to:"/admin/product-boosts",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},t.createElement(en,{size:20}),"Boost produits"),t.createElement(Qt,{to:"/admin/settings",onClick:()=>L(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"},t.createElement(jp,{size:20}),"App Settings"))),t.createElement(Qt,{to:"/favorites",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(Ar,{size:20}),"Favoris",o>0&&t.createElement("span",{className:"ml-auto bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full"},o)),t.createElement(Qt,{to:"/cart",onClick:()=>L(!1),className:"relative flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},t.createElement(rn,{size:20}),"Panier",i>0&&t.createElement("span",{className:"ml-auto bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded-full"},i)),t.createElement("button",{onClick:()=>W(!K),className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},K?t.createElement(D5,{size:20}):t.createElement(R5,{size:20}),K?"Mode clair":"Mode sombre"),r?t.createElement("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800"},t.createElement("button",{onClick:()=>{a(),L(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},t.createElement(M5,{size:20}),"Dconnexion")):t.createElement("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-gray-200 dark:border-gray-800"},t.createElement(Qt,{to:"/login",onClick:()=>L(!1),className:"px-4 py-3 rounded-xl border border-indigo-600 text-indigo-600 text-center font-medium hover:bg-indigo-50 transition-colors"},"Connexion"),t.createElement(Qt,{to:"/register",onClick:()=>L(!1),className:"px-4 py-3 rounded-xl bg-indigo-600 text-white text-center font-medium hover:bg-indigo-700 transition-colors"},"Inscription"))))),t.createElement("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200/80 dark:border-gray-800/80 shadow-2xl backdrop-blur-xl",style:{paddingBottom:"env(safe-area-inset-bottom)"}},t.createElement("div",{className:"max-w-3xl mx-auto px-3 py-2.5"},t.createElement("div",{className:"flex items-center justify-around"},t.createElement(Qt,{to:"/",className:({isActive:ne})=>`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 ${ne?"text-indigo-600 dark:text-indigo-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`},({isActive:ne})=>t.createElement(t.Fragment,null,t.createElement("div",{className:`relative transition-all duration-300 ${ne?"scale-110":""}`},t.createElement(hp,{size:22,className:ne?"text-indigo-600 dark:text-indigo-400":"",strokeWidth:ne?2.5:2}),ne&&t.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),t.createElement("span",{className:`text-[11px] font-semibold transition-all ${ne?"text-indigo-600 dark:text-indigo-400":""}`},"Accueil"),ne&&t.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}))),t.createElement(Qt,{to:"/shops/verified",className:({isActive:ne})=>`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 ${ne?"text-indigo-600 dark:text-indigo-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>L(!1)},({isActive:ne})=>t.createElement(t.Fragment,null,t.createElement("div",{className:`relative transition-all duration-300 ${ne?"scale-110":""}`},t.createElement(vr,{size:22,className:ne?"text-indigo-600 dark:text-indigo-400":"",strokeWidth:ne?2.5:2}),ne&&t.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),t.createElement("span",{className:`text-[11px] font-semibold transition-all ${ne?"text-indigo-600 dark:text-indigo-400":""}`},"Boutiques"),ne&&t.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}))),t.createElement(Qt,{to:"/favorites",className:({isActive:ne})=>`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 ${ne?"text-pink-600 dark:text-pink-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`},({isActive:ne})=>t.createElement(t.Fragment,null,t.createElement("div",{className:`relative transition-all duration-300 ${ne?"scale-110":""}`},t.createElement(Ar,{size:22,className:ne?"text-pink-600 dark:text-pink-400":"",strokeWidth:ne?2.5:2,fill:ne?"currentColor":"none"}),ne&&t.createElement("div",{className:"absolute inset-0 -z-10 bg-pink-100 dark:bg-pink-900/30 rounded-full blur-md animate-pulse"})),t.createElement("span",{className:`text-[11px] font-semibold transition-all ${ne?"text-pink-600 dark:text-pink-400":""}`},"Favoris"),o>0&&t.createElement("span",{className:"absolute -top-0.5 right-2.5 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center shadow-lg transition-all bg-pink-500"},o>99?"99+":o),ne&&t.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-pink-600 dark:bg-pink-400 rounded-full"}))),t.createElement(Qt,{to:"/cart",className:({isActive:ne})=>`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 ${ne?"text-indigo-600 dark:text-indigo-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`},({isActive:ne})=>t.createElement(t.Fragment,null,t.createElement("div",{className:`relative transition-all duration-300 ${ne?"scale-110":""}`},t.createElement(rn,{size:22,className:ne?"text-indigo-600 dark:text-indigo-400":"",strokeWidth:ne?2.5:2}),ne&&t.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),t.createElement("span",{className:`text-[11px] font-semibold transition-all ${ne?"text-indigo-600 dark:text-indigo-400":""}`},"Panier"),i>0&&t.createElement("span",{className:"absolute -top-0.5 right-2.5 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center shadow-lg transition-all bg-indigo-600"},i>99?"99+":i),ne&&t.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}))),t.createElement("button",{type:"button",onClick:()=>L(!0),className:`relative flex flex-col items-center justify-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 active:scale-95 ${j?"text-indigo-600 dark:text-indigo-400 scale-105":""}`},t.createElement("div",{className:`relative transition-all duration-300 ${j?"scale-110":""}`},j?t.createElement(_t,{size:22,className:"text-indigo-600 dark:text-indigo-400",strokeWidth:2.5}):t.createElement(j5,{size:22,strokeWidth:2}),j&&t.createElement("div",{className:"absolute inset-0 -z-10 bg-indigo-100 dark:bg-indigo-900/30 rounded-full blur-md animate-pulse"})),t.createElement("span",{className:`text-[11px] font-semibold transition-all ${j?"text-indigo-600 dark:text-indigo-400":""}`},"Menu"),j&&t.createElement("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-indigo-600 dark:bg-indigo-400 rounded-full"}))))),t.createElement("div",{className:"h-16 lg:h-24"}),t.createElement("div",{className:"md:hidden h-20"}))}function Qz(){const e=new Date().getFullYear();return t.createElement("footer",{className:"hidden md:block bg-gray-900 text-gray-300"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 grid gap-8 sm:grid-cols-2 lg:grid-cols-4"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-indigo-400 uppercase tracking-widest"},"ETS HD Tech Filial"),t.createElement("h3",{className:"mt-2 text-xl font-bold text-white"},"HDMarket"),t.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Marketplace premium opre par ETS HD Tech Filial. Achetez et vendez en toute confiance, partout au Congo.")),t.createElement("div",null,t.createElement("h4",{className:"text-base font-semibold text-white"},"Navigation"),t.createElement("ul",{className:"mt-3 space-y-2 text-sm"},t.createElement("li",null,t.createElement(be,{to:"/",className:"hover:text-white"},"Accueil")),t.createElement("li",null,t.createElement(be,{to:"/products",className:"hover:text-white"},"Produits")),t.createElement("li",null,t.createElement(be,{to:"/top-deals",className:"hover:text-white"},"Bons plans")),t.createElement("li",null,t.createElement(be,{to:"/help",className:"hover:text-white"},"Aide et service client")))),t.createElement("div",null,t.createElement("h4",{className:"text-base font-semibold text-white"},"Support"),t.createElement("ul",{className:"mt-3 space-y-2 text-sm"},t.createElement("li",{className:"flex items-center gap-2"},t.createElement(uo,{size:16,className:"text-indigo-400"}),"support@hdmarket.cg"),t.createElement("li",{className:"flex items-center gap-2"},t.createElement(hi,{size:16,className:"text-indigo-400"}),"+242 06 000 00 00"),t.createElement("li",{className:"flex items-center gap-2"},t.createElement(Sr,{size:16,className:"text-indigo-400"}),"Brazzaville, Congo"))),t.createElement("div",null,t.createElement("h4",{className:"text-base font-semibold text-white"},"Communaut"),t.createElement("p",{className:"mt-3 text-sm text-gray-400"},"Rejoignez les vendeurs et acheteurs professionnels accompagns par ETS HD Tech Filial."),t.createElement(be,{to:"/help",className:"mt-4 inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500"},"Contacter le support"))),t.createElement("div",{className:"border-t border-gray-800"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col gap-2 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null," ",e," ETS HD Tech Filial  Tous droits rservs."),t.createElement("p",null,"HDMarket, marketplace scurise pour les vendeurs et acheteurs congolais."))))}const Jz=e=>e?String(e).replace(/[^\d+]/g,""):"",Zz=(e,r)=>{const a=e?`"${e}"`:"votre annonce";return encodeURIComponent(`Bonjour, je suis intress par ${a} sur HDMarket. Pouvez-vous me donner plus d'informations ? ${r||""}`.trim())},cN=(e,r)=>{const a=Jz(r);if(!e?._id||!a)return null;const n=typeof window<"u"?window.location.origin:"",s=FO(e,n),i=Zz(e.title,s);return`https://wa.me/${a}?text=${i}`},ZO="hdmarket:recent-product-views",eB=50,tB=e=>{if(!e)return[];try{const r=JSON.parse(e);return Array.isArray(r)?r:[]}catch{return[]}},Uo=()=>typeof window>"u"?[]:tB(window.localStorage.getItem(ZO)),rB=e=>{typeof window>"u"||window.localStorage.setItem(ZO,JSON.stringify(e))},xm=e=>{if(!e?._id)return;const r=e.category||"",a=Uo(),n=[{id:String(e._id),category:r,visitedAt:Date.now()},...a.filter(s=>String(s.id)!==String(e._id))].slice(0,eB);if(rB(n),typeof window<"u"&&window.localStorage.getItem("qm_token")){const i=e.slug||e._id;ie.post(`/users/product-views/${i}`).catch(()=>{})}},z5=async(e=50)=>{const{data:r}=await ie.get("/users/product-views",{params:{limit:e}});return Array.isArray(r)?r:[]},aB=(e,r=4)=>{const a=new Map;return e.forEach(n=>{if(!n?.category)return;const s=a.get(n.category)||{count:0,last:0};a.set(n.category,{count:s.count+1,last:Math.max(s.last,Number(n.visitedAt)||0)})}),Array.from(a.entries()).sort((n,s)=>{const i=s[1].count-n[1].count;return i!==0?i:s[1].last-n[1].last}).slice(0,r).map(([n])=>n)},nB=767;function vl(e=nB){const r=()=>typeof window>"u"?!1:window.matchMedia(`(max-width: ${e}px)`).matches,[a,n]=h.useState(r);return h.useEffect(()=>{if(typeof window>"u")return;const s=window.matchMedia(`(max-width: ${e}px)`),i=o=>n(o.matches);return s.addEventListener?s.addEventListener("change",i):s.addListener(i),()=>{s.removeEventListener?s.removeEventListener("change",i):s.removeListener(i)}},[e]),a}function Tn(){return vl()?{}:{target:"_blank",rel:"noopener noreferrer"}}function Aa({p:e,hideMobileDiscountBadge:r=!1,productLink:a,onProductClick:n}){const{user:s}=h.useContext(fr),{addItem:i,cart:o}=h.useContext(xl),d=Kr(),u=hn(),[m,p]=h.useState(!1),[f,y]=h.useState(""),[b,E]=h.useState(""),[w,x]=h.useState(!1),[N,S]=h.useState(!1),[k,P]=h.useState(0),C=h.useRef(null),_=h.useRef(0),O=h.useRef(0),[T,R]=h.useState(!1),[D,j]=h.useState({});vl();const L=!!(s&&o?.items?.some(xe=>xe.product?._id===e._id)),{toggleFavorite:K,isFavorite:W}=h.useContext(ym),$=W(e._id),[J,Q]=h.useState(e.whatsappClicks||0),[X,H]=h.useState(e.favoritesCount||0),I=Tn(),B=a||or(e),G=n||xm,z=h.useMemo(()=>{const xe=Array.isArray(e.images)?e.images.filter(Boolean):[];return xe.length>0?xe:["https://via.placeholder.com/400x400"]},[e.images]),ae=z.length>1,he=ae,ve=!1;h.useEffect(()=>{const xe=(fe,ye)=>{const Y=new Image;Y.crossOrigin="anonymous",Y.onload=()=>{j(U=>U[ye]===!0?U:{...U,[ye]:!0})},Y.onerror=()=>{j(U=>U[ye]===!1?U:{...U,[ye]:!1})},Y.src=fe};z.forEach((fe,ye)=>{fe&&fe!=="https://via.placeholder.com/400x400"?xe(fe,ye):j(Y=>({...Y,[ye]:!0}))})},[z,e.title]);const _e=h.useCallback(()=>{T||(R(!0),P(xe=>(xe+1)%z.length),setTimeout(()=>R(!1),500))},[T,z.length]),ee=h.useCallback(()=>{T||(R(!0),P(xe=>(xe-1+z.length)%z.length),setTimeout(()=>R(!1),500))},[T,z.length]);h.useEffect(()=>{},[ve,z.length,T]);const le=()=>{C.current&&clearInterval(C.current)},pe=()=>{},Ne=xe=>{_.current=xe.touches[0].clientX},oe=xe=>{O.current=xe.touches[0].clientX},re=()=>{if(!_.current||!O.current)return;const xe=_.current-O.current;Math.abs(xe)>50&&(xe>0?_e():ee()),_.current=0,O.current=0};h.useMemo(()=>cN(e,e?.user?.phone||e?.contactPhone),[e]),h.useEffect(()=>{Q(e.whatsappClicks||0)},[e._id,e.whatsappClicks]),h.useEffect(()=>{H(e.favoritesCount||0)},[e._id,e.favoritesCount]);const Me=`${u.pathname}${u.search}${u.hash}`,ge=()=>{d("/login",{state:{from:Me||"/"}})},$e=()=>s?!0:(ge(),!1);h.useEffect(()=>{L||y("")},[L]);const De=typeof e.discount=="number"&&e.discount>0;Number(e.price).toLocaleString();const Ye=De&&e.priceBeforeDiscount?Number(e.priceBeforeDiscount).toLocaleString():null,Je=Number(e.ratingAverage||0).toFixed(1),bt=e.ratingCount||0,Ze=e.commentCount||0,nt=!!(e.user?.shopVerified??e.shopVerified),ct=e.user?.shopLogo||e.shopLogo||null,{publishedLabel:vt,daysSince:Zt,isNew:pt}=h.useMemo(()=>{if(!e?.createdAt)return{publishedLabel:"",daysSince:null,isNew:!1};const xe=new Date(e.createdAt);if(Number.isNaN(xe.getTime()))return{publishedLabel:"",daysSince:null,isNew:!1};const fe=Date.now()-xe.getTime(),ye=Math.max(0,Math.floor(fe/(1e3*60*60*24))),Y=ye<=7;return ye===0?{publishedLabel:"Aujourd'hui",daysSince:0,isNew:Y}:ye===1?{publishedLabel:"Hier",daysSince:1,isNew:Y}:{publishedLabel:`Il y a ${ye}j`,daysSince:ye,isNew:Y}},[e.createdAt]),ut=e?.user?._id||e?.user,Lt=!!(s&&ut&&String(ut)===s.id),zt=e?.condition==="new"?"Neuf":"Occasion";e?.condition;const nr=async xe=>{if(xe&&(xe.preventDefault(),xe.stopPropagation()),!!$e())try{const fe=await K(e);fe===!0?H(ye=>ye+1):fe===!1&&H(ye=>Math.max(0,ye-1))}catch(fe){console.error("Impossible de modifier les favoris.",fe)}},Bt=async()=>{if(!(!$e()||L)){p(!0),E("");try{await i(e._id,1),y("Ajout au panier !")}catch(xe){E(xe.response?.data?.message||xe.message||"Impossible d'ajouter cet article.")}finally{p(!1)}}},xt=h.useMemo(()=>{if(typeof e.salesCount=="number"&&e.salesCount>0)return e.salesCount;const xe=e.views||0,fe=e.favoritesCount||0,ye=e.commentCount||0,Y=J||0;return Math.floor(xe*.02+fe*1.5+ye*2+Y*.8)},[e.views,e.favoritesCount,e.commentCount,e.salesCount,J]),we=typeof e.salesCount=="number"&&e.salesCount>0,ot=xe=>xe>=1e4?`${(xe/1e3).toFixed(0)}k+`:xe>=1e3?`${(xe/1e3).toFixed(1)}k+`:`${xe}`,ht=xt>=3e3,Z=xt>=1e4;return t.createElement("div",{className:"group relative flex h-full w-full flex-col bg-white overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-lg transition-all duration-300",onMouseEnter:le,onMouseLeave:pe},t.createElement(be,{to:B,...I,onClick:()=>G?.(e),className:`relative aspect-square bg-gray-100 overflow-hidden ${ae?"touch-pan-y":""}`,...ae&&{onTouchStart:Ne,onTouchMove:oe,onTouchEnd:re}},he?t.createElement("div",{className:"relative w-full h-full overflow-hidden"},t.createElement("div",{className:"flex h-full transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${k*100}%)`,width:"100%",willChange:"transform"}},z.map((xe,fe)=>{const ye=D[fe]===!1,Y=ye?"https://via.placeholder.com/400x400?text=HDMarket":xe,U=D[fe]===!0;return t.createElement("div",{key:`${e._id}-img-${fe}-${xe}`,className:"relative w-full h-full flex-shrink-0",style:{minWidth:"100%",width:"100%"}},!U&&!ye&&t.createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse z-10"}),t.createElement("img",{src:Y,alt:`${e.title} - Image ${fe+1}`,className:"w-full h-full object-cover",style:{opacity:1,visibility:"visible",display:"block"},onLoad:()=>{j(de=>({...de,[fe]:!0})),fe===0&&x(!0)},onError:()=>{j(de=>({...de,[fe]:!1})),fe===0&&S(!0)},loading:"eager",fetchpriority:fe<=1?"high":"auto"}))})),t.createElement("div",{className:"absolute bottom-2 sm:bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 sm:gap-2 z-30 bg-black/40 backdrop-blur-sm px-2 sm:px-3 py-1 sm:py-1.5 rounded-full"},z.map((xe,fe)=>t.createElement("button",{key:fe,type:"button",onClick:ye=>{ye.preventDefault(),ye.stopPropagation(),T||(R(!0),P(fe),setTimeout(()=>R(!1),500))},className:`rounded-full transition-all duration-300 ${fe===k?"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-white shadow-lg":"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white/60 hover:bg-white/80"}`,"aria-label":`Go to image ${fe+1}`}))),t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),ee()},className:"absolute left-2 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden sm:flex items-center justify-center","aria-label":"Previous image"},t.createElement(HO,{className:"w-4 h-4 text-gray-700"})),t.createElement("button",{type:"button",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),_e()},className:"absolute right-2 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:bg-white transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden sm:flex items-center justify-center","aria-label":"Next image"},t.createElement(Rr,{className:"w-4 h-4 text-gray-700"})))):t.createElement("div",{className:"relative w-full h-full"},t.createElement("img",{src:N?"https://via.placeholder.com/400x400?text=HDMarket":z[0],alt:e.title,className:"w-full h-full object-cover",onLoad:()=>x(!0),onError:()=>S(!0),loading:"eager"}),!w&&t.createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse z-10"})),t.createElement("div",{className:"absolute top-1.5 sm:top-2 left-1.5 sm:left-2 z-20 flex flex-col gap-1 sm:gap-1.5"},De&&t.createElement("div",{className:"bg-red-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded sm:rounded-md text-[9px] sm:text-[10px] font-black shadow-lg border border-white/20"},"-",e.discount,"%"),(De||pt)&&t.createElement("div",{className:"bg-orange-600 text-white px-1.5 sm:px-2 py-0.5 rounded text-[8px] sm:text-[9px] font-bold shadow-md"},pt?"Nouveau":"Promo"),e.certified&&t.createElement("div",{className:"inline-flex items-center gap-0.5 sm:gap-1 bg-emerald-500 text-white px-1.5 sm:px-2 py-0.5 rounded text-[8px] sm:text-[9px] font-bold shadow-md"},t.createElement(Ca,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5"}),"Certifi")),t.createElement("button",{type:"button",onClick:xe=>nr(xe),className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 z-30 bg-white/95 backdrop-blur-sm p-1 sm:p-1.5 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 group/fav","aria-label":$?"Retirer des favoris":"Ajouter aux favoris"},t.createElement(Ar,{size:14,className:`sm:w-4 sm:h-4 transition-all duration-300 ${$?"text-red-500 transform scale-110":"text-gray-600 group-hover/fav:text-red-400"}`,strokeWidth:2,fill:$?"currentColor":"none"})),t.createElement("div",{className:"absolute bottom-1.5 sm:bottom-2 left-1.5 sm:left-2 right-1.5 sm:right-2 z-20"},t.createElement("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap"},xt>0&&t.createElement("div",{className:"bg-black/70 backdrop-blur-sm text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold"},we?"Vendu":"Engagement"," ",ot(xt)),ht&&t.createElement("div",{className:"bg-orange-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold"},"Tendance ",ot(xt)),Z&&t.createElement("div",{className:"bg-purple-600 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[9px] sm:text-[10px] font-bold flex items-center gap-0.5 sm:gap-1"},t.createElement(Es,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"TOP VENTE")))),t.createElement("div",{className:"flex-1 flex flex-col px-2 sm:px-3 py-2 sm:py-3 space-y-1.5 sm:space-y-2 min-h-0"},t.createElement("h3",{className:"text-xs sm:text-sm font-bold text-gray-900 line-clamp-2 leading-tight min-h-[2rem] sm:min-h-[2.5rem]"},e.title),t.createElement("div",{className:"flex items-baseline gap-1.5 sm:gap-2 flex-wrap"},t.createElement("div",{className:"flex items-baseline gap-0.5 sm:gap-1"},t.createElement("span",{className:"text-[10px] sm:text-xs text-gray-500"},"FCFA"),t.createElement("span",{className:"text-base sm:text-lg font-black text-red-600"},De?Number(e.priceAfterDiscount||e.price).toLocaleString():Number(e.price).toLocaleString())),Ye&&t.createElement("span",{className:"text-[10px] sm:text-xs text-gray-400 line-through"},Ye," FCFA"),De&&t.createElement("span",{className:"text-[9px] sm:text-[10px] font-bold text-red-500 bg-red-50 px-1 sm:px-1.5 py-0.5 rounded"},"Prix promo")),t.createElement("div",{className:"flex items-center gap-2 sm:gap-3 text-[9px] sm:text-[10px] text-gray-500 flex-wrap"},Je>0&&t.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1"},t.createElement(gr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-amber-500 fill-amber-500"}),t.createElement("span",{className:"font-semibold text-gray-700"},Je),bt>0&&t.createElement("span",{className:"text-gray-500 hidden sm:inline"},"(",ot(bt),")")),Ze>0&&t.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1"},t.createElement(pr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),t.createElement("span",null,ot(Ze))),xt>0&&t.createElement("div",{className:"flex items-center gap-0.5 sm:gap-1 text-orange-600"},t.createElement(rr,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),t.createElement("span",{className:"font-semibold"},we?"Vendu":"Engagement"," ",ot(xt)))),e.certified&&t.createElement("div",{className:"flex items-center gap-1.5 flex-wrap"},t.createElement("span",{className:"inline-flex items-center gap-1 bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded text-[9px] font-semibold border border-emerald-200"},t.createElement(Ca,{className:"w-2.5 h-2.5"}),"Garanti authentique"),zt==="Neuf"&&t.createElement("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-[9px] font-semibold border border-blue-200"},"Neuf")),nt&&t.createElement("div",{className:"flex items-center gap-1.5 pt-1"},ct&&t.createElement("img",{src:ct,alt:e.user?.shopName||"Logo boutique",className:"h-4 w-4 rounded-full border border-gray-200 object-cover",loading:"lazy"}),t.createElement(be,{to:la(e.user),...I,className:"text-[10px] font-semibold text-gray-600 truncate hover:text-indigo-600"},e.user?.shopName||"Boutique HDMarket"),t.createElement(Za,{verified:!0,showLabel:!1,className:"text-[8px]"})),!Lt&&t.createElement("div",{className:"pt-2 border-t border-gray-100"},t.createElement("button",{type:"button",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),Bt()},disabled:m||L,className:`w-full inline-flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-2xl sm:rounded-3xl text-[10px] sm:text-xs font-semibold transition-all duration-200 active:scale-95 shadow-sm ${L?"bg-gray-100 text-gray-500 cursor-not-allowed opacity-60":m?"bg-blue-400 text-white cursor-wait":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`},t.createElement(rn,{size:12,className:"sm:w-4 sm:h-4"}),t.createElement("span",null,L?"Dj au panier":m?"Ajout...":"Ajouter au panier"))),f&&t.createElement("p",{className:"text-[10px] text-emerald-600 font-semibold"},f),b&&t.createElement("p",{className:"text-[10px] text-red-600"},b)))}function sB({visible:e,logoSrc:r,label:a="HDMarket"}){return e?t.createElement("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-white"},r?t.createElement("img",{src:r,alt:a,className:"h-20 w-20 object-contain"}):t.createElement("span",{className:"text-2xl font-semibold text-gray-900"},a)):null}const Vs=[{id:"electronics",label:"lectronique & High-Tech",description:"Smartphones, ordinateurs, accessoires et plus encore.",icon:KO,options:[{value:"telephones",label:"Tlphones & Accessoires"},{value:"informatique",label:"Ordinateurs & Composants"},{value:"gadgets",label:"Gadgets Connects"},{value:"audio",label:"Audio & Vido"}]},{id:"fashion",label:"Mode & Accessoires",description:"Prt--porter, chaussures, bijoux et sacs tendance.",icon:gz,options:[{value:"pret-porter",label:"Prt--porter"},{value:"chaussures",label:"Chaussures"},{value:"bijoux",label:"Bijoux & Montres"},{value:"sacs",label:"Sacs & Accessoires"}]},{id:"sport",label:"Sport & Fitness",description:"quipements sportifs, fitness, plein air et loisirs.",icon:sF,options:[{value:"sports-loisirs",label:"Sports & Loisirs"},{value:"fitness",label:"Fitness & Musculation"},{value:"sports-collectifs",label:"Sports Collectifs"},{value:"sports-plein-air",label:"Plein Air & Randonne"},{value:"velos",label:"Vlos & Mobilit"},{value:"accessoires-sport",label:"Accessoires Sportifs"}]},{id:"home",label:"Maison & Jardin",description:"Meubles, dcoration, cuisine et jardinage pour la maison.",icon:hp,options:[{value:"meubles",label:"Meubles"},{value:"decoration",label:"Dcoration"},{value:"cuisine",label:"Ustensiles de Cuisine"},{value:"jardinage",label:"Jardinage"}]},{id:"industry",label:"Industrie & Business",description:"Machines, outils, matires premires et emballages.",icon:fF,options:[{value:"machines-industrielles",label:"Machines Industrielles"},{value:"outils",label:"Outils"},{value:"matieres-premieres",label:"Matires Premires"},{value:"emballage",label:"Emballage"}]},{id:"health",label:"Sant, Beaut & Loisirs",description:"Cosmtiques, soins, quipements mdicaux et sports.",icon:SF,options:[{value:"cosmetiques",label:"Cosmtiques"},{value:"soins-peau",label:"Soins de la Peau"},{value:"equipement-medical",label:"quipement Mdical"},{value:"complements",label:"Complments Alimentaires"}]},{id:"automobile",label:"Automobile & Accessoires",description:"Voitures, motos, pices dtaches et quipements automobiles.",icon:I9,options:[{value:"voitures",label:"Voitures"},{value:"motos",label:"Motos & Scooters"},{value:"pieces-detachees",label:"Pices Dtaches"},{value:"accessoires-auto",label:"Accessoires Auto & Moto"},{value:"entretien",label:"Produits dEntretien & Rparation"},{value:"pneus-jantes",label:"Pneus & Jantes"},{value:"audio-auto",label:"Audio & lectronique de Bord"}]},{id:"transport",label:"Transport & Vhicules Professionnels",description:"Camions, bus, engins, bateaux et quipements de transport.",icon:xr,options:[{value:"camions",label:"Camions & Vhicules Utilitaires"},{value:"bus",label:"Bus & Minibus"},{value:"engins",label:"Engins & Matriels Lourds"},{value:"bateaux",label:"Bateaux & Accessoires Maritimes"},{value:"remorques",label:"Remorques & Porte-charges"},{value:"pieces-transport",label:"Pices & Accessoires de Transport"}]}],iB={"sports,-loisirs":"sports-loisirs"},Rp=new Map;Vs.forEach(e=>{e.options.forEach(r=>{Rp.set(r.value,{...r,group:e})})});Object.entries(iB).forEach(([e,r])=>{const a=Rp.get(r);a&&Rp.set(e,{...a,legacyValue:e})});Array.from(Vs.flatMap(e=>e.options));const dN=e=>e&&Rp.get(e)||null;function B5(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function uN(e={},r={}){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(n=>a.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=r[n]:B5(r[n])&&B5(e[n])&&Object.keys(r[n]).length>0&&uN(e[n],r[n])})}const eM={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function zs(){const e=typeof document<"u"?document:{};return uN(e,eM),e}const oB={document:eM,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function an(){const e=typeof window<"u"?window:{};return uN(e,oB),e}function lB(e=""){return e.trim().split(" ").filter(r=>!!r.trim())}function cB(e){const r=e;Object.keys(r).forEach(a=>{try{r[a]=null}catch{}try{delete r[a]}catch{}})}function tM(e,r=0){return setTimeout(e,r)}function $p(){return Date.now()}function dB(e){const r=an();let a;return r.getComputedStyle&&(a=r.getComputedStyle(e,null)),!a&&e.currentStyle&&(a=e.currentStyle),a||(a=e.style),a}function uB(e,r="x"){const a=an();let n,s,i;const o=dB(e);return a.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),i=new a.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),r==="x"&&(a.WebKitCSSMatrix?s=i.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),r==="y"&&(a.WebKitCSSMatrix?s=i.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function $f(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function mB(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function kn(...e){const r=Object(e[0]),a=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){const s=e[n];if(s!=null&&!mB(s)){const i=Object.keys(Object(s)).filter(o=>a.indexOf(o)<0);for(let o=0,d=i.length;o<d;o+=1){const u=i[o],m=Object.getOwnPropertyDescriptor(s,u);m!==void 0&&m.enumerable&&($f(r[u])&&$f(s[u])?s[u].__swiper__?r[u]=s[u]:kn(r[u],s[u]):!$f(r[u])&&$f(s[u])?(r[u]={},s[u].__swiper__?r[u]=s[u]:kn(r[u],s[u])):r[u]=s[u])}}}return r}function Lf(e,r,a){e.style.setProperty(r,a)}function rM({swiper:e,targetPosition:r,side:a}){const n=an(),s=-e.translate;let i=null,o;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=r>s?"next":"prev",m=(f,y)=>u==="next"&&f>=y||u==="prev"&&f<=y,p=()=>{o=new Date().getTime(),i===null&&(i=o);const f=Math.max(Math.min((o-i)/d,1),0),y=.5-Math.cos(f*Math.PI)/2;let b=s+y*(r-s);if(m(b,r)&&(b=r),e.wrapperEl.scrollTo({[a]:b}),m(b,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[a]:b})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(p)};p()}function Ds(e,r=""){const a=an(),n=[...e.children];return a.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),r?n.filter(s=>s.matches(r)):n}function fB(e,r){const a=[r];for(;a.length>0;){const n=a.shift();if(e===n)return!0;a.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function pB(e,r){const a=an();let n=r.contains(e);return!n&&a.HTMLSlotElement&&r instanceof HTMLSlotElement&&(n=[...r.assignedElements()].includes(e),n||(n=fB(e,r))),n}function Lp(e){try{console.warn(e);return}catch{}}function Ip(e,r=[]){const a=document.createElement(e);return a.classList.add(...Array.isArray(r)?r:lB(r)),a}function gB(e,r){const a=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;r?n.matches(r)&&a.push(n):a.push(n),e=n}return a}function hB(e,r){const a=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;r?n.matches(r)&&a.push(n):a.push(n),e=n}return a}function to(e,r){return an().getComputedStyle(e,null).getPropertyValue(r)}function Dp(e){let r=e,a;if(r){for(a=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(a+=1);return a}}function aM(e,r){const a=[];let n=e.parentElement;for(;n;)r?n.matches(r)&&a.push(n):a.push(n),n=n.parentElement;return a}function hw(e,r,a){const n=an();return e[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function Sa(e){return(Array.isArray(e)?e:[e]).filter(r=>!!r)}function _u(e,r=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:a=>a}).createHTML(r):e.innerHTML=r}let wy;function yB(){const e=an(),r=zs();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&r instanceof e.DocumentTouch)}}function nM(){return wy||(wy=yB()),wy}let Ny;function bB({userAgent:e}={}){const r=nM(),a=an(),n=a.navigator.platform,s=e||a.navigator.userAgent,i={ios:!1,android:!1},o=a.screen.width,d=a.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let m=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!m&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=n==="Win32";let b=n==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&b&&r.touch&&E.indexOf(`${o}x${d}`)>=0&&(m=s.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),b=!1),u&&!y&&(i.os="android",i.android=!0),(m||f||p)&&(i.os="ios",i.ios=!0),i}function sM(e={}){return Ny||(Ny=bB(e)),Ny}let Sy;function xB(){const e=an(),r=sM();let a=!1;function n(){const d=e.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(n()){const d=String(e.navigator.userAgent);if(d.includes("Version/")){const[u,m]=d.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));a=u<16||u===16&&m<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=n(),o=i||s&&r.ios;return{isSafari:a||i,needPerspectiveFix:a,need3dFix:o,isWebView:s}}function iM(){return Sy||(Sy=xB()),Sy}function vB({swiper:e,on:r,emit:a}){const n=an();let s=null,i=null;const o=()=>{!e||e.destroyed||!e.initialized||(a("beforeResize"),a("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(p=>{i=n.requestAnimationFrame(()=>{const{width:f,height:y}=e;let b=f,E=y;p.forEach(({contentBoxSize:w,contentRect:x,target:N})=>{N&&N!==e.el||(b=x?x.width:(w[0]||w).inlineSize,E=x?x.height:(w[0]||w).blockSize)}),(b!==f||E!==y)&&o()})}),s.observe(e.el))},u=()=>{i&&n.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},m=()=>{!e||e.destroyed||!e.initialized||a("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){d();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",m)}),r("destroy",()=>{u(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",m)})}function EB({swiper:e,extendParams:r,on:a,emit:n}){const s=[],i=an(),o=(m,p={})=>{const f=i.MutationObserver||i.WebkitMutationObserver,y=new f(b=>{if(e.__preventObserver__)return;if(b.length===1){n("observerUpdate",b[0]);return}const E=function(){n("observerUpdate",b[0])};i.requestAnimationFrame?i.requestAnimationFrame(E):i.setTimeout(E,0)});y.observe(m,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:e.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(y)},d=()=>{if(e.params.observer){if(e.params.observeParents){const m=aM(e.hostEl);for(let p=0;p<m.length;p+=1)o(m[p])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(m=>{m.disconnect()}),s.splice(0,s.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",d),a("destroy",u)}var wB={on(e,r,a){const n=this;if(!n.eventsListeners||n.destroyed||typeof r!="function")return n;const s=a?"unshift":"push";return e.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][s](r)}),n},once(e,r,a){const n=this;if(!n.eventsListeners||n.destroyed||typeof r!="function")return n;function s(...i){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,r.apply(n,i)}return s.__emitterProxy=r,n.on(e,s,a)},onAny(e,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof e!="function")return a;const n=r?"unshift":"push";return a.eventsAnyListeners.indexOf(e)<0&&a.eventsAnyListeners[n](e),a},offAny(e){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const a=r.eventsAnyListeners.indexOf(e);return a>=0&&r.eventsAnyListeners.splice(a,1),r},off(e,r){const a=this;return!a.eventsListeners||a.destroyed||!a.eventsListeners||e.split(" ").forEach(n=>{typeof r>"u"?a.eventsListeners[n]=[]:a.eventsListeners[n]&&a.eventsListeners[n].forEach((s,i)=>{(s===r||s.__emitterProxy&&s.__emitterProxy===r)&&a.eventsListeners[n].splice(i,1)})}),a},emit(...e){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let a,n,s;return typeof e[0]=="string"||Array.isArray(e[0])?(a=e[0],n=e.slice(1,e.length),s=r):(a=e[0].events,n=e[0].data,s=e[0].context||r),n.unshift(s),(Array.isArray(a)?a:a.split(" ")).forEach(o=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(d=>{d.apply(s,[o,...n])}),r.eventsListeners&&r.eventsListeners[o]&&r.eventsListeners[o].forEach(d=>{d.apply(s,n)})}),r}};function NB(){const e=this;let r,a;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?r=e.params.width:r=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?a=e.params.height:a=n.clientHeight,!(r===0&&e.isHorizontal()||a===0&&e.isVertical())&&(r=r-parseInt(to(n,"padding-left")||0,10)-parseInt(to(n,"padding-right")||0,10),a=a-parseInt(to(n,"padding-top")||0,10)-parseInt(to(n,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(a)&&(a=0),Object.assign(e,{width:r,height:a,size:e.isHorizontal()?r:a}))}function SB(){const e=this;function r(D,j){return parseFloat(D.getPropertyValue(e.getDirectionLabel(j))||0)}const a=e.params,{wrapperEl:n,slidesEl:s,rtlTranslate:i,wrongRTL:o}=e,d=e.virtual&&a.virtual.enabled,u=d?e.virtual.slides.length:e.slides.length,m=Ds(s,`.${e.params.slideClass}, swiper-slide`),p=d?e.virtual.slides.length:m.length;let f=[];const y=[],b=[];let E=a.slidesOffsetBefore;typeof E=="function"&&(E=a.slidesOffsetBefore.call(e));let w=a.slidesOffsetAfter;typeof w=="function"&&(w=a.slidesOffsetAfter.call(e));const x=e.snapGrid.length,N=e.slidesGrid.length,S=e.size-E-w;let k=a.spaceBetween,P=-E,C=0,_=0;if(typeof S>"u")return;typeof k=="string"&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*S:typeof k=="string"&&(k=parseFloat(k)),e.virtualSize=-k-E-w,m.forEach(D=>{i?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(Lf(n,"--swiper-centered-offset-before",""),Lf(n,"--swiper-centered-offset-after",""));const O=a.grid&&a.grid.rows>1&&e.grid;O?e.grid.initSlides(m):e.grid&&e.grid.unsetSlides();let T;const R=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(D=>typeof a.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<p;D+=1){T=0;const j=m[D];if(!(j&&(O&&e.grid.updateSlide(D,j,m),to(j,"display")==="none"))){if(d&&a.slidesPerView==="auto")a.virtual.slidesPerViewAutoSlideSize&&(T=a.virtual.slidesPerViewAutoSlideSize),T&&j&&(a.roundLengths&&(T=Math.floor(T)),j.style[e.getDirectionLabel("width")]=`${T}px`);else if(a.slidesPerView==="auto"){R&&(j.style[e.getDirectionLabel("width")]="");const L=getComputedStyle(j),K=j.style.transform,W=j.style.webkitTransform;if(K&&(j.style.transform="none"),W&&(j.style.webkitTransform="none"),a.roundLengths)T=e.isHorizontal()?hw(j,"width"):hw(j,"height");else{const $=r(L,"width"),J=r(L,"padding-left"),Q=r(L,"padding-right"),X=r(L,"margin-left"),H=r(L,"margin-right"),I=L.getPropertyValue("box-sizing");if(I&&I==="border-box")T=$+X+H;else{const{clientWidth:B,offsetWidth:G}=j;T=$+J+Q+X+H+(G-B)}}K&&(j.style.transform=K),W&&(j.style.webkitTransform=W),a.roundLengths&&(T=Math.floor(T))}else T=(S-(a.slidesPerView-1)*k)/a.slidesPerView,a.roundLengths&&(T=Math.floor(T)),j&&(j.style[e.getDirectionLabel("width")]=`${T}px`);j&&(j.swiperSlideSize=T),b.push(T),a.centeredSlides?(P=P+T/2+C/2+k,C===0&&D!==0&&(P=P-S/2-k),D===0&&(P=P-S/2-k),Math.abs(P)<1/1e3&&(P=0),a.roundLengths&&(P=Math.floor(P)),_%a.slidesPerGroup===0&&f.push(P),y.push(P)):(a.roundLengths&&(P=Math.floor(P)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&f.push(P),y.push(P),P=P+T+k),e.virtualSize+=T+k,C=T,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,S)+w,i&&o&&(a.effect==="slide"||a.effect==="coverflow")&&(n.style.width=`${e.virtualSize+k}px`),a.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+k}px`),O&&e.grid.updateWrapperSize(T,f),!a.centeredSlides){const D=[];for(let j=0;j<f.length;j+=1){let L=f[j];a.roundLengths&&(L=Math.floor(L)),f[j]<=e.virtualSize-S&&D.push(L)}f=D,Math.floor(e.virtualSize-S)-Math.floor(f[f.length-1])>1&&f.push(e.virtualSize-S)}if(d&&a.loop){const D=b[0]+k;if(a.slidesPerGroup>1){const j=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/a.slidesPerGroup),L=D*a.slidesPerGroup;for(let K=0;K<j;K+=1)f.push(f[f.length-1]+L)}for(let j=0;j<e.virtual.slidesBefore+e.virtual.slidesAfter;j+=1)a.slidesPerGroup===1&&f.push(f[f.length-1]+D),y.push(y[y.length-1]+D),e.virtualSize+=D}if(f.length===0&&(f=[0]),k!==0){const D=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");m.filter((j,L)=>!a.cssMode||a.loop?!0:L!==m.length-1).forEach(j=>{j.style[D]=`${k}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let D=0;b.forEach(L=>{D+=L+(k||0)}),D-=k;const j=D>S?D-S:0;f=f.map(L=>L<=0?-E:L>j?j+w:L)}if(a.centerInsufficientSlides){let D=0;b.forEach(L=>{D+=L+(k||0)}),D-=k;const j=(E||0)+(w||0);if(D+j<S){const L=(S-D-j)/2;f.forEach((K,W)=>{f[W]=K-L}),y.forEach((K,W)=>{y[W]=K+L})}}if(Object.assign(e,{slides:m,snapGrid:f,slidesGrid:y,slidesSizesGrid:b}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){Lf(n,"--swiper-centered-offset-before",`${-f[0]}px`),Lf(n,"--swiper-centered-offset-after",`${e.size/2-b[b.length-1]/2}px`);const D=-e.snapGrid[0],j=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+D),e.slidesGrid=e.slidesGrid.map(L=>L+j)}if(p!==u&&e.emit("slidesLengthChange"),f.length!==x&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),y.length!==N&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!d&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const D=`${a.containerModifierClass}backface-hidden`,j=e.el.classList.contains(D);p<=a.maxBackfaceHiddenSlides?j||e.el.classList.add(D):j&&e.el.classList.remove(D)}}function kB(e){const r=this,a=[],n=r.virtual&&r.params.virtual.enabled;let s=0,i;typeof e=="number"?r.setTransition(e):e===!0&&r.setTransition(r.params.speed);const o=d=>n?r.slides[r.getSlideIndexByData(d)]:r.slides[d];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(d=>{a.push(d)});else for(i=0;i<Math.ceil(r.params.slidesPerView);i+=1){const d=r.activeIndex+i;if(d>r.slides.length&&!n)break;a.push(o(d))}else a.push(o(r.activeIndex));for(i=0;i<a.length;i+=1)if(typeof a[i]<"u"){const d=a[i].offsetHeight;s=d>s?d:s}(s||s===0)&&(r.wrapperEl.style.height=`${s}px`)}function CB(){const e=this,r=e.slides,a=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<r.length;n+=1)r[n].swiperSlideOffset=(e.isHorizontal()?r[n].offsetLeft:r[n].offsetTop)-a-e.cssOverflowAdjustment()}const q5=(e,r,a)=>{r&&!e.classList.contains(a)?e.classList.add(a):!r&&e.classList.contains(a)&&e.classList.remove(a)};function AB(e=this&&this.translate||0){const r=this,a=r.params,{slides:n,rtlTranslate:s,snapGrid:i}=r;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let o=-e;s&&(o=e),r.visibleSlidesIndexes=[],r.visibleSlides=[];let d=a.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*r.size:typeof d=="string"&&(d=parseFloat(d));for(let u=0;u<n.length;u+=1){const m=n[u];let p=m.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(p-=n[0].swiperSlideOffset);const f=(o+(a.centeredSlides?r.minTranslate():0)-p)/(m.swiperSlideSize+d),y=(o-i[0]+(a.centeredSlides?r.minTranslate():0)-p)/(m.swiperSlideSize+d),b=-(o-p),E=b+r.slidesSizesGrid[u],w=b>=0&&b<=r.size-r.slidesSizesGrid[u],x=b>=0&&b<r.size-1||E>1&&E<=r.size||b<=0&&E>=r.size;x&&(r.visibleSlides.push(m),r.visibleSlidesIndexes.push(u)),q5(m,x,a.slideVisibleClass),q5(m,w,a.slideFullyVisibleClass),m.progress=s?-f:f,m.originalProgress=s?-y:y}}function _B(e){const r=this;if(typeof e>"u"){const p=r.rtlTranslate?-1:1;e=r&&r.translate&&r.translate*p||0}const a=r.params,n=r.maxTranslate()-r.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:d}=r;const u=i,m=o;if(n===0)s=0,i=!0,o=!0;else{s=(e-r.minTranslate())/n;const p=Math.abs(e-r.minTranslate())<1,f=Math.abs(e-r.maxTranslate())<1;i=p||s<=0,o=f||s>=1,p&&(s=0),f&&(s=1)}if(a.loop){const p=r.getSlideIndexByData(0),f=r.getSlideIndexByData(r.slides.length-1),y=r.slidesGrid[p],b=r.slidesGrid[f],E=r.slidesGrid[r.slidesGrid.length-1],w=Math.abs(e);w>=y?d=(w-y)/E:d=(w+E-b)/E,d>1&&(d-=1)}Object.assign(r,{progress:s,progressLoop:d,isBeginning:i,isEnd:o}),(a.watchSlidesProgress||a.centeredSlides&&a.autoHeight)&&r.updateSlidesProgress(e),i&&!u&&r.emit("reachBeginning toEdge"),o&&!m&&r.emit("reachEnd toEdge"),(u&&!i||m&&!o)&&r.emit("fromEdge"),r.emit("progress",s)}const ky=(e,r,a)=>{r&&!e.classList.contains(a)?e.classList.add(a):!r&&e.classList.contains(a)&&e.classList.remove(a)};function PB(){const e=this,{slides:r,params:a,slidesEl:n,activeIndex:s}=e,i=e.virtual&&a.virtual.enabled,o=e.grid&&a.grid&&a.grid.rows>1,d=f=>Ds(n,`.${a.slideClass}${f}, swiper-slide${f}`)[0];let u,m,p;if(i)if(a.loop){let f=s-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),u=d(`[data-swiper-slide-index="${f}"]`)}else u=d(`[data-swiper-slide-index="${s}"]`);else o?(u=r.find(f=>f.column===s),p=r.find(f=>f.column===s+1),m=r.find(f=>f.column===s-1)):u=r[s];u&&(o||(p=hB(u,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!p&&(p=r[0]),m=gB(u,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!m===0&&(m=r[r.length-1]))),r.forEach(f=>{ky(f,f===u,a.slideActiveClass),ky(f,f===p,a.slideNextClass),ky(f,f===m,a.slidePrevClass)}),e.emitSlidesClasses()}const Ep=(e,r)=>{if(!e||e.destroyed||!e.params)return;const a=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=r.closest(a());if(n){let s=n.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Cy=(e,r)=>{if(!e.slides[r])return;const a=e.slides[r].querySelector('[loading="lazy"]');a&&a.removeAttribute("loading")},yw=e=>{if(!e||e.destroyed||!e.params)return;let r=e.params.lazyPreloadPrevNext;const a=e.slides.length;if(!a||!r||r<0)return;r=Math.min(r,a);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,d=[o-r];d.push(...Array.from({length:r}).map((u,m)=>o+n+m)),e.slides.forEach((u,m)=>{d.includes(u.column)&&Cy(e,m)});return}const i=s+n-1;if(e.params.rewind||e.params.loop)for(let o=s-r;o<=i+r;o+=1){const d=(o%a+a)%a;(d<s||d>i)&&Cy(e,d)}else for(let o=Math.max(s-r,0);o<=Math.min(i+r,a-1);o+=1)o!==s&&(o>i||o<s)&&Cy(e,o)};function TB(e){const{slidesGrid:r,params:a}=e,n=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<r.length;i+=1)typeof r[i+1]<"u"?n>=r[i]&&n<r[i+1]-(r[i+1]-r[i])/2?s=i:n>=r[i]&&n<r[i+1]&&(s=i+1):n>=r[i]&&(s=i);return a.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function OB(e){const r=this,a=r.rtlTranslate?r.translate:-r.translate,{snapGrid:n,params:s,activeIndex:i,realIndex:o,snapIndex:d}=r;let u=e,m;const p=b=>{let E=b-r.virtual.slidesBefore;return E<0&&(E=r.virtual.slides.length+E),E>=r.virtual.slides.length&&(E-=r.virtual.slides.length),E};if(typeof u>"u"&&(u=TB(r)),n.indexOf(a)>=0)m=n.indexOf(a);else{const b=Math.min(s.slidesPerGroupSkip,u);m=b+Math.floor((u-b)/s.slidesPerGroup)}if(m>=n.length&&(m=n.length-1),u===i&&!r.params.loop){m!==d&&(r.snapIndex=m,r.emit("snapIndexChange"));return}if(u===i&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=p(u);return}const f=r.grid&&s.grid&&s.grid.rows>1;let y;if(r.virtual&&s.virtual.enabled&&s.loop)y=p(u);else if(f){const b=r.slides.find(w=>w.column===u);let E=parseInt(b.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(r.slides.indexOf(b),0)),y=Math.floor(E/s.grid.rows)}else if(r.slides[u]){const b=r.slides[u].getAttribute("data-swiper-slide-index");b?y=parseInt(b,10):y=u}else y=u;Object.assign(r,{previousSnapIndex:d,snapIndex:m,previousRealIndex:o,realIndex:y,previousIndex:i,activeIndex:u}),r.initialized&&yw(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(o!==y&&r.emit("realIndexChange"),r.emit("slideChange"))}function MB(e,r){const a=this,n=a.params;let s=e.closest(`.${n.slideClass}, swiper-slide`);!s&&a.isElement&&r&&r.length>1&&r.includes(e)&&[...r.slice(r.indexOf(e)+1,r.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${n.slideClass}, swiper-slide`)&&(s=d)});let i=!1,o;if(s){for(let d=0;d<a.slides.length;d+=1)if(a.slides[d]===s){i=!0,o=d;break}}if(s&&i)a.clickedSlide=s,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):a.clickedIndex=o;else{a.clickedSlide=void 0,a.clickedIndex=void 0;return}n.slideToClickedSlide&&a.clickedIndex!==void 0&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}var jB={updateSize:NB,updateSlides:SB,updateAutoHeight:kB,updateSlidesOffset:CB,updateSlidesProgress:AB,updateProgress:_B,updateSlidesClasses:PB,updateActiveIndex:OB,updateClickedSlide:MB};function RB(e=this.isHorizontal()?"x":"y"){const r=this,{params:a,rtlTranslate:n,translate:s,wrapperEl:i}=r;if(a.virtualTranslate)return n?-s:s;if(a.cssMode)return s;let o=uB(i,e);return o+=r.cssOverflowAdjustment(),n&&(o=-o),o||0}function $B(e,r){const a=this,{rtlTranslate:n,params:s,wrapperEl:i,progress:o}=a;let d=0,u=0;const m=0;a.isHorizontal()?d=n?-e:e:u=e,s.roundLengths&&(d=Math.floor(d),u=Math.floor(u)),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?d:u,s.cssMode?i[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-d:-u:s.virtualTranslate||(a.isHorizontal()?d-=a.cssOverflowAdjustment():u-=a.cssOverflowAdjustment(),i.style.transform=`translate3d(${d}px, ${u}px, ${m}px)`);let p;const f=a.maxTranslate()-a.minTranslate();f===0?p=0:p=(e-a.minTranslate())/f,p!==o&&a.updateProgress(e),a.emit("setTranslate",a.translate,r)}function LB(){return-this.snapGrid[0]}function IB(){return-this.snapGrid[this.snapGrid.length-1]}function DB(e=0,r=this.params.speed,a=!0,n=!0,s){const i=this,{params:o,wrapperEl:d}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const u=i.minTranslate(),m=i.maxTranslate();let p;if(n&&e>u?p=u:n&&e<m?p=m:p=e,i.updateProgress(p),o.cssMode){const f=i.isHorizontal();if(r===0)d[f?"scrollLeft":"scrollTop"]=-p;else{if(!i.support.smoothScroll)return rM({swiper:i,targetPosition:-p,side:f?"left":"top"}),!0;d.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return r===0?(i.setTransition(0),i.setTranslate(p),a&&(i.emit("beforeTransitionStart",r,s),i.emit("transitionEnd"))):(i.setTransition(r),i.setTranslate(p),a&&(i.emit("beforeTransitionStart",r,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(y){!i||i.destroyed||y.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,a&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var FB={getTranslate:RB,setTranslate:$B,minTranslate:LB,maxTranslate:IB,translateTo:DB};function zB(e,r){const a=this;a.params.cssMode||(a.wrapperEl.style.transitionDuration=`${e}ms`,a.wrapperEl.style.transitionDelay=e===0?"0ms":""),a.emit("setTransition",e,r)}function oM({swiper:e,runCallbacks:r,direction:a,step:n}){const{activeIndex:s,previousIndex:i}=e;let o=a;o||(s>i?o="next":s<i?o="prev":o="reset"),e.emit(`transition${n}`),r&&o==="reset"?e.emit(`slideResetTransition${n}`):r&&s!==i&&(e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}function BB(e=!0,r){const a=this,{params:n}=a;n.cssMode||(n.autoHeight&&a.updateAutoHeight(),oM({swiper:a,runCallbacks:e,direction:r,step:"Start"}))}function qB(e=!0,r){const a=this,{params:n}=a;a.animating=!1,!n.cssMode&&(a.setTransition(0),oM({swiper:a,runCallbacks:e,direction:r,step:"End"}))}var UB={setTransition:zB,transitionStart:BB,transitionEnd:qB};function VB(e=0,r,a=!0,n,s){typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:d,snapGrid:u,slidesGrid:m,previousIndex:p,activeIndex:f,rtlTranslate:y,wrapperEl:b,enabled:E}=i;if(!E&&!n&&!s||i.destroyed||i.animating&&d.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=i.params.speed);const w=Math.min(i.params.slidesPerGroupSkip,o);let x=w+Math.floor((o-w)/i.params.slidesPerGroup);x>=u.length&&(x=u.length-1);const N=-u[x];if(d.normalizeSlideIndex)for(let O=0;O<m.length;O+=1){const T=-Math.floor(N*100),R=Math.floor(m[O]*100),D=Math.floor(m[O+1]*100);typeof m[O+1]<"u"?T>=R&&T<D-(D-R)/2?o=O:T>=R&&T<D&&(o=O+1):T>=R&&(o=O)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(y?N>i.translate&&N>i.minTranslate():N<i.translate&&N<i.minTranslate())||!i.allowSlidePrev&&N>i.translate&&N>i.maxTranslate()&&(f||0)!==o))return!1;o!==(p||0)&&a&&i.emit("beforeSlideChangeStart"),i.updateProgress(N);let S;o>f?S="next":o<f?S="prev":S="reset";const k=i.virtual&&i.params.virtual.enabled;if(!(k&&s)&&(y&&-N===i.translate||!y&&N===i.translate))return i.updateActiveIndex(o),d.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),d.effect!=="slide"&&i.setTranslate(N),S!=="reset"&&(i.transitionStart(a,S),i.transitionEnd(a,S)),!1;if(d.cssMode){const O=i.isHorizontal(),T=y?N:-N;if(r===0)k&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),k&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{b[O?"scrollLeft":"scrollTop"]=T})):b[O?"scrollLeft":"scrollTop"]=T,k&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return rM({swiper:i,targetPosition:T,side:O?"left":"top"}),!0;b.scrollTo({[O?"left":"top"]:T,behavior:"smooth"})}return!0}const _=iM().isSafari;return k&&!s&&_&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(r),i.setTranslate(N),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",r,n),i.transitionStart(a,S),r===0?i.transitionEnd(a,S):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(T){!i||i.destroyed||T.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(a,S))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function HB(e=0,r,a=!0,n){typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof r>"u"&&(r=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let d;if(i){const w=o*s.params.grid.rows;d=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===w).column}else d=s.getSlideIndexByData(o);const u=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:m,slidesOffsetBefore:p,slidesOffsetAfter:f}=s.params,y=m||!!p||!!f;let b=s.params.slidesPerView;b==="auto"?b=s.slidesPerViewDynamic():(b=Math.ceil(parseFloat(s.params.slidesPerView,10)),y&&b%2===0&&(b=b+1));let E=u-d<b;if(y&&(E=E||d<Math.ceil(b/2)),n&&y&&s.params.slidesPerView!=="auto"&&!i&&(E=!1),E){const w=y?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:w,slideTo:!0,activeSlideIndex:w==="next"?d+1:d-u+1,slideRealIndex:w==="next"?s.realIndex:void 0})}if(i){const w=o*s.params.grid.rows;o=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===w).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,r,a,n)}),s}function WB(e,r=!0,a){const n=this,{enabled:s,params:i,animating:o}=n;if(!s||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let d=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(d=Math.max(n.slidesPerViewDynamic("current",!0),1));const u=n.activeIndex<i.slidesPerGroupSkip?1:d,m=n.virtual&&i.virtual.enabled;if(i.loop){if(o&&!m&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+u,e,r,a)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,e,r,a):n.slideTo(n.activeIndex+u,e,r,a)}function GB(e,r=!0,a){const n=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:d,enabled:u,animating:m}=n;if(!u||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const p=n.virtual&&s.virtual.enabled;if(s.loop){if(m&&!p&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=d?n.translate:-n.translate;function y(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const b=y(f),E=i.map(S=>y(S)),w=s.freeMode&&s.freeMode.enabled;let x=i[E.indexOf(b)-1];if(typeof x>"u"&&(s.cssMode||w)){let S;i.forEach((k,P)=>{b>=k&&(S=P)}),typeof S<"u"&&(x=w?i[S]:i[S>0?S-1:S])}let N=0;if(typeof x<"u"&&(N=o.indexOf(x),N<0&&(N=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(N=N-n.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),s.rewind&&n.isBeginning){const S=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(S,e,r,a)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(N,e,r,a)}),!0;return n.slideTo(N,e,r,a)}function KB(e,r=!0,a){const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,r,a)}function XB(e,r=!0,a,n=.5){const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),d=o+Math.floor((i-o)/s.params.slidesPerGroup),u=s.rtlTranslate?s.translate:-s.translate;if(u>=s.snapGrid[d]){const m=s.snapGrid[d],p=s.snapGrid[d+1];u-m>(p-m)*n&&(i+=s.params.slidesPerGroup)}else{const m=s.snapGrid[d-1],p=s.snapGrid[d];u-m<=(p-m)*n&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,r,a)}function YB(){const e=this;if(e.destroyed)return;const{params:r,slidesEl:a}=e,n=r.slidesPerView==="auto"?e.slidesPerViewDynamic():r.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${r.slideClass}`,d=e.grid&&e.params.grid&&e.params.grid.rows>1;if(r.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?e.slideToLoop(i):s>(d?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),s=e.getSlideIndex(Ds(a,`${o}[data-swiper-slide-index="${i}"]`)[0]),tM(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var QB={slideTo:VB,slideToLoop:HB,slideNext:WB,slidePrev:GB,slideReset:KB,slideToClosest:XB,slideToClickedSlide:YB};function JB(e,r){const a=this,{params:n,slidesEl:s}=a;if(!n.loop||a.virtual&&a.params.virtual.enabled)return;const i=()=>{Ds(s,`.${n.slideClass}, swiper-slide`).forEach((E,w)=>{E.setAttribute("data-swiper-slide-index",w)})},o=()=>{const b=Ds(s,`.${n.slideBlankClass}`);b.forEach(E=>{E.remove()}),b.length>0&&(a.recalcSlides(),a.updateSlides())},d=a.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||d)&&o();const u=n.slidesPerGroup*(d?n.grid.rows:1),m=a.slides.length%u!==0,p=d&&a.slides.length%n.grid.rows!==0,f=b=>{for(let E=0;E<b;E+=1){const w=a.isElement?Ip("swiper-slide",[n.slideBlankClass]):Ip("div",[n.slideClass,n.slideBlankClass]);a.slidesEl.append(w)}};if(m){if(n.loopAddBlankSlides){const b=u-a.slides.length%u;f(b),a.recalcSlides(),a.updateSlides()}else Lp("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(p){if(n.loopAddBlankSlides){const b=n.grid.rows-a.slides.length%n.grid.rows;f(b),a.recalcSlides(),a.updateSlides()}else Lp("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const y=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;a.loopFix({slideRealIndex:e,direction:y?void 0:"next",initial:r})}function ZB({slideRealIndex:e,slideTo:r=!0,direction:a,setTranslate:n,activeSlideIndex:s,initial:i,byController:o,byMousewheel:d}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:m,allowSlidePrev:p,allowSlideNext:f,slidesEl:y,params:b}=u,{centeredSlides:E,slidesOffsetBefore:w,slidesOffsetAfter:x,initialSlide:N}=b,S=E||!!w||!!x;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&b.virtual.enabled){r&&(!S&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):S&&u.snapIndex<b.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=f,u.emit("loopFix");return}let k=b.slidesPerView;k==="auto"?k=u.slidesPerViewDynamic():(k=Math.ceil(parseFloat(b.slidesPerView,10)),S&&k%2===0&&(k=k+1));const P=b.slidesPerGroupAuto?k:b.slidesPerGroup;let C=S?Math.max(P,Math.ceil(k/2)):P;C%P!==0&&(C+=P-C%P),C+=b.loopAdditionalSlides,u.loopedSlides=C;const _=u.grid&&b.grid&&b.grid.rows>1;m.length<k+C||u.params.effect==="cards"&&m.length<k+C*2?Lp("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&b.grid.fill==="row"&&Lp("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],T=[],R=_?Math.ceil(m.length/b.grid.rows):m.length,D=i&&R-N<k&&!S;let j=D?N:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(m.find(X=>X.classList.contains(b.slideActiveClass))):j=s;const L=a==="next"||!a,K=a==="prev"||!a;let W=0,$=0;const Q=(_?m[s].column:s)+(S&&typeof n>"u"?-k/2+.5:0);if(Q<C){W=Math.max(C-Q,P);for(let X=0;X<C-Q;X+=1){const H=X-Math.floor(X/R)*R;if(_){const I=R-H-1;for(let B=m.length-1;B>=0;B-=1)m[B].column===I&&O.push(B)}else O.push(R-H-1)}}else if(Q+k>R-C){$=Math.max(Q-(R-C*2),P),D&&($=Math.max($,k-R+N+1));for(let X=0;X<$;X+=1){const H=X-Math.floor(X/R)*R;_?m.forEach((I,B)=>{I.column===H&&T.push(B)}):T.push(H)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&m.length<k+C*2&&(T.includes(s)&&T.splice(T.indexOf(s),1),O.includes(s)&&O.splice(O.indexOf(s),1)),K&&O.forEach(X=>{m[X].swiperLoopMoveDOM=!0,y.prepend(m[X]),m[X].swiperLoopMoveDOM=!1}),L&&T.forEach(X=>{m[X].swiperLoopMoveDOM=!0,y.append(m[X]),m[X].swiperLoopMoveDOM=!1}),u.recalcSlides(),b.slidesPerView==="auto"?u.updateSlides():_&&(O.length>0&&K||T.length>0&&L)&&u.slides.forEach((X,H)=>{u.grid.updateSlide(H,X,u.slides)}),b.watchSlidesProgress&&u.updateSlidesOffset(),r){if(O.length>0&&K){if(typeof e>"u"){const X=u.slidesGrid[j],I=u.slidesGrid[j+W]-X;d?u.setTranslate(u.translate-I):(u.slideTo(j+Math.ceil(W),0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-I,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-I))}else if(n){const X=_?O.length/b.grid.rows:O.length;u.slideTo(u.activeIndex+X,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(T.length>0&&L)if(typeof e>"u"){const X=u.slidesGrid[j],I=u.slidesGrid[j-$]-X;d?u.setTranslate(u.translate-I):(u.slideTo(j-$,0,!1,!0),n&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-I,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-I))}else{const X=_?T.length/b.grid.rows:T.length;u.slideTo(u.activeIndex-X,0,!1,!0)}}if(u.allowSlidePrev=p,u.allowSlideNext=f,u.controller&&u.controller.control&&!o){const X={slideRealIndex:e,direction:a,setTranslate:n,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(H=>{!H.destroyed&&H.params.loop&&H.loopFix({...X,slideTo:H.params.slidesPerView===b.slidesPerView?r:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...X,slideTo:u.controller.control.params.slidesPerView===b.slidesPerView?r:!1})}u.emit("loopFix")}function eq(){const e=this,{params:r,slidesEl:a}=e;if(!r.loop||!a||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{a.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var tq={loopCreate:JB,loopFix:ZB,loopDestroy:eq};function rq(e){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const a=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),a.style.cursor="move",a.style.cursor=e?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function aq(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var nq={setGrabCursor:rq,unsetGrabCursor:aq};function sq(e,r=this){function a(n){if(!n||n===zs()||n===an())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(e);return!s&&!n.getRootNode?null:s||a(n.getRootNode().host)}return a(r)}function U5(e,r,a){const n=an(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(a<=o||a>=n.innerWidth-o)?i==="prevent"?(r.preventDefault(),!0):!1:!0}function iq(e){const r=this,a=zs();let n=e;n.originalEvent&&(n=n.originalEvent);const s=r.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){U5(r,n,n.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:d}=r;if(!d||!i.simulateTouch&&n.pointerType==="mouse"||r.animating&&i.preventInteractionOnTransition)return;!r.animating&&i.cssMode&&i.loop&&r.loopFix();let u=n.target;if(i.touchEventsTarget==="wrapper"&&!pB(u,r.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const m=!!i.noSwipingClass&&i.noSwipingClass!=="",p=n.composedPath?n.composedPath():n.path;m&&n.target&&n.target.shadowRoot&&p&&(u=p[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,y=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(y?sq(f,u):u.closest(f))){r.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const b=o.currentX,E=o.currentY;if(!U5(r,n,b))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=b,o.startY=E,s.touchStartTime=$p(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let w=!0;u.matches(s.focusableElements)&&(w=!1,u.nodeName==="SELECT"&&(s.isTouched=!1)),a.activeElement&&a.activeElement.matches(s.focusableElements)&&a.activeElement!==u&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!u.matches(s.focusableElements))&&a.activeElement.blur();const x=w&&r.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||x)&&!u.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.animating&&!i.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",n)}function oq(e){const r=zs(),a=this,n=a.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:d}=a;if(!d||!s.simulateTouch&&e.pointerType==="mouse")return;let u=e;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(n.touchId!==null||u.pointerId!==n.pointerId))return;let m;if(u.type==="touchmove"){if(m=[...u.changedTouches].find(C=>C.identifier===n.touchId),!m||m.identifier!==n.touchId)return}else m=u;if(!n.isTouched){n.startMoving&&n.isScrolling&&a.emit("touchMoveOpposite",u);return}const p=m.pageX,f=m.pageY;if(u.preventedByNestedSwiper){i.startX=p,i.startY=f;return}if(!a.allowTouchMove){u.target.matches(n.focusableElements)||(a.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:p,startY:f,currentX:p,currentY:f}),n.touchStartTime=$p());return}if(s.touchReleaseOnEdges&&!s.loop)if(a.isVertical()){if(f<i.startY&&a.translate<=a.maxTranslate()||f>i.startY&&a.translate>=a.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(p>i.startX&&-a.translate<=a.maxTranslate()||p<i.startX&&-a.translate>=a.minTranslate()))return;if(!o&&(p<i.startX&&a.translate<=a.maxTranslate()||p>i.startX&&a.translate>=a.minTranslate()))return}if(r.activeElement&&r.activeElement.matches(n.focusableElements)&&r.activeElement!==u.target&&u.pointerType!=="mouse"&&r.activeElement.blur(),r.activeElement&&u.target===r.activeElement&&u.target.matches(n.focusableElements)){n.isMoved=!0,a.allowClick=!1;return}n.allowTouchCallbacks&&a.emit("touchMove",u),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=p,i.currentY=f;const y=i.currentX-i.startX,b=i.currentY-i.startY;if(a.params.threshold&&Math.sqrt(y**2+b**2)<a.params.threshold)return;if(typeof n.isScrolling>"u"){let C;a.isHorizontal()&&i.currentY===i.startY||a.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:y*y+b*b>=25&&(C=Math.atan2(Math.abs(b),Math.abs(y))*180/Math.PI,n.isScrolling=a.isHorizontal()?C>s.touchAngle:90-C>s.touchAngle)}if(n.isScrolling&&a.emit("touchMoveOpposite",u),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||u.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;a.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let E=a.isHorizontal()?y:b,w=a.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(E=Math.abs(E)*(o?1:-1),w=Math.abs(w)*(o?1:-1)),i.diff=E,E*=s.touchRatio,o&&(E=-E,w=-w);const x=a.touchesDirection;a.swipeDirection=E>0?"prev":"next",a.touchesDirection=w>0?"prev":"next";const N=a.params.loop&&!s.cssMode,S=a.touchesDirection==="next"&&a.allowSlideNext||a.touchesDirection==="prev"&&a.allowSlidePrev;if(!n.isMoved){if(N&&S&&a.loopFix({direction:a.swipeDirection}),n.startTranslate=a.getTranslate(),a.setTransition(0),a.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});a.wrapperEl.dispatchEvent(C)}n.allowMomentumBounce=!1,s.grabCursor&&(a.allowSlideNext===!0||a.allowSlidePrev===!0)&&a.setGrabCursor(!0),a.emit("sliderFirstMove",u)}if(new Date().getTime(),s._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&x!==a.touchesDirection&&N&&S&&Math.abs(E)>=1){Object.assign(i,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}a.emit("sliderMove",u),n.isMoved=!0,n.currentTranslate=E+n.startTranslate;let k=!0,P=s.resistanceRatio;if(s.touchReleaseOnEdges&&(P=0),E>0?(N&&S&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?a.minTranslate()-a.slidesSizesGrid[a.activeIndex+1]-(s.slidesPerView!=="auto"&&a.slides.length-s.slidesPerView>=2?a.slidesSizesGrid[a.activeIndex+1]+a.params.spaceBetween:0)-a.params.spaceBetween:a.minTranslate())&&a.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>a.minTranslate()&&(k=!1,s.resistance&&(n.currentTranslate=a.minTranslate()-1+(-a.minTranslate()+n.startTranslate+E)**P))):E<0&&(N&&S&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?a.maxTranslate()+a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween+(s.slidesPerView!=="auto"&&a.slides.length-s.slidesPerView>=2?a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween:0):a.maxTranslate())&&a.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:a.slides.length-(s.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<a.maxTranslate()&&(k=!1,s.resistance&&(n.currentTranslate=a.maxTranslate()+1-(a.maxTranslate()-n.startTranslate-E)**P))),k&&(u.preventedByNestedSwiper=!0),!a.allowSlideNext&&a.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!a.allowSlidePrev&&a.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!a.allowSlidePrev&&!a.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=a.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&a.freeMode||s.watchSlidesProgress)&&(a.updateActiveIndex(),a.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&a.freeMode&&a.freeMode.onTouchMove(),a.updateProgress(n.currentTranslate),a.setTranslate(n.currentTranslate))}function lq(e){const r=this,a=r.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(C=>C.identifier===a.touchId),!s||s.identifier!==a.touchId)return}else{if(a.touchId!==null||n.pointerId!==a.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(r.browser.isSafari||r.browser.isWebView)))return;a.pointerId=null,a.touchId=null;const{params:o,touches:d,rtlTranslate:u,slidesGrid:m,enabled:p}=r;if(!p||!o.simulateTouch&&n.pointerType==="mouse")return;if(a.allowTouchCallbacks&&r.emit("touchEnd",n),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&o.grabCursor&&r.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}o.grabCursor&&a.isMoved&&a.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const f=$p(),y=f-a.touchStartTime;if(r.allowClick){const C=n.path||n.composedPath&&n.composedPath();r.updateClickedSlide(C&&C[0]||n.target,C),r.emit("tap click",n),y<300&&f-a.lastClickTime<300&&r.emit("doubleTap doubleClick",n)}if(a.lastClickTime=$p(),tM(()=>{r.destroyed||(r.allowClick=!0)}),!a.isTouched||!a.isMoved||!r.swipeDirection||d.diff===0&&!a.loopSwapReset||a.currentTranslate===a.startTranslate&&!a.loopSwapReset){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;let b;if(o.followFinger?b=u?r.translate:-r.translate:b=-a.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:b});return}const E=b>=-r.maxTranslate()&&!r.params.loop;let w=0,x=r.slidesSizesGrid[0];for(let C=0;C<m.length;C+=C<o.slidesPerGroupSkip?1:o.slidesPerGroup){const _=C<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof m[C+_]<"u"?(E||b>=m[C]&&b<m[C+_])&&(w=C,x=m[C+_]-m[C]):(E||b>=m[C])&&(w=C,x=m[m.length-1]-m[m.length-2])}let N=null,S=null;o.rewind&&(r.isBeginning?S=o.virtual&&o.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(N=0));const k=(b-m[w])/x,P=w<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(y>o.longSwipesMs){if(!o.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(k>=o.longSwipesRatio?r.slideTo(o.rewind&&r.isEnd?N:w+P):r.slideTo(w)),r.swipeDirection==="prev"&&(k>1-o.longSwipesRatio?r.slideTo(w+P):S!==null&&k<0&&Math.abs(k)>o.longSwipesRatio?r.slideTo(S):r.slideTo(w))}else{if(!o.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(n.target===r.navigation.nextEl||n.target===r.navigation.prevEl)?n.target===r.navigation.nextEl?r.slideTo(w+P):r.slideTo(w):(r.swipeDirection==="next"&&r.slideTo(N!==null?N:w+P),r.swipeDirection==="prev"&&r.slideTo(S!==null?S:w))}}function V5(){const e=this,{params:r,el:a}=e;if(a&&a.offsetWidth===0)return;r.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const d=o&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!d?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function cq(e){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&e.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function dq(){const e=this,{wrapperEl:r,rtlTranslate:a,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-r.scrollLeft:e.translate=-r.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(a?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function uq(e){const r=this;Ep(r,e.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function mq(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const lM=(e,r)=>{const a=zs(),{params:n,el:s,wrapperEl:i,device:o}=e,d=!!n.nested,u=r==="on"?"addEventListener":"removeEventListener",m=r;!s||typeof s=="string"||(a[u]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:d}),s[u]("touchstart",e.onTouchStart,{passive:!1}),s[u]("pointerdown",e.onTouchStart,{passive:!1}),a[u]("touchmove",e.onTouchMove,{passive:!1,capture:d}),a[u]("pointermove",e.onTouchMove,{passive:!1,capture:d}),a[u]("touchend",e.onTouchEnd,{passive:!0}),a[u]("pointerup",e.onTouchEnd,{passive:!0}),a[u]("pointercancel",e.onTouchEnd,{passive:!0}),a[u]("touchcancel",e.onTouchEnd,{passive:!0}),a[u]("pointerout",e.onTouchEnd,{passive:!0}),a[u]("pointerleave",e.onTouchEnd,{passive:!0}),a[u]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[u]("click",e.onClick,!0),n.cssMode&&i[u]("scroll",e.onScroll),n.updateOnWindowResize?e[m](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",V5,!0):e[m]("observerUpdate",V5,!0),s[u]("load",e.onLoad,{capture:!0}))};function fq(){const e=this,{params:r}=e;e.onTouchStart=iq.bind(e),e.onTouchMove=oq.bind(e),e.onTouchEnd=lq.bind(e),e.onDocumentTouchStart=mq.bind(e),r.cssMode&&(e.onScroll=dq.bind(e)),e.onClick=cq.bind(e),e.onLoad=uq.bind(e),lM(e,"on")}function pq(){lM(this,"off")}var gq={attachEvents:fq,detachEvents:pq};const H5=(e,r)=>e.grid&&r.grid&&r.grid.rows>1;function hq(){const e=this,{realIndex:r,initialized:a,params:n,el:s}=e,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=zs(),d=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",u=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),m=e.getBreakpoint(i,d,u);if(!m||e.currentBreakpoint===m)return;const f=(m in i?i[m]:void 0)||e.originalParams,y=H5(e,n),b=H5(e,f),E=e.params.grabCursor,w=f.grabCursor,x=n.enabled;y&&!b?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!y&&b&&(s.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),E&&!w?e.unsetGrabCursor():!E&&w&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof f[_]>"u")return;const O=n[_]&&n[_].enabled,T=f[_]&&f[_].enabled;O&&!T&&e[_].disable(),!O&&T&&e[_].enable()});const N=f.direction&&f.direction!==n.direction,S=n.loop&&(f.slidesPerView!==n.slidesPerView||N),k=n.loop;N&&a&&e.changeDirection(),kn(e.params,f);const P=e.params.enabled,C=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),x&&!P?e.disable():!x&&P&&e.enable(),e.currentBreakpoint=m,e.emit("_beforeBreakpoint",f),a&&(S?(e.loopDestroy(),e.loopCreate(r),e.updateSlides()):!k&&C?(e.loopCreate(r),e.updateSlides()):k&&!C&&e.loopDestroy()),e.emit("breakpoint",f)}function yq(e,r="window",a){if(!e||r==="container"&&!a)return;let n=!1;const s=an(),i=r==="window"?s.innerHeight:a.clientHeight,o=Object.keys(e).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const u=parseFloat(d.substr(1));return{value:i*u,point:d}}return{value:d,point:d}});o.sort((d,u)=>parseInt(d.value,10)-parseInt(u.value,10));for(let d=0;d<o.length;d+=1){const{point:u,value:m}=o[d];r==="window"?s.matchMedia(`(min-width: ${m}px)`).matches&&(n=u):m<=a.clientWidth&&(n=u)}return n||"max"}var bq={setBreakpoint:hq,getBreakpoint:yq};function xq(e,r){const a=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&a.push(r+s)}):typeof n=="string"&&a.push(r+n)}),a}function vq(){const e=this,{classNames:r,params:a,rtl:n,el:s,device:i}=e,o=xq(["initialized",a.direction,{"free-mode":e.params.freeMode&&a.freeMode.enabled},{autoheight:a.autoHeight},{rtl:n},{grid:a.grid&&a.grid.rows>1},{"grid-column":a.grid&&a.grid.rows>1&&a.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":a.cssMode},{centered:a.cssMode&&a.centeredSlides},{"watch-progress":a.watchSlidesProgress}],a.containerModifierClass);r.push(...o),s.classList.add(...r),e.emitContainerClasses()}function Eq(){const e=this,{el:r,classNames:a}=e;!r||typeof r=="string"||(r.classList.remove(...a),e.emitContainerClasses())}var wq={addClasses:vq,removeClasses:Eq};function Nq(){const e=this,{isLocked:r,params:a}=e,{slidesOffsetBefore:n}=a;if(n){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+n*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;a.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),a.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),r&&r!==e.isLocked&&(e.isEnd=!1),r!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var Sq={checkOverflow:Nq},bw={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function kq(e,r){return function(n={}){const s=Object.keys(n)[0],i=n[s];if(typeof i!="object"||i===null){kn(r,n);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){kn(r,n);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),kn(r,n)}}const Ay={eventsEmitter:wB,update:jB,translate:FB,transition:UB,slide:QB,loop:tq,grabCursor:nq,events:gq,breakpoints:bq,checkOverflow:Sq,classes:wq},_y={};let mN=class li{constructor(...r){let a,n;r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[a,n]=r,n||(n={}),n=kn({},n),a&&!n.el&&(n.el=a);const s=zs();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const u=[];return s.querySelectorAll(n.el).forEach(m=>{const p=kn({},n,{el:m});u.push(new li(p))}),u}const i=this;i.__swiper__=!0,i.support=nM(),i.device=sM({userAgent:n.userAgent}),i.browser=iM(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],n.modules&&Array.isArray(n.modules)&&i.modules.push(...n.modules);const o={};i.modules.forEach(u=>{u({params:n,swiper:i,extendParams:kq(n,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const d=kn({},bw,o);return i.params=kn({},d,_y,n),i.originalParams=kn({},i.params),i.passedParams=kn({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach(u=>{i.on(u,i.params.on[u])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:a,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:a,params:n}=this,s=Ds(a,`.${n.slideClass}, swiper-slide`),i=Dp(s[0]);return Dp(r)-i}getSlideIndexByData(r){return this.getSlideIndex(this.slides.find(a=>a.getAttribute("data-swiper-slide-index")*1===r))}getSlideIndexWhenGrid(r){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?r=Math.floor(r/this.params.grid.rows):this.params.grid.fill==="row"&&(r=r%Math.ceil(this.slides.length/this.params.grid.rows))),r}recalcSlides(){const r=this,{slidesEl:a,params:n}=r;r.slides=Ds(a,`.${n.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,a){const n=this;r=Math.min(Math.max(r,0),1);const s=n.minTranslate(),o=(n.maxTranslate()-s)*r+s;n.translateTo(o,typeof a>"u"?0:a),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=r.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",a.join(" "))}getSlideClasses(r){const a=this;return a.destroyed?"":r.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(a.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=[];r.slides.forEach(n=>{const s=r.getSlideClasses(n);a.push({slideEl:n,classNames:s}),r.emit("_slideClass",n,s)}),r.emit("_slideClasses",a)}slidesPerViewDynamic(r="current",a=!1){const n=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:d,size:u,activeIndex:m}=n;let p=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[m]?Math.ceil(i[m].swiperSlideSize):0,y;for(let b=m+1;b<i.length;b+=1)i[b]&&!y&&(f+=Math.ceil(i[b].swiperSlideSize),p+=1,f>u&&(y=!0));for(let b=m-1;b>=0;b-=1)i[b]&&!y&&(f+=i[b].swiperSlideSize,p+=1,f>u&&(y=!0))}else if(r==="current")for(let f=m+1;f<i.length;f+=1)(a?o[f]+d[f]-o[m]<u:o[f]-o[m]<u)&&(p+=1);else for(let f=m-1;f>=0;f-=1)o[m]-o[f]<u&&(p+=1);return p}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:a,params:n}=r;n.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ep(r,o)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function s(){const o=r.rtlTranslate?r.translate*-1:r.translate,d=Math.min(Math.max(o,r.maxTranslate()),r.minTranslate());r.setTranslate(d),r.updateActiveIndex(),r.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&r.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&r.isEnd&&!n.centeredSlides){const o=r.virtual&&n.virtual.enabled?r.virtual.slides:r.slides;i=r.slideTo(o.length-1,0,!1,!0)}else i=r.slideTo(r.activeIndex,0,!1,!0);i||s()}n.watchOverflow&&a!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,a=!0){const n=this,s=n.params.direction;return r||(r=s==="horizontal"?"vertical":"horizontal"),r===s||r!=="horizontal"&&r!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${r}`),n.emitContainerClasses(),n.params.direction=r,n.slides.forEach(i=>{r==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),a&&n.update()),n}changeLanguageDirection(r){const a=this;a.rtl&&r==="rtl"||!a.rtl&&r==="ltr"||(a.rtl=r==="rtl",a.rtlTranslate=a.params.direction==="horizontal"&&a.rtl,a.rtl?(a.el.classList.add(`${a.params.containerModifierClass}rtl`),a.el.dir="rtl"):(a.el.classList.remove(`${a.params.containerModifierClass}rtl`),a.el.dir="ltr"),a.update())}mount(r){const a=this;if(a.mounted)return!0;let n=r||a.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=a,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===a.params.swiperElementNodeName.toUpperCase()&&(a.isElement=!0);const s=()=>`.${(a.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):Ds(n,s())[0];return!o&&a.params.createElements&&(o=Ip("div",a.params.wrapperClass),n.append(o),Ds(n,`.${a.params.slideClass}`).forEach(d=>{o.append(d)})),Object.assign(a,{el:n,wrapperEl:o,slidesEl:a.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:a.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||to(n,"direction")==="rtl",rtlTranslate:a.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||to(n,"direction")==="rtl"),wrongRTL:to(o,"display")==="-webkit-box"}),!0}init(r){const a=this;if(a.initialized||a.mount(r)===!1)return a;a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.enabled&&a.setGrabCursor(),a.params.loop&&a.virtual&&a.params.virtual.enabled?a.slideTo(a.params.initialSlide+a.virtual.slidesBefore,0,a.params.runCallbacksOnInit,!1,!0):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit,!1,!0),a.params.loop&&a.loopCreate(void 0,!0),a.attachEvents();const s=[...a.el.querySelectorAll('[loading="lazy"]')];return a.isElement&&s.push(...a.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Ep(a,i):i.addEventListener("load",o=>{Ep(a,o.target)})}),yw(a),a.initialized=!0,yw(a),a.emit("init"),a.emit("afterInit"),a}destroy(r=!0,a=!0){const n=this,{params:s,el:i,wrapperEl:o,slides:d}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),a&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),d&&d.length&&d.forEach(u=>{u.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(u=>{n.off(u)}),r!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),cB(n)),n.destroyed=!0),null}static extendDefaults(r){kn(_y,r)}static get extendedDefaults(){return _y}static get defaults(){return bw}static installModule(r){li.prototype.__modules__||(li.prototype.__modules__=[]);const a=li.prototype.__modules__;typeof r=="function"&&a.indexOf(r)<0&&a.push(r)}static use(r){return Array.isArray(r)?(r.forEach(a=>li.installModule(a)),li):(li.installModule(r),li)}};Object.keys(Ay).forEach(e=>{Object.keys(Ay[e]).forEach(r=>{mN.prototype[r]=Ay[e][r]})});mN.use([vB,EB]);const cM=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function dl(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function hc(e,r){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(n=>a.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=r[n]:dl(r[n])&&dl(e[n])&&Object.keys(r[n]).length>0?r[n].__swiper__?e[n]=r[n]:hc(e[n],r[n]):e[n]=r[n]})}function dM(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function uM(e={}){return e.pagination&&typeof e.pagination.el>"u"}function mM(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function fM(e=""){const r=e.split(" ").map(n=>n.trim()).filter(n=>!!n),a=[];return r.forEach(n=>{a.indexOf(n)<0&&a.push(n)}),a.join(" ")}function Cq(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Aq({swiper:e,slides:r,passedParams:a,changedParams:n,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:d}){const u=n.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:m,pagination:p,navigation:f,scrollbar:y,virtual:b,thumbs:E}=e;let w,x,N,S,k,P,C,_;n.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(w=!0),n.includes("controller")&&a.controller&&a.controller.control&&m.controller&&!m.controller.control&&(x=!0),n.includes("pagination")&&a.pagination&&(a.pagination.el||d)&&(m.pagination||m.pagination===!1)&&p&&!p.el&&(N=!0),n.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||o)&&(m.scrollbar||m.scrollbar===!1)&&y&&!y.el&&(S=!0),n.includes("navigation")&&a.navigation&&(a.navigation.prevEl||i)&&(a.navigation.nextEl||s)&&(m.navigation||m.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(k=!0);const O=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),m[T].prevEl=void 0,m[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),m[T].el=void 0,e[T].el=void 0))};n.includes("loop")&&e.isElement&&(m.loop&&!a.loop?P=!0:!m.loop&&a.loop?C=!0:_=!0),u.forEach(T=>{if(dl(m[T])&&dl(a[T]))Object.assign(m[T],a[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in a[T]&&!a[T].enabled&&O(T);else{const R=a[T];(R===!0||R===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?R===!1&&O(T):m[T]=a[T]}}),u.includes("controller")&&!x&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),n.includes("children")&&r&&b&&m.virtual.enabled?(b.slides=r,b.update(!0)):n.includes("virtual")&&b&&m.virtual.enabled&&(r&&(b.slides=r),b.update(!0)),n.includes("children")&&r&&m.loop&&(_=!0),w&&E.init()&&E.update(!0),x&&(e.controller.control=m.controller.control),N&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(m.pagination.el=d),p.init(),p.render(),p.update()),S&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(m.scrollbar.el=o),y.init(),y.updateSize(),y.setTranslate()),k&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),_u(s,e.navigation.arrowSvg),s.part.add("button-next"),e.el.appendChild(s)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),_u(i,e.navigation.arrowSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(m.navigation.nextEl=s),i&&(m.navigation.prevEl=i),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=a.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=a.allowSlidePrev),n.includes("direction")&&e.changeDirection(a.direction,!1),(P||_)&&e.loopDestroy(),(C||_)&&e.loopCreate(),e.update()}function _q(e={},r=!0){const a={on:{}},n={},s={};hc(a,bw),a._emitClasses=!0,a.init=!1;const i={},o=cM.map(u=>u.replace(/_/,"")),d=Object.assign({},e);return Object.keys(d).forEach(u=>{typeof e[u]>"u"||(o.indexOf(u)>=0?dl(e[u])?(a[u]={},s[u]={},hc(a[u],e[u]),hc(s[u],e[u])):(a[u]=e[u],s[u]=e[u]):u.search(/on[A-Z]/)===0&&typeof e[u]=="function"?r?n[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:a.on[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:i[u]=e[u])}),["navigation","pagination","scrollbar"].forEach(u=>{a[u]===!0&&(a[u]={}),a[u]===!1&&delete a[u]}),{params:a,passedParams:s,rest:i,events:n}}function Pq({el:e,nextEl:r,prevEl:a,paginationEl:n,scrollbarEl:s,swiper:i},o){dM(o)&&r&&a&&(i.params.navigation.nextEl=r,i.originalParams.navigation.nextEl=r,i.params.navigation.prevEl=a,i.originalParams.navigation.prevEl=a),uM(o)&&n&&(i.params.pagination.el=n,i.originalParams.pagination.el=n),mM(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(e)}function Tq(e,r,a,n,s){const i=[];if(!r)return i;const o=u=>{i.indexOf(u)<0&&i.push(u)};if(a&&n){const u=n.map(s),m=a.map(s);u.join("")!==m.join("")&&o("children"),n.length!==a.length&&o("children")}return cM.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in e&&u in r)if(dl(e[u])&&dl(r[u])){const m=Object.keys(e[u]),p=Object.keys(r[u]);m.length!==p.length?o(u):(m.forEach(f=>{e[u][f]!==r[u][f]&&o(u)}),p.forEach(f=>{e[u][f]!==r[u][f]&&o(u)}))}else e[u]!==r[u]&&o(u)}),i}const Oq=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fp.apply(this,arguments)}function pM(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function gM(e){const r=[];return t.Children.toArray(e).forEach(a=>{pM(a)?r.push(a):a.props&&a.props.children&&gM(a.props.children).forEach(n=>r.push(n))}),r}function Mq(e){const r=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return t.Children.toArray(e).forEach(n=>{if(pM(n))r.push(n);else if(n.props&&n.props.slot&&a[n.props.slot])a[n.props.slot].push(n);else if(n.props&&n.props.children){const s=gM(n.props.children);s.length>0?s.forEach(i=>r.push(i)):a["container-end"].push(n)}else a["container-end"].push(n)}),{slides:r,slots:a}}function jq(e,r,a){if(!a)return null;const n=p=>{let f=p;return p<0?f=r.length+p:f>=r.length&&(f=f-r.length),f},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},{from:i,to:o}=a,d=e.params.loop?-r.length:0,u=e.params.loop?r.length*2:r.length,m=[];for(let p=d;p<u;p+=1)p>=i&&p<=o&&m.push(r[n(p)]);return m.map((p,f)=>t.cloneElement(p,{swiper:e,style:s,key:p.props.virtualIndex||p.key||`slide-${f}`}))}function yu(e,r){return typeof window>"u"?h.useEffect(e,r):h.useLayoutEffect(e,r)}const W5=h.createContext(null),Rq=h.createContext(null),hM=h.forwardRef(({className:e,tag:r="div",wrapperTag:a="div",children:n,onSwiper:s,...i}={},o)=>{let d=!1;const[u,m]=h.useState("swiper"),[p,f]=h.useState(null),[y,b]=h.useState(!1),E=h.useRef(!1),w=h.useRef(null),x=h.useRef(null),N=h.useRef(null),S=h.useRef(null),k=h.useRef(null),P=h.useRef(null),C=h.useRef(null),_=h.useRef(null),{params:O,passedParams:T,rest:R,events:D}=_q(i),{slides:j,slots:L}=Mq(n),K=()=>{b(!y)};Object.assign(O.on,{_containerClasses(X,H){m(H)}});const W=()=>{Object.assign(O.on,D),d=!0;const X={...O};if(delete X.wrapperClass,x.current=new mN(X),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=j;const H={cache:!1,slides:j,renderExternal:f,renderExternalUpdate:!1};hc(x.current.params.virtual,H),hc(x.current.originalParams.virtual,H)}};w.current||W(),x.current&&x.current.on("_beforeBreakpoint",K);const $=()=>{d||!D||!x.current||Object.keys(D).forEach(X=>{x.current.on(X,D[X])})},J=()=>{!D||!x.current||Object.keys(D).forEach(X=>{x.current.off(X,D[X])})};h.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",K)}),h.useEffect(()=>{!E.current&&x.current&&(x.current.emitSlidesClasses(),E.current=!0)}),yu(()=>{if(o&&(o.current=w.current),!!w.current)return x.current.destroyed&&W(),Pq({el:w.current,nextEl:k.current,prevEl:P.current,paginationEl:C.current,scrollbarEl:_.current,swiper:x.current},O),s&&!x.current.destroyed&&s(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),yu(()=>{$();const X=Tq(T,N.current,j,S.current,H=>H.key);return N.current=T,S.current=j,X.length&&x.current&&!x.current.destroyed&&Aq({swiper:x.current,slides:j,passedParams:T,changedParams:X,nextEl:k.current,prevEl:P.current,scrollbarEl:_.current,paginationEl:C.current}),()=>{J()}}),yu(()=>{Oq(x.current)},[p]);function Q(){return O.virtual?jq(x.current,j,p):j.map((X,H)=>t.cloneElement(X,{swiper:x.current,swiperSlideIndex:H}))}return t.createElement(r,Fp({ref:w,className:fM(`${u}${e?` ${e}`:""}`)},R),t.createElement(Rq.Provider,{value:x.current},L["container-start"],t.createElement(a,{className:Cq(O.wrapperClass)},L["wrapper-start"],Q(),L["wrapper-end"]),dM(O)&&t.createElement(t.Fragment,null,t.createElement("div",{ref:P,className:"swiper-button-prev"}),t.createElement("div",{ref:k,className:"swiper-button-next"})),mM(O)&&t.createElement("div",{ref:_,className:"swiper-scrollbar"}),uM(O)&&t.createElement("div",{ref:C,className:"swiper-pagination"}),L["container-end"]))});hM.displayName="Swiper";const yM=h.forwardRef(({tag:e="div",children:r,className:a="",swiper:n,zoom:s,lazy:i,virtualIndex:o,swiperSlideIndex:d,...u}={},m)=>{const p=h.useRef(null),[f,y]=h.useState("swiper-slide"),[b,E]=h.useState(!1);function w(k,P,C){P===p.current&&y(C)}yu(()=>{if(typeof d<"u"&&(p.current.swiperSlideIndex=d),m&&(m.current=p.current),!(!p.current||!n)){if(n.destroyed){f!=="swiper-slide"&&y("swiper-slide");return}return n.on("_slideClass",w),()=>{n&&n.off("_slideClass",w)}}}),yu(()=>{n&&p.current&&!n.destroyed&&y(n.getSlideClasses(p.current))},[n]);const x={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},N=()=>typeof r=="function"?r(x):r,S=()=>{E(!0)};return t.createElement(e,Fp({ref:p,className:fM(`${f}${a?` ${a}`:""}`),"data-swiper-slide-index":o,onLoad:S},u),s&&t.createElement(W5.Provider,{value:x},t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},N(),i&&!b&&t.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&t.createElement(W5.Provider,{value:x},N(),i&&!b&&t.createElement("div",{className:"swiper-lazy-preloader"})))});yM.displayName="SwiperSlide";function bM(e,r,a,n){return e.params.createElements&&Object.keys(n).forEach(s=>{if(!a[s]&&a.auto===!0){let i=Ds(e.el,`.${n[s]}`)[0];i||(i=Ip("div",n[s]),i.className=n[s],e.el.append(i)),a[s]=i,r[s]=i}}),a}const G5='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function $q({swiper:e,extendParams:r,on:a,emit:n}){r({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:G5};function s(b){let E;return b&&typeof b=="string"&&e.isElement&&(E=e.el.querySelector(b)||e.hostEl.querySelector(b),E)?E:(b&&(typeof b=="string"&&(E=[...document.querySelectorAll(b)]),e.params.uniqueNavElements&&typeof b=="string"&&E&&E.length>1&&e.el.querySelectorAll(b).length===1?E=e.el.querySelector(b):E&&E.length===1&&(E=E[0])),b&&!E?b:E)}function i(b,E){const w=e.params.navigation;b=Sa(b),b.forEach(x=>{x&&(x.classList[E?"add":"remove"](...w.disabledClass.split(" ")),x.tagName==="BUTTON"&&(x.disabled=E),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](w.lockClass))})}function o(){const{nextEl:b,prevEl:E}=e.navigation;if(e.params.loop){i(E,!1),i(b,!1);return}i(E,e.isBeginning&&!e.params.rewind),i(b,e.isEnd&&!e.params.rewind)}function d(b){b.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function u(b){b.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function m(){const b=e.params.navigation;if(e.params.navigation=bM(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let E=s(b.nextEl),w=s(b.prevEl);Object.assign(e.navigation,{nextEl:E,prevEl:w}),E=Sa(E),w=Sa(w);const x=(N,S)=>{if(N){if(b.addIcons&&N.matches(".swiper-button-next,.swiper-button-prev")&&!N.querySelector("svg")){const k=document.createElement("div");_u(k,G5),N.appendChild(k.querySelector("svg")),k.remove()}N.addEventListener("click",S==="next"?u:d)}!e.enabled&&N&&N.classList.add(...b.lockClass.split(" "))};E.forEach(N=>x(N,"next")),w.forEach(N=>x(N,"prev"))}function p(){let{nextEl:b,prevEl:E}=e.navigation;b=Sa(b),E=Sa(E);const w=(x,N)=>{x.removeEventListener("click",N==="next"?u:d),x.classList.remove(...e.params.navigation.disabledClass.split(" "))};b.forEach(x=>w(x,"next")),E.forEach(x=>w(x,"prev"))}a("init",()=>{e.params.navigation.enabled===!1?y():(m(),o())}),a("toEdge fromEdge lock unlock",()=>{o()}),a("destroy",()=>{p()}),a("enable disable",()=>{let{nextEl:b,prevEl:E}=e.navigation;if(b=Sa(b),E=Sa(E),e.enabled){o();return}[...b,...E].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),a("click",(b,E)=>{let{nextEl:w,prevEl:x}=e.navigation;w=Sa(w),x=Sa(x);const N=E.target;let S=x.includes(N)||w.includes(N);if(e.isElement&&!S){const k=E.path||E.composedPath&&E.composedPath();k&&(S=k.find(P=>w.includes(P)||x.includes(P)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===N||e.pagination.el.contains(N)))return;let k;w.length?k=w[0].classList.contains(e.params.navigation.hiddenClass):x.length&&(k=x[0].classList.contains(e.params.navigation.hiddenClass)),n(k===!0?"navigationShow":"navigationHide"),[...w,...x].filter(P=>!!P).forEach(P=>P.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),o()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:f,disable:y,update:o,init:m,destroy:p})}function qd(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Lq({swiper:e,extendParams:r,on:a,emit:n}){const s="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let i,o=0;function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(N,S){const{bulletActiveClass:k}=e.params.pagination;N&&(N=N[`${S==="prev"?"previous":"next"}ElementSibling`],N&&(N.classList.add(`${k}-${S}`),N=N[`${S==="prev"?"previous":"next"}ElementSibling`],N&&N.classList.add(`${k}-${S}-${S}`)))}function m(N,S,k){if(N=N%k,S=S%k,S===N+1)return"next";if(S===N-1)return"previous"}function p(N){const S=N.target.closest(qd(e.params.pagination.bulletClass));if(!S)return;N.preventDefault();const k=Dp(S)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===k)return;const P=m(e.realIndex,k,e.slides.length);P==="next"?e.slideNext():P==="previous"?e.slidePrev():e.slideToLoop(k)}else e.slideTo(k)}function f(){const N=e.rtl,S=e.params.pagination;if(d())return;let k=e.pagination.el;k=Sa(k);let P,C;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,P=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(P=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,P=e.activeIndex||0),S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let R,D,j;if(S.dynamicBullets&&(i=hw(T[0],e.isHorizontal()?"width":"height"),k.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${i*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&C!==void 0&&(o+=P-(C||0),o>S.dynamicMainBullets-1?o=S.dynamicMainBullets-1:o<0&&(o=0)),R=Math.max(P-o,0),D=R+(Math.min(T.length,S.dynamicMainBullets)-1),j=(D+R)/2),T.forEach(L=>{const K=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${S.bulletActiveClass}${W}`)].map(W=>typeof W=="string"&&W.includes(" ")?W.split(" "):W).flat();L.classList.remove(...K)}),k.length>1)T.forEach(L=>{const K=Dp(L);K===P?L.classList.add(...S.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),S.dynamicBullets&&(K>=R&&K<=D&&L.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),K===R&&u(L,"prev"),K===D&&u(L,"next"))});else{const L=T[P];if(L&&L.classList.add(...S.bulletActiveClass.split(" ")),e.isElement&&T.forEach((K,W)=>{K.setAttribute("part",W===P?"bullet-active":"bullet")}),S.dynamicBullets){const K=T[R],W=T[D];for(let $=R;$<=D;$+=1)T[$]&&T[$].classList.add(...`${S.bulletActiveClass}-main`.split(" "));u(K,"prev"),u(W,"next")}}if(S.dynamicBullets){const L=Math.min(T.length,S.dynamicMainBullets+4),K=(i*L-i)/2-j*i,W=N?"right":"left";T.forEach($=>{$.style[e.isHorizontal()?W:"top"]=`${K}px`})}}k.forEach((T,R)=>{if(S.type==="fraction"&&(T.querySelectorAll(qd(S.currentClass)).forEach(D=>{D.textContent=S.formatFractionCurrent(P+1)}),T.querySelectorAll(qd(S.totalClass)).forEach(D=>{D.textContent=S.formatFractionTotal(O)})),S.type==="progressbar"){let D;S.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const j=(P+1)/O;let L=1,K=1;D==="horizontal"?L=j:K=j,T.querySelectorAll(qd(S.progressbarFillClass)).forEach(W=>{W.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${K})`,W.style.transitionDuration=`${e.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(_u(T,S.renderCustom(e,P+1,O)),R===0&&n("paginationRender",T)):(R===0&&n("paginationRender",T),n("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](S.lockClass)})}function y(){const N=e.params.pagination;if(d())return;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let k=e.pagination.el;k=Sa(k);let P="";if(N.type==="bullets"){let C=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>S&&(C=S);for(let _=0;_<C;_+=1)N.renderBullet?P+=N.renderBullet.call(e,_,N.bulletClass):P+=`<${N.bulletElement} ${e.isElement?'part="bullet"':""} class="${N.bulletClass}"></${N.bulletElement}>`}N.type==="fraction"&&(N.renderFraction?P=N.renderFraction.call(e,N.currentClass,N.totalClass):P=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`),N.type==="progressbar"&&(N.renderProgressbar?P=N.renderProgressbar.call(e,N.progressbarFillClass):P=`<span class="${N.progressbarFillClass}"></span>`),e.pagination.bullets=[],k.forEach(C=>{N.type!=="custom"&&_u(C,P||""),N.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(qd(N.bulletClass)))}),N.type!=="custom"&&n("paginationRender",k[0])}function b(){e.params.pagination=bM(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const N=e.params.pagination;if(!N.el)return;let S;typeof N.el=="string"&&e.isElement&&(S=e.el.querySelector(N.el)),!S&&typeof N.el=="string"&&(S=[...document.querySelectorAll(N.el)]),S||(S=N.el),!(!S||S.length===0)&&(e.params.uniqueNavElements&&typeof N.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...e.el.querySelectorAll(N.el)],S.length>1&&(S=S.find(k=>aM(k,".swiper")[0]===e.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(e.pagination,{el:S}),S=Sa(S),S.forEach(k=>{N.type==="bullets"&&N.clickable&&k.classList.add(...(N.clickableClass||"").split(" ")),k.classList.add(N.modifierClass+N.type),k.classList.add(e.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(k.classList.add(`${N.modifierClass}${N.type}-dynamic`),o=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&k.classList.add(N.progressbarOppositeClass),N.clickable&&k.addEventListener("click",p),e.enabled||k.classList.add(N.lockClass)}))}function E(){const N=e.params.pagination;if(d())return;let S=e.pagination.el;S&&(S=Sa(S),S.forEach(k=>{k.classList.remove(N.hiddenClass),k.classList.remove(N.modifierClass+N.type),k.classList.remove(e.isHorizontal()?N.horizontalClass:N.verticalClass),N.clickable&&(k.classList.remove(...(N.clickableClass||"").split(" ")),k.removeEventListener("click",p))})),e.pagination.bullets&&e.pagination.bullets.forEach(k=>k.classList.remove(...N.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const N=e.params.pagination;let{el:S}=e.pagination;S=Sa(S),S.forEach(k=>{k.classList.remove(N.horizontalClass,N.verticalClass),k.classList.add(e.isHorizontal()?N.horizontalClass:N.verticalClass)})}),a("init",()=>{e.params.pagination.enabled===!1?x():(b(),y(),f())}),a("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),a("snapIndexChange",()=>{f()}),a("snapGridLengthChange",()=>{y(),f()}),a("destroy",()=>{E()}),a("enable disable",()=>{let{el:N}=e.pagination;N&&(N=Sa(N),N.forEach(S=>S.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),a("lock unlock",()=>{f()}),a("click",(N,S)=>{const k=S.target,P=Sa(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&P&&P.length>0&&!k.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&k===e.navigation.nextEl||e.navigation.prevEl&&k===e.navigation.prevEl))return;const C=P[0].classList.contains(e.params.pagination.hiddenClass);n(C===!0?"paginationShow":"paginationHide"),P.forEach(_=>_.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:N}=e.pagination;N&&(N=Sa(N),N.forEach(S=>S.classList.remove(e.params.pagination.paginationDisabledClass))),b(),y(),f()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:N}=e.pagination;N&&(N=Sa(N),N.forEach(S=>S.classList.add(e.params.pagination.paginationDisabledClass))),E()};Object.assign(e.pagination,{enable:w,disable:x,render:y,update:f,init:b,destroy:E})}function Iq({swiper:e,extendParams:r,on:a,emit:n,params:s}){e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,o,d=s&&s.autoplay?s.autoplay.delay:3e3,u=s&&s.autoplay?s.autoplay.delay:3e3,m,p=new Date().getTime(),f,y,b,E,w,x,N;function S(Q){!e||e.destroyed||!e.wrapperEl||Q.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(N||Q.detail&&Q.detail.bySwiperTouchMove)&&R())}const k=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=m,f=!1);const Q=e.autoplay.paused?m:p+u-new Date().getTime();e.autoplay.timeLeft=Q,n("autoplayTimeLeft",Q,Q/d),o=requestAnimationFrame(()=>{k()})},P=()=>{let Q;return e.virtual&&e.params.virtual.enabled?Q=e.slides.find(H=>H.classList.contains("swiper-slide-active")):Q=e.slides[e.activeIndex],Q?parseInt(Q.getAttribute("data-swiper-autoplay"),10):void 0},C=Q=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),k();let X=typeof Q>"u"?e.params.autoplay.delay:Q;d=e.params.autoplay.delay,u=e.params.autoplay.delay;const H=P();!Number.isNaN(H)&&H>0&&typeof Q>"u"&&(X=H,d=H,u=H),m=X;const I=e.params.speed,B=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(I,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,I,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(I,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,I,!0,!0),n("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return X>0?(clearTimeout(i),i=setTimeout(()=>{B()},X)):requestAnimationFrame(()=>{B()}),X},_=()=>{p=new Date().getTime(),e.autoplay.running=!0,C(),n("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(o),n("autoplayStop")},T=(Q,X)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),Q||(x=!0);const H=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):R()};if(e.autoplay.paused=!0,X){w&&(m=e.params.autoplay.delay),w=!1,H();return}m=(m||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&m<0&&!e.params.loop)&&(m<0&&(m=0),H())},R=()=>{e.isEnd&&m<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),x?(x=!1,C(m)):C(),e.autoplay.paused=!1,n("autoplayResume"))},D=()=>{if(e.destroyed||!e.autoplay.running)return;const Q=zs();Q.visibilityState==="hidden"&&(x=!0,T(!0)),Q.visibilityState==="visible"&&R()},j=Q=>{Q.pointerType==="mouse"&&(x=!0,N=!0,!(e.animating||e.autoplay.paused)&&T(!0))},L=Q=>{Q.pointerType==="mouse"&&(N=!1,e.autoplay.paused&&R())},K=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",j),e.el.addEventListener("pointerleave",L))},W=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",j),e.el.removeEventListener("pointerleave",L))},$=()=>{zs().addEventListener("visibilitychange",D)},J=()=>{zs().removeEventListener("visibilitychange",D)};a("init",()=>{e.params.autoplay.enabled&&(K(),$(),_())}),a("destroy",()=>{W(),J(),e.autoplay.running&&O()}),a("_freeModeStaticRelease",()=>{(b||x)&&R()}),a("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():T(!0,!0)}),a("beforeTransitionStart",(Q,X,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?T(!0,!0):O())}),a("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}y=!0,b=!1,x=!1,E=setTimeout(()=>{x=!0,b=!0,T(!0)},200)}}),a("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!y)){if(clearTimeout(E),clearTimeout(i),e.params.autoplay.disableOnInteraction){b=!1,y=!1;return}b&&e.params.cssMode&&R(),b=!1,y=!1}}),a("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:_,stop:O,pause:T,resume:R})}function Dq(){const[e,r]=h.useState([]),[a,n]=h.useState([]),[s,i]=h.useState(""),[o,d]=h.useState("new"),[u,m]=h.useState(1),[p,f]=h.useState(!1),[y,b]=h.useState(1),[E,w]=h.useState(!1),[x,N]=Jc(),S=Number(x.get("page")),k=h.useRef(Number.isInteger(S)&&S>0?S:1),[P,C]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[_,O]=h.useState({favorites:[],topRated:[],topDeals:[],topDiscounts:[],newProducts:[],usedProducts:[],cityHighlights:{}}),[T,R]=h.useState(!1),[D,j]=h.useState([]),[L,K]=h.useState(!1),[W,$]=h.useState([]),[J,Q]=h.useState(!1),[X,H]=h.useState(0),[I,B]=h.useState([]),[G,z]=h.useState(!1),[ae,he]=h.useState(""),[ve,_e]=h.useState(""),[ee,le]=h.useState(""),[pe,Ne]=h.useState(""),[oe,re]=h.useState(""),[Me,ge]=h.useState(""),[$e,De]=h.useState(()=>new Date),[Ye,Je]=h.useState(""),[bt,Ze]=h.useState(!1),nt=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],ct=Tn(),vt=Y=>Number(Y||0).toLocaleString("fr-FR"),Zt="/promo-default.svg",pt=h.useCallback(Y=>Y?.slug&&P?`/product-preview/${Y.slug}`:or(Y),[P]),ut=h.useCallback(Y=>{if(!Y)return null;const U=new Date(Y);return Number.isNaN(U.getTime())?null:U},[]),Lt=h.useMemo(()=>{if(!ve)return!1;const Y=ut(oe),U=ut(Me);return!(Y&&$e<Y||U&&$e>U)},[ut,ve,Me,oe,$e]),zt=P&&!bt&&E&&u===1,nr=h.useMemo(()=>{const Y={page:u,limit:12,sort:o};return s&&(Y.category=s),Y},[s,u,o]),Bt=async()=>{w(!0);try{const{data:Y}=await ie.get("/products/public",{params:nr}),U=Array.isArray(Y)?Y:Y.items||[],de=Array.isArray(Y)?1:Y.pagination?.pages||1,Re=Array.isArray(Y)?U.length:Number(Y?.pagination?.total)||U.length;r(Ve=>P&&u>1?[...Ve,...U]:U),b(de),H(Re)}catch(Y){console.error("Erreur chargement produits:",Y)}finally{w(!1)}},xt=h.useCallback(async()=>{try{console.debug("loading certified products",{params:{certified:!0,sort:"recent",limit:8,page:1}});const{data:Y}=await ie.get("/products/public",{params:{certified:!0,sort:"new",limit:8,page:1}}),U=Array.isArray(Y)?Y:Y?.items||[];n(U.filter(de=>de?.certified))}catch(Y){console.error("Erreur chargement produits certifis:",Y?.response?.status,Y?.response?.data,Y)}},[]);h.useEffect(()=>{let Y=!0;return(async()=>{try{const{data:de}=await ie.get("/settings/hero-banner");if(!Y)return;he(de?.heroBanner||"")}catch{if(!Y)return;he("")}})(),()=>{Y=!1}},[]),h.useEffect(()=>{let Y=!0;return(async()=>{try{const{data:de}=await ie.get("/settings/app-logo");if(!Y)return;Je(de?.appLogoMobile||de?.appLogoDesktop||"")}catch{if(!Y)return;Je("")}})(),()=>{Y=!1}},[]),h.useEffect(()=>{let Y=!0;return(async()=>{try{const{data:de}=await ie.get("/settings/promo-banner");if(!Y)return;_e(de?.promoBanner||""),le(de?.promoBannerMobile||""),Ne(de?.promoBannerLink||""),re(de?.promoBannerStartAt||""),ge(de?.promoBannerEndAt||"")}catch{if(!Y)return;_e(""),le(""),Ne(""),re(""),ge("")}})(),()=>{Y=!1}},[]),h.useEffect(()=>{!E&&u===1&&Ze(!0)},[E,u]),h.useEffect(()=>{const Y=setInterval(()=>{De(new Date)},6e4);return()=>clearInterval(Y)},[]);const we=async()=>{R(!0);try{const{data:Y}=await ie.get("/products/public/highlights");O({favorites:Array.isArray(Y?.favorites)?Y.favorites:[],topRated:Array.isArray(Y?.topRated)?Y.topRated:[],topDeals:Array.isArray(Y?.topDeals)?Y.topDeals:[],topDiscounts:Array.isArray(Y?.topDiscounts)?Y.topDiscounts:[],newProducts:Array.isArray(Y?.newProducts)?Y.newProducts:[],usedProducts:Array.isArray(Y?.usedProducts)?Y.usedProducts:[],cityHighlights:Y?.cityHighlights&&typeof Y.cityHighlights=="object"?Y.cityHighlights:{}})}catch(Y){console.error("Erreur chargement highlights:",Y)}finally{R(!1)}},ot=async()=>{z(!0);try{const{data:Y}=await ie.get("/shops"),U=Array.isArray(Y)?Y.filter(de=>de.shopVerified):[];B(U.slice(0,6))}catch(Y){console.error("Erreur chargement boutiques vrifies:",Y),B([])}finally{z(!1)}},ht=async()=>{K(!0);try{const{data:Y}=await ie.get("/products/public",{params:{sort:"discount",limit:8,page:1}}),Re=[...(Array.isArray(Y)?Y:Y.items||[]).filter(Ve=>Ve.discount>0&&Ve.priceBeforeDiscount&&Ve.price<Ve.priceBeforeDiscount)].sort(()=>Math.random()-.5);j(Re.slice(0,4))}catch(Y){console.error("Erreur chargement produits en promotion:",Y)}finally{K(!1)}},Z=()=>{if(!ve)return null;const U=Lt?P&&ee?ee:ve:Zt,de=Lt?pe:"/products",Re=t.createElement("img",{src:U,alt:"Bannire promotionnelle",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),Ve="group block w-full overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm aspect-[16/9] sm:aspect-[21/7] lg:aspect-[24/7]";return de?de.startsWith("/")?t.createElement(be,{to:de,...ct,className:Ve},Re):t.createElement("a",{href:de,target:"_blank",rel:"noopener noreferrer",className:Ve},Re):t.createElement("div",{className:Ve},Re)};h.useEffect(()=>{k.current=1,m(1)},[o,s]),h.useEffect(()=>{Bt()},[u,o,s,P]),h.useEffect(()=>{u===k.current?N(Y=>{const U=new URLSearchParams(Y);return u===1?U.delete("page"):U.set("page",String(u)),U},{replace:!0}):N(Y=>{const U=new URLSearchParams(Y);return u===1?U.delete("page"):U.set("page",String(u)),U},{replace:!1})},[u,N]),h.useEffect(()=>{k.current=Number.isInteger(S)&&S>0?S:1,m(k.current)},[S]),h.useEffect(()=>{const Y=()=>{typeof window>"u"||C(window.innerWidth<=767)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),h.useEffect(()=>{if(!P||E||u>=y)return;const Y=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&m(de=>Math.min(de+1,y))};return window.addEventListener("scroll",Y,{passive:!0}),()=>window.removeEventListener("scroll",Y)},[P,E,u,y]);const xe=async()=>{Q(!0);try{const{data:Y}=await ie.get("/products/public/top-sales",{params:{limit:6,page:1}}),U=Array.isArray(Y?.items)?Y.items:[];$(U)}catch(Y){console.error("Erreur chargement produits les plus vendus:",Y),$([])}finally{Q(!1)}};h.useEffect(()=>{we(),ht(),ot(),xt(),xe()},[]);const fe=_.cityHighlights||{},ye=()=>P||y<=1?null:t.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8"},t.createElement("button",{onClick:()=>m(Y=>Math.max(1,Y-1)),disabled:u<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),Array.from({length:Math.min(5,y)},(Y,U)=>{const de=U+1;return t.createElement("button",{key:de,onClick:()=>m(de),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${u===de?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},de)}),y>5&&t.createElement("span",{className:"px-2 text-gray-500"},"..."),t.createElement("button",{onClick:()=>m(Y=>Math.min(y,Y+1)),disabled:u>=y,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""));return t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},t.createElement(sB,{visible:zt,logoSrc:Ye,label:"HDMarket"}),t.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-8"},t.createElement("section",{className:"relative bg-gradient-to-br from-indigo-900 via-indigo-800 to-purple-900 rounded-3xl overflow-hidden shadow-2xl"},ae&&t.createElement("div",{className:"absolute inset-0"},t.createElement("img",{src:ae,alt:"Bannire HDMarket",className:"h-full w-full object-cover",loading:"lazy"}),t.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950/70 via-indigo-950/70 to-purple-950/70"})),t.createElement("div",{className:"relative z-10 px-6 py-8 sm:py-12 lg:py-16 text-left"},t.createElement("div",{className:"inline-flex items-center px-4 py-2 bg-white/15 backdrop-blur-md rounded-full border border-white/30 mb-6 shadow-lg"},t.createElement(gr,{className:"w-4 h-4 text-yellow-300 mr-2 animate-pulse",fill:"currentColor"}),t.createElement("span",{className:"text-sm text-white font-semibold"},"Marketplace Premium")),t.createElement("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-white mb-5 leading-tight"},"Votre March",t.createElement("span",{className:"block bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-300 bg-clip-text text-transparent animate-gradient"},"Digital")),t.createElement("p",{className:"text-base sm:text-lg text-indigo-100 mb-8 max-w-lg leading-relaxed font-medium"},"Dcouvrez ",t.createElement("span",{className:"font-bold text-yellow-300"},vt(X))," produits vrifis. Vendez et achetez en toute confiance."),t.createElement("div",{className:"flex flex-col sm:flex-row gap-4 justify-start items-start"},t.createElement(be,{to:"/my",className:"group inline-flex items-center px-6 py-3.5 bg-white text-gray-900 font-semibold rounded-3xl hover:bg-gray-50 transition-all duration-200 active:scale-95 shadow-sm text-base"},t.createElement(gc,{className:"w-5 h-5 mr-2"}),"Publier un produit"),t.createElement(be,{to:"/products",...ct,className:"inline-flex items-center px-6 py-3.5 bg-white/15 backdrop-blur-md text-white font-semibold rounded-3xl border border-white/30 hover:bg-white/25 transition-all duration-200 active:scale-95 text-base shadow-sm"},"Explorer le march",t.createElement(Rr,{className:"w-5 h-5 ml-2"}))))),ve&&t.createElement("section",null,Z()),t.createElement("section",{className:"bg-gradient-to-br from-white to-emerald-50/30 rounded-3xl border-2 border-emerald-200/50 shadow-xl p-6 sm:p-8 flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between hover:shadow-2xl transition-shadow duration-300"},t.createElement("div",{className:"flex items-start gap-4"},t.createElement("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},t.createElement(xr,{className:"w-8 h-8 text-white"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider mb-2"},"Livraison gratuite HDMarket"),t.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-3"},"0 FCFA de frais dans la ville de la boutique, sous 48h"),t.createElement("p",{className:"text-sm text-gray-700 leading-relaxed max-w-2xl"},"Ds que votre paiement est vrifi et la commande confirme par nos quipes, nous livrons gratuitement dans la ville o se trouve la boutique en moins de 48h. Disponible  Brazzaville, Pointe-Noire, Oyo, Ouesso et bien plus encore."))),t.createElement("div",{className:"flex flex-wrap gap-3"},t.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-50 to-green-50 text-emerald-700 text-sm font-bold px-5 py-3 border-2 border-emerald-200 shadow-md"},t.createElement($r,{size:16,className:"text-emerald-600"}),"Paiement confirm"),t.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-700 text-sm font-bold px-5 py-3 border-2 border-indigo-200 shadow-md"},t.createElement(It,{size:16,className:"text-indigo-600"}),"Livraison 48h"))),t.createElement("section",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4"},[{icon:$r,title:"Scuris",desc:"Paiements protgs",color:"indigo"},{icon:xr,title:"Livraison gratuite",desc:"< 48h dans la ville du vendeur",color:"emerald"},{icon:Es,title:"Qualit",desc:"Produits vrifis",color:"amber"},{icon:Ar,title:"Confiance",desc:"Avis authentiques",color:"rose"}].map((Y,U)=>{const Re={indigo:"bg-indigo-100 text-indigo-600 border-indigo-200 hover:bg-indigo-50",emerald:"bg-emerald-100 text-emerald-600 border-emerald-200 hover:bg-emerald-50",amber:"bg-amber-100 text-amber-600 border-amber-200 hover:bg-amber-50",rose:"bg-rose-100 text-rose-600 border-rose-200 hover:bg-rose-50"}[Y.color];return t.createElement("div",{key:U,className:"group bg-white rounded-2xl p-5 text-center shadow-md border-2 border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300"},t.createElement("div",{className:`w-12 h-12 ${Re} rounded-2xl flex items-center justify-center mx-auto mb-3 shadow-lg group-hover:scale-110 transition-transform`},t.createElement(Y.icon,{className:"w-6 h-6"})),t.createElement("h3",{className:"font-bold text-gray-900 text-sm mb-2"},Y.title),t.createElement("p",{className:"text-xs text-gray-600 leading-relaxed"},Y.desc))})),t.createElement("section",{className:"relative overflow-hidden"},t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-3xl border border-gray-200/60 dark:border-gray-700/50 shadow-lg",style:{marginTop:"6px",marginBottom:"6px",paddingLeft:"20px",paddingRight:"20px",paddingTop:"23px",paddingBottom:"23px"}},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 mb-8"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-100/80 dark:bg-indigo-900/30 border border-indigo-200/50 dark:border-indigo-800/50 w-fit"},t.createElement(yp,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),t.createElement("span",{className:"text-xs font-bold text-indigo-700 dark:text-indigo-300 uppercase tracking-wider"},"Catgories")),t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white tracking-tight"},"Explorez nos univers"),t.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-md"},"Trouvez exactement ce que vous cherchez parmi nos collections soigneusement organises")),t.createElement("button",{type:"button",onClick:()=>f(!0),className:"group flex items-center gap-2 px-5 py-2.5 rounded-3xl bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 active:scale-95 text-sm font-semibold text-gray-700 dark:text-gray-200 shadow-sm"},t.createElement("span",null,"Tout voir"),t.createElement(Rr,{className:"w-4 h-4"}))),t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4"},Vs.map((Y,U)=>{const de=Y.icon,Re=Y.options?.[0]?.value||"",Ve=[{bg:"bg-blue-50 dark:bg-blue-900/20",icon:"text-blue-600 dark:text-blue-400",border:"border-blue-200/50 dark:border-blue-800/50",hover:"hover:bg-blue-100 dark:hover:bg-blue-900/30"},{bg:"bg-pink-50 dark:bg-pink-900/20",icon:"text-pink-600 dark:text-pink-400",border:"border-pink-200/50 dark:border-pink-800/50",hover:"hover:bg-pink-100 dark:hover:bg-pink-900/30"},{bg:"bg-emerald-50 dark:bg-emerald-900/20",icon:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200/50 dark:border-emerald-800/50",hover:"hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},{bg:"bg-amber-50 dark:bg-amber-900/20",icon:"text-amber-600 dark:text-amber-400",border:"border-amber-200/50 dark:border-amber-800/50",hover:"hover:bg-amber-100 dark:hover:bg-amber-900/30"},{bg:"bg-purple-50 dark:bg-purple-900/20",icon:"text-purple-600 dark:text-purple-400",border:"border-purple-200/50 dark:border-purple-800/50",hover:"hover:bg-purple-100 dark:hover:bg-purple-900/30"},{bg:"bg-red-50 dark:bg-red-900/20",icon:"text-red-600 dark:text-red-400",border:"border-red-200/50 dark:border-red-800/50",hover:"hover:bg-red-100 dark:hover:bg-red-900/30"},{bg:"bg-violet-50 dark:bg-violet-900/20",icon:"text-violet-600 dark:text-violet-400",border:"border-violet-200/50 dark:border-violet-800/50",hover:"hover:bg-violet-100 dark:hover:bg-violet-900/30"},{bg:"bg-slate-50 dark:bg-slate-900/20",icon:"text-slate-600 dark:text-slate-400",border:"border-slate-200/50 dark:border-slate-800/50",hover:"hover:bg-slate-100 dark:hover:bg-slate-900/30"}],Qe=Ve[U%Ve.length];return t.createElement(be,{key:Y.id,to:`/categories/${Re}`,className:`group relative overflow-hidden rounded-2xl ${Qe.bg} border ${Qe.border} backdrop-blur-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-gray-200/50 dark:hover:shadow-gray-900/50 active:scale-[0.98] ${Qe.hover}`},t.createElement("div",{className:"p-5 sm:p-6 flex flex-col items-center gap-4"},t.createElement("div",{className:`relative w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-white/80 dark:bg-gray-800/80 border-2 ${Qe.border} flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:rotate-3 group-hover:scale-110`},t.createElement("div",{className:"absolute inset-0 rounded-2xl bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),de?t.createElement(de,{className:`relative w-8 h-8 sm:w-10 sm:h-10 ${Qe.icon} transition-transform duration-300 group-hover:scale-110`}):null),t.createElement("div",{className:"text-center space-y-1"},t.createElement("p",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white leading-tight group-hover:text-gray-800 dark:group-hover:text-gray-100 transition-colors"},Y.label.split(" & ")[0]),Y.label.includes(" & ")&&t.createElement("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400"},Y.label.split(" & ")[1])),t.createElement("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${Qe.bg.replace("bg-","bg-").replace("-50","-600").replace("-100","-600")} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})))})))),p&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 sm:p-6",onClick:()=>f(!1)},t.createElement("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-3xl bg-white dark:bg-gray-800 border border-gray-200/60 dark:border-gray-700/50 shadow-2xl",onClick:Y=>Y.stopPropagation()},t.createElement("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/60 dark:border-gray-700/50 px-6 py-5"},t.createElement("div",{className:"flex items-start justify-between gap-4"},t.createElement("div",{className:"space-y-1"},t.createElement("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-100/80 dark:bg-indigo-900/30 border border-indigo-200/50 dark:border-indigo-800/50 w-fit mb-2"},t.createElement(yp,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),t.createElement("span",{className:"text-xs font-bold text-indigo-700 dark:text-indigo-300 uppercase tracking-wider"},"Toutes les catgories")),t.createElement("h3",{className:"text-xl font-black text-gray-900 dark:text-white"},"Explorer nos univers"),t.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Slectionnez une catgorie pour dcouvrir nos produits")),t.createElement("button",{type:"button",onClick:()=>f(!1),className:"flex-shrink-0 w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 flex items-center justify-center transition-colors text-gray-600 dark:text-gray-400","aria-label":"Fermer"},t.createElement(_t,{className:"w-5 h-5"})))),t.createElement("div",{className:"max-h-[calc(90vh-120px)] overflow-y-auto px-6 py-6"},t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4"},Vs.map((Y,U)=>{const de=Y.icon,Re=[{bg:"from-blue-500/10 to-cyan-500/10",icon:"text-blue-600 dark:text-blue-400",border:"border-blue-200/50 dark:border-blue-800/50",hover:"hover:from-blue-500/20 hover:to-cyan-500/20"},{bg:"from-pink-500/10 to-rose-500/10",icon:"text-pink-600 dark:text-pink-400",border:"border-pink-200/50 dark:border-pink-800/50",hover:"hover:from-pink-500/20 hover:to-rose-500/20"},{bg:"from-emerald-500/10 to-teal-500/10",icon:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200/50 dark:border-emerald-800/50",hover:"hover:from-emerald-500/20 hover:to-teal-500/20"},{bg:"from-amber-500/10 to-orange-500/10",icon:"text-amber-600 dark:text-amber-400",border:"border-amber-200/50 dark:border-amber-800/50",hover:"hover:from-amber-500/20 hover:to-orange-500/20"},{bg:"from-purple-500/10 to-indigo-500/10",icon:"text-purple-600 dark:text-purple-400",border:"border-purple-200/50 dark:border-purple-800/50",hover:"hover:from-purple-500/20 hover:to-indigo-500/20"},{bg:"from-red-500/10 to-rose-500/10",icon:"text-red-600 dark:text-red-400",border:"border-red-200/50 dark:border-red-800/50",hover:"hover:from-red-500/20 hover:to-rose-500/20"},{bg:"from-violet-500/10 to-purple-500/10",icon:"text-violet-600 dark:text-violet-400",border:"border-violet-200/50 dark:border-violet-800/50",hover:"hover:from-violet-500/20 hover:to-purple-500/20"},{bg:"from-slate-500/10 to-gray-500/10",icon:"text-slate-600 dark:text-slate-400",border:"border-slate-200/50 dark:border-slate-800/50",hover:"hover:from-slate-500/20 hover:to-gray-500/20"}],Ve=Re[U%Re.length];return t.createElement(be,{key:Y.id,to:`/categories/${Y.options?.[0]?.value||""}`,onClick:()=>f(!1),className:`group relative overflow-hidden rounded-2xl ${Ve.bg} border ${Ve.border} backdrop-blur-sm transition-all duration-300 hover:scale-[1.03] hover:shadow-lg active:scale-[0.98] ${Ve.hover}`},t.createElement("div",{className:"p-5 flex flex-col items-center gap-3 text-center"},t.createElement("div",{className:`relative w-16 h-16 rounded-2xl bg-white/80 dark:bg-gray-800/80 border-2 ${Ve.border} flex items-center justify-center shadow-md group-hover:shadow-lg transition-all duration-300 group-hover:rotate-3 group-hover:scale-110`},t.createElement("div",{className:"absolute inset-0 rounded-2xl bg-white/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),de?t.createElement(de,{className:`relative w-8 h-8 ${Ve.icon} transition-transform duration-300 group-hover:scale-110`}):null),t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight"},Y.label),t.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed"},Y.description)),t.createElement("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${Ve.bg.replace("bg-","bg-").replace("-50","-600").replace("-100","-600")} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})))}))))),t.createElement("section",{className:"bg-gradient-to-br from-white to-red-50/20 rounded-3xl p-6 sm:p-8 shadow-xl border-2 border-red-100/50"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 via-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-red-100"},t.createElement(gc,{className:"w-6 h-6 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-black text-gray-900"},"Bonnes Affaires"),t.createElement("p",{className:"text-gray-600 text-sm font-medium"},"Prix imbattables du moment"))),!T&&_.topDeals.length>0&&t.createElement(be,{to:"/top-deals",className:"group inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-sm"},"Tout voir ",t.createElement(Rr,{className:"w-4 h-4 ml-2"}))),T?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:4}).map((Y,U)=>t.createElement("div",{key:U,className:"animate-pulse"},t.createElement("div",{className:"bg-gray-200 rounded-lg aspect-square mb-2"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded mb-1"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"})))):_.topDeals.length>0?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},_.topDeals.slice(0,6).map((Y,U)=>t.createElement("div",{key:`top-deal-${Y._id}-${U}`,className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl border-2 border-gray-100 hover:border-red-200 transition-all duration-300"},t.createElement("div",{className:"relative bg-gradient-to-br from-gray-100 to-gray-200 aspect-square overflow-hidden"},t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/200/200",alt:Y.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),Y.discount>0&&t.createElement("div",{className:"absolute top-3 left-3 bg-gradient-to-br from-red-500 to-red-600 text-white text-sm font-black px-3 py-1.5 rounded-xl shadow-xl ring-2 ring-white/50"},"-",Y.discount,"%")),t.createElement("div",{className:"p-4"},t.createElement("div",{className:"mb-3"},t.createElement("div",{className:"flex items-baseline space-x-2 mb-1"},t.createElement("span",{className:"text-xl font-black text-gray-900"},Number(Y.price||0).toLocaleString()," FCFA"),Y.priceBeforeDiscount>Y.price&&t.createElement("span",{className:"text-sm text-gray-500 line-through font-medium"},Number(Y.priceBeforeDiscount).toLocaleString()," FCFA")),Y.discount>0&&t.createElement("div",{className:"text-sm text-red-600 font-bold"},"conomisez ",Math.round((Y.priceBeforeDiscount-Y.price)/100)*100," FCFA")),t.createElement(be,{to:pt(Y),...ct,className:"block w-full text-center bg-gradient-to-r from-indigo-600 to-indigo-700 text-white text-sm font-bold py-3 rounded-xl hover:from-indigo-700 hover:to-indigo-800 transition-all shadow-md hover:shadow-lg transform hover:scale-105"},"Voir l'offre"))))):t.createElement("div",{className:"text-center py-6 text-gray-500"},t.createElement(gc,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-sm"},"Aucune bonne affaire pour le moment"))),t.createElement("section",{className:"bg-gradient-to-br from-white to-emerald-50/30 rounded-3xl p-6 sm:p-8 shadow-xl border-2 border-emerald-100/50"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-emerald-100"},t.createElement(Ra,{className:"w-6 h-6 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-black text-gray-900"},"Produits en Promotion"),t.createElement("p",{className:"text-gray-600 text-sm font-medium"},"Rductions exceptionnelles"))),!L&&D.length>0&&t.createElement(be,{to:"/top-discounts",className:"group inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-sm"},"Tout voir ",t.createElement(Rr,{className:"w-4 h-4 ml-2"}))),L?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},Array.from({length:4}).map((Y,U)=>t.createElement("div",{key:U,className:"animate-pulse"},t.createElement("div",{className:"bg-gray-200 rounded-lg aspect-square mb-2"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded mb-1"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"})))):D.length>0?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},D.slice(0,8).map((Y,U)=>t.createElement("div",{key:`discount-${Y._id}-${U}`,className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl border-2 border-gray-100 hover:border-emerald-200 transition-all duration-300"},t.createElement("div",{className:"relative bg-gradient-to-br from-gray-100 to-gray-200 aspect-square overflow-hidden"},t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/200/200",alt:Y.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),t.createElement("div",{className:"absolute top-3 left-3 bg-gradient-to-br from-emerald-500 to-green-600 text-white text-sm font-black px-3 py-1.5 rounded-xl shadow-xl ring-2 ring-white/50"},"-",Y.discount,"%"),t.createElement("div",{className:"absolute top-3 right-3 bg-gradient-to-br from-red-500 to-red-600 text-white text-[10px] font-black px-2 py-1 rounded-lg shadow-lg"},"CONOMIE")),t.createElement("div",{className:"p-4"},t.createElement("div",{className:"mb-3"},t.createElement("h3",{className:"font-bold text-gray-900 text-sm mb-2 line-clamp-2 min-h-[2.5rem]"},Y.title),t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-baseline space-x-2"},t.createElement("span",{className:"text-lg font-black text-gray-900"},Number(Y.price||0).toLocaleString()," FCFA")),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-xs text-gray-500 line-through font-medium"},Number(Y.priceBeforeDiscount).toLocaleString()," FCFA"),t.createElement("span",{className:"text-xs font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg"},"conomie ",Math.round((Y.priceBeforeDiscount-Y.price)/100)*100," FCFA")))),t.createElement(be,{to:pt(Y),...ct,className:"block w-full text-center bg-gradient-to-r from-emerald-600 to-green-600 text-white text-sm font-bold py-3 rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all shadow-md hover:shadow-lg transform hover:scale-105"},"Profiter de l'offre"))))):t.createElement("div",{className:"text-center py-6 text-gray-500"},t.createElement(Ra,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-sm"},"Aucune promotion en cours"),t.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Revenez bientt pour dcouvrir nos offres"))),t.createElement("section",{className:"bg-gradient-to-br from-white to-orange-50/20 rounded-3xl p-6 sm:p-8 shadow-xl border-2 border-orange-100/50"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-orange-100"},t.createElement(rr,{className:"w-6 h-6 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-black text-gray-900"},"Produits les plus vendus"),t.createElement("p",{className:"text-gray-600 text-sm font-medium"},"Best-sellers bass sur les ventes relles"))),!J&&W.length>0&&t.createElement(be,{to:"/top-sales",className:"group inline-flex items-center px-5 py-2.5 bg-blue-600 text-white font-semibold rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-sm"},"Tout voir ",t.createElement(Rr,{className:"w-4 h-4 ml-2"}))),J?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},Array.from({length:6}).map((Y,U)=>t.createElement("div",{key:U,className:"animate-pulse"},t.createElement("div",{className:"bg-gray-200 rounded-lg aspect-square mb-2"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded mb-1"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"})))):W.length>0?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},W.slice(0,6).map((Y,U)=>t.createElement("div",{key:`top-sales-${Y._id}-${U}`,className:"relative group"},U<3&&t.createElement("div",{className:"absolute -top-3 -left-3 z-30"},t.createElement("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shadow-2xl ring-4 ring-white ${U===0?"bg-gradient-to-br from-yellow-400 to-yellow-500":U===1?"bg-gradient-to-br from-gray-400 to-gray-500":"bg-gradient-to-br from-amber-500 to-amber-600"}`},t.createElement(Es,{className:"w-6 h-6 text-white"})),t.createElement("div",{className:"absolute -top-1 -left-1 w-4 h-4 rounded-full bg-white/80 flex items-center justify-center text-xs font-black"},U+1)),t.createElement("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl border-2 border-gray-100 hover:border-orange-200 transition-all duration-300 transform hover:scale-105"},t.createElement(Aa,{p:Y,productLink:pt(Y)}))))):t.createElement("div",{className:"text-center py-6 text-gray-500"},t.createElement(Kn,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-sm"},"Aucun produit vendu pour le moment"),t.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Les best-sellers apparatront ici une fois que des commandes seront confirmes"))),nt.map(Y=>{const U=(fe[Y]||[]).slice(0,8);return U.length?t.createElement("section",{key:Y,className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-8 h-8 bg-blue-600 rounded-xl flex items-center justify-center"},t.createElement(Sr,{className:"w-4 h-4 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},Y),t.createElement("p",{className:"text-gray-500 text-xs"},"Annonces publies depuis ",Y))),t.createElement(be,{to:`/cities?city=${encodeURIComponent(Y)}`,...ct,className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold flex items-center"},"Tout voir ",t.createElement(Rr,{className:"w-3 h-3 ml-1"}))),t.createElement(hM,{modules:[$q,Lq,Iq],spaceBetween:16,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:4500,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:4}}},U.map((de,Re)=>t.createElement(yM,{key:`city-${Y}-${de._id}-${Re}`},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-3 shadow-sm hover:shadow-md transition-all duration-200 flex flex-col gap-2 h-full"},t.createElement(be,{to:pt(de),...ct,className:"relative block"},t.createElement("img",{src:de.images?.[0]||"/api/placeholder/200/200",alt:de.title,className:"w-full aspect-square rounded-xl object-cover"}),de.discount>0&&t.createElement("span",{className:"absolute top-2 left-2 px-2 py-1 text-[10px] font-semibold rounded-full bg-rose-500 text-white"},"-",de.discount,"%"),t.createElement("span",{className:"absolute top-2 right-2 px-2 py-1 text-[10px] font-semibold rounded-full bg-white/90 text-gray-700"},de.condition==="new"?"Neuf":"Occasion")),t.createElement("div",{className:"flex items-center justify-between text-sm font-bold text-gray-900"},t.createElement("span",null,Number(de.price||0).toLocaleString()," FCFA"),de.priceBeforeDiscount>de.price&&t.createElement("span",{className:"text-xs text-gray-500 font-medium line-through"},Number(de.priceBeforeDiscount).toLocaleString())),t.createElement("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2"},de.title),de.shopName&&t.createElement("p",{className:"text-xs text-gray-500 flex items-center justify-between"},t.createElement("span",null,de.shopName),t.createElement("span",{className:"text-[10px] text-indigo-600 font-semibold"},de.condition==="new"?"Neuf":"Occasion"))))))):null}),t.createElement("section",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Explorer toutes les villes"),t.createElement("p",{className:"text-xs text-gray-500"},"Retrouvez la liste complte des annonces par ville et dcouvrez les vendeurs proches de vous.")),t.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},t.createElement(be,{to:"/cities",...ct,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-700 hover:bg-indigo-100"},"Parcourir les villes"),t.createElement(be,{to:"/products",...ct,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-indigo-600 hover:bg-gray-50"},"Voir tous les produits")))),t.createElement("section",{className:"space-y-4"},t.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2"},t.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 h-full flex flex-col"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-8 h-8 bg-pink-600 rounded-xl flex items-center justify-center"},t.createElement(Ar,{className:"w-4 h-4 text-white"})),t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Top Favoris"),t.createElement("p",{className:"text-gray-500 text-xs"},"Les plus enregistrs"))),t.createElement(be,{to:"/top-favorites",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),T?t.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((Y,U)=>t.createElement("div",{key:U,className:"flex items-center space-x-3 animate-pulse"},t.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-3 bg-gray-200 rounded"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):_.favorites.length>0?t.createElement("div",{className:"space-y-3 flex-1"},_.favorites.slice(0,3).map((Y,U)=>t.createElement(be,{key:`favorite-${Y._id}-${U}`,to:pt(Y),...ct,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},t.createElement("div",{className:"flex items-center justify-center w-6"},t.createElement("span",{className:`text-xs font-bold ${U===0?"text-yellow-500":U===1?"text-gray-400":"text-amber-600"}`},"#",U+1)),t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/60/60",alt:Y.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},Y.title),t.createElement("p",{className:"text-gray-500 text-xs"},Number(Y.price||0).toLocaleString()," FCFA")),t.createElement("div",{className:"text-right"},t.createElement("div",{className:"flex items-center justify-end space-x-1 text-xs text-gray-500"},t.createElement(Ar,{className:"w-3 h-3 text-rose-500",fill:"currentColor"}),t.createElement("span",null,Y.favoritesCount||0)))))):t.createElement("div",{className:"text-center py-4 text-gray-500"},t.createElement(Ar,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-xs"},"Soyez le premier  ajouter en favoris !"))),t.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 h-full flex flex-col"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-8 h-8 bg-amber-600 rounded-xl flex items-center justify-center"},t.createElement(gr,{className:"w-4 h-4 text-white",fill:"currentColor"})),t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Top Nots"),t.createElement("p",{className:"text-gray-500 text-xs"},"Les mieux valus"))),t.createElement(be,{to:"/top-ranking",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),T?t.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((Y,U)=>t.createElement("div",{key:U,className:"flex items-center space-x-3 animate-pulse"},t.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-3 bg-gray-200 rounded"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):_.topRated.length>0?t.createElement("div",{className:"space-y-3 flex-1"},_.topRated.slice(0,3).map((Y,U)=>t.createElement(be,{key:`top-rated-${Y._id}-${U}`,to:pt(Y),...ct,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},t.createElement("div",{className:"flex items-center justify-center w-6"},t.createElement("span",{className:`text-xs font-bold ${U===0?"text-yellow-500":U===1?"text-gray-400":"text-amber-600"}`},"#",U+1)),t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/60/60",alt:Y.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},Y.title),t.createElement("p",{className:"text-gray-500 text-xs"},Number(Y.price||0).toLocaleString()," FCFA")),t.createElement("div",{className:"text-right"},t.createElement("div",{className:"flex items-center justify-end space-x-1 text-xs"},t.createElement(gr,{className:"w-3 h-3 text-yellow-400",fill:"currentColor"}),t.createElement("span",{className:"font-semibold text-gray-900"},Number(Y.ratingAverage||0).toFixed(1))),t.createElement("p",{className:"text-gray-500 text-xs"},Y.ratingCount||0," avis"))))):t.createElement("div",{className:"text-center py-4 text-gray-500"},t.createElement(gr,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-xs"},"Les premires valuations arrivent bientt !")))),t.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-8 h-8 bg-sky-600 rounded-xl flex items-center justify-center"},t.createElement(en,{className:"w-4 h-4 text-white"})),t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Produits Neufs"),t.createElement("p",{className:"text-gray-500 text-xs"},"Dernires nouveauts en boutique"))),t.createElement(be,{to:"/top-new",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),T?t.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((Y,U)=>t.createElement("div",{key:U,className:"flex items-center space-x-3 animate-pulse"},t.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-3 bg-gray-200 rounded"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):_.newProducts.length>0?t.createElement("div",{className:"space-y-3"},_.newProducts.slice(0,3).map((Y,U)=>t.createElement(be,{key:`new-${Y._id}-${U}`,to:pt(Y),...ct,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/60/60",alt:Y.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},Y.title),t.createElement("p",{className:"text-gray-500 text-xs"},Number(Y.price||0).toLocaleString()," FCFA")),t.createElement("div",{className:"text-right text-xs text-gray-500"},t.createElement("p",{className:"font-semibold text-indigo-600"},"Neuf"),t.createElement("p",{className:"text-[10px]"},"Ajout rcemment"))))):t.createElement("div",{className:"text-center py-4 text-gray-500"},t.createElement(en,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-xs"},"Aucun produit neuf pour le moment."))),t.createElement("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement("div",{className:"w-8 h-8 bg-slate-600 rounded-xl flex items-center justify-center"},t.createElement(Sc,{className:"w-4 h-4 text-white"})),t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 text-sm"},"Produits d'occasion"),t.createElement("p",{className:"text-gray-500 text-xs"},"Slection vrifie par la communaut"))),t.createElement(be,{to:"/top-used",className:"text-indigo-600 hover:text-indigo-500 text-xs font-semibold"},"Voir tout")),T?t.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((Y,U)=>t.createElement("div",{key:U,className:"flex items-center space-x-3 animate-pulse"},t.createElement("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-3 bg-gray-200 rounded"}),t.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}))))):_.usedProducts.length>0?t.createElement("div",{className:"space-y-3"},_.usedProducts.slice(0,3).map((Y,U)=>t.createElement(be,{key:`used-${Y._id}-${U}`,to:pt(Y),...ct,className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-colors group"},t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/60/60",alt:Y.title,className:"w-10 h-10 rounded-lg object-cover flex-shrink-0"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-medium text-gray-900 text-xs truncate group-hover:text-indigo-600 transition-colors"},Y.title),t.createElement("p",{className:"text-gray-500 text-xs"},Number(Y.price||0).toLocaleString()," FCFA")),t.createElement("div",{className:"text-right text-xs text-gray-500"},t.createElement("p",{className:"font-semibold text-slate-600"},"Occasion"),t.createElement("p",{className:"text-[10px]"},"Bon tat garanti"))))):t.createElement("div",{className:"text-center py-4 text-gray-500"},t.createElement(Sc,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.createElement("p",{className:"text-xs"},"Aucune annonce d'occasion pour l'instant.")))),t.createElement("section",{className:"bg-gradient-to-br from-white to-indigo-50/20 rounded-3xl p-6 sm:p-8 shadow-xl border-2 border-indigo-100/50"},t.createElement("div",{className:"flex flex-col gap-6"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-bold text-indigo-700 uppercase tracking-wider mb-4 flex items-center gap-2"},t.createElement(yp,{className:"w-4 h-4"}),"Filtrer les meilleures offres"),t.createElement("div",{className:"flex flex-wrap gap-3"},[{value:"",label:"Toutes"},{value:"electronics",label:"lectronique"},{value:"fashion",label:"Mode"},{value:"home",label:"Maison"},{value:"sports",label:"Sports"}].map(Y=>t.createElement("button",{key:Y.value||"all",type:"button",onClick:()=>{i(Y.value),m(1)},className:`px-5 py-2.5 rounded-3xl text-sm font-semibold transition-all duration-200 active:scale-95 ${s===Y.value?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300 shadow-sm"}`},Y.label)))),t.createElement("div",null,t.createElement("p",{className:"text-sm font-bold text-purple-700 uppercase tracking-wider mb-4 flex items-center gap-2"},t.createElement(rr,{className:"w-4 h-4"}),"Trier par"),t.createElement("div",{className:"flex flex-wrap gap-3"},[{value:"new",label:"Nouveauts"},{value:"price_asc",label:"Prix "},{value:"price_desc",label:"Prix "},{value:"discount",label:"Remises"}].map(Y=>t.createElement("button",{key:Y.value,type:"button",onClick:()=>{d(Y.value),m(1)},className:`px-5 py-2.5 rounded-3xl text-sm font-semibold transition-all duration-200 active:scale-95 ${o===Y.value?"bg-blue-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300 shadow-sm"}`},Y.label)))))),G?t.createElement("section",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100"},t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des boutiques vrifies")):I.length?t.createElement("section",{className:"bg-indigo-50 rounded-2xl p-4 sm:p-6 shadow-sm border border-indigo-100 space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},t.createElement($r,{className:"w-5 h-5 text-emerald-500"}),"Boutiques vrifies"),t.createElement("p",{className:"text-sm text-gray-500"},"Vendeurs certifis par ETS HD Tech Filial")),t.createElement(be,{to:"/shops/verified",className:"inline-flex items-center text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Voir toutes les boutiques",t.createElement(Rr,{size:16}))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},I.map(Y=>t.createElement(be,{key:Y._id,to:la(Y),className:"flex items-center gap-3 rounded-xl border border-gray-100 hover:border-indigo-200 hover:shadow-md transition-all bg-white p-4"},t.createElement("img",{src:Y.shopLogo||"/api/placeholder/60/60",alt:Y.shopName,className:"h-12 w-12 rounded-xl object-cover border border-indigo-100"}),t.createElement("div",{className:"min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 truncate"},Y.shopName),t.createElement("p",{className:"text-xs text-gray-500 truncate"},Y.shopAddress||"Adresse non renseigne"),t.createElement("div",{className:"text-xs text-emerald-600 font-semibold mt-1"},Y.productCount||0," annonce",Y.productCount>1?"s":"")))))):null,a.length>0?t.createElement("section",{className:"bg-emerald-50 rounded-2xl p-4 sm:p-6 shadow-sm border border-emerald-100 space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},t.createElement($r,{className:"w-5 h-5 text-emerald-500"}),"Produits certifis"),t.createElement("p",{className:"text-sm text-gray-500"},"Les annonces garanties HDMarket par nos quipes de vrification.")),t.createElement(be,{to:"/certified-products",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Voir tous les certifis",t.createElement(Rr,{size:16}))),t.createElement("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},a.map((Y,U)=>t.createElement(be,{key:`certified-${Y._id}-${U}`,to:pt(Y),className:"rounded-2xl border border-gray-100 bg-white p-3 text-xs text-gray-700 hover:border-indigo-200 hover:shadow-lg transition"},t.createElement("div",{className:"flex items-start gap-2"},t.createElement("div",{className:"h-12 w-12 overflow-hidden rounded-lg bg-gray-100"},t.createElement("img",{src:Y.images?.[0]||"/api/placeholder/80/80",alt:Y.title,className:"h-full w-full object-cover"})),t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-[11px] uppercase tracking-wide text-emerald-600"},"Certifi"),t.createElement("p",{className:"text-sm font-semibold text-gray-900 line-clamp-2"},Y.title))),t.createElement("p",{className:"mt-2 text-xs text-gray-500"},Number(Y.price).toLocaleString()," FCFA"))))):null,t.createElement("section",{className:"bg-white rounded-3xl p-6 sm:p-8 shadow-xl border-2 border-gray-100"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6"},t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-2"},"Tous les Produits"),t.createElement("p",{className:"text-gray-600 text-sm font-medium"},t.createElement("span",{className:"font-bold text-indigo-600"},e.length)," produits disponibles"))),E?t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-5"},Array.from({length:6}).map((Y,U)=>t.createElement("div",{key:U,className:"animate-pulse bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl h-64 shadow-md"}))):e.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 lg:gap-5"},e.map((Y,U)=>t.createElement("div",{key:`product-${Y._id}-${U}`,className:"transform hover:scale-105 transition-transform duration-300 w-full h-full"},t.createElement(Aa,{p:Y,productLink:pt(Y)})))),ye()):t.createElement("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-white rounded-3xl border-2 border-gray-200 shadow-lg"},t.createElement("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner"},t.createElement(zr,{className:"w-10 h-10 text-gray-400"})),t.createElement("h3",{className:"text-xl font-black text-gray-900 mb-3"},"Aucun produit trouv"),t.createElement("p",{className:"text-gray-600 text-base mb-6 font-medium"},"Modifiez vos critres de filtrage"),t.createElement("button",{onClick:()=>{i(""),d("new"),m(1)},className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-base"},"Rinitialiser les filtres")))))}function Fq(){const{user:e,login:r}=h.useContext(fr),a=Kr(),s=hn().state?.from||"/",[i,o]=h.useState({phone:"",password:""}),[d,u]=h.useState(!1),[m,p]=h.useState(!1),f=async y=>{y.preventDefault(),p(!0);try{const{data:b}=await ie.post("/auth/login",i);r(b),a(s,{replace:!0})}catch(b){alert(b.response?.data?.message||b.message)}finally{p(!1)}};return e?t.createElement(pc,{to:s,replace:!0}):t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},t.createElement("div",{className:"w-full max-w-[400px]"},t.createElement("div",{className:"text-center mb-8"},t.createElement("h1",{className:"text-2xl font-normal text-indigo-600 mb-1"},"HDMarket"),t.createElement("p",{className:"text-sm text-gray-500"},"Connectez-vous  votre compte")),t.createElement("div",{className:"bg-white border border-gray-200 p-6"},t.createElement("form",{onSubmit:f,className:"space-y-4"},t.createElement("div",null,t.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Numro de tlphone",value:i.phone,onChange:y=>o({...i,phone:y.target.value}),required:!0})),t.createElement("div",{className:"relative"},t.createElement("input",{type:d?"text":"password",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm pr-10",placeholder:"Mot de passe",value:i.password,onChange:y=>o({...i,password:y.target.value}),required:!0}),t.createElement("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},d?t.createElement(Q0,{className:"w-4 h-4"}):t.createElement(Jn,{className:"w-4 h-4"}))),t.createElement("div",{className:"flex items-center justify-between text-xs"},t.createElement("label",{className:"flex items-center text-gray-600 cursor-pointer"},t.createElement("input",{type:"checkbox",className:"mr-1"}),t.createElement("span",null,"Se souvenir de moi")),t.createElement(be,{to:"/forgot-password",className:"text-gray-600 hover:text-indigo-600"},"Mot de passe oubli ?")),t.createElement("button",{type:"submit",disabled:m||!i.phone||!i.password,className:"w-full py-3 bg-blue-600 text-white text-sm font-semibold rounded-3xl hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm"},m?"Connexion...":"Se connecter")),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},t.createElement(be,{to:"/register",className:"block w-full py-3 text-center border border-gray-300 bg-white text-gray-700 text-sm font-semibold rounded-3xl hover:bg-gray-50 transition-all duration-200 active:scale-95 shadow-sm"},"Crer un compte"))),t.createElement("div",{className:"mt-6 text-center"},t.createElement("p",{className:"text-xs text-gray-500"},"En vous connectant, vous acceptez nos"," ",t.createElement(be,{to:"/help",className:"text-gray-600 hover:text-indigo-600"},"conditions d'utilisation")," ","et notre"," ",t.createElement(be,{to:"/privacy",className:"text-gray-600 hover:text-indigo-600"},"politique de confidentialit")))))}function zq(){const{user:e,login:r}=h.useContext(fr),a=Kr(),s=hn().state?.from||"/",[i,o]=h.useState({name:"",email:"",password:"",phone:"",accountType:"person",address:"",country:"Rpublique du Congo",city:"",gender:""}),[d,u]=h.useState(!1),[m,p]=h.useState(!1),[f,y]=h.useState(""),[b,E]=h.useState(!1),[w,x]=h.useState(!1),[N,S]=h.useState(""),[k,P]=h.useState(""),[C,_]=h.useState(""),O=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],T=[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}],R=async()=>{if(!i.email.trim()){P("Veuillez renseigner votre adresse email.");return}x(!0),P(""),S(""),_("");try{await ie.post("/auth/register/send-code",{email:i.email}),E(!0),S("Code envoy par email. Vrifiez votre bote de rception.")}catch(j){P(j.response?.data?.message||j.message)}finally{x(!1)}},D=async j=>{if(j.preventDefault(),_(""),!i.city||!i.gender){_("Veuillez slectionner votre ville et votre genre.");return}if(!i.address.trim()){_("Veuillez renseigner votre adresse complte.");return}if(!f.trim()){_("Veuillez saisir le code de vrification reu par email.");return}p(!0);try{const L=new FormData;L.append("name",i.name),L.append("email",i.email),L.append("password",i.password),L.append("phone",i.phone),L.append("accountType","person"),L.append("country","Rpublique du Congo"),L.append("city",i.city),L.append("gender",i.gender),L.append("address",i.address.trim()),L.append("verificationCode",f.trim());const{data:K}=await ie.post("/auth/register",L,{headers:{"Content-Type":"multipart/form-data"}});r(K),a(s,{replace:!0})}catch(L){_(L.response?.data?.message||L.message||"Une erreur est survenue lors de la cration du compte.")}finally{p(!1)}};return e?t.createElement(pc,{to:s,replace:!0}):t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},t.createElement("div",{className:"w-full max-w-[500px]"},t.createElement("div",{className:"text-center mb-6"},t.createElement("h1",{className:"text-2xl font-normal text-indigo-600 mb-1"},"HDMarket"),t.createElement("p",{className:"text-sm text-gray-500"},"Crez votre compte")),t.createElement("div",{className:"bg-white border border-gray-200 p-6"},t.createElement("form",{onSubmit:D,className:"space-y-4"},t.createElement("div",null,t.createElement("input",{type:"text",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Nom complet *",value:i.name,onChange:j=>o({...i,name:j.target.value}),required:!0})),t.createElement("div",null,t.createElement("input",{type:"tel",inputMode:"tel",autoComplete:"tel",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Numro de tlphone *",value:i.phone,onChange:j=>{o({...i,phone:j.target.value}),P("")},required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex gap-2"},t.createElement("input",{type:"text",className:"flex-1 px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Code de vrification email *",value:f,onChange:j=>{y(j.target.value),_("")},required:!0}),t.createElement("button",{type:"button",onClick:R,disabled:w||!i.email.trim(),className:"px-4 py-2.5 border border-gray-300 text-sm text-gray-700 hover:border-indigo-600 hover:text-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap"},w?"Envoi...":b?"Renvoyer":"Envoyer")),k&&t.createElement("p",{className:"text-xs text-red-600"},k),N&&t.createElement("p",{className:"text-xs text-green-600"},N)),t.createElement("div",null,t.createElement("textarea",{className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm resize-none",rows:2,placeholder:"Adresse complte *",value:i.address,onChange:j=>{o({...i,address:j.target.value}),_("")},required:!0})),t.createElement("div",null,t.createElement("input",{type:"email",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm",placeholder:"Adresse email *",value:i.email,onChange:j=>o({...i,email:j.target.value}),required:!0})),t.createElement("div",{className:"relative"},t.createElement("input",{type:d?"text":"password",className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm pr-10",placeholder:"Mot de passe *",value:i.password,onChange:j=>o({...i,password:j.target.value}),required:!0}),t.createElement("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},d?t.createElement(Q0,{className:"w-4 h-4"}):t.createElement(Jn,{className:"w-4 h-4"}))),t.createElement("div",{className:"grid grid-cols-2 gap-3"},t.createElement("div",null,t.createElement("input",{className:"w-full px-3 py-2.5 border border-gray-300 bg-gray-100 text-gray-500 text-sm cursor-not-allowed",value:"Rpublique du Congo",readOnly:!0,disabled:!0})),t.createElement("div",null,t.createElement("select",{className:"w-full px-3 py-2.5 border border-gray-300 focus:outline-none focus:border-indigo-600 text-sm bg-white",value:i.city,onChange:j=>{o({...i,city:j.target.value}),_("")},required:!0},t.createElement("option",{value:""},"Ville *"),O.map(j=>t.createElement("option",{key:j,value:j},j))))),t.createElement("div",null,t.createElement("div",{className:"grid grid-cols-2 gap-3"},T.map(j=>t.createElement("label",{key:j.value,className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${i.gender===j.value?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},t.createElement("input",{type:"radio",name:"gender",value:j.value,checked:i.gender===j.value,onChange:L=>{o({...i,gender:L.target.value}),_("")},className:"sr-only"}),j.label)))),t.createElement("div",{className:"pt-2 border-t border-gray-200"},t.createElement("div",{className:"text-xs text-gray-600 mb-2"},"Type de compte"),t.createElement("div",{className:"grid grid-cols-2 gap-3"},t.createElement("label",{className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${i.accountType==="person"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},t.createElement("input",{type:"radio",name:"accountType",value:"person",checked:i.accountType==="person",onChange:j=>o({...i,accountType:j.target.value}),className:"sr-only"}),"Particulier"),t.createElement("label",{className:`flex items-center justify-center px-3 py-2.5 border text-sm cursor-pointer ${i.accountType==="shop"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`},t.createElement("input",{type:"radio",name:"accountType",value:"shop",checked:i.accountType==="shop",onChange:j=>o({...i,accountType:j.target.value}),className:"sr-only"}),"Boutique"))),i.accountType==="shop"&&t.createElement("div",{className:"text-xs text-gray-600 bg-gray-50 border border-gray-200 p-3"},t.createElement("p",{className:"font-medium mb-1"},"Boutique sous approbation"),t.createElement("p",null,"Enregistrez-vous d'abord comme particulier puis"," ",t.createElement(be,{to:"/help",className:"text-indigo-600 hover:text-indigo-700 underline"},"contactez l'quipe HDMarket")," ","pour demander la conversion.")),C&&t.createElement("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 p-3"},C),t.createElement("button",{type:"submit",disabled:m||!i.name||!i.email||!i.password||!i.phone||!i.address||!i.city||!i.gender||!f,className:"w-full py-3 bg-blue-600 text-white text-sm font-semibold rounded-3xl hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm"},m?"Cration du compte...":"Crer mon compte")),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center"},t.createElement("p",{className:"text-sm text-gray-600"},"Dj un compte ?"," ",t.createElement(be,{to:"/login",className:"text-indigo-600 hover:text-indigo-700"},"Se connecter")))),t.createElement("div",{className:"mt-6 text-center"},t.createElement("p",{className:"text-xs text-gray-500"},"En crant un compte, vous acceptez nos"," ",t.createElement(be,{to:"/help",className:"text-gray-600 hover:text-indigo-600"},"conditions d'utilisation")," ","et notre"," ",t.createElement(be,{to:"/privacy",className:"text-gray-600 hover:text-indigo-600"},"politique de confidentialit")))))}function Bq(){const e=Kr(),[r,a]=h.useState({email:"",verificationCode:"",newPassword:"",confirmPassword:""}),[n,s]=h.useState(!1),[i,o]=h.useState(!1),[d,u]=h.useState(!1),[m,p]=h.useState(!1),[f,y]=h.useState(""),[b,E]=h.useState(""),w=async()=>{if(!r.email.trim()){E("Veuillez saisir votre adresse email.");return}o(!0),E(""),y("");try{await ie.post("/auth/password/forgot",{email:r.email}),u(!0),y("Code envoy par email. Vrifiez votre bote de rception.")}catch(N){E(N.response?.data?.message||N.message)}finally{o(!1)}},x=async N=>{if(N.preventDefault(),E(""),y(""),!r.verificationCode.trim()){E("Veuillez saisir le code reu par email.");return}if(!r.newPassword){E("Veuillez saisir un nouveau mot de passe.");return}if(r.newPassword!==r.confirmPassword){E("Les mots de passe ne correspondent pas.");return}p(!0);try{await ie.post("/auth/password/reset",{email:r.email,verificationCode:r.verificationCode.trim(),newPassword:r.newPassword}),y("Mot de passe mis  jour. Redirection vers la connexion..."),setTimeout(()=>{e("/login")},1500)}catch(S){E(S.response?.data?.message||S.message)}finally{p(!1)}};return t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8"},t.createElement("div",{className:"max-w-md w-full space-y-8"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"flex justify-center mb-6"},t.createElement("div",{className:"w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center shadow-lg"},t.createElement(Ca,{className:"w-10 h-10 text-white"}))),t.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Rinitialiser le mot de passe"),t.createElement("p",{className:"text-gray-500"},"Recevez un code par email pour scuriser la rinitialisation")),t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8"},t.createElement("form",{onSubmit:x,className:"space-y-6"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(uo,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Adresse email")),t.createElement("div",{className:"relative"},t.createElement("input",{type:"email",inputMode:"email",autoComplete:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"votre@email.com",value:r.email,onChange:N=>a(S=>({...S,email:N.target.value})),required:!0}),t.createElement(uo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),t.createElement("button",{type:"button",onClick:w,disabled:i||!r.email.trim(),className:"w-full mt-3 py-3 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},i?"Envoi...":d?"Renvoyer le code":"Envoyer le code")),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Code de vrification")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Code reu par email",value:r.verificationCode,onChange:N=>a(S=>({...S,verificationCode:N.target.value})),required:!0}),t.createElement(Ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(An,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Nouveau mot de passe")),t.createElement("div",{className:"relative"},t.createElement("input",{type:n?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nouveau mot de passe",value:r.newPassword,onChange:N=>a(S=>({...S,newPassword:N.target.value})),required:!0}),t.createElement(An,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.createElement("button",{type:"button",onClick:()=>s(N=>!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},n?t.createElement(Q0,{className:"w-4 h-4"}):t.createElement(Jn,{className:"w-4 h-4"})))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(An,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Confirmer le mot de passe")),t.createElement("div",{className:"relative"},t.createElement("input",{type:n?"text":"password",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Confirmez le mot de passe",value:r.confirmPassword,onChange:N=>a(S=>({...S,confirmPassword:N.target.value})),required:!0}),t.createElement(An,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},t.createElement("input",{type:"checkbox",checked:n,onChange:()=>s(N=>!N),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),t.createElement("span",null,"Afficher les mots de passe")),b&&t.createElement("p",{className:"text-sm text-red-600"},b),f&&t.createElement("p",{className:"text-sm text-emerald-600"},f),t.createElement("button",{type:"submit",disabled:m,className:"w-full py-4 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},m?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,"Confirmation...")):t.createElement(t.Fragment,null,t.createElement(Ca,{className:"w-5 h-5"}),t.createElement("span",null,"Mettre  jour le mot de passe")))),t.createElement("div",{className:"text-center mt-6 pt-6 border-t border-gray-100"},t.createElement(be,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-500 font-semibold transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour  la connexion")))))}const xM=h.createContext({showToast:()=>{}}),K5={success:"border-green-200 bg-white text-green-700",error:"border-red-200 bg-white text-red-700",info:"border-indigo-200 bg-white text-indigo-700"},X5={success:"bg-green-100 text-green-600",error:"bg-red-100 text-red-600",info:"bg-indigo-100 text-indigo-600"},qq=({children:e})=>{const[r,a]=h.useState([]),n=h.useCallback(o=>{a(d=>d.filter(u=>u.id!==o))},[]),s=h.useCallback((o,d={})=>{if(!o)return;const u=typeof d=="string"?{variant:d}:Array.isArray(d)?{}:d,{variant:m="success",duration:p=4e3}=u,f=`${Date.now()}-${Math.random().toString(36).slice(2,7)}`;a(y=>[...y,{id:f,message:o,variant:m}]),Number.isFinite(p)&&p>0&&setTimeout(()=>{n(f)},p)},[n]),i=h.useMemo(()=>({showToast:s}),[s]);return h.useEffect(()=>{const o=d=>{const u=d?.detail?.message||"Il semble que vous soyez hors ligne. Connectez-vous  Internet pour continuer.";s(u,{variant:"error"})};return window.addEventListener("hdmarket:network-error",o),()=>{window.removeEventListener("hdmarket:network-error",o)}},[s]),t.createElement(xM.Provider,{value:i},e,t.createElement("div",{className:"fixed top-24 right-4 z-[1050] flex flex-col gap-3"},r.map(o=>{const d=K5[o.variant]||K5.success,u=X5[o.variant]||X5.success;return t.createElement("div",{key:o.id,className:`flex items-start gap-3 rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm transition-all ${d}`},t.createElement("div",{className:`mt-0.5 flex h-8 w-8 items-center justify-center rounded-full ${u}`},t.createElement("span",{className:"text-sm font-semibold"},"!")),t.createElement("div",{className:"flex-1 text-sm leading-relaxed"},o.message),t.createElement("button",{type:"button",onClick:()=>n(o.id),className:"ml-2 text-xs font-semibold uppercase tracking-wide text-gray-400 hover:text-gray-600"},"Fermer"))})))},Si=()=>{const e=h.useContext(xM);if(!e)throw new Error("useToast doit tre utilis  lintrieur de ToastProvider.");return e};function Y5({product:e,onSubmitted:r}){const a=h.useMemo(()=>Math.round(e.price*.03*100)/100,[e.price]),[n,s]=h.useState({payerName:"",operator:"MTN",transactionNumber:"",amount:a}),[i,o]=h.useState(!1);h.useEffect(()=>s(y=>({...y,amount:a})),[a]);const d=e.payment?.status||null,u=!!e.payment,m=async y=>{if(y.preventDefault(),!u){o(!0);try{await ie.post("/payments",{...n,productId:e._id}),alert("Paiement soumis. En attente de vrification."),r&&await r()}catch(b){alert(b.response?.data?.message||b.message)}finally{o(!1)}}},f={waiting:{title:"Paiement en attente de validation",description:"Votre paiement a t reu et est en cours de vrification par notre quipe. Votre annonce sera publie sous 24h aprs approbation.",icon:It,tone:"bg-amber-50 border-amber-200 text-amber-800",iconColor:"text-amber-500"},verified:{title:"Paiement vrifi - Annonce active",description:"Votre paiement a t valid avec succs. Votre annonce est maintenant visible par tous les acheteurs sur la plateforme.",icon:Kt,tone:"bg-green-50 border-green-200 text-green-800",iconColor:"text-green-500"},rejected:{title:"Paiement rejet",description:"Votre paiement n'a pas pu tre valid. Veuillez contacter notre support ou soumettre un nouveau paiement.",icon:br,tone:"bg-red-50 border-red-200 text-red-800",iconColor:"text-red-500"}}[d]||{title:"Paiement enregistr",description:"Statut en cours de mise  jour.",icon:It,tone:"bg-gray-50 border-gray-200 text-gray-700",iconColor:"text-gray-500"};if(u){const y=f.icon;return t.createElement("div",{className:"max-w-2xl mx-auto"},t.createElement("div",{className:"text-center mb-6"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement($r,{className:"w-8 h-8 text-white"})),t.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Statut de paiement"),t.createElement("p",{className:"text-gray-500"},"Suivi de votre transaction")),t.createElement("div",{className:`rounded-2xl border-2 p-6 ${f.tone} mb-6`},t.createElement("div",{className:"flex items-start space-x-4"},t.createElement("div",{className:"flex-shrink-0"},t.createElement(y,{className:`w-8 h-8 ${f.iconColor}`})),t.createElement("div",{className:"flex-1"},t.createElement("h3",{className:"text-lg font-semibold mb-2"},f.title),t.createElement("p",{className:"text-sm leading-relaxed"},f.description)))),t.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Dtails de la transaction"),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex justify-between"},t.createElement("span",{className:"text-gray-500"},"Produit:"),t.createElement("span",{className:"font-medium text-gray-900"},e.title)),t.createElement("div",{className:"flex justify-between"},t.createElement("span",{className:"text-gray-500"},"Prix du produit:"),t.createElement("span",{className:"font-medium text-gray-900"},Number(e.price).toLocaleString()," FCFA")),e.confirmationNumber&&t.createElement("div",{className:"flex justify-between"},t.createElement("span",{className:"text-gray-500"},"Code produit:"),t.createElement("span",{className:"font-semibold text-gray-900"},e.confirmationNumber))),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex justify-between"},t.createElement("span",{className:"text-gray-500"},"Commission (3%):"),t.createElement("span",{className:"font-medium text-gray-900"},a.toLocaleString()," FCFA")),t.createElement("div",{className:"flex justify-between"},t.createElement("span",{className:"text-gray-500"},"Statut actuel:"),t.createElement("span",{className:`font-medium px-2 py-1 rounded-full text-xs ${d==="verified"?"bg-green-100 text-green-800":d==="rejected"?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`},d||e.status))))))}return t.createElement("div",{className:"max-w-2xl mx-auto"},t.createElement("div",{className:"text-center mb-8"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(vs,{className:"w-8 h-8 text-white"})),t.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Validation de l'annonce"),t.createElement("p",{className:"text-gray-500"},"Finalisez votre publication en payant la commission")),t.createElement("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 space-y-6"},t.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("h3",{className:"font-semibold text-indigo-900 text-sm"},"Commission de publication"),t.createElement("p",{className:"text-indigo-700 text-xs"},"3% du prix du produit")),t.createElement("div",{className:"text-right"},t.createElement("div",{className:"text-2xl font-bold text-indigo-600"},a.toLocaleString()," FCFA"),t.createElement("div",{className:"text-indigo-500 text-xs"},"sur ",Number(e.price).toLocaleString()," FCFA")))),t.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4"},t.createElement("div",{className:"flex items-start space-x-3"},t.createElement(br,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.createElement("div",{className:"space-y-2"},t.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Instructions de paiement"),t.createElement("p",{className:"text-amber-700 text-sm"},"Effectuez un transfert mobile de ",t.createElement("span",{className:"font-bold"},a.toLocaleString()," FCFA"),"et renseignez les dtails de la transaction ci-dessous.")))),e.confirmationNumber&&t.createElement("div",{className:"rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-600"},t.createElement("p",{className:"font-semibold text-gray-900 text-[12px] mb-1"},"Code produit : ",t.createElement("span",{className:"text-indigo-600"},e.confirmationNumber)),t.createElement("p",null,"Communiquez ce code  ladministrateur ou au support lorsque vous confirmez votre commande afin quil identifie rapidement lannonce.")),t.createElement("form",{onSubmit:m,className:"space-y-4"},t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(ha,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Nom du payeur *")),t.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Votre nom complet",value:n.payerName,onChange:y=>s({...n,payerName:y.target.value}),disabled:i,required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(vs,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Oprateur mobile *")),t.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:n.operator,onChange:y=>s({...n,operator:y.target.value}),disabled:i,required:!0},t.createElement("option",{value:"MTN"},"MTN"),t.createElement("option",{value:"Airtel"},"Airtel"),t.createElement("option",{value:"Other"},"Autre"))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(vF,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Numro de transaction *")),t.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Numro reu par SMS",value:n.transactionNumber,onChange:y=>s({...n,transactionNumber:y.target.value}),disabled:i,required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Montant pay (FCFA)")),t.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:a,disabled:!0}))),t.createElement("button",{type:"submit",disabled:i,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},i?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,"Soumission en cours...")):t.createElement(t.Fragment,null,t.createElement(J0,{className:"w-5 h-5"}),t.createElement("span",null,"Soumettre le paiement"))),t.createElement("p",{className:"text-center text-xs text-gray-500"},"Votre annonce sera approuve sous 24h aprs vrification du paiement"))))}const Uq={MTN:"069822930",Airtel:"050237023"},Do=3,Ud=20,Py=10,Q5=({className:e=""})=>t.createElement("svg",{viewBox:"0 0 24 24",className:e,"aria-hidden":"true",focusable:"false"},t.createElement("path",{fill:"currentColor",d:"M9 3h6l1 2h5v2H3V5h5l1-2zm1 6h2v9h-2V9zm4 0h2v9h-2V9zM6 7h12l-1 14H7L6 7z"}));function Vq(e){const{onCreated:r,onUpdated:a,initialValues:n,productId:s,submitLabel:i}=e,[o,d]=h.useState({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),[u,m]=h.useState([]),[p,f]=h.useState(!1),[y,b]=h.useState([]),[E,w]=h.useState([]),[x,N]=h.useState([]),[S,k]=h.useState(""),{user:P}=h.useContext(fr),C=!!(P?.shopVerified&&P?.accountType==="shop"),_=P?.accountType==="shop",[O,T]=h.useState(null),[R,D]=h.useState(""),[j,L]=h.useState(null),[K,W]=h.useState(""),[$,J]=h.useState(null),[Q,X]=h.useState(!1),[H,I]=h.useState(0),[B,G]=h.useState(!1),[z,ae]=h.useState(!1),[he,ve]=h.useState(0),[_e,ee]=h.useState(0),[le,pe]=h.useState(null),[Ne,oe]=h.useState({x:0,y:0,width:0,height:0}),[re,Me]=h.useState(!1),[ge,$e]=h.useState({x:0,y:0}),[De,Ye]=h.useState(1),[Je,bt]=h.useState({x:0,y:0});h.useRef(null);const Ze=h.useRef(null),nt=h.useRef(null),[ct,vt]=h.useState(!1),Zt=q=>{const ue=Array.from(q.target.files||[]);if(!ue.length)return;const ke=Math.max(0,Do-E.length-u.length);if(ke===0){k(`Maximum ${Do} photos au total. Supprimez une image pour en ajouter.`),q.target.value="";return}const Pe=ue.slice(0,ke);if(ue.length>ke?k(`Maximum ${Do} photos au total. Seules les premires ont t conserves.`):k(""),Pe.length>0){const ze=Pe[0],tt=new FileReader;tt.onload=He=>{pe({file:ze,url:He.target.result,index:u.length}),setTimeout(()=>{pt(He.target.result)},100)},tt.readAsDataURL(ze)}if(Pe.length>1){const ze=Pe.slice(1);m(tt=>[...tt,...ze.map(He=>({file:He,cropped:!1}))])}q.target.value=""},pt=q=>{const ue=new Image;ue.onload=()=>{const ke=Ze.current;if(!ke)return;const Pe=ke.clientWidth,ze=ke.clientHeight,tt=ue.width/ue.height,He=Pe/ze;let jt,Nt;tt>He?(jt=Pe,Nt=Pe/tt):(Nt=ze,jt=ze*tt),Ye(jt/ue.width),bt({x:(Pe-jt)/2,y:(ze-Nt)/2});const St=Math.min(jt,Nt)*.8;oe({x:(Pe-St)/2,y:(ze-St)/2,width:St,height:St})},ue.src=q},ut=q=>{if(!le)return;Me(!0);const ue=Ze.current.getBoundingClientRect();$e({x:q.clientX-ue.left-Ne.x,y:q.clientY-ue.top-Ne.y})},Lt=q=>{if(!re||!le||!Ze.current)return;const ue=Ze.current.getBoundingClientRect(),ke=q.clientX-ue.left-ge.x,Pe=q.clientY-ue.top-ge.y,ze=ue.width-Ne.width,tt=ue.height-Ne.height;oe({...Ne,x:Math.max(0,Math.min(ze,ke)),y:Math.max(0,Math.min(tt,Pe))})},zt=()=>{Me(!1)},nr=(q,ue)=>{if(!le||!Ze.current)return;const ke=Ze.current.getBoundingClientRect(),Pe=q.clientX-ke.left;q.clientY-ke.top;let ze={...Ne};ze.width=Math.max(100,Math.min(ke.width-Ne.x,Pe-Ne.x)),ze.height=ze.width,ze.x+ze.width>ke.width&&(ze.width=ke.width-ze.x,ze.height=ze.width),ze.y+ze.height>ke.height&&(ze.height=ke.height-ze.y,ze.width=ze.height),oe(ze)},Bt=h.useCallback(()=>{if(!le||!nt.current)return null;const q=document.createElement("canvas"),ue=q.getContext("2d"),ke=nt.current,Pe=ke.naturalWidth/ke.width,ze=ke.naturalHeight/ke.height,tt=(Ne.x-Je.x)*Pe,He=(Ne.y-Je.y)*ze,jt=Ne.width*Pe,Nt=Ne.height*ze;return q.width=jt,q.height=Nt,ue.drawImage(ke,tt,He,jt,Nt,0,0,jt,Nt),new Promise(St=>{q.toBlob(sa=>{const Xr=new File([sa],le.file.name,{type:le.file.type,lastModified:Date.now()});St(Xr)},le.file.type,.95)})},[le,Ne,Je]),xt=async()=>{const q=await Bt();if(!q)return;const ue={url:URL.createObjectURL(q),name:le.file.name};m(ke=>{const Pe=[...ke];return Pe[le.index]={file:q,cropped:!0},Pe}),b(ke=>{const Pe=[...ke];return Pe[le.index]=ue,Pe}),pe(null),k("")},we=()=>{pe(null),oe({x:0,y:0,width:0,height:0})},ot=q=>{const ue=u.filter((Pe,ze)=>ze!==q),ke=y.filter((Pe,ze)=>ze!==q);m(ue),b(ke),ue.length<Do&&k("")},ht=q=>{const ue=E[q];ue&&(w(E.filter((ke,Pe)=>Pe!==q)),N(ke=>[...ke,ue]),E.length-1+u.length<Do&&k(""))},Z=async q=>{const ue=q.target.files?.[0];if(ue){if(!ue.type.startsWith("video/")){D("Le fichier doit tre une vido (MP4, MOV, ...)."),q.target.value="";return}if(ee(ue.size),D(""),ue.size>Ud*1024*1024){ae(!0),ve(0);try{const ke=document.createElement("video");ke.preload="metadata",ke.muted=!0,ke.playsInline=!0,ke.crossOrigin="anonymous";const Pe=URL.createObjectURL(ue);ke.src=Pe,await new Promise((Yt,ne)=>{ke.onloadedmetadata=()=>{ke.videoWidth===0||ke.videoHeight===0?ne(new Error("Impossible de lire les dimensions de la vido")):Yt()},ke.onerror=()=>ne(new Error("Erreur lors du chargement de la vido"))});const ze=document.createElement("canvas"),tt=ze.getContext("2d");ze.width=ke.videoWidth,ze.height=ke.videoHeight;const He=ke.duration,jt=Ud*1024*1024*.95,Nt=Math.max(5e5,Math.floor(jt*8/He));let St="video/webm;codecs=vp9";MediaRecorder.isTypeSupported(St)||(St="video/webm;codecs=vp8",MediaRecorder.isTypeSupported(St)||(St="video/webm",MediaRecorder.isTypeSupported(St)||(St="video/mp4")));const sa=ze.captureStream(30),Xr=[];let La=0;const Yr=new MediaRecorder(sa,{mimeType:St,videoBitsPerSecond:Nt});Yr.ondataavailable=Yt=>{Yt.data&&Yt.data.size>0&&Xr.push(Yt.data)},Yr.onstop=()=>{ve(100),setTimeout(()=>{const Yt=new Blob(Xr,{type:St}),ne=St.includes("webm")?"webm":"mp4",rt=new File([Yt],ue.name.replace(/\.[^/.]+$/,"")+"."+ne,{type:Yt.type,lastModified:Date.now()});T(rt),ae(!1),ve(0),URL.revokeObjectURL(Pe),q.target.value=""},300)},Yr.onerror=Yt=>{console.error("Compression error:",Yt),D("Erreur lors de la compression. Veuillez essayer avec une autre vido."),ae(!1),ve(0),URL.revokeObjectURL(Pe),q.target.value=""},Yr.start(100),ke.currentTime=0,await ke.play();const er=()=>{if(ke.ended||ke.paused||ke.readyState<2){ke.ended?(ve(98),setTimeout(()=>{Yr.stop()},100)):requestAnimationFrame(er);return}try{tt.drawImage(ke,0,0,ze.width,ze.height);const Yt=Math.min(98,ke.currentTime/He*100);ve(Yt),ke.ended?(ve(99),setTimeout(()=>{Yr.stop()},200)):(ke.currentTime+=.033,requestAnimationFrame(er))}catch(Yt){console.error("Frame drawing error:",Yt),ve(100),Yr.stop()}};setTimeout(()=>{er()},100)}catch(ke){console.error("Video compression error:",ke),D("Erreur lors de la compression. Le fichier est peut-tre trop volumineux ou corrompu. Veuillez essayer avec une vido plus courte."),ae(!1),ve(0),q.target.value=""}}else T(ue),q.target.value=""}},xe=()=>{T(null),D(""),ae(!1),ve(0),ee(0)},fe=q=>{const ue=q.target.files?.[0];if(ue){if(ue.type!=="application/pdf"){W("Le fichier doit tre un PDF.");return}if(ue.size>Py*1024*1024){W(`Le PDF doit faire moins de ${Py} Mo.`);return}W(""),L(ue),X(!1),q.target.value=""}},ye=()=>{L(null),W("")},Y=async q=>{q.preventDefault(),f(!0),O&&(G(!0),I(0));try{const ue=new FormData;Object.entries(o).forEach(([tt,He])=>{tt==="discount"&&(He===""||He===null||He===void 0)||ue.append(tt,He)}),u.slice(0,Do).forEach(tt=>{const He=tt?.file||tt;He instanceof File&&ue.append("images",He)}),x.forEach(tt=>ue.append("removeImages",tt)),O&&ue.append("video",O),j&&ue.append("pdf",j),Q&&ue.append("removePdf","true");const ke=`/products${s?`/${s}`:""}`,ze=await ie[s?"put":"post"](ke,ue,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:tt=>{if(tt.total){const He=Math.round(tt.loaded*100/tt.total);I(He)}}});s?a?.(ze.data):r?.(ze.data),d({title:"",description:"",price:"",category:"",condition:"used",operator:"MTN",discount:""}),m([]),b([]),w([]),N([]),k(""),T(null),D(""),L(null),W(""),J(null),X(!1)}catch(ue){alert(ue.response?.data?.message||ue.message)}finally{f(!1),G(!1),I(0)}},U=()=>{const q=parseFloat(o.price)||0;return Math.round(q*.03)};h.useEffect(()=>{if(!n){w([]),J(null),X(!1),N([]);return}d({title:n.title||"",description:n.description||"",price:n.price||"",category:n.category||"",condition:n.condition||"new",operator:n.operator||"MTN",discount:typeof n.discount=="number"||typeof n.discount=="string"?n.discount:""}),w(Array.isArray(n.images)?n.images:[]),J(n.pdf||null),X(!1),N([])},[n]);const de=!!s,Re=de?"Modifier une annonce":"Publier une annonce",Ve=de?"Mettez  jour les informations de votre produit":"Remplissez les dtails de votre produit pour commencer  vendre",Qe=i||(de?"Mettre  jour lannonce":"Publier lannonce"),Pt=de?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2";return t.createElement("div",{className:"max-w-2xl mx-auto"},t.createElement("div",{className:"text-center mb-8"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(wt,{className:"w-8 h-8 text-white"})),t.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},Re),t.createElement("p",{className:"text-gray-500 text-sm"},Ve)),t.createElement("form",{onSubmit:Y,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Titre de l'annonce *")),t.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:o.title,onChange:q=>d({...o,title:q.target.value}),required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Description dtaille *")),t.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:o.description,onChange:q=>d({...o,description:q.target.value}),required:!0})),t.createElement("div",{className:`grid ${Pt} gap-4`},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ra,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Catgorie *")),t.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:o.category,onChange:q=>d({...o,category:q.target.value}),required:!0},t.createElement("option",{value:""},"Slectionnez une catgorie"),Vs.map((q,ue)=>t.createElement("optgroup",{key:ue,label:q.label},q.options.map(ke=>t.createElement("option",{key:ke.value,value:ke.value},ke.label)))))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Prix (FCFA) *")),t.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 250000",value:o.price,onChange:q=>d({...o,price:q.target.value}),required:!0,min:"0"})),de&&t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ra,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null,"Remise (%)")),t.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: 5",value:o.discount,onChange:q=>{const ue=q.target.value;if(ue===""){d(Pe=>({...Pe,discount:""}));return}const ke=Math.max(0,Math.min(99,Number(ue)));d(Pe=>({...Pe,discount:ke}))},min:"0",max:"99"}),t.createElement("p",{className:"text-[11px] text-gray-500"},"Laissez vide pour aucune remise. Le pourcentage maximum est de 99%."))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),t.createElement("div",{className:"flex space-x-4"},t.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"radio",name:"condition",value:"new",checked:o.condition==="new",onChange:q=>d({...o,condition:q.target.value}),className:"sr-only"}),t.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${o.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},o.condition==="new"&&t.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),t.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),t.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"radio",name:"condition",value:"used",checked:o.condition==="used",onChange:q=>d({...o,condition:q.target.value}),className:"sr-only"}),t.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${o.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},o.condition==="used"&&t.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),t.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Oprateur mobile"),t.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:o.operator,onChange:q=>d({...o,operator:q.target.value})},t.createElement("option",{value:"MTN"},"MTN"),t.createElement("option",{value:"Airtel"},"Airtel"))))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Photos du produit")),t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(UO,{className:"w-4 h-4 text-blue-500"}),t.createElement("span",null,"Photos"," ",E.length+u.length>0&&`(${E.length+u.length})`)),t.createElement("p",{className:"text-xs text-gray-500"},"Jusqu' ",Do," photos (PNG ou JPG, 10MB max chacun)."),E.length>0&&t.createElement("div",{className:"space-y-2"},t.createElement("p",{className:"text-xs text-gray-500"},"Images actuelles"),t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},E.map((q,ue)=>t.createElement("div",{key:`${q}-${ue}`,className:"relative group"},t.createElement("img",{src:q,alt:`Image existante ${ue+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),t.createElement("button",{type:"button",onClick:()=>ht(ue),className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600 transition-colors","aria-label":"Supprimer l'image"},t.createElement(Q5,{className:"w-3.5 h-3.5"})))))),t.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},t.createElement(Ji,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2"}),t.createElement("span",{className:"text-sm text-gray-500 text-center"},t.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),t.createElement("br",null),t.createElement("span",{className:"text-xs"},"PNG, JPG jusqu' 10MB")),t.createElement("input",{type:"file",multiple:!0,onChange:Zt,className:"hidden",accept:"image/*"})),S&&t.createElement("p",{className:"text-xs text-red-500"},S),y.length>0&&t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},y.map((q,ue)=>t.createElement("div",{key:ue,className:"relative group"},t.createElement("img",{src:q.url,alt:`Preview ${ue+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),t.createElement("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors rounded-lg flex items-center justify-center gap-2"},t.createElement("button",{type:"button",onClick:()=>editImageCrop(ue),className:"opacity-0 group-hover:opacity-100 bg-white/90 backdrop-blur-sm p-1.5 rounded-full shadow-lg hover:bg-white transition-all","aria-label":"Recadrer l'image",title:"Recadrer"},t.createElement(O5,{className:"w-3.5 h-3.5 text-gray-700"})),t.createElement("button",{type:"button",onClick:()=>ot(ue),className:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-1.5 rounded-full shadow-lg hover:bg-red-600 transition-all","aria-label":"Supprimer l'image",title:"Supprimer"},t.createElement(Q5,{className:"w-3.5 h-3.5"}))),u[ue]?.cropped&&t.createElement("div",{className:"absolute top-1 left-1 bg-emerald-500 text-white text-[8px] px-1.5 py-0.5 rounded font-semibold"},"Recadr")))))),C?t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-2"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vido de prsentation")),t.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez une courte vido (MP4, MOV, WEBM) pour montrer le produit. Taille maximale ",Ud," Mo."),t.createElement("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},t.createElement(QO,{className:"w-8 h-8 text-gray-400 group-hover:text-emerald-500 transition-colors mb-2"}),t.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader votre vido"),t.createElement("input",{type:"file",accept:"video/*",onChange:Z,className:"hidden"})),z&&t.createElement("div",{className:"space-y-3 p-4 rounded-xl border-2 border-blue-300 bg-gradient-to-br from-blue-50 to-cyan-50 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin flex-shrink-0"}),t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-blue-900"},"Compression de la vido en cours..."),t.createElement("p",{className:"text-xs text-blue-600 mt-0.5"},"Rduction de la taille tout en conservant la rsolution originale"))),t.createElement("div",{className:"flex flex-col items-end"},t.createElement("span",{className:"text-lg font-bold text-blue-700"},Math.round(he),"%"),t.createElement("span",{className:"text-[10px] text-blue-500 font-medium"},"Progression"))),t.createElement("div",{className:"space-y-1"},t.createElement("div",{className:"w-full rounded-full bg-gray-200 h-3 overflow-hidden shadow-inner"},t.createElement("div",{className:"h-full bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 transition-all duration-300 ease-out shadow-lg relative",style:{width:`${he}%`}},t.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"}))),t.createElement("div",{className:"flex items-center justify-between text-[10px] text-gray-600"},t.createElement("span",null,"0%"),t.createElement("span",{className:"font-semibold text-blue-600"},"En cours..."),t.createElement("span",null,"100%"))),t.createElement("div",{className:"flex items-center gap-2 pt-2 border-t border-blue-200"},t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-xs text-gray-600"},t.createElement("span",{className:"font-semibold text-blue-700"},"Taille originale:")," ",(_e/(1024*1024)).toFixed(2)," MB")),t.createElement("div",{className:"w-px h-4 bg-blue-200"}),t.createElement("div",{className:"flex-1 text-right"},t.createElement("p",{className:"text-xs text-gray-600"},t.createElement("span",{className:"font-semibold text-blue-700"},"Cible:")," ",Ud," MB max")))),O&&!z&&t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm text-gray-700 truncate font-medium"},O.name),t.createElement("div",{className:"flex items-center gap-2 mt-1"},t.createElement("p",{className:"text-xs text-gray-500"},(O.size/(1024*1024)).toFixed(2)," MB"),_e>O.size&&t.createElement(t.Fragment,null,t.createElement("span",{className:"text-xs text-gray-400"},""),t.createElement("p",{className:"text-xs text-emerald-600 font-semibold"},"Rduit de ",((1-O.size/_e)*100).toFixed(1),"%")))),t.createElement("button",{type:"button",onClick:xe,className:"ml-3 text-xs font-semibold text-red-600 hover:text-red-500 px-2 py-1 hover:bg-red-50 rounded transition-colors"},"Supprimer")),_e>Ud*1024*1024&&t.createElement("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-50 border border-emerald-200"},t.createElement(ys,{className:"w-4 h-4 text-emerald-600 flex-shrink-0"}),t.createElement("p",{className:"text-xs text-emerald-700"},"Vido compresse avec succs. Rsolution originale conserve."))),R&&t.createElement("div",{className:"px-3 py-2 rounded-xl border border-red-200 bg-red-50"},t.createElement("p",{className:"text-xs text-red-600"},R)),B&&t.createElement("div",{className:"mt-2 space-y-1"},t.createElement("div",{className:"flex items-center justify-between text-xs text-gray-600"},t.createElement("span",null,"Upload en cours..."),t.createElement("span",null,H,"%")),t.createElement("div",{className:"w-full rounded-full bg-gray-100 h-2 overflow-hidden"},t.createElement("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-200",style:{width:`${H}%`}})))):t.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500 space-y-1"},t.createElement("p",{className:"font-semibold text-gray-700"},"Vido rserve aux boutiques certifies"),t.createElement("p",null,"Contactez un administrateur via"," ",t.createElement("a",{href:"/help",className:"font-semibold text-indigo-600 hover:underline"},"le centre daide")," ","pour valider votre boutique.")),_&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-2"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-slate-500 to-gray-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Fiche produit (PDF)")),t.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez un document PDF pour dtailler votre produit. Taille maximale ",Py," Mo."),$&&!j&&!Q&&t.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700"},t.createElement("div",null,t.createElement("span",{className:"font-medium"},"PDF actuel :")," ",t.createElement("a",{href:$,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-indigo-600 hover:underline"},"Ouvrir")),t.createElement("button",{type:"button",onClick:()=>X(!0),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-red-200 bg-red-50 text-red-600 transition hover:bg-red-100","aria-label":"Supprimer le PDF",title:"Supprimer le PDF"},t.createElement(fo,{className:"h-4 w-4"}))),Q&&t.createElement("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700"},t.createElement("span",null,"Le PDF sera supprim lors de lenregistrement."),t.createElement("button",{type:"button",onClick:()=>X(!1),className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Annuler")),t.createElement("label",{className:"flex flex-col items-center justify-center w-full h-28 border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group"},t.createElement(Ga,{className:"w-8 h-8 text-gray-400 group-hover:text-slate-600 transition-colors mb-2"}),t.createElement("span",{className:"text-sm text-gray-500 text-center"},"Cliquez pour uploader un PDF"),t.createElement("input",{type:"file",accept:"application/pdf",onChange:fe,className:"hidden"})),j&&t.createElement("div",{className:"flex items-center justify-between px-3 py-2 rounded-xl border border-gray-200 bg-white"},t.createElement("span",{className:"text-sm text-gray-700 truncate"},j.name),t.createElement("button",{type:"button",onClick:ye,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")),K&&t.createElement("p",{className:"text-xs text-red-500"},K)),!de&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-amber-500 to-orange-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Validation de l'annonce")),t.createElement("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-4 space-y-3"},t.createElement("div",{className:"flex items-start space-x-3"},t.createElement(br,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.createElement("div",{className:"space-y-2"},t.createElement("h3",{className:"font-semibold text-amber-800 text-sm"},"Commission de publication"),t.createElement("p",{className:"text-amber-700 text-sm"},"Pour valider votre annonce, envoyez ",t.createElement("span",{className:"font-bold"},U().toLocaleString()," FCFA"),"(3% du prix) au numro ",t.createElement("span",{className:"font-bold"},Uq[o.operator])," (",o.operator,")."),t.createElement("div",{className:"flex items-center space-x-2 text-xs text-amber-600"},t.createElement(ys,{className:"w-4 h-4"}),t.createElement("span",null,"Votre annonce sera approuve sous 24h aprs paiement")))))),(o.title||y.length>0||E.length>0)&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Aperu")),t.createElement("button",{type:"button",onClick:()=>vt(!ct),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors"},ct?t.createElement(t.Fragment,null,t.createElement(HF,{className:"w-4 h-4"}),t.createElement("span",null,"Masquer")):t.createElement(t.Fragment,null,t.createElement(zF,{className:"w-4 h-4"}),t.createElement("span",null,"Afficher")))),ct&&t.createElement("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200"},t.createElement("div",{className:"max-w-sm mx-auto"},t.createElement(Aa,{p:{_id:"preview",title:o.title||"Titre du produit",description:o.description||"Description du produit",price:o.price||0,category:o.category||"",condition:o.condition||"used",discount:o.discount||0,images:[...E,...y.map(q=>q.url)].filter(Boolean),user:P?{_id:P.id,name:P.name,shopName:P.shopName,shopVerified:P.shopVerified,shopLogo:P.shopLogo}:null,createdAt:new Date().toISOString(),views:0,favoritesCount:0,commentCount:0,ratingAverage:0,ratingCount:0},hideMobileDiscountBadge:!1})))),t.createElement("button",{type:"submit",disabled:p||!o.title||!o.description||!o.price||!o.category,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 shadow-lg"},p?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,de?"Mise  jour en cours...":"Publication en cours...")):t.createElement(t.Fragment,null,t.createElement(J0,{className:"w-5 h-5"}),t.createElement("span",null,Qe)))),le&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4"},t.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col"},t.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center"},t.createElement(O5,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Recadrer l'image"),t.createElement("p",{className:"text-xs text-gray-500"},"Ajustez la zone de recadrage"))),t.createElement("button",{type:"button",onClick:we,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Fermer"},t.createElement(_t,{className:"w-5 h-5 text-gray-500"}))),t.createElement("div",{className:"flex-1 p-4 overflow-auto"},t.createElement("div",{ref:Ze,className:"relative w-full h-96 bg-gray-100 rounded-lg overflow-hidden cursor-move",onMouseDown:ut,onMouseMove:Lt,onMouseUp:zt,onMouseLeave:zt},t.createElement("img",{ref:nt,src:le.url,alt:"Image  recadrer",className:"absolute",style:{width:`${nt.current?.naturalWidth*De||0}px`,height:`${nt.current?.naturalHeight*De||0}px`,left:`${Je.x}px`,top:`${Je.y}px`,pointerEvents:"none"},onLoad:q=>{const ue=q.target,ke=Ze.current;if(!ke)return;const Pe=ke.clientWidth,ze=ke.clientHeight,tt=ue.naturalWidth/ue.naturalHeight,He=Pe/ze;let jt,Nt;tt>He?(jt=Pe,Nt=Pe/tt):(Nt=ze,jt=ze*tt),Ye(jt/ue.naturalWidth),bt({x:(Pe-jt)/2,y:(ze-Nt)/2});const St=Math.min(jt,Nt)*.8;oe({x:(Pe-St)/2,y:(ze-St)/2,width:St,height:St})}}),t.createElement("div",{className:"absolute border-2 border-white shadow-lg",style:{left:`${Ne.x}px`,top:`${Ne.y}px`,width:`${Ne.width}px`,height:`${Ne.height}px`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)"}},t.createElement("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-white border-2 border-blue-500 rounded-full cursor-se-resize",onMouseDown:q=>{q.stopPropagation();const ue=Pe=>{nr(Pe)},ke=()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",ke)};document.addEventListener("mousemove",ue),document.addEventListener("mouseup",ke)}})))),t.createElement("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 bg-gray-50"},t.createElement("button",{type:"button",onClick:we,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},"Annuler"),t.createElement("button",{type:"button",onClick:xt,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-sm"},"Confirmer le recadrage")))))}function Hq({productId:e,productTitle:r,onClose:a}){const{showToast:n}=Si(),[s,i]=h.useState(!0),[o,d]=h.useState(null),[u,m]=h.useState("");h.useEffect(()=>{e&&p()},[e]);const p=async()=>{i(!0),m("");try{const{data:E}=await ie.get(`/products/${e}/analytics`);d(E)}catch(E){m(E.response?.data?.message||"Erreur lors du chargement des analytics"),n("Erreur lors du chargement des analytics",{variant:"error"})}finally{i(!1)}};if(!e)return null;const f=o?.metrics||{},y=o?.viewsOverTime||[],b=Math.max(...y.map(E=>E.views),1);return t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},t.createElement("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30"},t.createElement(Gn,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Analytics du produit"),t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-md"},r))),t.createElement("button",{type:"button",onClick:a,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},t.createElement(_t,{size:20}))),t.createElement("div",{className:"p-6 space-y-6"},s?t.createElement("div",{className:"flex items-center justify-center py-12"},t.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})):u?t.createElement("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 text-center"},t.createElement("p",{className:"text-red-600 dark:text-red-400"},u)):t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},t.createElement("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 rounded-xl p-4 border border-pink-200 dark:border-pink-800"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement("div",{className:"p-2 rounded-lg bg-pink-500 text-white"},t.createElement(Ar,{className:"w-4 h-4"})),t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-xs font-semibold text-pink-600 dark:text-pink-400 uppercase tracking-wide"},"Favoris"),t.createElement("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100"},f.favoritesCount||0))),t.createElement("p",{className:"text-xs text-pink-600 dark:text-pink-400"},"Utilisateurs qui ont aim")),t.createElement("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-4 border border-green-200 dark:border-green-800"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement("div",{className:"p-2 rounded-lg bg-green-500 text-white"},t.createElement(pr,{className:"w-4 h-4"})),t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-xs font-semibold text-green-600 dark:text-green-400 uppercase tracking-wide"},"Clics WhatsApp"),t.createElement("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100"},f.whatsappClicks||0))),t.createElement("p",{className:"text-xs text-green-600 dark:text-green-400"},"Contacts gnrs")),t.createElement("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-4 border border-purple-200 dark:border-purple-800"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement("div",{className:"p-2 rounded-lg bg-purple-500 text-white"},t.createElement(rn,{className:"w-4 h-4"})),t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 uppercase tracking-wide"},"Ventes"),t.createElement("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100"},f.salesCount||0))),t.createElement("p",{className:"text-xs text-purple-600 dark:text-purple-400"},"Commandes ralises"))),y.length>0&&t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement(rr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),t.createElement("div",{className:"flex-1"},t.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},"Vues sur les 30 derniers jours"),t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Total: ",f.totalViews||0," vues  ",f.uniqueViewers||0," visiteurs uniques"))),t.createElement("div",{className:"h-64 flex items-end gap-1"},y.map((E,w)=>{const x=b>0?E.views/b*100:0;return t.createElement("div",{key:w,className:"flex-1 flex flex-col items-center group relative"},t.createElement("div",{className:"w-full bg-indigo-500 hover:bg-indigo-600 rounded-t transition-all cursor-pointer",style:{height:`${x}%`,minHeight:E.views>0?"4px":"0"},title:`${new Date(E.date).toLocaleDateString("fr-FR")}: ${E.views} vue(s)`}),w%5===0&&t.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 transform -rotate-45 origin-left whitespace-nowrap"},new Date(E.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})))}))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},t.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux de conversion"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},f.totalViews>0?(f.whatsappClicks/f.totalViews*100).toFixed(1):0,"%"),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Vues  Contacts")),t.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux d'engagement"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},(f.totalViews||0)>0?((f.favoritesCount||0)/f.totalViews*100).toFixed(1):0,"%"),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Vues  Favoris")),t.createElement("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1"},"Taux de vente"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 dark:text-white"},f.whatsappClicks>0?(f.salesCount/f.whatsappClicks*100).toFixed(1):0,"%"),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Contacts  Ventes")))))))}const Vd=12,Ql={all:"Toutes",pending:"En attente",approved:"Approuves",rejected:"Rejetes",disabled:"Dsactives"},J5={pending:{badge:"bg-amber-500",card:"bg-amber-50 border-amber-200 text-amber-800"},approved:{badge:"bg-emerald-500",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},rejected:{badge:"bg-red-500",card:"bg-red-50 border-red-200 text-red-800"},disabled:{badge:"bg-gray-500",card:"bg-gray-50 border-gray-200 text-gray-700"}},Ty={pending:It,approved:Kt,rejected:_t,disabled:xp},Z5={pending:"Annonce en attente de validation aprs paiement.",approved:"Annonce valide et visible par les acheteurs.",rejected:"Annonce rejete. Consultez le support pour plus de dtails.",disabled:"Annonce dsactive. Elle n'est plus visible par les acheteurs."},Jl=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,If=e=>{if(!e)return"";const r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})};function Wq(){const{showToast:e}=Si(),r=Tn(),[a,n]=h.useState([]),[s,i]=h.useState(!0),[o,d]=h.useState(""),[u,m]=h.useState(!1),[p,f]=h.useState(null),[y,b]=h.useState(1),[E,w]=h.useState("all"),[x,N]=h.useState(""),[S,k]=h.useState(new Set),[P,C]=h.useState(!1),[_,O]=h.useState("multiple"),[T,R]=h.useState(""),[D,j]=h.useState(""),[L,K]=h.useState([]),[W,$]=h.useState(""),[J,Q]=h.useState(""),[X,H]=h.useState(""),[I,B]=h.useState(""),[G,z]=h.useState([]),[ae,he]=h.useState("date-desc"),[ve,_e]=h.useState(!1),[ee,le]=h.useState([]),[pe,Ne]=h.useState(""),[oe,re]=h.useState(null),[Me,ge]=h.useState("grid"),$e=async()=>{i(!0),d("");try{const{data:U}=await ie.get("/products");n(Array.isArray(U)?U:[]),b(1)}catch(U){d(U.response?.data?.message||U.message||"Impossible de charger vos annonces."),e(U.response?.data?.message||U.message||"Erreur de chargement",{variant:"error"})}finally{i(!1)}};h.useEffect(()=>{$e(),De()},[]);const De=async()=>{try{const U=await Wr.get("userDashboard_savedFilters");U&&Array.isArray(U)&&le(U)}catch(U){console.error("Error loading saved filters:",U)}},Ye=async()=>{if(!pe.trim()){e("Veuillez entrer un nom pour ce filtre",{variant:"error"});return}const U={id:Date.now().toString(),name:pe.trim(),searchQuery:T,selectedCategories:L,priceMin:W,priceMax:J,dateFrom:X,dateTo:I,selectedStatuses:G,sortBy:ae,createdAt:new Date().toISOString()};try{const de=[...ee,U];await Wr.set("userDashboard_savedFilters",de),le(de),Ne(""),e("Filtre sauvegard avec succs",{variant:"success"})}catch(de){console.error("Error saving filter:",de),e("Erreur lors de la sauvegarde",{variant:"error"})}},Je=U=>{R(U.searchQuery||""),j(U.searchQuery||""),K(U.selectedCategories||[]),$(U.priceMin||""),Q(U.priceMax||""),H(U.dateFrom||""),B(U.dateTo||""),z(U.selectedStatuses||[]),he(U.sortBy||"date-desc"),U.selectedStatuses&&U.selectedStatuses.length>0?w("custom"):w("all"),e(`Filtre "${U.name}" charg`,{variant:"success"})},bt=async U=>{try{const de=ee.filter(Re=>Re.id!==U);await Wr.set("userDashboard_savedFilters",de),le(de),e("Filtre supprim",{variant:"success"})}catch(de){console.error("Error deleting filter:",de),e("Erreur lors de la suppression",{variant:"error"})}},Ze=()=>{R(""),j(""),K([]),$(""),Q(""),H(""),B(""),z([]),he("date-desc"),w("all"),e("Filtres rinitialiss",{variant:"success"})},nt=()=>{m(!1),f(null)},ct=async(U,de)=>{N(U);try{await ie.patch(`/products/${U}/${de}`),await $e(),e(de==="disable"?"Annonce dsactive avec succs.":"Annonce ractive avec succs.",{variant:"success"})}catch(Re){e(Re.response?.data?.message||Re.message||"Erreur lors de la mise  jour",{variant:"error"})}finally{N("")}},vt=h.useMemo(()=>{const U=a.length,de=a.filter(q=>q.status==="pending").length,Re=a.filter(q=>q.status==="approved").length,Ve=a.filter(q=>q.status==="rejected").length,Qe=a.filter(q=>q.status==="disabled").length,Pt=a.reduce((q,ue)=>q+Number(ue.price||0),0);return{total:U,pending:de,approved:Re,rejected:Ve,disabled:Qe,totalValue:Pt}},[a]);h.useEffect(()=>{const U=setTimeout(()=>{R(D.trim())},400);return()=>clearTimeout(U)},[D]);const Zt=h.useMemo(()=>{const U=new Set;return a.forEach(de=>{de.category&&U.add(de.category)}),Array.from(U).sort()},[a]),pt=h.useMemo(()=>[...a].filter(U=>U.status==="approved").map(U=>{const de=Number(U.favoritesCount||0),Re=Number(U.whatsappClicks||0),Ve=Number(U.salesCount||0),Qe=de*.4+Re*.4+Ve*20;return{...U,performanceScore:Qe}}).sort((U,de)=>de.performanceScore-U.performanceScore).slice(0,5).map(U=>U._id||U.id),[a]),ut=h.useMemo(()=>{let U=[...a];if(T){const de=T.toLowerCase();U=U.filter(Re=>Re.title?.toLowerCase().includes(de)||Re.description?.toLowerCase().includes(de))}if(L.length>0&&(U=U.filter(de=>L.includes(de.category))),W){const de=Number(W);isNaN(de)||(U=U.filter(Re=>Number(Re.price||0)>=de))}if(J){const de=Number(J);isNaN(de)||(U=U.filter(Re=>Number(Re.price||0)<=de))}if(X){const de=new Date(X);isNaN(de.getTime())||(U=U.filter(Re=>new Date(Re.createdAt)>=de))}if(I){const de=new Date(I);de.setHours(23,59,59,999),isNaN(de.getTime())||(U=U.filter(Re=>new Date(Re.createdAt)<=de))}return G.length>0?U=U.filter(de=>G.includes(de.status)):E!=="all"&&E!=="custom"&&(U=U.filter(de=>de.status===E)),U.sort((de,Re)=>{switch(ae){case"date-desc":return new Date(Re.createdAt||0)-new Date(de.createdAt||0);case"date-asc":return new Date(de.createdAt||0)-new Date(Re.createdAt||0);case"price-desc":return Number(Re.price||0)-Number(de.price||0);case"price-asc":return Number(de.price||0)-Number(Re.price||0);case"title-asc":return(de.title||"").localeCompare(Re.title||"","fr");case"title-desc":return(Re.title||"").localeCompare(de.title||"","fr");case"status-asc":return(de.status||"").localeCompare(Re.status||"","fr");case"status-desc":return(Re.status||"").localeCompare(de.status||"","fr");default:return 0}}),U},[a,T,L,W,J,X,I,G,E,ae]),Lt=ut.length?Math.ceil(ut.length/Vd):1,zt=h.useMemo(()=>{const U=(y-1)*Vd;return ut.slice(U,U+Vd)},[ut,y]),nr=ut.length?(y-1)*Vd+1:0,Bt=Math.min(ut.length,y*Vd),xt=U=>{const de=Math.min(Math.max(U,1),Lt);b(de),window.scrollTo({top:0,behavior:"smooth"})};h.useEffect(()=>{b(1),k(new Set)},[E,T,L,W,J,X,I,G,ae]),h.useEffect(()=>{if(_==="single"&&S.size>1){const U=Array.from(S)[0];k(new Set([U]))}},[_]);const we=U=>{U&&k(_==="single"?de=>de.has(U)?new Set:new Set([U]):de=>{const Re=new Set(de);return Re.has(U)?Re.delete(U):Re.add(U),Re})},ot=()=>{if(_==="single")O("multiple"),k(new Set(zt.map(U=>U._id||U.id).filter(Boolean)));else{const U=zt.map(de=>de._id||de.id).filter(Boolean);S.size===U.length&&U.every(de=>S.has(de))?k(new Set):k(new Set(U))}},ht=()=>{k(new Set)},Z=async()=>{if(S.size!==0&&confirm(`Ractiver ${S.size} produit(s) ?`)){C(!0);try{await ie.post("/products/bulk/enable",{productIds:Array.from(S)}),await $e(),ht(),e(`${S.size} produit(s) ractiv(s) avec succs.`,{variant:"success"})}catch(U){e(U.response?.data?.message||U.message||"Erreur lors de la ractivation",{variant:"error"})}finally{C(!1)}}},xe=async()=>{if(S.size!==0&&confirm(`Dsactiver ${S.size} produit(s) ?`)){C(!0);try{await ie.post("/products/bulk/disable",{productIds:Array.from(S)}),await $e(),ht(),e(`${S.size} produit(s) dsactiv(s) avec succs.`,{variant:"success"})}catch(U){e(U.response?.data?.message||U.message||"Erreur lors de la dsactivation",{variant:"error"})}finally{C(!1)}}},fe=async()=>{if(S.size!==0&&confirm(`Supprimer dfinitivement ${S.size} produit(s) ? Cette action est irrversible.`)){C(!0);try{await ie.post("/products/bulk/delete",{productIds:Array.from(S)}),await $e(),ht(),e(`${S.size} produit(s) supprim(s) avec succs.`,{variant:"success"})}catch(U){e(U.response?.data?.message||U.message||"Erreur lors de la suppression",{variant:"error"})}finally{C(!1)}}},ye=()=>{if(S.size===0){e("Veuillez slectionner au moins un produit.",{variant:"error"});return}const U=a.filter(ue=>S.has(ue._id)),de=["Titre","Prix (FCFA)","Catgorie","Statut","Date de cration"],Re=U.map(ue=>[ue.title||"",ue.price||0,ue.category||"",Ql[ue.status]||ue.status,If(ue.createdAt)]),Ve=[de.join(","),...Re.map(ue=>ue.map(ke=>`"${String(ke).replace(/"/g,'""')}"`).join(","))].join(`
`),Qe=new Blob(["\uFEFF"+Ve],{type:"text/csv;charset=utf-8;"}),Pt=URL.createObjectURL(Qe),q=document.createElement("a");q.href=Pt,q.download=`mes_annonces_${new Date().toISOString().split("T")[0]}.csv`,q.click(),URL.revokeObjectURL(Pt),e("Export CSV russi !",{variant:"success"})},Y=()=>{if(S.size===0){e("Veuillez slectionner au moins un produit.",{variant:"error"});return}const U=a.filter(Ve=>S.has(Ve._id)),de=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Mes Annonces - ${new Date().toLocaleDateString("fr-FR")}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { color: #4f46e5; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #4f46e5; color: white; }
            tr:nth-child(even) { background-color: #f2f2f2; }
          </style>
        </head>
        <body>
          <h1>Mes Annonces</h1>
          <p>Date d'export: ${new Date().toLocaleDateString("fr-FR")}</p>
          <p>Nombre d'annonces: ${U.length}</p>
          <table>
            <thead>
              <tr>
                <th>Titre</th>
                <th>Prix (FCFA)</th>
                <th>Catgorie</th>
                <th>Statut</th>
                <th>Date de cration</th>
              </tr>
            </thead>
            <tbody>
              ${U.map(Ve=>`
                <tr>
                  <td>${Ve.title||""}</td>
                  <td>${Jl(Ve.price||0)}</td>
                  <td>${Ve.category||""}</td>
                  <td>${Ql[Ve.status]||Ve.status}</td>
                  <td>${If(Ve.createdAt)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </body>
      </html>
    `,Re=window.open("","_blank");Re&&(Re.document.write(de),Re.document.close(),Re.focus(),setTimeout(()=>{Re.print()},250))};return s&&a.length===0?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),t.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(U=>t.createElement("div",{key:U,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},[1,2,3,4,5,6].map(U=>t.createElement("div",{key:U,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"bg-indigo-600 text-white"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(wt,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Mes annonces"),t.createElement("h1",{className:"text-3xl font-bold"},"Gestion de mes produits"))),t.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Grez vos annonces, suivez leur statut et publiez de nouveaux produits pour atteindre plus d'acheteurs.")),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("button",{type:"button",onClick:$e,disabled:s,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all disabled:opacity-50"},t.createElement(mo,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Actualiser"),t.createElement("button",{type:"button",onClick:()=>{f(null),m(!0)},className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},t.createElement(al,{className:"w-4 h-4"}),"Publier une annonce"))))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!s&&vt.total>0&&t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},t.createElement(wt,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},vt.total)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total annonces"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes vos annonces")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},t.createElement(Kt,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},vt.approved)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Approuves"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Annonces actives")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},t.createElement(It,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},vt.pending)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"En cours de validation")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-purple-600"},t.createElement(ca,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},Jl(vt.totalValue))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Valeur totale"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Valeur de vos annonces"))),!s&&a.length>0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 mb-8"},t.createElement("div",{className:"mb-6"},t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.createElement("input",{type:"text",value:D,onChange:U=>j(U.target.value),placeholder:"Rechercher par titre ou description...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),D&&t.createElement("button",{type:"button",onClick:()=>{j(""),R("")},className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},t.createElement(mn,{className:"w-5 h-5"})))),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("button",{type:"button",onClick:()=>_e(!ve),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-50 hover:bg-gray-100 border border-gray-200 text-sm font-semibold text-gray-700 transition-all"},t.createElement(ws,{className:"w-4 h-4"}),"Filtres avancs",ve?t.createElement(iN,{className:"w-4 h-4"}):t.createElement(hs,{className:"w-4 h-4"})),(T||L.length>0||W||J||X||I||G.length>0)&&t.createElement("button",{type:"button",onClick:Ze,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-red-50 hover:bg-red-100 border border-red-200 text-sm font-semibold text-red-700 transition-all"},t.createElement(mn,{className:"w-4 h-4"}),"Rinitialiser"),t.createElement("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-1 border border-gray-200 dark:border-gray-700"},t.createElement("button",{type:"button",onClick:()=>ge("grid"),className:`p-2 rounded-lg transition-all ${Me==="grid"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Vue grille"},t.createElement(oN,{className:"w-4 h-4"})),t.createElement("button",{type:"button",onClick:()=>ge("list"),className:`p-2 rounded-lg transition-all ${Me==="list"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,title:"Vue liste"},t.createElement(WO,{className:"w-4 h-4"})))),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{className:"text-sm font-semibold text-gray-700"},"Trier par:"),t.createElement("select",{value:ae,onChange:U=>he(U.target.value),className:"px-4 py-2 rounded-xl bg-gray-50 border border-gray-200 text-sm font-semibold text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"},t.createElement("option",{value:"date-desc"},"Date (rcent)"),t.createElement("option",{value:"date-asc"},"Date (ancien)"),t.createElement("option",{value:"price-desc"},"Prix (dcroissant)"),t.createElement("option",{value:"price-asc"},"Prix (croissant)"),t.createElement("option",{value:"title-asc"},"Titre (A-Z)"),t.createElement("option",{value:"title-desc"},"Titre (Z-A)"),t.createElement("option",{value:"status-asc"},"Statut (A-Z)"),t.createElement("option",{value:"status-desc"},"Statut (Z-A)")))),ve&&t.createElement("div",{className:"border-t border-gray-200 pt-6 space-y-6"},t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Catgories"),t.createElement("div",{className:"flex flex-wrap gap-2"},Zt.map(U=>{const de=L.includes(U),Re=Vs.flatMap(Ve=>Ve.options).find(Ve=>Ve.value===U);return t.createElement("button",{key:U,type:"button",onClick:()=>{K(de?L.filter(Ve=>Ve!==U):[...L,U])},className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${de?"bg-indigo-600 text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`},Re?.label||U)}))),t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Plage de prix (FCFA)"),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},t.createElement("div",null,t.createElement("input",{type:"number",value:W,onChange:U=>$(U.target.value),placeholder:"Prix minimum",className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})),t.createElement("div",null,t.createElement("input",{type:"number",value:J,onChange:U=>Q(U.target.value),placeholder:"Prix maximum",className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})))),t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Plage de dates"),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},t.createElement("div",null,t.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"Du"),t.createElement("input",{type:"date",value:X,onChange:U=>H(U.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})),t.createElement("div",null,t.createElement("label",{className:"block text-xs text-gray-500 mb-1"},"Au"),t.createElement("input",{type:"date",value:I,onChange:U=>B(U.target.value),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})))),t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-3"},"Statuts (slection multiple)"),t.createElement("div",{className:"flex flex-wrap gap-2"},Object.entries(Ql).filter(([U])=>U!=="all").map(([U,de])=>{const Re=G.includes(U),Ve=Ty[U];return t.createElement("button",{key:U,type:"button",onClick:()=>{Re?(z(G.filter(Qe=>Qe!==U)),G.length===1&&w("all")):(z([...G,U]),w("custom"))},className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold transition-all ${Re?"bg-indigo-600 text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`},t.createElement(Ve,{className:"w-4 h-4"}),t.createElement("span",null,de))}))),t.createElement("div",{className:"border-t border-gray-200 pt-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("input",{type:"text",value:pe,onChange:U=>Ne(U.target.value),placeholder:"Nom du filtre...",className:"flex-1 px-4 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),t.createElement("button",{type:"button",onClick:Ye,className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-all"},t.createElement(bm,{className:"w-4 h-4"}),"Sauvegarder")),ee.length>0&&t.createElement("div",{className:"mt-4"},t.createElement("label",{className:"block text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide"},"Filtres sauvegards"),t.createElement("div",{className:"flex flex-wrap gap-2"},ee.map(U=>t.createElement("div",{key:U.id,className:"flex items-center gap-2 px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl"},t.createElement("button",{type:"button",onClick:()=>Je(U),className:"text-sm font-semibold text-gray-700 hover:text-indigo-600 transition-colors"},U.name),t.createElement("button",{type:"button",onClick:()=>bt(U.id),className:"text-gray-400 hover:text-red-600 transition-colors"},t.createElement(_t,{className:"w-4 h-4"}))))))))),!s&&a.length>0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},t.createElement("div",{className:"flex flex-wrap gap-2"},Object.entries(Ql).map(([U,de])=>{const Re=E===U&&G.length===0,Ve=U==="all"?vt.total:vt[U]||0,Qe=U!=="all"?Ty[U]:wt;return t.createElement("button",{key:U,type:"button",onClick:()=>{w(U),z([])},className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${Re?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},U!=="all"&&t.createElement(Qe,{className:"w-4 h-4"}),t.createElement("span",null,de),Ve>0&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${Re?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},Ve))}))),o&&t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(br,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.createElement("div",null,t.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},o)))),!s&&a.length===0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},t.createElement(wt,{className:"w-10 h-10 text-indigo-600"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune annonce"),t.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Commencez  vendre en publiant votre premire annonce. C'est simple, rapide et gratuit !"),t.createElement("button",{type:"button",onClick:()=>{f(null),m(!0)},className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(al,{className:"w-4 h-4"}),"Publier ma premire annonce")),!s&&a.length>0&&ut.length===0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},t.createElement(ws,{className:"w-10 h-10 text-gray-400"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun rsultat trouv"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Aucune annonce ne correspond  vos critres de recherche et filtrage."),t.createElement("button",{type:"button",onClick:Ze,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl border-2 border-indigo-200 bg-white text-indigo-600 font-semibold hover:bg-indigo-50 transition-all"},"Rinitialiser les filtres")),!s&&zt.length>0&&S.size>0&&t.createElement("div",{className:"bg-indigo-600 text-white rounded-2xl border border-indigo-700 shadow-lg p-4 mb-6"},t.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(Rf,{className:"w-5 h-5"}),t.createElement("span",{className:"font-semibold"},S.size," produit",S.size>1?"s":""," slectionn",S.size>1?"s":"")),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("button",{type:"button",onClick:Z,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-500 text-white font-semibold hover:bg-emerald-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(vy,{className:"w-4 h-4"}),"Ractiver"),t.createElement("button",{type:"button",onClick:xe,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500 text-white font-semibold hover:bg-amber-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(xp,{className:"w-4 h-4"}),"Dsactiver"),t.createElement("button",{type:"button",onClick:fe,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(fo,{className:"w-4 h-4"}),"Supprimer"),t.createElement("button",{type:"button",onClick:ye,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(Mp,{className:"w-4 h-4"}),"CSV"),t.createElement("button",{type:"button",onClick:Y,disabled:P,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(Ga,{className:"w-4 h-4"}),"PDF"),t.createElement("button",{type:"button",onClick:ht,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 text-white font-semibold hover:bg-white/20 transition-all"},t.createElement(_t,{className:"w-4 h-4"}),"Annuler")))),!s&&zt.length>0&&t.createElement(t.Fragment,null,t.createElement("div",{className:"mb-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 bg-white rounded-2xl border border-gray-100 shadow-sm p-4"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"flex items-center gap-2 rounded-xl border border-gray-200 bg-gray-50 p-1"},t.createElement("button",{type:"button",onClick:()=>{O("single"),k(new Set)},className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${_==="single"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Slection unique"},"Un seul"),t.createElement("button",{type:"button",onClick:()=>{O("multiple"),k(new Set)},className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all ${_==="multiple"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"Slection multiple"},"Plusieurs")),_==="multiple"&&t.createElement("button",{type:"button",onClick:ot,className:"flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-indigo-600 transition-colors"},S.size===zt.length?t.createElement(Rf,{className:"w-5 h-5 text-indigo-600"}):t.createElement(Ey,{className:"w-5 h-5 text-gray-400"}),t.createElement("span",null,S.size===zt.length?"Tout dslectionner":`Tout slectionner (${zt.length})`))),S.size>0&&t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:"text-sm text-gray-600"},S.size," produit",S.size>1?"s":""," slectionn",S.size>1?"s":"",_==="multiple"&&` sur ${zt.length}`))),t.createElement("div",{className:Me==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"},zt.map(U=>{const de=Ty[U.status]||It,Re=J5[U.status]||J5.pending,Ve=Array.isArray(U.images)&&U.images.length>0?U.images[0]:null,Qe=U._id||U.id;if(!Qe)return null;const Pt=S.has(Qe),q=pt.includes(Qe);return Me==="list"?t.createElement("div",{key:Qe,className:`bg-white rounded-xl border-2 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative ${Pt?"border-indigo-500 ring-2 ring-indigo-200":q?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-100"}`},t.createElement("div",{className:"flex flex-col sm:flex-row gap-4 p-4"},t.createElement("div",{className:"absolute top-4 left-4 z-30"},t.createElement("button",{type:"button",onClick:ue=>{ue.stopPropagation(),ue.preventDefault(),Qe&&we(Qe)},onMouseDown:ue=>{ue.stopPropagation(),ue.preventDefault()},className:`p-2 rounded-lg backdrop-blur-sm transition-all cursor-pointer ${Pt?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg":"bg-black/60 text-white hover:bg-black/80"}`,style:{pointerEvents:"auto"},"aria-label":Pt?"Dslectionner":"Slectionner"},Pt?t.createElement(Rf,{className:"w-4 h-4"}):t.createElement(Ey,{className:"w-4 h-4"}))),q&&t.createElement("div",{className:"absolute top-4 right-4 z-20"},t.createElement("div",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-yellow-400 to-yellow-500 text-white text-xs font-bold shadow-lg flex items-center gap-1"},t.createElement(rr,{className:"w-3 h-3"}),"Top")),t.createElement("div",{className:"relative w-full sm:w-48 h-48 bg-gray-100 overflow-hidden rounded-lg flex-shrink-0"},Ve?t.createElement("img",{src:Ve,alt:U.title,className:"w-full h-full object-cover",loading:"lazy"}):t.createElement("div",{className:"w-full h-full flex items-center justify-center"},t.createElement(rl,{className:"w-12 h-12 text-gray-400"})),t.createElement("div",{className:"absolute top-2 right-2"},t.createElement("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-lg ${Re.badge} text-white shadow-lg backdrop-blur-sm`},t.createElement(de,{className:"w-3 h-3"}),t.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},Ql[U.status]||U.status))),U.images?.length>1&&t.createElement("div",{className:"absolute top-2 left-2"},t.createElement("div",{className:"px-2 py-1 rounded-lg bg-black/50 backdrop-blur-sm text-white text-xs font-bold"},U.images.length," photo",U.images.length>1?"s":""))),t.createElement("div",{className:"flex-1 flex flex-col gap-3 pt-8 sm:pt-0"},t.createElement("div",{className:"flex-1"},t.createElement("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2"},U.title),t.createElement("div",{className:"flex items-baseline gap-2 mb-3"},t.createElement("span",{className:"text-2xl font-black text-indigo-600"},Jl(U.price)),U.priceBeforeDiscount&&U.priceBeforeDiscount>U.price&&t.createElement("span",{className:"text-sm text-gray-400 line-through"},Jl(U.priceBeforeDiscount))),t.createElement("div",{className:`rounded-lg border p-2 mb-3 ${Re.card}`},t.createElement("p",{className:"text-xs font-medium leading-relaxed"},Z5[U.status]||"Statut en cours de mise  jour.")),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3"},U.category&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(wt,{className:"w-3 h-3"}),t.createElement("span",{className:"capitalize"},U.category)),U.createdAt&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(Wn,{className:"w-3 h-3"}),t.createElement("span",null,If(U.createdAt))))),t.createElement("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-100"},U.status==="approved"&&t.createElement(be,{to:or(U),...r,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-semibold hover:bg-indigo-100 transition-all"},t.createElement(Jn,{className:"w-4 h-4"}),"Voir"),t.createElement("button",{type:"button",onClick:()=>{re({id:Qe,title:U.title})},className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-purple-200 bg-purple-50 text-purple-700 text-sm font-semibold hover:bg-purple-100 transition-all"},t.createElement(Gn,{className:"w-4 h-4"}),"Analytics"),t.createElement("button",{type:"button",onClick:()=>{f(U),m(!0)},className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white text-gray-700 text-sm font-semibold hover:bg-gray-50 transition-all"},t.createElement(hu,{className:"w-4 h-4"}),"Modifier"),U.status!=="disabled"?t.createElement("button",{onClick:()=>ct(U.slug||U._id,"disable"),disabled:x===U._id,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-red-200 bg-red-50 text-red-700 text-sm font-semibold hover:bg-red-100 transition-all disabled:opacity-50",type:"button"},t.createElement(xp,{className:"w-4 h-4"}),"Dsactiver"):t.createElement("button",{onClick:()=>ct(U.slug||U._id,"enable"),disabled:x===U._id,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold hover:bg-emerald-100 transition-all disabled:opacity-50",type:"button"},t.createElement(vy,{className:"w-4 h-4"}),"Ractiver")),U.status!=="disabled"&&t.createElement("div",{className:"pt-2 border-t border-gray-100"},t.createElement(Y5,{product:U,onSubmitted:$e}))))):t.createElement("div",{key:Qe,className:`bg-white rounded-2xl border-2 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative ${Pt?"border-indigo-500 ring-2 ring-indigo-200":q?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-100"}`},q&&t.createElement("div",{className:"absolute top-3 right-3 z-20"},t.createElement("div",{className:"px-2 py-1 rounded-lg bg-gradient-to-r from-yellow-400 to-yellow-500 text-white text-xs font-bold shadow-lg flex items-center gap-1"},t.createElement(rr,{className:"w-3 h-3"}),"Top")),t.createElement("div",{className:"absolute top-3 left-3 z-30"},t.createElement("button",{type:"button",onClick:ue=>{ue.stopPropagation(),ue.preventDefault(),Qe&&we(Qe)},onMouseDown:ue=>{ue.stopPropagation(),ue.preventDefault()},className:`p-2.5 rounded-lg backdrop-blur-sm transition-all cursor-pointer ${Pt?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg":"bg-black/60 text-white hover:bg-black/80"}`,style:{pointerEvents:"auto"},"aria-label":Pt?"Dslectionner":"Slectionner"},Pt?t.createElement(Rf,{className:"w-4 h-4"}):t.createElement(Ey,{className:"w-4 h-4"}))),t.createElement("div",{className:"relative aspect-square bg-gray-100 overflow-hidden"},Ve?t.createElement("img",{src:Ve,alt:U.title,className:"w-full h-full object-cover",loading:"lazy"}):t.createElement("div",{className:"w-full h-full flex items-center justify-center"},t.createElement(rl,{className:"w-12 h-12 text-gray-400"})),t.createElement("div",{className:"absolute top-3 right-3"},t.createElement("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${Re.badge} text-white shadow-lg backdrop-blur-sm`},t.createElement(de,{className:"w-3.5 h-3.5"}),t.createElement("span",{className:"text-xs font-bold uppercase tracking-wide"},Ql[U.status]||U.status))),U.images?.length>1&&t.createElement("div",{className:"absolute top-3 left-3"},t.createElement("div",{className:"px-2 py-1 rounded-lg bg-black/50 backdrop-blur-sm text-white text-xs font-bold"},U.images.length," photo",U.images.length>1?"s":""))),t.createElement("div",{className:"p-5 space-y-4"},t.createElement("div",null,t.createElement("h3",{className:"font-bold text-gray-900 line-clamp-2 mb-2 min-h-[2.5rem]"},U.title),t.createElement("div",{className:"flex items-baseline gap-2"},t.createElement("span",{className:"text-xl font-black text-indigo-600"},Jl(U.price)),U.priceBeforeDiscount&&U.priceBeforeDiscount>U.price&&t.createElement("span",{className:"text-sm text-gray-400 line-through"},Jl(U.priceBeforeDiscount)))),t.createElement("div",{className:`rounded-xl border p-3 ${Re.card}`},t.createElement("p",{className:"text-xs font-medium leading-relaxed"},Z5[U.status]||"Statut en cours de mise  jour.")),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t border-gray-100"},U.category&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(wt,{className:"w-3 h-3"}),t.createElement("span",{className:"capitalize"},U.category)),U.createdAt&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(Wn,{className:"w-3 h-3"}),t.createElement("span",null,If(U.createdAt)))),t.createElement("div",{className:"flex flex-wrap gap-2 pt-2"},U.status==="approved"&&t.createElement(be,{to:or(U),...r,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-indigo-200 bg-indigo-50 text-indigo-700 text-sm font-semibold hover:bg-indigo-100 transition-all"},t.createElement(Jn,{className:"w-4 h-4"}),"Voir"),t.createElement("button",{type:"button",onClick:()=>{re({id:Qe,title:U.title})},className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-purple-200 bg-purple-50 text-purple-700 text-sm font-semibold hover:bg-purple-100 transition-all"},t.createElement(Gn,{className:"w-4 h-4"}),"Analytics"),t.createElement("button",{type:"button",onClick:()=>{f(U),m(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-gray-200 bg-white text-gray-700 text-sm font-semibold hover:bg-gray-50 transition-all"},t.createElement(hu,{className:"w-4 h-4"}),"Modifier"),U.status!=="disabled"?t.createElement("button",{onClick:()=>ct(U.slug||U._id,"disable"),disabled:x===U._id,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-red-200 bg-red-50 text-red-700 text-sm font-semibold hover:bg-red-100 transition-all disabled:opacity-50",type:"button"},t.createElement(xp,{className:"w-4 h-4"}),"Dsactiver"):t.createElement("button",{onClick:()=>ct(U.slug||U._id,"enable"),disabled:x===U._id,className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold hover:bg-emerald-100 transition-all disabled:opacity-50",type:"button"},t.createElement(vy,{className:"w-4 h-4"}),"Ractiver")),U.status!=="disabled"&&t.createElement("div",{className:"pt-2 border-t border-gray-100"},t.createElement(Y5,{product:U,onSubmitted:$e}))))})),Lt>1&&t.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("p",{className:"text-sm text-gray-600"},"Affichage ",t.createElement("span",{className:"font-bold text-gray-900"},nr)," -"," ",t.createElement("span",{className:"font-bold text-gray-900"},Bt)," sur"," ",t.createElement("span",{className:"font-bold text-gray-900"},ut.length)," annonce",ut.length>1?"s":""),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>xt(y-1),disabled:y===1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all inline-flex items-center gap-2"},t.createElement(Cr,{className:"w-4 h-4"}),"Prcdent"),t.createElement("div",{className:"flex items-center gap-2 px-4"},t.createElement("span",{className:"text-sm font-medium text-gray-700"},"Page ",t.createElement("span",{className:"font-bold text-gray-900"},y)," sur"," ",t.createElement("span",{className:"font-bold text-gray-900"},Lt))),t.createElement("button",{type:"button",onClick:()=>xt(y+1),disabled:y===Lt,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all inline-flex items-center gap-2"},"Suivant",t.createElement(qO,{className:"w-4 h-4"})))))),u&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:nt}),t.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:U=>U.stopPropagation()},t.createElement("div",{className:"bg-indigo-600 text-white px-6 py-5"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},p?t.createElement(hu,{className:"w-6 h-6"}):t.createElement(al,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},p?"Modification":"Nouvelle annonce"),t.createElement("h3",{className:"text-xl font-bold mt-1"},p?"Modifier une annonce":"Publier une annonce"))),t.createElement("button",{type:"button",onClick:nt,className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},t.createElement(_t,{size:20})))),t.createElement("div",{className:"flex-1 overflow-y-auto p-6"},t.createElement(Vq,{initialValues:p,productId:p?._id,onCreated:()=>{$e(),nt(),e("Annonce cre avec succs !",{variant:"success"})},onUpdated:()=>{$e(),nt(),e("Annonce modifie avec succs !",{variant:"success"})}})))),oe&&t.createElement(Hq,{productId:oe.id,productTitle:oe.title,onClose:()=>re(null)}))}function vM(e){var r,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(a=vM(e[r]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function lr(){for(var e,r,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(r=vM(e))&&(n&&(n+=" "),n+=r);return n}var Oy,e4;function yn(){if(e4)return Oy;e4=1;var e=Array.isArray;return Oy=e,Oy}var My,t4;function EM(){if(t4)return My;t4=1;var e=typeof Tf=="object"&&Tf&&Tf.Object===Object&&Tf;return My=e,My}var jy,r4;function Gs(){if(r4)return jy;r4=1;var e=EM(),r=typeof self=="object"&&self&&self.Object===Object&&self,a=e||r||Function("return this")();return jy=a,jy}var Ry,a4;function vm(){if(a4)return Ry;a4=1;var e=Gs(),r=e.Symbol;return Ry=r,Ry}var $y,n4;function Gq(){if(n4)return $y;n4=1;var e=vm(),r=Object.prototype,a=r.hasOwnProperty,n=r.toString,s=e?e.toStringTag:void 0;function i(o){var d=a.call(o,s),u=o[s];try{o[s]=void 0;var m=!0}catch{}var p=n.call(o);return m&&(d?o[s]=u:delete o[s]),p}return $y=i,$y}var Ly,s4;function Kq(){if(s4)return Ly;s4=1;var e=Object.prototype,r=e.toString;function a(n){return r.call(n)}return Ly=a,Ly}var Iy,i4;function ki(){if(i4)return Iy;i4=1;var e=vm(),r=Gq(),a=Kq(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(d){return d==null?d===void 0?s:n:i&&i in Object(d)?r(d):a(d)}return Iy=o,Iy}var Dy,o4;function Ci(){if(o4)return Dy;o4=1;function e(r){return r!=null&&typeof r=="object"}return Dy=e,Dy}var Fy,l4;function td(){if(l4)return Fy;l4=1;var e=ki(),r=Ci(),a="[object Symbol]";function n(s){return typeof s=="symbol"||r(s)&&e(s)==a}return Fy=n,Fy}var zy,c4;function fN(){if(c4)return zy;c4=1;var e=yn(),r=td(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||r(i)?!0:n.test(i)||!a.test(i)||o!=null&&i in Object(o)}return zy=s,zy}var By,d4;function ho(){if(d4)return By;d4=1;function e(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}return By=e,By}var qy,u4;function pN(){if(u4)return qy;u4=1;var e=ki(),r=ho(),a="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(d){if(!r(d))return!1;var u=e(d);return u==n||u==s||u==a||u==i}return qy=o,qy}var Uy,m4;function Xq(){if(m4)return Uy;m4=1;var e=Gs(),r=e["__core-js_shared__"];return Uy=r,Uy}var Vy,f4;function Yq(){if(f4)return Vy;f4=1;var e=Xq(),r=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function a(n){return!!r&&r in n}return Vy=a,Vy}var Hy,p4;function wM(){if(p4)return Hy;p4=1;var e=Function.prototype,r=e.toString;function a(n){if(n!=null){try{return r.call(n)}catch{}try{return n+""}catch{}}return""}return Hy=a,Hy}var Wy,g4;function Qq(){if(g4)return Wy;g4=1;var e=pN(),r=Yq(),a=ho(),n=wM(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,d=Object.prototype,u=o.toString,m=d.hasOwnProperty,p=RegExp("^"+u.call(m).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(y){if(!a(y)||r(y))return!1;var b=e(y)?p:i;return b.test(n(y))}return Wy=f,Wy}var Gy,h4;function Jq(){if(h4)return Gy;h4=1;function e(r,a){return r?.[a]}return Gy=e,Gy}var Ky,y4;function El(){if(y4)return Ky;y4=1;var e=Qq(),r=Jq();function a(n,s){var i=r(n,s);return e(i)?i:void 0}return Ky=a,Ky}var Xy,b4;function Z0(){if(b4)return Xy;b4=1;var e=El(),r=e(Object,"create");return Xy=r,Xy}var Yy,x4;function Zq(){if(x4)return Yy;x4=1;var e=Z0();function r(){this.__data__=e?e(null):{},this.size=0}return Yy=r,Yy}var Qy,v4;function eU(){if(v4)return Qy;v4=1;function e(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}return Qy=e,Qy}var Jy,E4;function tU(){if(E4)return Jy;E4=1;var e=Z0(),r="__lodash_hash_undefined__",a=Object.prototype,n=a.hasOwnProperty;function s(i){var o=this.__data__;if(e){var d=o[i];return d===r?void 0:d}return n.call(o,i)?o[i]:void 0}return Jy=s,Jy}var Zy,w4;function rU(){if(w4)return Zy;w4=1;var e=Z0(),r=Object.prototype,a=r.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:a.call(i,s)}return Zy=n,Zy}var eb,N4;function aU(){if(N4)return eb;N4=1;var e=Z0(),r="__lodash_hash_undefined__";function a(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?r:s,this}return eb=a,eb}var tb,S4;function nU(){if(S4)return tb;S4=1;var e=Zq(),r=eU(),a=tU(),n=rU(),s=aU();function i(o){var d=-1,u=o==null?0:o.length;for(this.clear();++d<u;){var m=o[d];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=n,i.prototype.set=s,tb=i,tb}var rb,k4;function sU(){if(k4)return rb;k4=1;function e(){this.__data__=[],this.size=0}return rb=e,rb}var ab,C4;function gN(){if(C4)return ab;C4=1;function e(r,a){return r===a||r!==r&&a!==a}return ab=e,ab}var nb,A4;function eg(){if(A4)return nb;A4=1;var e=gN();function r(a,n){for(var s=a.length;s--;)if(e(a[s][0],n))return s;return-1}return nb=r,nb}var sb,_4;function iU(){if(_4)return sb;_4=1;var e=eg(),r=Array.prototype,a=r.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var d=i.length-1;return o==d?i.pop():a.call(i,o,1),--this.size,!0}return sb=n,sb}var ib,P4;function oU(){if(P4)return ib;P4=1;var e=eg();function r(a){var n=this.__data__,s=e(n,a);return s<0?void 0:n[s][1]}return ib=r,ib}var ob,T4;function lU(){if(T4)return ob;T4=1;var e=eg();function r(a){return e(this.__data__,a)>-1}return ob=r,ob}var lb,O4;function cU(){if(O4)return lb;O4=1;var e=eg();function r(a,n){var s=this.__data__,i=e(s,a);return i<0?(++this.size,s.push([a,n])):s[i][1]=n,this}return lb=r,lb}var cb,M4;function tg(){if(M4)return cb;M4=1;var e=sU(),r=iU(),a=oU(),n=lU(),s=cU();function i(o){var d=-1,u=o==null?0:o.length;for(this.clear();++d<u;){var m=o[d];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=n,i.prototype.set=s,cb=i,cb}var db,j4;function hN(){if(j4)return db;j4=1;var e=El(),r=Gs(),a=e(r,"Map");return db=a,db}var ub,R4;function dU(){if(R4)return ub;R4=1;var e=nU(),r=tg(),a=hN();function n(){this.size=0,this.__data__={hash:new e,map:new(a||r),string:new e}}return ub=n,ub}var mb,$4;function uU(){if($4)return mb;$4=1;function e(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}return mb=e,mb}var fb,L4;function rg(){if(L4)return fb;L4=1;var e=uU();function r(a,n){var s=a.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return fb=r,fb}var pb,I4;function mU(){if(I4)return pb;I4=1;var e=rg();function r(a){var n=e(this,a).delete(a);return this.size-=n?1:0,n}return pb=r,pb}var gb,D4;function fU(){if(D4)return gb;D4=1;var e=rg();function r(a){return e(this,a).get(a)}return gb=r,gb}var hb,F4;function pU(){if(F4)return hb;F4=1;var e=rg();function r(a){return e(this,a).has(a)}return hb=r,hb}var yb,z4;function gU(){if(z4)return yb;z4=1;var e=rg();function r(a,n){var s=e(this,a),i=s.size;return s.set(a,n),this.size+=s.size==i?0:1,this}return yb=r,yb}var bb,B4;function yN(){if(B4)return bb;B4=1;var e=dU(),r=mU(),a=fU(),n=pU(),s=gU();function i(o){var d=-1,u=o==null?0:o.length;for(this.clear();++d<u;){var m=o[d];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=n,i.prototype.set=s,bb=i,bb}var xb,q4;function NM(){if(q4)return xb;q4=1;var e=yN(),r="Expected a function";function a(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(r);var i=function(){var o=arguments,d=s?s.apply(this,o):o[0],u=i.cache;if(u.has(d))return u.get(d);var m=n.apply(this,o);return i.cache=u.set(d,m)||u,m};return i.cache=new(a.Cache||e),i}return a.Cache=e,xb=a,xb}var vb,U4;function hU(){if(U4)return vb;U4=1;var e=NM(),r=500;function a(n){var s=e(n,function(o){return i.size===r&&i.clear(),o}),i=s.cache;return s}return vb=a,vb}var Eb,V4;function yU(){if(V4)return Eb;V4=1;var e=hU(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(r,function(o,d,u,m){i.push(u?m.replace(a,"$1"):d||o)}),i});return Eb=n,Eb}var wb,H4;function bN(){if(H4)return wb;H4=1;function e(r,a){for(var n=-1,s=r==null?0:r.length,i=Array(s);++n<s;)i[n]=a(r[n],n,r);return i}return wb=e,wb}var Nb,W4;function bU(){if(W4)return Nb;W4=1;var e=vm(),r=bN(),a=yn(),n=td(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(d){if(typeof d=="string")return d;if(a(d))return r(d,o)+"";if(n(d))return i?i.call(d):"";var u=d+"";return u=="0"&&1/d==-1/0?"-0":u}return Nb=o,Nb}var Sb,G4;function SM(){if(G4)return Sb;G4=1;var e=bU();function r(a){return a==null?"":e(a)}return Sb=r,Sb}var kb,K4;function kM(){if(K4)return kb;K4=1;var e=yn(),r=fN(),a=yU(),n=SM();function s(i,o){return e(i)?i:r(i,o)?[i]:a(n(i))}return kb=s,kb}var Cb,X4;function ag(){if(X4)return Cb;X4=1;var e=td();function r(a){if(typeof a=="string"||e(a))return a;var n=a+"";return n=="0"&&1/a==-1/0?"-0":n}return Cb=r,Cb}var Ab,Y4;function xN(){if(Y4)return Ab;Y4=1;var e=kM(),r=ag();function a(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[r(s[i++])];return i&&i==o?n:void 0}return Ab=a,Ab}var _b,Q4;function CM(){if(Q4)return _b;Q4=1;var e=xN();function r(a,n,s){var i=a==null?void 0:e(a,n);return i===void 0?s:i}return _b=r,_b}var xU=CM();const Yn=Pr(xU);var Pb,J4;function vU(){if(J4)return Pb;J4=1;function e(r){return r==null}return Pb=e,Pb}var EU=vU();const Xt=Pr(EU);var Tb,Z4;function wU(){if(Z4)return Tb;Z4=1;var e=ki(),r=yn(),a=Ci(),n="[object String]";function s(i){return typeof i=="string"||!r(i)&&a(i)&&e(i)==n}return Tb=s,Tb}var NU=wU();const ul=Pr(NU);var SU=pN();const Wt=Pr(SU);var kU=ho();const rd=Pr(kU);var Ob={exports:{}},hr={};var eC;function CU(){if(eC)return hr;eC=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case e:switch(x=x.type,x){case a:case s:case n:case m:case p:return x;default:switch(x=x&&x.$$typeof,x){case d:case o:case u:case y:case f:case i:return x;default:return N}}case r:return N}}}return hr.ContextConsumer=o,hr.ContextProvider=i,hr.Element=e,hr.ForwardRef=u,hr.Fragment=a,hr.Lazy=y,hr.Memo=f,hr.Portal=r,hr.Profiler=s,hr.StrictMode=n,hr.Suspense=m,hr.SuspenseList=p,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(x){return w(x)===o},hr.isContextProvider=function(x){return w(x)===i},hr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},hr.isForwardRef=function(x){return w(x)===u},hr.isFragment=function(x){return w(x)===a},hr.isLazy=function(x){return w(x)===y},hr.isMemo=function(x){return w(x)===f},hr.isPortal=function(x){return w(x)===r},hr.isProfiler=function(x){return w(x)===s},hr.isStrictMode=function(x){return w(x)===n},hr.isSuspense=function(x){return w(x)===m},hr.isSuspenseList=function(x){return w(x)===p},hr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===a||x===s||x===n||x===m||x===p||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===f||x.$$typeof===i||x.$$typeof===o||x.$$typeof===u||x.$$typeof===E||x.getModuleId!==void 0)},hr.typeOf=w,hr}var tC;function AU(){return tC||(tC=1,Ob.exports=CU()),Ob.exports}var _U=AU(),Mb,rC;function AM(){if(rC)return Mb;rC=1;var e=ki(),r=Ci(),a="[object Number]";function n(s){return typeof s=="number"||r(s)&&e(s)==a}return Mb=n,Mb}var jb,aC;function PU(){if(aC)return jb;aC=1;var e=AM();function r(a){return e(a)&&a!=+a}return jb=r,jb}var TU=PU();const Em=Pr(TU);var OU=AM();const MU=Pr(OU);var xs=function(r){return r===0?0:r>0?1:-1},Xo=function(r){return ul(r)&&r.indexOf("%")===r.length-1},Xe=function(r){return MU(r)&&!Em(r)},jU=function(r){return Xt(r)},ya=function(r){return Xe(r)||ul(r)},RU=0,wm=function(r){var a=++RU;return"".concat(r||"").concat(a)},ml=function(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(r)&&!ul(r))return n;var i;if(Xo(r)){var o=r.indexOf("%");i=a*parseFloat(r.slice(0,o))/100}else i=+r;return Em(i)&&(i=n),s&&i>a&&(i=a),i},Zi=function(r){if(!r)return null;var a=Object.keys(r);return a&&a.length?r[a[0]]:null},$U=function(r){if(!Array.isArray(r))return!1;for(var a=r.length,n={},s=0;s<a;s++)if(!n[r[s]])n[r[s]]=!0;else return!0;return!1},gs=function(r,a){return Xe(r)&&Xe(a)?function(n){return r+n*(a-r)}:function(){return a}};function zp(e,r,a){return!e||!e.length?null:e.find(function(n){return n&&(typeof r=="function"?r(n):Yn(n,r))===a})}var LU=function(r,a){return Xe(r)&&Xe(a)?r-a:ul(r)&&ul(a)?r.localeCompare(a):r instanceof Date&&a instanceof Date?r.getTime()-a.getTime():String(r).localeCompare(String(a))};function yc(e,r){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(r,a)||e[a]!==r[a]))return!1;for(var n in r)if({}.hasOwnProperty.call(r,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function xw(e){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xw(e)}var IU=["viewBox","children"],DU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nC=["points","pathLength"],Rb={svg:IU,polygon:nC,polyline:nC},vN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bp=function(r,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(h.isValidElement(r)&&(n=r.props),!rd(n))return null;var s={};return Object.keys(n).forEach(function(i){vN.includes(i)&&(s[i]=a||function(o){return n[i](n,o)})}),s},FU=function(r,a,n){return function(s){return r(a,n,s),null}},qp=function(r,a,n){if(!rd(r)||xw(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(i){var o=r[i];vN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=FU(o,a,n))}),s},zU=["children"],BU=["children"];function sC(e,r){if(e==null)return{};var a=qU(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qU(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vw(e)}var iC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fi=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},oC=null,$b=null,EN=function e(r){if(r===oC&&Array.isArray($b))return $b;var a=[];return h.Children.forEach(r,function(n){Xt(n)||(_U.isFragment(n)?a=a.concat(e(n.props.children)):a.push(n))}),$b=a,oC=r,a};function Qn(e,r){var a=[],n=[];return Array.isArray(r)?n=r.map(function(s){return fi(s)}):n=[fi(r)],EN(e).forEach(function(s){var i=Yn(s,"type.displayName")||Yn(s,"type.name");n.indexOf(i)!==-1&&a.push(s)}),a}function Sn(e,r){var a=Qn(e,r);return a&&a[0]}var lC=function(r){if(!r||!r.props)return!1;var a=r.props,n=a.width,s=a.height;return!(!Xe(n)||n<=0||!Xe(s)||s<=0)},UU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VU=function(r){return r&&r.type&&ul(r.type)&&UU.indexOf(r.type)>=0},HU=function(r){return r&&vw(r)==="object"&&"clipDot"in r},WU=function(r,a,n,s){var i,o=(i=Rb?.[s])!==null&&i!==void 0?i:[];return a.startsWith("data-")||!Wt(r)&&(s&&o.includes(a)||DU.includes(a))||n&&vN.includes(a)},ar=function(r,a,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(h.isValidElement(r)&&(s=r.props),!rd(s))return null;var i={};return Object.keys(s).forEach(function(o){var d;WU((d=s)===null||d===void 0?void 0:d[o],o,a,n)&&(i[o]=s[o])}),i},Ew=function e(r,a){if(r===a)return!0;var n=h.Children.count(r);if(n!==h.Children.count(a))return!1;if(n===0)return!0;if(n===1)return cC(Array.isArray(r)?r[0]:r,Array.isArray(a)?a[0]:a);for(var s=0;s<n;s++){var i=r[s],o=a[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!cC(i,o))return!1}return!0},cC=function(r,a){if(Xt(r)&&Xt(a))return!0;if(!Xt(r)&&!Xt(a)){var n=r.props||{},s=n.children,i=sC(n,zU),o=a.props||{},d=o.children,u=sC(o,BU);return s&&d?yc(i,u)&&Ew(s,d):!s&&!d?yc(i,u):!1}return!1},dC=function(r,a){var n=[],s={};return EN(r).forEach(function(i,o){if(VU(i))n.push(i);else if(i){var d=fi(i.type),u=a[d]||{},m=u.handler,p=u.once;if(m&&(!p||!s[d])){var f=m(i,d,o);n.push(f),s[d]=!0}}}),n},GU=function(r){var a=r&&r.type;return a&&iC[a]?iC[a]:null},KU=function(r,a){return EN(a).indexOf(r)},XU=["children","width","height","viewBox","className","style","title","desc"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ww.apply(this,arguments)}function YU(e,r){if(e==null)return{};var a=QU(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QU(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function Nw(e){var r=e.children,a=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,d=e.title,u=e.desc,m=YU(e,XU),p=s||{width:a,height:n,x:0,y:0},f=lr("recharts-surface",i);return t.createElement("svg",ww({},ar(m,!0,"svg"),{className:f,width:a,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),t.createElement("title",null,d),t.createElement("desc",null,u),r)}var JU=["children","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sw.apply(this,arguments)}function ZU(e,r){if(e==null)return{};var a=eV(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eV(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}var aa=t.forwardRef(function(e,r){var a=e.children,n=e.className,s=ZU(e,JU),i=lr("recharts-layer",n);return t.createElement("g",Sw({className:i},ar(s,!0),{ref:r}),a)}),pi=function(r,a){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Lb,uC;function tV(){if(uC)return Lb;uC=1;function e(r,a,n){var s=-1,i=r.length;a<0&&(a=-a>i?0:i+a),n=n>i?i:n,n<0&&(n+=i),i=a>n?0:n-a>>>0,a>>>=0;for(var o=Array(i);++s<i;)o[s]=r[s+a];return o}return Lb=e,Lb}var Ib,mC;function rV(){if(mC)return Ib;mC=1;var e=tV();function r(a,n,s){var i=a.length;return s=s===void 0?i:s,!n&&s>=i?a:e(a,n,s)}return Ib=r,Ib}var Db,fC;function _M(){if(fC)return Db;fC=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=r+a+n,i="\\ufe0e\\ufe0f",o="\\u200d",d=RegExp("["+o+e+s+i+"]");function u(m){return d.test(m)}return Db=u,Db}var Fb,pC;function aV(){if(pC)return Fb;pC=1;function e(r){return r.split("")}return Fb=e,Fb}var zb,gC;function nV(){if(gC)return zb;gC=1;var e="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=r+a+n,i="\\ufe0e\\ufe0f",o="["+e+"]",d="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",m="(?:"+d+"|"+u+")",p="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",E=m+"?",w="["+i+"]?",x="(?:"+b+"(?:"+[p,f,y].join("|")+")"+w+E+")*",N=w+E+x,S="(?:"+[p+d+"?",d,f,y,o].join("|")+")",k=RegExp(u+"(?="+u+")|"+S+N,"g");function P(C){return C.match(k)||[]}return zb=P,zb}var Bb,hC;function sV(){if(hC)return Bb;hC=1;var e=aV(),r=_M(),a=nV();function n(s){return r(s)?a(s):e(s)}return Bb=n,Bb}var qb,yC;function iV(){if(yC)return qb;yC=1;var e=rV(),r=_M(),a=sV(),n=SM();function s(i){return function(o){o=n(o);var d=r(o)?a(o):void 0,u=d?d[0]:o.charAt(0),m=d?e(d,1).join(""):o.slice(1);return u[i]()+m}}return qb=s,qb}var Ub,bC;function oV(){if(bC)return Ub;bC=1;var e=iV(),r=e("toUpperCase");return Ub=r,Ub}var lV=oV();const ng=Pr(lV);function jr(e){return function(){return e}}const PM=Math.cos,Up=Math.sin,ks=Math.sqrt,Vp=Math.PI,sg=2*Vp,kw=Math.PI,Cw=2*kw,Vo=1e-6,cV=Cw-Vo;function TM(e){this._+=e[0];for(let r=1,a=e.length;r<a;++r)this._+=arguments[r]+e[r]}function dV(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return TM;const a=10**r;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*a)/a+n[s]}}class uV{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?TM:dV(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,n,s){this._append`Q${+r},${+a},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(r,a,n,s,i,o){this._append`C${+r},${+a},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(r,a,n,s,i){if(r=+r,a=+a,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,d=this._y1,u=n-r,m=s-a,p=o-r,f=d-a,y=p*p+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(y>Vo)if(!(Math.abs(f*u-m*p)>Vo)||!i)this._append`L${this._x1=r},${this._y1=a}`;else{let b=n-o,E=s-d,w=u*u+m*m,x=b*b+E*E,N=Math.sqrt(w),S=Math.sqrt(y),k=i*Math.tan((kw-Math.acos((w+y-x)/(2*N*S)))/2),P=k/S,C=k/N;Math.abs(P-1)>Vo&&this._append`L${r+P*p},${a+P*f}`,this._append`A${i},${i},0,0,${+(f*b>p*E)},${this._x1=r+C*u},${this._y1=a+C*m}`}}arc(r,a,n,s,i,o){if(r=+r,a=+a,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),u=n*Math.sin(s),m=r+d,p=a+u,f=1^o,y=o?s-i:i-s;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Vo||Math.abs(this._y1-p)>Vo)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%Cw+Cw),y>cV?this._append`A${n},${n},0,1,${f},${r-d},${a-u}A${n},${n},0,1,${f},${this._x1=m},${this._y1=p}`:y>Vo&&this._append`A${n},${n},0,${+(y>=kw)},${f},${this._x1=r+n*Math.cos(i)},${this._y1=a+n*Math.sin(i)}`)}rect(r,a,n,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function wN(e){let r=3;return e.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const n=Math.floor(a);if(!(n>=0))throw new RangeError(`invalid digits: ${a}`);r=n}return e},()=>new uV(r)}function NN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OM(e){this._context=e}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function ig(e){return new OM(e)}function MM(e){return e[0]}function jM(e){return e[1]}function RM(e,r){var a=jr(!0),n=null,s=ig,i=null,o=wN(d);e=typeof e=="function"?e:e===void 0?MM:jr(e),r=typeof r=="function"?r:r===void 0?jM:jr(r);function d(u){var m,p=(u=NN(u)).length,f,y=!1,b;for(n==null&&(i=s(b=o())),m=0;m<=p;++m)!(m<p&&a(f=u[m],m,u))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(f,m,u),+r(f,m,u));if(b)return i=null,b+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:jr(+u),d):e},d.y=function(u){return arguments.length?(r=typeof u=="function"?u:jr(+u),d):r},d.defined=function(u){return arguments.length?(a=typeof u=="function"?u:jr(!!u),d):a},d.curve=function(u){return arguments.length?(s=u,n!=null&&(i=s(n)),d):s},d.context=function(u){return arguments.length?(u==null?n=i=null:i=s(n=u),d):n},d}function Df(e,r,a){var n=null,s=jr(!0),i=null,o=ig,d=null,u=wN(m);e=typeof e=="function"?e:e===void 0?MM:jr(+e),r=typeof r=="function"?r:jr(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?jM:jr(+a);function m(f){var y,b,E,w=(f=NN(f)).length,x,N=!1,S,k=new Array(w),P=new Array(w);for(i==null&&(d=o(S=u())),y=0;y<=w;++y){if(!(y<w&&s(x=f[y],y,f))===N)if(N=!N)b=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=y-1;E>=b;--E)d.point(k[E],P[E]);d.lineEnd(),d.areaEnd()}N&&(k[y]=+e(x,y,f),P[y]=+r(x,y,f),d.point(n?+n(x,y,f):k[y],a?+a(x,y,f):P[y]))}if(S)return d=null,S+""||null}function p(){return RM().defined(s).curve(o).context(i)}return m.x=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),n=null,m):e},m.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),m):e},m.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),m):n},m.y=function(f){return arguments.length?(r=typeof f=="function"?f:jr(+f),a=null,m):r},m.y0=function(f){return arguments.length?(r=typeof f=="function"?f:jr(+f),m):r},m.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:jr(+f),m):a},m.lineX0=m.lineY0=function(){return p().x(e).y(r)},m.lineY1=function(){return p().x(e).y(a)},m.lineX1=function(){return p().x(n).y(r)},m.defined=function(f){return arguments.length?(s=typeof f=="function"?f:jr(!!f),m):s},m.curve=function(f){return arguments.length?(o=f,i!=null&&(d=o(i)),m):o},m.context=function(f){return arguments.length?(f==null?i=d=null:d=o(i=f),m):i},m}class $M{constructor(r,a){this._context=r,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,a){switch(r=+r,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,a,r,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,r,this._y0,r,a);break}}this._x0=r,this._y0=a}}function mV(e){return new $M(e,!0)}function fV(e){return new $M(e,!1)}const SN={draw(e,r){const a=ks(r/Vp);e.moveTo(a,0),e.arc(0,0,a,0,sg)}},pV={draw(e,r){const a=ks(r/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},LM=ks(1/3),gV=LM*2,hV={draw(e,r){const a=ks(r/gV),n=a*LM;e.moveTo(0,-a),e.lineTo(n,0),e.lineTo(0,a),e.lineTo(-n,0),e.closePath()}},yV={draw(e,r){const a=ks(r),n=-a/2;e.rect(n,n,a,a)}},bV=.8908130915292852,IM=Up(Vp/10)/Up(7*Vp/10),xV=Up(sg/10)*IM,vV=-PM(sg/10)*IM,EV={draw(e,r){const a=ks(r*bV),n=xV*a,s=vV*a;e.moveTo(0,-a),e.lineTo(n,s);for(let i=1;i<5;++i){const o=sg*i/5,d=PM(o),u=Up(o);e.lineTo(u*a,-d*a),e.lineTo(d*n-u*s,u*n+d*s)}e.closePath()}},Vb=ks(3),wV={draw(e,r){const a=-ks(r/(Vb*3));e.moveTo(0,a*2),e.lineTo(-Vb*a,-a),e.lineTo(Vb*a,-a),e.closePath()}},zn=-.5,Bn=ks(3)/2,Aw=1/ks(12),NV=(Aw/2+1)*3,SV={draw(e,r){const a=ks(r/NV),n=a/2,s=a*Aw,i=n,o=a*Aw+a,d=-i,u=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(d,u),e.lineTo(zn*n-Bn*s,Bn*n+zn*s),e.lineTo(zn*i-Bn*o,Bn*i+zn*o),e.lineTo(zn*d-Bn*u,Bn*d+zn*u),e.lineTo(zn*n+Bn*s,zn*s-Bn*n),e.lineTo(zn*i+Bn*o,zn*o-Bn*i),e.lineTo(zn*d+Bn*u,zn*u-Bn*d),e.closePath()}};function kV(e,r){let a=null,n=wN(s);e=typeof e=="function"?e:jr(e||SN),r=typeof r=="function"?r:jr(r===void 0?64:+r);function s(){let i;if(a||(a=i=n()),e.apply(this,arguments).draw(a,+r.apply(this,arguments)),i)return a=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:jr(i),s):e},s.size=function(i){return arguments.length?(r=typeof i=="function"?i:jr(+i),s):r},s.context=function(i){return arguments.length?(a=i??null,s):a},s}function Hp(){}function Wp(e,r,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+a)/6)}function DM(e){this._context=e}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function CV(e){return new DM(e)}function FM(e){this._context=e}FM.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Wp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function AV(e){return new FM(e)}function zM(e){this._context=e}zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,n):this._context.moveTo(a,n);break;case 3:this._point=4;default:Wp(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _V(e){return new zM(e)}function BM(e){this._context=e}BM.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function PV(e){return new BM(e)}function xC(e){return e<0?-1:1}function vC(e,r,a){var n=e._x1-e._x0,s=r-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(a-e._y1)/(s||n<0&&-0),d=(i*s+o*n)/(n+s);return(xC(i)+xC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(d))||0}function EC(e,r){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-r)/2:r}function Hb(e,r,a){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,d=(i-n)/3;e._context.bezierCurveTo(n+d,s+d*r,i-d,o-d*a,i,o)}function Gp(e){this._context=e}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,EC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var a=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,EC(this,a=vC(this,e,r)),a);break;default:Hb(this,this._t0,a=vC(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=a}}};function qM(e){this._context=new UM(e)}(qM.prototype=Object.create(Gp.prototype)).point=function(e,r){Gp.prototype.point.call(this,r,e)};function UM(e){this._context=e}UM.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,a,n,s,i){this._context.bezierCurveTo(r,e,n,a,i,s)}};function TV(e){return new Gp(e)}function OV(e){return new qM(e)}function VM(e){this._context=e}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),a===2)this._context.lineTo(e[1],r[1]);else for(var n=wC(e),s=wC(r),i=0,o=1;o<a;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],r[o]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function wC(e){var r,a=e.length-1,n,s=new Array(a),i=new Array(a),o=new Array(a);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<a-1;++r)s[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(s[a-1]=2,i[a-1]=7,o[a-1]=8*e[a-1]+e[a],r=1;r<a;++r)n=s[r]/i[r-1],i[r]-=n,o[r]-=n*o[r-1];for(s[a-1]=o[a-1]/i[a-1],r=a-2;r>=0;--r)s[r]=(o[r]-s[r+1])/i[r];for(i[a-1]=(e[a]+s[a-1])/2,r=0;r<a-1;++r)i[r]=2*e[r+1]-s[r+1];return[s,i]}function MV(e){return new VM(e)}function og(e,r){this._context=e,this._t=r}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}break}}this._x=e,this._y=r}};function jV(e){return new og(e,.5)}function RV(e){return new og(e,0)}function $V(e){return new og(e,1)}function kc(e,r){if((o=e.length)>1)for(var a=1,n,s,i=e[r[0]],o,d=i.length;a<o;++a)for(s=i,i=e[r[a]],n=0;n<d;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function _w(e){for(var r=e.length,a=new Array(r);--r>=0;)a[r]=r;return a}function LV(e,r){return e[r]}function IV(e){const r=[];return r.key=e,r}function DV(){var e=jr([]),r=_w,a=kc,n=LV;function s(i){var o=Array.from(e.apply(this,arguments),IV),d,u=o.length,m=-1,p;for(const f of i)for(d=0,++m;d<u;++d)(o[d][m]=[0,+n(f,o[d].key,m,i)]).data=f;for(d=0,p=NN(r(o));d<u;++d)o[p[d]].index=d;return a(o,p),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:jr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:jr(+i),s):n},s.order=function(i){return arguments.length?(r=i==null?_w:typeof i=="function"?i:jr(Array.from(i)),s):r},s.offset=function(i){return arguments.length?(a=i??kc,s):a},s}function FV(e,r){if((n=e.length)>0){for(var a,n,s=0,i=e[0].length,o;s<i;++s){for(o=a=0;a<n;++a)o+=e[a][s][1]||0;if(o)for(a=0;a<n;++a)e[a][s][1]/=o}kc(e,r)}}function zV(e,r){if((s=e.length)>0){for(var a=0,n=e[r[0]],s,i=n.length;a<i;++a){for(var o=0,d=0;o<s;++o)d+=e[o][a][1]||0;n[a][1]+=n[a][0]=-d/2}kc(e,r)}}function BV(e,r){if(!(!((o=e.length)>0)||!((i=(s=e[r[0]]).length)>0))){for(var a=0,n=1,s,i,o;n<i;++n){for(var d=0,u=0,m=0;d<o;++d){for(var p=e[r[d]],f=p[n][1]||0,y=p[n-1][1]||0,b=(f-y)/2,E=0;E<d;++E){var w=e[r[E]],x=w[n][1]||0,N=w[n-1][1]||0;b+=x-N}u+=f,m+=b*f}s[n-1][1]+=s[n-1][0]=a,u&&(a-=m/u)}s[n-1][1]+=s[n-1][0]=a,kc(e,r)}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pu(e)}var qV=["type","size","sizeType"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pw.apply(this,arguments)}function NC(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function SC(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?NC(Object(a),!0).forEach(function(n){UV(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):NC(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function UV(e,r,a){return r=VV(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function VV(e){var r=HV(e,"string");return Pu(r)=="symbol"?r:r+""}function HV(e,r){if(Pu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function WV(e,r){if(e==null)return{};var a=GV(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GV(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}var HM={symbolCircle:SN,symbolCross:pV,symbolDiamond:hV,symbolSquare:yV,symbolStar:EV,symbolTriangle:wV,symbolWye:SV},KV=Math.PI/180,XV=function(r){var a="symbol".concat(ng(r));return HM[a]||SN},YV=function(r,a,n){if(a==="area")return r;switch(n){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*KV;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},QV=function(r,a){HM["symbol".concat(ng(r))]=a},kN=function(r){var a=r.type,n=a===void 0?"circle":a,s=r.size,i=s===void 0?64:s,o=r.sizeType,d=o===void 0?"area":o,u=WV(r,qV),m=SC(SC({},u),{},{type:n,size:i,sizeType:d}),p=function(){var x=XV(n),N=kV().type(x).size(YV(i,d,n));return N()},f=m.className,y=m.cx,b=m.cy,E=ar(m,!0);return y===+y&&b===+b&&i===+i?t.createElement("path",Pw({},E,{className:lr("recharts-symbols",f),transform:"translate(".concat(y,", ").concat(b,")"),d:p()})):null};kN.registerSymbol=QV;function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cc(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tw.apply(this,arguments)}function kC(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function JV(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?kC(Object(a),!0).forEach(function(n){Tu(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kC(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ZV(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function eH(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GM(n.key),n)}}function tH(e,r,a){return r&&eH(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rH(e,r,a){return r=Kp(r),aH(e,WM()?Reflect.construct(r,a||[],Kp(e).constructor):r.apply(e,a))}function aH(e,r){if(r&&(Cc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nH(e)}function nH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Kp(e)}function sH(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Ow(e,r)}function Ow(e,r){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ow(e,r)}function Tu(e,r,a){return r=GM(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function GM(e){var r=iH(e,"string");return Cc(r)=="symbol"?r:r+""}function iH(e,r){if(Cc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qn=32,CN=(function(e){function r(){return ZV(this,r),rH(this,r,arguments)}return sH(r,e),tH(r,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=qn/2,o=qn/6,d=qn/3,u=n.inactive?s:n.color;if(n.type==="plainline")return t.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:qn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return t.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(d,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*d,",").concat(i,`
            H`).concat(qn,"M").concat(2*d,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(d,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return t.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(qn/8,"h").concat(qn,"v").concat(qn*3/4,"h").concat(-qn,"z"),className:"recharts-legend-icon"});if(t.isValidElement(n.legendIcon)){var m=JV({},n);return delete m.legendIcon,t.cloneElement(n.legendIcon,m)}return t.createElement(kN,{fill:u,cx:i,cy:i,size:qn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,d=s.layout,u=s.formatter,m=s.inactiveColor,p={x:0,y:0,width:qn,height:qn},f={display:d==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,E){var w=b.formatter||u,x=lr(Tu(Tu({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=Wt(b.value)?null:b.value;pi(!Wt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=b.inactive?m:b.color;return t.createElement("li",Tw({className:x,style:f,key:"legend-item-".concat(E)},qp(n.props,b,E)),t.createElement(Nw,{width:o,height:o,viewBox:p,style:y},n.renderIcon(b)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w?w(N,b,E):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var d={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(h.PureComponent);Tu(CN,"displayName","Legend");Tu(CN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wb,CC;function oH(){if(CC)return Wb;CC=1;var e=tg();function r(){this.__data__=new e,this.size=0}return Wb=r,Wb}var Gb,AC;function lH(){if(AC)return Gb;AC=1;function e(r){var a=this.__data__,n=a.delete(r);return this.size=a.size,n}return Gb=e,Gb}var Kb,_C;function cH(){if(_C)return Kb;_C=1;function e(r){return this.__data__.get(r)}return Kb=e,Kb}var Xb,PC;function dH(){if(PC)return Xb;PC=1;function e(r){return this.__data__.has(r)}return Xb=e,Xb}var Yb,TC;function uH(){if(TC)return Yb;TC=1;var e=tg(),r=hN(),a=yN(),n=200;function s(i,o){var d=this.__data__;if(d instanceof e){var u=d.__data__;if(!r||u.length<n-1)return u.push([i,o]),this.size=++d.size,this;d=this.__data__=new a(u)}return d.set(i,o),this.size=d.size,this}return Yb=s,Yb}var Qb,OC;function KM(){if(OC)return Qb;OC=1;var e=tg(),r=oH(),a=lH(),n=cH(),s=dH(),i=uH();function o(d){var u=this.__data__=new e(d);this.size=u.size}return o.prototype.clear=r,o.prototype.delete=a,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,Qb=o,Qb}var Jb,MC;function mH(){if(MC)return Jb;MC=1;var e="__lodash_hash_undefined__";function r(a){return this.__data__.set(a,e),this}return Jb=r,Jb}var Zb,jC;function fH(){if(jC)return Zb;jC=1;function e(r){return this.__data__.has(r)}return Zb=e,Zb}var ex,RC;function XM(){if(RC)return ex;RC=1;var e=yN(),r=mH(),a=fH();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=r,n.prototype.has=a,ex=n,ex}var tx,$C;function YM(){if($C)return tx;$C=1;function e(r,a){for(var n=-1,s=r==null?0:r.length;++n<s;)if(a(r[n],n,r))return!0;return!1}return tx=e,tx}var rx,LC;function QM(){if(LC)return rx;LC=1;function e(r,a){return r.has(a)}return rx=e,rx}var ax,IC;function JM(){if(IC)return ax;IC=1;var e=XM(),r=YM(),a=QM(),n=1,s=2;function i(o,d,u,m,p,f){var y=u&n,b=o.length,E=d.length;if(b!=E&&!(y&&E>b))return!1;var w=f.get(o),x=f.get(d);if(w&&x)return w==d&&x==o;var N=-1,S=!0,k=u&s?new e:void 0;for(f.set(o,d),f.set(d,o);++N<b;){var P=o[N],C=d[N];if(m)var _=y?m(C,P,N,d,o,f):m(P,C,N,o,d,f);if(_!==void 0){if(_)continue;S=!1;break}if(k){if(!r(d,function(O,T){if(!a(k,T)&&(P===O||p(P,O,u,m,f)))return k.push(T)})){S=!1;break}}else if(!(P===C||p(P,C,u,m,f))){S=!1;break}}return f.delete(o),f.delete(d),S}return ax=i,ax}var nx,DC;function pH(){if(DC)return nx;DC=1;var e=Gs(),r=e.Uint8Array;return nx=r,nx}var sx,FC;function gH(){if(FC)return sx;FC=1;function e(r){var a=-1,n=Array(r.size);return r.forEach(function(s,i){n[++a]=[i,s]}),n}return sx=e,sx}var ix,zC;function AN(){if(zC)return ix;zC=1;function e(r){var a=-1,n=Array(r.size);return r.forEach(function(s){n[++a]=s}),n}return ix=e,ix}var ox,BC;function hH(){if(BC)return ox;BC=1;var e=vm(),r=pH(),a=gN(),n=JM(),s=gH(),i=AN(),o=1,d=2,u="[object Boolean]",m="[object Date]",p="[object Error]",f="[object Map]",y="[object Number]",b="[object RegExp]",E="[object Set]",w="[object String]",x="[object Symbol]",N="[object ArrayBuffer]",S="[object DataView]",k=e?e.prototype:void 0,P=k?k.valueOf:void 0;function C(_,O,T,R,D,j,L){switch(T){case S:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case N:return!(_.byteLength!=O.byteLength||!j(new r(_),new r(O)));case u:case m:case y:return a(+_,+O);case p:return _.name==O.name&&_.message==O.message;case b:case w:return _==O+"";case f:var K=s;case E:var W=R&o;if(K||(K=i),_.size!=O.size&&!W)return!1;var $=L.get(_);if($)return $==O;R|=d,L.set(_,O);var J=n(K(_),K(O),R,D,j,L);return L.delete(_),J;case x:if(P)return P.call(_)==P.call(O)}return!1}return ox=C,ox}var lx,qC;function ZM(){if(qC)return lx;qC=1;function e(r,a){for(var n=-1,s=a.length,i=r.length;++n<s;)r[i+n]=a[n];return r}return lx=e,lx}var cx,UC;function yH(){if(UC)return cx;UC=1;var e=ZM(),r=yn();function a(n,s,i){var o=s(n);return r(n)?o:e(o,i(n))}return cx=a,cx}var dx,VC;function bH(){if(VC)return dx;VC=1;function e(r,a){for(var n=-1,s=r==null?0:r.length,i=0,o=[];++n<s;){var d=r[n];a(d,n,r)&&(o[i++]=d)}return o}return dx=e,dx}var ux,HC;function xH(){if(HC)return ux;HC=1;function e(){return[]}return ux=e,ux}var mx,WC;function vH(){if(WC)return mx;WC=1;var e=bH(),r=xH(),a=Object.prototype,n=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(d){return n.call(o,d)}))}:r;return mx=i,mx}var fx,GC;function EH(){if(GC)return fx;GC=1;function e(r,a){for(var n=-1,s=Array(r);++n<r;)s[n]=a(n);return s}return fx=e,fx}var px,KC;function wH(){if(KC)return px;KC=1;var e=ki(),r=Ci(),a="[object Arguments]";function n(s){return r(s)&&e(s)==a}return px=n,px}var gx,XC;function _N(){if(XC)return gx;XC=1;var e=wH(),r=Ci(),a=Object.prototype,n=a.hasOwnProperty,s=a.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return r(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return gx=i,gx}var uu={exports:{}},hx,YC;function NH(){if(YC)return hx;YC=1;function e(){return!1}return hx=e,hx}uu.exports;var QC;function ej(){return QC||(QC=1,(function(e,r){var a=Gs(),n=NH(),s=r&&!r.nodeType&&r,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,d=o?a.Buffer:void 0,u=d?d.isBuffer:void 0,m=u||n;e.exports=m})(uu,uu.exports)),uu.exports}var yx,JC;function PN(){if(JC)return yx;JC=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function a(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&r.test(n))&&n>-1&&n%1==0&&n<s}return yx=a,yx}var bx,ZC;function TN(){if(ZC)return bx;ZC=1;var e=9007199254740991;function r(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=e}return bx=r,bx}var xx,eA;function SH(){if(eA)return xx;eA=1;var e=ki(),r=TN(),a=Ci(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",d="[object Error]",u="[object Function]",m="[object Map]",p="[object Number]",f="[object Object]",y="[object RegExp]",b="[object Set]",E="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",O="[object Uint8Array]",T="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",j={};j[S]=j[k]=j[P]=j[C]=j[_]=j[O]=j[T]=j[R]=j[D]=!0,j[n]=j[s]=j[x]=j[i]=j[N]=j[o]=j[d]=j[u]=j[m]=j[p]=j[f]=j[y]=j[b]=j[E]=j[w]=!1;function L(K){return a(K)&&r(K.length)&&!!j[e(K)]}return xx=L,xx}var vx,tA;function tj(){if(tA)return vx;tA=1;function e(r){return function(a){return r(a)}}return vx=e,vx}var mu={exports:{}};mu.exports;var rA;function kH(){return rA||(rA=1,(function(e,r){var a=EM(),n=r&&!r.nodeType&&r,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&a.process,d=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=d})(mu,mu.exports)),mu.exports}var Ex,aA;function rj(){if(aA)return Ex;aA=1;var e=SH(),r=tj(),a=kH(),n=a&&a.isTypedArray,s=n?r(n):e;return Ex=s,Ex}var wx,nA;function CH(){if(nA)return wx;nA=1;var e=EH(),r=_N(),a=yn(),n=ej(),s=PN(),i=rj(),o=Object.prototype,d=o.hasOwnProperty;function u(m,p){var f=a(m),y=!f&&r(m),b=!f&&!y&&n(m),E=!f&&!y&&!b&&i(m),w=f||y||b||E,x=w?e(m.length,String):[],N=x.length;for(var S in m)(p||d.call(m,S))&&!(w&&(S=="length"||b&&(S=="offset"||S=="parent")||E&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,N)))&&x.push(S);return x}return wx=u,wx}var Nx,sA;function AH(){if(sA)return Nx;sA=1;var e=Object.prototype;function r(a){var n=a&&a.constructor,s=typeof n=="function"&&n.prototype||e;return a===s}return Nx=r,Nx}var Sx,iA;function aj(){if(iA)return Sx;iA=1;function e(r,a){return function(n){return r(a(n))}}return Sx=e,Sx}var kx,oA;function _H(){if(oA)return kx;oA=1;var e=aj(),r=e(Object.keys,Object);return kx=r,kx}var Cx,lA;function PH(){if(lA)return Cx;lA=1;var e=AH(),r=_H(),a=Object.prototype,n=a.hasOwnProperty;function s(i){if(!e(i))return r(i);var o=[];for(var d in Object(i))n.call(i,d)&&d!="constructor"&&o.push(d);return o}return Cx=s,Cx}var Ax,cA;function Nm(){if(cA)return Ax;cA=1;var e=pN(),r=TN();function a(n){return n!=null&&r(n.length)&&!e(n)}return Ax=a,Ax}var _x,dA;function lg(){if(dA)return _x;dA=1;var e=CH(),r=PH(),a=Nm();function n(s){return a(s)?e(s):r(s)}return _x=n,_x}var Px,uA;function TH(){if(uA)return Px;uA=1;var e=yH(),r=vH(),a=lg();function n(s){return e(s,a,r)}return Px=n,Px}var Tx,mA;function OH(){if(mA)return Tx;mA=1;var e=TH(),r=1,a=Object.prototype,n=a.hasOwnProperty;function s(i,o,d,u,m,p){var f=d&r,y=e(i),b=y.length,E=e(o),w=E.length;if(b!=w&&!f)return!1;for(var x=b;x--;){var N=y[x];if(!(f?N in o:n.call(o,N)))return!1}var S=p.get(i),k=p.get(o);if(S&&k)return S==o&&k==i;var P=!0;p.set(i,o),p.set(o,i);for(var C=f;++x<b;){N=y[x];var _=i[N],O=o[N];if(u)var T=f?u(O,_,N,o,i,p):u(_,O,N,i,o,p);if(!(T===void 0?_===O||m(_,O,d,u,p):T)){P=!1;break}C||(C=N=="constructor")}if(P&&!C){var R=i.constructor,D=o.constructor;R!=D&&"constructor"in i&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof D=="function"&&D instanceof D)&&(P=!1)}return p.delete(i),p.delete(o),P}return Tx=s,Tx}var Ox,fA;function MH(){if(fA)return Ox;fA=1;var e=El(),r=Gs(),a=e(r,"DataView");return Ox=a,Ox}var Mx,pA;function jH(){if(pA)return Mx;pA=1;var e=El(),r=Gs(),a=e(r,"Promise");return Mx=a,Mx}var jx,gA;function nj(){if(gA)return jx;gA=1;var e=El(),r=Gs(),a=e(r,"Set");return jx=a,jx}var Rx,hA;function RH(){if(hA)return Rx;hA=1;var e=El(),r=Gs(),a=e(r,"WeakMap");return Rx=a,Rx}var $x,yA;function $H(){if(yA)return $x;yA=1;var e=MH(),r=hN(),a=jH(),n=nj(),s=RH(),i=ki(),o=wM(),d="[object Map]",u="[object Object]",m="[object Promise]",p="[object Set]",f="[object WeakMap]",y="[object DataView]",b=o(e),E=o(r),w=o(a),x=o(n),N=o(s),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=y||r&&S(new r)!=d||a&&S(a.resolve())!=m||n&&S(new n)!=p||s&&S(new s)!=f)&&(S=function(k){var P=i(k),C=P==u?k.constructor:void 0,_=C?o(C):"";if(_)switch(_){case b:return y;case E:return d;case w:return m;case x:return p;case N:return f}return P}),$x=S,$x}var Lx,bA;function LH(){if(bA)return Lx;bA=1;var e=KM(),r=JM(),a=hH(),n=OH(),s=$H(),i=yn(),o=ej(),d=rj(),u=1,m="[object Arguments]",p="[object Array]",f="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function E(w,x,N,S,k,P){var C=i(w),_=i(x),O=C?p:s(w),T=_?p:s(x);O=O==m?f:O,T=T==m?f:T;var R=O==f,D=T==f,j=O==T;if(j&&o(w)){if(!o(x))return!1;C=!0,R=!1}if(j&&!R)return P||(P=new e),C||d(w)?r(w,x,N,S,k,P):a(w,x,O,N,S,k,P);if(!(N&u)){var L=R&&b.call(w,"__wrapped__"),K=D&&b.call(x,"__wrapped__");if(L||K){var W=L?w.value():w,$=K?x.value():x;return P||(P=new e),k(W,$,N,S,P)}}return j?(P||(P=new e),n(w,x,N,S,k,P)):!1}return Lx=E,Lx}var Ix,xA;function ON(){if(xA)return Ix;xA=1;var e=LH(),r=Ci();function a(n,s,i,o,d){return n===s?!0:n==null||s==null||!r(n)&&!r(s)?n!==n&&s!==s:e(n,s,i,o,a,d)}return Ix=a,Ix}var Dx,vA;function IH(){if(vA)return Dx;vA=1;var e=KM(),r=ON(),a=1,n=2;function s(i,o,d,u){var m=d.length,p=m,f=!u;if(i==null)return!p;for(i=Object(i);m--;){var y=d[m];if(f&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++m<p;){y=d[m];var b=y[0],E=i[b],w=y[1];if(f&&y[2]){if(E===void 0&&!(b in i))return!1}else{var x=new e;if(u)var N=u(E,w,b,i,o,x);if(!(N===void 0?r(w,E,a|n,u,x):N))return!1}}return!0}return Dx=s,Dx}var Fx,EA;function sj(){if(EA)return Fx;EA=1;var e=ho();function r(a){return a===a&&!e(a)}return Fx=r,Fx}var zx,wA;function DH(){if(wA)return zx;wA=1;var e=sj(),r=lg();function a(n){for(var s=r(n),i=s.length;i--;){var o=s[i],d=n[o];s[i]=[o,d,e(d)]}return s}return zx=a,zx}var Bx,NA;function ij(){if(NA)return Bx;NA=1;function e(r,a){return function(n){return n==null?!1:n[r]===a&&(a!==void 0||r in Object(n))}}return Bx=e,Bx}var qx,SA;function FH(){if(SA)return qx;SA=1;var e=IH(),r=DH(),a=ij();function n(s){var i=r(s);return i.length==1&&i[0][2]?a(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return qx=n,qx}var Ux,kA;function zH(){if(kA)return Ux;kA=1;function e(r,a){return r!=null&&a in Object(r)}return Ux=e,Ux}var Vx,CA;function BH(){if(CA)return Vx;CA=1;var e=kM(),r=_N(),a=yn(),n=PN(),s=TN(),i=ag();function o(d,u,m){u=e(u,d);for(var p=-1,f=u.length,y=!1;++p<f;){var b=i(u[p]);if(!(y=d!=null&&m(d,b)))break;d=d[b]}return y||++p!=f?y:(f=d==null?0:d.length,!!f&&s(f)&&n(b,f)&&(a(d)||r(d)))}return Vx=o,Vx}var Hx,AA;function qH(){if(AA)return Hx;AA=1;var e=zH(),r=BH();function a(n,s){return n!=null&&r(n,s,e)}return Hx=a,Hx}var Wx,_A;function UH(){if(_A)return Wx;_A=1;var e=ON(),r=CM(),a=qH(),n=fN(),s=sj(),i=ij(),o=ag(),d=1,u=2;function m(p,f){return n(p)&&s(f)?i(o(p),f):function(y){var b=r(y,p);return b===void 0&&b===f?a(y,p):e(f,b,d|u)}}return Wx=m,Wx}var Gx,PA;function ad(){if(PA)return Gx;PA=1;function e(r){return r}return Gx=e,Gx}var Kx,TA;function VH(){if(TA)return Kx;TA=1;function e(r){return function(a){return a?.[r]}}return Kx=e,Kx}var Xx,OA;function HH(){if(OA)return Xx;OA=1;var e=xN();function r(a){return function(n){return e(n,a)}}return Xx=r,Xx}var Yx,MA;function WH(){if(MA)return Yx;MA=1;var e=VH(),r=HH(),a=fN(),n=ag();function s(i){return a(i)?e(n(i)):r(i)}return Yx=s,Yx}var Qx,jA;function yo(){if(jA)return Qx;jA=1;var e=FH(),r=UH(),a=ad(),n=yn(),s=WH();function i(o){return typeof o=="function"?o:o==null?a:typeof o=="object"?n(o)?r(o[0],o[1]):e(o):s(o)}return Qx=i,Qx}var Jx,RA;function oj(){if(RA)return Jx;RA=1;function e(r,a,n,s){for(var i=r.length,o=n+(s?1:-1);s?o--:++o<i;)if(a(r[o],o,r))return o;return-1}return Jx=e,Jx}var Zx,$A;function GH(){if($A)return Zx;$A=1;function e(r){return r!==r}return Zx=e,Zx}var ev,LA;function KH(){if(LA)return ev;LA=1;function e(r,a,n){for(var s=n-1,i=r.length;++s<i;)if(r[s]===a)return s;return-1}return ev=e,ev}var tv,IA;function XH(){if(IA)return tv;IA=1;var e=oj(),r=GH(),a=KH();function n(s,i,o){return i===i?a(s,i,o):e(s,r,o)}return tv=n,tv}var rv,DA;function YH(){if(DA)return rv;DA=1;var e=XH();function r(a,n){var s=a==null?0:a.length;return!!s&&e(a,n,0)>-1}return rv=r,rv}var av,FA;function QH(){if(FA)return av;FA=1;function e(r,a,n){for(var s=-1,i=r==null?0:r.length;++s<i;)if(n(a,r[s]))return!0;return!1}return av=e,av}var nv,zA;function JH(){if(zA)return nv;zA=1;function e(){}return nv=e,nv}var sv,BA;function ZH(){if(BA)return sv;BA=1;var e=nj(),r=JH(),a=AN(),n=1/0,s=e&&1/a(new e([,-0]))[1]==n?function(i){return new e(i)}:r;return sv=s,sv}var iv,qA;function eW(){if(qA)return iv;qA=1;var e=XM(),r=YH(),a=QH(),n=QM(),s=ZH(),i=AN(),o=200;function d(u,m,p){var f=-1,y=r,b=u.length,E=!0,w=[],x=w;if(p)E=!1,y=a;else if(b>=o){var N=m?null:s(u);if(N)return i(N);E=!1,y=n,x=new e}else x=m?[]:w;e:for(;++f<b;){var S=u[f],k=m?m(S):S;if(S=p||S!==0?S:0,E&&k===k){for(var P=x.length;P--;)if(x[P]===k)continue e;m&&x.push(k),w.push(S)}else y(x,k,p)||(x!==w&&x.push(k),w.push(S))}return w}return iv=d,iv}var ov,UA;function tW(){if(UA)return ov;UA=1;var e=yo(),r=eW();function a(n,s){return n&&n.length?r(n,e(s,2)):[]}return ov=a,ov}var rW=tW();const VA=Pr(rW);function lj(e,r,a){return r===!0?VA(e,a):Wt(r)?VA(e,r):e}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ac(e)}var aW=["ref"];function HA(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ni(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?HA(Object(a),!0).forEach(function(n){cg(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):HA(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function nW(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function WA(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dj(n.key),n)}}function sW(e,r,a){return r&&WA(e.prototype,r),a&&WA(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function iW(e,r,a){return r=Xp(r),oW(e,cj()?Reflect.construct(r,a||[],Xp(e).constructor):r.apply(e,a))}function oW(e,r){if(r&&(Ac(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lW(e)}function lW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cj=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Xp(e)}function cW(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Mw(e,r)}function Mw(e,r){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mw(e,r)}function cg(e,r,a){return r=dj(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function dj(e){var r=dW(e,"string");return Ac(r)=="symbol"?r:r+""}function dW(e,r){if(Ac(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uW(e,r){if(e==null)return{};var a=mW(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mW(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function fW(e){return e.value}function pW(e,r){if(t.isValidElement(e))return t.cloneElement(e,r);if(typeof e=="function")return t.createElement(e,r);r.ref;var a=uW(r,aW);return t.createElement(CN,a)}var GA=1,nl=(function(e){function r(){var a;nW(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=iW(this,r,[].concat(s)),cg(a,"lastBoundingBox",{width:-1,height:-1}),a}return cW(r,e),sW(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>GA||Math.abs(s.height-this.lastBoundingBox.height)>GA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,d=s.verticalAlign,u=s.margin,m=s.chartWidth,p=s.chartHeight,f,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();f={left:((m||0)-b.width)/2}}else f=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(d==="middle"){var E=this.getBBoxSnapshot();y={top:((p||0)-E.height)/2}}else y=d==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return ni(ni({},f),y)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,d=s.height,u=s.wrapperStyle,m=s.payloadUniqBy,p=s.payload,f=ni(ni({position:"absolute",width:o||"auto",height:d||"auto"},this.getDefaultPosition(u)),u);return t.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(b){n.wrapperNode=b}},pW(i,ni(ni({},this.props),{},{payload:lj(p,m,fW)})))}}],[{key:"getWithHeight",value:function(n,s){var i=ni(ni({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(h.PureComponent);cg(nl,"displayName","Legend");cg(nl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lv,KA;function gW(){if(KA)return lv;KA=1;var e=vm(),r=_N(),a=yn(),n=e?e.isConcatSpreadable:void 0;function s(i){return a(i)||r(i)||!!(n&&i&&i[n])}return lv=s,lv}var cv,XA;function uj(){if(XA)return cv;XA=1;var e=ZM(),r=gW();function a(n,s,i,o,d){var u=-1,m=n.length;for(i||(i=r),d||(d=[]);++u<m;){var p=n[u];s>0&&i(p)?s>1?a(p,s-1,i,o,d):e(d,p):o||(d[d.length]=p)}return d}return cv=a,cv}var dv,YA;function hW(){if(YA)return dv;YA=1;function e(r){return function(a,n,s){for(var i=-1,o=Object(a),d=s(a),u=d.length;u--;){var m=d[r?u:++i];if(n(o[m],m,o)===!1)break}return a}}return dv=e,dv}var uv,QA;function yW(){if(QA)return uv;QA=1;var e=hW(),r=e();return uv=r,uv}var mv,JA;function mj(){if(JA)return mv;JA=1;var e=yW(),r=lg();function a(n,s){return n&&e(n,s,r)}return mv=a,mv}var fv,ZA;function bW(){if(ZA)return fv;ZA=1;var e=Nm();function r(a,n){return function(s,i){if(s==null)return s;if(!e(s))return a(s,i);for(var o=s.length,d=n?o:-1,u=Object(s);(n?d--:++d<o)&&i(u[d],d,u)!==!1;);return s}}return fv=r,fv}var pv,e3;function MN(){if(e3)return pv;e3=1;var e=mj(),r=bW(),a=r(e);return pv=a,pv}var gv,t3;function fj(){if(t3)return gv;t3=1;var e=MN(),r=Nm();function a(n,s){var i=-1,o=r(n)?Array(n.length):[];return e(n,function(d,u,m){o[++i]=s(d,u,m)}),o}return gv=a,gv}var hv,r3;function xW(){if(r3)return hv;r3=1;function e(r,a){var n=r.length;for(r.sort(a);n--;)r[n]=r[n].value;return r}return hv=e,hv}var yv,a3;function vW(){if(a3)return yv;a3=1;var e=td();function r(a,n){if(a!==n){var s=a!==void 0,i=a===null,o=a===a,d=e(a),u=n!==void 0,m=n===null,p=n===n,f=e(n);if(!m&&!f&&!d&&a>n||d&&u&&p&&!m&&!f||i&&u&&p||!s&&p||!o)return 1;if(!i&&!d&&!f&&a<n||f&&s&&o&&!i&&!d||m&&s&&o||!u&&o||!p)return-1}return 0}return yv=r,yv}var bv,n3;function EW(){if(n3)return bv;n3=1;var e=vW();function r(a,n,s){for(var i=-1,o=a.criteria,d=n.criteria,u=o.length,m=s.length;++i<u;){var p=e(o[i],d[i]);if(p){if(i>=m)return p;var f=s[i];return p*(f=="desc"?-1:1)}}return a.index-n.index}return bv=r,bv}var xv,s3;function wW(){if(s3)return xv;s3=1;var e=bN(),r=xN(),a=yo(),n=fj(),s=xW(),i=tj(),o=EW(),d=ad(),u=yn();function m(p,f,y){f.length?f=e(f,function(w){return u(w)?function(x){return r(x,w.length===1?w[0]:w)}:w}):f=[d];var b=-1;f=e(f,i(a));var E=n(p,function(w,x,N){var S=e(f,function(k){return k(w)});return{criteria:S,index:++b,value:w}});return s(E,function(w,x){return o(w,x,y)})}return xv=m,xv}var vv,i3;function NW(){if(i3)return vv;i3=1;function e(r,a,n){switch(n.length){case 0:return r.call(a);case 1:return r.call(a,n[0]);case 2:return r.call(a,n[0],n[1]);case 3:return r.call(a,n[0],n[1],n[2])}return r.apply(a,n)}return vv=e,vv}var Ev,o3;function SW(){if(o3)return Ev;o3=1;var e=NW(),r=Math.max;function a(n,s,i){return s=r(s===void 0?n.length-1:s,0),function(){for(var o=arguments,d=-1,u=r(o.length-s,0),m=Array(u);++d<u;)m[d]=o[s+d];d=-1;for(var p=Array(s+1);++d<s;)p[d]=o[d];return p[s]=i(m),e(n,this,p)}}return Ev=a,Ev}var wv,l3;function kW(){if(l3)return wv;l3=1;function e(r){return function(){return r}}return wv=e,wv}var Nv,c3;function pj(){if(c3)return Nv;c3=1;var e=El(),r=(function(){try{var a=e(Object,"defineProperty");return a({},"",{}),a}catch{}})();return Nv=r,Nv}var Sv,d3;function CW(){if(d3)return Sv;d3=1;var e=kW(),r=pj(),a=ad(),n=r?function(s,i){return r(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:a;return Sv=n,Sv}var kv,u3;function AW(){if(u3)return kv;u3=1;var e=800,r=16,a=Date.now;function n(s){var i=0,o=0;return function(){var d=a(),u=r-(d-o);if(o=d,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return kv=n,kv}var Cv,m3;function _W(){if(m3)return Cv;m3=1;var e=CW(),r=AW(),a=r(e);return Cv=a,Cv}var Av,f3;function PW(){if(f3)return Av;f3=1;var e=ad(),r=SW(),a=_W();function n(s,i){return a(r(s,i,e),s+"")}return Av=n,Av}var _v,p3;function dg(){if(p3)return _v;p3=1;var e=gN(),r=Nm(),a=PN(),n=ho();function s(i,o,d){if(!n(d))return!1;var u=typeof o;return(u=="number"?r(d)&&a(o,d.length):u=="string"&&o in d)?e(d[o],i):!1}return _v=s,_v}var Pv,g3;function TW(){if(g3)return Pv;g3=1;var e=uj(),r=wW(),a=PW(),n=dg(),s=a(function(i,o){if(i==null)return[];var d=o.length;return d>1&&n(i,o[0],o[1])?o=[]:d>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),r(i,e(o,1),[])});return Pv=s,Pv}var OW=TW();const jN=Pr(OW);function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ou(e)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jw.apply(this,arguments)}function MW(e,r){return LW(e)||$W(e,r)||RW(e,r)||jW()}function jW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(e,r){if(e){if(typeof e=="string")return h3(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h3(e,r)}}function h3(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function $W(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function LW(e){if(Array.isArray(e))return e}function y3(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Tv(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?y3(Object(a),!0).forEach(function(n){IW(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function IW(e,r,a){return r=DW(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function DW(e){var r=FW(e,"string");return Ou(r)=="symbol"?r:r+""}function FW(e,r){if(Ou(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zW(e){return Array.isArray(e)&&ya(e[0])&&ya(e[1])?e.join(" ~ "):e}var BW=function(r){var a=r.separator,n=a===void 0?" : ":a,s=r.contentStyle,i=s===void 0?{}:s,o=r.itemStyle,d=o===void 0?{}:o,u=r.labelStyle,m=u===void 0?{}:u,p=r.payload,f=r.formatter,y=r.itemSorter,b=r.wrapperClassName,E=r.labelClassName,w=r.label,x=r.labelFormatter,N=r.accessibilityLayer,S=N===void 0?!1:N,k=function(){if(p&&p.length){var L={padding:0,margin:0},K=(y?jN(p,y):p).map(function(W,$){if(W.type==="none")return null;var J=Tv({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},d),Q=W.formatter||f||zW,X=W.value,H=W.name,I=X,B=H;if(Q&&I!=null&&B!=null){var G=Q(X,H,W,$,p);if(Array.isArray(G)){var z=MW(G,2);I=z[0],B=z[1]}else I=G}return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:J},ya(B)?t.createElement("span",{className:"recharts-tooltip-item-name"},B):null,ya(B)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},I),t.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:L},K)}return null},P=Tv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=Tv({margin:0},m),_=!Xt(w),O=_?w:"",T=lr("recharts-default-tooltip",b),R=lr("recharts-tooltip-label",E);_&&x&&p!==void 0&&p!==null&&(O=x(w,p));var D=S?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",jw({className:T,style:P},D),t.createElement("p",{className:R,style:C},t.isValidElement(O)?O:"".concat(O)),k())};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mu(e)}function Ff(e,r,a){return r=qW(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function qW(e){var r=UW(e,"string");return Mu(r)=="symbol"?r:r+""}function UW(e,r){if(Mu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Hd="recharts-tooltip-wrapper",VW={visibility:"hidden"};function HW(e){var r=e.coordinate,a=e.translateX,n=e.translateY;return lr(Hd,Ff(Ff(Ff(Ff({},"".concat(Hd,"-right"),Xe(a)&&r&&Xe(r.x)&&a>=r.x),"".concat(Hd,"-left"),Xe(a)&&r&&Xe(r.x)&&a<r.x),"".concat(Hd,"-bottom"),Xe(n)&&r&&Xe(r.y)&&n>=r.y),"".concat(Hd,"-top"),Xe(n)&&r&&Xe(r.y)&&n<r.y))}function b3(e){var r=e.allowEscapeViewBox,a=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,d=e.tooltipDimension,u=e.viewBox,m=e.viewBoxDimension;if(i&&Xe(i[n]))return i[n];var p=a[n]-d-s,f=a[n]+s;if(r[n])return o[n]?p:f;if(o[n]){var y=p,b=u[n];return y<b?Math.max(f,u[n]):Math.max(p,u[n])}var E=f+d,w=u[n]+m;return E>w?Math.max(p,u[n]):Math.max(f,u[n])}function WW(e){var r=e.translateX,a=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(r,"px, ").concat(a,"px, 0)"):"translate(".concat(r,"px, ").concat(a,"px)")}}function GW(e){var r=e.allowEscapeViewBox,a=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,d=e.useTranslate3d,u=e.viewBox,m,p,f;return o.height>0&&o.width>0&&a?(p=b3({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),f=b3({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),m=WW({translateX:p,translateY:f,useTranslate3d:d})):m=VW,{cssProperties:m,cssClasses:HW({translateX:p,translateY:f,coordinate:a})}}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_c(e)}function x3(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function v3(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?x3(Object(a),!0).forEach(function(n){$w(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function KW(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function XW(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hj(n.key),n)}}function YW(e,r,a){return r&&XW(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QW(e,r,a){return r=Yp(r),JW(e,gj()?Reflect.construct(r,a||[],Yp(e).constructor):r.apply(e,a))}function JW(e,r){if(r&&(_c(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZW(e)}function ZW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gj=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Yp(e)}function eG(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Rw(e,r)}function Rw(e,r){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rw(e,r)}function $w(e,r,a){return r=hj(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function hj(e){var r=tG(e,"string");return _c(r)=="symbol"?r:r+""}function tG(e,r){if(_c(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E3=1,rG=(function(e){function r(){var a;KW(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=QW(this,r,[].concat(s)),$w(a,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$w(a,"handleKeyDown",function(o){if(o.key==="Escape"){var d,u,m,p;a.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(u=a.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&d!==void 0?d:0,y:(m=(p=a.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&m!==void 0?m:0}})}}),a}return eG(r,e),YW(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E3||Math.abs(n.height-this.state.lastBoundingBox.height)>E3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,m=s.children,p=s.coordinate,f=s.hasPayload,y=s.isAnimationActive,b=s.offset,E=s.position,w=s.reverseDirection,x=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,k=GW({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:b,position:E,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:N}),P=k.cssClasses,C=k.cssProperties,_=v3(v3({transition:y&&i?"transform ".concat(d,"ms ").concat(u):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return t.createElement("div",{tabIndex:-1,className:P,style:_,ref:function(T){n.wrapperNode=T}},m)}}])})(h.PureComponent),aG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nd={isSsr:aG()};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pc(e)}function w3(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function N3(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?w3(Object(a),!0).forEach(function(n){RN(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function nG(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sG(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bj(n.key),n)}}function iG(e,r,a){return r&&sG(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oG(e,r,a){return r=Qp(r),lG(e,yj()?Reflect.construct(r,a||[],Qp(e).constructor):r.apply(e,a))}function lG(e,r){if(r&&(Pc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cG(e)}function cG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Qp(e)}function dG(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Lw(e,r)}function Lw(e,r){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lw(e,r)}function RN(e,r,a){return r=bj(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function bj(e){var r=uG(e,"string");return Pc(r)=="symbol"?r:r+""}function uG(e,r){if(Pc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mG(e){return e.dataKey}function fG(e,r){return t.isValidElement(e)?t.cloneElement(e,r):typeof e=="function"?t.createElement(e,r):t.createElement(BW,r)}var us=(function(e){function r(){return nG(this,r),oG(this,r,arguments)}return dG(r,e),iG(r,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,d=s.animationDuration,u=s.animationEasing,m=s.content,p=s.coordinate,f=s.filterNull,y=s.isAnimationActive,b=s.offset,E=s.payload,w=s.payloadUniqBy,x=s.position,N=s.reverseDirection,S=s.useTranslate3d,k=s.viewBox,P=s.wrapperStyle,C=E??[];f&&C.length&&(C=lj(E.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),w,mG));var _=C.length>0;return t.createElement(rG,{allowEscapeViewBox:o,animationDuration:d,animationEasing:u,isAnimationActive:y,active:i,coordinate:p,hasPayload:_,offset:b,position:x,reverseDirection:N,useTranslate3d:S,viewBox:k,wrapperStyle:P},fG(m,N3(N3({},this.props),{},{payload:C})))}}])})(h.PureComponent);RN(us,"displayName","Tooltip");RN(us,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ov,S3;function pG(){if(S3)return Ov;S3=1;var e=Gs(),r=function(){return e.Date.now()};return Ov=r,Ov}var Mv,k3;function gG(){if(k3)return Mv;k3=1;var e=/\s/;function r(a){for(var n=a.length;n--&&e.test(a.charAt(n)););return n}return Mv=r,Mv}var jv,C3;function hG(){if(C3)return jv;C3=1;var e=gG(),r=/^\s+/;function a(n){return n&&n.slice(0,e(n)+1).replace(r,"")}return jv=a,jv}var Rv,A3;function xj(){if(A3)return Rv;A3=1;var e=hG(),r=ho(),a=td(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt;function u(m){if(typeof m=="number")return m;if(a(m))return n;if(r(m)){var p=typeof m.valueOf=="function"?m.valueOf():m;m=r(p)?p+"":p}if(typeof m!="string")return m===0?m:+m;m=e(m);var f=i.test(m);return f||o.test(m)?d(m.slice(2),f?2:8):s.test(m)?n:+m}return Rv=u,Rv}var $v,_3;function yG(){if(_3)return $v;_3=1;var e=ho(),r=pG(),a=xj(),n="Expected a function",s=Math.max,i=Math.min;function o(d,u,m){var p,f,y,b,E,w,x=0,N=!1,S=!1,k=!0;if(typeof d!="function")throw new TypeError(n);u=a(u)||0,e(m)&&(N=!!m.leading,S="maxWait"in m,y=S?s(a(m.maxWait)||0,u):y,k="trailing"in m?!!m.trailing:k);function P(K){var W=p,$=f;return p=f=void 0,x=K,b=d.apply($,W),b}function C(K){return x=K,E=setTimeout(T,u),N?P(K):b}function _(K){var W=K-w,$=K-x,J=u-W;return S?i(J,y-$):J}function O(K){var W=K-w,$=K-x;return w===void 0||W>=u||W<0||S&&$>=y}function T(){var K=r();if(O(K))return R(K);E=setTimeout(T,_(K))}function R(K){return E=void 0,k&&p?P(K):(p=f=void 0,b)}function D(){E!==void 0&&clearTimeout(E),x=0,p=w=f=E=void 0}function j(){return E===void 0?b:R(r())}function L(){var K=r(),W=O(K);if(p=arguments,f=this,w=K,W){if(E===void 0)return C(w);if(S)return clearTimeout(E),E=setTimeout(T,u),P(w)}return E===void 0&&(E=setTimeout(T,u)),b}return L.cancel=D,L.flush=j,L}return $v=o,$v}var Lv,P3;function bG(){if(P3)return Lv;P3=1;var e=yG(),r=ho(),a="Expected a function";function n(s,i,o){var d=!0,u=!0;if(typeof s!="function")throw new TypeError(a);return r(o)&&(d="leading"in o?!!o.leading:d,u="trailing"in o?!!o.trailing:u),e(s,i,{leading:d,maxWait:i,trailing:u})}return Lv=n,Lv}var xG=bG();const vj=Pr(xG);function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ju(e)}function T3(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function zf(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?T3(Object(a),!0).forEach(function(n){vG(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function vG(e,r,a){return r=EG(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function EG(e){var r=wG(e,"string");return ju(r)=="symbol"?r:r+""}function wG(e,r){if(ju(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function NG(e,r){return AG(e)||CG(e,r)||kG(e,r)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,r){if(e){if(typeof e=="string")return O3(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O3(e,r)}}function O3(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function CG(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function AG(e){if(Array.isArray(e))return e}var M3=h.forwardRef(function(e,r){var a=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,d=e.height,u=d===void 0?"100%":d,m=e.minWidth,p=m===void 0?0:m,f=e.minHeight,y=e.maxHeight,b=e.children,E=e.debounce,w=E===void 0?0:E,x=e.id,N=e.className,S=e.onResize,k=e.style,P=k===void 0?{}:k,C=h.useRef(null),_=h.useRef();_.current=S,h.useImperativeHandle(r,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var O=h.useState({containerWidth:s.width,containerHeight:s.height}),T=NG(O,2),R=T[0],D=T[1],j=h.useCallback(function(K,W){D(function($){var J=Math.round(K),Q=Math.round(W);return $.containerWidth===J&&$.containerHeight===Q?$:{containerWidth:J,containerHeight:Q}})},[]);h.useEffect(function(){var K=function(H){var I,B=H[0].contentRect,G=B.width,z=B.height;j(G,z),(I=_.current)===null||I===void 0||I.call(_,G,z)};w>0&&(K=vj(K,w,{trailing:!0,leading:!1}));var W=new ResizeObserver(K),$=C.current.getBoundingClientRect(),J=$.width,Q=$.height;return j(J,Q),W.observe(C.current),function(){W.disconnect()}},[j,w]);var L=h.useMemo(function(){var K=R.containerWidth,W=R.containerHeight;if(K<0||W<0)return null;pi(Xo(o)||Xo(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),pi(!a||a>0,"The aspect(%s) must be greater than zero.",a);var $=Xo(o)?K:o,J=Xo(u)?W:u;a&&a>0&&($?J=$/a:J&&($=J*a),y&&J>y&&(J=y)),pi($>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,J,o,u,p,f,a);var Q=!Array.isArray(b)&&fi(b.type).endsWith("Chart");return t.Children.map(b,function(X){return t.isValidElement(X)?h.cloneElement(X,zf({width:$,height:J},Q?{style:zf({height:"100%",width:"100%",maxHeight:J,maxWidth:$},X.props.style)}:{})):X})},[a,b,u,y,f,p,R,o]);return t.createElement("div",{id:x?"".concat(x):void 0,className:lr("recharts-responsive-container",N),style:zf(zf({},P),{},{width:o,height:u,minWidth:p,minHeight:f,maxHeight:y}),ref:C},L)}),$N=function(r){return null};$N.displayName="Cell";function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ru(e)}function j3(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Iw(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?j3(Object(a),!0).forEach(function(n){_G(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j3(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function _G(e,r,a){return r=PG(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function PG(e){var r=TG(e,"string");return Ru(r)=="symbol"?r:r+""}function TG(e,r){if(Ru(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Zl={widthCache:{},cacheCount:0},OG=2e3,MG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R3="recharts_measurement_span";function jG(e){var r=Iw({},e);return Object.keys(r).forEach(function(a){r[a]||delete r[a]}),r}var bu=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||nd.isSsr)return{width:0,height:0};var n=jG(a),s=JSON.stringify({text:r,copyStyle:n});if(Zl.widthCache[s])return Zl.widthCache[s];try{var i=document.getElementById(R3);i||(i=document.createElement("span"),i.setAttribute("id",R3),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Iw(Iw({},MG),n);Object.assign(i.style,o),i.textContent="".concat(r);var d=i.getBoundingClientRect(),u={width:d.width,height:d.height};return Zl.widthCache[s]=u,++Zl.cacheCount>OG&&(Zl.cacheCount=0,Zl.widthCache={}),u}catch{return{width:0,height:0}}},RG=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$u(e)}function Jp(e,r){return DG(e)||IG(e,r)||LG(e,r)||$G()}function $G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e,r){if(e){if(typeof e=="string")return $3(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $3(e,r)}}function $3(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function IG(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function DG(e){if(Array.isArray(e))return e}function FG(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function L3(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BG(n.key),n)}}function zG(e,r,a){return r&&L3(e.prototype,r),a&&L3(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function BG(e){var r=qG(e,"string");return $u(r)=="symbol"?r:r+""}function qG(e,r){if($u(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ej={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HG=Object.keys(Ej),uc="NaN";function WG(e,r){return e*Ej[r]}var Bf=(function(){function e(r,a){FG(this,e),this.num=r,this.unit=a,this.num=r,this.unit=a,Number.isNaN(r)&&(this.unit=""),a!==""&&!UG.test(a)&&(this.num=NaN,this.unit=""),HG.includes(a)&&(this.num=WG(r,a),this.unit="px")}return zG(e,[{key:"add",value:function(a){return this.unit!==a.unit?new e(NaN,""):new e(this.num+a.num,this.unit)}},{key:"subtract",value:function(a){return this.unit!==a.unit?new e(NaN,""):new e(this.num-a.num,this.unit)}},{key:"multiply",value:function(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new e(NaN,""):new e(this.num*a.num,this.unit||a.unit)}},{key:"divide",value:function(a){return this.unit!==""&&a.unit!==""&&this.unit!==a.unit?new e(NaN,""):new e(this.num/a.num,this.unit||a.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(a){var n,s=(n=VG.exec(a))!==null&&n!==void 0?n:[],i=Jp(s,3),o=i[1],d=i[2];return new e(parseFloat(o),d??"")}}])})();function wj(e){if(e.includes(uc))return uc;for(var r=e;r.includes("*")||r.includes("/");){var a,n=(a=I3.exec(r))!==null&&a!==void 0?a:[],s=Jp(n,4),i=s[1],o=s[2],d=s[3],u=Bf.parse(i??""),m=Bf.parse(d??""),p=o==="*"?u.multiply(m):u.divide(m);if(p.isNaN())return uc;r=r.replace(I3,p.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var f,y=(f=D3.exec(r))!==null&&f!==void 0?f:[],b=Jp(y,4),E=b[1],w=b[2],x=b[3],N=Bf.parse(E??""),S=Bf.parse(x??""),k=w==="+"?N.add(S):N.subtract(S);if(k.isNaN())return uc;r=r.replace(D3,k.toString())}return r}var F3=/\(([^()]*)\)/;function GG(e){for(var r=e;r.includes("(");){var a=F3.exec(r),n=Jp(a,2),s=n[1];r=r.replace(F3,wj(s))}return r}function KG(e){var r=e.replace(/\s+/g,"");return r=GG(r),r=wj(r),r}function XG(e){try{return KG(e)}catch{return uc}}function Iv(e){var r=XG(e.slice(5,-1));return r===uc?"":r}var YG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QG=["dx","dy","angle","className","breakAll"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dw.apply(this,arguments)}function z3(e,r){if(e==null)return{};var a=JG(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JG(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function B3(e,r){return rK(e)||tK(e,r)||eK(e,r)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(e,r){if(e){if(typeof e=="string")return q3(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q3(e,r)}}function q3(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function tK(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r===0){if(Object(a)!==a)return;u=!1}else for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function rK(e){if(Array.isArray(e))return e}var Nj=/[ \f\n\r\t\v\u2028\u2029]+/,Sj=function(r){var a=r.children,n=r.breakAll,s=r.style;try{var i=[];Xt(a)||(n?i=a.toString().split(""):i=a.toString().split(Nj));var o=i.map(function(u){return{word:u,width:bu(u,s).width}}),d=n?0:bu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:d}}catch{return null}},aK=function(r,a,n,s,i){var o=r.maxLines,d=r.children,u=r.style,m=r.breakAll,p=Xe(o),f=d,y=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(J,Q){var X=Q.word,H=Q.width,I=J[J.length-1];if(I&&(s==null||i||I.width+H+n<Number(s)))I.words.push(X),I.width+=H+n;else{var B={words:[X],width:H};J.push(B)}return J},[])},b=y(a),E=function($){return $.reduce(function(J,Q){return J.width>Q.width?J:Q})};if(!p)return b;for(var w="",x=function($){var J=f.slice(0,$),Q=Sj({breakAll:m,style:u,children:J+w}).wordsWithComputedWidth,X=y(Q),H=X.length>o||E(X).width>Number(s);return[H,X]},N=0,S=f.length-1,k=0,P;N<=S&&k<=f.length-1;){var C=Math.floor((N+S)/2),_=C-1,O=x(_),T=B3(O,2),R=T[0],D=T[1],j=x(C),L=B3(j,1),K=L[0];if(!R&&!K&&(N=C+1),R&&K&&(S=C-1),!R&&K){P=D;break}k++}return P||b},U3=function(r){var a=Xt(r)?[]:r.toString().split(Nj);return[{words:a}]},nK=function(r){var a=r.width,n=r.scaleToFit,s=r.children,i=r.style,o=r.breakAll,d=r.maxLines;if((a||n)&&!nd.isSsr){var u,m,p=Sj({breakAll:o,children:s,style:i});if(p){var f=p.wordsWithComputedWidth,y=p.spaceWidth;u=f,m=y}else return U3(s);return aK({breakAll:o,children:s,maxLines:d,style:i},u,m,a,n)}return U3(s)},V3="#808080",Zp=function(r){var a=r.x,n=a===void 0?0:a,s=r.y,i=s===void 0?0:s,o=r.lineHeight,d=o===void 0?"1em":o,u=r.capHeight,m=u===void 0?"0.71em":u,p=r.scaleToFit,f=p===void 0?!1:p,y=r.textAnchor,b=y===void 0?"start":y,E=r.verticalAnchor,w=E===void 0?"end":E,x=r.fill,N=x===void 0?V3:x,S=z3(r,YG),k=h.useMemo(function(){return nK({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),P=S.dx,C=S.dy,_=S.angle,O=S.className,T=S.breakAll,R=z3(S,QG);if(!ya(n)||!ya(i))return null;var D=n+(Xe(P)?P:0),j=i+(Xe(C)?C:0),L;switch(w){case"start":L=Iv("calc(".concat(m,")"));break;case"middle":L=Iv("calc(".concat((k.length-1)/2," * -").concat(d," + (").concat(m," / 2))"));break;default:L=Iv("calc(".concat(k.length-1," * -").concat(d,")"));break}var K=[];if(f){var W=k[0].width,$=S.width;K.push("scale(".concat((Xe($)?$/W:1)/W,")"))}return _&&K.push("rotate(".concat(_,", ").concat(D,", ").concat(j,")")),K.length&&(R.transform=K.join(" ")),t.createElement("text",Dw({},ar(R,!0),{x:D,y:j,className:lr("recharts-text",O),textAnchor:b,fill:N.includes("url")?V3:N}),k.map(function(J,Q){var X=J.words.join(T?"":" ");return t.createElement("tspan",{x:D,dy:Q===0?L:d,key:"".concat(X,"-").concat(Q)},X)}))};function no(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function sK(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function LN(e){let r,a,n;e.length!==2?(r=no,a=(d,u)=>no(e(d),u),n=(d,u)=>e(d)-u):(r=e===no||e===sK?e:iK,a=e,n=e);function s(d,u,m=0,p=d.length){if(m<p){if(r(u,u)!==0)return p;do{const f=m+p>>>1;a(d[f],u)<0?m=f+1:p=f}while(m<p)}return m}function i(d,u,m=0,p=d.length){if(m<p){if(r(u,u)!==0)return p;do{const f=m+p>>>1;a(d[f],u)<=0?m=f+1:p=f}while(m<p)}return m}function o(d,u,m=0,p=d.length){const f=s(d,u,m,p-1);return f>m&&n(d[f-1],u)>-n(d[f],u)?f-1:f}return{left:s,center:o,right:i}}function iK(){return 0}function kj(e){return e===null?NaN:+e}function*oK(e,r){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const lK=LN(no),Sm=lK.right;LN(kj).center;class H3 extends Map{constructor(r,a=uK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[n,s]of r)this.set(n,s)}get(r){return super.get(W3(this,r))}has(r){return super.has(W3(this,r))}set(r,a){return super.set(cK(this,r),a)}delete(r){return super.delete(dK(this,r))}}function W3({_intern:e,_key:r},a){const n=r(a);return e.has(n)?e.get(n):a}function cK({_intern:e,_key:r},a){const n=r(a);return e.has(n)?e.get(n):(e.set(n,a),a)}function dK({_intern:e,_key:r},a){const n=r(a);return e.has(n)&&(a=e.get(n),e.delete(n)),a}function uK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mK(e=no){if(e===no)return Cj;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,a)=>{const n=e(r,a);return n||n===0?n:(e(a,a)===0)-(e(r,r)===0)}}function Cj(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const fK=Math.sqrt(50),pK=Math.sqrt(10),gK=Math.sqrt(2);function e0(e,r,a){const n=(r-e)/Math.max(0,a),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=fK?10:i>=pK?5:i>=gK?2:1;let d,u,m;return s<0?(m=Math.pow(10,-s)/o,d=Math.round(e*m),u=Math.round(r*m),d/m<e&&++d,u/m>r&&--u,m=-m):(m=Math.pow(10,s)*o,d=Math.round(e/m),u=Math.round(r/m),d*m<e&&++d,u*m>r&&--u),u<d&&.5<=a&&a<2?e0(e,r,a*2):[d,u,m]}function Fw(e,r,a){if(r=+r,e=+e,a=+a,!(a>0))return[];if(e===r)return[e];const n=r<e,[s,i,o]=n?e0(r,e,a):e0(e,r,a);if(!(i>=s))return[];const d=i-s+1,u=new Array(d);if(n)if(o<0)for(let m=0;m<d;++m)u[m]=(i-m)/-o;else for(let m=0;m<d;++m)u[m]=(i-m)*o;else if(o<0)for(let m=0;m<d;++m)u[m]=(s+m)/-o;else for(let m=0;m<d;++m)u[m]=(s+m)*o;return u}function zw(e,r,a){return r=+r,e=+e,a=+a,e0(e,r,a)[2]}function Bw(e,r,a){r=+r,e=+e,a=+a;const n=r<e,s=n?zw(r,e,a):zw(e,r,a);return(n?-1:1)*(s<0?1/-s:s)}function G3(e,r){let a;for(const n of e)n!=null&&(a<n||a===void 0&&n>=n)&&(a=n);return a}function K3(e,r){let a;for(const n of e)n!=null&&(a>n||a===void 0&&n>=n)&&(a=n);return a}function Aj(e,r,a=0,n=1/0,s){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),n=Math.floor(Math.min(e.length-1,n)),!(a<=r&&r<=n))return e;for(s=s===void 0?Cj:mK(s);n>a;){if(n-a>600){const u=n-a+1,m=r-a+1,p=Math.log(u),f=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*f*(u-f)/u)*(m-u/2<0?-1:1),b=Math.max(a,Math.floor(r-m*f/u+y)),E=Math.min(n,Math.floor(r+(u-m)*f/u+y));Aj(e,r,b,E,s)}const i=e[r];let o=a,d=n;for(Wd(e,a,r),s(e[n],i)>0&&Wd(e,a,n);o<d;){for(Wd(e,o,d),++o,--d;s(e[o],i)<0;)++o;for(;s(e[d],i)>0;)--d}s(e[a],i)===0?Wd(e,a,d):(++d,Wd(e,d,n)),d<=r&&(a=d+1),r<=d&&(n=d-1)}return e}function Wd(e,r,a){const n=e[r];e[r]=e[a],e[a]=n}function hK(e,r,a){if(e=Float64Array.from(oK(e)),!(!(n=e.length)||isNaN(r=+r))){if(r<=0||n<2)return K3(e);if(r>=1)return G3(e);var n,s=(n-1)*r,i=Math.floor(s),o=G3(Aj(e,i).subarray(0,i+1)),d=K3(e.subarray(i+1));return o+(d-o)*(s-i)}}function yK(e,r,a=kj){if(!(!(n=e.length)||isNaN(r=+r))){if(r<=0||n<2)return+a(e[0],0,e);if(r>=1)return+a(e[n-1],n-1,e);var n,s=(n-1)*r,i=Math.floor(s),o=+a(e[i],i,e),d=+a(e[i+1],i+1,e);return o+(d-o)*(s-i)}}function bK(e,r,a){e=+e,r=+r,a=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+a;for(var n=-1,s=Math.max(0,Math.ceil((r-e)/a))|0,i=new Array(s);++n<s;)i[n]=e+n*a;return i}function es(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Ai(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const qw=Symbol("implicit");function IN(){var e=new H3,r=[],a=[],n=qw;function s(i){let o=e.get(i);if(o===void 0){if(n!==qw)return n;e.set(i,o=r.push(i)-1)}return a[o%a.length]}return s.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new H3;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(i){return arguments.length?(a=Array.from(i),s):a.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return IN(r,a).unknown(n)},es.apply(s,arguments),s}function Lu(){var e=IN().unknown(void 0),r=e.domain,a=e.range,n=0,s=1,i,o,d=!1,u=0,m=0,p=.5;delete e.unknown;function f(){var y=r().length,b=s<n,E=b?s:n,w=b?n:s;i=(w-E)/Math.max(1,y-u+m*2),d&&(i=Math.floor(i)),E+=(w-E-i*(y-u))*p,o=i*(1-u),d&&(E=Math.round(E),o=Math.round(o));var x=bK(y).map(function(N){return E+i*N});return a(b?x.reverse():x)}return e.domain=function(y){return arguments.length?(r(y),f()):r()},e.range=function(y){return arguments.length?([n,s]=y,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(y){return[n,s]=y,n=+n,s=+s,d=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(d=!!y,f()):d},e.padding=function(y){return arguments.length?(u=Math.min(1,m=+y),f()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),f()):u},e.paddingOuter=function(y){return arguments.length?(m=+y,f()):m},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),f()):p},e.copy=function(){return Lu(r(),[n,s]).round(d).paddingInner(u).paddingOuter(m).align(p)},es.apply(f(),arguments)}function _j(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _j(r())},e}function xu(){return _j(Lu.apply(null,arguments).paddingInner(1))}function DN(e,r,a){e.prototype=r.prototype=a,a.constructor=e}function Pj(e,r){var a=Object.create(e.prototype);for(var n in r)a[n]=r[n];return a}function km(){}var Iu=.7,t0=1/Iu,bc="\\s*([+-]?\\d+)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xK=/^#([0-9a-f]{3,8})$/,vK=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),EK=new RegExp(`^rgb\\(${Bs},${Bs},${Bs}\\)$`),wK=new RegExp(`^rgba\\(${bc},${bc},${bc},${Du}\\)$`),NK=new RegExp(`^rgba\\(${Bs},${Bs},${Bs},${Du}\\)$`),SK=new RegExp(`^hsl\\(${Du},${Bs},${Bs}\\)$`),kK=new RegExp(`^hsla\\(${Du},${Bs},${Bs},${Du}\\)$`),X3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DN(km,Fu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Y3,formatHex:Y3,formatHex8:CK,formatHsl:AK,formatRgb:Q3,toString:Q3});function Y3(){return this.rgb().formatHex()}function CK(){return this.rgb().formatHex8()}function AK(){return Tj(this).formatHsl()}function Q3(){return this.rgb().formatRgb()}function Fu(e){var r,a;return e=(e+"").trim().toLowerCase(),(r=xK.exec(e))?(a=r[1].length,r=parseInt(r[1],16),a===6?J3(r):a===3?new fn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?qf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?qf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=vK.exec(e))?new fn(r[1],r[2],r[3],1):(r=EK.exec(e))?new fn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=wK.exec(e))?qf(r[1],r[2],r[3],r[4]):(r=NK.exec(e))?qf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=SK.exec(e))?t_(r[1],r[2]/100,r[3]/100,1):(r=kK.exec(e))?t_(r[1],r[2]/100,r[3]/100,r[4]):X3.hasOwnProperty(e)?J3(X3[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function J3(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function qf(e,r,a,n){return n<=0&&(e=r=a=NaN),new fn(e,r,a,n)}function _K(e){return e instanceof km||(e=Fu(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function Uw(e,r,a,n){return arguments.length===1?_K(e):new fn(e,r,a,n??1)}function fn(e,r,a,n){this.r=+e,this.g=+r,this.b=+a,this.opacity=+n}DN(fn,Uw,Pj(km,{brighter(e){return e=e==null?t0:Math.pow(t0,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(sl(this.r),sl(this.g),sl(this.b),r0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z3,formatHex:Z3,formatHex8:PK,formatRgb:e_,toString:e_}));function Z3(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function PK(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function e_(){const e=r0(this.opacity);return`${e===1?"rgb(":"rgba("}${sl(this.r)}, ${sl(this.g)}, ${sl(this.b)}${e===1?")":`, ${e})`}`}function r0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yo(e){return e=sl(e),(e<16?"0":"")+e.toString(16)}function t_(e,r,a,n){return n<=0?e=r=a=NaN:a<=0||a>=1?e=r=NaN:r<=0&&(e=NaN),new bs(e,r,a,n)}function Tj(e){if(e instanceof bs)return new bs(e.h,e.s,e.l,e.opacity);if(e instanceof km||(e=Fu(e)),!e)return new bs;if(e instanceof bs)return e;e=e.rgb();var r=e.r/255,a=e.g/255,n=e.b/255,s=Math.min(r,a,n),i=Math.max(r,a,n),o=NaN,d=i-s,u=(i+s)/2;return d?(r===i?o=(a-n)/d+(a<n)*6:a===i?o=(n-r)/d+2:o=(r-a)/d+4,d/=u<.5?i+s:2-i-s,o*=60):d=u>0&&u<1?0:o,new bs(o,d,u,e.opacity)}function TK(e,r,a,n){return arguments.length===1?Tj(e):new bs(e,r,a,n??1)}function bs(e,r,a,n){this.h=+e,this.s=+r,this.l=+a,this.opacity=+n}DN(bs,TK,Pj(km,{brighter(e){return e=e==null?t0:Math.pow(t0,e),new bs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new bs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,n=a+(a<.5?a:1-a)*r,s=2*a-n;return new fn(Dv(e>=240?e-240:e+120,s,n),Dv(e,s,n),Dv(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new bs(r_(this.h),Uf(this.s),Uf(this.l),r0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=r0(this.opacity);return`${e===1?"hsl(":"hsla("}${r_(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r_(e){return e=(e||0)%360,e<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function Dv(e,r,a){return(e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r)*255}const FN=e=>()=>e;function OK(e,r){return function(a){return e+a*r}}function MK(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(n){return Math.pow(e+n*r,a)}}function jK(e){return(e=+e)==1?Oj:function(r,a){return a-r?MK(r,a,e):FN(isNaN(r)?a:r)}}function Oj(e,r){var a=r-e;return a?OK(e,a):FN(isNaN(e)?r:e)}const a_=(function e(r){var a=jK(r);function n(s,i){var o=a((s=Uw(s)).r,(i=Uw(i)).r),d=a(s.g,i.g),u=a(s.b,i.b),m=Oj(s.opacity,i.opacity);return function(p){return s.r=o(p),s.g=d(p),s.b=u(p),s.opacity=m(p),s+""}}return n.gamma=e,n})(1);function RK(e,r){r||(r=[]);var a=e?Math.min(r.length,e.length):0,n=r.slice(),s;return function(i){for(s=0;s<a;++s)n[s]=e[s]*(1-i)+r[s]*i;return n}}function $K(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LK(e,r){var a=r?r.length:0,n=e?Math.min(a,e.length):0,s=new Array(n),i=new Array(a),o;for(o=0;o<n;++o)s[o]=sd(e[o],r[o]);for(;o<a;++o)i[o]=r[o];return function(d){for(o=0;o<n;++o)i[o]=s[o](d);return i}}function IK(e,r){var a=new Date;return e=+e,r=+r,function(n){return a.setTime(e*(1-n)+r*n),a}}function a0(e,r){return e=+e,r=+r,function(a){return e*(1-a)+r*a}}function DK(e,r){var a={},n={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?a[s]=sd(e[s],r[s]):n[s]=r[s];return function(i){for(s in a)n[s]=a[s](i);return n}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fv=new RegExp(Vw.source,"g");function FK(e){return function(){return e}}function zK(e){return function(r){return e(r)+""}}function BK(e,r){var a=Vw.lastIndex=Fv.lastIndex=0,n,s,i,o=-1,d=[],u=[];for(e=e+"",r=r+"";(n=Vw.exec(e))&&(s=Fv.exec(r));)(i=s.index)>a&&(i=r.slice(a,i),d[o]?d[o]+=i:d[++o]=i),(n=n[0])===(s=s[0])?d[o]?d[o]+=s:d[++o]=s:(d[++o]=null,u.push({i:o,x:a0(n,s)})),a=Fv.lastIndex;return a<r.length&&(i=r.slice(a),d[o]?d[o]+=i:d[++o]=i),d.length<2?u[0]?zK(u[0].x):FK(r):(r=u.length,function(m){for(var p=0,f;p<r;++p)d[(f=u[p]).i]=f.x(m);return d.join("")})}function sd(e,r){var a=typeof r,n;return r==null||a==="boolean"?FN(r):(a==="number"?a0:a==="string"?(n=Fu(r))?(r=n,a_):BK:r instanceof Fu?a_:r instanceof Date?IK:$K(r)?RK:Array.isArray(r)?LK:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?DK:a0)(e,r)}function zN(e,r){return e=+e,r=+r,function(a){return Math.round(e*(1-a)+r*a)}}function qK(e,r){r===void 0&&(r=e,e=sd);for(var a=0,n=r.length-1,s=r[0],i=new Array(n<0?0:n);a<n;)i[a]=e(s,s=r[++a]);return function(o){var d=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[d](o-d)}}function UK(e){return function(){return e}}function n0(e){return+e}var n_=[0,1];function tn(e){return e}function Hw(e,r){return(r-=e=+e)?function(a){return(a-e)/r}:UK(isNaN(r)?NaN:.5)}function VK(e,r){var a;return e>r&&(a=e,e=r,r=a),function(n){return Math.max(e,Math.min(r,n))}}function HK(e,r,a){var n=e[0],s=e[1],i=r[0],o=r[1];return s<n?(n=Hw(s,n),i=a(o,i)):(n=Hw(n,s),i=a(i,o)),function(d){return i(n(d))}}function WK(e,r,a){var n=Math.min(e.length,r.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<n;)s[o]=Hw(e[o],e[o+1]),i[o]=a(r[o],r[o+1]);return function(d){var u=Sm(e,d,1,n)-1;return i[u](s[u](d))}}function Cm(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ug(){var e=n_,r=n_,a=sd,n,s,i,o=tn,d,u,m;function p(){var y=Math.min(e.length,r.length);return o!==tn&&(o=VK(e[0],e[y-1])),d=y>2?WK:HK,u=m=null,f}function f(y){return y==null||isNaN(y=+y)?i:(u||(u=d(e.map(n),r,a)))(n(o(y)))}return f.invert=function(y){return o(s((m||(m=d(r,e.map(n),a0)))(y)))},f.domain=function(y){return arguments.length?(e=Array.from(y,n0),p()):e.slice()},f.range=function(y){return arguments.length?(r=Array.from(y),p()):r.slice()},f.rangeRound=function(y){return r=Array.from(y),a=zN,p()},f.clamp=function(y){return arguments.length?(o=y?!0:tn,p()):o!==tn},f.interpolate=function(y){return arguments.length?(a=y,p()):a},f.unknown=function(y){return arguments.length?(i=y,f):i},function(y,b){return n=y,s=b,p()}}function BN(){return ug()(tn,tn)}function GK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s0(e,r){if(!isFinite(e)||e===0)return null;var a=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"),n=e.slice(0,a);return[n.length>1?n[0]+n.slice(2):n,+e.slice(a+1)]}function Tc(e){return e=s0(Math.abs(e)),e?e[1]:NaN}function KK(e,r){return function(a,n){for(var s=a.length,i=[],o=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>n&&(d=Math.max(1,n-u)),i.push(a.substring(s-=d,s+d)),!((u+=d+1)>n));)d=e[o=(o+1)%e.length];return i.reverse().join(r)}}function XK(e){return function(r){return r.replace(/[0-9]/g,function(a){return e[+a]})}}var YK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zu(e){if(!(r=YK.exec(e)))throw new Error("invalid format: "+e);var r;return new qN({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}zu.prototype=qN.prototype;function qN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QK(e){e:for(var r=e.length,a=1,n=-1,s;a<r;++a)switch(e[a]){case".":n=s=a;break;case"0":n===0&&(n=a),s=a;break;default:if(!+e[a])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var i0;function JK(e,r){var a=s0(e,r);if(!a)return i0=void 0,e.toPrecision(r);var n=a[0],s=a[1],i=s-(i0=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+s0(e,Math.max(0,r+i-1))[0]}function s_(e,r){var a=s0(e,r);if(!a)return e+"";var n=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const i_={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GK,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>s_(e*100,r),r:s_,s:JK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o_(e){return e}var l_=Array.prototype.map,c_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZK(e){var r=e.grouping===void 0||e.thousands===void 0?o_:KK(l_.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?o_:XK(l_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function m(f,y){f=zu(f);var b=f.fill,E=f.align,w=f.sign,x=f.symbol,N=f.zero,S=f.width,k=f.comma,P=f.precision,C=f.trim,_=f.type;_==="n"?(k=!0,_="g"):i_[_]||(P===void 0&&(P=12),C=!0,_="g"),(N||b==="0"&&E==="=")&&(N=!0,b="0",E="=");var O=(y&&y.prefix!==void 0?y.prefix:"")+(x==="$"?a:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),T=(x==="$"?n:/[%p]/.test(_)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),R=i_[_],D=/[defgprs%]/.test(_);P=P===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function j(L){var K=O,W=T,$,J,Q;if(_==="c")W=R(L)+W,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?u:R(Math.abs(L),P),C&&(L=QK(L)),X&&+L==0&&w!=="+"&&(X=!1),K=(X?w==="("?w:d:w==="-"||w==="("?"":w)+K,W=(_==="s"&&!isNaN(L)&&i0!==void 0?c_[8+i0/3]:"")+W+(X&&w==="("?")":""),D){for($=-1,J=L.length;++$<J;)if(Q=L.charCodeAt($),48>Q||Q>57){W=(Q===46?s+L.slice($+1):L.slice($))+W,L=L.slice(0,$);break}}}k&&!N&&(L=r(L,1/0));var H=K.length+L.length+W.length,I=H<S?new Array(S-H+1).join(b):"";switch(k&&N&&(L=r(I+L,I.length?S-W.length:1/0),I=""),E){case"<":L=K+L+W+I;break;case"=":L=K+I+L+W;break;case"^":L=I.slice(0,H=I.length>>1)+K+L+W+I.slice(H);break;default:L=I+K+L+W;break}return i(L)}return j.toString=function(){return f+""},j}function p(f,y){var b=Math.max(-8,Math.min(8,Math.floor(Tc(y)/3)))*3,E=Math.pow(10,-b),w=m((f=zu(f),f.type="f",f),{suffix:c_[8+b/3]});return function(x){return w(E*x)}}return{format:m,formatPrefix:p}}var Vf,UN,Mj;eX({thousands:",",grouping:[3],currency:["$",""]});function eX(e){return Vf=ZK(e),UN=Vf.format,Mj=Vf.formatPrefix,Vf}function tX(e){return Math.max(0,-Tc(Math.abs(e)))}function rX(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tc(r)/3)))*3-Tc(Math.abs(e)))}function aX(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Tc(r)-Tc(e))+1}function jj(e,r,a,n){var s=Bw(e,r,a),i;switch(n=zu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(i=rX(s,o))&&(n.precision=i),Mj(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aX(s,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tX(s))&&(n.precision=i-(n.type==="%")*2);break}}return UN(n)}function bo(e){var r=e.domain;return e.ticks=function(a){var n=r();return Fw(n[0],n[n.length-1],a??10)},e.tickFormat=function(a,n){var s=r();return jj(s[0],s[s.length-1],a??10,n)},e.nice=function(a){a==null&&(a=10);var n=r(),s=0,i=n.length-1,o=n[s],d=n[i],u,m,p=10;for(d<o&&(m=o,o=d,d=m,m=s,s=i,i=m);p-- >0;){if(m=zw(o,d,a),m===u)return n[s]=o,n[i]=d,r(n);if(m>0)o=Math.floor(o/m)*m,d=Math.ceil(d/m)*m;else if(m<0)o=Math.ceil(o*m)/m,d=Math.floor(d*m)/m;else break;u=m}return e},e}function o0(){var e=BN();return e.copy=function(){return Cm(e,o0())},es.apply(e,arguments),bo(e)}function Rj(e){var r;function a(n){return n==null||isNaN(n=+n)?r:n}return a.invert=a,a.domain=a.range=function(n){return arguments.length?(e=Array.from(n,n0),a):e.slice()},a.unknown=function(n){return arguments.length?(r=n,a):r},a.copy=function(){return Rj(e).unknown(r)},e=arguments.length?Array.from(e,n0):[0,1],bo(a)}function $j(e,r){e=e.slice();var a=0,n=e.length-1,s=e[a],i=e[n],o;return i<s&&(o=a,a=n,n=o,o=s,s=i,i=o),e[a]=r.floor(s),e[n]=r.ceil(i),e}function d_(e){return Math.log(e)}function u_(e){return Math.exp(e)}function nX(e){return-Math.log(-e)}function sX(e){return-Math.exp(-e)}function iX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oX(e){return e===10?iX:e===Math.E?Math.exp:r=>Math.pow(e,r)}function lX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function m_(e){return(r,a)=>-e(-r,a)}function VN(e){const r=e(d_,u_),a=r.domain;let n=10,s,i;function o(){return s=lX(n),i=oX(n),a()[0]<0?(s=m_(s),i=m_(i),e(nX,sX)):e(d_,u_),r}return r.base=function(d){return arguments.length?(n=+d,o()):n},r.domain=function(d){return arguments.length?(a(d),o()):a()},r.ticks=d=>{const u=a();let m=u[0],p=u[u.length-1];const f=p<m;f&&([m,p]=[p,m]);let y=s(m),b=s(p),E,w;const x=d==null?10:+d;let N=[];if(!(n%1)&&b-y<x){if(y=Math.floor(y),b=Math.ceil(b),m>0){for(;y<=b;++y)for(E=1;E<n;++E)if(w=y<0?E/i(-y):E*i(y),!(w<m)){if(w>p)break;N.push(w)}}else for(;y<=b;++y)for(E=n-1;E>=1;--E)if(w=y>0?E/i(-y):E*i(y),!(w<m)){if(w>p)break;N.push(w)}N.length*2<x&&(N=Fw(m,p,x))}else N=Fw(y,b,Math.min(b-y,x)).map(i);return f?N.reverse():N},r.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=zu(u)).precision==null&&(u.trim=!0),u=UN(u)),d===1/0)return u;const m=Math.max(1,n*d/r.ticks().length);return p=>{let f=p/i(Math.round(s(p)));return f*n<n-.5&&(f*=n),f<=m?u(p):""}},r.nice=()=>a($j(a(),{floor:d=>i(Math.floor(s(d))),ceil:d=>i(Math.ceil(s(d)))})),r}function Lj(){const e=VN(ug()).domain([1,10]);return e.copy=()=>Cm(e,Lj()).base(e.base()),es.apply(e,arguments),e}function f_(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function p_(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function HN(e){var r=1,a=e(f_(r),p_(r));return a.constant=function(n){return arguments.length?e(f_(r=+n),p_(r)):r},bo(a)}function Ij(){var e=HN(ug());return e.copy=function(){return Cm(e,Ij()).constant(e.constant())},es.apply(e,arguments)}function g_(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function cX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dX(e){return e<0?-e*e:e*e}function WN(e){var r=e(tn,tn),a=1;function n(){return a===1?e(tn,tn):a===.5?e(cX,dX):e(g_(a),g_(1/a))}return r.exponent=function(s){return arguments.length?(a=+s,n()):a},bo(r)}function GN(){var e=WN(ug());return e.copy=function(){return Cm(e,GN()).exponent(e.exponent())},es.apply(e,arguments),e}function uX(){return GN.apply(null,arguments).exponent(.5)}function h_(e){return Math.sign(e)*e*e}function mX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Dj(){var e=BN(),r=[0,1],a=!1,n;function s(i){var o=mX(e(i));return isNaN(o)?n:a?Math.round(o):o}return s.invert=function(i){return e.invert(h_(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((r=Array.from(i,n0)).map(h_)),s):r.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(a=!!i,s):a},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Dj(e.domain(),r).round(a).clamp(e.clamp()).unknown(n)},es.apply(s,arguments),bo(s)}function Fj(){var e=[],r=[],a=[],n;function s(){var o=0,d=Math.max(1,r.length);for(a=new Array(d-1);++o<d;)a[o-1]=yK(e,o/d);return i}function i(o){return o==null||isNaN(o=+o)?n:r[Sm(a,o)]}return i.invertExtent=function(o){var d=r.indexOf(o);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let d of o)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(no),s()},i.range=function(o){return arguments.length?(r=Array.from(o),s()):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return a.slice()},i.copy=function(){return Fj().domain(e).range(r).unknown(n)},es.apply(i,arguments)}function zj(){var e=0,r=1,a=1,n=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Sm(n,u,0,a)]:i}function d(){var u=-1;for(n=new Array(a);++u<a;)n[u]=((u+1)*r-(u-a)*e)/(a+1);return o}return o.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,d()):[e,r]},o.range=function(u){return arguments.length?(a=(s=Array.from(u)).length-1,d()):s.slice()},o.invertExtent=function(u){var m=s.indexOf(u);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=a?[n[a-1],r]:[n[m-1],n[m]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return zj().domain([e,r]).range(s).unknown(i)},es.apply(bo(o),arguments)}function Bj(){var e=[.5],r=[0,1],a,n=1;function s(i){return i!=null&&i<=i?r[Sm(e,i,0,n)]:a}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(i){return arguments.length?(r=Array.from(i),n=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Bj().domain(e).range(r).unknown(a)},es.apply(s,arguments)}const zv=new Date,Bv=new Date;function ba(e,r,a,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),s.round=i=>{const o=s(i),d=s.ceil(i);return i-o<d-i?o:d},s.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,d)=>{const u=[];if(i=s.ceil(i),d=d==null?1:Math.floor(d),!(i<o)||!(d>0))return u;let m;do u.push(m=new Date(+i)),r(i,d),e(i);while(m<i&&i<o);return u},s.filter=i=>ba(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;r(o,-1),!i(o););else for(;--d>=0;)for(;r(o,1),!i(o););}),a&&(s.count=(i,o)=>(zv.setTime(+i),Bv.setTime(+o),e(zv),e(Bv),Math.floor(a(zv,Bv))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const l0=ba(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);l0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ba(r=>{r.setTime(Math.floor(r/e)*e)},(r,a)=>{r.setTime(+r+a*e)},(r,a)=>(a-r)/e):l0);l0.range;const di=1e3,Xn=di*60,ui=Xn*60,yi=ui*24,KN=yi*7,y_=yi*30,qv=yi*365,Qo=ba(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*di)},(e,r)=>(r-e)/di,e=>e.getUTCSeconds());Qo.range;const XN=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di)},(e,r)=>{e.setTime(+e+r*Xn)},(e,r)=>(r-e)/Xn,e=>e.getMinutes());XN.range;const YN=ba(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Xn)},(e,r)=>(r-e)/Xn,e=>e.getUTCMinutes());YN.range;const QN=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di-e.getMinutes()*Xn)},(e,r)=>{e.setTime(+e+r*ui)},(e,r)=>(r-e)/ui,e=>e.getHours());QN.range;const JN=ba(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*ui)},(e,r)=>(r-e)/ui,e=>e.getUTCHours());JN.range;const Am=ba(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/yi,e=>e.getDate()-1);Am.range;const mg=ba(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/yi,e=>e.getUTCDate()-1);mg.range;const qj=ba(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/yi,e=>Math.floor(e/yi));qj.range;function wl(e){return ba(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*Xn)/KN)}const fg=wl(0),c0=wl(1),fX=wl(2),pX=wl(3),Oc=wl(4),gX=wl(5),hX=wl(6);fg.range;c0.range;fX.range;pX.range;Oc.range;gX.range;hX.range;function Nl(e){return ba(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/KN)}const pg=Nl(0),d0=Nl(1),yX=Nl(2),bX=Nl(3),Mc=Nl(4),xX=Nl(5),vX=Nl(6);pg.range;d0.range;yX.range;bX.range;Mc.range;xX.range;vX.range;const ZN=ba(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ZN.range;const e2=ba(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());e2.range;const bi=ba(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*e)});bi.range;const xi=ba(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*e)});xi.range;function Uj(e,r,a,n,s,i){const o=[[Qo,1,di],[Qo,5,5*di],[Qo,15,15*di],[Qo,30,30*di],[i,1,Xn],[i,5,5*Xn],[i,15,15*Xn],[i,30,30*Xn],[s,1,ui],[s,3,3*ui],[s,6,6*ui],[s,12,12*ui],[n,1,yi],[n,2,2*yi],[a,1,KN],[r,1,y_],[r,3,3*y_],[e,1,qv]];function d(m,p,f){const y=p<m;y&&([m,p]=[p,m]);const b=f&&typeof f.range=="function"?f:u(m,p,f),E=b?b.range(m,+p+1):[];return y?E.reverse():E}function u(m,p,f){const y=Math.abs(p-m)/f,b=LN(([,,x])=>x).right(o,y);if(b===o.length)return e.every(Bw(m/qv,p/qv,f));if(b===0)return l0.every(Math.max(Bw(m,p,f),1));const[E,w]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return E.every(w)}return[d,u]}const[EX,wX]=Uj(xi,e2,pg,qj,JN,YN),[NX,SX]=Uj(bi,ZN,fg,Am,QN,XN);function Uv(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vv(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gd(e,r,a){return{y:e,m:r,d:a,H:0,M:0,S:0,L:0}}function kX(e){var r=e.dateTime,a=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,d=e.months,u=e.shortMonths,m=Kd(s),p=Xd(s),f=Kd(i),y=Xd(i),b=Kd(o),E=Xd(o),w=Kd(d),x=Xd(d),N=Kd(u),S=Xd(u),k={a:Q,A:X,b:H,B:I,c:null,d:N_,e:N_,f:KX,g:nY,G:iY,H:HX,I:WX,j:GX,L:Vj,m:XX,M:YX,p:B,q:G,Q:C_,s:A_,S:QX,u:JX,U:ZX,V:eY,w:tY,W:rY,x:null,X:null,y:aY,Y:sY,Z:oY,"%":k_},P={a:z,A:ae,b:he,B:ve,c:null,d:S_,e:S_,f:uY,g:EY,G:NY,H:lY,I:cY,j:dY,L:Wj,m:mY,M:fY,p:_e,q:ee,Q:C_,s:A_,S:pY,u:gY,U:hY,V:yY,w:bY,W:xY,x:null,X:null,y:vY,Y:wY,Z:SY,"%":k_},C={a:D,A:j,b:L,B:K,c:W,d:E_,e:E_,f:BX,g:v_,G:x_,H:w_,I:w_,j:IX,L:zX,m:LX,M:DX,p:R,q:$X,Q:UX,s:VX,S:FX,u:TX,U:OX,V:MX,w:PX,W:jX,x:$,X:J,y:v_,Y:x_,Z:RX,"%":qX};k.x=_(a,k),k.X=_(n,k),k.c=_(r,k),P.x=_(a,P),P.X=_(n,P),P.c=_(r,P);function _(le,pe){return function(Ne){var oe=[],re=-1,Me=0,ge=le.length,$e,De,Ye;for(Ne instanceof Date||(Ne=new Date(+Ne));++re<ge;)le.charCodeAt(re)===37&&(oe.push(le.slice(Me,re)),(De=b_[$e=le.charAt(++re)])!=null?$e=le.charAt(++re):De=$e==="e"?" ":"0",(Ye=pe[$e])&&($e=Ye(Ne,De)),oe.push($e),Me=re+1);return oe.push(le.slice(Me,re)),oe.join("")}}function O(le,pe){return function(Ne){var oe=Gd(1900,void 0,1),re=T(oe,le,Ne+="",0),Me,ge;if(re!=Ne.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(pe&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Me=Vv(Gd(oe.y,0,1)),ge=Me.getUTCDay(),Me=ge>4||ge===0?d0.ceil(Me):d0(Me),Me=mg.offset(Me,(oe.V-1)*7),oe.y=Me.getUTCFullYear(),oe.m=Me.getUTCMonth(),oe.d=Me.getUTCDate()+(oe.w+6)%7):(Me=Uv(Gd(oe.y,0,1)),ge=Me.getDay(),Me=ge>4||ge===0?c0.ceil(Me):c0(Me),Me=Am.offset(Me,(oe.V-1)*7),oe.y=Me.getFullYear(),oe.m=Me.getMonth(),oe.d=Me.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),ge="Z"in oe?Vv(Gd(oe.y,0,1)).getUTCDay():Uv(Gd(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(ge+5)%7:oe.w+oe.U*7-(ge+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Vv(oe)):Uv(oe)}}function T(le,pe,Ne,oe){for(var re=0,Me=pe.length,ge=Ne.length,$e,De;re<Me;){if(oe>=ge)return-1;if($e=pe.charCodeAt(re++),$e===37){if($e=pe.charAt(re++),De=C[$e in b_?pe.charAt(re++):$e],!De||(oe=De(le,Ne,oe))<0)return-1}else if($e!=Ne.charCodeAt(oe++))return-1}return oe}function R(le,pe,Ne){var oe=m.exec(pe.slice(Ne));return oe?(le.p=p.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function D(le,pe,Ne){var oe=b.exec(pe.slice(Ne));return oe?(le.w=E.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function j(le,pe,Ne){var oe=f.exec(pe.slice(Ne));return oe?(le.w=y.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function L(le,pe,Ne){var oe=N.exec(pe.slice(Ne));return oe?(le.m=S.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function K(le,pe,Ne){var oe=w.exec(pe.slice(Ne));return oe?(le.m=x.get(oe[0].toLowerCase()),Ne+oe[0].length):-1}function W(le,pe,Ne){return T(le,r,pe,Ne)}function $(le,pe,Ne){return T(le,a,pe,Ne)}function J(le,pe,Ne){return T(le,n,pe,Ne)}function Q(le){return o[le.getDay()]}function X(le){return i[le.getDay()]}function H(le){return u[le.getMonth()]}function I(le){return d[le.getMonth()]}function B(le){return s[+(le.getHours()>=12)]}function G(le){return 1+~~(le.getMonth()/3)}function z(le){return o[le.getUTCDay()]}function ae(le){return i[le.getUTCDay()]}function he(le){return u[le.getUTCMonth()]}function ve(le){return d[le.getUTCMonth()]}function _e(le){return s[+(le.getUTCHours()>=12)]}function ee(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var pe=_(le+="",k);return pe.toString=function(){return le},pe},parse:function(le){var pe=O(le+="",!1);return pe.toString=function(){return le},pe},utcFormat:function(le){var pe=_(le+="",P);return pe.toString=function(){return le},pe},utcParse:function(le){var pe=O(le+="",!0);return pe.toString=function(){return le},pe}}}var b_={"-":"",_:" ",0:"0"},_a=/^\s*\d+/,CX=/^%/,AX=/[\\^$*+?|[\]().{}]/g;function mr(e,r,a){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<a?new Array(a-i+1).join(r)+s:s)}function _X(e){return e.replace(AX,"\\$&")}function Kd(e){return new RegExp("^(?:"+e.map(_X).join("|")+")","i")}function Xd(e){return new Map(e.map((r,a)=>[r.toLowerCase(),a]))}function PX(e,r,a){var n=_a.exec(r.slice(a,a+1));return n?(e.w=+n[0],a+n[0].length):-1}function TX(e,r,a){var n=_a.exec(r.slice(a,a+1));return n?(e.u=+n[0],a+n[0].length):-1}function OX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.U=+n[0],a+n[0].length):-1}function MX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.V=+n[0],a+n[0].length):-1}function jX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.W=+n[0],a+n[0].length):-1}function x_(e,r,a){var n=_a.exec(r.slice(a,a+4));return n?(e.y=+n[0],a+n[0].length):-1}function v_(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),a+n[0].length):-1}function RX(e,r,a){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),a+n[0].length):-1}function $X(e,r,a){var n=_a.exec(r.slice(a,a+1));return n?(e.q=n[0]*3-3,a+n[0].length):-1}function LX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.m=n[0]-1,a+n[0].length):-1}function E_(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.d=+n[0],a+n[0].length):-1}function IX(e,r,a){var n=_a.exec(r.slice(a,a+3));return n?(e.m=0,e.d=+n[0],a+n[0].length):-1}function w_(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.H=+n[0],a+n[0].length):-1}function DX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.M=+n[0],a+n[0].length):-1}function FX(e,r,a){var n=_a.exec(r.slice(a,a+2));return n?(e.S=+n[0],a+n[0].length):-1}function zX(e,r,a){var n=_a.exec(r.slice(a,a+3));return n?(e.L=+n[0],a+n[0].length):-1}function BX(e,r,a){var n=_a.exec(r.slice(a,a+6));return n?(e.L=Math.floor(n[0]/1e3),a+n[0].length):-1}function qX(e,r,a){var n=CX.exec(r.slice(a,a+1));return n?a+n[0].length:-1}function UX(e,r,a){var n=_a.exec(r.slice(a));return n?(e.Q=+n[0],a+n[0].length):-1}function VX(e,r,a){var n=_a.exec(r.slice(a));return n?(e.s=+n[0],a+n[0].length):-1}function N_(e,r){return mr(e.getDate(),r,2)}function HX(e,r){return mr(e.getHours(),r,2)}function WX(e,r){return mr(e.getHours()%12||12,r,2)}function GX(e,r){return mr(1+Am.count(bi(e),e),r,3)}function Vj(e,r){return mr(e.getMilliseconds(),r,3)}function KX(e,r){return Vj(e,r)+"000"}function XX(e,r){return mr(e.getMonth()+1,r,2)}function YX(e,r){return mr(e.getMinutes(),r,2)}function QX(e,r){return mr(e.getSeconds(),r,2)}function JX(e){var r=e.getDay();return r===0?7:r}function ZX(e,r){return mr(fg.count(bi(e)-1,e),r,2)}function Hj(e){var r=e.getDay();return r>=4||r===0?Oc(e):Oc.ceil(e)}function eY(e,r){return e=Hj(e),mr(Oc.count(bi(e),e)+(bi(e).getDay()===4),r,2)}function tY(e){return e.getDay()}function rY(e,r){return mr(c0.count(bi(e)-1,e),r,2)}function aY(e,r){return mr(e.getFullYear()%100,r,2)}function nY(e,r){return e=Hj(e),mr(e.getFullYear()%100,r,2)}function sY(e,r){return mr(e.getFullYear()%1e4,r,4)}function iY(e,r){var a=e.getDay();return e=a>=4||a===0?Oc(e):Oc.ceil(e),mr(e.getFullYear()%1e4,r,4)}function oY(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+mr(r/60|0,"0",2)+mr(r%60,"0",2)}function S_(e,r){return mr(e.getUTCDate(),r,2)}function lY(e,r){return mr(e.getUTCHours(),r,2)}function cY(e,r){return mr(e.getUTCHours()%12||12,r,2)}function dY(e,r){return mr(1+mg.count(xi(e),e),r,3)}function Wj(e,r){return mr(e.getUTCMilliseconds(),r,3)}function uY(e,r){return Wj(e,r)+"000"}function mY(e,r){return mr(e.getUTCMonth()+1,r,2)}function fY(e,r){return mr(e.getUTCMinutes(),r,2)}function pY(e,r){return mr(e.getUTCSeconds(),r,2)}function gY(e){var r=e.getUTCDay();return r===0?7:r}function hY(e,r){return mr(pg.count(xi(e)-1,e),r,2)}function Gj(e){var r=e.getUTCDay();return r>=4||r===0?Mc(e):Mc.ceil(e)}function yY(e,r){return e=Gj(e),mr(Mc.count(xi(e),e)+(xi(e).getUTCDay()===4),r,2)}function bY(e){return e.getUTCDay()}function xY(e,r){return mr(d0.count(xi(e)-1,e),r,2)}function vY(e,r){return mr(e.getUTCFullYear()%100,r,2)}function EY(e,r){return e=Gj(e),mr(e.getUTCFullYear()%100,r,2)}function wY(e,r){return mr(e.getUTCFullYear()%1e4,r,4)}function NY(e,r){var a=e.getUTCDay();return e=a>=4||a===0?Mc(e):Mc.ceil(e),mr(e.getUTCFullYear()%1e4,r,4)}function SY(){return"+0000"}function k_(){return"%"}function C_(e){return+e}function A_(e){return Math.floor(+e/1e3)}var ec,Kj,Xj;kY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kY(e){return ec=kX(e),Kj=ec.format,ec.parse,Xj=ec.utcFormat,ec.utcParse,ec}function CY(e){return new Date(e)}function AY(e){return e instanceof Date?+e:+new Date(+e)}function t2(e,r,a,n,s,i,o,d,u,m){var p=BN(),f=p.invert,y=p.domain,b=m(".%L"),E=m(":%S"),w=m("%I:%M"),x=m("%I %p"),N=m("%a %d"),S=m("%b %d"),k=m("%B"),P=m("%Y");function C(_){return(u(_)<_?b:d(_)<_?E:o(_)<_?w:i(_)<_?x:n(_)<_?s(_)<_?N:S:a(_)<_?k:P)(_)}return p.invert=function(_){return new Date(f(_))},p.domain=function(_){return arguments.length?y(Array.from(_,AY)):y().map(CY)},p.ticks=function(_){var O=y();return e(O[0],O[O.length-1],_??10)},p.tickFormat=function(_,O){return O==null?C:m(O)},p.nice=function(_){var O=y();return(!_||typeof _.range!="function")&&(_=r(O[0],O[O.length-1],_??10)),_?y($j(O,_)):p},p.copy=function(){return Cm(p,t2(e,r,a,n,s,i,o,d,u,m))},p}function _Y(){return es.apply(t2(NX,SX,bi,ZN,fg,Am,QN,XN,Qo,Kj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PY(){return es.apply(t2(EX,wX,xi,e2,pg,mg,JN,YN,Qo,Xj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gg(){var e=0,r=1,a,n,s,i,o=tn,d=!1,u;function m(f){return f==null||isNaN(f=+f)?u:o(s===0?.5:(f=(i(f)-a)*s,d?Math.max(0,Math.min(1,f)):f))}m.domain=function(f){return arguments.length?([e,r]=f,a=i(e=+e),n=i(r=+r),s=a===n?0:1/(n-a),m):[e,r]},m.clamp=function(f){return arguments.length?(d=!!f,m):d},m.interpolator=function(f){return arguments.length?(o=f,m):o};function p(f){return function(y){var b,E;return arguments.length?([b,E]=y,o=f(b,E),m):[o(0),o(1)]}}return m.range=p(sd),m.rangeRound=p(zN),m.unknown=function(f){return arguments.length?(u=f,m):u},function(f){return i=f,a=f(e),n=f(r),s=a===n?0:1/(n-a),m}}function xo(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Yj(){var e=bo(gg()(tn));return e.copy=function(){return xo(e,Yj())},Ai.apply(e,arguments)}function Qj(){var e=VN(gg()).domain([1,10]);return e.copy=function(){return xo(e,Qj()).base(e.base())},Ai.apply(e,arguments)}function Jj(){var e=HN(gg());return e.copy=function(){return xo(e,Jj()).constant(e.constant())},Ai.apply(e,arguments)}function r2(){var e=WN(gg());return e.copy=function(){return xo(e,r2()).exponent(e.exponent())},Ai.apply(e,arguments)}function TY(){return r2.apply(null,arguments).exponent(.5)}function Zj(){var e=[],r=tn;function a(n){if(n!=null&&!isNaN(n=+n))return r((Sm(e,n,1)-1)/(e.length-1))}return a.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(no),a},a.interpolator=function(n){return arguments.length?(r=n,a):r},a.range=function(){return e.map((n,s)=>r(s/(e.length-1)))},a.quantiles=function(n){return Array.from({length:n+1},(s,i)=>hK(e,i/n))},a.copy=function(){return Zj(r).domain(e)},Ai.apply(a,arguments)}function hg(){var e=0,r=.5,a=1,n=1,s,i,o,d,u,m=tn,p,f=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(n*w<n*i?d:u),m(f?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,r,a]=w,s=p(e=+e),i=p(r=+r),o=p(a=+a),d=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,b):[e,r,a]},b.clamp=function(w){return arguments.length?(f=!!w,b):f},b.interpolator=function(w){return arguments.length?(m=w,b):m};function E(w){return function(x){var N,S,k;return arguments.length?([N,S,k]=x,m=qK(w,[N,S,k]),b):[m(0),m(.5),m(1)]}}return b.range=E(sd),b.rangeRound=E(zN),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return p=w,s=w(e),i=w(r),o=w(a),d=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),n=i<s?-1:1,b}}function eR(){var e=bo(hg()(tn));return e.copy=function(){return xo(e,eR())},Ai.apply(e,arguments)}function tR(){var e=VN(hg()).domain([.1,1,10]);return e.copy=function(){return xo(e,tR()).base(e.base())},Ai.apply(e,arguments)}function rR(){var e=HN(hg());return e.copy=function(){return xo(e,rR()).constant(e.constant())},Ai.apply(e,arguments)}function a2(){var e=WN(hg());return e.copy=function(){return xo(e,a2()).exponent(e.exponent())},Ai.apply(e,arguments)}function OY(){return a2.apply(null,arguments).exponent(.5)}const __=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lu,scaleDiverging:eR,scaleDivergingLog:tR,scaleDivergingPow:a2,scaleDivergingSqrt:OY,scaleDivergingSymlog:rR,scaleIdentity:Rj,scaleImplicit:qw,scaleLinear:o0,scaleLog:Lj,scaleOrdinal:IN,scalePoint:xu,scalePow:GN,scaleQuantile:Fj,scaleQuantize:zj,scaleRadial:Dj,scaleSequential:Yj,scaleSequentialLog:Qj,scaleSequentialPow:r2,scaleSequentialQuantile:Zj,scaleSequentialSqrt:TY,scaleSequentialSymlog:Jj,scaleSqrt:uX,scaleSymlog:Ij,scaleThreshold:Bj,scaleTime:_Y,scaleUtc:PY,tickFormat:jj},Symbol.toStringTag,{value:"Module"}));var Hv,P_;function aR(){if(P_)return Hv;P_=1;var e=td();function r(a,n,s){for(var i=-1,o=a.length;++i<o;){var d=a[i],u=n(d);if(u!=null&&(m===void 0?u===u&&!e(u):s(u,m)))var m=u,p=d}return p}return Hv=r,Hv}var Wv,T_;function MY(){if(T_)return Wv;T_=1;function e(r,a){return r>a}return Wv=e,Wv}var Gv,O_;function jY(){if(O_)return Gv;O_=1;var e=aR(),r=MY(),a=ad();function n(s){return s&&s.length?e(s,a,r):void 0}return Gv=n,Gv}var RY=jY();const yg=Pr(RY);var Kv,M_;function $Y(){if(M_)return Kv;M_=1;function e(r,a){return r<a}return Kv=e,Kv}var Xv,j_;function LY(){if(j_)return Xv;j_=1;var e=aR(),r=$Y(),a=ad();function n(s){return s&&s.length?e(s,a,r):void 0}return Xv=n,Xv}var IY=LY();const bg=Pr(IY);var Yv,R_;function DY(){if(R_)return Yv;R_=1;var e=bN(),r=yo(),a=fj(),n=yn();function s(i,o){var d=n(i)?e:a;return d(i,r(o,3))}return Yv=s,Yv}var Qv,$_;function FY(){if($_)return Qv;$_=1;var e=uj(),r=DY();function a(n,s){return e(r(n,s),1)}return Qv=a,Qv}var zY=FY();const BY=Pr(zY);var Jv,L_;function qY(){if(L_)return Jv;L_=1;var e=ON();function r(a,n){return e(a,n)}return Jv=r,Jv}var UY=qY();const xg=Pr(UY);var od=1e9,VY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s2,Ur=!0,Zn="[DecimalError] ",il=Zn+"Invalid argument: ",n2=Zn+"Exponent out of range: ",ld=Math.floor,Ho=Math.pow,HY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,ka=1e7,Fr=7,nR=9007199254740991,u0=ld(nR/Fr),it={};it.absoluteValue=it.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};it.comparedTo=it.cmp=function(e){var r,a,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,r=0,a=n<s?n:s;r<a;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};it.decimalPlaces=it.dp=function(){var e=this,r=e.d.length-1,a=(r-e.e)*Fr;if(r=e.d[r],r)for(;r%10==0;r/=10)a--;return a<0?0:a};it.dividedBy=it.div=function(e){return gi(this,new this.constructor(e))};it.dividedToIntegerBy=it.idiv=function(e){var r=this,a=r.constructor;return _r(gi(r,new a(e),0,1),a.precision)};it.equals=it.eq=function(e){return!this.cmp(e)};it.exponent=function(){return ua(this)};it.greaterThan=it.gt=function(e){return this.cmp(e)>0};it.greaterThanOrEqualTo=it.gte=function(e){return this.cmp(e)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(e){return this.cmp(e)<0};it.lessThanOrEqualTo=it.lte=function(e){return this.cmp(e)<1};it.logarithm=it.log=function(e){var r,a=this,n=a.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cn))throw Error(Zn+"NaN");if(a.s<1)throw Error(Zn+(a.s?"NaN":"-Infinity"));return a.eq(Cn)?new n(0):(Ur=!1,r=gi(Bu(a,i),Bu(e,i),i),Ur=!0,_r(r,s))};it.minus=it.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?oR(r,e):sR(r,(e.s=-e.s,e))};it.modulo=it.mod=function(e){var r,a=this,n=a.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Zn+"NaN");return a.s?(Ur=!1,r=gi(a,e,0,1).times(e),Ur=!0,a.minus(r)):_r(new n(a),s)};it.naturalExponential=it.exp=function(){return iR(this)};it.naturalLogarithm=it.ln=function(){return Bu(this)};it.negated=it.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};it.plus=it.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?sR(r,e):oR(r,(e.s=-e.s,e))};it.precision=it.sd=function(e){var r,a,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(il+e);if(r=ua(s)+1,n=s.d.length-1,a=n*Fr+1,n=s.d[n],n){for(;n%10==0;n/=10)a--;for(n=s.d[0];n>=10;n/=10)a++}return e&&r>a?r:a};it.squareRoot=it.sqrt=function(){var e,r,a,n,s,i,o,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(Zn+"NaN")}for(e=ua(d),Ur=!1,s=Math.sqrt(+d),s==0||s==1/0?(r=Fs(d.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=ld((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new u(r)):n=new u(s.toString()),a=u.precision,s=o=a+3;;)if(i=n,n=i.plus(gi(d,i,o+2)).times(.5),Fs(i.d).slice(0,o)===(r=Fs(n.d)).slice(0,o)){if(r=r.slice(o-3,o+1),s==o&&r=="4999"){if(_r(i,a+1,0),i.times(i).eq(d)){n=i;break}}else if(r!="9999")break;o+=4}return Ur=!0,_r(n,a)};it.times=it.mul=function(e){var r,a,n,s,i,o,d,u,m,p=this,f=p.constructor,y=p.d,b=(e=new f(e)).d;if(!p.s||!e.s)return new f(0);for(e.s*=p.s,a=p.e+e.e,u=y.length,m=b.length,u<m&&(i=y,y=b,b=i,o=u,u=m,m=o),i=[],o=u+m,n=o;n--;)i.push(0);for(n=m;--n>=0;){for(r=0,s=u+n;s>n;)d=i[s]+b[n]*y[s-n-1]+r,i[s--]=d%ka|0,r=d/ka|0;i[s]=(i[s]+r)%ka|0}for(;!i[--o];)i.pop();return r?++a:i.shift(),e.d=i,e.e=a,Ur?_r(e,f.precision):e};it.toDecimalPlaces=it.todp=function(e,r){var a=this,n=a.constructor;return a=new n(a),e===void 0?a:(Hs(e,0,od),r===void 0?r=n.rounding:Hs(r,0,8),_r(a,e+ua(a)+1,r))};it.toExponential=function(e,r){var a,n=this,s=n.constructor;return e===void 0?a=fl(n,!0):(Hs(e,0,od),r===void 0?r=s.rounding:Hs(r,0,8),n=_r(new s(n),e+1,r),a=fl(n,!0,e+1)),a};it.toFixed=function(e,r){var a,n,s=this,i=s.constructor;return e===void 0?fl(s):(Hs(e,0,od),r===void 0?r=i.rounding:Hs(r,0,8),n=_r(new i(s),e+ua(s)+1,r),a=fl(n.abs(),!1,e+ua(n)+1),s.isneg()&&!s.isZero()?"-"+a:a)};it.toInteger=it.toint=function(){var e=this,r=e.constructor;return _r(new r(e),ua(e)+1,r.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(e){var r,a,n,s,i,o,d=this,u=d.constructor,m=12,p=+(e=new u(e));if(!e.s)return new u(Cn);if(d=new u(d),!d.s){if(e.s<1)throw Error(Zn+"Infinity");return d}if(d.eq(Cn))return d;if(n=u.precision,e.eq(Cn))return _r(d,n);if(r=e.e,a=e.d.length-1,o=r>=a,i=d.s,o){if((a=p<0?-p:p)<=nR){for(s=new u(Cn),r=Math.ceil(n/Fr+4),Ur=!1;a%2&&(s=s.times(d),D_(s.d,r)),a=ld(a/2),a!==0;)d=d.times(d),D_(d.d,r);return Ur=!0,e.s<0?new u(Cn).div(s):_r(s,n)}}else if(i<0)throw Error(Zn+"NaN");return i=i<0&&e.d[Math.max(r,a)]&1?-1:1,d.s=1,Ur=!1,s=e.times(Bu(d,n+m)),Ur=!0,s=iR(s),s.s=i,s};it.toPrecision=function(e,r){var a,n,s=this,i=s.constructor;return e===void 0?(a=ua(s),n=fl(s,a<=i.toExpNeg||a>=i.toExpPos)):(Hs(e,1,od),r===void 0?r=i.rounding:Hs(r,0,8),s=_r(new i(s),e,r),a=ua(s),n=fl(s,e<=a||a<=i.toExpNeg,e)),n};it.toSignificantDigits=it.tosd=function(e,r){var a=this,n=a.constructor;return e===void 0?(e=n.precision,r=n.rounding):(Hs(e,1,od),r===void 0?r=n.rounding:Hs(r,0,8)),_r(new n(a),e,r)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=ua(e),a=e.constructor;return fl(e,r<=a.toExpNeg||r>=a.toExpPos)};function sR(e,r){var a,n,s,i,o,d,u,m,p=e.constructor,f=p.precision;if(!e.s||!r.s)return r.s||(r=new p(e)),Ur?_r(r,f):r;if(u=e.d,m=r.d,o=e.e,s=r.e,u=u.slice(),i=o-s,i){for(i<0?(n=u,i=-i,d=m.length):(n=m,s=o,d=u.length),o=Math.ceil(f/Fr),d=o>d?o+1:d+1,i>d&&(i=d,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(d=u.length,i=m.length,d-i<0&&(i=d,n=m,m=u,u=n),a=0;i;)a=(u[--i]=u[i]+m[i]+a)/ka|0,u[i]%=ka;for(a&&(u.unshift(a),++s),d=u.length;u[--d]==0;)u.pop();return r.d=u,r.e=s,Ur?_r(r,f):r}function Hs(e,r,a){if(e!==~~e||e<r||e>a)throw Error(il+e)}function Fs(e){var r,a,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,r=1;r<s;r++)n=e[r]+"",a=Fr-n.length,a&&(i+=Qi(a)),i+=n;o=e[r],n=o+"",a=Fr-n.length,a&&(i+=Qi(a))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var gi=(function(){function e(n,s){var i,o=0,d=n.length;for(n=n.slice();d--;)i=n[d]*s+o,n[d]=i%ka|0,o=i/ka|0;return o&&n.unshift(o),n}function r(n,s,i,o){var d,u;if(i!=o)u=i>o?1:-1;else for(d=u=0;d<i;d++)if(n[d]!=s[d]){u=n[d]>s[d]?1:-1;break}return u}function a(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ka+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var d,u,m,p,f,y,b,E,w,x,N,S,k,P,C,_,O,T,R=n.constructor,D=n.s==s.s?1:-1,j=n.d,L=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(Zn+"Division by zero");for(u=n.e-s.e,O=L.length,C=j.length,b=new R(D),E=b.d=[],m=0;L[m]==(j[m]||0);)++m;if(L[m]>(j[m]||0)&&--u,i==null?S=i=R.precision:o?S=i+(ua(n)-ua(s))+1:S=i,S<0)return new R(0);if(S=S/Fr+2|0,m=0,O==1)for(p=0,L=L[0],S++;(m<C||p)&&S--;m++)k=p*ka+(j[m]||0),E[m]=k/L|0,p=k%L|0;else{for(p=ka/(L[0]+1)|0,p>1&&(L=e(L,p),j=e(j,p),O=L.length,C=j.length),P=O,w=j.slice(0,O),x=w.length;x<O;)w[x++]=0;T=L.slice(),T.unshift(0),_=L[0],L[1]>=ka/2&&++_;do p=0,d=r(L,w,O,x),d<0?(N=w[0],O!=x&&(N=N*ka+(w[1]||0)),p=N/_|0,p>1?(p>=ka&&(p=ka-1),f=e(L,p),y=f.length,x=w.length,d=r(f,w,y,x),d==1&&(p--,a(f,O<y?T:L,y))):(p==0&&(d=p=1),f=L.slice()),y=f.length,y<x&&f.unshift(0),a(w,f,x),d==-1&&(x=w.length,d=r(L,w,O,x),d<1&&(p++,a(w,O<x?T:L,x))),x=w.length):d===0&&(p++,w=[0]),E[m++]=p,d&&w[0]?w[x++]=j[P]||0:(w=[j[P]],x=1);while((P++<C||w[0]!==void 0)&&S--)}return E[0]||E.shift(),b.e=u,_r(b,o?i+ua(b)+1:i)}})();function iR(e,r){var a,n,s,i,o,d,u=0,m=0,p=e.constructor,f=p.precision;if(ua(e)>16)throw Error(n2+ua(e));if(!e.s)return new p(Cn);for(Ur=!1,d=f,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(n=Math.log(Ho(2,m))/Math.LN10*2+5|0,d+=n,a=s=i=new p(Cn),p.precision=d;;){if(s=_r(s.times(e),d),a=a.times(++u),o=i.plus(gi(s,a,d)),Fs(o.d).slice(0,d)===Fs(i.d).slice(0,d)){for(;m--;)i=_r(i.times(i),d);return p.precision=f,r==null?(Ur=!0,_r(i,f)):i}i=o}}function ua(e){for(var r=e.e*Fr,a=e.d[0];a>=10;a/=10)r++;return r}function Zv(e,r,a){if(r>e.LN10.sd())throw Ur=!0,a&&(e.precision=a),Error(Zn+"LN10 precision limit exceeded");return _r(new e(e.LN10),r)}function Qi(e){for(var r="";e--;)r+="0";return r}function Bu(e,r){var a,n,s,i,o,d,u,m,p,f=1,y=10,b=e,E=b.d,w=b.constructor,x=w.precision;if(b.s<1)throw Error(Zn+(b.s?"NaN":"-Infinity"));if(b.eq(Cn))return new w(0);if(r==null?(Ur=!1,m=x):m=r,b.eq(10))return r==null&&(Ur=!0),Zv(w,m);if(m+=y,w.precision=m,a=Fs(E),n=a.charAt(0),i=ua(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&a.charAt(1)>3;)b=b.times(e),a=Fs(b.d),n=a.charAt(0),f++;i=ua(b),n>1?(b=new w("0."+a),i++):b=new w(n+"."+a.slice(1))}else return u=Zv(w,m+2,x).times(i+""),b=Bu(new w(n+"."+a.slice(1)),m-y).plus(u),w.precision=x,r==null?(Ur=!0,_r(b,x)):b;for(d=o=b=gi(b.minus(Cn),b.plus(Cn),m),p=_r(b.times(b),m),s=3;;){if(o=_r(o.times(p),m),u=d.plus(gi(o,new w(s),m)),Fs(u.d).slice(0,m)===Fs(d.d).slice(0,m))return d=d.times(2),i!==0&&(d=d.plus(Zv(w,m+2,x).times(i+""))),d=gi(d,new w(f),m),w.precision=x,r==null?(Ur=!0,_r(d,x)):d;d=u,s+=2}}function I_(e,r){var a,n,s;for((a=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(a<0&&(a=n),a+=+r.slice(n+1),r=r.substring(0,n)):a<0&&(a=r.length),n=0;r.charCodeAt(n)===48;)++n;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(n,s),r){if(s-=n,a=a-n-1,e.e=ld(a/Fr),e.d=[],n=(a+1)%Fr,a<0&&(n+=Fr),n<s){for(n&&e.d.push(+r.slice(0,n)),s-=Fr;n<s;)e.d.push(+r.slice(n,n+=Fr));r=r.slice(n),n=Fr-r.length}else n-=s;for(;n--;)r+="0";if(e.d.push(+r),Ur&&(e.e>u0||e.e<-u0))throw Error(n2+a)}else e.s=0,e.e=0,e.d=[0];return e}function _r(e,r,a){var n,s,i,o,d,u,m,p,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=r-o,n<0)n+=Fr,s=r,m=f[p=0];else{if(p=Math.ceil((n+1)/Fr),i=f.length,p>=i)return e;for(m=i=f[p],o=1;i>=10;i/=10)o++;n%=Fr,s=n-Fr+o}if(a!==void 0&&(i=Ho(10,o-s-1),d=m/i%10|0,u=r<0||f[p+1]!==void 0||m%i,u=a<4?(d||u)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||u||a==6&&(n>0?s>0?m/Ho(10,o-s):0:f[p-1])%10&1||a==(e.s<0?8:7))),r<1||!f[0])return u?(i=ua(e),f.length=1,r=r-i-1,f[0]=Ho(10,(Fr-r%Fr)%Fr),e.e=ld(-r/Fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=p,i=1,p--):(f.length=p+1,i=Ho(10,Fr-n),f[p]=s>0?(m/Ho(10,o-s)%Ho(10,s)|0)*i:0),u)for(;;)if(p==0){(f[0]+=i)==ka&&(f[0]=1,++e.e);break}else{if(f[p]+=i,f[p]!=ka)break;f[p--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ur&&(e.e>u0||e.e<-u0))throw Error(n2+ua(e));return e}function oR(e,r){var a,n,s,i,o,d,u,m,p,f,y=e.constructor,b=y.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new y(e),Ur?_r(r,b):r;if(u=e.d,f=r.d,n=r.e,m=e.e,u=u.slice(),o=m-n,o){for(p=o<0,p?(a=u,o=-o,d=f.length):(a=f,n=m,d=u.length),s=Math.max(Math.ceil(b/Fr),d)+2,o>s&&(o=s,a.length=1),a.reverse(),s=o;s--;)a.push(0);a.reverse()}else{for(s=u.length,d=f.length,p=s<d,p&&(d=s),s=0;s<d;s++)if(u[s]!=f[s]){p=u[s]<f[s];break}o=0}for(p&&(a=u,u=f,f=a,r.s=-r.s),d=u.length,s=f.length-d;s>0;--s)u[d++]=0;for(s=f.length;s>o;){if(u[--s]<f[s]){for(i=s;i&&u[--i]===0;)u[i]=ka-1;--u[i],u[s]+=ka}u[s]-=f[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(r.d=u,r.e=n,Ur?_r(r,b):r):new y(0)}function fl(e,r,a){var n,s=ua(e),i=Fs(e.d),o=i.length;return r?(a&&(n=a-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qi(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Qi(-s-1)+i,a&&(n=a-o)>0&&(i+=Qi(n))):s>=o?(i+=Qi(s+1-o),a&&(n=a-s-1)>0&&(i=i+"."+Qi(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),a&&(n=a-o)>0&&(s+1===o&&(i+="."),i+=Qi(n))),e.s<0?"-"+i:i}function D_(e,r){if(e.length>r)return e.length=r,!0}function lR(e){var r,a,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(il+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return I_(o,i.toString())}else if(typeof i!="string")throw Error(il+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,HY.test(i))I_(o,i);else throw Error(il+i)}if(s.prototype=it,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=lR,s.config=s.set=WY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)e.hasOwnProperty(a=n[r++])||(e[a]=this[a]);return s.config(e),s}function WY(e){if(!e||typeof e!="object")throw Error(Zn+"Object expected");var r,a,n,s=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((n=e[a=s[r]])!==void 0)if(ld(n)===n&&n>=s[r+1]&&n<=s[r+2])this[a]=n;else throw Error(il+a+": "+n);if((n=e[a="LN10"])!==void 0)if(n==Math.LN10)this[a]=new this(n);else throw Error(il+a+": "+n);return this}var s2=lR(VY);Cn=new s2(1);const kr=s2;function GY(e){return QY(e)||YY(e)||XY(e)||KY()}function KY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(e,r){if(e){if(typeof e=="string")return Ww(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ww(e,r)}}function YY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QY(e){if(Array.isArray(e))return Ww(e)}function Ww(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}var JY=function(r){return r},cR={},dR=function(r){return r===cR},F_=function(r){return function a(){return arguments.length===0||arguments.length===1&&dR(arguments.length<=0?void 0:arguments[0])?a:r.apply(void 0,arguments)}},ZY=function e(r,a){return r===1?a:F_(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(d){return d!==cR}).length;return o>=r?a.apply(void 0,s):e(r-o,F_(function(){for(var d=arguments.length,u=new Array(d),m=0;m<d;m++)u[m]=arguments[m];var p=s.map(function(f){return dR(f)?u.shift():f});return a.apply(void 0,GY(p).concat(u))}))})},vg=function(r){return ZY(r.length,r)},Gw=function(r,a){for(var n=[],s=r;s<a;++s)n[s-r]=s;return n},eQ=vg(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(a){return r[a]}).map(e)}),tQ=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];if(!a.length)return JY;var s=a.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(d,u){return u(d)},i.apply(void 0,arguments))}},Kw=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},uR=function(r){var a=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a&&i.every(function(d,u){return d===a[u]})||(a=i,n=r.apply(void 0,i)),n}};function rQ(e){var r;return e===0?r=1:r=Math.floor(new kr(e).abs().log(10).toNumber())+1,r}function aQ(e,r,a){for(var n=new kr(e),s=0,i=[];n.lt(r)&&s<1e5;)i.push(n.toNumber()),n=n.add(a),s++;return i}var nQ=vg(function(e,r,a){var n=+e,s=+r;return n+a*(s-n)}),sQ=vg(function(e,r,a){var n=r-+e;return n=n||1/0,(a-e)/n}),iQ=vg(function(e,r,a){var n=r-+e;return n=n||1/0,Math.max(0,Math.min(1,(a-e)/n))});const Eg={rangeStep:aQ,getDigitCount:rQ,interpolateNumber:nQ,uninterpolateNumber:sQ,uninterpolateTruncation:iQ};function Xw(e){return cQ(e)||lQ(e)||mR(e)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cQ(e){if(Array.isArray(e))return Yw(e)}function qu(e,r){return mQ(e)||uQ(e,r)||mR(e,r)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(e,r){if(e){if(typeof e=="string")return Yw(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Yw(e,r)}}function Yw(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function uQ(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var a=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),d;!(n=(d=o.next()).done)&&(a.push(d.value),!(r&&a.length===r));n=!0);}catch(u){s=!0,i=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return a}}function mQ(e){if(Array.isArray(e))return e}function fR(e){var r=qu(e,2),a=r[0],n=r[1],s=a,i=n;return a>n&&(s=n,i=a),[s,i]}function pR(e,r,a){if(e.lte(0))return new kr(0);var n=Eg.getDigitCount(e.toNumber()),s=new kr(10).pow(n),i=e.div(s),o=n!==1?.05:.1,d=new kr(Math.ceil(i.div(o).toNumber())).add(a).mul(o),u=d.mul(s);return r?u:new kr(Math.ceil(u))}function fQ(e,r,a){var n=1,s=new kr(e);if(!s.isint()&&a){var i=Math.abs(e);i<1?(n=new kr(10).pow(Eg.getDigitCount(e)-1),s=new kr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new kr(Math.floor(e)))}else e===0?s=new kr(Math.floor((r-1)/2)):a||(s=new kr(Math.floor(e)));var o=Math.floor((r-1)/2),d=tQ(eQ(function(u){return s.add(new kr(u-o).mul(n)).toNumber()}),Gw);return d(0,r)}function gR(e,r,a,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(a-1)))return{step:new kr(0),tickMin:new kr(0),tickMax:new kr(0)};var i=pR(new kr(r).sub(e).div(a-1),n,s),o;e<=0&&r>=0?o=new kr(0):(o=new kr(e).add(r).div(2),o=o.sub(new kr(o).mod(i)));var d=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new kr(r).sub(o).div(i).toNumber()),m=d+u+1;return m>a?gR(e,r,a,n,s+1):(m<a&&(u=r>0?u+(a-m):u,d=r>0?d:d+(a-m)),{step:i,tickMin:o.sub(new kr(d).mul(i)),tickMax:o.add(new kr(u).mul(i))})}function pQ(e){var r=qu(e,2),a=r[0],n=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),d=fR([a,n]),u=qu(d,2),m=u[0],p=u[1];if(m===-1/0||p===1/0){var f=p===1/0?[m].concat(Xw(Gw(0,s-1).map(function(){return 1/0}))):[].concat(Xw(Gw(0,s-1).map(function(){return-1/0})),[p]);return a>n?Kw(f):f}if(m===p)return fQ(m,s,i);var y=gR(m,p,o,i),b=y.step,E=y.tickMin,w=y.tickMax,x=Eg.rangeStep(E,w.add(new kr(.1).mul(b)),b);return a>n?Kw(x):x}function gQ(e,r){var a=qu(e,2),n=a[0],s=a[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fR([n,s]),d=qu(o,2),u=d[0],m=d[1];if(u===-1/0||m===1/0)return[n,s];if(u===m)return[u];var p=Math.max(r,2),f=pR(new kr(m).sub(u).div(p-1),i,0),y=[].concat(Xw(Eg.rangeStep(new kr(u),new kr(m).sub(new kr(.99).mul(f)),f)),[m]);return n>s?Kw(y):y}var hQ=uR(pQ),yQ=uR(gQ),bQ="Invariant failed";function pl(e,r){throw new Error(bQ)}var xQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jc(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m0.apply(this,arguments)}function vQ(e,r){return SQ(e)||NQ(e,r)||wQ(e,r)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(e,r){if(e){if(typeof e=="string")return z_(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z_(e,r)}}function z_(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function NQ(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function SQ(e){if(Array.isArray(e))return e}function kQ(e,r){if(e==null)return{};var a=CQ(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function CQ(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function AQ(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _Q(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bR(n.key),n)}}function PQ(e,r,a){return r&&_Q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TQ(e,r,a){return r=f0(r),OQ(e,hR()?Reflect.construct(r,a||[],f0(e).constructor):r.apply(e,a))}function OQ(e,r){if(r&&(jc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(e)}function MQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!e})()}function f0(e){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},f0(e)}function jQ(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Qw(e,r)}function Qw(e,r){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qw(e,r)}function yR(e,r,a){return r=bR(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function bR(e){var r=RQ(e,"string");return jc(r)=="symbol"?r:r+""}function RQ(e,r){if(jc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _m=(function(e){function r(){return AQ(this,r),TQ(this,r,arguments)}return jQ(r,e),PQ(r,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,d=n.dataKey,u=n.data,m=n.dataPointFormatter,p=n.xAxis,f=n.yAxis,y=kQ(n,xQ),b=ar(y,!1);this.props.direction==="x"&&p.type!=="number"&&pl();var E=u.map(function(w){var x=m(w,d),N=x.x,S=x.y,k=x.value,P=x.errorVal;if(!P)return null;var C=[],_,O;if(Array.isArray(P)){var T=vQ(P,2);_=T[0],O=T[1]}else _=O=P;if(i==="vertical"){var R=p.scale,D=S+s,j=D+o,L=D-o,K=R(k-_),W=R(k+O);C.push({x1:W,y1:j,x2:W,y2:L}),C.push({x1:K,y1:D,x2:W,y2:D}),C.push({x1:K,y1:j,x2:K,y2:L})}else if(i==="horizontal"){var $=f.scale,J=N+s,Q=J-o,X=J+o,H=$(k-_),I=$(k+O);C.push({x1:Q,y1:I,x2:X,y2:I}),C.push({x1:J,y1:H,x2:J,y2:I}),C.push({x1:Q,y1:H,x2:X,y2:H})}return t.createElement(aa,m0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},b),C.map(function(B){return t.createElement("line",m0({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return t.createElement(aa,{className:"recharts-errorBars"},E)}}])})(t.Component);yR(_m,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yR(_m,"displayName","ErrorBar");function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uu(e)}function B_(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Fo(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?B_(Object(a),!0).forEach(function(n){$Q(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B_(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function $Q(e,r,a){return r=LQ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function LQ(e){var r=IQ(e,"string");return Uu(r)=="symbol"?r:r+""}function IQ(e,r){if(Uu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xR=function(r){var a=r.children,n=r.formattedGraphicalItems,s=r.legendWidth,i=r.legendContent,o=Sn(a,nl);if(!o)return null;var d=nl.defaultProps,u=d!==void 0?Fo(Fo({},d),o.props):{},m;return o.props&&o.props.payload?m=o.props&&o.props.payload:i==="children"?m=(n||[]).reduce(function(p,f){var y=f.item,b=f.props,E=b.sectors||b.data||[];return p.concat(E.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):m=(n||[]).map(function(p){var f=p.item,y=f.type.defaultProps,b=y!==void 0?Fo(Fo({},y),f.props):{},E=b.dataKey,w=b.name,x=b.legendType,N=b.hide;return{inactive:N,dataKey:E,type:u.iconType||x||"square",color:i2(f),value:w||E,payload:b}}),Fo(Fo(Fo({},u),nl.getWithHeight(o,s)),{},{payload:m,item:o})};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vu(e)}function q_(e){return BQ(e)||zQ(e)||FQ(e)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FQ(e,r){if(e){if(typeof e=="string")return Jw(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Jw(e,r)}}function zQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BQ(e){if(Array.isArray(e))return Jw(e)}function Jw(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function U_(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Zr(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?U_(Object(a),!0).forEach(function(n){xc(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U_(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function xc(e,r,a){return r=qQ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function qQ(e){var r=UQ(e,"string");return Vu(r)=="symbol"?r:r+""}function UQ(e,r){if(Vu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pn(e,r,a){return Xt(e)||Xt(r)?a:ya(r)?Yn(e,r,a):Wt(r)?r(e):a}function vu(e,r,a,n){var s=BY(e,function(d){return Pn(d,r)});if(a==="number"){var i=s.filter(function(d){return Xe(d)||parseFloat(d)});return i.length?[bg(i),yg(i)]:[1/0,-1/0]}var o=n?s.filter(function(d){return!Xt(d)}):s;return o.map(function(d){return ya(d)||d instanceof Date?d:""})}var VQ=function(r){var a,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,d=(a=n?.length)!==null&&a!==void 0?a:0;if(d<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,m=0;m<d;m++){var p=m>0?s[m-1].coordinate:s[d-1].coordinate,f=s[m].coordinate,y=m>=d-1?s[0].coordinate:s[m+1].coordinate,b=void 0;if(xs(f-p)!==xs(y-f)){var E=[];if(xs(y-f)===xs(u[1]-u[0])){b=y;var w=f+u[1]-u[0];E[0]=Math.min(w,(w+p)/2),E[1]=Math.max(w,(w+p)/2)}else{b=p;var x=y+u[1]-u[0];E[0]=Math.min(f,(x+f)/2),E[1]=Math.max(f,(x+f)/2)}var N=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(r>N[0]&&r<=N[1]||r>=E[0]&&r<=E[1]){o=s[m].index;break}}else{var S=Math.min(p,y),k=Math.max(p,y);if(r>(S+f)/2&&r<=(k+f)/2){o=s[m].index;break}}}else for(var P=0;P<d;P++)if(P===0&&r<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<d-1&&r>(n[P].coordinate+n[P-1].coordinate)/2&&r<=(n[P].coordinate+n[P+1].coordinate)/2||P===d-1&&r>(n[P].coordinate+n[P-1].coordinate)/2){o=n[P].index;break}return o},i2=function(r){var a,n=r,s=n.type.displayName,i=(a=r.type)!==null&&a!==void 0&&a.defaultProps?Zr(Zr({},r.type.defaultProps),r.props):r.props,o=i.stroke,d=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:d;break;default:u=d;break}return u},HQ=function(r){var a=r.barSize,n=r.totalSize,s=r.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},d=Object.keys(i),u=0,m=d.length;u<m;u++)for(var p=i[d[u]].stackGroups,f=Object.keys(p),y=0,b=f.length;y<b;y++){var E=p[f[y]],w=E.items,x=E.cateAxisId,N=w.filter(function(O){return fi(O.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,k=S!==void 0?Zr(Zr({},S),N[0].props):N[0].props,P=k.barSize,C=k[x];o[C]||(o[C]=[]);var _=Xt(P)?a:P;o[C].push({item:N[0],stackList:N.slice(1),barSize:Xt(_)?void 0:ml(_,n,0)})}}return o},WQ=function(r){var a=r.barGap,n=r.barCategoryGap,s=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,d=r.maxBarSize,u=o.length;if(u<1)return null;var m=ml(a,s,0,!0),p,f=[];if(o[0].barSize===+o[0].barSize){var y=!1,b=s/u,E=o.reduce(function(P,C){return P+C.barSize||0},0);E+=(u-1)*m,E>=s&&(E-=(u-1)*m,m=0),E>=s&&b>0&&(y=!0,b*=.9,E=u*b);var w=(s-E)/2>>0,x={offset:w-m,size:0};p=o.reduce(function(P,C){var _={item:C.item,position:{offset:x.offset+x.size+m,size:y?b:C.barSize}},O=[].concat(q_(P),[_]);return x=O[O.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){O.push({item:T,position:x})}),O},f)}else{var N=ml(n,s,0,!0);s-2*N-(u-1)*m<=0&&(m=0);var S=(s-2*N-(u-1)*m)/u;S>1&&(S>>=0);var k=d===+d?Math.min(S,d):S;p=o.reduce(function(P,C,_){var O=[].concat(q_(P),[{item:C.item,position:{offset:N+(S+m)*_+(S-k)/2,size:k}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){O.push({item:T,position:O[O.length-1].position})}),O},f)}return p},GQ=function(r,a,n,s){var i=n.children,o=n.width,d=n.margin,u=o-(d.left||0)-(d.right||0),m=xR({children:i,legendWidth:u});if(m){var p=s||{},f=p.width,y=p.height,b=m.align,E=m.verticalAlign,w=m.layout;if((w==="vertical"||w==="horizontal"&&E==="middle")&&b!=="center"&&Xe(r[b]))return Zr(Zr({},r),{},xc({},b,r[b]+(f||0)));if((w==="horizontal"||w==="vertical"&&b==="center")&&E!=="middle"&&Xe(r[E]))return Zr(Zr({},r),{},xc({},E,r[E]+(y||0)))}return r},KQ=function(r,a,n){return Xt(a)?!0:r==="horizontal"?a==="yAxis":r==="vertical"||n==="x"?a==="xAxis":n==="y"?a==="yAxis":!0},vR=function(r,a,n,s,i){var o=a.props.children,d=Qn(o,_m).filter(function(m){return KQ(s,i,m.props.direction)});if(d&&d.length){var u=d.map(function(m){return m.props.dataKey});return r.reduce(function(m,p){var f=Pn(p,n);if(Xt(f))return m;var y=Array.isArray(f)?[bg(f),yg(f)]:[f,f],b=u.reduce(function(E,w){var x=Pn(p,w,0),N=y[0]-Math.abs(Array.isArray(x)?x[0]:x),S=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(N,E[0]),Math.max(S,E[1])]},[1/0,-1/0]);return[Math.min(b[0],m[0]),Math.max(b[1],m[1])]},[1/0,-1/0])}return null},XQ=function(r,a,n,s,i){var o=a.map(function(d){return vR(r,d,n,i,s)}).filter(function(d){return!Xt(d)});return o&&o.length?o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]):null},ER=function(r,a,n,s,i){var o=a.map(function(u){var m=u.props.dataKey;return n==="number"&&m&&vR(r,u,m,s)||vu(r,m,n,i)});if(n==="number")return o.reduce(function(u,m){return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);var d={};return o.reduce(function(u,m){for(var p=0,f=m.length;p<f;p++)d[m[p]]||(d[m[p]]=!0,u.push(m[p]));return u},[])},wR=function(r,a){return r==="horizontal"&&a==="xAxis"||r==="vertical"&&a==="yAxis"||r==="centric"&&a==="angleAxis"||r==="radial"&&a==="radiusAxis"},NR=function(r,a,n,s){if(s)return r.map(function(u){return u.coordinate});var i,o,d=r.map(function(u){return u.coordinate===a&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate});return i||d.push(a),o||d.push(n),d},mi=function(r,a,n){if(!r)return null;var s=r.scale,i=r.duplicateDomain,o=r.type,d=r.range,u=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,m=(a||n)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(m=r.axisType==="angleAxis"&&d?.length>=2?xs(d[0]-d[1])*2*m:m,a&&(r.ticks||r.niceTicks)){var p=(r.ticks||r.niceTicks).map(function(f){var y=i?i.indexOf(f):f;return{coordinate:s(y)+m,value:f,offset:m}});return p.filter(function(f){return!Em(f.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(f,y){return{coordinate:s(f)+m,value:f,index:y,offset:m}}):s.ticks&&!n?s.ticks(r.tickCount).map(function(f){return{coordinate:s(f)+m,value:f,offset:m}}):s.domain().map(function(f,y){return{coordinate:s(f)+m,value:i?i[f]:f,index:y,offset:m}})},eE=new WeakMap,Hf=function(r,a){if(typeof a!="function")return r;eE.has(r)||eE.set(r,new WeakMap);var n=eE.get(r);if(n.has(a))return n.get(a);var s=function(){r.apply(void 0,arguments),a.apply(void 0,arguments)};return n.set(a,s),s},YQ=function(r,a,n){var s=r.scale,i=r.type,o=r.layout,d=r.axisType;if(s==="auto")return o==="radial"&&d==="radiusAxis"?{scale:Lu(),realScaleType:"band"}:o==="radial"&&d==="angleAxis"?{scale:o0(),realScaleType:"linear"}:i==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?{scale:xu(),realScaleType:"point"}:i==="category"?{scale:Lu(),realScaleType:"band"}:{scale:o0(),realScaleType:"linear"};if(ul(s)){var u="scale".concat(ng(s));return{scale:(__[u]||xu)(),realScaleType:__[u]?u:"point"}}return Wt(s)?{scale:s}:{scale:xu(),realScaleType:"point"}},V_=1e-4,QQ=function(r){var a=r.domain();if(!(!a||a.length<=2)){var n=a.length,s=r.range(),i=Math.min(s[0],s[1])-V_,o=Math.max(s[0],s[1])+V_,d=r(a[0]),u=r(a[n-1]);(d<i||d>o||u<i||u>o)&&r.domain([a[0],a[n-1]])}},JQ=function(r,a){if(!r)return null;for(var n=0,s=r.length;n<s;n++)if(r[n].item===a)return r[n].position;return null},ZQ=function(r,a){if(!a||a.length!==2||!Xe(a[0])||!Xe(a[1]))return r;var n=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]),i=[r[0],r[1]];return(!Xe(r[0])||r[0]<n)&&(i[0]=n),(!Xe(r[1])||r[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},eJ=function(r){var a=r.length;if(!(a<=0))for(var n=0,s=r[0].length;n<s;++n)for(var i=0,o=0,d=0;d<a;++d){var u=Em(r[d][n][1])?r[d][n][0]:r[d][n][1];u>=0?(r[d][n][0]=i,r[d][n][1]=i+u,i=r[d][n][1]):(r[d][n][0]=o,r[d][n][1]=o+u,o=r[d][n][1])}},tJ=function(r){var a=r.length;if(!(a<=0))for(var n=0,s=r[0].length;n<s;++n)for(var i=0,o=0;o<a;++o){var d=Em(r[o][n][1])?r[o][n][0]:r[o][n][1];d>=0?(r[o][n][0]=i,r[o][n][1]=i+d,i=r[o][n][1]):(r[o][n][0]=0,r[o][n][1]=0)}},rJ={sign:eJ,expand:FV,none:kc,silhouette:zV,wiggle:BV,positive:tJ},aJ=function(r,a,n){var s=a.map(function(d){return d.props.dataKey}),i=rJ[n],o=DV().keys(s).value(function(d,u){return+Pn(d,u,0)}).order(_w).offset(i);return o(r)},nJ=function(r,a,n,s,i,o){if(!r)return null;var d=o?a.reverse():a,u={},m=d.reduce(function(f,y){var b,E=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Zr(Zr({},y.type.defaultProps),y.props):y.props,w=E.stackId,x=E.hide;if(x)return f;var N=E[n],S=f[N]||{hasStack:!1,stackGroups:{}};if(ya(w)){var k=S.stackGroups[w]||{numericAxisId:n,cateAxisId:s,items:[]};k.items.push(y),S.hasStack=!0,S.stackGroups[w]=k}else S.stackGroups[wm("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[y]};return Zr(Zr({},f),{},xc({},N,S))},u),p={};return Object.keys(m).reduce(function(f,y){var b=m[y];if(b.hasStack){var E={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(w,x){var N=b.stackGroups[x];return Zr(Zr({},w),{},xc({},x,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:aJ(r,N.items,i)}))},E)}return Zr(Zr({},f),{},xc({},y,b))},p)},sJ=function(r,a){var n=a.realScaleType,s=a.type,i=a.tickCount,o=a.originalDomain,d=a.allowDecimals,u=n||a.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var m=r.domain();if(!m.length)return null;var p=hQ(m,i,d);return r.domain([bg(p),yg(p)]),{niceTicks:p}}if(i&&s==="number"){var f=r.domain(),y=yQ(f,i,d);return{niceTicks:y}}return null};function H_(e){var r=e.axis,a=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Xt(s[r.dataKey])){var d=zp(a,"value",s[r.dataKey]);if(d)return d.coordinate+n/2}return a[i]?a[i].coordinate+n/2:null}var u=Pn(s,Xt(o)?r.dataKey:o);return Xt(u)?null:r.scale(u)}var W_=function(r){var a=r.axis,n=r.ticks,s=r.offset,i=r.bandSize,o=r.entry,d=r.index;if(a.type==="category")return n[d]?n[d].coordinate+s:null;var u=Pn(o,a.dataKey,a.domain[d]);return Xt(u)?null:a.scale(u)-i/2+s},iJ=function(r){var a=r.numericAxis,n=a.scale.domain();if(a.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},oJ=function(r,a){var n,s=(n=r.type)!==null&&n!==void 0&&n.defaultProps?Zr(Zr({},r.type.defaultProps),r.props):r.props,i=s.stackId;if(ya(i)){var o=a[i];if(o){var d=o.items.indexOf(r);return d>=0?o.stackedData[d]:null}}return null},lJ=function(r){return r.reduce(function(a,n){return[bg(n.concat([a[0]]).filter(Xe)),yg(n.concat([a[1]]).filter(Xe))]},[1/0,-1/0])},SR=function(r,a,n){return Object.keys(r).reduce(function(s,i){var o=r[i],d=o.stackedData,u=d.reduce(function(m,p){var f=lJ(p.slice(a,n+1));return[Math.min(m[0],f[0]),Math.max(m[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},G_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zw=function(r,a,n){if(Wt(r))return r(a,n);if(!Array.isArray(r))return a;var s=[];if(Xe(r[0]))s[0]=n?r[0]:Math.min(r[0],a[0]);else if(G_.test(r[0])){var i=+G_.exec(r[0])[1];s[0]=a[0]-i}else Wt(r[0])?s[0]=r[0](a[0]):s[0]=a[0];if(Xe(r[1]))s[1]=n?r[1]:Math.max(r[1],a[1]);else if(K_.test(r[1])){var o=+K_.exec(r[1])[1];s[1]=a[1]+o}else Wt(r[1])?s[1]=r[1](a[1]):s[1]=a[1];return s},p0=function(r,a,n){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!n||s>0)return s}if(r&&a&&a.length>=2){for(var i=jN(a,function(f){return f.coordinate}),o=1/0,d=1,u=i.length;d<u;d++){var m=i[d],p=i[d-1];o=Math.min((m.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},X_=function(r,a,n){return!r||!r.length||xg(r,Yn(n,"type.defaultProps.domain"))?a:r},kR=function(r,a){var n=r.type.defaultProps?Zr(Zr({},r.type.defaultProps),r.props):r.props,s=n.dataKey,i=n.name,o=n.unit,d=n.formatter,u=n.tooltipType,m=n.chartType,p=n.hide;return Zr(Zr({},ar(r,!1)),{},{dataKey:s,unit:o,formatter:d,name:i||s,color:i2(r),value:Pn(a,s),type:u,payload:a,chartType:m,hide:p})};function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hu(e)}function Y_(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Q_(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Y_(Object(a),!0).forEach(function(n){cJ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y_(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function cJ(e,r,a){return r=dJ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function dJ(e){var r=uJ(e,"string");return Hu(r)=="symbol"?r:r+""}function uJ(e,r){if(Hu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var g0=Math.PI/180,mJ=function(r){return r*180/Math.PI},$a=function(r,a,n,s){return{x:r+Math.cos(-g0*s)*n,y:a+Math.sin(-g0*s)*n}},fJ=function(r,a){var n=r.x,s=r.y,i=a.x,o=a.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},pJ=function(r,a){var n=r.x,s=r.y,i=a.cx,o=a.cy,d=fJ({x:n,y:s},{x:i,y:o});if(d<=0)return{radius:d};var u=(n-i)/d,m=Math.acos(u);return s>o&&(m=2*Math.PI-m),{radius:d,angle:mJ(m),angleInRadian:m}},gJ=function(r){var a=r.startAngle,n=r.endAngle,s=Math.floor(a/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:a-o*360,endAngle:n-o*360}},hJ=function(r,a){var n=a.startAngle,s=a.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),d=Math.min(i,o);return r+d*360},J_=function(r,a){var n=r.x,s=r.y,i=pJ({x:n,y:s},a),o=i.radius,d=i.angle,u=a.innerRadius,m=a.outerRadius;if(o<u||o>m)return!1;if(o===0)return!0;var p=gJ(a),f=p.startAngle,y=p.endAngle,b=d,E;if(f<=y){for(;b>y;)b-=360;for(;b<f;)b+=360;E=b>=f&&b<=y}else{for(;b>f;)b-=360;for(;b<y;)b+=360;E=b>=y&&b<=f}return E?Q_(Q_({},a),{},{radius:o,angle:hJ(b,a)}):null};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wu(e)}var yJ=["offset"];function bJ(e){return wJ(e)||EJ(e)||vJ(e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(e,r){if(e){if(typeof e=="string")return e1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e1(e,r)}}function EJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wJ(e){if(Array.isArray(e))return e1(e)}function e1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function NJ(e,r){if(e==null)return{};var a=SJ(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SJ(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function Z_(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ga(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Z_(Object(a),!0).forEach(function(n){kJ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z_(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function kJ(e,r,a){return r=CJ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function CJ(e){var r=AJ(e,"string");return Wu(r)=="symbol"?r:r+""}function AJ(e,r){if(Wu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gu.apply(this,arguments)}var _J=function(r){var a=r.value,n=r.formatter,s=Xt(r.children)?a:r.children;return Wt(n)?n(s):s},PJ=function(r,a){var n=xs(a-r),s=Math.min(Math.abs(a-r),360);return n*s},TJ=function(r,a,n){var s=r.position,i=r.viewBox,o=r.offset,d=r.className,u=i,m=u.cx,p=u.cy,f=u.innerRadius,y=u.outerRadius,b=u.startAngle,E=u.endAngle,w=u.clockWise,x=(f+y)/2,N=PJ(b,E),S=N>=0?1:-1,k,P;s==="insideStart"?(k=b+S*o,P=w):s==="insideEnd"?(k=E-S*o,P=!w):s==="end"&&(k=E+S*o,P=w),P=N<=0?P:!P;var C=$a(m,p,x,k),_=$a(m,p,x,k+(P?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(_.x,",").concat(_.y),T=Xt(r.id)?wm("recharts-radial-line-"):r.id;return t.createElement("text",Gu({},n,{dominantBaseline:"central",className:lr("recharts-radial-bar-label",d)}),t.createElement("defs",null,t.createElement("path",{id:T,d:O})),t.createElement("textPath",{xlinkHref:"#".concat(T)},a))},OJ=function(r){var a=r.viewBox,n=r.offset,s=r.position,i=a,o=i.cx,d=i.cy,u=i.innerRadius,m=i.outerRadius,p=i.startAngle,f=i.endAngle,y=(p+f)/2;if(s==="outside"){var b=$a(o,d,m+n,y),E=b.x,w=b.y;return{x:E,y:w,textAnchor:E>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"end"};var x=(u+m)/2,N=$a(o,d,x,y),S=N.x,k=N.y;return{x:S,y:k,textAnchor:"middle",verticalAnchor:"middle"}},MJ=function(r){var a=r.viewBox,n=r.parentViewBox,s=r.offset,i=r.position,o=a,d=o.x,u=o.y,m=o.width,p=o.height,f=p>=0?1:-1,y=f*s,b=f>0?"end":"start",E=f>0?"start":"end",w=m>=0?1:-1,x=w*s,N=w>0?"end":"start",S=w>0?"start":"end";if(i==="top"){var k={x:d+m/2,y:u-f*s,textAnchor:"middle",verticalAnchor:b};return ga(ga({},k),n?{height:Math.max(u-n.y,0),width:m}:{})}if(i==="bottom"){var P={x:d+m/2,y:u+p+y,textAnchor:"middle",verticalAnchor:E};return ga(ga({},P),n?{height:Math.max(n.y+n.height-(u+p),0),width:m}:{})}if(i==="left"){var C={x:d-x,y:u+p/2,textAnchor:N,verticalAnchor:"middle"};return ga(ga({},C),n?{width:Math.max(C.x-n.x,0),height:p}:{})}if(i==="right"){var _={x:d+m+x,y:u+p/2,textAnchor:S,verticalAnchor:"middle"};return ga(ga({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:p}:{})}var O=n?{width:m,height:p}:{};return i==="insideLeft"?ga({x:d+x,y:u+p/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideRight"?ga({x:d+m-x,y:u+p/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?ga({x:d+m/2,y:u+y,textAnchor:"middle",verticalAnchor:E},O):i==="insideBottom"?ga({x:d+m/2,y:u+p-y,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?ga({x:d+x,y:u+y,textAnchor:S,verticalAnchor:E},O):i==="insideTopRight"?ga({x:d+m-x,y:u+y,textAnchor:N,verticalAnchor:E},O):i==="insideBottomLeft"?ga({x:d+x,y:u+p-y,textAnchor:S,verticalAnchor:b},O):i==="insideBottomRight"?ga({x:d+m-x,y:u+p-y,textAnchor:N,verticalAnchor:b},O):rd(i)&&(Xe(i.x)||Xo(i.x))&&(Xe(i.y)||Xo(i.y))?ga({x:d+ml(i.x,m),y:u+ml(i.y,p),textAnchor:"end",verticalAnchor:"end"},O):ga({x:d+m/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},O)},jJ=function(r){return"cx"in r&&Xe(r.cx)};function Va(e){var r=e.offset,a=r===void 0?5:r,n=NJ(e,yJ),s=ga({offset:a},n),i=s.viewBox,o=s.position,d=s.value,u=s.children,m=s.content,p=s.className,f=p===void 0?"":p,y=s.textBreakAll;if(!i||Xt(d)&&Xt(u)&&!h.isValidElement(m)&&!Wt(m))return null;if(h.isValidElement(m))return h.cloneElement(m,s);var b;if(Wt(m)){if(b=h.createElement(m,s),h.isValidElement(b))return b}else b=_J(s);var E=jJ(i),w=ar(s,!0);if(E&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TJ(s,b,w);var x=E?OJ(s):MJ(s);return t.createElement(Zp,Gu({className:lr("recharts-label",f)},w,x,{breakAll:y}),b)}Va.displayName="Label";var CR=function(r){var a=r.cx,n=r.cy,s=r.angle,i=r.startAngle,o=r.endAngle,d=r.r,u=r.radius,m=r.innerRadius,p=r.outerRadius,f=r.x,y=r.y,b=r.top,E=r.left,w=r.width,x=r.height,N=r.clockWise,S=r.labelViewBox;if(S)return S;if(Xe(w)&&Xe(x)){if(Xe(f)&&Xe(y))return{x:f,y,width:w,height:x};if(Xe(b)&&Xe(E))return{x:b,y:E,width:w,height:x}}return Xe(f)&&Xe(y)?{x:f,y,width:0,height:0}:Xe(a)&&Xe(n)?{cx:a,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:m||0,outerRadius:p||u||d||0,clockWise:N}:r.viewBox?r.viewBox:{}},RJ=function(r,a){return r?r===!0?t.createElement(Va,{key:"label-implicit",viewBox:a}):ya(r)?t.createElement(Va,{key:"label-implicit",viewBox:a,value:r}):h.isValidElement(r)?r.type===Va?h.cloneElement(r,{key:"label-implicit",viewBox:a}):t.createElement(Va,{key:"label-implicit",content:r,viewBox:a}):Wt(r)?t.createElement(Va,{key:"label-implicit",content:r,viewBox:a}):rd(r)?t.createElement(Va,Gu({viewBox:a},r,{key:"label-implicit"})):null:null},$J=function(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var s=r.children,i=CR(r),o=Qn(s,Va).map(function(u,m){return h.cloneElement(u,{viewBox:a||i,key:"label-".concat(m)})});if(!n)return o;var d=RJ(r.label,a||i);return[d].concat(bJ(o))};Va.parseViewBox=CR;Va.renderCallByParent=$J;var tE,e6;function LJ(){if(e6)return tE;e6=1;function e(r){var a=r==null?0:r.length;return a?r[a-1]:void 0}return tE=e,tE}var IJ=LJ();const DJ=Pr(IJ);function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ku(e)}var FJ=["valueAccessor"],zJ=["data","dataKey","clockWise","id","textBreakAll"];function BJ(e){return HJ(e)||VJ(e)||UJ(e)||qJ()}function qJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(e,r){if(e){if(typeof e=="string")return t1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t1(e,r)}}function VJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HJ(e){if(Array.isArray(e))return t1(e)}function t1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h0.apply(this,arguments)}function t6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function r6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?t6(Object(a),!0).forEach(function(n){WJ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function WJ(e,r,a){return r=GJ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function GJ(e){var r=KJ(e,"string");return Ku(r)=="symbol"?r:r+""}function KJ(e,r){if(Ku(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function a6(e,r){if(e==null)return{};var a=XJ(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XJ(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}var YJ=function(r){return Array.isArray(r.value)?DJ(r.value):r.value};function so(e){var r=e.valueAccessor,a=r===void 0?YJ:r,n=a6(e,FJ),s=n.data,i=n.dataKey,o=n.clockWise,d=n.id,u=n.textBreakAll,m=a6(n,zJ);return!s||!s.length?null:t.createElement(aa,{className:"recharts-label-list"},s.map(function(p,f){var y=Xt(i)?a(p,f):Pn(p&&p.payload,i),b=Xt(d)?{}:{id:"".concat(d,"-").concat(f)};return t.createElement(Va,h0({},ar(p,!0),m,b,{parentViewBox:p.parentViewBox,value:y,textBreakAll:u,viewBox:Va.parseViewBox(Xt(o)?p:r6(r6({},p),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}so.displayName="LabelList";function QJ(e,r){return e?e===!0?t.createElement(so,{key:"labelList-implicit",data:r}):t.isValidElement(e)||Wt(e)?t.createElement(so,{key:"labelList-implicit",data:r,content:e}):rd(e)?t.createElement(so,h0({data:r},e,{key:"labelList-implicit"})):null:null}function JJ(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var n=e.children,s=Qn(n,so).map(function(o,d){return h.cloneElement(o,{data:r,key:"labelList-".concat(d)})});if(!a)return s;var i=QJ(e.label,r);return[i].concat(BJ(s))}so.renderCallByParent=JJ;function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xu(e)}function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r1.apply(this,arguments)}function n6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function s6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?n6(Object(a),!0).forEach(function(n){ZJ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ZJ(e,r,a){return r=eZ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function eZ(e){var r=tZ(e,"string");return Xu(r)=="symbol"?r:r+""}function tZ(e,r){if(Xu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rZ=function(r,a){var n=xs(a-r),s=Math.min(Math.abs(a-r),359.999);return n*s},Wf=function(r){var a=r.cx,n=r.cy,s=r.radius,i=r.angle,o=r.sign,d=r.isExternal,u=r.cornerRadius,m=r.cornerIsExternal,p=u*(d?1:-1)+s,f=Math.asin(u/p)/g0,y=m?i:i+o*f,b=$a(a,n,p,y),E=$a(a,n,s,y),w=m?i-o*f:i,x=$a(a,n,p*Math.cos(f*g0),w);return{center:b,circleTangency:E,lineTangency:x,theta:f}},AR=function(r){var a=r.cx,n=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.startAngle,d=r.endAngle,u=rZ(o,d),m=o+u,p=$a(a,n,i,o),f=$a(a,n,i,m),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>m),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var b=$a(a,n,s,o),E=$a(a,n,s,m);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(a,",").concat(n," Z");return y},aZ=function(r){var a=r.cx,n=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,p=r.endAngle,f=xs(p-m),y=Wf({cx:a,cy:n,radius:i,angle:m,sign:f,cornerRadius:o,cornerIsExternal:u}),b=y.circleTangency,E=y.lineTangency,w=y.theta,x=Wf({cx:a,cy:n,radius:i,angle:p,sign:-f,cornerRadius:o,cornerIsExternal:u}),N=x.circleTangency,S=x.lineTangency,k=x.theta,P=u?Math.abs(m-p):Math.abs(m-p)-w-k;if(P<0)return d?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):AR({cx:a,cy:n,innerRadius:s,outerRadius:i,startAngle:m,endAngle:p});var C="M ".concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var _=Wf({cx:a,cy:n,radius:s,angle:m,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),O=_.circleTangency,T=_.lineTangency,R=_.theta,D=Wf({cx:a,cy:n,radius:s,angle:p,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),j=D.circleTangency,L=D.lineTangency,K=D.theta,W=u?Math.abs(m-p):Math.abs(m-p)-R-K;if(W<0&&o===0)return"".concat(C,"L").concat(a,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else C+="L".concat(a,",").concat(n,"Z");return C},nZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_R=function(r){var a=s6(s6({},nZ),r),n=a.cx,s=a.cy,i=a.innerRadius,o=a.outerRadius,d=a.cornerRadius,u=a.forceCornerRadius,m=a.cornerIsExternal,p=a.startAngle,f=a.endAngle,y=a.className;if(o<i||p===f)return null;var b=lr("recharts-sector",y),E=o-i,w=ml(d,E,0,!0),x;return w>0&&Math.abs(p-f)<360?x=aZ({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,E/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:p,endAngle:f}):x=AR({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:p,endAngle:f}),t.createElement("path",r1({},ar(a,!0),{className:b,d:x,role:"img"}))};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yu(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a1.apply(this,arguments)}function i6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function o6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?i6(Object(a),!0).forEach(function(n){sZ(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function sZ(e,r,a){return r=iZ(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function iZ(e){var r=oZ(e,"string");return Yu(r)=="symbol"?r:r+""}function oZ(e,r){if(Yu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var l6={curveBasisClosed:AV,curveBasisOpen:_V,curveBasis:CV,curveBumpX:mV,curveBumpY:fV,curveLinearClosed:PV,curveLinear:ig,curveMonotoneX:TV,curveMonotoneY:OV,curveNatural:MV,curveStep:jV,curveStepAfter:$V,curveStepBefore:RV},Gf=function(r){return r.x===+r.x&&r.y===+r.y},Yd=function(r){return r.x},Qd=function(r){return r.y},lZ=function(r,a){if(Wt(r))return r;var n="curve".concat(ng(r));return(n==="curveMonotone"||n==="curveBump")&&a?l6["".concat(n).concat(a==="vertical"?"Y":"X")]:l6[n]||ig},cZ=function(r){var a=r.type,n=a===void 0?"linear":a,s=r.points,i=s===void 0?[]:s,o=r.baseLine,d=r.layout,u=r.connectNulls,m=u===void 0?!1:u,p=lZ(n,d),f=m?i.filter(function(w){return Gf(w)}):i,y;if(Array.isArray(o)){var b=m?o.filter(function(w){return Gf(w)}):o,E=f.map(function(w,x){return o6(o6({},w),{},{base:b[x]})});return d==="vertical"?y=Df().y(Qd).x1(Yd).x0(function(w){return w.base.x}):y=Df().x(Yd).y1(Qd).y0(function(w){return w.base.y}),y.defined(Gf).curve(p),y(E)}return d==="vertical"&&Xe(o)?y=Df().y(Qd).x1(Yd).x0(o):Xe(o)?y=Df().x(Yd).y1(Qd).y0(o):y=RM().x(Yd).y(Qd),y.defined(Gf).curve(p),y(f)},n1=function(r){var a=r.className,n=r.points,s=r.path,i=r.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?cZ(r):s;return h.createElement("path",a1({},ar(r,!1),Bp(r),{className:lr("recharts-curve",a),d:o,ref:i}))},rE={exports:{}},aE,c6;function dZ(){if(c6)return aE;c6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aE=e,aE}var nE,d6;function uZ(){if(d6)return nE;d6=1;var e=dZ();function r(){}function a(){}return a.resetWarningCache=r,nE=function(){function n(o,d,u,m,p,f){if(f!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:a,resetWarningCache:r};return i.PropTypes=i,i},nE}var u6;function mZ(){return u6||(u6=1,rE.exports=uZ()()),rE.exports}var fZ=mZ();const yr=Pr(fZ),{getOwnPropertyNames:pZ,getOwnPropertySymbols:gZ}=Object,{hasOwnProperty:hZ}=Object.prototype;function sE(e,r){return function(n,s,i){return e(n,s,i)&&r(n,s,i)}}function Kf(e){return function(a,n,s){if(!a||!n||typeof a!="object"||typeof n!="object")return e(a,n,s);const{cache:i}=s,o=i.get(a),d=i.get(n);if(o&&d)return o===n&&d===a;i.set(a,n),i.set(n,a);const u=e(a,n,s);return i.delete(a),i.delete(n),u}}function yZ(e){return e?.[Symbol.toStringTag]}function m6(e){return pZ(e).concat(gZ(e))}const bZ=Object.hasOwn||((e,r)=>hZ.call(e,r));function Sl(e,r){return e===r||!e&&!r&&e!==e&&r!==r}const xZ="__v",vZ="__o",EZ="_owner",{getOwnPropertyDescriptor:f6,keys:p6}=Object;function wZ(e,r){return e.byteLength===r.byteLength&&y0(new Uint8Array(e),new Uint8Array(r))}function NZ(e,r,a){let n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(!a.equals(e[n],r[n],n,n,e,r,a))return!1;return!0}function SZ(e,r){return e.byteLength===r.byteLength&&y0(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function kZ(e,r){return Sl(e.getTime(),r.getTime())}function CZ(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function AZ(e,r){return e===r}function g6(e,r,a){const n=e.size;if(n!==r.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,d,u=0;for(;(o=i.next())&&!o.done;){const m=r.entries();let p=!1,f=0;for(;(d=m.next())&&!d.done;){if(s[f]){f++;continue}const y=o.value,b=d.value;if(a.equals(y[0],b[0],u,f,e,r,a)&&a.equals(y[1],b[1],y[0],b[0],e,r,a)){p=s[f]=!0;break}f++}if(!p)return!1;u++}return!0}const _Z=Sl;function PZ(e,r,a){const n=p6(e);let s=n.length;if(p6(r).length!==s)return!1;for(;s-- >0;)if(!PR(e,r,a,n[s]))return!1;return!0}function Jd(e,r,a){const n=m6(e);let s=n.length;if(m6(r).length!==s)return!1;let i,o,d;for(;s-- >0;)if(i=n[s],!PR(e,r,a,i)||(o=f6(e,i),d=f6(r,i),(o||d)&&(!o||!d||o.configurable!==d.configurable||o.enumerable!==d.enumerable||o.writable!==d.writable)))return!1;return!0}function TZ(e,r){return Sl(e.valueOf(),r.valueOf())}function OZ(e,r){return e.source===r.source&&e.flags===r.flags}function h6(e,r,a){const n=e.size;if(n!==r.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,d;for(;(o=i.next())&&!o.done;){const u=r.values();let m=!1,p=0;for(;(d=u.next())&&!d.done;){if(!s[p]&&a.equals(o.value,d.value,o.value,d.value,e,r,a)){m=s[p]=!0;break}p++}if(!m)return!1}return!0}function y0(e,r){let a=e.byteLength;if(r.byteLength!==a||e.byteOffset!==r.byteOffset)return!1;for(;a-- >0;)if(e[a]!==r[a])return!1;return!0}function MZ(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function PR(e,r,a,n){return(n===EZ||n===vZ||n===xZ)&&(e.$$typeof||r.$$typeof)?!0:bZ(r,n)&&a.equals(e[n],r[n],n,n,e,r,a)}const jZ="[object ArrayBuffer]",RZ="[object Arguments]",$Z="[object Boolean]",LZ="[object DataView]",IZ="[object Date]",DZ="[object Error]",FZ="[object Map]",zZ="[object Number]",BZ="[object Object]",qZ="[object RegExp]",UZ="[object Set]",VZ="[object String]",HZ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},WZ="[object URL]",GZ=Object.prototype.toString;function KZ({areArrayBuffersEqual:e,areArraysEqual:r,areDataViewsEqual:a,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:d,areObjectsEqual:u,arePrimitiveWrappersEqual:m,areRegExpsEqual:p,areSetsEqual:f,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:E}){return function(x,N,S){if(x===N)return!0;if(x==null||N==null)return!1;const k=typeof x;if(k!==typeof N)return!1;if(k!=="object")return k==="number"?d(x,N,S):k==="function"?i(x,N,S):!1;const P=x.constructor;if(P!==N.constructor)return!1;if(P===Object)return u(x,N,S);if(Array.isArray(x))return r(x,N,S);if(P===Date)return n(x,N,S);if(P===RegExp)return p(x,N,S);if(P===Map)return o(x,N,S);if(P===Set)return f(x,N,S);const C=GZ.call(x);if(C===IZ)return n(x,N,S);if(C===qZ)return p(x,N,S);if(C===FZ)return o(x,N,S);if(C===UZ)return f(x,N,S);if(C===BZ)return typeof x.then!="function"&&typeof N.then!="function"&&u(x,N,S);if(C===WZ)return b(x,N,S);if(C===DZ)return s(x,N,S);if(C===RZ)return u(x,N,S);if(HZ[C])return y(x,N,S);if(C===jZ)return e(x,N,S);if(C===LZ)return a(x,N,S);if(C===$Z||C===zZ||C===VZ)return m(x,N,S);if(E){let _=E[C];if(!_){const O=yZ(x);O&&(_=E[O])}if(_)return _(x,N,S)}return!1}}function XZ({circular:e,createCustomConfig:r,strict:a}){let n={areArrayBuffersEqual:wZ,areArraysEqual:a?Jd:NZ,areDataViewsEqual:SZ,areDatesEqual:kZ,areErrorsEqual:CZ,areFunctionsEqual:AZ,areMapsEqual:a?sE(g6,Jd):g6,areNumbersEqual:_Z,areObjectsEqual:a?Jd:PZ,arePrimitiveWrappersEqual:TZ,areRegExpsEqual:OZ,areSetsEqual:a?sE(h6,Jd):h6,areTypedArraysEqual:a?sE(y0,Jd):y0,areUrlsEqual:MZ,unknownTagComparators:void 0};if(r&&(n=Object.assign({},n,r(n))),e){const s=Kf(n.areArraysEqual),i=Kf(n.areMapsEqual),o=Kf(n.areObjectsEqual),d=Kf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:d})}return n}function YZ(e){return function(r,a,n,s,i,o,d){return e(r,a,d)}}function QZ({circular:e,comparator:r,createState:a,equals:n,strict:s}){if(a)return function(d,u){const{cache:m=e?new WeakMap:void 0,meta:p}=a();return r(d,u,{cache:m,equals:n,meta:p,strict:s})};if(e)return function(d,u){return r(d,u,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(d,u){return r(d,u,i)}}const JZ=vo();vo({strict:!0});vo({circular:!0});vo({circular:!0,strict:!0});vo({createInternalComparator:()=>Sl});vo({strict:!0,createInternalComparator:()=>Sl});vo({circular:!0,createInternalComparator:()=>Sl});vo({circular:!0,createInternalComparator:()=>Sl,strict:!0});function vo(e={}){const{circular:r=!1,createInternalComparator:a,createState:n,strict:s=!1}=e,i=XZ(e),o=KZ(i),d=a?a(o):YZ(o);return QZ({circular:r,comparator:o,createState:n,equals:d,strict:s})}function ZZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function y6(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=-1,n=function s(i){a<0&&(a=i),i-a>r?(e(i),a=-1):ZZ(s)};requestAnimationFrame(n)}function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s1(e)}function eee(e){return nee(e)||aee(e)||ree(e)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,r){if(e){if(typeof e=="string")return b6(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b6(e,r)}}function b6(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function aee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nee(e){if(Array.isArray(e))return e}function see(){var e={},r=function(){return null},a=!1,n=function s(i){if(!a){if(Array.isArray(i)){if(!i.length)return;var o=i,d=eee(o),u=d[0],m=d.slice(1);if(typeof u=="number"){y6(s.bind(null,m),u);return}s(u),y6(s.bind(null,m));return}s1(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){a=!0},start:function(i){a=!1,n(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qu(e)}function x6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function v6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?x6(Object(a),!0).forEach(function(n){TR(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function TR(e,r,a){return r=iee(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function iee(e){var r=oee(e,"string");return Qu(r)==="symbol"?r:String(r)}function oee(e,r){if(Qu(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Qu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var lee=function(r,a){return[Object.keys(r),Object.keys(a)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},cee=function(r){return r},dee=function(r){return r.replace(/([A-Z])/g,function(a){return"-".concat(a.toLowerCase())})},Eu=function(r,a){return Object.keys(a).reduce(function(n,s){return v6(v6({},n),{},TR({},s,r(s,a[s])))},{})},E6=function(r,a,n){return r.map(function(s){return"".concat(dee(s)," ").concat(a,"ms ").concat(n)}).join(",")};function uee(e,r){return pee(e)||fee(e,r)||OR(e,r)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function pee(e){if(Array.isArray(e))return e}function gee(e){return bee(e)||yee(e)||OR(e)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OR(e,r){if(e){if(typeof e=="string")return i1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i1(e,r)}}function yee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bee(e){if(Array.isArray(e))return i1(e)}function i1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}var b0=1e-4,MR=function(r,a){return[0,3*r,3*a-6*r,3*r-3*a+1]},jR=function(r,a){return r.map(function(n,s){return n*Math.pow(a,s)}).reduce(function(n,s){return n+s})},w6=function(r,a){return function(n){var s=MR(r,a);return jR(s,n)}},xee=function(r,a){return function(n){var s=MR(r,a),i=[].concat(gee(s.map(function(o,d){return o*d}).slice(1)),[0]);return jR(i,n)}},N6=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a[0],i=a[1],o=a[2],d=a[3];if(a.length===1)switch(a[0]){case"linear":s=0,i=0,o=1,d=1;break;case"ease":s=.25,i=.1,o=.25,d=1;break;case"ease-in":s=.42,i=0,o=1,d=1;break;case"ease-out":s=.42,i=0,o=.58,d=1;break;case"ease-in-out":s=0,i=0,o=.58,d=1;break;default:{var u=a[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var m=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=uee(m,4);s=p[0],i=p[1],o=p[2],d=p[3]}}}var f=w6(s,o),y=w6(i,d),b=xee(s,o),E=function(N){return N>1?1:N<0?0:N},w=function(N){for(var S=N>1?1:N,k=S,P=0;P<8;++P){var C=f(k)-S,_=b(k);if(Math.abs(C-S)<b0||_<b0)return y(k);k=E(k-C/_)}return y(k)};return w.isStepper=!1,w},vee=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.stiff,n=a===void 0?100:a,s=r.damping,i=s===void 0?8:s,o=r.dt,d=o===void 0?17:o,u=function(p,f,y){var b=-(p-f)*n,E=y*i,w=y+(b-E)*d/1e3,x=y*d/1e3+p;return Math.abs(x-f)<b0&&Math.abs(w)<b0?[f,0]:[x,w]};return u.isStepper=!0,u.dt=d,u},Eee=function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=a[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return N6(s);case"spring":return vee();default:if(s.split("(")[0]==="cubic-bezier")return N6(s)}return typeof s=="function"?s:null};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ju(e)}function S6(e){return See(e)||Nee(e)||RR(e)||wee()}function wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function See(e){if(Array.isArray(e))return l1(e)}function k6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ja(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?k6(Object(a),!0).forEach(function(n){o1(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function o1(e,r,a){return r=kee(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function kee(e){var r=Cee(e,"string");return Ju(r)==="symbol"?r:String(r)}function Cee(e,r){if(Ju(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ju(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Aee(e,r){return Tee(e)||Pee(e,r)||RR(e,r)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(e,r){if(e){if(typeof e=="string")return l1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l1(e,r)}}function l1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function Pee(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function Tee(e){if(Array.isArray(e))return e}var x0=function(r,a,n){return r+(a-r)*n},c1=function(r){var a=r.from,n=r.to;return a!==n},Oee=function e(r,a,n){var s=Eu(function(i,o){if(c1(o)){var d=r(o.from,o.to,o.velocity),u=Aee(d,2),m=u[0],p=u[1];return ja(ja({},o),{},{from:m,velocity:p})}return o},a);return n<1?Eu(function(i,o){return c1(o)?ja(ja({},o),{},{velocity:x0(o.velocity,s[i].velocity,n),from:x0(o.from,s[i].from,n)}):o},a):e(r,s,n-1)};const Mee=(function(e,r,a,n,s){var i=lee(e,r),o=i.reduce(function(x,N){return ja(ja({},x),{},o1({},N,[e[N],r[N]]))},{}),d=i.reduce(function(x,N){return ja(ja({},x),{},o1({},N,{from:e[N],velocity:0,to:r[N]}))},{}),u=-1,m,p,f=function(){return null},y=function(){return Eu(function(N,S){return S.from},d)},b=function(){return!Object.values(d).filter(c1).length},E=function(N){m||(m=N);var S=N-m,k=S/a.dt;d=Oee(a,d,k),s(ja(ja(ja({},e),r),y())),m=N,b()||(u=requestAnimationFrame(f))},w=function(N){p||(p=N);var S=(N-p)/n,k=Eu(function(C,_){return x0.apply(void 0,S6(_).concat([a(S)]))},o);if(s(ja(ja(ja({},e),r),k)),S<1)u=requestAnimationFrame(f);else{var P=Eu(function(C,_){return x0.apply(void 0,S6(_).concat([a(1)]))},o);s(ja(ja(ja({},e),r),P))}};return f=a.isStepper?E:w,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}});function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rc(e)}var jee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ree(e,r){if(e==null)return{};var a=$ee(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $ee(e,r){if(e==null)return{};var a={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(r.indexOf(s)>=0)&&(a[s]=e[s]);return a}function iE(e){return Fee(e)||Dee(e)||Iee(e)||Lee()}function Lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(e,r){if(e){if(typeof e=="string")return d1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d1(e,r)}}function Dee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fee(e){if(Array.isArray(e))return d1(e)}function d1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function C6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function cs(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?C6(Object(a),!0).forEach(function(n){fu(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function fu(e,r,a){return r=$R(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function zee(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bee(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$R(n.key),n)}}function qee(e,r,a){return r&&Bee(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $R(e){var r=Uee(e,"string");return Rc(r)==="symbol"?r:String(r)}function Uee(e,r){if(Rc(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Rc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vee(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&u1(e,r)}function u1(e,r){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u1(e,r)}function Hee(e){var r=Wee();return function(){var n=v0(e),s;if(r){var i=v0(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return m1(this,s)}}function m1(e,r){if(r&&(Rc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f1(e)}function f1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v0(e){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},v0(e)}var vi=(function(e){Vee(a,e);var r=Hee(a);function a(n,s){var i;zee(this,a),i=r.call(this,n,s);var o=i.props,d=o.isActive,u=o.attributeName,m=o.from,p=o.to,f=o.steps,y=o.children,b=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(f1(i)),i.changeStyle=i.changeStyle.bind(f1(i)),!d||b<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),m1(i);if(f&&f.length)i.state={style:f[0].style};else if(m){if(typeof y=="function")return i.state={style:m},m1(i);i.state={style:u?fu({},u,m):m}}else i.state={style:{}};return i}return qee(a,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,d=i.canBegin,u=i.attributeName,m=i.shouldReAnimate,p=i.to,f=i.from,y=this.state.style;if(d){if(!o){var b={style:u?fu({},u,p):p};this.state&&y&&(u&&y[u]!==p||!u&&y!==p)&&this.setState(b);return}if(!(JZ(s.to,p)&&s.canBegin&&s.isActive)){var E=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=E||m?f:s.to;if(this.state&&y){var x={style:u?fu({},u,w):w};(u&&y[u]!==w||!u&&y!==w)&&this.setState(x)}this.runAnimation(cs(cs({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,d=s.to,u=s.duration,m=s.easing,p=s.begin,f=s.onAnimationEnd,y=s.onAnimationStart,b=Mee(o,d,Eee(m),u,this.changeStyle),E=function(){i.stopJSAnimation=b()};this.manager.start([y,p,E,u,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,d=s.begin,u=s.onAnimationStart,m=o[0],p=m.style,f=m.duration,y=f===void 0?0:f,b=function(w,x,N){if(N===0)return w;var S=x.duration,k=x.easing,P=k===void 0?"ease":k,C=x.style,_=x.properties,O=x.onAnimationEnd,T=N>0?o[N-1]:x,R=_||Object.keys(C);if(typeof P=="function"||P==="spring")return[].concat(iE(w),[i.runJSAnimation.bind(i,{from:T.style,to:C,duration:S,easing:P}),S]);var D=E6(R,S,P),j=cs(cs(cs({},T.style),C),{},{transition:D});return[].concat(iE(w),[j,S,O]).filter(cee)};return this.manager.start([u].concat(iE(o.reduce(b,[p,Math.max(y,d)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=see());var i=s.begin,o=s.duration,d=s.attributeName,u=s.to,m=s.easing,p=s.onAnimationStart,f=s.onAnimationEnd,y=s.steps,b=s.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof m=="function"||typeof b=="function"||m==="spring"){this.runJSAnimation(s);return}if(y.length>1){this.runStepAnimation(s);return}var w=d?fu({},d,u):u,x=E6(Object.keys(w),o,m);E.start([p,i,cs(cs({},w),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var d=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=Ree(s,jee),m=h.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!d||m===0||o<=0)return i;var f=function(b){var E=b.props,w=E.style,x=w===void 0?{}:w,N=E.className,S=h.cloneElement(b,cs(cs({},u),{},{style:cs(cs({},x),p),className:N}));return S};return m===1?f(h.Children.only(i)):t.createElement("div",null,h.Children.map(i,function(y){return f(y)}))}}]),a})(h.PureComponent);vi.displayName="Animate";vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vi.propTypes={from:yr.oneOfType([yr.object,yr.string]),to:yr.oneOfType([yr.object,yr.string]),attributeName:yr.string,duration:yr.number,begin:yr.number,easing:yr.oneOfType([yr.string,yr.func]),steps:yr.arrayOf(yr.shape({duration:yr.number.isRequired,style:yr.object.isRequired,easing:yr.oneOfType([yr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yr.func]),properties:yr.arrayOf("string"),onAnimationEnd:yr.func})),children:yr.oneOfType([yr.node,yr.func]),isActive:yr.bool,canBegin:yr.bool,onAnimationEnd:yr.func,shouldReAnimate:yr.bool,onAnimationStart:yr.func,onAnimationReStart:yr.func};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zu(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E0.apply(this,arguments)}function Gee(e,r){return Qee(e)||Yee(e,r)||Xee(e,r)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(e,r){if(e){if(typeof e=="string")return A6(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A6(e,r)}}function A6(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function Yee(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function Qee(e){if(Array.isArray(e))return e}function _6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function P6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?_6(Object(a),!0).forEach(function(n){Jee(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Jee(e,r,a){return r=Zee(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Zee(e){var r=ete(e,"string");return Zu(r)=="symbol"?r:r+""}function ete(e,r){if(Zu(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var T6=function(r,a,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),d=s>=0?1:-1,u=n>=0?1:-1,m=s>=0&&n>=0||s<0&&n<0?1:0,p;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],y=0,b=4;y<b;y++)f[y]=i[y]>o?o:i[y];p="M".concat(r,",").concat(a+d*f[0]),f[0]>0&&(p+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(m,",").concat(r+u*f[0],",").concat(a)),p+="L ".concat(r+n-u*f[1],",").concat(a),f[1]>0&&(p+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(m,`,
        `).concat(r+n,",").concat(a+d*f[1])),p+="L ".concat(r+n,",").concat(a+s-d*f[2]),f[2]>0&&(p+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(m,`,
        `).concat(r+n-u*f[2],",").concat(a+s)),p+="L ".concat(r+u*f[3],",").concat(a+s),f[3]>0&&(p+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(m,`,
        `).concat(r,",").concat(a+s-d*f[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);p="M ".concat(r,",").concat(a+d*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(r+u*E,",").concat(a,`
            L `).concat(r+n-u*E,",").concat(a,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(r+n,",").concat(a+d*E,`
            L `).concat(r+n,",").concat(a+s-d*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(r+n-u*E,",").concat(a+s,`
            L `).concat(r+u*E,",").concat(a+s,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(r,",").concat(a+s-d*E," Z")}else p="M ".concat(r,",").concat(a," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return p},tte=function(r,a){if(!r||!a)return!1;var n=r.x,s=r.y,i=a.x,o=a.y,d=a.width,u=a.height;if(Math.abs(d)>0&&Math.abs(u)>0){var m=Math.min(i,i+d),p=Math.max(i,i+d),f=Math.min(o,o+u),y=Math.max(o,o+u);return n>=m&&n<=p&&s>=f&&s<=y}return!1},rte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o2=function(r){var a=P6(P6({},rte),r),n=h.useRef(),s=h.useState(-1),i=Gee(s,2),o=i[0],d=i[1];h.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&d(P)}catch{}},[]);var u=a.x,m=a.y,p=a.width,f=a.height,y=a.radius,b=a.className,E=a.animationEasing,w=a.animationDuration,x=a.animationBegin,N=a.isAnimationActive,S=a.isUpdateAnimationActive;if(u!==+u||m!==+m||p!==+p||f!==+f||p===0||f===0)return null;var k=lr("recharts-rectangle",b);return S?t.createElement(vi,{canBegin:o>0,from:{width:p,height:f,x:u,y:m},to:{width:p,height:f,x:u,y:m},duration:w,animationEasing:E,isActive:S},function(P){var C=P.width,_=P.height,O=P.x,T=P.y;return t.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:N,easing:E},t.createElement("path",E0({},ar(a,!0),{className:k,d:T6(O,T,C,_,y),ref:n})))}):t.createElement("path",E0({},ar(a,!0),{className:k,d:T6(u,m,p,f,y)}))};function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p1.apply(this,arguments)}var l2=function(r){var a=r.cx,n=r.cy,s=r.r,i=r.className,o=lr("recharts-dot",i);return a===+a&&n===+n&&s===+s?h.createElement("circle",p1({},ar(r,!1),Bp(r),{className:o,cx:a,cy:n,r:s})):null};function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},em(e)}var ate=["x","y","top","left","width","height","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g1.apply(this,arguments)}function O6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function nte(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?O6(Object(a),!0).forEach(function(n){ste(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ste(e,r,a){return r=ite(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function ite(e){var r=ote(e,"string");return em(r)=="symbol"?r:r+""}function ote(e,r){if(em(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function lte(e,r){if(e==null)return{};var a=cte(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cte(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}var dte=function(r,a,n,s,i,o){return"M".concat(r,",").concat(i,"v").concat(s,"M").concat(o,",").concat(a,"h").concat(n)},ute=function(r){var a=r.x,n=a===void 0?0:a,s=r.y,i=s===void 0?0:s,o=r.top,d=o===void 0?0:o,u=r.left,m=u===void 0?0:u,p=r.width,f=p===void 0?0:p,y=r.height,b=y===void 0?0:y,E=r.className,w=lte(r,ate),x=nte({x:n,y:i,top:d,left:m,width:f,height:b},w);return!Xe(n)||!Xe(i)||!Xe(f)||!Xe(b)||!Xe(d)||!Xe(m)?null:t.createElement("path",g1({},ar(x,!0),{className:lr("recharts-cross",E),d:dte(n,i,f,b,d,m)}))},oE,M6;function mte(){if(M6)return oE;M6=1;var e=aj(),r=e(Object.getPrototypeOf,Object);return oE=r,oE}var lE,j6;function fte(){if(j6)return lE;j6=1;var e=ki(),r=mte(),a=Ci(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,d=i.hasOwnProperty,u=o.call(Object);function m(p){if(!a(p)||e(p)!=n)return!1;var f=r(p);if(f===null)return!0;var y=d.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==u}return lE=m,lE}var pte=fte();const gte=Pr(pte);var cE,R6;function hte(){if(R6)return cE;R6=1;var e=ki(),r=Ci(),a="[object Boolean]";function n(s){return s===!0||s===!1||r(s)&&e(s)==a}return cE=n,cE}var yte=hte();const bte=Pr(yte);function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tm(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w0.apply(this,arguments)}function xte(e,r){return Nte(e)||wte(e,r)||Ete(e,r)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(e,r){if(e){if(typeof e=="string")return $6(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $6(e,r)}}function $6(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function wte(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function Nte(e){if(Array.isArray(e))return e}function L6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function I6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?L6(Object(a),!0).forEach(function(n){Ste(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ste(e,r,a){return r=kte(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function kte(e){var r=Cte(e,"string");return tm(r)=="symbol"?r:r+""}function Cte(e,r){if(tm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var D6=function(r,a,n,s,i){var o=n-s,d;return d="M ".concat(r,",").concat(a),d+="L ".concat(r+n,",").concat(a),d+="L ".concat(r+n-o/2,",").concat(a+i),d+="L ".concat(r+n-o/2-s,",").concat(a+i),d+="L ".concat(r,",").concat(a," Z"),d},Ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_te=function(r){var a=I6(I6({},Ate),r),n=h.useRef(),s=h.useState(-1),i=xte(s,2),o=i[0],d=i[1];h.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&d(k)}catch{}},[]);var u=a.x,m=a.y,p=a.upperWidth,f=a.lowerWidth,y=a.height,b=a.className,E=a.animationEasing,w=a.animationDuration,x=a.animationBegin,N=a.isUpdateAnimationActive;if(u!==+u||m!==+m||p!==+p||f!==+f||y!==+y||p===0&&f===0||y===0)return null;var S=lr("recharts-trapezoid",b);return N?t.createElement(vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:u,y:m},to:{upperWidth:p,lowerWidth:f,height:y,x:u,y:m},duration:w,animationEasing:E,isActive:N},function(k){var P=k.upperWidth,C=k.lowerWidth,_=k.height,O=k.x,T=k.y;return t.createElement(vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:E},t.createElement("path",w0({},ar(a,!0),{className:S,d:D6(O,T,P,C,_),ref:n})))}):t.createElement("g",null,t.createElement("path",w0({},ar(a,!0),{className:S,d:D6(u,m,p,f,y)})))},Pte=["option","shapeType","propTransformer","activeClassName","isActive"];function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rm(e)}function Tte(e,r){if(e==null)return{};var a=Ote(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ote(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function F6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function N0(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?F6(Object(a),!0).forEach(function(n){Mte(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Mte(e,r,a){return r=jte(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function jte(e){var r=Rte(e,"string");return rm(r)=="symbol"?r:r+""}function Rte(e,r){if(rm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $te(e,r){return N0(N0({},r),e)}function Lte(e,r){return e==="symbols"}function z6(e){var r=e.shapeType,a=e.elementProps;switch(r){case"rectangle":return t.createElement(o2,a);case"trapezoid":return t.createElement(_te,a);case"sector":return t.createElement(_R,a);case"symbols":if(Lte(r))return t.createElement(kN,a);break;default:return null}}function Ite(e){return h.isValidElement(e)?e.props:e}function Dte(e){var r=e.option,a=e.shapeType,n=e.propTransformer,s=n===void 0?$te:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,d=e.isActive,u=Tte(e,Pte),m;if(h.isValidElement(r))m=h.cloneElement(r,N0(N0({},u),Ite(r)));else if(Wt(r))m=r(u);else if(gte(r)&&!bte(r)){var p=s(r,u);m=t.createElement(z6,{shapeType:a,elementProps:p})}else{var f=u;m=t.createElement(z6,{shapeType:a,elementProps:f})}return d?t.createElement(aa,{className:o},m):m}function wg(e,r){return r!=null&&"trapezoids"in e.props}function Ng(e,r){return r!=null&&"sectors"in e.props}function am(e,r){return r!=null&&"points"in e.props}function Fte(e,r){var a,n,s=e.x===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.x)||e.x===r.x,i=e.y===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===r.y;return s&&i}function zte(e,r){var a=e.endAngle===r.endAngle,n=e.startAngle===r.startAngle;return a&&n}function Bte(e,r){var a=e.x===r.x,n=e.y===r.y,s=e.z===r.z;return a&&n&&s}function qte(e,r){var a;return wg(e,r)?a=Fte:Ng(e,r)?a=zte:am(e,r)&&(a=Bte),a}function Ute(e,r){var a;return wg(e,r)?a="trapezoids":Ng(e,r)?a="sectors":am(e,r)&&(a="points"),a}function Vte(e,r){if(wg(e,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}if(Ng(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return am(e,r)?r.payload:{}}function Hte(e){var r=e.activeTooltipItem,a=e.graphicalItem,n=e.itemData,s=Ute(a,r),i=Vte(a,r),o=n.filter(function(u,m){var p=xg(i,u),f=a.props[s].filter(function(E){var w=qte(a,r);return w(E,r)}),y=a.props[s].indexOf(f[f.length-1]),b=m===y;return p&&b}),d=n.indexOf(o[o.length-1]);return d}var dE,B6;function Wte(){if(B6)return dE;B6=1;var e=Math.ceil,r=Math.max;function a(n,s,i,o){for(var d=-1,u=r(e((s-n)/(i||1)),0),m=Array(u);u--;)m[o?u:++d]=n,n+=i;return m}return dE=a,dE}var uE,q6;function LR(){if(q6)return uE;q6=1;var e=xj(),r=1/0,a=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===r||s===-r){var i=s<0?-1:1;return i*a}return s===s?s:0}return uE=n,uE}var mE,U6;function Gte(){if(U6)return mE;U6=1;var e=Wte(),r=dg(),a=LR();function n(s){return function(i,o,d){return d&&typeof d!="number"&&r(i,o,d)&&(o=d=void 0),i=a(i),o===void 0?(o=i,i=0):o=a(o),d=d===void 0?i<o?1:-1:a(d),e(i,o,d,s)}}return mE=n,mE}var fE,V6;function Kte(){if(V6)return fE;V6=1;var e=Gte(),r=e();return fE=r,fE}var Xte=Kte();const S0=Pr(Xte);function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nm(e)}function H6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function W6(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?H6(Object(a),!0).forEach(function(n){IR(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function IR(e,r,a){return r=Yte(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Yte(e){var r=Qte(e,"string");return nm(r)=="symbol"?r:r+""}function Qte(e,r){if(nm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Jte=["Webkit","Moz","O","ms"],Zte=function(r,a){var n=r.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Jte.reduce(function(i,o){return W6(W6({},i),{},IR({},o+n,a))},{});return s[r]=a,s};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$c(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k0.apply(this,arguments)}function G6(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function pE(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G6(Object(a),!0).forEach(function(n){Nn(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G6(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ere(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function K6(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function tre(e,r,a){return r&&K6(e.prototype,r),a&&K6(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function rre(e,r,a){return r=C0(r),are(e,DR()?Reflect.construct(r,a||[],C0(e).constructor):r.apply(e,a))}function are(e,r){if(r&&($c(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nre(e)}function nre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!e})()}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},C0(e)}function sre(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&h1(e,r)}function h1(e,r){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},h1(e,r)}function Nn(e,r,a){return r=FR(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function FR(e){var r=ire(e,"string");return $c(r)=="symbol"?r:r+""}function ire(e,r){if($c(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ore=function(r){var a=r.data,n=r.startIndex,s=r.endIndex,i=r.x,o=r.width,d=r.travellerWidth;if(!a||!a.length)return{};var u=a.length,m=xu().domain(S0(0,u)).range([i,i+o-d]),p=m.domain().map(function(f){return m(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(s),scale:m,scaleValues:p}},X6=function(r){return r.changedTouches&&!!r.changedTouches.length},Lc=(function(e){function r(a){var n;return ere(this,r),n=rre(this,r,[a]),Nn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Nn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,d=s.startIndex;o?.({endIndex:i,startIndex:d})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(s){var i=X6(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sre(r,e),tre(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,d=this.props,u=d.gap,m=d.data,p=m.length-1,f=Math.min(s,i),y=Math.max(s,i),b=r.getIndexInRange(o,f),E=r.getIndexInRange(o,y);return{startIndex:b-b%u,endIndex:E===p?p:E-E%u}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,d=s.dataKey,u=Pn(i[n],d,n);return Wt(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,d=s.endX,u=this.props,m=u.x,p=u.width,f=u.travellerWidth,y=u.startIndex,b=u.endIndex,E=u.onChange,w=n.pageX-i;w>0?w=Math.min(w,m+p-f-d,m+p-f-o):w<0&&(w=Math.max(w,m-o,m-d));var x=this.getIndex({startX:o+w,endX:d+w});(x.startIndex!==y||x.endIndex!==b)&&E&&E(x),this.setState({startX:o+w,endX:d+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=X6(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,d=s.endX,u=s.startX,m=this.state[o],p=this.props,f=p.x,y=p.width,b=p.travellerWidth,E=p.onChange,w=p.gap,x=p.data,N={startX:this.state.startX,endX:this.state.endX},S=n.pageX-i;S>0?S=Math.min(S,f+y-b-m):S<0&&(S=Math.max(S,f-m)),N[o]=m+S;var k=this.getIndex(N),P=k.startIndex,C=k.endIndex,_=function(){var T=x.length-1;return o==="startX"&&(d>u?P%w===0:C%w===0)||d<u&&C===T||o==="endX"&&(d>u?C%w===0:P%w===0)||d>u&&C===T};this.setState(Nn(Nn({},o,m+S),"brushMoveStartX",n.pageX),function(){E&&_()&&E(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,d=o.scaleValues,u=o.startX,m=o.endX,p=this.state[s],f=d.indexOf(p);if(f!==-1){var y=f+n;if(!(y===-1||y>=d.length)){var b=d[y];s==="startX"&&b>=m||s==="endX"&&b<=u||this.setState(Nn({},s,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,d=n.height,u=n.fill,m=n.stroke;return t.createElement("rect",{stroke:m,fill:u,x:s,y:i,width:o,height:d})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,d=n.height,u=n.data,m=n.children,p=n.padding,f=h.Children.only(m);return f?t.cloneElement(f,{x:s,y:i,width:o,height:d,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,d=this,u=this.props,m=u.y,p=u.travellerWidth,f=u.height,y=u.traveller,b=u.ariaLabel,E=u.data,w=u.startIndex,x=u.endIndex,N=Math.max(n,this.props.x),S=pE(pE({},ar(this.props,!1)),{},{x:N,y:m,width:p,height:f}),k=b||"Min value: ".concat((i=E[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=E[x])===null||o===void 0?void 0:o.name);return t.createElement(aa,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),d.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(y,S))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,d=i.height,u=i.stroke,m=i.travellerWidth,p=Math.min(n,s)+m,f=Math.max(Math.abs(s-n)-m,0);return t.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:o,width:f,height:d})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,d=n.height,u=n.travellerWidth,m=n.stroke,p=this.state,f=p.startX,y=p.endX,b=5,E={pointerEvents:"none",fill:m};return t.createElement(aa,{className:"recharts-brush-texts"},t.createElement(Zp,k0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,y)-b,y:o+d/2},E),this.getTextOfTick(s)),t.createElement(Zp,k0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,y)+u+b,y:o+d/2},E),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,d=n.x,u=n.y,m=n.width,p=n.height,f=n.alwaysShowText,y=this.state,b=y.startX,E=y.endX,w=y.isTextActive,x=y.isSlideMoving,N=y.isTravellerMoving,S=y.isTravellerFocused;if(!s||!s.length||!Xe(d)||!Xe(u)||!Xe(m)||!Xe(p)||m<=0||p<=0)return null;var k=lr("recharts-brush",i),P=t.Children.count(o)===1,C=Zte("userSelect","none");return t.createElement(aa,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(b,E),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(E,"endX"),(w||x||N||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,d=n.height,u=n.stroke,m=Math.floor(i+d/2)-1;return t.createElement(t.Fragment,null,t.createElement("rect",{x:s,y:i,width:o,height:d,fill:u,stroke:"none"}),t.createElement("line",{x1:s+1,y1:m,x2:s+o-1,y2:m,fill:"none",stroke:"#fff"}),t.createElement("line",{x1:s+1,y1:m+2,x2:s+o-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return t.isValidElement(n)?i=t.cloneElement(n,s):Wt(n)?i=n(s):i=r.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,d=n.x,u=n.travellerWidth,m=n.updateId,p=n.startIndex,f=n.endIndex;if(i!==s.prevData||m!==s.prevUpdateId)return pE({prevData:i,prevTravellerWidth:u,prevUpdateId:m,prevX:d,prevWidth:o},i&&i.length?ore({data:i,width:o,x:d,travellerWidth:u,startIndex:p,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||d!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([d,d+o-u]);var y=s.scale.domain().map(function(b){return s.scale(b)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:m,prevX:d,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,d=i-1;d-o>1;){var u=Math.floor((o+d)/2);n[u]>s?d=u:o=u}return s>=n[d]?d:o}}])})(h.PureComponent);Nn(Lc,"displayName","Brush");Nn(Lc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gE,Y6;function lre(){if(Y6)return gE;Y6=1;var e=MN();function r(a,n){var s;return e(a,function(i,o,d){return s=n(i,o,d),!s}),!!s}return gE=r,gE}var hE,Q6;function cre(){if(Q6)return hE;Q6=1;var e=YM(),r=yo(),a=lre(),n=yn(),s=dg();function i(o,d,u){var m=n(o)?e:a;return u&&s(o,d,u)&&(d=void 0),m(o,r(d,3))}return hE=i,hE}var dre=cre();const ure=Pr(dre);var qs=function(r,a){var n=r.alwaysShow,s=r.ifOverflow;return n&&(s="extendDomain"),s===a},yE,J6;function mre(){if(J6)return yE;J6=1;var e=pj();function r(a,n,s){n=="__proto__"&&e?e(a,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):a[n]=s}return yE=r,yE}var bE,Z6;function fre(){if(Z6)return bE;Z6=1;var e=mre(),r=mj(),a=yo();function n(s,i){var o={};return i=a(i,3),r(s,function(d,u,m){e(o,u,i(d,u,m))}),o}return bE=n,bE}var pre=fre();const gre=Pr(pre);var xE,eP;function hre(){if(eP)return xE;eP=1;function e(r,a){for(var n=-1,s=r==null?0:r.length;++n<s;)if(!a(r[n],n,r))return!1;return!0}return xE=e,xE}var vE,tP;function yre(){if(tP)return vE;tP=1;var e=MN();function r(a,n){var s=!0;return e(a,function(i,o,d){return s=!!n(i,o,d),s}),s}return vE=r,vE}var EE,rP;function bre(){if(rP)return EE;rP=1;var e=hre(),r=yre(),a=yo(),n=yn(),s=dg();function i(o,d,u){var m=n(o)?e:r;return u&&s(o,d,u)&&(d=void 0),m(o,a(d,3))}return EE=i,EE}var xre=bre();const zR=Pr(xre);var vre=["x","y"];function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sm(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y1.apply(this,arguments)}function aP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Zd(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?aP(Object(a),!0).forEach(function(n){Ere(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ere(e,r,a){return r=wre(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function wre(e){var r=Nre(e,"string");return sm(r)=="symbol"?r:r+""}function Nre(e,r){if(sm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sre(e,r){if(e==null)return{};var a=kre(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kre(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function Cre(e,r){var a=e.x,n=e.y,s=Sre(e,vre),i="".concat(a),o=parseInt(i,10),d="".concat(n),u=parseInt(d,10),m="".concat(r.height||s.height),p=parseInt(m,10),f="".concat(r.width||s.width),y=parseInt(f,10);return Zd(Zd(Zd(Zd(Zd({},r),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:p,width:y,name:r.name,radius:r.radius})}function nP(e){return t.createElement(Dte,y1({shapeType:"rectangle",propTransformer:Cre,activeClassName:"recharts-active-bar"},e))}var Are=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof r=="number")return r;var i=Xe(n)||jU(n);return i?r(n,s):(i||pl(),a)}},_re=["value","background"],BR;function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ic(e)}function Pre(e,r){if(e==null)return{};var a=Tre(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tre(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A0.apply(this,arguments)}function sP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function oa(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?sP(Object(a),!0).forEach(function(n){ro(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ore(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iP(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UR(n.key),n)}}function Mre(e,r,a){return r&&iP(e.prototype,r),a&&iP(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function jre(e,r,a){return r=_0(r),Rre(e,qR()?Reflect.construct(r,a||[],_0(e).constructor):r.apply(e,a))}function Rre(e,r){if(r&&(Ic(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(e)}function $re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!e})()}function _0(e){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_0(e)}function Lre(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&b1(e,r)}function b1(e,r){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b1(e,r)}function ro(e,r,a){return r=UR(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function UR(e){var r=Ire(e,"string");return Ic(r)=="symbol"?r:r+""}function Ire(e,r){if(Ic(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kl=(function(e){function r(){var a;Ore(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=jre(this,r,[].concat(s)),ro(a,"state",{isAnimationFinished:!1}),ro(a,"id",wm("recharts-bar-")),ro(a,"handleAnimationEnd",function(){var o=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),o&&o()}),ro(a,"handleAnimationStart",function(){var o=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),o&&o()}),a}return Lre(r,e),Mre(r,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,d=i.dataKey,u=i.activeIndex,m=i.activeBar,p=ar(this.props,!1);return n&&n.map(function(f,y){var b=y===u,E=b?m:o,w=oa(oa(oa({},p),f),{},{isActive:b,option:E,index:y,dataKey:d,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return t.createElement(aa,A0({className:"recharts-bar-rectangle"},qp(s.props,f,y),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(y)}),t.createElement(nP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,d=s.isAnimationActive,u=s.animationBegin,m=s.animationDuration,p=s.animationEasing,f=s.animationId,y=this.state.prevData;return t.createElement(vi,{begin:u,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var E=b.t,w=i.map(function(x,N){var S=y&&y[N];if(S){var k=gs(S.x,x.x),P=gs(S.y,x.y),C=gs(S.width,x.width),_=gs(S.height,x.height);return oa(oa({},x),{},{x:k(E),y:P(E),width:C(E),height:_(E)})}if(o==="horizontal"){var O=gs(0,x.height),T=O(E);return oa(oa({},x),{},{y:x.y+x.height-T,height:T})}var R=gs(0,x.width),D=R(E);return oa(oa({},x),{},{width:D})});return t.createElement(aa,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!xg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,d=s.activeIndex,u=ar(this.props.background,!1);return i.map(function(m,p){m.value;var f=m.background,y=Pre(m,_re);if(!f)return null;var b=oa(oa(oa(oa(oa({},y),{},{fill:"#eee"},f),u),qp(n.props,m,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return t.createElement(nP,A0({key:"background-bar-".concat(p),option:n.props.background,isActive:p===d},b))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,d=i.xAxis,u=i.yAxis,m=i.layout,p=i.children,f=Qn(p,_m);if(!f)return null;var y=m==="vertical"?o[0].height/2:o[0].width/2,b=function(x,N){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:Pn(x,N)}},E={clipPath:n?"url(#clipPath-".concat(s,")"):null};return t.createElement(aa,E,f.map(function(w){return t.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:d,yAxis:u,layout:m,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,d=n.xAxis,u=n.yAxis,m=n.left,p=n.top,f=n.width,y=n.height,b=n.isAnimationActive,E=n.background,w=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,N=lr("recharts-bar",o),S=d&&d.allowDataOverflow,k=u&&u.allowDataOverflow,P=S||k,C=Xt(w)?this.id:w;return t.createElement(aa,{className:N},S||k?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(C)},t.createElement("rect",{x:S?m:m-f/2,y:k?p:p-y/2,width:S?f:f*2,height:k?y:y*2}))):null,t.createElement(aa,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(C,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,C),(!b||x)&&so.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(h.PureComponent);BR=kl;ro(kl,"displayName","Bar");ro(kl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ro(kl,"getComposedData",function(e){var r=e.props,a=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,d=e.xAxisTicks,u=e.yAxisTicks,m=e.stackedData,p=e.dataStartIndex,f=e.displayedData,y=e.offset,b=JQ(n,a);if(!b)return null;var E=r.layout,w=a.type.defaultProps,x=w!==void 0?oa(oa({},w),a.props):a.props,N=x.dataKey,S=x.children,k=x.minPointSize,P=E==="horizontal"?o:i,C=m?P.scale.domain():null,_=iJ({numericAxis:P}),O=Qn(S,$N),T=f.map(function(R,D){var j,L,K,W,$,J;m?j=ZQ(m[p+D],C):(j=Pn(R,N),Array.isArray(j)||(j=[_,j]));var Q=Are(k,BR.defaultProps.minPointSize)(j[1],D);if(E==="horizontal"){var X,H=[o.scale(j[0]),o.scale(j[1])],I=H[0],B=H[1];L=W_({axis:i,ticks:d,bandSize:s,offset:b.offset,entry:R,index:D}),K=(X=B??I)!==null&&X!==void 0?X:void 0,W=b.size;var G=I-B;if($=Number.isNaN(G)?0:G,J={x:L,y:o.y,width:W,height:o.height},Math.abs(Q)>0&&Math.abs($)<Math.abs(Q)){var z=xs($||Q)*(Math.abs(Q)-Math.abs($));K-=z,$+=z}}else{var ae=[i.scale(j[0]),i.scale(j[1])],he=ae[0],ve=ae[1];if(L=he,K=W_({axis:o,ticks:u,bandSize:s,offset:b.offset,entry:R,index:D}),W=ve-he,$=b.size,J={x:i.x,y:K,width:i.width,height:$},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var _e=xs(W||Q)*(Math.abs(Q)-Math.abs(W));W+=_e}}return oa(oa(oa({},R),{},{x:L,y:K,width:W,height:$,value:m?j:j[1],payload:R,background:J},O&&O[D]&&O[D].props),{},{tooltipPayload:[kR(a,R)],tooltipPosition:{x:L+W/2,y:K+$/2}})});return oa({data:T,layout:E},y)});function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(e)}function Dre(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oP(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VR(n.key),n)}}function Fre(e,r,a){return r&&oP(e.prototype,r),a&&oP(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function lP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function ms(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?lP(Object(a),!0).forEach(function(n){Sg(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Sg(e,r,a){return r=VR(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function VR(e){var r=zre(e,"string");return im(r)=="symbol"?r:r+""}function zre(e,r){if(im(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var HR=function(r,a,n,s,i){var o=r.width,d=r.height,u=r.layout,m=r.children,p=Object.keys(a),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:d-n.bottom,bottomMirror:d-n.bottom},y=!!Sn(m,kl);return p.reduce(function(b,E){var w=a[E],x=w.orientation,N=w.domain,S=w.padding,k=S===void 0?{}:S,P=w.mirror,C=w.reversed,_="".concat(x).concat(P?"Mirror":""),O,T,R,D,j;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var L=N[1]-N[0],K=1/0,W=w.categoricalDomain.sort(LU);if(W.forEach(function(ae,he){he>0&&(K=Math.min((ae||0)-(W[he-1]||0),K))}),Number.isFinite(K)){var $=K/L,J=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(O=$*J/2),w.padding==="no-gap"){var Q=ml(r.barCategoryGap,$*J),X=$*J/2;O=X-Q-(X-Q)/J*Q}}}s==="xAxis"?T=[n.left+(k.left||0)+(O||0),n.left+n.width-(k.right||0)-(O||0)]:s==="yAxis"?T=u==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(O||0),n.top+n.height-(k.bottom||0)-(O||0)]:T=w.range,C&&(T=[T[1],T[0]]);var H=YQ(w,i,y),I=H.scale,B=H.realScaleType;I.domain(N).range(T),QQ(I);var G=sJ(I,ms(ms({},w),{},{realScaleType:B}));s==="xAxis"?(j=x==="top"&&!P||x==="bottom"&&P,R=n.left,D=f[_]-j*w.height):s==="yAxis"&&(j=x==="left"&&!P||x==="right"&&P,R=f[_]-j*w.width,D=n.top);var z=ms(ms(ms({},w),G),{},{realScaleType:B,x:R,y:D,scale:I,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return z.bandSize=p0(z,G),!w.hide&&s==="xAxis"?f[_]+=(j?-1:1)*z.height:w.hide||(f[_]+=(j?-1:1)*z.width),ms(ms({},b),{},Sg({},E,z))},{})},WR=function(r,a){var n=r.x,s=r.y,i=a.x,o=a.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Bre=function(r){var a=r.x1,n=r.y1,s=r.x2,i=r.y2;return WR({x:a,y:n},{x:s,y:i})},GR=(function(){function e(r){Dre(this,e),this.scale=r}return Fre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(a!==void 0){if(i)switch(i){case"start":return this.scale(a);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+o}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(a)+d}default:return this.scale(a)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+u}return this.scale(a)}}},{key:"isInRange",value:function(a){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?a>=s&&a<=i:a>=i&&a<=s}}],[{key:"create",value:function(a){return new e(a)}}])})();Sg(GR,"EPS",1e-4);var c2=function(r){var a=Object.keys(r).reduce(function(n,s){return ms(ms({},n),{},Sg({},s,GR.create(r[s])))},{});return ms(ms({},a),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,d=i.position;return gre(s,function(u,m){return a[m].apply(u,{bandAware:o,position:d})})},isInRange:function(s){return zR(s,function(i,o){return a[o].isInRange(i)})}})};function qre(e){return(e%180+180)%180}var Ure=function(r){var a=r.width,n=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=qre(s),o=i*Math.PI/180,d=Math.atan(n/a),u=o>d&&o<Math.PI-d?n/Math.sin(o):a/Math.cos(o);return Math.abs(u)},wE,cP;function Vre(){if(cP)return wE;cP=1;var e=yo(),r=Nm(),a=lg();function n(s){return function(i,o,d){var u=Object(i);if(!r(i)){var m=e(o,3);i=a(i),o=function(f){return m(u[f],f,u)}}var p=s(i,o,d);return p>-1?u[m?i[p]:p]:void 0}}return wE=n,wE}var NE,dP;function Hre(){if(dP)return NE;dP=1;var e=LR();function r(a){var n=e(a),s=n%1;return n===n?s?n-s:n:0}return NE=r,NE}var SE,uP;function Wre(){if(uP)return SE;uP=1;var e=oj(),r=yo(),a=Hre(),n=Math.max;function s(i,o,d){var u=i==null?0:i.length;if(!u)return-1;var m=d==null?0:a(d);return m<0&&(m=n(u+m,0)),e(i,r(o,3),m)}return SE=s,SE}var kE,mP;function Gre(){if(mP)return kE;mP=1;var e=Vre(),r=Wre(),a=e(r);return kE=a,kE}var Kre=Gre();const Xre=Pr(Kre);var Yre=NM();const Qre=Pr(Yre);var Jre=Qre(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),d2=h.createContext(void 0),u2=h.createContext(void 0),KR=h.createContext(void 0),XR=h.createContext({}),YR=h.createContext(void 0),QR=h.createContext(0),JR=h.createContext(0),fP=function(r){var a=r.state,n=a.xAxisMap,s=a.yAxisMap,i=a.offset,o=r.clipPathId,d=r.children,u=r.width,m=r.height,p=Jre(i);return t.createElement(d2.Provider,{value:n},t.createElement(u2.Provider,{value:s},t.createElement(XR.Provider,{value:i},t.createElement(KR.Provider,{value:p},t.createElement(YR.Provider,{value:o},t.createElement(QR.Provider,{value:m},t.createElement(JR.Provider,{value:u},d)))))))},Zre=function(){return h.useContext(YR)},ZR=function(r){var a=h.useContext(d2);a==null&&pl();var n=a[r];return n==null&&pl(),n},eae=function(){var r=h.useContext(d2);return Zi(r)},tae=function(){var r=h.useContext(u2),a=Xre(r,function(n){return zR(n.domain,Number.isFinite)});return a||Zi(r)},e$=function(r){var a=h.useContext(u2);a==null&&pl();var n=a[r];return n==null&&pl(),n},rae=function(){var r=h.useContext(KR);return r},aae=function(){return h.useContext(XR)},m2=function(){return h.useContext(JR)},f2=function(){return h.useContext(QR)};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dc(e)}function nae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sae(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r$(n.key),n)}}function iae(e,r,a){return r&&sae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oae(e,r,a){return r=P0(r),lae(e,t$()?Reflect.construct(r,a||[],P0(e).constructor):r.apply(e,a))}function lae(e,r){if(r&&(Dc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(e)}function cae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},P0(e)}function dae(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&x1(e,r)}function x1(e,r){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x1(e,r)}function pP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function gP(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?pP(Object(a),!0).forEach(function(n){p2(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function p2(e,r,a){return r=r$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function r$(e){var r=uae(e,"string");return Dc(r)=="symbol"?r:r+""}function uae(e,r){if(Dc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mae(e,r){return hae(e)||gae(e,r)||pae(e,r)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(e,r){if(e){if(typeof e=="string")return hP(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return hP(e,r)}}function hP(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function gae(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function hae(e){if(Array.isArray(e))return e}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v1.apply(this,arguments)}var yae=function(r,a){var n;return t.isValidElement(r)?n=t.cloneElement(r,a):Wt(r)?n=r(a):n=t.createElement("line",v1({},a,{className:"recharts-reference-line-line"})),n},bae=function(r,a,n,s,i,o,d,u,m){var p=i.x,f=i.y,y=i.width,b=i.height;if(n){var E=m.y,w=r.y.apply(E,{position:o});if(qs(m,"discard")&&!r.y.isInRange(w))return null;var x=[{x:p+y,y:w},{x:p,y:w}];return u==="left"?x.reverse():x}if(a){var N=m.x,S=r.x.apply(N,{position:o});if(qs(m,"discard")&&!r.x.isInRange(S))return null;var k=[{x:S,y:f+b},{x:S,y:f}];return d==="top"?k.reverse():k}if(s){var P=m.segment,C=P.map(function(_){return r.apply(_,{position:o})});return qs(m,"discard")&&ure(C,function(_){return!r.isInRange(_)})?null:C}return null};function xae(e){var r=e.x,a=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,d=e.className,u=e.alwaysShow,m=Zre(),p=ZR(s),f=e$(i),y=rae();if(!m||!y)return null;pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=c2({x:p.scale,y:f.scale}),E=ya(r),w=ya(a),x=n&&n.length===2,N=bae(b,E,w,x,y,e.position,p.orientation,f.orientation,e);if(!N)return null;var S=mae(N,2),k=S[0],P=k.x,C=k.y,_=S[1],O=_.x,T=_.y,R=qs(e,"hidden")?"url(#".concat(m,")"):void 0,D=gP(gP({clipPath:R},ar(e,!0)),{},{x1:P,y1:C,x2:O,y2:T});return t.createElement(aa,{className:lr("recharts-reference-line",d)},yae(o,D),Va.renderCallByParent(e,Bre({x1:P,y1:C,x2:O,y2:T})))}var g2=(function(e){function r(){return nae(this,r),oae(this,r,arguments)}return dae(r,e),iae(r,[{key:"render",value:function(){return t.createElement(xae,this.props)}}])})(t.Component);p2(g2,"displayName","ReferenceLine");p2(g2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E1.apply(this,arguments)}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fc(e)}function yP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function bP(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?yP(Object(a),!0).forEach(function(n){kg(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function vae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eae(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n$(n.key),n)}}function wae(e,r,a){return r&&Eae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nae(e,r,a){return r=T0(r),Sae(e,a$()?Reflect.construct(r,a||[],T0(e).constructor):r.apply(e,a))}function Sae(e,r){if(r&&(Fc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kae(e)}function kae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},T0(e)}function Cae(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&w1(e,r)}function w1(e,r){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w1(e,r)}function kg(e,r,a){return r=n$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function n$(e){var r=Aae(e,"string");return Fc(r)=="symbol"?r:r+""}function Aae(e,r){if(Fc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _ae=function(r){var a=r.x,n=r.y,s=r.xAxis,i=r.yAxis,o=c2({x:s.scale,y:i.scale}),d=o.apply({x:a,y:n},{bandAware:!0});return qs(r,"discard")&&!o.isInRange(d)?null:d},Cg=(function(e){function r(){return vae(this,r),Nae(this,r,arguments)}return Cae(r,e),wae(r,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,d=n.alwaysShow,u=n.clipPathId,m=ya(s),p=ya(i);if(pi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!p)return null;var f=_ae(this.props);if(!f)return null;var y=f.x,b=f.y,E=this.props,w=E.shape,x=E.className,N=qs(this.props,"hidden")?"url(#".concat(u,")"):void 0,S=bP(bP({clipPath:N},ar(this.props,!0)),{},{cx:y,cy:b});return t.createElement(aa,{className:lr("recharts-reference-dot",x)},r.renderDot(w,S),Va.renderCallByParent(this.props,{x:y-o,y:b-o,width:2*o,height:2*o}))}}])})(t.Component);kg(Cg,"displayName","ReferenceDot");kg(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kg(Cg,"renderDot",function(e,r){var a;return t.isValidElement(e)?a=t.cloneElement(e,r):Wt(e)?a=e(r):a=t.createElement(l2,E1({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),a});function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N1.apply(this,arguments)}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zc(e)}function xP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function vP(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?xP(Object(a),!0).forEach(function(n){Ag(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Pae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tae(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i$(n.key),n)}}function Oae(e,r,a){return r&&Tae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mae(e,r,a){return r=O0(r),jae(e,s$()?Reflect.construct(r,a||[],O0(e).constructor):r.apply(e,a))}function jae(e,r){if(r&&(zc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rae(e)}function Rae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!e})()}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},O0(e)}function $ae(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&S1(e,r)}function S1(e,r){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},S1(e,r)}function Ag(e,r,a){return r=i$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function i$(e){var r=Lae(e,"string");return zc(r)=="symbol"?r:r+""}function Lae(e,r){if(zc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iae=function(r,a,n,s,i){var o=i.x1,d=i.x2,u=i.y1,m=i.y2,p=i.xAxis,f=i.yAxis;if(!p||!f)return null;var y=c2({x:p.scale,y:f.scale}),b={x:r?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(u,{position:"start"}):y.y.rangeMin},E={x:a?y.x.apply(d,{position:"end"}):y.x.rangeMax,y:s?y.y.apply(m,{position:"end"}):y.y.rangeMax};return qs(i,"discard")&&(!y.isInRange(b)||!y.isInRange(E))?null:WR(b,E)},_g=(function(e){function r(){return Pae(this,r),Mae(this,r,arguments)}return $ae(r,e),Oae(r,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,d=n.y2,u=n.className,m=n.alwaysShow,p=n.clipPathId;pi(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ya(s),y=ya(i),b=ya(o),E=ya(d),w=this.props.shape;if(!f&&!y&&!b&&!E&&!w)return null;var x=Iae(f,y,b,E,this.props);if(!x&&!w)return null;var N=qs(this.props,"hidden")?"url(#".concat(p,")"):void 0;return t.createElement(aa,{className:lr("recharts-reference-area",u)},r.renderRect(w,vP(vP({clipPath:N},ar(this.props,!0)),x)),Va.renderCallByParent(this.props,x))}}])})(t.Component);Ag(_g,"displayName","ReferenceArea");Ag(_g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ag(_g,"renderRect",function(e,r){var a;return t.isValidElement(e)?a=t.cloneElement(e,r):Wt(e)?a=e(r):a=t.createElement(o2,N1({},r,{className:"recharts-reference-area-rect"})),a});function o$(e,r,a){if(r<1)return[];if(r===1&&a===void 0)return e;for(var n=[],s=0;s<e.length;s+=r)n.push(e[s]);return n}function Dae(e,r,a){var n={width:e.width+r.width,height:e.height+r.height};return Ure(n,a)}function Fae(e,r,a){var n=a==="width",s=e.x,i=e.y,o=e.width,d=e.height;return r===1?{start:n?s:i,end:n?s+o:i+d}:{start:n?s+o:i+d,end:n?s:i}}function M0(e,r,a,n,s){if(e*r<e*n||e*r>e*s)return!1;var i=a();return e*(r-e*i/2-n)>=0&&e*(r+e*i/2-s)<=0}function zae(e,r){return o$(e,r+1)}function Bae(e,r,a,n,s){for(var i=(n||[]).slice(),o=r.start,d=r.end,u=0,m=1,p=o,f=function(){var E=n?.[u];if(E===void 0)return{v:o$(n,m)};var w=u,x,N=function(){return x===void 0&&(x=a(E,w)),x},S=E.coordinate,k=u===0||M0(e,S,N,p,d);k||(u=0,p=o,m+=1),k&&(p=S+e*(N()/2+s),u+=m)},y;m<=i.length;)if(y=f(),y)return y.v;return[]}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},om(e)}function EP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ua(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?EP(Object(a),!0).forEach(function(n){qae(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function qae(e,r,a){return r=Uae(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Uae(e){var r=Vae(e,"string");return om(r)=="symbol"?r:r+""}function Vae(e,r){if(om(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hae(e,r,a,n,s){for(var i=(n||[]).slice(),o=i.length,d=r.start,u=r.end,m=function(y){var b=i[y],E,w=function(){return E===void 0&&(E=a(b,y)),E};if(y===o-1){var x=e*(b.coordinate+e*w()/2-u);i[y]=b=Ua(Ua({},b),{},{tickCoord:x>0?b.coordinate-x*e:b.coordinate})}else i[y]=b=Ua(Ua({},b),{},{tickCoord:b.coordinate});var N=M0(e,b.tickCoord,w,d,u);N&&(u=b.tickCoord-e*(w()/2+s),i[y]=Ua(Ua({},b),{},{isShow:!0}))},p=o-1;p>=0;p--)m(p);return i}function Wae(e,r,a,n,s,i){var o=(n||[]).slice(),d=o.length,u=r.start,m=r.end;if(i){var p=n[d-1],f=a(p,d-1),y=e*(p.coordinate+e*f/2-m);o[d-1]=p=Ua(Ua({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var b=M0(e,p.tickCoord,function(){return f},u,m);b&&(m=p.tickCoord-e*(f/2+s),o[d-1]=Ua(Ua({},p),{},{isShow:!0}))}for(var E=i?d-1:d,w=function(S){var k=o[S],P,C=function(){return P===void 0&&(P=a(k,S)),P};if(S===0){var _=e*(k.coordinate-e*C()/2-u);o[S]=k=Ua(Ua({},k),{},{tickCoord:_<0?k.coordinate-_*e:k.coordinate})}else o[S]=k=Ua(Ua({},k),{},{tickCoord:k.coordinate});var O=M0(e,k.tickCoord,C,u,m);O&&(u=k.tickCoord+e*(C()/2+s),o[S]=Ua(Ua({},k),{},{isShow:!0}))},x=0;x<E;x++)w(x);return o}function h2(e,r,a){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,d=e.orientation,u=e.interval,m=e.tickFormatter,p=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(Xe(u)||nd.isSsr)return zae(s,typeof u=="number"&&Xe(u)?u:0);var y=[],b=d==="top"||d==="bottom"?"width":"height",E=p&&b==="width"?bu(p,{fontSize:r,letterSpacing:a}):{width:0,height:0},w=function(k,P){var C=Wt(m)?m(k.value,P):k.value;return b==="width"?Dae(bu(C,{fontSize:r,letterSpacing:a}),E,f):bu(C,{fontSize:r,letterSpacing:a})[b]},x=s.length>=2?xs(s[1].coordinate-s[0].coordinate):1,N=Fae(i,x,b);return u==="equidistantPreserveStart"?Bae(x,N,w,s,o):(u==="preserveStart"||u==="preserveStartEnd"?y=Wae(x,N,w,s,o,u==="preserveStartEnd"):y=Hae(x,N,w,s,o),y.filter(function(S){return S.isShow}))}var Gae=["viewBox"],Kae=["viewBox"],Xae=["ticks"];function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bc(e)}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mc.apply(this,arguments)}function wP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function pa(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?wP(Object(a),!0).forEach(function(n){y2(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function CE(e,r){if(e==null)return{};var a=Yae(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yae(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function Qae(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function NP(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c$(n.key),n)}}function Jae(e,r,a){return r&&NP(e.prototype,r),a&&NP(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zae(e,r,a){return r=j0(r),ene(e,l$()?Reflect.construct(r,a||[],j0(e).constructor):r.apply(e,a))}function ene(e,r){if(r&&(Bc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tne(e)}function tne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!e})()}function j0(e){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},j0(e)}function rne(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&k1(e,r)}function k1(e,r){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(e,r)}function y2(e,r,a){return r=c$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function c$(e){var r=ane(e,"string");return Bc(r)=="symbol"?r:r+""}function ane(e,r){if(Bc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cd=(function(e){function r(a){var n;return Qae(this,r),n=Zae(this,r,[a]),n.state={fontSize:"",letterSpacing:""},n}return rne(r,e),Jae(r,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=CE(n,Gae),d=this.props,u=d.viewBox,m=CE(d,Kae);return!yc(i,u)||!yc(o,m)||!yc(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,d=s.width,u=s.height,m=s.orientation,p=s.tickSize,f=s.mirror,y=s.tickMargin,b,E,w,x,N,S,k=f?-1:1,P=n.tickSize||p,C=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":b=E=n.coordinate,x=o+ +!f*u,w=x-k*P,S=w-k*y,N=C;break;case"left":w=x=n.coordinate,E=i+ +!f*d,b=E-k*P,N=b-k*y,S=C;break;case"right":w=x=n.coordinate,E=i+ +f*d,b=E+k*P,N=b+k*y,S=C;break;default:b=E=n.coordinate,x=o+ +f*u,w=x+k*P,S=w+k*y,N=C;break}return{line:{x1:b,y1:w,x2:E,y2:x},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,d=n.height,u=n.orientation,m=n.mirror,p=n.axisLine,f=pa(pa(pa({},ar(this.props,!1)),ar(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!m||u==="bottom"&&m);f=pa(pa({},f),{},{x1:s,y1:i+y*d,x2:s+o,y2:i+y*d})}else{var b=+(u==="left"&&!m||u==="right"&&m);f=pa(pa({},f),{},{x1:s+b*o,y1:i,x2:s+b*o,y2:i+d})}return t.createElement("line",mc({},f,{className:lr("recharts-cartesian-axis-line",Yn(p,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,d=this.props,u=d.tickLine,m=d.stroke,p=d.tick,f=d.tickFormatter,y=d.unit,b=h2(pa(pa({},this.props),{},{ticks:n}),s,i),E=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=ar(this.props,!1),N=ar(p,!1),S=pa(pa({},x),{},{fill:"none"},ar(u,!1)),k=b.map(function(P,C){var _=o.getTickLineCoord(P),O=_.line,T=_.tick,R=pa(pa(pa(pa({textAnchor:E,verticalAnchor:w},x),{},{stroke:"none",fill:m},N),T),{},{index:C,payload:P,visibleTicksCount:b.length,tickFormatter:f});return t.createElement(aa,mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},qp(o.props,P,C)),u&&t.createElement("line",mc({},S,O,{className:lr("recharts-cartesian-axis-tick-line",Yn(u,"className"))})),p&&r.renderTickItem(p,R,"".concat(Wt(f)?f(P.value,C):P.value).concat(y||"")))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,d=s.height,u=s.ticksGenerator,m=s.className,p=s.hide;if(p)return null;var f=this.props,y=f.ticks,b=CE(f,Xae),E=y;return Wt(u)&&(E=y&&y.length>0?u(this.props):u(b)),o<=0||d<=0||!E||!E.length?null:t.createElement(aa,{className:lr("recharts-cartesian-axis",m),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Va.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,d=lr(s.className,"recharts-cartesian-axis-tick-value");return t.isValidElement(n)?o=t.cloneElement(n,pa(pa({},s),{},{className:d})):Wt(n)?o=n(pa(pa({},s),{},{className:d})):o=t.createElement(Zp,mc({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(h.Component);y2(cd,"displayName","CartesianAxis");y2(cd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nne=["x1","y1","x2","y2","key"],sne=["offset"];function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gl(e)}function SP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ha(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?SP(Object(a),!0).forEach(function(n){ine(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ine(e,r,a){return r=one(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function one(e){var r=lne(e,"string");return gl(r)=="symbol"?r:r+""}function lne(e,r){if(gl(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Jo.apply(this,arguments)}function kP(e,r){if(e==null)return{};var a=cne(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cne(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}var dne=function(r){var a=r.fill;if(!a||a==="none")return null;var n=r.fillOpacity,s=r.x,i=r.y,o=r.width,d=r.height,u=r.ry;return t.createElement("rect",{x:s,y:i,ry:u,width:o,height:d,stroke:"none",fill:a,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function d$(e,r){var a;if(t.isValidElement(e))a=t.cloneElement(e,r);else if(Wt(e))a=e(r);else{var n=r.x1,s=r.y1,i=r.x2,o=r.y2,d=r.key,u=kP(r,nne),m=ar(u,!1);m.offset;var p=kP(m,sne);a=t.createElement("line",Jo({},p,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:d}))}return a}function une(e){var r=e.x,a=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(d,u){var m=Ha(Ha({},e),{},{x1:r,y1:d,x2:r+a,y2:d,key:"line-".concat(u),index:u});return d$(s,m)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mne(e){var r=e.y,a=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(d,u){var m=Ha(Ha({},e),{},{x1:d,y1:r,x2:d,y2:r+a,key:"line-".concat(u),index:u});return d$(s,m)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fne(e){var r=e.horizontalFill,a=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,d=e.horizontalPoints,u=e.horizontal,m=u===void 0?!0:u;if(!m||!r||!r.length)return null;var p=d.map(function(y){return Math.round(y+s-s)}).sort(function(y,b){return y-b});s!==p[0]&&p.unshift(0);var f=p.map(function(y,b){var E=!p[b+1],w=E?s+o-y:p[b+1]-y;if(w<=0)return null;var x=b%r.length;return t.createElement("rect",{key:"react-".concat(b),y,x:n,height:w,width:i,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function pne(e){var r=e.vertical,a=r===void 0?!0:r,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,d=e.width,u=e.height,m=e.verticalPoints;if(!a||!n||!n.length)return null;var p=m.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==p[0]&&p.unshift(0);var f=p.map(function(y,b){var E=!p[b+1],w=E?i+d-y:p[b+1]-y;if(w<=0)return null;var x=b%n.length;return t.createElement("rect",{key:"react-".concat(b),x:y,y:o,width:w,height:u,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gne=function(r,a){var n=r.xAxis,s=r.width,i=r.height,o=r.offset;return NR(h2(Ha(Ha(Ha({},cd.defaultProps),n),{},{ticks:mi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,a)},hne=function(r,a){var n=r.yAxis,s=r.width,i=r.height,o=r.offset;return NR(h2(Ha(Ha(Ha({},cd.defaultProps),n),{},{ticks:mi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,a)},tc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function C1(e){var r,a,n,s,i,o,d=m2(),u=f2(),m=aae(),p=Ha(Ha({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:tc.stroke,fill:(a=e.fill)!==null&&a!==void 0?a:tc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:tc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:tc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:tc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:tc.verticalFill,x:Xe(e.x)?e.x:m.left,y:Xe(e.y)?e.y:m.top,width:Xe(e.width)?e.width:m.width,height:Xe(e.height)?e.height:m.height}),f=p.x,y=p.y,b=p.width,E=p.height,w=p.syncWithTicks,x=p.horizontalValues,N=p.verticalValues,S=eae(),k=tae();if(!Xe(b)||b<=0||!Xe(E)||E<=0||!Xe(f)||f!==+f||!Xe(y)||y!==+y)return null;var P=p.verticalCoordinatesGenerator||gne,C=p.horizontalCoordinatesGenerator||hne,_=p.horizontalPoints,O=p.verticalPoints;if((!_||!_.length)&&Wt(C)){var T=x&&x.length,R=C({yAxis:k?Ha(Ha({},k),{},{ticks:T?x:k.ticks}):void 0,width:d,height:u,offset:m},T?!0:w);pi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gl(R),"]")),Array.isArray(R)&&(_=R)}if((!O||!O.length)&&Wt(P)){var D=N&&N.length,j=P({xAxis:S?Ha(Ha({},S),{},{ticks:D?N:S.ticks}):void 0,width:d,height:u,offset:m},D?!0:w);pi(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gl(j),"]")),Array.isArray(j)&&(O=j)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(dne,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),t.createElement(une,Jo({},p,{offset:m,horizontalPoints:_,xAxis:S,yAxis:k})),t.createElement(mne,Jo({},p,{offset:m,verticalPoints:O,xAxis:S,yAxis:k})),t.createElement(fne,Jo({},p,{horizontalPoints:_})),t.createElement(pne,Jo({},p,{verticalPoints:O})))}C1.displayName="CartesianGrid";var yne=["type","layout","connectNulls","ref"],bne=["key"];function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qc(e)}function CP(e,r){if(e==null)return{};var a=xne(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xne(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wu.apply(this,arguments)}function AP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function wn(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?AP(Object(a),!0).forEach(function(n){fs(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function rc(e){return Nne(e)||wne(e)||Ene(e)||vne()}function vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(e,r){if(e){if(typeof e=="string")return A1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A1(e,r)}}function wne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nne(e){if(Array.isArray(e))return A1(e)}function A1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function Sne(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _P(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m$(n.key),n)}}function kne(e,r,a){return r&&_P(e.prototype,r),a&&_P(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cne(e,r,a){return r=R0(r),Ane(e,u$()?Reflect.construct(r,a||[],R0(e).constructor):r.apply(e,a))}function Ane(e,r){if(r&&(qc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ne(e)}function _ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},R0(e)}function Pne(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&_1(e,r)}function _1(e,r){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_1(e,r)}function fs(e,r,a){return r=m$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function m$(e){var r=Tne(e,"string");return qc(r)=="symbol"?r:r+""}function Tne(e,r){if(qc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uc=(function(e){function r(){var a;Sne(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=Cne(this,r,[].concat(s)),fs(a,"state",{isAnimationFinished:!0,totalLength:0}),fs(a,"generateSimpleStrokeDasharray",function(o,d){return"".concat(d,"px ").concat(o-d,"px")}),fs(a,"getStrokeDasharray",function(o,d,u){var m=u.reduce(function(N,S){return N+S});if(!m)return a.generateSimpleStrokeDasharray(d,o);for(var p=Math.floor(o/m),f=o%m,y=d-o,b=[],E=0,w=0;E<u.length;w+=u[E],++E)if(w+u[E]>f){b=[].concat(rc(u.slice(0,E)),[f-w]);break}var x=b.length%2===0?[0,y]:[y];return[].concat(rc(r.repeat(u,p)),rc(b),x).map(function(N){return"".concat(N,"px")}).join(", ")}),fs(a,"id",wm("recharts-line-")),fs(a,"pathRef",function(o){a.mainCurve=o}),fs(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),fs(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return Pne(r,e),kne(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,d=i.xAxis,u=i.yAxis,m=i.layout,p=i.children,f=Qn(p,_m);if(!f)return null;var y=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:Pn(w.payload,x)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return t.createElement(aa,b,f.map(function(E){return t.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:o,xAxis:d,yAxis:u,layout:m,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var d=this.props,u=d.dot,m=d.points,p=d.dataKey,f=ar(this.props,!1),y=ar(u,!0),b=m.map(function(w,x){var N=wn(wn(wn({key:"dot-".concat(x),r:3},f),y),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:m});return r.renderDotItem(u,N)}),E={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return t.createElement(aa,wu({className:"recharts-line-dots",key:"dots"},E),b)}},{key:"renderCurveStatically",value:function(n,s,i,o){var d=this.props,u=d.type,m=d.layout,p=d.connectNulls;d.ref;var f=CP(d,yne),y=wn(wn(wn({},ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:u,layout:m,connectNulls:p});return t.createElement(n1,wu({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,d=o.points,u=o.strokeDasharray,m=o.isAnimationActive,p=o.animationBegin,f=o.animationDuration,y=o.animationEasing,b=o.animationId,E=o.animateNewValues,w=o.width,x=o.height,N=this.state,S=N.prevPoints,k=N.totalLength;return t.createElement(vi,{begin:p,duration:f,isActive:m,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var C=P.t;if(S){var _=S.length/d.length,O=d.map(function(L,K){var W=Math.floor(K*_);if(S[W]){var $=S[W],J=gs($.x,L.x),Q=gs($.y,L.y);return wn(wn({},L),{},{x:J(C),y:Q(C)})}if(E){var X=gs(w*2,L.x),H=gs(x/2,L.y);return wn(wn({},L),{},{x:X(C),y:H(C)})}return wn(wn({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(O,n,s)}var T=gs(0,k),R=T(C),D;if(u){var j="".concat(u).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});D=i.getStrokeDasharray(R,k,j)}else D=i.generateSimpleStrokeDasharray(k,R);return i.renderCurveStatically(d,n,s,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,d=i.isAnimationActive,u=this.state,m=u.prevPoints,p=u.totalLength;return d&&o&&o.length&&(!m&&p>0||!xg(m,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,d=s.points,u=s.className,m=s.xAxis,p=s.yAxis,f=s.top,y=s.left,b=s.width,E=s.height,w=s.isAnimationActive,x=s.id;if(i||!d||!d.length)return null;var N=this.state.isAnimationFinished,S=d.length===1,k=lr("recharts-line",u),P=m&&m.allowDataOverflow,C=p&&p.allowDataOverflow,_=P||C,O=Xt(x)?this.id:x,T=(n=ar(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=T.r,D=R===void 0?3:R,j=T.strokeWidth,L=j===void 0?2:j,K=HU(o)?o:{},W=K.clipDot,$=W===void 0?!0:W,J=D*2+L;return t.createElement(aa,{className:k},P||C?t.createElement("defs",null,t.createElement("clipPath",{id:"clipPath-".concat(O)},t.createElement("rect",{x:P?y:y-b/2,y:C?f:f-E/2,width:P?b:b*2,height:C?E:E*2})),!$&&t.createElement("clipPath",{id:"clipPath-dots-".concat(O)},t.createElement("rect",{x:y-J/2,y:f-J/2,width:b+J,height:E+J}))):null,!S&&this.renderCurve(_,O),this.renderErrorBar(_,O),(S||o)&&this.renderDots(_,$,O),(!w||N)&&so.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(rc(n),[0]):n,o=[],d=0;d<s;++d)o=[].concat(rc(o),rc(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(t.isValidElement(n))i=t.cloneElement(n,s);else if(Wt(n))i=n(s);else{var o=s.key,d=CP(s,bne),u=lr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=t.createElement(l2,wu({key:o},d,{className:u}))}return i}}])})(h.PureComponent);fs(Uc,"displayName","Line");fs(Uc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fs(Uc,"getComposedData",function(e){var r=e.props,a=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,d=e.bandSize,u=e.displayedData,m=e.offset,p=r.layout,f=u.map(function(y,b){var E=Pn(y,o);return p==="horizontal"?{x:H_({axis:a,ticks:s,bandSize:d,entry:y,index:b}),y:Xt(E)?null:n.scale(E),value:E,payload:y}:{x:Xt(E)?null:a.scale(E),y:H_({axis:n,ticks:i,bandSize:d,entry:y,index:b}),value:E,payload:y}});return wn({points:f,layout:p},m)});function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vc(e)}function One(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mne(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function jne(e,r,a){return r&&Mne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rne(e,r,a){return r=$0(r),$ne(e,f$()?Reflect.construct(r,a||[],$0(e).constructor):r.apply(e,a))}function $ne(e,r){if(r&&(Vc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(e)}function Lne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!e})()}function $0(e){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},$0(e)}function Ine(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&P1(e,r)}function P1(e,r){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P1(e,r)}function p$(e,r,a){return r=g$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function g$(e){var r=Dne(e,"string");return Vc(r)=="symbol"?r:r+""}function Dne(e,r){if(Vc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T1.apply(this,arguments)}function Fne(e){var r=e.xAxisId,a=m2(),n=f2(),s=ZR(r);return s==null?null:h.createElement(cd,T1({},s,{className:lr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(o){return mi(o,!0)}}))}var Hc=(function(e){function r(){return One(this,r),Rne(this,r,arguments)}return Ine(r,e),jne(r,[{key:"render",value:function(){return h.createElement(Fne,this.props)}}])})(h.Component);p$(Hc,"displayName","XAxis");p$(Hc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wc(e)}function zne(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bne(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b$(n.key),n)}}function qne(e,r,a){return r&&Bne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Une(e,r,a){return r=L0(r),Vne(e,h$()?Reflect.construct(r,a||[],L0(e).constructor):r.apply(e,a))}function Vne(e,r){if(r&&(Wc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hne(e)}function Hne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},L0(e)}function Wne(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&O1(e,r)}function O1(e,r){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O1(e,r)}function y$(e,r,a){return r=b$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function b$(e){var r=Gne(e,"string");return Wc(r)=="symbol"?r:r+""}function Gne(e,r){if(Wc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},M1.apply(this,arguments)}var Kne=function(r){var a=r.yAxisId,n=m2(),s=f2(),i=e$(a);return i==null?null:h.createElement(cd,M1({},i,{className:lr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(d){return mi(d,!0)}}))},ol=(function(e){function r(){return zne(this,r),Une(this,r,arguments)}return Wne(r,e),qne(r,[{key:"render",value:function(){return h.createElement(Kne,this.props)}}])})(h.Component);y$(ol,"displayName","YAxis");y$(ol,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PP(e){return Jne(e)||Qne(e)||Yne(e)||Xne()}function Xne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(e,r){if(e){if(typeof e=="string")return j1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j1(e,r)}}function Qne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jne(e){if(Array.isArray(e))return j1(e)}function j1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}var R1=function(r,a,n,s,i){var o=Qn(r,g2),d=Qn(r,Cg),u=[].concat(PP(o),PP(d)),m=Qn(r,_g),p="".concat(s,"Id"),f=s[0],y=a;if(u.length&&(y=u.reduce(function(w,x){if(x.props[p]===n&&qs(x.props,"extendDomain")&&Xe(x.props[f])){var N=x.props[f];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},y)),m.length){var b="".concat(f,"1"),E="".concat(f,"2");y=m.reduce(function(w,x){if(x.props[p]===n&&qs(x.props,"extendDomain")&&Xe(x.props[b])&&Xe(x.props[E])){var N=x.props[b],S=x.props[E];return[Math.min(w[0],N,S),Math.max(w[1],N,S)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,x){return Xe(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},y)),y},AE={exports:{}},TP;function Zne(){return TP||(TP=1,(function(e){var r=Object.prototype.hasOwnProperty,a="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1));function s(u,m,p){this.fn=u,this.context=m,this.once=p||!1}function i(u,m,p,f,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,f||u,y),E=a?a+m:m;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],b]:u._events[E].push(b):(u._events[E]=b,u._eventsCount++),u}function o(u,m){--u._eventsCount===0?u._events=new n:delete u._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,f;if(this._eventsCount===0)return m;for(f in p=this._events)r.call(p,f)&&m.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=a?a+m:m,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,b=f.length,E=new Array(b);y<b;y++)E[y]=f[y].fn;return E},d.prototype.listenerCount=function(m){var p=a?a+m:m,f=this._events[p];return f?f.fn?1:f.length:0},d.prototype.emit=function(m,p,f,y,b,E){var w=a?a+m:m;if(!this._events[w])return!1;var x=this._events[w],N=arguments.length,S,k;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,f),!0;case 4:return x.fn.call(x.context,p,f,y),!0;case 5:return x.fn.call(x.context,p,f,y,b),!0;case 6:return x.fn.call(x.context,p,f,y,b,E),!0}for(k=1,S=new Array(N-1);k<N;k++)S[k-1]=arguments[k];x.fn.apply(x.context,S)}else{var P=x.length,C;for(k=0;k<P;k++)switch(x[k].once&&this.removeListener(m,x[k].fn,void 0,!0),N){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,p);break;case 3:x[k].fn.call(x[k].context,p,f);break;case 4:x[k].fn.call(x[k].context,p,f,y);break;default:if(!S)for(C=1,S=new Array(N-1);C<N;C++)S[C-1]=arguments[C];x[k].fn.apply(x[k].context,S)}}return!0},d.prototype.on=function(m,p,f){return i(this,m,p,f,!1)},d.prototype.once=function(m,p,f){return i(this,m,p,f,!0)},d.prototype.removeListener=function(m,p,f,y){var b=a?a+m:m;if(!this._events[b])return this;if(!p)return o(this,b),this;var E=this._events[b];if(E.fn)E.fn===p&&(!y||E.once)&&(!f||E.context===f)&&o(this,b);else{for(var w=0,x=[],N=E.length;w<N;w++)(E[w].fn!==p||y&&!E[w].once||f&&E[w].context!==f)&&x.push(E[w]);x.length?this._events[b]=x.length===1?x[0]:x:o(this,b)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=a?a+m:m,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d})(AE)),AE.exports}var ese=Zne();const tse=Pr(ese);var _E=new tse,PE="recharts.syncMouseEvents";function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(e)}function rse(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ase(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x$(n.key),n)}}function nse(e,r,a){return r&&ase(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TE(e,r,a){return r=x$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function x$(e){var r=sse(e,"string");return lm(r)=="symbol"?r:r+""}function sse(e,r){if(lm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ise=(function(){function e(){rse(this,e),TE(this,"activeIndex",0),TE(this,"coordinateList",[]),TE(this,"layout","horizontal")}return nse(e,[{key:"setDetails",value:function(a){var n,s=a.coordinateList,i=s===void 0?null:s,o=a.container,d=o===void 0?null:o,u=a.layout,m=u===void 0?null:u,p=a.offset,f=p===void 0?null:p,y=a.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=d??this.container,this.layout=m??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(a){if(this.coordinateList.length!==0)switch(a.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(a){this.activeIndex=a}},{key:"spoofMouse",value:function(){var a,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,d=s.height,u=this.coordinateList[this.activeIndex].coordinate,m=((a=window)===null||a===void 0?void 0:a.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+u+m,y=o+this.offset.top+d/2+p;this.mouseHandlerCallback({pageX:f,pageY:y})}}}])})();function ose(e,r,a){if(a==="number"&&r===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&Xe(n)&&Xe(s))return!0}return!1}function lse(e,r,a,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:r.y-s,width:e==="horizontal"?n:a.width-1,height:e==="horizontal"?a.height-1:n}}function v$(e){var r=e.cx,a=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=$a(r,a,n,s),d=$a(r,a,n,i);return{points:[o,d],cx:r,cy:a,radius:n,startAngle:s,endAngle:i}}function cse(e,r,a){var n,s,i,o;if(e==="horizontal")n=r.x,i=n,s=a.top,o=a.top+a.height;else if(e==="vertical")s=r.y,o=s,n=a.left,i=a.left+a.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var d=r.cx,u=r.cy,m=r.innerRadius,p=r.outerRadius,f=r.angle,y=$a(d,u,m,f),b=$a(d,u,p,f);n=y.x,s=y.y,i=b.x,o=b.y}else return v$(r);return[{x:n,y:s},{x:i,y:o}]}function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(e)}function OP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Xf(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OP(Object(a),!0).forEach(function(n){dse(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):OP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function dse(e,r,a){return r=use(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function use(e){var r=mse(e,"string");return cm(r)=="symbol"?r:r+""}function mse(e,r){if(cm(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function fse(e){var r,a,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,d=e.activePayload,u=e.offset,m=e.activeTooltipIndex,p=e.tooltipAxisBandSize,f=e.layout,y=e.chartName,b=(r=n.props.cursor)!==null&&r!==void 0?r:(a=n.type.defaultProps)===null||a===void 0?void 0:a.cursor;if(!n||!b||!i||!o||y!=="ScatterChart"&&s!=="axis")return null;var E,w=n1;if(y==="ScatterChart")E=o,w=ute;else if(y==="BarChart")E=lse(f,o,u,p),w=o2;else if(f==="radial"){var x=v$(o),N=x.cx,S=x.cy,k=x.radius,P=x.startAngle,C=x.endAngle;E={cx:N,cy:S,startAngle:P,endAngle:C,innerRadius:k,outerRadius:k},w=_R}else E={points:cse(f,o,u)},w=n1;var _=Xf(Xf(Xf(Xf({stroke:"#ccc",pointerEvents:"none"},u),E),ar(b,!1)),{},{payload:d,payloadIndex:m,className:lr("recharts-tooltip-cursor",b.className)});return h.isValidElement(b)?h.cloneElement(b,_):h.createElement(w,_)}var pse=["item"],gse=["children","className","width","height","style","compact","title","desc"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gc(e)}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fc.apply(this,arguments)}function MP(e,r){return bse(e)||yse(e,r)||w$(e,r)||hse()}function hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,i,o,d=[],u=!0,m=!1;try{if(i=(a=a.call(e)).next,r!==0)for(;!(u=(n=i.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(p){m=!0,s=p}finally{try{if(!u&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(m)throw s}}return d}}function bse(e){if(Array.isArray(e))return e}function jP(e,r){if(e==null)return{};var a=xse(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xse(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function vse(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ese(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N$(n.key),n)}}function wse(e,r,a){return r&&Ese(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nse(e,r,a){return r=I0(r),Sse(e,E$()?Reflect.construct(r,a||[],I0(e).constructor):r.apply(e,a))}function Sse(e,r){if(r&&(Gc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kse(e)}function kse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!e})()}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},I0(e)}function Cse(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$1(e,r)}function $1(e,r){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$1(e,r)}function Kc(e){return Pse(e)||_se(e)||w$(e)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$(e,r){if(e){if(typeof e=="string")return L1(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L1(e,r)}}function _se(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pse(e){if(Array.isArray(e))return L1(e)}function L1(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function RP(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function je(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?RP(Object(a),!0).forEach(function(n){Ot(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RP(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ot(e,r,a){return r=N$(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function N$(e){var r=Tse(e,"string");return Gc(r)=="symbol"?r:r+""}function Tse(e,r){if(Gc(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ose={xAxis:["bottom","top"],yAxis:["left","right"]},Mse={width:"100%",height:"100%"},S$={x:0,y:0};function Yf(e){return e}var jse=function(r,a){return a==="horizontal"?r.x:a==="vertical"?r.y:a==="centric"?r.angle:r.radius},Rse=function(r,a,n,s){var i=a.find(function(p){return p&&p.index===n});if(i){if(r==="horizontal")return{x:i.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,d=s.radius;return je(je(je({},s),$a(s.cx,s.cy,d,o)),{},{angle:o,radius:d})}var u=i.coordinate,m=s.angle;return je(je(je({},s),$a(s.cx,s.cy,u,m)),{},{angle:m,radius:u})}return S$},Pg=function(r,a){var n=a.graphicalItems,s=a.dataStartIndex,i=a.dataEndIndex,o=(n??[]).reduce(function(d,u){var m=u.props.data;return m&&m.length?[].concat(Kc(d),Kc(m)):d},[]);return o.length>0?o:r&&r.length&&Xe(s)&&Xe(i)?r.slice(s,i+1):[]};function k$(e){return e==="number"?[0,"auto"]:void 0}var I1=function(r,a,n,s){var i=r.graphicalItems,o=r.tooltipAxis,d=Pg(a,r);return n<0||!i||!i.length||n>=d.length?null:i.reduce(function(u,m){var p,f=(p=m.props.data)!==null&&p!==void 0?p:a;f&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=n&&(f=f.slice(r.dataStartIndex,r.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var b=f===void 0?d:f;y=zp(b,o.dataKey,s)}else y=f&&f[n]||d[n];return y?[].concat(Kc(u),[kR(m,y)]):u},[])},$P=function(r,a,n,s){var i=s||{x:r.chartX,y:r.chartY},o=jse(i,n),d=r.orderedTooltipTicks,u=r.tooltipAxis,m=r.tooltipTicks,p=VQ(o,d,m,u);if(p>=0&&m){var f=m[p]&&m[p].value,y=I1(r,a,p,f),b=Rse(n,d,p,i);return{activeTooltipIndex:p,activeLabel:f,activePayload:y,activeCoordinate:b}}return null},$se=function(r,a){var n=a.axes,s=a.graphicalItems,i=a.axisType,o=a.axisIdKey,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.layout,f=r.children,y=r.stackOffset,b=wR(p,i);return n.reduce(function(E,w){var x,N=w.type.defaultProps!==void 0?je(je({},w.type.defaultProps),w.props):w.props,S=N.type,k=N.dataKey,P=N.allowDataOverflow,C=N.allowDuplicatedCategory,_=N.scale,O=N.ticks,T=N.includeHidden,R=N[o];if(E[R])return E;var D=Pg(r.data,{graphicalItems:s.filter(function(G){var z,ae=o in G.props?G.props[o]:(z=G.type.defaultProps)===null||z===void 0?void 0:z[o];return ae===R}),dataStartIndex:u,dataEndIndex:m}),j=D.length,L,K,W;ose(N.domain,P,S)&&(L=Zw(N.domain,null,P),b&&(S==="number"||_!=="auto")&&(W=vu(D,k,"category")));var $=k$(S);if(!L||L.length===0){var J,Q=(J=N.domain)!==null&&J!==void 0?J:$;if(k){if(L=vu(D,k,S),S==="category"&&b){var X=$U(L);C&&X?(K=L,L=S0(0,j)):C||(L=X_(Q,L,w).reduce(function(G,z){return G.indexOf(z)>=0?G:[].concat(Kc(G),[z])},[]))}else if(S==="category")C?L=L.filter(function(G){return G!==""&&!Xt(G)}):L=X_(Q,L,w).reduce(function(G,z){return G.indexOf(z)>=0||z===""||Xt(z)?G:[].concat(Kc(G),[z])},[]);else if(S==="number"){var H=XQ(D,s.filter(function(G){var z,ae,he=o in G.props?G.props[o]:(z=G.type.defaultProps)===null||z===void 0?void 0:z[o],ve="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return he===R&&(T||!ve)}),k,i,p);H&&(L=H)}b&&(S==="number"||_!=="auto")&&(W=vu(D,k,"category"))}else b?L=S0(0,j):d&&d[R]&&d[R].hasStack&&S==="number"?L=y==="expand"?[0,1]:SR(d[R].stackGroups,u,m):L=ER(D,s.filter(function(G){var z=o in G.props?G.props[o]:G.type.defaultProps[o],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return z===R&&(T||!ae)}),S,p,!0);if(S==="number")L=R1(f,L,R,i,O),Q&&(L=Zw(Q,L,P));else if(S==="category"&&Q){var I=Q,B=L.every(function(G){return I.indexOf(G)>=0});B&&(L=I)}}return je(je({},E),{},Ot({},R,je(je({},N),{},{axisType:i,domain:L,categoricalDomain:W,duplicateDomain:K,originalDomain:(x=N.domain)!==null&&x!==void 0?x:$,isCategorical:b,layout:p})))},{})},Lse=function(r,a){var n=a.graphicalItems,s=a.Axis,i=a.axisType,o=a.axisIdKey,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.layout,f=r.children,y=Pg(r.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:m}),b=y.length,E=wR(p,i),w=-1;return n.reduce(function(x,N){var S=N.type.defaultProps!==void 0?je(je({},N.type.defaultProps),N.props):N.props,k=S[o],P=k$("number");if(!x[k]){w++;var C;return E?C=S0(0,b):d&&d[k]&&d[k].hasStack?(C=SR(d[k].stackGroups,u,m),C=R1(f,C,k,i)):(C=Zw(P,ER(y,n.filter(function(_){var O,T,R=o in _.props?_.props[o]:(O=_.type.defaultProps)===null||O===void 0?void 0:O[o],D="hide"in _.props?_.props.hide:(T=_.type.defaultProps)===null||T===void 0?void 0:T.hide;return R===k&&!D}),"number",p),s.defaultProps.allowDataOverflow),C=R1(f,C,k,i)),je(je({},x),{},Ot({},k,je(je({axisType:i},s.defaultProps),{},{hide:!0,orientation:Yn(Ose,"".concat(i,".").concat(w%2),null),domain:C,originalDomain:P,isCategorical:E,layout:p})))}return x},{})},Ise=function(r,a){var n=a.axisType,s=n===void 0?"xAxis":n,i=a.AxisComp,o=a.graphicalItems,d=a.stackGroups,u=a.dataStartIndex,m=a.dataEndIndex,p=r.children,f="".concat(s,"Id"),y=Qn(p,i),b={};return y&&y.length?b=$se(r,{axes:y,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:d,dataStartIndex:u,dataEndIndex:m}):o&&o.length&&(b=Lse(r,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:d,dataStartIndex:u,dataEndIndex:m})),b},Dse=function(r){var a=Zi(r),n=mi(a,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jN(n,function(s){return s.coordinate}),tooltipAxis:a,tooltipAxisBandSize:p0(a,n)}},LP=function(r){var a=r.children,n=r.defaultShowTooltip,s=Sn(a,Lc),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Fse=function(r){return!r||!r.length?!1:r.some(function(a){var n=fi(a&&a.type);return n&&n.indexOf("Bar")>=0})},IP=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zse=function(r,a){var n=r.props,s=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,d=r.yAxisMap,u=d===void 0?{}:d,m=n.width,p=n.height,f=n.children,y=n.margin||{},b=Sn(f,Lc),E=Sn(f,nl),w=Object.keys(u).reduce(function(C,_){var O=u[_],T=O.orientation;return!O.mirror&&!O.hide?je(je({},C),{},Ot({},T,C[T]+O.width)):C},{left:y.left||0,right:y.right||0}),x=Object.keys(o).reduce(function(C,_){var O=o[_],T=O.orientation;return!O.mirror&&!O.hide?je(je({},C),{},Ot({},T,Yn(C,"".concat(T))+O.height)):C},{top:y.top||0,bottom:y.bottom||0}),N=je(je({},x),w),S=N.bottom;b&&(N.bottom+=b.props.height||Lc.defaultProps.height),E&&a&&(N=GQ(N,s,n,a));var k=m-N.left-N.right,P=p-N.top-N.bottom;return je(je({brushBottom:S},N),{},{width:Math.max(k,0),height:Math.max(P,0)})},Bse=function(r,a){if(a==="xAxis")return r[a].width;if(a==="yAxis")return r[a].height},C$=function(r){var a=r.chartName,n=r.GraphicalChild,s=r.defaultTooltipEventType,i=s===void 0?"axis":s,o=r.validateTooltipEventTypes,d=o===void 0?["axis"]:o,u=r.axisComponents,m=r.legendContent,p=r.formatAxisMap,f=r.defaultProps,y=function(N,S){var k=S.graphicalItems,P=S.stackGroups,C=S.offset,_=S.updateId,O=S.dataStartIndex,T=S.dataEndIndex,R=N.barSize,D=N.layout,j=N.barGap,L=N.barCategoryGap,K=N.maxBarSize,W=IP(D),$=W.numericAxisName,J=W.cateAxisName,Q=Fse(k),X=[];return k.forEach(function(H,I){var B=Pg(N.data,{graphicalItems:[H],dataStartIndex:O,dataEndIndex:T}),G=H.type.defaultProps!==void 0?je(je({},H.type.defaultProps),H.props):H.props,z=G.dataKey,ae=G.maxBarSize,he=G["".concat($,"Id")],ve=G["".concat(J,"Id")],_e={},ee=u.reduce(function(Ze,nt){var ct=S["".concat(nt.axisType,"Map")],vt=G["".concat(nt.axisType,"Id")];ct&&ct[vt]||nt.axisType==="zAxis"||pl();var Zt=ct[vt];return je(je({},Ze),{},Ot(Ot({},nt.axisType,Zt),"".concat(nt.axisType,"Ticks"),mi(Zt)))},_e),le=ee[J],pe=ee["".concat(J,"Ticks")],Ne=P&&P[he]&&P[he].hasStack&&oJ(H,P[he].stackGroups),oe=fi(H.type).indexOf("Bar")>=0,re=p0(le,pe),Me=[],ge=Q&&HQ({barSize:R,stackGroups:P,totalSize:Bse(ee,J)});if(oe){var $e,De,Ye=Xt(ae)?K:ae,Je=($e=(De=p0(le,pe,!0))!==null&&De!==void 0?De:Ye)!==null&&$e!==void 0?$e:0;Me=WQ({barGap:j,barCategoryGap:L,bandSize:Je!==re?Je:re,sizeList:ge[ve],maxBarSize:Ye}),Je!==re&&(Me=Me.map(function(Ze){return je(je({},Ze),{},{position:je(je({},Ze.position),{},{offset:Ze.position.offset-Je/2})})}))}var bt=H&&H.type&&H.type.getComposedData;bt&&X.push({props:je(je({},bt(je(je({},ee),{},{displayedData:B,props:N,dataKey:z,item:H,bandSize:re,barPosition:Me,offset:C,stackedData:Ne,layout:D,dataStartIndex:O,dataEndIndex:T}))),{},Ot(Ot(Ot({key:H.key||"item-".concat(I)},$,ee[$]),J,ee[J]),"animationId",_)),childIndex:KU(H,N.children),item:H})}),X},b=function(N,S){var k=N.props,P=N.dataStartIndex,C=N.dataEndIndex,_=N.updateId;if(!lC({props:k}))return null;var O=k.children,T=k.layout,R=k.stackOffset,D=k.data,j=k.reverseStackOrder,L=IP(T),K=L.numericAxisName,W=L.cateAxisName,$=Qn(O,n),J=nJ(D,$,"".concat(K,"Id"),"".concat(W,"Id"),R,j),Q=u.reduce(function(G,z){var ae="".concat(z.axisType,"Map");return je(je({},G),{},Ot({},ae,Ise(k,je(je({},z),{},{graphicalItems:$,stackGroups:z.axisType===K&&J,dataStartIndex:P,dataEndIndex:C}))))},{}),X=zse(je(je({},Q),{},{props:k,graphicalItems:$}),S?.legendBBox);Object.keys(Q).forEach(function(G){Q[G]=p(k,Q[G],X,G.replace("Map",""),a)});var H=Q["".concat(W,"Map")],I=Dse(H),B=y(k,je(je({},Q),{},{dataStartIndex:P,dataEndIndex:C,updateId:_,graphicalItems:$,stackGroups:J,offset:X}));return je(je({formattedGraphicalItems:B,graphicalItems:$,offset:X,stackGroups:J},I),Q)},E=(function(x){function N(S){var k,P,C;return vse(this,N),C=Nse(this,N,[S]),Ot(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ot(C,"accessibilityManager",new ise),Ot(C,"handleLegendBBoxUpdate",function(_){if(_){var O=C.state,T=O.dataStartIndex,R=O.dataEndIndex,D=O.updateId;C.setState(je({legendBBox:_},b({props:C.props,dataStartIndex:T,dataEndIndex:R,updateId:D},je(je({},C.state),{},{legendBBox:_}))))}}),Ot(C,"handleReceiveSyncEvent",function(_,O,T){if(C.props.syncId===_){if(T===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(O)}}),Ot(C,"handleBrushChange",function(_){var O=_.startIndex,T=_.endIndex;if(O!==C.state.dataStartIndex||T!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return je({dataStartIndex:O,dataEndIndex:T},b({props:C.props,dataStartIndex:O,dataEndIndex:T,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:O,dataEndIndex:T})}}),Ot(C,"handleMouseEnter",function(_){var O=C.getMouseInfo(_);if(O){var T=je(je({},O),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var R=C.props.onMouseEnter;Wt(R)&&R(T,_)}}),Ot(C,"triggeredAfterMouseMove",function(_){var O=C.getMouseInfo(_),T=O?je(je({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var R=C.props.onMouseMove;Wt(R)&&R(T,_)}),Ot(C,"handleItemMouseEnter",function(_){C.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Ot(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ot(C,"handleMouseMove",function(_){_.persist(),C.throttleTriggeredAfterMouseMove(_)}),Ot(C,"handleMouseLeave",function(_){C.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var T=C.props.onMouseLeave;Wt(T)&&T(O,_)}),Ot(C,"handleOuterEvent",function(_){var O=GU(_),T=Yn(C.props,"".concat(O));if(O&&Wt(T)){var R,D;/.*touch.*/i.test(O)?D=C.getMouseInfo(_.changedTouches[0]):D=C.getMouseInfo(_),T((R=D)!==null&&R!==void 0?R:{},_)}}),Ot(C,"handleClick",function(_){var O=C.getMouseInfo(_);if(O){var T=je(je({},O),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var R=C.props.onClick;Wt(R)&&R(T,_)}}),Ot(C,"handleMouseDown",function(_){var O=C.props.onMouseDown;if(Wt(O)){var T=C.getMouseInfo(_);O(T,_)}}),Ot(C,"handleMouseUp",function(_){var O=C.props.onMouseUp;if(Wt(O)){var T=C.getMouseInfo(_);O(T,_)}}),Ot(C,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Ot(C,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseDown(_.changedTouches[0])}),Ot(C,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&C.handleMouseUp(_.changedTouches[0])}),Ot(C,"handleDoubleClick",function(_){var O=C.props.onDoubleClick;if(Wt(O)){var T=C.getMouseInfo(_);O(T,_)}}),Ot(C,"handleContextMenu",function(_){var O=C.props.onContextMenu;if(Wt(O)){var T=C.getMouseInfo(_);O(T,_)}}),Ot(C,"triggerSyncEvent",function(_){C.props.syncId!==void 0&&_E.emit(PE,C.props.syncId,_,C.eventEmitterSymbol)}),Ot(C,"applySyncEvent",function(_){var O=C.props,T=O.layout,R=O.syncMethod,D=C.state.updateId,j=_.dataStartIndex,L=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)C.setState(je({dataStartIndex:j,dataEndIndex:L},b({props:C.props,dataStartIndex:j,dataEndIndex:L,updateId:D},C.state)));else if(_.activeTooltipIndex!==void 0){var K=_.chartX,W=_.chartY,$=_.activeTooltipIndex,J=C.state,Q=J.offset,X=J.tooltipTicks;if(!Q)return;if(typeof R=="function")$=R(X,_);else if(R==="value"){$=-1;for(var H=0;H<X.length;H++)if(X[H].value===_.activeLabel){$=H;break}}var I=je(je({},Q),{},{x:Q.left,y:Q.top}),B=Math.min(K,I.x+I.width),G=Math.min(W,I.y+I.height),z=X[$]&&X[$].value,ae=I1(C.state,C.props.data,$),he=X[$]?{x:T==="horizontal"?X[$].coordinate:B,y:T==="horizontal"?G:X[$].coordinate}:S$;C.setState(je(je({},_),{},{activeLabel:z,activeCoordinate:he,activePayload:ae,activeTooltipIndex:$}))}else C.setState(_)}),Ot(C,"renderCursor",function(_){var O,T=C.state,R=T.isTooltipActive,D=T.activeCoordinate,j=T.activePayload,L=T.offset,K=T.activeTooltipIndex,W=T.tooltipAxisBandSize,$=C.getTooltipEventType(),J=(O=_.props.active)!==null&&O!==void 0?O:R,Q=C.props.layout,X=_.key||"_recharts-cursor";return t.createElement(fse,{key:X,activeCoordinate:D,activePayload:j,activeTooltipIndex:K,chartName:a,element:_,isActive:J,layout:Q,offset:L,tooltipAxisBandSize:W,tooltipEventType:$})}),Ot(C,"renderPolarAxis",function(_,O,T){var R=Yn(_,"type.axisType"),D=Yn(C.state,"".concat(R,"Map")),j=_.type.defaultProps,L=j!==void 0?je(je({},j),_.props):_.props,K=D&&D[L["".concat(R,"Id")]];return h.cloneElement(_,je(je({},K),{},{className:lr(R,K.className),key:_.key||"".concat(O,"-").concat(T),ticks:mi(K,!0)}))}),Ot(C,"renderPolarGrid",function(_){var O=_.props,T=O.radialLines,R=O.polarAngles,D=O.polarRadius,j=C.state,L=j.radiusAxisMap,K=j.angleAxisMap,W=Zi(L),$=Zi(K),J=$.cx,Q=$.cy,X=$.innerRadius,H=$.outerRadius;return h.cloneElement(_,{polarAngles:Array.isArray(R)?R:mi($,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(D)?D:mi(W,!0).map(function(I){return I.coordinate}),cx:J,cy:Q,innerRadius:X,outerRadius:H,key:_.key||"polar-grid",radialLines:T})}),Ot(C,"renderLegend",function(){var _=C.state.formattedGraphicalItems,O=C.props,T=O.children,R=O.width,D=O.height,j=C.props.margin||{},L=R-(j.left||0)-(j.right||0),K=xR({children:T,formattedGraphicalItems:_,legendWidth:L,legendContent:m});if(!K)return null;var W=K.item,$=jP(K,pse);return h.cloneElement(W,je(je({},$),{},{chartWidth:R,chartHeight:D,margin:j,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ot(C,"renderTooltip",function(){var _,O=C.props,T=O.children,R=O.accessibilityLayer,D=Sn(T,us);if(!D)return null;var j=C.state,L=j.isTooltipActive,K=j.activeCoordinate,W=j.activePayload,$=j.activeLabel,J=j.offset,Q=(_=D.props.active)!==null&&_!==void 0?_:L;return h.cloneElement(D,{viewBox:je(je({},J),{},{x:J.left,y:J.top}),active:Q,label:$,payload:Q?W:[],coordinate:K,accessibilityLayer:R})}),Ot(C,"renderBrush",function(_){var O=C.props,T=O.margin,R=O.data,D=C.state,j=D.offset,L=D.dataStartIndex,K=D.dataEndIndex,W=D.updateId;return h.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Hf(C.handleBrushChange,_.props.onChange),data:R,x:Xe(_.props.x)?_.props.x:j.left,y:Xe(_.props.y)?_.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Xe(_.props.width)?_.props.width:j.width,startIndex:L,endIndex:K,updateId:"brush-".concat(W)})}),Ot(C,"renderReferenceElement",function(_,O,T){if(!_)return null;var R=C,D=R.clipPathId,j=C.state,L=j.xAxisMap,K=j.yAxisMap,W=j.offset,$=_.type.defaultProps||{},J=_.props,Q=J.xAxisId,X=Q===void 0?$.xAxisId:Q,H=J.yAxisId,I=H===void 0?$.yAxisId:H;return h.cloneElement(_,{key:_.key||"".concat(O,"-").concat(T),xAxis:L[X],yAxis:K[I],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:D})}),Ot(C,"renderActivePoints",function(_){var O=_.item,T=_.activePoint,R=_.basePoint,D=_.childIndex,j=_.isRange,L=[],K=O.props.key,W=O.item.type.defaultProps!==void 0?je(je({},O.item.type.defaultProps),O.item.props):O.item.props,$=W.activeDot,J=W.dataKey,Q=je(je({index:D,dataKey:J,cx:T.x,cy:T.y,r:4,fill:i2(O.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ar($,!1)),Bp($));return L.push(N.renderActiveDot($,Q,"".concat(K,"-activePoint-").concat(D))),R?L.push(N.renderActiveDot($,je(je({},Q),{},{cx:R.x,cy:R.y}),"".concat(K,"-basePoint-").concat(D))):j&&L.push(null),L}),Ot(C,"renderGraphicChild",function(_,O,T){var R=C.filterFormatItem(_,O,T);if(!R)return null;var D=C.getTooltipEventType(),j=C.state,L=j.isTooltipActive,K=j.tooltipAxis,W=j.activeTooltipIndex,$=j.activeLabel,J=C.props.children,Q=Sn(J,us),X=R.props,H=X.points,I=X.isRange,B=X.baseLine,G=R.item.type.defaultProps!==void 0?je(je({},R.item.type.defaultProps),R.item.props):R.item.props,z=G.activeDot,ae=G.hide,he=G.activeBar,ve=G.activeShape,_e=!!(!ae&&L&&Q&&(z||he||ve)),ee={};D!=="axis"&&Q&&Q.props.trigger==="click"?ee={onClick:Hf(C.handleItemMouseEnter,_.props.onClick)}:D!=="axis"&&(ee={onMouseLeave:Hf(C.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Hf(C.handleItemMouseEnter,_.props.onMouseEnter)});var le=h.cloneElement(_,je(je({},R.props),ee));function pe(nt){return typeof K.dataKey=="function"?K.dataKey(nt.payload):null}if(_e)if(W>=0){var Ne,oe;if(K.dataKey&&!K.allowDuplicatedCategory){var re=typeof K.dataKey=="function"?pe:"payload.".concat(K.dataKey.toString());Ne=zp(H,re,$),oe=I&&B&&zp(B,re,$)}else Ne=H?.[W],oe=I&&B&&B[W];if(ve||he){var Me=_.props.activeIndex!==void 0?_.props.activeIndex:W;return[h.cloneElement(_,je(je(je({},R.props),ee),{},{activeIndex:Me})),null,null]}if(!Xt(Ne))return[le].concat(Kc(C.renderActivePoints({item:R,activePoint:Ne,basePoint:oe,childIndex:W,isRange:I})))}else{var ge,$e=(ge=C.getItemByXY(C.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:le},De=$e.graphicalItem,Ye=De.item,Je=Ye===void 0?_:Ye,bt=De.childIndex,Ze=je(je(je({},R.props),ee),{},{activeIndex:bt});return[h.cloneElement(Je,Ze),null,null]}return I?[le,null,null]:[le,null]}),Ot(C,"renderCustomized",function(_,O,T){return h.cloneElement(_,je(je({key:"recharts-customized-".concat(T)},C.props),C.state))}),Ot(C,"renderMap",{CartesianGrid:{handler:Yf,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Yf},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Yf},YAxis:{handler:Yf},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((k=S.id)!==null&&k!==void 0?k:wm("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=vj(C.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return Cse(N,x),wse(N,[{key:"componentDidMount",value:function(){var k,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,P=k.children,C=k.data,_=k.height,O=k.layout,T=Sn(P,us);if(T){var R=T.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,j=I1(this.state,C,R,D),L=this.state.tooltipTicks[R].coordinate,K=(this.state.offset.top+_)/2,W=O==="horizontal",$=W?{x:L,y:K}:{y:L,x:K},J=this.state.formattedGraphicalItems.find(function(X){var H=X.item;return H.type.name==="Scatter"});J&&($=je(je({},$),J.props.points[R].tooltipPosition),j=J.props.points[R].tooltipPayload);var Q={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:D,activePayload:j,activeCoordinate:$};this.setState(Q),this.renderCursor(T),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var C,_;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(k){Ew([Sn(k.children,us)],[Sn(this.props.children,us)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Sn(this.props.children,us);if(k&&typeof k.props.shared=="boolean"){var P=k.props.shared?"axis":"item";return d.indexOf(P)>=0?P:i}return i}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),_=RG(C),O={chartX:Math.round(k.pageX-_.left),chartY:Math.round(k.pageY-_.top)},T=C.width/P.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,T);if(!R)return null;var D=this.state,j=D.xAxisMap,L=D.yAxisMap,K=this.getTooltipEventType(),W=$P(this.state,this.props.data,this.props.layout,R);if(K!=="axis"&&j&&L){var $=Zi(j).scale,J=Zi(L).scale,Q=$&&$.invert?$.invert(O.chartX):null,X=J&&J.invert?J.invert(O.chartY):null;return je(je({},O),{},{xValue:Q,yValue:X},W)}return W?je(je({},O),W):null}},{key:"inRange",value:function(k,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,O=k/C,T=P/C;if(_==="horizontal"||_==="vertical"){var R=this.state.offset,D=O>=R.left&&O<=R.left+R.width&&T>=R.top&&T<=R.top+R.height;return D?{x:O,y:T}:null}var j=this.state,L=j.angleAxisMap,K=j.radiusAxisMap;if(L&&K){var W=Zi(L);return J_({x:O,y:T},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,P=this.getTooltipEventType(),C=Sn(k,us),_={};C&&P==="axis"&&(C.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Bp(this.props,this.handleOuterEvent);return je(je({},O),_)}},{key:"addListener",value:function(){_E.on(PE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_E.removeListener(PE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,P,C){for(var _=this.state.formattedGraphicalItems,O=0,T=_.length;O<T;O++){var R=_[O];if(R.item===k||R.props.key===k.key||P===fi(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,P=this.state.offset,C=P.left,_=P.top,O=P.height,T=P.width;return t.createElement("defs",null,t.createElement("clipPath",{id:k},t.createElement("rect",{x:C,y:_,height:O,width:T})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(P,C){var _=MP(C,2),O=_[0],T=_[1];return je(je({},P),{},Ot({},O,T.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(P,C){var _=MP(C,2),O=_[0],T=_[1];return je(je({},P),{},Ot({},O,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[k])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(k){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[k])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(k){var P=this.state,C=P.formattedGraphicalItems,_=P.activeItem;if(C&&C.length)for(var O=0,T=C.length;O<T;O++){var R=C[O],D=R.props,j=R.item,L=j.type.defaultProps!==void 0?je(je({},j.type.defaultProps),j.props):j.props,K=fi(j.type);if(K==="Bar"){var W=(D.data||[]).find(function(X){return tte(k,X)});if(W)return{graphicalItem:R,payload:W}}else if(K==="RadialBar"){var $=(D.data||[]).find(function(X){return J_(k,X)});if($)return{graphicalItem:R,payload:$}}else if(wg(R,_)||Ng(R,_)||am(R,_)){var J=Hte({graphicalItem:R,activeTooltipItem:_,itemData:L.data}),Q=L.activeIndex===void 0?J:L.activeIndex;return{graphicalItem:je(je({},R),{},{childIndex:Q}),payload:am(R,_)?L.data[J]:R.props.data[J]}}}return null}},{key:"render",value:function(){var k=this;if(!lC(this))return null;var P=this.props,C=P.children,_=P.className,O=P.width,T=P.height,R=P.style,D=P.compact,j=P.title,L=P.desc,K=jP(P,gse),W=ar(K,!1);if(D)return t.createElement(fP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement(Nw,fc({},W,{width:O,height:T,title:j,desc:L}),this.renderClipPath(),dC(C,this.renderMap)));if(this.props.accessibilityLayer){var $,J;W.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,W.role=(J=this.props.role)!==null&&J!==void 0?J:"application",W.onKeyDown=function(X){k.accessibilityManager.keyboardEvent(X)},W.onFocus=function(){k.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return t.createElement(fP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},t.createElement("div",fc({className:lr("recharts-wrapper",_),style:je({position:"relative",cursor:"default",width:O,height:T},R)},Q,{ref:function(H){k.container=H}}),t.createElement(Nw,fc({},W,{width:O,height:T,title:j,desc:L,style:Mse}),this.renderClipPath(),dC(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(h.Component);Ot(E,"displayName",a),Ot(E,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ot(E,"getDerivedStateFromProps",function(x,N){var S=x.dataKey,k=x.data,P=x.children,C=x.width,_=x.height,O=x.layout,T=x.stackOffset,R=x.margin,D=N.dataStartIndex,j=N.dataEndIndex;if(N.updateId===void 0){var L=LP(x);return je(je(je({},L),{},{updateId:0},b(je(je({props:x},L),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:k,prevWidth:C,prevHeight:_,prevLayout:O,prevStackOffset:T,prevMargin:R,prevChildren:P})}if(S!==N.prevDataKey||k!==N.prevData||C!==N.prevWidth||_!==N.prevHeight||O!==N.prevLayout||T!==N.prevStackOffset||!yc(R,N.prevMargin)){var K=LP(x),W={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},$=je(je({},$P(N,k,O)),{},{updateId:N.updateId+1}),J=je(je(je({},K),W),$);return je(je(je({},J),b(je({props:x},J),N)),{},{prevDataKey:S,prevData:k,prevWidth:C,prevHeight:_,prevLayout:O,prevStackOffset:T,prevMargin:R,prevChildren:P})}if(!Ew(P,N.prevChildren)){var Q,X,H,I,B=Sn(P,Lc),G=B&&(Q=(X=B.props)===null||X===void 0?void 0:X.startIndex)!==null&&Q!==void 0?Q:D,z=B&&(H=(I=B.props)===null||I===void 0?void 0:I.endIndex)!==null&&H!==void 0?H:j,ae=G!==D||z!==j,he=!Xt(k),ve=he&&!ae?N.updateId:N.updateId+1;return je(je({updateId:ve},b(je(je({props:x},N),{},{updateId:ve,dataStartIndex:G,dataEndIndex:z}),N)),{},{prevChildren:P,dataStartIndex:G,dataEndIndex:z})}return null}),Ot(E,"renderActiveDot",function(x,N,S){var k;return h.isValidElement(x)?k=h.cloneElement(x,N):Wt(x)?k=x(N):k=t.createElement(l2,N),t.createElement(aa,{className:"recharts-active-dot",key:S},k)});var w=h.forwardRef(function(N,S){return t.createElement(E,fc({},N,{ref:S}))});return w.displayName=E.displayName,w},qse=C$({chartName:"LineChart",GraphicalChild:Uc,axisComponents:[{axisType:"xAxis",AxisComp:Hc},{axisType:"yAxis",AxisComp:ol}],formatAxisMap:HR}),Use=C$({chartName:"BarChart",GraphicalChild:kl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hc},{axisType:"yAxis",AxisComp:ol}],formatAxisMap:HR});const sr=e=>Number(e||0).toLocaleString("fr-FR"),Ja=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,eu=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",OE=e=>e?new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Qf=(e,r)=>{if(!r||!e)return"";const a=Number(e)/Number(r)*100,n=a>=1?a.toFixed(1):a.toFixed(2);return`${Number(n).toLocaleString("fr-FR")} %`},Vse=e=>{if(!e)return"";const[r,a]=e.split("-").map(Number);return new Date(r,(a||1)-1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})};function si({label:e,value:r,helper:a,icon:n}){return t.createElement("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 px-5 py-4 shadow-sm transition-all duration-300 hover:shadow-md hover:border-indigo-200/60"},t.createElement("div",{className:"flex items-start justify-between"},t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2"},e),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mb-1"},r),a?t.createElement("p",{className:"text-xs text-gray-500 mt-1"},a):null),n&&t.createElement("div",{className:"ml-3 flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 text-indigo-600 transition-transform duration-300 group-hover:scale-110"},t.createElement(n,{size:20,strokeWidth:2}))),t.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 to-purple-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:to-purple-500/5"}))}const Hse={pending:"En attente",approved:"Publie",rejected:"Rejete",disabled:"Dsactive"},ME={waiting:"En attente",verified:"Valid",rejected:"Rejet"},jE={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},DP=(e,r=!1)=>{const a=r?[e?.updatedAt,e?.createdAt,e?.product?.updatedAt,e?.product?.createdAt]:[e?.createdAt,e?.updatedAt,e?.product?.createdAt,e?.product?.updatedAt];for(const n of a){if(!n)continue;const s=Date.parse(n);if(!Number.isNaN(s))return s}return 0},ac=10,nc=10;function qa({title:e,value:r,subtitle:a,highlight:n,icon:s,trend:i}){const o=n?"from-indigo-500 to-purple-600":"from-gray-400 to-gray-500";return t.createElement("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-300 ${n?"border-indigo-200/60 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 shadow-md hover:shadow-lg":"border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 shadow-sm hover:shadow-md hover:border-indigo-200/40"}`},t.createElement("div",{className:"p-5"},t.createElement("div",{className:"flex items-start justify-between mb-3"},t.createElement("div",{className:"flex-1"},t.createElement("p",{className:`text-sm font-semibold mb-1 ${n?"text-indigo-700":"text-gray-600"}`},e),t.createElement("p",{className:`text-3xl font-bold mb-1 ${n?"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent":"text-gray-900"}`},r),a&&t.createElement("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1"},i&&t.createElement(rr,{size:12,className:i>0?"text-green-500":"text-red-500"}),a)),s&&t.createElement("div",{className:`ml-3 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${o} text-white shadow-sm transition-transform duration-300 group-hover:scale-110 group-hover:shadow-md`},t.createElement(s,{size:22,strokeWidth:2.5})))),n&&t.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 via-purple-500/0 to-pink-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:via-purple-500/5 group-hover:to-pink-500/5"}))}function Wse(){const[e,r]=h.useState([]),[a,n]=h.useState("waiting"),[s,i]=h.useState(1),[o,d]=h.useState(""),[u,m]=h.useState(""),[p,f]=h.useState(null),[y,b]=h.useState(!1),[E,w]=h.useState(""),[x,N]=h.useState(null),[S,k]=h.useState(!1),[P,C]=h.useState(30),[_,O]=h.useState(null),[T,R]=h.useState(!1),[D,j]=h.useState(null),[L,K]=h.useState(!1),[W,$]=h.useState(null),[J,Q]=h.useState(!1),[X,H]=h.useState(null),[I,B]=h.useState([]),[G,z]=h.useState(!1),[ae,he]=h.useState(""),[ve,_e]=h.useState(""),[ee,le]=h.useState(""),[pe,Ne]=h.useState("person"),[oe,re]=h.useState([]),[Me,ge]=h.useState(1),[$e,De]=h.useState(!1),[Ye,Je]=h.useState(""),[bt,Ze]=h.useState(""),[nt,ct]=h.useState(""),[vt,Zt]=h.useState(""),[pt,ut]=h.useState(null),[Lt,zt]=h.useState([]),[nr,Bt]=h.useState(!1),[xt,we]=h.useState(""),[ot,ht]=h.useState("pending"),[Z,xe]=h.useState(""),[fe,ye]=h.useState(""),[Y,U]=h.useState(""),[de,Re]=h.useState(""),[Ve,Qe]=h.useState(""),[Pt,q]=h.useState(""),[ue,ke]=h.useState(()=>typeof window>"u"?!0:window.innerWidth<1024),[Pe,ze]=h.useState("overview"),tt=Tn(),[He,jt]=h.useState(!1),[Nt,St]=h.useState([]),[sa,Xr]=h.useState(!1),[La,Yr]=h.useState(""),[er,Yt]=h.useState(""),{showToast:ne}=Si(),{user:rt}=h.useContext(fr),Ke=rt?.role==="admin",dt=rt?.role==="manager",mt=Ke||dt,Dt=Ke,Be=Ke,Er=Ke||dt,Ft=Ke||dt,Eo=dt?"Espace gestionnaire":"Tableau de bord administrateur",Tr=dt?"Validez les preuves de paiement et contrlez la mise en ligne des annonces.":"Visualisez les indicateurs cls de la plateforme et grez la validation des paiements.",nn=h.useMemo(()=>{const F=[];return Dt&&F.push({key:"overview",label:"Statistiques"}),Be&&F.push({key:"users",label:"Utilisateurs"}),Er&&F.push({key:"payments",label:"Paiements"}),Ft&&F.push({key:"complaints",label:"Rclamations"}),F},[Dt,Be,Er,Ft]),Ia={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},Pa={pending:"bg-orange-100 text-orange-800",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800"},Cs=[{value:"",label:"Toutes"},{value:"pending",label:"En attente"},{value:"in_review",label:"En cours"},{value:"resolved",label:"Rsolues"}],ts=h.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),se=h.useCallback(F=>{if(!F)return F;const Fe=F.replace(/\\/g,"/");return/^https?:\/\//i.test(Fe)?Fe:`${ts}/${Fe.replace(/^\/+/,"")}`},[ts]),Te=h.useCallback(async()=>{b(!0);try{const{data:F}=await ie.get("/admin/stats");f(F),w("")}catch(F){w(F.response?.data?.message||F.message||"Erreur lors du chargement des statistiques.")}finally{b(!1)}},[]),et=h.useCallback(async()=>{k(!0);try{const{data:F}=await ie.get(`/admin/analytics/sales-trends?days=${P}`);N(F)}catch(F){console.error("Error loading sales trends:",F)}finally{k(!1)}},[P]),Mt=h.useCallback(async()=>{R(!0);try{const{data:F}=await ie.get("/admin/analytics/order-heatmap");O(F)}catch(F){console.error("Error loading order heatmap:",F)}finally{R(!1)}},[]),Br=h.useCallback(async()=>{K(!0);try{const{data:F}=await ie.get("/admin/analytics/conversion");j(F)}catch(F){console.error("Error loading conversion metrics:",F)}finally{K(!1)}},[]),Ks=h.useCallback(async()=>{Q(!0);try{const{data:F}=await ie.get("/admin/analytics/cohorts");$(F)}catch(F){console.error("Error loading cohort analysis:",F)}finally{Q(!1)}},[]),_i=h.useCallback(async F=>{z(!0),he("");try{const{data:Fe}=await ie.get(`/admin/analytics/orders-by-hour?hour=${F}`);B(Fe.orders||[]),H(F)}catch(Fe){he(Fe.response?.data?.message||"Erreur lors du chargement des commandes."),B([])}finally{z(!1)}},[]),Xs=h.useCallback(async()=>{Xr(!0),Yr("");try{const[F,Fe,yt]=await Promise.all([ie.get("/orders/admin",{params:{status:"pending",limit:30}}),ie.get("/orders/admin",{params:{status:"confirmed",limit:30}}),ie.get("/orders/admin",{params:{status:"delivering",limit:30}})]),qt=Array.isArray(F.data)?F.data:F.data?.items||[],Rt=Array.isArray(Fe.data)?Fe.data:Fe.data?.items||[],Vt=Array.isArray(yt.data)?yt.data:yt.data?.items||[],dr=[...qt,...Rt,...Vt].sort((Or,xa)=>new Date(xa.createdAt).getTime()-new Date(Or.createdAt).getTime());St(dr)}catch(F){Yr(F.response?.data?.message||"Impossible de charger les commandes en attente de relance."),St([])}finally{Xr(!1)}},[]),Oe=h.useCallback(async F=>{if(F){Yt(F);try{const{data:Fe}=await ie.post(`/orders/admin/${F}/reminder`);ne(Fe?.message||"Rappel envoy aux vendeurs.",{variant:"success"})}catch(Fe){const yt=Fe.response?.data?.message||"Impossible d'envoyer le rappel.";ne(yt,{variant:"error"})}finally{Yt("")}}},[ne]),Le=h.useCallback(async()=>{const F=new URLSearchParams;["waiting","verified","rejected"].includes(a)&&F.append("status",a),u&&F.append("search",u);let Fe="/payments/admin";const yt=F.toString();yt&&(Fe+=`?${yt}`);const{data:qt}=await ie.get(Fe);let Rt=Array.isArray(qt)?qt.map(Or=>({...Or,product:Or.product?{...Or.product,images:Array.isArray(Or.product.images)?Or.product.images.map(se):void 0}:Or.product})):[];const Vt=Rt.filter(Or=>Or.product?._id&&(!Or.product.images||Or.product.images.length===0));if(Vt.length){const Or=await Promise.all(Vt.map(async va=>{try{const rs=await ie.get(`/products/${va.product._id}`);return{id:va.product._id,images:rs.data?.images||[]}}catch{return{id:va.product._id,images:[]}}})),xa=new Map(Or.map(({id:va,images:rs})=>[va,rs.map(se)]));Rt=Rt.map(va=>{const rs=va.product?._id;if(!rs)return va;const pd=xa.get(rs);return pd?{...va,product:{...va.product,images:pd}}:va})}a==="disabled_products"&&(Rt=Rt.filter(Or=>Or.product?.status==="disabled"));const dr=a==="verified";Rt=Rt.slice().sort((Or,xa)=>DP(xa,dr)-DP(Or,dr)),r(Rt),i(Or=>{const xa=Math.max(1,Math.ceil(Rt.length/ac));return Math.min(Or,xa)})},[a,u,se]),Et=h.useCallback(async()=>{De(!0),Je("");try{const F=new URLSearchParams;ee&&F.append("search",ee),pe&&pe!=="all"&&F.append("accountType",pe);const Fe=F.toString(),{data:yt}=await ie.get(Fe?`/admin/users?${Fe}`:"/admin/users");re(Array.isArray(yt)?yt:[])}catch(F){Je(F.response?.data?.message||F.message||"Erreur lors du chargement des utilisateurs.")}finally{De(!1)}},[pe,ee]),tr=h.useCallback(async()=>{if(!Ft){zt([]);return}Bt(!0),we("");try{const F={};ot&&(F.status=ot);const{data:Fe}=await ie.get("/admin/complaints",{params:F}),yt=Array.isArray(Fe)?Fe.map(qt=>({...qt,attachments:(Array.isArray(qt.attachments)?qt.attachments:[]).map(Rt=>({...Rt,url:se(Rt.path||Rt.url||"")}))})):[];zt(yt)}catch(F){we(F.response?.data?.message||F.message||"Erreur lors du chargement des rclamations.")}finally{Bt(!1)}},[Ft,ot,se]);h.useEffect(()=>{Dt&&(Te(),et(),Mt(),Br(),Ks())},[Te,et,Mt,Br,Ks,Dt]),h.useEffect(()=>{Er&&Le()},[Le,Er]),h.useEffect(()=>{Er&&i(1)},[a,u,Er]),h.useEffect(()=>{Er||(d(""),m(""))},[Er]),h.useEffect(()=>{const F=setTimeout(()=>{m(o.trim())},400);return()=>clearTimeout(F)},[o]),h.useEffect(()=>{if(!Be){re([]),De(!1);return}Et()},[Et,Be]),h.useEffect(()=>{const F=setTimeout(()=>{le(ve.trim())},400);return()=>clearTimeout(F)},[ve]),h.useEffect(()=>{Be&&ge(1)},[pe,ee,Be]),h.useEffect(()=>{Be&&ge(F=>{const Fe=Math.max(1,Math.ceil(oe.length/nc));return Math.min(F,Fe)})},[oe.length,Be]),h.useEffect(()=>{Ft||(zt([]),Bt(!1),we(""))},[Ft]),h.useEffect(()=>{const F=()=>{typeof window>"u"||ke(window.innerWidth<1024)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),h.useEffect(()=>{nn.length&&ze(F=>nn.some(yt=>yt.key===F)?F:nn[0].key)},[nn]),h.useEffect(()=>{Ft&&tr()},[tr,Ft]);const wr=h.useCallback(async(F,Fe)=>{try{Re(""),Qe(""),Fe==="verify"?await ie.put(`/payments/admin/${F}/verify`):await ie.put(`/payments/admin/${F}/reject`),await Le(),Ke&&await Te(),Re(Fe==="verify"?"Paiement valid avec succs.":"Paiement rejet avec succs.")}catch(yt){Qe(yt.response?.data?.message||yt.message||"Action impossible.")}},[Ke,Le,Te]),Ta=h.useCallback(async F=>{if(!F){Qe("Annonce introuvable.");return}try{Re(""),Qe(""),await ie.patch(`/products/${F}/disable`),await Le(),Ke&&await Te(),Re("Annonce dsactive avec succs.")}catch(Fe){Qe(Fe.response?.data?.message||Fe.message||"Impossible de dsactiver cette annonce.")}},[Ke,Le,Te]),Xa=h.useCallback(async F=>{if(!F){Qe("Annonce introuvable.");return}try{Re(""),Qe(""),await ie.patch(`/products/${F}/enable`),await Le(),Ke&&await Te(),Re("Annonce ractive avec succs.")}catch(Fe){Qe(Fe.response?.data?.message||Fe.message||"Impossible de ractiver cette annonce.")}},[Ke,Le,Te]),As=h.useCallback(async(F,Fe)=>{if(!(!F||!Fe)){ye(""),xe(""),U(F);try{await ie.patch(`/admin/complaints/${F}/status`,{status:Fe}),xe("Statut de la rclamation mis  jour."),ne("Statut de la rclamation mis  jour.",{variant:"success"}),await tr()}catch(yt){const qt=yt.response?.data?.message||yt.message||"Impossible de mettre  jour le statut.";ye(qt),ne(qt,{variant:"error"})}finally{U("")}}},[tr,ne]),Pm=h.useCallback(async F=>{if(!F){Qe("Rfrence de transaction introuvable.");return}try{if(!navigator.clipboard)throw new Error("Clipboard API non disponible");await navigator.clipboard.writeText(F),Re("Rfrence copie dans le presse-papiers."),Qe("")}catch(Fe){Qe("Impossible de copier la rfrence de transaction."),Re(""),console.error(Fe)}},[]),Pi=h.useCallback(async(F,Fe,yt={})=>{Zt(F),Je(""),Ze("");try{const{data:qt}=await ie.patch(`/admin/users/${F}/account-type`,{accountType:Fe,...yt});re(Rt=>!Array.isArray(Rt)||!Rt.length?Rt:Fe==="shop"&&pe==="person"?Rt.filter(Vt=>Vt.id!==qt.id):Fe==="person"&&pe==="shop"?Rt.filter(Vt=>Vt.id!==qt.id):Rt.map(Vt=>Vt.id===qt.id?qt:Vt)),ut(null),Ze(Fe==="shop"?"Le compte a t converti en boutique.":"Le compte a t converti en particulier."),await Te()}catch(qt){Je(qt.response?.data?.message||qt.message||"Impossible de mettre  jour le compte utilisateur.")}finally{Zt("")}},[Te,pe]),cr=h.useCallback(async(F,Fe)=>{ct(F),Je(""),Ze("");try{const{data:yt}=await ie.patch(`/admin/users/${F}/shop-verification`,{verified:Fe});re(qt=>qt.map(Rt=>Rt.id===yt.id?yt:Rt)),Ze(Fe?"La boutique est dsormais vrifie.":"Le badge a t retir.")}catch(yt){Je(yt.response?.data?.message||yt.message||"Impossible de mettre  jour ltat de vrification.")}finally{ct("")}},[]),ud=h.useCallback(async(F,Fe)=>{q(F),Je(""),Ze("");try{const{data:yt}=await ie.patch(`/admin/users/${F}/role`,{role:Fe});re(qt=>qt.map(Rt=>Rt.id===yt.id?yt:Rt)),Ze(Fe==="manager"?"Utilisateur promu gestionnaire de ventes.":"Le rle gestionnaire a t retir."),Dt&&await Te()}catch(yt){Je(yt.response?.data?.message||yt.message||"Impossible de mettre  jour le rle utilisateur.")}finally{q("")}},[Dt,Te]),Tm=h.useCallback(()=>{Dt&&Te(),Er&&Le(),Be&&Et(),Ft&&tr()},[Te,Le,Et,tr,Er,Be,Dt,Ft,mt]);h.useEffect(()=>{if(!de&&!Ve)return;const F=setTimeout(()=>{Re(""),Qe("")},4e3);return()=>clearTimeout(F)},[de,Ve]),h.useEffect(()=>{if(!Z&&!fe)return;const F=setTimeout(()=>{xe(""),ye("")},4e3);return()=>clearTimeout(F)},[Z,fe]),h.useEffect(()=>{He&&Xs()},[He,Xs]);const Al=p?.users?.total||0,md=p?.products?.total||0,Ti=p?.orders||{},wo=Ti.byStatus||{},No=Array.isArray(p?.demographics?.cities)?p.demographics.cities:[],Oi=Array.isArray(p?.demographics?.genders)?p.demographics.genders:[],On=Array.isArray(p?.demographics?.productCities)?p.demographics.productCities:[],Mn=Array.isArray(p?.demographics?.productGenders)?p.demographics.productGenders:[],jn=Math.max(1,Math.ceil(oe.length/nc)),_s=h.useMemo(()=>{const F=(Me-1)*nc;return oe.slice(F,F+nc)},[oe,Me]),So=oe.length?(Me-1)*nc+1:0,Ps=oe.length?Math.min(Me*nc,oe.length):0,Om=[{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"},{value:"all",label:"Tous"}],_l=Math.max(1,Math.ceil(e.length/ac)),Mi=h.useMemo(()=>{const F=(s-1)*ac;return e.slice(F,F+ac)},[e,s]),Dg=e.length?(s-1)*ac+1:0,Mm=e.length?Math.min(s*ac,e.length):0,{overdueReminderOrders:ji,regularReminderOrders:fd}=h.useMemo(()=>{if(!Nt.length)return{overdueReminderOrders:[],regularReminderOrders:[]};const F=Date.now(),Fe=2880*60*1e3,yt=[],qt=[];return Nt.forEach(Rt=>{if(Rt?.status==="delivered")return;const Vt=Rt?.createdAt?new Date(Rt.createdAt).getTime():0;Vt&&F-Vt>=Fe?yt.push(Rt):qt.push(Rt)}),{overdueReminderOrders:yt,regularReminderOrders:qt}},[Nt]),jm=F=>{const Fe=Array.isArray(F.items)?F.items:[],yt=F.status==="pending"?"En attente":F.status==="confirmed"?"Confirme":F.status==="delivering"?"En cours de livraison":"Livre",qt=new Map;Fe.forEach(Vt=>{const dr=Vt.snapshot?.shopId||Vt.product?.user?._id||Vt.product?.user||"",Or=Vt.snapshot?.shopName||Vt.product?.user?.shopName||Vt.product?.user?.name||"Boutique",xa=Vt.product?.user?.phone||"",va=dr?String(dr):Or;qt.has(va)||qt.set(va,{name:Or,phone:xa})});const Rt=Array.from(qt.values());return t.createElement("div",{key:F._id,className:"rounded-2xl border border-gray-100 p-4 flex flex-col gap-3"},t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Commande #",F._id.slice(-6)),t.createElement("p",{className:"text-xs text-gray-500"},F.customer?.name||"Client","  ",F.deliveryCity)),t.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-700"},yt)),Rt.length>0&&t.createElement("div",{className:"text-xs text-gray-600 space-y-1"},Rt.map(Vt=>t.createElement("p",{key:`${F._id}-${Vt.name}`},"Vendeur: ",Vt.name,Vt.phone?`  ${Vt.phone}`:""))),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>Oe(F._id),disabled:er===F._id,className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700 hover:bg-amber-100 disabled:opacity-50"},"Rappel"),t.createElement(be,{to:"/admin/orders",className:"text-xs font-semibold text-indigo-600 hover:underline"},"Voir dans commandes")))},Ts=F=>!ue||Pe===F,Ri=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];return t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},t.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},t.createElement(Au,{size:24,className:"text-white",strokeWidth:2.5})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},Eo),t.createElement("p",{className:"text-sm text-gray-600 mt-1"},Tr)))),t.createElement("div",{className:"flex flex-wrap gap-3"},t.createElement("button",{type:"button",onClick:Tm,className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},t.createElement(mo,{size:16,className:"transition-transform duration-300 hover:rotate-180"}),"Actualiser"),t.createElement(be,{to:"/admin/settings",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},t.createElement(Au,{size:16}),"App Settings"),t.createElement(be,{to:"/admin/products",className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-2.5 text-sm font-semibold text-white shadow-lg transition-all duration-200 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},t.createElement(Gn,{size:16}),"Produits & statistiques"))),ue&&nn.length>1&&t.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},nn.map(F=>t.createElement("button",{key:F.key,type:"button",onClick:()=>ze(F.key),className:`flex-shrink-0 rounded-xl px-5 py-2.5 text-sm font-semibold transition-all duration-200 ${Pe===F.key?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg scale-105":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50/50"}`},F.label))),Dt&&Ts("overview")&&t.createElement(t.Fragment,null,t.createElement("section",{className:"space-y-6"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(BO,{size:20,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Vue d'ensemble"),p?.generatedAt&&t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Dernire mise  jour: ",OE(p.generatedAt))))),E?t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},t.createElement(br,{size:20,className:"text-red-600 flex-shrink-0"}),t.createElement("p",{className:"text-sm font-medium text-red-800"},E)):null,y&&!p?t.createElement("div",{className:"flex items-center justify-center py-12"},t.createElement("div",{className:"flex flex-col items-center gap-3"},t.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des statistiques"))):t.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},t.createElement(qa,{title:"Utilisateurs inscrits",value:sr(p?.users?.total),subtitle:`${sr(p?.users?.newLast30Days)} nouveaux sur 30 jours`,icon:Ns,trend:p?.users?.newLast30Days>0?1:-1}),t.createElement(qa,{title:"Boutiques actives",value:sr(p?.users?.shops),subtitle:`${sr(p?.users?.admins)} administrateurs`,icon:vr}),t.createElement(qa,{title:"Annonces actives",value:sr(p?.products?.total),subtitle:`${sr(p?.products?.approved)} publies`,icon:wt}),t.createElement(qa,{title:"Annonces en attente",value:sr(p?.products?.pending),subtitle:`${sr(p?.products?.rejected)} rejetes`,icon:It}),t.createElement(qa,{title:"Paiements en attente",value:sr(p?.payments?.waiting),subtitle:`${sr(p?.payments?.verified)} valids`,icon:ca}),t.createElement(qa,{title:"Commentaires",value:sr(p?.engagement?.comments),subtitle:`${sr(p?.engagement?.ratings)} valuations`,icon:ra}),t.createElement(qa,{title:"CA total",value:Ja(p?.payments?.revenue),subtitle:`${Ja(p?.payments?.revenueLast30Days)} sur 30 jours`,highlight:!0,icon:rr,trend:p?.payments?.revenueLast30Days>0?1:-1}),t.createElement(qa,{title:"Favoris enregistrs",value:sr(p?.engagement?.favorites),subtitle:"Total cumul",icon:rn}))),t.createElement("section",{className:"space-y-6"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100"},t.createElement(rn,{size:20,className:"text-emerald-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Commandes globales"),t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Suivi des commandes et livraisons"))),t.createElement("button",{type:"button",onClick:()=>jt(!0),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300"},t.createElement(It,{size:16}),"Relances commandes")),E?t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},t.createElement(br,{size:20,className:"text-red-600 flex-shrink-0"}),t.createElement("p",{className:"text-sm font-medium text-red-800"},E)):null,y&&!p?t.createElement("div",{className:"flex items-center justify-center py-12"},t.createElement("div",{className:"flex flex-col items-center gap-3"},t.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des statistiques"))):t.createElement("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-4"},t.createElement(qa,{title:"Commandes totales",value:sr(Ti.total||0),subtitle:"Toutes les commandes",icon:Ga}),t.createElement(qa,{title:"En attente",value:sr(wo.pending?.count||0),subtitle:" valider",icon:It}),t.createElement(qa,{title:"Confirmes",value:sr(wo.confirmed?.count||0),subtitle:" prparer",icon:Kt}),t.createElement(qa,{title:"En cours de livraison",value:sr(wo.delivering?.count||0),subtitle:"Expdies",icon:wt}),t.createElement(qa,{title:"Livres",value:sr(wo.delivered?.count||0),subtitle:"Termines",icon:Kt}),t.createElement(qa,{title:"Montant total",value:Ja(Ti.totalAmount||0),subtitle:"Volume commandes",highlight:!0,icon:rr}),t.createElement(qa,{title:"Acomptes encaisss",value:Ja(Ti.paidAmount||0),subtitle:"Paiements reus",icon:ca}),t.createElement(qa,{title:"Reste  payer",value:Ja(Ti.remainingAmount||0),subtitle:"Soldes ouverts",icon:br}))),He&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>jt(!1)}),t.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:F=>F.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Relances commandes"),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commandes en attente, confirmes & en cours de livraison")),t.createElement("button",{type:"button",onClick:()=>jt(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),sa?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):La?t.createElement("p",{className:"text-sm text-red-600"},La):Nt.length===0?t.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande  relancer."):t.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-auto pr-1"},t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-rose-600"},"Commandes +48h non livres"),t.createElement("span",{className:"text-xs font-semibold text-rose-600"},ji.length)),ji.length===0?t.createElement("p",{className:"text-sm text-gray-500"},"Aucune commande en retard pour le moment."):ji.map(jm)),t.createElement("div",{className:"space-y-3"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Autres commandes  relancer"),fd.length===0?t.createElement("p",{className:"text-sm text-gray-500"},"Aucune autre commande  relancer."):fd.map(jm))))),Dt&&t.createElement("section",{className:"space-y-6"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(Gn,{size:20,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Analytics en Temps Rel"),t.createElement("p",{className:"text-xs text-gray-600 mt-0.5"},"Graphiques interactifs et analyses dtailles de l'activit"))),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("h4",{className:"text-base font-semibold text-gray-900"},"Tendances de Vente"),t.createElement("div",{className:"flex gap-2"},[7,30,90].map(F=>t.createElement("button",{key:F,type:"button",onClick:()=>{C(F),et()},className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all ${P===F?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},F,"j")))),S?t.createElement("div",{className:"h-64 flex items-center justify-center"},t.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):x?.trends?.length?t.createElement(M3,{width:"100%",height:300},t.createElement(qse,{data:x.trends},t.createElement(C1,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.createElement(Hc,{dataKey:"label",stroke:"#6b7280",fontSize:12}),t.createElement(ol,{yAxisId:"left",stroke:"#6b7280",fontSize:12}),t.createElement(ol,{yAxisId:"right",orientation:"right",stroke:"#10b981",fontSize:12}),t.createElement(us,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(F,Fe)=>Fe==="Revenus (FCFA)"?`${Number(F).toLocaleString("fr-FR")} FCFA`:F}),t.createElement(nl,null),t.createElement(Uc,{yAxisId:"left",type:"monotone",dataKey:"orders",stroke:"#4f46e5",strokeWidth:2,name:"Commandes",dot:{r:4}}),t.createElement(Uc,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Revenus (FCFA)",dot:{r:4}}))):t.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune donne disponible")),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Heatmap des Heures de Pointe"),T?t.createElement("div",{className:"h-64 flex items-center justify-center"},t.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):_?.heatmap?.length?t.createElement(M3,{width:"100%",height:300},t.createElement(Use,{data:_.heatmap},t.createElement(C1,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),t.createElement(Hc,{dataKey:"label",stroke:"#6b7280",fontSize:12}),t.createElement(ol,{stroke:"#6b7280",fontSize:12}),t.createElement(us,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(F,Fe)=>Fe==="Commandes"?[`${F} commandes`,Fe]:[F,Fe]}),t.createElement(kl,{dataKey:"count",name:"Commandes",fill:"#4f46e5",radius:[8,8,0,0],onClick:F=>{F&&typeof F.hour=="number"&&_i(F.hour)},style:{cursor:"pointer"}},_.heatmap.map((F,Fe)=>{const yt=F.count/Math.max(..._.heatmap.map(Rt=>Rt.count)),qt=X===F.hour;return t.createElement($N,{key:`cell-${Fe}`,fill:qt?"rgba(79, 70, 229, 1)":`rgba(79, 70, 229, ${Math.max(.3,yt)})`,stroke:qt?"#1e1b4b":"none",strokeWidth:qt?2:0})})))):t.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune donne disponible")),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Mtriques de Conversion"),L?t.createElement("div",{className:"h-48 flex items-center justify-center"},t.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):D?t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center justify-between p-3 bg-indigo-50 rounded-lg"},t.createElement("span",{className:"text-sm text-gray-700"},"Visiteurs uniques"),t.createElement("span",{className:"text-lg font-bold text-indigo-600"},D.metrics.uniqueVisitors.toLocaleString())),t.createElement("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg"},t.createElement("span",{className:"text-sm text-gray-700"},"Clients uniques"),t.createElement("span",{className:"text-lg font-bold text-green-600"},D.metrics.uniqueCustomers.toLocaleString())),t.createElement("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg"},t.createElement("span",{className:"text-sm text-gray-700"},"Taux de conversion"),t.createElement("span",{className:"text-lg font-bold text-purple-600"},D.metrics.visitorToOrderRate,"%")),t.createElement("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg"},t.createElement("span",{className:"text-sm text-gray-700"},"Vues totales"),t.createElement("span",{className:"text-lg font-bold text-amber-600"},D.metrics.totalViews.toLocaleString()))):t.createElement("p",{className:"text-sm text-gray-500 text-center py-8"},"Aucune donne disponible")),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("h4",{className:"text-base font-semibold text-gray-900 mb-4"},"Analyse de Cohort"),J?t.createElement("div",{className:"h-48 flex items-center justify-center"},t.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):W?.cohorts?.length?t.createElement("div",{className:"space-y-3 max-h-64 overflow-y-auto"},W.cohorts.slice(-6).map(F=>t.createElement("div",{key:F.cohort,className:"p-3 bg-gray-50 rounded-lg"},t.createElement("div",{className:"flex items-center justify-between mb-2"},t.createElement("span",{className:"text-sm font-semibold text-gray-900"},F.label),t.createElement("span",{className:"text-xs text-gray-500"},F.retentionRate,"% rtention")),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},t.createElement("span",null,F.totalUsers," utilisateurs"),t.createElement("span",null,F.activeUsers," actifs"))))):t.createElement("p",{className:"text-sm text-gray-500 text-center py-8"},"Aucune donne disponible")))),X!==null&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>{H(null),B([])}}),t.createElement("div",{className:"relative w-full max-w-4xl max-h-[90vh] rounded-3xl bg-white shadow-xl border border-gray-100 p-6 flex flex-col",onClick:F=>F.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Commandes par heure"),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commandes cres  ",String(X).padStart(2,"0"),":00"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Derniers 30 jours  ",I.length," commande",I.length>1?"s":"")),t.createElement("button",{type:"button",onClick:()=>{H(null),B([])},className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300 transition-colors","aria-label":"Fermer"},t.createElement(_t,{size:18}))),t.createElement("div",{className:"flex-1 overflow-y-auto pr-2"},G?t.createElement("div",{className:"flex items-center justify-center py-12"},t.createElement("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"})):ae?t.createElement("p",{className:"text-sm text-red-600 text-center py-8"},ae):I.length===0?t.createElement("p",{className:"text-sm text-gray-500 text-center py-12"},"Aucune commande trouve pour cette heure."):t.createElement("div",{className:"space-y-4"},I.map(F=>t.createElement("div",{key:F.id,className:"rounded-xl border border-gray-200 bg-gray-50 p-4 hover:bg-gray-100 transition-colors"},t.createElement("div",{className:"flex items-start justify-between mb-3"},t.createElement("div",{className:"flex-1"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("span",{className:"text-sm font-semibold text-gray-900"},F.customer?.name||"Client inconnu"),t.createElement("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${F.status==="delivered"?"bg-green-100 text-green-800":F.status==="cancelled"?"bg-red-100 text-red-800":F.status==="delivering"?"bg-blue-100 text-blue-800":F.status==="confirmed"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`},F.status==="pending"?"En attente":F.status==="confirmed"?"Confirme":F.status==="delivering"?"En livraison":F.status==="delivered"?"Livre":"Annule")),F.customer?.email&&t.createElement("p",{className:"text-xs text-gray-600"},F.customer.email),F.customer?.phone&&t.createElement("p",{className:"text-xs text-gray-600"},F.customer.phone)),t.createElement("div",{className:"text-right"},t.createElement("p",{className:"text-sm font-bold text-gray-900"},Ja(F.totalAmount||0)),t.createElement("p",{className:"text-xs text-gray-500"},OE(F.createdAt)))),F.items?.length>0&&t.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},t.createElement("p",{className:"text-xs font-semibold text-gray-700 mb-2"},"Articles:"),t.createElement("div",{className:"space-y-1"},F.items.slice(0,3).map((Fe,yt)=>t.createElement("div",{key:yt,className:"flex items-center justify-between text-xs"},t.createElement("span",{className:"text-gray-700"},Fe.product?.title||Fe.snapshot?.title||"Produit","  ",Fe.quantity||1),Fe.product?.price&&t.createElement("span",{className:"text-gray-600"},Ja(Fe.product.price*(Fe.quantity||1))))),F.items.length>3&&t.createElement("p",{className:"text-xs text-gray-500"},"+",F.items.length-3," autre",F.items.length-3>1?"s":""))),F.deliveryAddress&&t.createElement("div",{className:"mt-2 pt-2 border-t border-gray-200"},t.createElement("p",{className:"text-xs text-gray-600"},t.createElement(Sr,{size:12,className:"inline mr-1"}),F.deliveryAddress,F.deliveryCity&&`, ${F.deliveryCity}`)),F.deliveryCode&&t.createElement("div",{className:"mt-2"},t.createElement("span",{className:"text-xs font-semibold text-indigo-600"},"Code: ",F.deliveryCode)))))))),(No.length>0||Oi.length>0||On.length>0||Mn.length>0)&&t.createElement("section",{className:"grid grid-cols-1 gap-4 2xl:grid-cols-2"},No.length>0&&t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par ville"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Principales localisations des membres enregistrs."),t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full text-left text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),t.createElement("tbody",null,No.slice(0,8).map(F=>t.createElement("tr",{key:F.city,className:"border-b last:border-b-0"},t.createElement("td",{className:"p-2 text-gray-700"},F.city),t.createElement("td",{className:"p-2 text-gray-900 text-right"},sr(F.count)),t.createElement("td",{className:"p-2 text-gray-500 text-right"},Qf(F.count,Al)))))))),Oi.length>0&&t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition des utilisateurs par genre"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Dclaration lors de linscription."),t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full text-left text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Utilisateurs"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),t.createElement("tbody",null,Oi.map(F=>t.createElement("tr",{key:F.gender,className:"border-b last:border-b-0"},t.createElement("td",{className:"p-2 text-gray-700"},F.gender),t.createElement("td",{className:"p-2 text-gray-900 text-right"},sr(F.count)),t.createElement("td",{className:"p-2 text-gray-500 text-right"},Qf(F.count,Al)))))))),On.length>0&&t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par ville"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Localisation dclare des vendeurs au moment de la publication."),t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full text-left text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Ville"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),t.createElement("tbody",null,On.slice(0,8).map(F=>t.createElement("tr",{key:F.city,className:"border-b last:border-b-0"},t.createElement("td",{className:"p-2 text-gray-700"},F.city),t.createElement("td",{className:"p-2 text-gray-900 text-right"},sr(F.count)),t.createElement("td",{className:"p-2 text-gray-500 text-right"},Qf(F.count,md)))))))),Mn.length>0&&t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Annonces par genre"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Rpartition selon le genre des vendeurs."),t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full text-left text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Genre"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Annonces"),t.createElement("th",{className:"p-2 font-medium text-gray-600 text-right"},"Part"))),t.createElement("tbody",null,Mn.map(F=>t.createElement("tr",{key:F.gender,className:"border-b last:border-b-0"},t.createElement("td",{className:"p-2 text-gray-700"},F.gender),t.createElement("td",{className:"p-2 text-gray-900 text-right"},sr(F.count)),t.createElement("td",{className:"p-2 text-gray-500 text-right"},Qf(F.count,md))))))))),t.createElement("section",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2"},t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Tendances des 6 derniers mois"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Nouveaux utilisateurs, annonces cres et revenus vrifis par mois."),t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full text-left text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Mois"),t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Utilisateurs"),t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Annonces"),t.createElement("th",{className:"p-2 font-medium text-gray-600"},"Revenus"))),t.createElement("tbody",null,p?.monthly?.length?p.monthly.map(F=>t.createElement("tr",{key:F.month,className:"border-t"},t.createElement("td",{className:"p-2 capitalize"},Vse(F.month)),t.createElement("td",{className:"p-2"},sr(F.newUsers)),t.createElement("td",{className:"p-2"},sr(F.newProducts)),t.createElement("td",{className:"p-2"},Ja(F.revenue)))):t.createElement("tr",null,t.createElement("td",{className:"p-2 text-sm text-gray-500",colSpan:4},"Aucune donne disponible pour le moment.")))))),t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Catgories les plus actives"),t.createElement("p",{className:"text-xs text-gray-500"},"Top 5 des catgories par nombre d'annonces approuves.")),p?.topCategories?.length?t.createElement("ul",{className:"space-y-3"},p.topCategories.map(F=>t.createElement("li",{key:F.category,className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-gray-900"},F.category),t.createElement("p",{className:"text-xs text-gray-500"},"Prix moyen: ",Ja(F.avgPrice))),t.createElement("span",{className:"text-sm font-semibold text-indigo-600"},sr(F.listings)," annonces")))):t.createElement("p",{className:"text-sm text-gray-500"},"Pas encore assez de donnes."))),t.createElement("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3"},t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Nouveaux utilisateurs"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 derniers inscrits sur la plateforme."),t.createElement("ul",{className:"space-y-3"},p?.recent?.users?.length?p.recent.users.map(F=>t.createElement("li",{key:F.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},t.createElement("p",{className:"text-sm font-medium text-gray-900"},F.name),t.createElement("p",{className:"text-xs text-gray-500"},F.email),t.createElement("p",{className:"text-xs text-gray-400"},F.role==="admin"?"Admin  ":"",F.accountType==="shop"?"Boutique":"Particulier","  ",eu(F.createdAt)))):t.createElement("li",{className:"text-sm text-gray-500"},"Aucun utilisateur rcent."))),t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Dernires annonces"),t.createElement("p",{className:"text-xs text-gray-500 mb-3"},"5 annonces rcemment cres."),t.createElement("ul",{className:"space-y-3"},p?.recent?.products?.length?p.recent.products.map(F=>t.createElement("li",{key:F.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},t.createElement("p",{className:"text-sm font-medium text-gray-900"},F.title),t.createElement("p",{className:"text-xs text-gray-500"},Ja(F.price),"  ",F.owner||"Auteur inconnu"),t.createElement("p",{className:"text-xs text-gray-400"},Hse[F.status]||F.status,"  ",eu(F.createdAt)))):t.createElement("li",{className:"text-sm text-gray-500"},"Aucune annonce rcente."))),t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between gap-2 mb-3"},t.createElement("div",null,t.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Paiements rcents"),t.createElement("p",{className:"text-xs text-gray-500"},"5 derniers paiements reus.")),t.createElement(be,{to:"/admin/payments",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Voir tous ")),t.createElement("ul",{className:"space-y-3"},p?.recent?.payments?.length?p.recent.payments.map(F=>t.createElement("li",{key:F.id,className:"border-b pb-3 last:border-b-0 last:pb-0"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("p",{className:"text-sm font-medium text-gray-900"},F.payerName),t.createElement("span",{className:`text-xs font-semibold px-2 py-1 rounded ${jE[F.status]||"bg-gray-100 text-gray-600"}`},ME[F.status]||F.status)),t.createElement("p",{className:"text-xs text-gray-500"},Ja(F.amount),"  ",F.operator),t.createElement("p",{className:"text-xs text-gray-400"},F.product||"Produit inconnu","  ",eu(F.createdAt)),F.status==="verified"&&F.validator&&t.createElement("p",{className:"text-xs text-green-600 font-medium"},"Valid par ",F.validator))):t.createElement("li",{className:"text-sm text-gray-500"},"Aucun paiement rcent."))))),Be&&Ts("users")&&t.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Gestion des utilisateurs"),t.createElement("p",{className:"text-xs text-gray-500"},"Recherchez un compte particulier et convertissez-le en boutique si ncessaire."),t.createElement(be,{to:"/admin/users",className:"mt-2 inline-flex items-center text-xs font-medium text-indigo-600 hover:underline"},"Ouvrir la gestion des suspensions ")),t.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},t.createElement(si,{label:"Utilisateurs",value:sr(p?.users?.total),helper:`Boutiques : ${sr(p?.users?.shops)}`}),t.createElement(si,{label:"Utilisateurs bloqus",value:sr(p?.users?.blocked||0),helper:" surveiller"}),t.createElement(si,{label:"Nouveaux (30j)",value:sr(p?.users?.newLast30Days),helper:"Indicateur 30 jours"})),t.createElement("form",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",onSubmit:F=>{F.preventDefault(),ut(null),Je(""),Ze("")}},t.createElement("input",{type:"search",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:w-60",placeholder:"Nom, email ou tlphone",value:ve,onChange:F=>_e(F.target.value)}),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center"},ue?t.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},Om.map(F=>t.createElement("button",{key:F.value,type:"button",onClick:()=>{ut(null),Je(""),Ze(""),Ne(F.value)},className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${pe===F.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},F.label))):t.createElement("select",{className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pe,onChange:F=>{ut(null),Je(""),Ze(""),Ne(F.target.value)}},Om.map(F=>t.createElement("option",{key:F.value,value:F.value},F.label))),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"submit",className:"rounded bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-60",disabled:$e},"Rechercher"),t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{ut(null),Je(""),Ze(""),_e(""),le(""),Ne("person")}},"Rinitialiser"))))),Ye?t.createElement("p",{className:"text-sm text-red-600"},Ye):null,bt?t.createElement("p",{className:"text-sm text-green-600"},bt):null,ue?t.createElement("div",{className:"space-y-4"},$e?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):_s.length?_s.map(F=>{const Fe=F.role==="manager",yt=F.role==="admin",qt=rt?.id===F.id,Rt=Fe?"user":"manager";return t.createElement("div",{key:F.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},t.createElement("div",{className:"flex items-start justify-between gap-3"},t.createElement("div",null,t.createElement("p",{className:"font-semibold text-gray-900"},F.name),t.createElement("p",{className:"break-all text-xs text-gray-500"},F.email),t.createElement("p",{className:"text-xs text-gray-400"},"Inscrit le ",eu(F.createdAt))),t.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},F.role)),t.createElement("div",{className:"space-y-1 text-xs text-gray-600"},t.createElement("p",null,"Tlphone : ",F.phone||""),F.accountType==="shop"?t.createElement("div",{className:"space-y-1"},t.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-[11px] font-semibold text-green-700"},"Boutique"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Za,{verified:!!F.shopVerified}),F.shopName?t.createElement("span",{className:"truncate"},F.shopName):null)):t.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-[11px] font-semibold text-gray-700"},"Particulier")),t.createElement("div",{className:"space-y-3"},F.accountType==="shop"?t.createElement("div",{className:"flex flex-col gap-2"},t.createElement("button",{type:"button",className:"w-full rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>Pi(F.id,"person"),disabled:vt===F.id},"Convertir en particulier"),t.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-medium text-white ${F.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>cr(F.id,!F.shopVerified),disabled:nt===F.id},F.shopVerified?"Retirer le badge":"Vrifier la boutique")):pt?.id===F.id?t.createElement("div",{className:"space-y-2 rounded border border-gray-200 bg-gray-50 p-3 text-xs"},t.createElement("p",{className:"font-semibold text-gray-700"},"Conversion en boutique"),t.createElement("label",{className:"space-y-1 text-gray-600"},t.createElement("span",null,"Nom de la boutique"),t.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopName,onChange:Vt=>ut(dr=>dr&&dr.id===F.id?{...dr,shopName:Vt.target.value}:dr),disabled:vt===F.id})),t.createElement("label",{className:"space-y-1 text-gray-600"},t.createElement("span",null,"Adresse de la boutique"),t.createElement("input",{type:"text",className:"w-full rounded border px-2 py-1 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopAddress,onChange:Vt=>ut(dr=>dr&&dr.id===F.id?{...dr,shopAddress:Vt.target.value}:dr),disabled:vt===F.id})),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:vt===F.id,onClick:()=>{if(!pt?.shopName?.trim()||!pt?.shopAddress?.trim()){Je("Veuillez renseigner le nom et l'adresse de la boutique."),Ze("");return}Pi(F.id,"shop",{shopName:pt.shopName.trim(),shopAddress:pt.shopAddress.trim()})}},"Valider"),t.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>ut(null),disabled:vt===F.id},"Annuler"))):t.createElement("button",{type:"button",className:"w-full rounded bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{ut({id:F.id,shopName:F.shopName||"",shopAddress:F.shopAddress||""}),Je(""),Ze("")}},"Convertir en boutique"),t.createElement("div",{className:"border-t border-gray-100 pt-3"},yt?t.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):t.createElement("div",{className:"space-y-2"},t.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",Fe?"Gestionnaire de ventes":"Utilisateur"),t.createElement("button",{type:"button",className:`w-full rounded px-3 py-2 text-xs font-semibold ${Fe?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>ud(F.id,Rt),disabled:Pt===F.id||qt},Pt===F.id?"Mise  jour...":Fe?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),qt?t.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),t.createElement(be,{to:`/admin/users/${F.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques ")))}):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur ne correspond  la recherche actuelle.")):t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full border text-sm"},t.createElement("thead",{className:"bg-gray-100"},t.createElement("tr",null,t.createElement("th",{className:"p-2 border text-left"},"Nom"),t.createElement("th",{className:"p-2 border text-left"},"Email"),t.createElement("th",{className:"p-2 border text-left"},"Statut"),t.createElement("th",{className:"p-2 border text-left"},"Tlphone"),t.createElement("th",{className:"p-2 border text-left"},"Inscription"),t.createElement("th",{className:"p-2 border text-left"},"Action"))),t.createElement("tbody",null,$e?t.createElement("tr",null,t.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Chargement des utilisateurs")):_s.length?_s.map(F=>{const Fe=F.role==="manager",yt=F.role==="admin",qt=rt?.id===F.id,Rt=Fe?"user":"manager";return t.createElement("tr",{key:F.id,className:"align-top"},t.createElement("td",{className:"p-2 border"},t.createElement("p",{className:"font-medium text-gray-900"},F.name),t.createElement("p",{className:"text-xs text-gray-500"},"Rle: ",F.role)),t.createElement("td",{className:"p-2 border"},F.email),t.createElement("td",{className:"p-2 border"},F.accountType==="shop"?t.createElement("div",{className:"space-y-2"},t.createElement("span",{className:"inline-flex items-center rounded bg-green-100 px-2 py-1 text-xs font-semibold text-green-700"},"Boutique"),t.createElement(Za,{verified:!!F.shopVerified}),F.shopName?t.createElement("p",{className:"text-xs text-gray-600 truncate"},F.shopName):null):t.createElement("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-1 text-xs font-semibold text-gray-700"},"Particulier")),t.createElement("td",{className:"p-2 border"},F.phone||""),t.createElement("td",{className:"p-2 border"},eu(F.createdAt)),t.createElement("td",{className:"p-2 border"},t.createElement("div",{className:"space-y-3"},F.accountType==="shop"?t.createElement("div",{className:"flex flex-col gap-2"},t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>Pi(F.id,"person"),disabled:vt===F.id},"Convertir en particulier"),t.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-medium text-white ${F.shopVerified?"bg-amber-500 hover:bg-amber-600":"bg-emerald-600 hover:bg-emerald-700"} disabled:opacity-60`,onClick:()=>cr(F.id,!F.shopVerified),disabled:nt===F.id},F.shopVerified?"Retirer le badge":"Vrifier la boutique")):pt?.id===F.id?t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Nom de la boutique",t.createElement("input",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:pt.shopName,onChange:Vt=>ut(dr=>dr&&dr.id===F.id?{...dr,shopName:Vt.target.value}:dr),disabled:vt===F.id})),t.createElement("label",{className:"flex flex-col gap-1 text-xs font-medium text-gray-600"},"Adresse de la boutique",t.createElement("textarea",{className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",rows:2,value:pt.shopAddress,onChange:Vt=>ut(dr=>dr&&dr.id===F.id?{...dr,shopAddress:Vt.target.value}:dr),disabled:vt===F.id})),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",className:"flex-1 rounded bg-indigo-600 px-3 py-2 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:vt===F.id,onClick:()=>{if(!pt?.shopName?.trim()||!pt?.shopAddress?.trim()){Je("Veuillez renseigner le nom et l'adresse de la boutique."),Ze("");return}Pi(F.id,"shop",{shopName:pt.shopName.trim(),shopAddress:pt.shopAddress.trim()})}},"Valider"),t.createElement("button",{type:"button",className:"flex-1 rounded border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-60",onClick:()=>ut(null),disabled:vt===F.id},"Annuler"))):t.createElement("button",{type:"button",className:"rounded bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-100",onClick:()=>{ut({id:F.id,shopName:F.shopName||"",shopAddress:F.shopAddress||""}),Je(""),Ze("")}},"Convertir en boutique"),t.createElement("div",{className:"border-t border-gray-100 pt-3"},yt?t.createElement("p",{className:"text-xs text-gray-500"},"Rle administrateur non modifiable."):t.createElement("div",{className:"flex flex-col gap-2"},t.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500"},"Rle actuel:"," ",Fe?"Gestionnaire de ventes":"Utilisateur"),t.createElement("button",{type:"button",className:`rounded px-3 py-1 text-xs font-semibold ${Fe?"border border-amber-400 text-amber-700 hover:bg-amber-50":"bg-amber-500 text-white hover:bg-amber-600"} disabled:opacity-60`,onClick:()=>ud(F.id,Rt),disabled:Pt===F.id||qt},Pt===F.id?"Mise  jour...":Fe?"Retirer le rle gestionnaire":"Nommer gestionnaire de ventes"),qt?t.createElement("p",{className:"text-[11px] text-gray-500"},"Vous ne pouvez pas modifier votre propre rle."):null)),t.createElement(be,{to:`/admin/users/${F.id}/stats`,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800"},"Voir ses statistiques "))))}):t.createElement("tr",null,t.createElement("td",{className:"p-3 text-sm text-gray-500",colSpan:6},"Aucun utilisateur ne correspond  la recherche actuelle."))))),!$e&&t.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null,oe.length?`Affichage ${So}-${Ps} sur ${oe.length} utilisateurs`:"Aucun utilisateur pour ces critres."),oe.length?t.createElement("div",{className:"flex items-center gap-2 text-sm"},t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>ge(F=>Math.max(1,F-1)),disabled:Me<=1},"Prcdent"),t.createElement("span",{className:"font-medium text-gray-700"},"Page ",Me," / ",jn),t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>ge(F=>Math.min(jn,F+1)),disabled:Me>=jn},"Suivant")):null)),Er&&Ts("payments")&&t.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vrification des paiements"),t.createElement("p",{className:"text-xs text-gray-500"},"Validez ou rejetez les preuves de paiement envoyes par les vendeurs.")),t.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},t.createElement(si,{label:"En attente",value:sr(p?.payments?.waiting),helper:"Paiements non vrifis"}),t.createElement(si,{label:"Valids",value:sr(p?.payments?.verified),helper:"Paiements accepts"}),t.createElement(si,{label:"CA valid",value:Ja(p?.payments?.revenue),helper:"Total confirm"})),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},ue?t.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},Ri.map(F=>t.createElement("button",{key:F.value,type:"button",onClick:()=>n(F.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${a===F.value?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-200"}`},F.label))):t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{className:"text-sm text-gray-600",htmlFor:"admin-payments-filter"},"Statut:"),t.createElement("select",{id:"admin-payments-filter",value:a,onChange:F=>n(F.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Ri.map(F=>t.createElement("option",{key:F.value,value:F.value},F.label)))),t.createElement("div",{className:"w-full sm:w-64"},t.createElement("input",{type:"search",value:o,onChange:F=>d(F.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})))),de?t.createElement("p",{className:"text-sm text-green-600"},de):null,Ve?t.createElement("p",{className:"text-sm text-red-600"},Ve):null,ue?t.createElement("div",{className:"space-y-4"},Mi.map(F=>t.createElement("div",{key:F._id,className:"rounded-2xl border border-gray-100 p-4 shadow-sm space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},F.product?.title||"Annonce"),t.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${jE[F.status]||"bg-gray-100 text-gray-600"}`},ME[F.status]||F.status)),t.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500"},t.createElement("span",null,"Payeur : ",t.createElement("strong",{className:"text-gray-800"},F.payerName)),t.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),t.createElement("span",null,"Oprateur : ",t.createElement("strong",{className:"text-gray-800"},F.operator)),t.createElement("span",{className:"hidden xs:inline-block text-gray-400"},""),t.createElement("span",null,"Montant : ",t.createElement("strong",{className:"text-gray-800"},Ja(F.amount)))),F.product?.images?.length?t.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},F.product.images.slice(0,4).map((Fe,yt)=>t.createElement("a",{key:Fe||yt,href:Fe,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},t.createElement("img",{src:Fe,alt:`${F.product?.title||"Produit"} ${yt+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),F.product.images.length>4&&t.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",F.product.images.length-4," autres")):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune image pour cette annonce."),t.createElement("div",{className:"flex flex-wrap gap-2"},F.product?._id&&t.createElement(be,{to:or(F.product),...tt,className:"flex-1 min-w-[140px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),F.transactionNumber&&t.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>Pm(F.transactionNumber)},"Copier la rfrence")),t.createElement("div",{className:"flex flex-wrap gap-2"},F.product?.status!=="disabled"&&F.product?._id&&t.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-red-300 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>Ta(F.product._id)},"Dsactiver l'annonce"),F.product?.status==="disabled"&&F.product?._id&&t.createElement("button",{type:"button",className:"flex-1 min-w-[140px] rounded-lg border border-green-300 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>Xa(F.product._id)},"Activer l'annonce")),t.createElement("div",{className:"flex flex-wrap gap-2"},F.status==="waiting"?t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>wr(F._id,"verify"),className:"flex-1 min-w-[140px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),t.createElement("button",{onClick:()=>wr(F._id,"reject"),className:"flex-1 min-w-[140px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):t.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))),!e.length&&t.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement ne correspond  la recherche actuelle.")):t.createElement(t.Fragment,null,t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full border text-sm"},t.createElement("thead",{className:"bg-gray-100"},t.createElement("tr",null,t.createElement("th",{className:"p-2 border"},"Image"),t.createElement("th",{className:"p-2 border"},"Annonce"),t.createElement("th",{className:"p-2 border"},"Prix"),t.createElement("th",{className:"p-2 border"},"Payeur"),t.createElement("th",{className:"p-2 border"},"Oprateur"),t.createElement("th",{className:"p-2 border"},"Montant"),t.createElement("th",{className:"p-2 border"},"Statut"),t.createElement("th",{className:"p-2 border"},"Action"))),t.createElement("tbody",null,Mi.map(F=>t.createElement("tr",{key:F._id},t.createElement("td",{className:"p-2 border align-top"},F.product?.images?.length?t.createElement("div",{className:"flex items-center gap-2 max-w-[220px] overflow-x-auto"},F.product.images.slice(0,3).map((Fe,yt)=>t.createElement("a",{key:Fe||yt,href:Fe,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",title:"Ouvrir l'image dans un nouvel onglet"},t.createElement("img",{src:Fe,alt:`${F.product?.title||"Produit"} ${yt+1}`,className:"h-16 w-20 object-cover rounded border shadow-sm",loading:"lazy"}))),F.product.images.length>3&&t.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",F.product.images.length-3," autres")):t.createElement("span",{className:"text-xs text-gray-500"},"Aucune image")),t.createElement("td",{className:"p-2 border"},F.product?.title),t.createElement("td",{className:"p-2 border"},Ja(F.product?.price)),t.createElement("td",{className:"p-2 border"},F.payerName),t.createElement("td",{className:"p-2 border"},F.operator),t.createElement("td",{className:"p-2 border"},Ja(F.amount)),t.createElement("td",{className:"p-2 border"},t.createElement("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold ${jE[F.status]||"bg-gray-100 text-gray-600"}`},ME[F.status]||F.status)),t.createElement("td",{className:"p-2 border"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap"},F.product?._id?t.createElement(be,{to:or(F.product),...tt,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"):null,F.transactionNumber?t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>Pm(F.transactionNumber)},"Copier la rfrence"):null,F.product?.status!=="disabled"&&F.product?._id?t.createElement("button",{type:"button",className:"rounded border border-red-300 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50",onClick:()=>Ta(F.product._id)},"Dsactiver"):null,F.product?.status==="disabled"&&F.product?._id?t.createElement("button",{type:"button",className:"rounded border border-green-300 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50",onClick:()=>Xa(F.product._id)},"Activer"):null,F.status==="waiting"?t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>wr(F._id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700"},"Valider"),t.createElement("button",{onClick:()=>wr(F._id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700"},"Refuser")):t.createElement("span",{className:"self-center text-xs text-gray-500"},"Action non disponible"))))),!e.length&&t.createElement("tr",null,t.createElement("td",{className:"p-4 text-sm text-gray-500",colSpan:8},"Aucun paiement  afficher pour ce filtre."))))),t.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null,e.length?`Affichage ${Dg}-${Mm} sur ${e.length} paiements`:"Aucun paiement  afficher."),e.length?t.createElement("div",{className:"flex items-center gap-2 text-sm"},t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>i(F=>Math.max(1,F-1)),disabled:s<=1},"Prcdent"),t.createElement("span",{className:"font-medium text-gray-700"},"Page ",s," / ",_l),t.createElement("button",{type:"button",className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>i(F=>Math.min(_l,F+1)),disabled:s>=_l},"Suivant")):null))),Ft&&Ts("complaints")&&t.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},t.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rclamations"),t.createElement("p",{className:"text-xs text-gray-500"},"Consultez les plaintes dposes par les utilisateurs et attribuez un statut adapt.")),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3"},t.createElement("select",{value:ot,onChange:F=>ht(F.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Cs.map(F=>t.createElement("option",{key:F.value,value:F.value},F.label))),t.createElement("button",{type:"button",onClick:tr,className:"rounded border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60"},"Actualiser"))),t.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3"},t.createElement(si,{label:"Total",value:sr(Lt.length),helper:"Rclamations enregistres"}),t.createElement(si,{label:"En attente",value:sr(Lt.filter(F=>F.status==="pending").length),helper:"Nouveau et non trait"}),t.createElement(si,{label:"Rsolues",value:sr(Lt.filter(F=>F.status==="resolved").length),helper:"Confirmes"})),(Z||fe)&&t.createElement("div",{className:`rounded-lg px-3 py-2 text-sm ${fe?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`},fe||Z),nr?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des rclamations"):xt?t.createElement("p",{className:"text-sm text-red-600"},xt):t.createElement("ul",{className:"space-y-4"},Lt.length?Lt.map(F=>t.createElement("li",{key:F._id,className:"space-y-3 rounded-2xl border border-gray-100 p-4"},t.createElement("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between"},t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},F.subject||"Sans objet"),t.createElement("p",{className:"text-xs text-gray-500 flex flex-wrap gap-2"},t.createElement("span",null,F.user?.name||"Utilisateur anonyme"),t.createElement("span",{className:"text-[11px] text-gray-400"},F.user?.email||"Email introuvable"),t.createElement("span",{className:"text-[11px] text-gray-400"},F.user?.phone||"Tlphone non renseign")),t.createElement("p",{className:"text-xs text-gray-400"},OE(F.createdAt))),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${Pa[F.status]||"bg-gray-100 text-gray-600"}`},Ia[F.status]||F.status),t.createElement("select",{value:F.status,onChange:Fe=>As(F._id,Fe.target.value),disabled:Y===F._id,className:"rounded border border-gray-200 px-3 py-1 text-xs text-gray-600 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},Object.keys(Ia).map(Fe=>t.createElement("option",{key:Fe,value:Fe},Ia[Fe]))))),t.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},F.message),F.attachments?.length?t.createElement("div",{className:"flex flex-wrap gap-2"},F.attachments.filter(Fe=>Fe.url).map((Fe,yt)=>t.createElement("a",{key:`${Fe.filename}-${yt}`,href:Fe.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-xs font-medium text-gray-600 hover:border-rose-200"},t.createElement(bp,{className:"w-3 h-3"}),Fe.originalName||Fe.filename))):null,F.adminNote?t.createElement("p",{className:"text-xs text-gray-500"},t.createElement("span",{className:"font-semibold text-gray-700"},"Note admin :")," ",F.adminNote):null)):t.createElement("li",{className:"text-sm text-gray-500"},"Aucune rclamation pour ce filtre.")))))}const sc=e=>Number(e||0).toLocaleString("fr-FR"),Xi=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,FP=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",zP={waiting:"En attente",verified:"Valid",rejected:"Rejet"},BP={waiting:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},zo=12,qP=e=>{const r=[e?.updatedAt,e?.createdAt,e?.product?.updatedAt,e?.product?.createdAt];for(const a of r){if(!a)continue;const n=Date.parse(a);if(!Number.isNaN(n))return n}return 0},UP=[{value:"waiting",label:"En attente"},{value:"verified",label:"Valids"},{value:"rejected",label:"Rejets"},{value:"disabled_products",label:"Annonces dsactives"}];function Gse(){const{user:e}=h.useContext(fr),r=e?.role==="manager",[a,n]=h.useState(null),[s,i]=h.useState(!1),[o,d]=h.useState(""),[u,m]=h.useState([]),[p,f]=h.useState(!1),[y,b]=h.useState(""),[E,w]=h.useState("waiting"),[x,N]=h.useState(""),[S,k]=h.useState(""),[P,C]=h.useState(""),[_,O]=h.useState(""),[T,R]=h.useState(1),[D,j]=h.useState(""),[L,K]=h.useState(""),[W,$]=h.useState(!1),J=Tn(),Q=vl(1023),X=h.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),H=h.useCallback(re=>{if(!re)return re;const Me=re.replace(/\\/g,"/");return/^https?:\/\//i.test(Me)?Me:`${X}/${Me.replace(/^\/+/,"")}`},[X]),I=h.useCallback(async()=>{i(!0);try{const{data:re}=await ie.get("/admin/stats");n(re),d("")}catch(re){d(re.response?.data?.message||re.message||"Impossible de charger les statistiques.")}finally{i(!1)}},[]),B=h.useCallback(async()=>{f(!0),b("");try{const re=new URLSearchParams;["waiting","verified","rejected"].includes(E)&&re.append("status",E),S&&re.append("search",S),P&&re.append("startDate",P),_&&re.append("endDate",_);const{data:Me}=await ie.get(re.toString()?`/payments/admin?${re}`:"/payments/admin");let ge=Array.isArray(Me)?Me.map($e=>({...$e,product:$e.product?{...$e.product,images:Array.isArray($e.product.images)?$e.product.images.map(H):void 0}:$e.product})):[];E==="disabled_products"&&(ge=ge.filter($e=>$e.product?.status==="disabled")),ge=ge.slice().sort(($e,De)=>qP(De)-qP($e)),m(ge),R($e=>{const De=Math.max(1,Math.ceil(ge.length/zo));return Math.min($e,De)})}catch(re){b(re.response?.data?.message||re.message||"Impossible de charger les paiements.")}finally{f(!1)}},[E,H,S,P,_]);h.useEffect(()=>{I()},[I]),h.useEffect(()=>{B()},[B]),h.useEffect(()=>{const re=()=>{B(),I()},Me=()=>{document.visibilityState==="visible"&&(B(),I())};return window.addEventListener("paymentStatusChanged",re),document.addEventListener("visibilitychange",Me),window.addEventListener("focus",re),()=>{window.removeEventListener("paymentStatusChanged",re),document.removeEventListener("visibilitychange",Me),window.removeEventListener("focus",re)}},[B,I]),h.useEffect(()=>{const re=setTimeout(()=>{k(x.trim())},400);return()=>clearTimeout(re)},[x]),h.useEffect(()=>{R(1)},[E,S,P,_]);const G=h.useMemo(()=>{const re=(T-1)*zo;return u.slice(re,re+zo)},[u,T]),z=Math.max(1,Math.ceil(u.length/zo)),ae=h.useCallback(async(re,Me)=>{if(re){$(!0),j(""),K("");try{await ie.put(`/payments/admin/${re}/${Me==="verify"?"verify":"reject"}`),await Promise.all([B(),I()]),j(Me==="verify"?"Paiement valid avec succs.":"Paiement rejet."),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:re,status:Me==="verify"?"verified":"rejected"}}))}catch(ge){K(ge.response?.data?.message||ge.message||"Action impossible sur ce paiement.")}finally{$(!1)}}},[B,I]),he=h.useCallback(async re=>{if(re){$(!0),j(""),K("");try{await ie.patch(`/products/${re}/disable`),await B(),j("Annonce dsactive avec succs.")}catch(Me){K(Me.response?.data?.message||Me.message||"Impossible de dsactiver l'annonce.")}finally{$(!1)}}},[B]),ve=h.useCallback(async re=>{if(re){$(!0),j(""),K("");try{await ie.patch(`/products/${re}/enable`),await B(),j("Annonce ractive avec succs.")}catch(Me){K(Me.response?.data?.message||Me.message||"Impossible de ractiver l'annonce.")}finally{$(!1)}}},[B]),_e=h.useCallback(async re=>{if(re)try{if(!navigator.clipboard)throw new Error("Clipboard API indisponible.");await navigator.clipboard.writeText(re),j("Rfrence copie dans le presse-papiers."),K("")}catch{K("Impossible de copier la rfrence."),j("")}},[]);h.useEffect(()=>{if(!D&&!L)return;const re=setTimeout(()=>{j(""),K("")},4e3);return()=>clearTimeout(re)},[D,L]);const ee=a?.payments||{},le=h.useCallback(re=>{const ge=Date.now()-re*24*60*60*1e3;let $e=0,De=0;return u.forEach(Ye=>{const Je=Date.parse(Ye.createdAt);!Number.isNaN(Je)&&Je>=ge&&($e+=1,De+=Number(Ye.amount||0))}),{count:$e,amount:De}},[u]),pe=h.useMemo(()=>le(1),[le]),Ne=h.useMemo(()=>le(7),[le]),oe=h.useMemo(()=>le(30),[le]);return t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6"},t.createElement("header",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold text-gray-900"},r?"Gestionnaire  Paiements":"Administration  Paiements"),t.createElement("p",{className:"text-sm text-gray-600"},"Suivez ltat des transactions et traitez les preuves de paiement.")),t.createElement(be,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50"}," Retour au tableau de bord")),t.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Total"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},sc(ee.total)),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Paiements enregistrs")),t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"En attente"),t.createElement("p",{className:"text-2xl font-bold text-yellow-600 mt-1"},sc(ee.waiting)),t.createElement("p",{className:"text-xs text-gray-500 mt-1"}," vrifier")),t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Valids"),t.createElement("p",{className:"text-2xl font-bold text-green-600 mt-1"},sc(ee.verified)),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Mises en ligne confirmes")),t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"Revenus cumuls"),t.createElement("p",{className:"text-2xl font-bold text-indigo-600 mt-1"},Xi(ee.revenue)),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes commissions"))),t.createElement("section",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3"},t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"24 heures"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},sc(pe.count)," paiements"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",Xi(pe.amount))),t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"7 jours"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},sc(Ne.count)," paiements"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",Xi(Ne.amount))),t.createElement("div",{className:"rounded-xl border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase"},"30 jours"),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mt-1"},sc(oe.count)," paiements"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant : ",Xi(oe.amount)))),o&&t.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},o),s&&t.createElement("div",{className:"rounded-lg border border-gray-200 bg-white p-4 text-sm text-gray-500"},"Chargement des statistiques"),t.createElement("section",{className:"rounded-xl border bg-white p-5 shadow-sm space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Liste des paiements"),t.createElement("p",{className:"text-xs text-gray-500"},"Utilisez les filtres pour trouver rapidement un produit ou une transaction.")),t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3 w-full md:w-auto"},Q?t.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},UP.map(re=>t.createElement("button",{key:re.value,type:"button",onClick:()=>w(re.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${E===re.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},re.label))):t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{htmlFor:"payments-status-filter",className:"text-sm text-gray-600"},"Statut:"),t.createElement("select",{id:"payments-status-filter",value:E,onChange:re=>w(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},UP.map(re=>t.createElement("option",{key:re.value,value:re.value},re.label)))),t.createElement("div",{className:"w-full sm:w-64"},t.createElement("input",{type:"search",value:x,onChange:re=>N(re.target.value),placeholder:"Rechercher un produit",className:"w-full rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{htmlFor:"start-date",className:"text-sm text-gray-600"},"Du"),t.createElement("input",{id:"start-date",type:"date",value:P,onChange:re=>C(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{htmlFor:"end-date",className:"text-sm text-gray-600"},"Au"),t.createElement("input",{id:"end-date",type:"date",value:_,onChange:re=>O(re.target.value),className:"rounded border px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})),(P||_)&&t.createElement("button",{type:"button",onClick:()=>{C(""),O("")},className:"text-xs font-semibold text-gray-600 hover:text-gray-900"},"Rinitialiser")))),y&&t.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},y),D&&t.createElement("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 text-sm text-green-700"},D),L&&t.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700"},L),Q?t.createElement("div",{className:"space-y-4"},p?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des paiements"):G.length?G.map(re=>t.createElement("article",{key:re._id||re.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},t.createElement("div",{className:"flex items-start justify-between gap-3"},t.createElement("div",null,t.createElement("p",{className:"font-semibold text-gray-900"},re.product?.title||"Produit inconnu"),t.createElement("p",{className:"text-xs text-gray-500"},"#",re.product?._id||"")),t.createElement("span",{className:`inline-flex rounded-full px-2 py-1 text-[11px] font-semibold ${BP[re.status]||"bg-gray-100 text-gray-600"}`},zP[re.status]||re.status)),t.createElement("div",{className:"space-y-1 text-xs text-gray-600"},t.createElement("p",null,"Prix de lannonce : ",re.product?.price?Xi(re.product.price):""),t.createElement("p",null,"Payeur : ",t.createElement("span",{className:"font-semibold text-gray-900"},re.payerName||"")),t.createElement("p",null,"Email : ",re.user?.email||""),t.createElement("p",null,"Oprateur : ",re.operator||""),t.createElement("p",{className:"font-semibold text-gray-900"},"Montant reu : ",Xi(re.amount)),re.status==="verified"&&re.validatedBy?t.createElement("p",{className:"text-xs text-green-600"},"Valid par ",re.validatedBy.name,re.validatedAt?`  ${FP(re.validatedAt)}`:""):null),re.product?.images?.length?t.createElement("div",{className:"flex items-center gap-2 overflow-x-auto rounded-xl border border-gray-100 p-2"},re.product.images.slice(0,4).map((Me,ge)=>t.createElement("a",{key:Me||ge,href:Me,target:"_blank",rel:"noopener noreferrer",className:"shrink-0"},t.createElement("img",{src:Me,alt:`${re.product?.title||"Produit"} ${ge+1}`,className:"h-16 w-20 rounded-lg border object-cover shadow-sm",loading:"lazy"}))),re.product.images.length>4&&t.createElement("span",{className:"text-xs text-gray-600 whitespace-nowrap"},"+",re.product.images.length-4," autres")):null,t.createElement("div",{className:"flex flex-wrap gap-2"},re.product&&t.createElement(be,{to:or(re.product),...J,className:"flex-1 min-w-[150px] rounded-lg border border-indigo-200 px-3 py-2 text-center text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),re.transactionNumber?t.createElement("button",{type:"button",onClick:()=>_e(re.transactionNumber),className:"flex-1 min-w-[150px] rounded-lg border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null),t.createElement("div",{className:"flex flex-wrap gap-2"},re.product?._id&&re.product?.status!=="disabled"&&t.createElement("button",{type:"button",onClick:()=>he(re.product?.slug||re.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:W},"Dsactiver l'annonce"),re.product?._id&&re.product?.status==="disabled"&&t.createElement("button",{type:"button",onClick:()=>ve(re.product?.slug||re.product?._id),className:"flex-1 min-w-[150px] rounded-lg border border-green-200 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:W},"Activer l'annonce")),t.createElement("div",{className:"flex flex-wrap gap-2"},re.status==="waiting"?t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:()=>ae(re._id||re.id,"verify"),className:"flex-1 min-w-[150px] rounded-lg bg-green-600 px-3 py-2 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:W},"Valider"),t.createElement("button",{type:"button",onClick:()=>ae(re._id||re.id,"reject"),className:"flex-1 min-w-[150px] rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:W},"Refuser")):t.createElement("span",{className:"text-xs text-gray-500"},"Action non disponible pour ce paiement.")))):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres.")):t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full border text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"p-2 border text-left"},"Annonce"),t.createElement("th",{className:"p-2 border text-left"},"Prix"),t.createElement("th",{className:"p-2 border text-left"},"Payeur"),t.createElement("th",{className:"p-2 border text-left"},"Oprateur"),t.createElement("th",{className:"p-2 border text-left"},"Montant"),t.createElement("th",{className:"p-2 border text-left"},"Valid par"),t.createElement("th",{className:"p-2 border text-left"},"Statut"),t.createElement("th",{className:"p-2 border text-left"},"Actions"))),t.createElement("tbody",null,p?t.createElement("tr",null,t.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Chargement des paiements")):G.length?G.map(re=>t.createElement("tr",{key:re._id||re.id},t.createElement("td",{className:"p-2 border align-top"},t.createElement("p",{className:"font-semibold text-gray-900"},re.product?.title||"Produit inconnu"),t.createElement("p",{className:"text-xs text-gray-500"},"#",re.product?._id||"")),t.createElement("td",{className:"p-2 border align-top"},re.product?.price?Xi(re.product.price):""),t.createElement("td",{className:"p-2 border align-top"},t.createElement("p",{className:"font-medium text-gray-900"},re.payerName||""),t.createElement("p",{className:"text-xs text-gray-500"},re.user?.email)),t.createElement("td",{className:"p-2 border align-top"},re.operator||""),t.createElement("td",{className:"p-2 border align-top"},Xi(re.amount)),t.createElement("td",{className:"p-2 border align-top"},re.status==="verified"&&re.validatedBy?t.createElement("div",null,t.createElement("p",{className:"font-medium text-gray-900"},re.validatedBy.name),re.validatedAt&&t.createElement("p",{className:"text-xs text-gray-500"},FP(re.validatedAt))):t.createElement("span",{className:"text-xs text-gray-500"},"")),t.createElement("td",{className:"p-2 border align-top"},t.createElement("span",{className:`inline-flex items-center rounded px-2 py-1 text-xs font-semibold ${BP[re.status]||"bg-gray-100 text-gray-600"}`},zP[re.status]||re.status)),t.createElement("td",{className:"p-2 border align-top"},t.createElement("div",{className:"flex flex-wrap gap-2"},re.product&&t.createElement(be,{to:or(re.product),...J,className:"rounded border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-700 hover:bg-indigo-50"},"Voir l'annonce"),re.transactionNumber?t.createElement("button",{type:"button",onClick:()=>_e(re.transactionNumber),className:"rounded border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},"Copier la rfrence"):null,re.product?.status!=="disabled"&&re.product&&t.createElement("button",{type:"button",onClick:()=>he(re.product?.slug||re.product?._id),className:"rounded border border-red-200 px-3 py-1 text-xs font-semibold text-red-700 hover:bg-red-50 disabled:opacity-60",disabled:W},"Dsactiver"),re.product?.status==="disabled"&&re.product&&t.createElement("button",{type:"button",onClick:()=>ve(re.product?.slug||re.product?._id),className:"rounded border border-green-200 px-3 py-1 text-xs font-semibold text-green-700 hover:bg-green-50 disabled:opacity-60",disabled:W},"Activer"),re.status==="waiting"?t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:()=>ae(re._id||re.id,"verify"),className:"rounded bg-green-600 px-3 py-1 text-xs font-semibold text-white hover:bg-green-700 disabled:opacity-60",disabled:W},"Valider"),t.createElement("button",{type:"button",onClick:()=>ae(re._id||re.id,"reject"),className:"rounded bg-red-600 px-3 py-1 text-xs font-semibold text-white hover:bg-red-700 disabled:opacity-60",disabled:W},"Refuser")):t.createElement("span",{className:"text-xs text-gray-500 self-center"},"Action indisponible"))))):t.createElement("tr",null,t.createElement("td",{colSpan:8,className:"p-4 text-center text-sm text-gray-500"},"Aucun paiement  afficher avec ces critres."))))),u.length>zo&&t.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null,"Affichage ",(T-1)*zo+1,"-",Math.min(T*zo,u.length)," sur ",u.length," paiements"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>R(re=>Math.max(1,re-1)),disabled:T<=1,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("span",{className:"font-medium text-gray-700"},"Page ",T," / ",z),t.createElement("button",{type:"button",onClick:()=>R(re=>Math.min(z,re+1)),disabled:T>=z,className:"rounded border border-gray-300 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const VP={person:"Particulier",shop:"Boutique"},HP={user:"Utilisateur",admin:"Administrateur"},WP=e=>{const r=Number(e);return Number.isFinite(r)?r.toLocaleString("fr-FR"):"0"},GP=e=>{if(!e)return"";const r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleDateString()},ic=15,KP=[{value:"all",label:"Tous les types"},{value:"person",label:"Particuliers"},{value:"shop",label:"Boutiques"}],XP=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actifs"},{value:"blocked",label:"Suspendus"}];function Kse(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(""),[u,m]=h.useState(""),[p,f]=h.useState(""),[y,b]=h.useState("all"),[E,w]=h.useState("all"),[x,N]=h.useState(1),[S,k]=h.useState(""),[P,C]=h.useState(0),_=vl(1023);h.useEffect(()=>{const H=new AbortController;let I=!0;return(async()=>{n(!0),i("");try{const G={limit:100};p&&(G.search=p),y!=="all"&&(G.accountType=y);const{data:z}=await ie.get("/admin/users",{params:G,signal:H.signal});I&&r(Array.isArray(z)?z:[])}catch(G){if(!I||G.name==="CanceledError"||G.name==="AbortError")return;i(G.response?.data?.message||G.message||"Impossible de charger la liste des utilisateurs.")}finally{I&&n(!1)}})(),()=>{I=!1,H.abort()}},[y,p,P]);const O=h.useMemo(()=>E==="blocked"?e.filter(H=>H.isBlocked):E==="active"?e.filter(H=>!H.isBlocked):e,[E,e]),T=h.useMemo(()=>{const H=e.length,I=e.filter(G=>G.isBlocked).length,B=e.filter(G=>G.accountType==="shop").length;return{total:H,blocked:I,shops:B}},[e]);h.useEffect(()=>{N(1)},[y,E,p]),h.useEffect(()=>{const H=Math.max(1,Math.ceil(O.length/ic));N(I=>Math.min(I,H))},[O.length]);const R=Math.max(1,Math.ceil(O.length/ic)),D=h.useMemo(()=>{const H=(x-1)*ic;return O.slice(H,H+ic)},[O,x]),j=O.length?(x-1)*ic+1:0,L=O.length?Math.min(x*ic,O.length):0;h.useEffect(()=>{const H=setTimeout(()=>{f(u.trim())},400);return()=>clearTimeout(H)},[u]);const K=H=>{H.preventDefault(),f(u.trim())},W=()=>{m(""),f("")},$=H=>{r(I=>I.some(G=>G.id===H.id)?I.map(G=>G.id===H.id?H:G):[H,...I])},J=async H=>{const I=H.blockedReason||"",B=window.prompt("Raison de la suspension (facultatif, visible uniquement par les administrateurs) :",I);if(B!==null){d(""),k(H.id);try{const{data:G}=await ie.patch(`/admin/users/${H.id}/block`,{reason:B||""});$(G)}catch(G){d(G.response?.data?.message||G.message||"Impossible de suspendre cet utilisateur pour le moment.")}finally{k("")}}},Q=async H=>{d(""),k(H.id);try{const{data:I}=await ie.patch(`/admin/users/${H.id}/unblock`);$(I)}catch(I){d(I.response?.data?.message||I.message||"Impossible de rtablir cet utilisateur pour le moment.")}finally{k("")}},X=()=>{C(H=>H+1)};return t.createElement("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-6 space-y-6"},t.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3"},t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Gestion des utilisateurs"),t.createElement("p",{className:"text-sm text-gray-500"},"Administrez les comptes, suspendez ou ractivez un utilisateur en cas d'abuse.")),t.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},t.createElement(be,{to:"/admin",className:"inline-flex items-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-100"},t.createElement(Cr,{size:16}),"Retour au tableau de bord"),t.createElement("button",{type:"button",onClick:X,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},t.createElement(mo,{size:16,className:a?"animate-spin":""}),"Actualiser"))),t.createElement("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs totaux"),t.createElement("p",{className:"text-2xl font-semibold text-gray-900"},T.total)),t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Boutiques enregistres"),t.createElement("p",{className:"text-2xl font-semibold text-gray-900"},T.shops)),t.createElement("div",{className:"rounded-lg border bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide"},"Utilisateurs bloqus"),t.createElement("p",{className:"text-2xl font-semibold text-gray-900"},T.blocked))),t.createElement("section",{className:"rounded-lg border bg-white p-4 shadow-sm space-y-4"},t.createElement("form",{onSubmit:K,className:"flex flex-col md:flex-row gap-3 md:items-center md:justify-between"},t.createElement("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center"},t.createElement("div",{className:"relative flex-1"},t.createElement(zr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.createElement("input",{type:"search",placeholder:"Rechercher un nom, email ou tlphone",className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400",value:u,onChange:H=>m(H.target.value)})),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 transition"},"Rechercher"),p&&t.createElement("button",{type:"button",onClick:W,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50"},"Effacer"))),_?t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},KP.map(H=>t.createElement("button",{key:H.value,type:"button",onClick:()=>b(H.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${y===H.value?"bg-indigo-600 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},H.label))),t.createElement("div",{className:"-mx-1 flex gap-2 overflow-x-auto pb-1"},XP.map(H=>t.createElement("button",{key:H.value,type:"button",onClick:()=>w(H.value),className:`flex-shrink-0 rounded-full px-4 py-2 text-sm font-semibold transition ${E===H.value?"bg-gray-900 text-white shadow":"border border-gray-200 bg-white text-gray-600"}`},H.label)))):t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("select",{value:y,onChange:H=>b(H.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},KP.map(H=>t.createElement("option",{key:H.value,value:H.value},H.label))),t.createElement("select",{value:E,onChange:H=>w(H.target.value),className:"rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"},XP.map(H=>t.createElement("option",{key:H.value,value:H.value},H.label))))),s&&t.createElement("p",{className:"text-sm text-red-600"},s),o&&t.createElement("p",{className:"text-sm text-red-600"},o),_?t.createElement("div",{className:"space-y-4"},a?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des utilisateurs"):D.length?D.map(H=>{const I=!!H.isBlocked;return t.createElement("article",{key:H.id,className:"space-y-3 rounded-2xl border border-gray-100 p-4 shadow-sm"},t.createElement("div",{className:"flex items-start justify-between gap-3"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-900"},H.name),t.createElement("p",{className:"text-xs text-gray-500 break-all"},H.email),t.createElement("p",{className:"text-xs text-gray-400"},H.phone||""),H.accountType==="shop"&&H.shopName?t.createElement("div",{className:"text-xs space-y-1"},t.createElement("p",{className:"font-semibold text-indigo-600"},"Boutique : ",H.shopName),t.createElement("p",{className:"text-gray-500"},"Abonns : ",WP(H.followersCount))):null),t.createElement("span",{className:"rounded-full bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700"},VP[H.accountType]||H.accountType)),t.createElement("div",{className:"flex flex-wrap gap-2 text-xs text-gray-600"},t.createElement("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 font-semibold text-gray-700"},HP[H.role]||H.role),I?t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 font-semibold text-red-600"},t.createElement(_5,{size:12}),"Suspendu"):t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 font-semibold text-green-600"},t.createElement(ys,{size:12}),"Actif")),I?t.createElement("div",{className:"text-xs text-gray-500 space-y-1"},t.createElement("p",null,"Depuis le ",GP(H.blockedAt)),H.blockedReason?t.createElement("p",{className:"italic"},"Motif : ",H.blockedReason):null):null,t.createElement("div",{className:"flex flex-wrap gap-2"},I?t.createElement("button",{type:"button",onClick:()=>Q(H),disabled:S===H.id,className:"flex-1 min-w-[140px] rounded-lg border border-green-500 px-3 py-2 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):t.createElement("button",{type:"button",onClick:()=>J(H),disabled:S===H.id,className:"flex-1 min-w-[140px] rounded-lg border border-red-500 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))}):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun utilisateur  afficher.")):t.createElement("div",{className:"overflow-x-auto"},t.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Utilisateur"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Type"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Rle"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),t.createElement("tbody",{className:"divide-y divide-gray-100"},a?t.createElement("tr",null,t.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Chargement des utilisateurs")):O.length===0?t.createElement("tr",null,t.createElement("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500"},"Aucun utilisateur  afficher.")):D.map(H=>{const I=!!H.isBlocked;return t.createElement("tr",{key:H.id,className:"hover:bg-gray-50"},t.createElement("td",{className:"px-3 py-3"},t.createElement("div",{className:"flex flex-col"},t.createElement("span",{className:"font-medium text-gray-900"},H.name),t.createElement("span",{className:"text-gray-500"},H.email),t.createElement("span",{className:"text-gray-400 text-xs"},H.phone),H.accountType==="shop"&&H.shopName?t.createElement("div",{className:"text-xs text-gray-500 mt-1 space-y-1"},t.createElement("span",{className:"text-indigo-600 font-semibold"},"Boutique : ",H.shopName),t.createElement("p",null,"Abonns : ",WP(H.followersCount)),t.createElement(be,{to:la(H),className:"text-indigo-500 underline text-xs font-semibold"},"Voir la boutique")):null)),t.createElement("td",{className:"px-3 py-3"},t.createElement("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-2 py-0.5 text-xs font-semibold text-indigo-700"},VP[H.accountType]||H.accountType)),t.createElement("td",{className:"px-3 py-3"},t.createElement("span",{className:"text-sm text-gray-700"},HP[H.role]||H.role)),t.createElement("td",{className:"px-3 py-3"},I?t.createElement("div",{className:"flex flex-col gap-1"},t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-50 px-2 py-0.5 text-xs font-semibold text-red-600"},t.createElement(_5,{size:12}),"Suspendu"),t.createElement("span",{className:"text-xs text-gray-500"},"Depuis le ",GP(H.blockedAt)),H.blockedReason?t.createElement("span",{className:"text-xs text-gray-500 italic"},"Motif : ",H.blockedReason):null):t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-0.5 text-xs font-semibold text-green-600"},t.createElement(ys,{size:12}),"Actif")),t.createElement("td",{className:"px-3 py-3"},I?t.createElement("button",{type:"button",onClick:()=>Q(H),disabled:S===H.id,className:"rounded-lg border border-green-500 px-3 py-1.5 text-xs font-semibold text-green-600 hover:bg-green-50 disabled:opacity-50"},"Ractiver"):t.createElement("button",{type:"button",onClick:()=>J(H),disabled:S===H.id,className:"rounded-lg border border-red-500 px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-50 disabled:opacity-50"},"Suspendre")))})))),O.length>0&&!a?t.createElement("div",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-600 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null,"Affichage ",j,"-",L," sur ",O.length," utilisateurs"),t.createElement("div",{className:"flex items-center gap-2 text-sm"},t.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>N(H=>Math.max(1,H-1)),disabled:x<=1},"Prcdent"),t.createElement("span",{className:"font-medium text-gray-700"},"Page ",x," / ",R),t.createElement("button",{type:"button",className:"rounded-lg border border-gray-300 px-3 py-1.5 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>N(H=>Math.min(R,H+1)),disabled:x>=R},"Suivant"))):null))}const Xse=e=>{const r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},Yse=e=>{const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const a=new Date,n=new Date(a);return n.setDate(n.getDate()-1),r.toDateString()===a.toDateString()?"Aujourd'hui":r.toDateString()===n.toDateString()?"Hier":r.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},Qse=e=>{const r={};return e.forEach(a=>{const n=new Date(a.createdAt).toDateString();r[n]||(r[n]=[]),r[n].push(a)}),r},YP=["Bonjour, je souhaite avoir des informations","Quand sera livr ma commande ?","Merci pour votre rponse","Pouvez-vous me rappeler ?"];function Xc({order:e,onClose:r,unreadCount:a=0,buttonText:n="Contacter le vendeur"}){const{user:s}=h.useContext(fr),[i,o]=h.useState(!1),[d,u]=h.useState([]),[m,p]=h.useState(!1),[f,y]=h.useState(!1),[b,E]=h.useState(""),[w,x]=h.useState(""),[N,S]=h.useState(!1),[k,P]=h.useState(!1),[C,_]=h.useState(!1),O=h.useRef(null),T=h.useRef(null),R=h.useRef(null),D=e?.items?.[0]?.snapshot?.shopId?{_id:e.items[0].snapshot.shopId,name:e.items[0].snapshot.shopName}:null,j=e?.items?.[0],L=j?.snapshot?.title||"Produit",K=j?.snapshot?.image||null,W=s?._id&&e?.customer?._id&&String(s._id)===String(e.customer._id),$=D&&s?._id&&String(s._id)===String(D._id),J=s?.role==="admin"||s?.role==="manager";h.useEffect(()=>{if(i&&e?._id){Q();const z=setInterval(Q,5e3);return()=>clearInterval(z)}},[i,e?._id]),h.useEffect(()=>{I()},[d]),h.useEffect(()=>{i&&R.current&&R.current.focus()},[i]);const Q=async()=>{if(e?._id)try{p(!0);const{data:z}=await ie.get(`/orders/${e._id}/messages`);u(Array.isArray(z)?z:[]),E("")}catch(z){E(z.response?.data?.message||"Impossible de charger les messages.")}finally{p(!1)}},X=async z=>{if(z?.preventDefault(),!w.trim()||f)return;const ae=w.trim();x(""),y(!0),E(""),S(!1);try{let he=null;J?he=e?.customer?._id:W?he=D?._id:$&&(he=e?.customer?._id);const{data:ve}=await ie.post(`/orders/${e._id}/messages`,{text:ae,recipientId:he});u(_e=>[..._e,ve]),I()}catch(he){E(he.response?.data?.message||"Impossible d'envoyer le message."),x(ae)}finally{y(!1)}},H=z=>{x(z),S(!1),setTimeout(()=>{X()},100)},I=()=>{O.current&&O.current.scrollIntoView({behavior:"smooth"})};if(!i)return t.createElement("button",{type:"button",onClick:()=>o(!0),className:"relative inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"},t.createElement(pr,{className:"w-4 h-4"}),t.createElement("span",null,n),a>0&&t.createElement("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full min-w-[22px] text-center animate-pulse shadow-lg"},a>99?"99+":a));const B=J?e?.customer?.name||"Client":W?D?.name||"Vendeur":e?.customer?.name||"Client",G=Qse(d);return t.createElement("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/60 backdrop-blur-sm"},t.createElement("div",{className:"bg-white dark:bg-gray-900 w-full sm:rounded-2xl sm:max-w-lg sm:mx-4 h-full sm:h-[85vh] sm:max-h-[700px] flex flex-col shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-300"},t.createElement("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white"},t.createElement("div",{className:"flex items-center justify-between p-4"},t.createElement("div",{className:"flex items-center gap-3 flex-1 min-w-0"},t.createElement("button",{type:"button",onClick:()=>{o(!1),r&&r()},className:"sm:hidden p-1.5 rounded-lg hover:bg-white/20 transition-colors"},t.createElement(Cr,{className:"w-5 h-5"})),t.createElement("div",{className:"relative"},K?t.createElement("img",{src:K,alt:L,className:"w-11 h-11 rounded-full object-cover border-2 border-white/30"}):t.createElement("div",{className:"w-11 h-11 rounded-full bg-white/20 flex items-center justify-center"},W?t.createElement(vr,{className:"w-5 h-5"}):t.createElement(ha,{className:"w-5 h-5"})),t.createElement("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-400 border-2 border-white rounded-full"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("h2",{className:"font-bold truncate"},B),t.createElement("div",{className:"flex items-center gap-1.5 text-xs text-white/80"},t.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),t.createElement("span",null,"En ligne"),t.createElement("span",{className:"mx-1"},""),t.createElement("span",{className:"truncate"},"#",e?.deliveryCode||e?._id?.slice(-6))))),t.createElement("div",{className:"flex items-center gap-1"},t.createElement("button",{type:"button",onClick:()=>P(!k),className:"p-2 rounded-lg hover:bg-white/20 transition-colors",title:"Informations"},t.createElement(lN,{className:"w-5 h-5"})),t.createElement("button",{type:"button",onClick:()=>{o(!1),r&&r()},className:"hidden sm:block p-2 rounded-lg hover:bg-white/20 transition-colors"},t.createElement(_t,{className:"w-5 h-5"})))),t.createElement("div",{className:"px-4 pb-3"},t.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10 text-xs"},t.createElement(An,{className:"w-3.5 h-3.5 text-emerald-300"}),t.createElement("span",{className:"text-white/90"},"Messages scuriss et chiffrs de bout en bout")))),k&&t.createElement("div",{className:"bg-indigo-50 dark:bg-gray-800 border-b border-indigo-100 dark:border-gray-700 p-4 space-y-3"},t.createElement("div",{className:"flex items-center gap-3"},K&&t.createElement("img",{src:K,alt:L,className:"w-16 h-16 rounded-xl object-cover"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white truncate"},L),t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Commande #",e?.deliveryCode||e?._id?.slice(-6)))),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600 dark:text-gray-400"},t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(Ca,{className:"w-4 h-4 text-emerald-500"}),t.createElement("span",null,"Transaction protge")),t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement($r,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Donnes scurises")))),t.createElement("div",{ref:T,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800"},m&&d.length===0?t.createElement("div",{className:"flex flex-col items-center justify-center h-full gap-3"},t.createElement("div",{className:"relative"},t.createElement("div",{className:"w-12 h-12 rounded-full border-4 border-indigo-100 border-t-indigo-600 animate-spin"})),t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des messages...")):d.length===0?t.createElement("div",{className:"flex flex-col items-center justify-center h-full text-center px-6"},t.createElement("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mb-4"},t.createElement(pr,{className:"w-10 h-10 text-indigo-500"})),t.createElement("h3",{className:"font-bold text-gray-900 dark:text-white mb-2"},"Dmarrez la conversation"),t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6"},"Posez vos questions concernant cette commande. Vos messages sont scuriss."),t.createElement("div",{className:"flex flex-wrap justify-center gap-2"},YP.slice(0,2).map((z,ae)=>t.createElement("button",{key:ae,type:"button",onClick:()=>H(z),className:"px-3 py-1.5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-medium hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors"},z)))):Object.entries(G).map(([z,ae])=>t.createElement("div",{key:z},t.createElement("div",{className:"flex items-center justify-center my-4"},t.createElement("div",{className:"px-3 py-1 rounded-full bg-gray-200/80 dark:bg-gray-700/80 text-xs font-medium text-gray-600 dark:text-gray-300"},Yse(ae[0].createdAt))),t.createElement("div",{className:"space-y-3"},ae.map((he,ve)=>{const _e=String(he.sender?._id)===String(s?._id),ee=!_e&&(ve===0||String(ae[ve-1]?.sender?._id)!==String(he.sender?._id));return t.createElement("div",{key:he._id,className:`flex items-end gap-2 ${_e?"justify-end":"justify-start"}`},!_e&&t.createElement("div",{className:`w-8 h-8 flex-shrink-0 ${ee?"":"invisible"}`},he.sender?.shopName?t.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center text-white text-xs font-bold"},he.sender.shopName.charAt(0).toUpperCase()):t.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center"},t.createElement(ha,{className:"w-4 h-4 text-white"}))),t.createElement("div",{className:`max-w-[75%] group ${_e?"bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-2xl rounded-br-md":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-100 dark:border-gray-700 rounded-2xl rounded-bl-md shadow-sm"} px-4 py-2.5 relative`},!_e&&ee&&t.createElement("p",{className:"text-xs font-semibold mb-1 text-indigo-600 dark:text-indigo-400"},he.sender?.shopName||he.sender?.name||"Utilisateur"),t.createElement("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed"},he.text),t.createElement("div",{className:`flex items-center gap-1.5 mt-1 ${_e?"justify-end":"justify-start"}`},t.createElement("span",{className:`text-[10px] ${_e?"text-indigo-200":"text-gray-400 dark:text-gray-500"}`},Xse(he.createdAt)),_e&&t.createElement("span",{className:"text-indigo-200"},he.readAt?t.createElement(VO,{className:"w-3.5 h-3.5"}):t.createElement(Ko,{className:"w-3.5 h-3.5"})))))})))),C&&t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},t.createElement(ha,{className:"w-4 h-4 text-gray-500"})),t.createElement("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-bl-md px-4 py-2.5"},t.createElement("div",{className:"flex gap-1"},t.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),t.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),t.createElement("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})))),t.createElement("div",{ref:O})),N&&t.createElement("div",{className:"border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 p-3"},t.createElement("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},"Rponses rapides"),t.createElement("div",{className:"flex flex-wrap gap-2"},YP.map((z,ae)=>t.createElement("button",{key:ae,type:"button",onClick:()=>H(z),className:"px-3 py-1.5 rounded-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-sm text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 hover:border-indigo-300 hover:text-indigo-700 transition-all"},z)))),b&&t.createElement("div",{className:"px-4 py-2 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-800 flex items-center gap-2"},t.createElement(vp,{className:"w-4 h-4 text-red-500"}),t.createElement("p",{className:"text-sm text-red-700 dark:text-red-300 flex-1"},b),t.createElement("button",{type:"button",onClick:()=>E(""),className:"text-red-500 hover:text-red-700"},t.createElement(_t,{className:"w-4 h-4"}))),t.createElement("form",{onSubmit:X,className:"p-3 border-t border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-900"},t.createElement("div",{className:"flex items-end gap-2"},t.createElement("button",{type:"button",onClick:()=>S(!N),className:`p-2.5 rounded-xl transition-colors ${N?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400":"text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:"Rponses rapides"},t.createElement(Ez,{className:"w-5 h-5"})),t.createElement("div",{className:"flex-1 relative"},t.createElement("textarea",{ref:R,value:w,onChange:z=>x(z.target.value),placeholder:"Tapez votre message...",rows:1,maxLength:1e3,className:"w-full px-4 py-2.5 rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none transition-all",style:{minHeight:"44px",maxHeight:"120px"},onKeyDown:z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),X(z))},onInput:z=>{z.target.style.height="auto",z.target.style.height=Math.min(z.target.scrollHeight,120)+"px"}})),t.createElement("button",{type:"submit",disabled:!w.trim()||f,className:"p-2.5 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl disabled:shadow-none"},f?t.createElement(RF,{className:"w-5 h-5 animate-spin"}):t.createElement(J0,{className:"w-5 h-5"}))),t.createElement("div",{className:"flex items-center justify-between mt-2 px-1"},t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-400"},t.createElement(An,{className:"w-3 h-3"}),t.createElement("span",null,"Chiffr")),t.createElement("span",{className:`text-xs ${w.length>900?"text-amber-500":"text-gray-400"}`},w.length,"/1000")))))}const ii={pending:"En attente",confirmed:"Confirme",delivering:"En cours de livraison",delivered:"Livre",cancelled:"Annule"},Jf={pending:"bg-gray-100 text-gray-700",confirmed:"bg-yellow-100 text-yellow-800",delivering:"bg-blue-100 text-blue-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},Jse=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],QP=12;function Zse(){const{user:e}=h.useContext(fr),r=Tn(),[a,n]=h.useState(null),[s,i]=h.useState(!1),[o,d]=h.useState([]),[u,m]=h.useState(!1),[p,f]=h.useState(""),[y,b]=h.useState("all"),[E,w]=h.useState(""),[x,N]=h.useState(""),[S,k]=h.useState(1),[P,C]=h.useState({total:0,totalPages:1}),[_,O]=h.useState(!1),[T,R]=h.useState(""),[D,j]=h.useState(""),[L,K]=h.useState(!1),[W,$]=h.useState(null),[J,Q]=h.useState(!1),[X,H]=h.useState(null),[I,B]=h.useState(""),[G,z]=h.useState(!1),[ae,he]=h.useState(""),[ve,_e]=h.useState([]),[ee,le]=h.useState(!1),[pe,Ne]=h.useState(""),[oe,re]=h.useState({}),[Me,ge]=h.useState(""),[$e,De]=h.useState(""),[Ye,Je]=h.useState([]),[bt,Ze]=h.useState([]),[nt,ct]=h.useState(null),[vt,Zt]=h.useState([]),[pt,ut]=h.useState({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),Lt=h.useCallback(()=>{$(null),Q(!1),K(!0)},[]),zt=h.useCallback(q=>{q&&($(null),K(!1),H(q),B(q.deliveryGuy?._id||""),he(""),Q(!0))},[]),nr=h.useCallback(()=>{Q(!1),H(null),B(""),he("")},[]),Bt=q=>Number(q||0).toLocaleString("fr-FR"),xt=q=>String(q??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),we=q=>q.items&&q.items.length?q.items:q.productSnapshot?[{snapshot:q.productSnapshot,quantity:1,product:q.product?._id}]:[],ot=q=>{const ue=we(q),ke=xt(q.deliveryGuy?.name||""),Pe=xt(q.deliveryGuy?.phone||""),ze=ue.reduce((ne,rt)=>{const Ke=Number(rt.snapshot?.price||rt.product?.price||0),dt=Number(rt.quantity||1);return ne+Ke*dt},0),tt=Number(q.totalAmount??ze),He=Number(q.paidAmount||0),jt=q.remainingAmount!=null?Number(q.remainingAmount):Math.max(0,tt-He),Nt=xt(q.paymentName||"Non renseign"),St=xt(q.paymentTransactionCode||"Non renseign"),sa=ue.map((ne,rt)=>{const Ke=xt(ne.snapshot?.title||"Produit"),dt=xt(ne.snapshot?.shopName||""),mt=xt(ne.snapshot?.confirmationNumber||""),Dt=Number(ne.quantity||1),Be=Bt(ne.snapshot?.price||0),Er=Bt((ne.snapshot?.price||0)*Dt);return`
          <tr>
            <td>${rt+1}</td>
            <td>
              <div class="title">${Ke}</div>
              ${dt?`<div class="meta">Boutique: ${dt}</div>`:""}
              ${mt?`<div class="meta">Code: ${mt}</div>`:""}
            </td>
            <td class="right">x${Dt}</td>
            <td class="right">${Be} FCFA</td>
            <td class="right">${Er} FCFA</td>
          </tr>
        `}).join(""),Xr=xt(q._id||""),La=xt(q._id?.slice(-6)||""),er=`
      <!doctype html>
      <html lang="fr">
        <head>
          <meta charset="utf-8" />
          <title>Bon de commande et de livraison</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body { font-family: "Helvetica Neue", Arial, sans-serif; margin: 32px; color: #111827; }
            .page { position: relative; z-index: 1; }
            .watermark {
              position: fixed;
              top: 45%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-18deg);
              font-size: 40px;
              letter-spacing: 0.4em;
              text-transform: uppercase;
              color: rgba(15, 23, 42, 0.08);
              white-space: nowrap;
              pointer-events: none;
              z-index: 0;
            }
            .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; }
            .brand { display: flex; align-items: center; gap: 12px; }
            .logo { width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; padding: 6px; }
            .title { font-size: 22px; font-weight: 700; }
            .badge { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #6b7280; }
            .meta-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; margin-top: 20px; }
            .meta-box { border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px 14px; }
            .meta-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .meta-box p { margin: 4px 0; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin-top: 24px; }
            th, td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; font-size: 13px; vertical-align: top; }
            th { background: #f9fafb; font-size: 12px; text-transform: uppercase; letter-spacing: 0.15em; color: #6b7280; }
            .right { text-align: right; }
            .total-row td { font-weight: 700; border-top: 2px solid #111827; }
            .signature { margin-top: 32px; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
            .signature-box { border: 1px dashed #cbd5f5; border-radius: 12px; padding: 16px; min-height: 90px; }
            .signature-box h4 { margin: 0 0 8px; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; color: #6b7280; }
            .signature-line { margin-top: 24px; border-bottom: 1px solid #9ca3af; height: 1px; }
            .notes { margin-top: 20px; font-size: 12px; color: #6b7280; }
            .print-actions { margin-top: 24px; display: flex; justify-content: flex-end; }
            .print-btn { padding: 10px 16px; border-radius: 999px; border: 1px solid #111827; background: #111827; color: #fff; font-weight: 600; cursor: pointer; }
            .security { margin-top: 12px; font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 0.2em; }
            @media print {
              body { margin: 0; }
              .print-actions { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="watermark">HDMarket  Document Officiel</div>
          <div class="page">
            <div class="header">
              <div class="brand">
                <img src="${`${window.location.origin}/favicon.svg`}" alt="HDMarket" class="logo" />
                <div>
                  <div class="title">Bon de commande et de livraison</div>
                  <div class="badge">HDMarket</div>
                </div>
              </div>
              <div class="right">
                <div class="badge">Commande #${La}</div>
                <div>${xt(new Date(q.createdAt).toLocaleDateString("fr-FR"))}</div>
                <div class="security">Rf: ${Xr}</div>
              </div>
            </div>

            <div class="meta-grid">
              <div class="meta-box">
                <h4>Client</h4>
                <p>${xt(q.customer?.name||"Client")}</p>
                <p>${xt(q.customer?.phone||"")}</p>
                <p>${xt(q.customer?.email||"")}</p>
              </div>
            <div class="meta-box">
              <h4>Livraison</h4>
              <p>${xt(q.deliveryAddress||"")}</p>
              <p>${xt(q.deliveryCity||"")}</p>
              ${q.trackingNote?`<p>${xt(q.trackingNote)}</p>`:""}
              ${ke?`<p>Livreur: ${ke}${Pe?`  ${Pe}`:""}</p>`:""}
            </div>
            <div class="meta-box">
              <h4>Paiement</h4>
              <p>Acompte vers: ${Bt(He)} FCFA</p>
              <p>Reste  payer: ${Bt(jt)} FCFA</p>
              <p>Nom du payeur: ${Nt}</p>
              <p>Transaction: ${St}</p>
            </div>
            </div>

            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Article</th>
                  <th class="right">Qt</th>
                  <th class="right">Prix</th>
                  <th class="right">Total</th>
                </tr>
              </thead>
              <tbody>
                ${sa}
                <tr class="total-row">
                  <td colspan="4" class="right">Total commande</td>
                  <td class="right">${Bt(tt)} FCFA</td>
                </tr>
              </tbody>
            </table>

            <div class="signature">
              <div class="signature-box">
                <h4>Signature client</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature  la livraison.</p>
              </div>
              <div class="signature-box">
                <h4>Signature livreur</h4>
                <div class="signature-line"></div>
                <p class="notes">Nom & signature.</p>
              </div>
            </div>

            <p class="notes">
              Ce document fait foi de bon de commande et de livraison. Merci de vrifier les articles avant signature.
              Toute copie doit comporter la rfrence unique ${Xr}.
            </p>

            <div class="print-actions">
              <button class="print-btn" id="print-btn">Imprimer / PDF</button>
            </div>

            <script>
              document.getElementById('print-btn').addEventListener('click', () => window.print());
            <\/script>
          </div>
        </body>
      </html>
    `,Yt=window.open("","_blank");if(!Yt){const ne=new Blob([er],{type:"text/html"}),rt=URL.createObjectURL(ne);window.location.href=rt,setTimeout(()=>URL.revokeObjectURL(rt),1500);return}Yt.document.open(),Yt.document.write(er),Yt.document.close(),Yt.focus()},ht=q=>{Zt(ue=>ue.some(ke=>ke.product._id===q._id)?ue:[...ue,{product:q,quantity:1}])},Z=q=>{Zt(ue=>ue.filter(ke=>ke.product._id!==q))},xe=(q,ue)=>{const ke=Math.max(1,Number(ue)||1);Zt(Pe=>Pe.map(ze=>ze.product._id===q?{...ze,quantity:ke}:ze))},fe=h.useCallback(async()=>{i(!0);try{const{data:q}=await ie.get("/orders/admin/stats");n(q)}catch(q){console.error("Erreur stats commandes:",q)}finally{i(!1)}},[]),ye=h.useCallback(async()=>{le(!0),Ne("");try{const{data:q}=await ie.get("/admin/delivery-guys?limit=100"),ue=Array.isArray(q)?q:q?.items||[];_e(ue)}catch(q){Ne(q.response?.data?.message||"Impossible de charger les livreurs."),_e([])}finally{le(!1)}},[]),Y=h.useCallback(async q=>{if(!q||q.length===0||!e?._id)return{};try{return(await Promise.all(q.map(async ke=>{try{const{data:Pe}=await ie.get(`/orders/${ke}/messages`),ze=Array.isArray(Pe)?Pe.filter(tt=>String(tt.recipient?._id)===String(e._id)&&!tt.readAt):[];return{orderId:ke,count:ze.length}}catch{return{orderId:ke,count:0}}}))).reduce((ke,{orderId:Pe,count:ze})=>(ke[Pe]=ze,ke),{})}catch{return{}}},[e?._id]),U=h.useCallback(async()=>{m(!0),f("");try{const q=new URLSearchParams;q.set("page",S),q.set("limit",QP),y!=="all"&&q.append("status",y),x&&q.append("search",x);const{data:ue}=await ie.get(`/orders/admin?${q.toString()}`),ke=Array.isArray(ue)?ue:ue?.items||[];d(ke);const Pe=ke.map(tt=>tt._id),ze=await Y(Pe);re(ze),C({total:ue?.total??ke.length,totalPages:ue?.totalPages??1}),ue?.page&&ue.page!==S&&k(ue.page)}catch(q){f(q.response?.data?.message||q.message||"Impossible de charger les commandes."),d([]),C({total:0,totalPages:1})}finally{m(!1)}},[y,x,S]),de=h.useCallback(async(q="")=>{try{const{data:ue}=await ie.get(q.trim()?`/orders/admin/customers?search=${encodeURIComponent(q.trim())}`:"/orders/admin/customers");Je(Array.isArray(ue)?ue:[])}catch(ue){console.error("Erreur chargement clients",ue)}},[]),Re=h.useCallback(async(q="")=>{try{const{data:ue}=await ie.get(q.trim()?`/orders/admin/products?search=${encodeURIComponent(q.trim())}`:"/orders/admin/products");Ze(Array.isArray(ue)?ue:[])}catch(ue){console.error("Erreur chargement produits",ue)}},[]);h.useEffect(()=>{fe(),de(),Re(),ye()},[fe,de,Re,ye]),h.useEffect(()=>{U()},[U]),h.useEffect(()=>{const q=setTimeout(()=>{N(E.trim())},400);return()=>clearTimeout(q)},[E]),h.useEffect(()=>{k(1)},[y,x]);const Ve=async(q,ue)=>{const ke=o.find(Pe=>Pe._id===q);try{const{data:Pe}=await ie.patch(`/orders/admin/${q}`,ue),ze=Pe,tt=ke?.status,He=ze?.status||tt,jt=y!=="all"&&He&&y!==He;if(d(Nt=>Array.isArray(Nt)?jt?Nt.filter(St=>St._id!==q):Nt.map(St=>St._id===q?ze:St):Nt),jt){const Nt=Math.max(0,(P.total||0)-1),St=Math.max(1,Math.ceil(Nt/QP));C(sa=>({...sa,total:Nt,totalPages:St})),S>St&&k(St)}return tt&&He&&tt!==He&&(n(Nt=>Nt?.statusCounts?{...Nt,statusCounts:{...Nt.statusCounts,[tt]:Math.max(0,(Nt.statusCounts[tt]||0)-1),[He]:(Nt.statusCounts[He]||0)+1}}:Nt),$({orderId:q,status:He})),ze}catch(Pe){return alert(Pe.response?.data?.message||"Impossible de mettre  jour la commande."),null}},Qe=async q=>{if(q.preventDefault(),!(!nt||vt.length===0)){O(!0),R(""),j("");try{await ie.post("/orders/admin",{customerId:nt._id,deliveryAddress:pt.deliveryAddress.trim(),deliveryCity:pt.deliveryCity,trackingNote:pt.trackingNote.trim(),items:vt.map(({product:ue,quantity:ke})=>({productId:ue._id,quantity:ke}))}),j("Commande cre avec succs."),ct(null),Zt([]),ut({deliveryAddress:"",deliveryCity:"Brazzaville",trackingNote:""}),K(!1),await Promise.all([U(),fe()])}catch(ue){R(ue.response?.data?.message||"Impossible de crer la commande.")}finally{O(!1)}}};h.useEffect(()=>{nt&&ut(q=>({...q,deliveryAddress:nt.address||q.deliveryAddress||"",deliveryCity:nt.city||q.deliveryCity||"Brazzaville"}))},[nt]),h.useEffect(()=>{L||(R(""),j(""))},[L]),h.useEffect(()=>{J||(he(""),z(!1))},[J]);const Pt=()=>t.createElement("div",{className:"flex flex-wrap gap-2"},["all","pending","confirmed","delivering","delivered","cancelled"].map(q=>{const ue=q==="pending"&&a?.statusCounts?.pending||0,ke=a?.statusCounts?.[q]||0,Pe=y===q;return t.createElement("button",{key:q,type:"button",onClick:()=>b(q),className:`px-4 py-2 text-xs font-semibold rounded-3xl border-2 transition-all duration-200 active:scale-95 flex items-center gap-2 shadow-sm ${Pe?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-600 shadow-lg":"bg-white text-gray-700 border-gray-200 hover:border-indigo-300 hover:bg-indigo-50"}`},t.createElement("span",null,q==="all"?"Toutes":ii[q]),q==="pending"&&ue>0&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${Pe?"bg-white/30 text-white":"bg-indigo-600 text-white"}`},ue),q!=="all"&&q!=="pending"&&ke>0&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${Pe?"bg-white/30 text-white":"bg-indigo-600 text-white"}`},ke))}));return t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},t.createElement("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2"},t.createElement(ea,{className:"w-6 h-6 text-indigo-600"}),"Gestion des commandes"),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("button",{type:"button",onClick:Lt,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700"},t.createElement(al,{className:"h-4 w-4"}),"Crer une commande"),t.createElement(be,{to:"/admin",className:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center gap-1"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour au tableau de bord"))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},["pending","confirmed","delivering","delivered","cancelled"].map(q=>{const ue=s?0:a?.statusCounts?.[q]||0,ke={pending:"bg-gradient-to-br from-gray-50 to-gray-100",confirmed:"bg-gradient-to-br from-amber-50 to-yellow-100",delivering:"bg-gradient-to-br from-blue-50 to-indigo-100",delivered:"bg-gradient-to-br from-emerald-50 to-green-100",cancelled:"bg-gradient-to-br from-red-50 to-pink-100"},Pe={pending:"text-gray-600",confirmed:"text-amber-600",delivering:"text-blue-600",delivered:"text-emerald-600",cancelled:"text-red-600"};return t.createElement("div",{key:q,className:`${ke[q]} border-2 border-transparent rounded-3xl p-5 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`},t.createElement("div",{className:"flex items-center justify-between mb-3"},t.createElement("div",{className:`w-12 h-12 rounded-2xl ${ke[q]} flex items-center justify-center shadow-md`},q==="pending"&&t.createElement(It,{className:`w-6 h-6 ${Pe[q]}`}),q==="confirmed"&&t.createElement(wt,{className:`w-6 h-6 ${Pe[q]}`}),q==="delivering"&&t.createElement(xr,{className:`w-6 h-6 ${Pe[q]}`}),q==="delivered"&&t.createElement(Kt,{className:`w-6 h-6 ${Pe[q]}`}),q==="cancelled"&&t.createElement(_t,{className:`w-6 h-6 ${Pe[q]}`}))),t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase font-bold text-gray-600 mb-1 tracking-wide"},ii[q]),t.createElement("p",{className:`text-3xl font-black ${Pe[q]}`},s?"...":ue.toLocaleString("fr-FR"))))})),L&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>K(!1)}),t.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-xl border border-gray-100 p-4 sm:p-6 max-h-[85vh] overflow-auto",onClick:q=>q.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},t.createElement("div",{className:"flex items-center gap-2 text-gray-900 font-semibold text-lg"},t.createElement(al,{className:"w-5 h-5 text-green-600"}),"Crer une commande"),t.createElement("button",{type:"button",onClick:()=>K(!1),className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),t.createElement("form",{className:"space-y-4",onSubmit:Qe},t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},t.createElement(ha,{size:16}),"Client"),t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche client",value:Me,onChange:q=>{ge(q.target.value),de(q.target.value)}})),t.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},Ye.map(q=>t.createElement("button",{type:"button",key:q._id,onClick:()=>ct(q),className:`w-full text-left px-3 py-2 text-sm flex flex-col ${nt?._id===q._id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50"}`},t.createElement("span",{className:"font-semibold"},q.name),t.createElement("span",{className:"text-xs text-gray-500"},q.email),t.createElement("span",{className:"text-xs text-gray-500"},q.phone))))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},t.createElement(wt,{size:16}),"Produit"),t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Recherche produit",value:$e,onChange:q=>{De(q.target.value),Re(q.target.value)}})),t.createElement("div",{className:"max-h-40 overflow-auto border border-gray-100 rounded-xl divide-y divide-gray-100"},bt.map(q=>{const ue=vt.some(ke=>ke.product._id===q._id);return t.createElement("div",{key:q._id,className:"px-3 py-2 text-sm flex flex-col gap-1 hover:bg-gray-50"},t.createElement("div",{className:"flex items-center justify-between gap-2"},t.createElement("div",null,t.createElement("span",{className:"font-semibold text-gray-900"},q.title),t.createElement("span",{className:"block text-xs text-gray-500"},Number(q.price||0).toLocaleString()," FCFA "," ",q.user?.shopName||q.user?.name||"Boutique")),t.createElement("button",{type:"button",onClick:()=>ht(q),disabled:ue,className:`px-2 py-1 text-xs rounded-full border ${ue?"border-gray-200 text-gray-400 cursor-not-allowed":"border-indigo-200 text-indigo-600 hover:bg-indigo-50"}`},ue?"Ajout":"Ajouter")))})),vt.length>0&&t.createElement("div",{className:"mt-4 bg-gray-50 rounded-2xl border border-gray-100 p-3 space-y-2"},t.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Produits slectionns"),vt.map(({product:q,quantity:ue})=>t.createElement("div",{key:q._id,className:"flex items-center gap-3 text-sm bg-white rounded-xl border border-gray-100 px-3 py-2"},t.createElement("div",{className:"flex-1"},t.createElement("p",{className:"font-medium text-gray-900"},q.title),t.createElement("p",{className:"text-xs text-gray-500"},Number(q.price||0).toLocaleString()," FCFA")),t.createElement("input",{type:"number",min:1,value:ue,onChange:ke=>xe(q._id,ke.target.value),className:"w-16 border border-gray-200 rounded-lg px-2 py-1 text-sm text-center"}),t.createElement("button",{type:"button",onClick:()=>Z(q._id),className:"text-xs text-red-600 hover:text-red-500"},"Retirer")))))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},t.createElement(Sr,{size:16}),"Adresse de livraison *"),t.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,value:pt.deliveryAddress,onChange:q=>ut(ue=>({...ue,deliveryAddress:q.target.value})),required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},t.createElement(xr,{size:16}),"Ville de livraison *"),t.createElement("select",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:pt.deliveryCity,onChange:q=>ut(ue=>({...ue,deliveryCity:q.target.value}))},Jse.map(q=>t.createElement("option",{key:q,value:q},q))),t.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},t.createElement(Sc,{size:16}),"Note de suivi"),t.createElement("textarea",{className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:pt.trackingNote,onChange:q=>ut(ue=>({...ue,trackingNote:q.target.value}))}))),T&&t.createElement("p",{className:"text-sm text-red-600"},T),D&&t.createElement("p",{className:"text-sm text-green-600"},D),t.createElement("button",{type:"submit",disabled:_||!nt||vt.length===0||!pt.deliveryAddress.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},t.createElement(al,{size:16}),"Ajouter la commande")))),J&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:nr}),t.createElement("div",{className:"relative w-full max-w-md rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:q=>q.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between gap-3 mb-4"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Assigner un livreur"),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Commande #",X?._id?.slice(-6))),t.createElement("button",{type:"button",onClick:nr,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),t.createElement("div",{className:"space-y-3"},t.createElement("div",null,t.createElement("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},t.createElement(xr,{size:16}),"Livreur"),t.createElement("select",{value:I,onChange:q=>B(q.target.value),className:"mt-2 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:ee||G},t.createElement("option",{value:""},"Assigner un livreur"),ve.map(q=>t.createElement("option",{key:q._id,value:q._id},q.name))),pe&&t.createElement("p",{className:"mt-2 text-xs text-red-500"},pe),ae&&t.createElement("p",{className:"mt-2 text-xs text-red-500"},ae)),t.createElement("button",{type:"button",onClick:async()=>{if(!X?._id)return;z(!0),he(""),await Ve(X._id,{deliveryGuyId:I})?nr():(he("Impossible de mettre  jour le livreur."),z(!1))},disabled:G,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 text-white px-4 py-2 text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},G?"Mise  jour...":"Enregistrer")))),W&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:()=>$(null)}),t.createElement("div",{className:"relative w-full max-w-sm rounded-3xl bg-white shadow-xl border border-gray-100 p-6 text-center",onClick:q=>q.stopPropagation()},t.createElement("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600"},t.createElement(Kt,{className:"h-6 w-6"})),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Statut mis  jour"),t.createElement("p",{className:"mt-1 text-sm text-gray-600"},"Commande #",W.orderId.slice(-6),"  ",ii[W.status]),t.createElement("button",{type:"button",onClick:()=>$(null),className:"mt-4 inline-flex items-center justify-center rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-300"},"OK"))),t.createElement("section",{className:"bg-gradient-to-br from-white to-gray-50 rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"flex flex-wrap items-center gap-3"},Pt()),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"relative flex-1 sm:flex-initial sm:min-w-[300px]"},t.createElement(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.createElement("input",{type:"text",placeholder:"Rechercher par produit, client, adresse...",value:E,onChange:q=>w(q.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-3xl border-2 border-gray-200 bg-white text-sm font-medium text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",title:"Rechercher par nom de produit, nom du client, email, tlphone, adresse de livraison ou note de suivi"})),t.createElement("button",{type:"button",onClick:U,disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-gray-100 border-2 border-gray-200 px-4 py-2.5 text-sm font-semibold text-gray-700 hover:bg-gray-200 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},t.createElement(Sc,{className:`w-4 h-4 ${u?"animate-spin":""}`}),t.createElement("span",{className:"hidden sm:inline"},"Actualiser")))),p&&t.createElement("p",{className:"text-sm text-red-600"},p),u?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement des commandes"):o.length===0?t.createElement("p",{className:"text-sm text-gray-500 text-center py-6"},"Aucune commande  afficher."):t.createElement(t.Fragment,null,t.createElement("div",{className:"space-y-3 md:hidden"},o.map(q=>{const ue=q.items&&q.items.length?q.items:q.productSnapshot?[{snapshot:q.productSnapshot,quantity:1,product:q.product?._id}]:[],ke=ue.reduce((He,jt)=>{const Nt=Number(jt.snapshot?.price||jt.product?.price||0),St=Number(jt.quantity||1);return He+Nt*St},0),Pe=Number(q.totalAmount??ke),ze=Number(q.paidAmount||0),tt=q.remainingAmount!=null?Number(q.remainingAmount):Math.max(0,Pe-ze);return t.createElement("div",{key:q._id,className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"text-sm font-semibold text-gray-900"},"Commande #",q._id.slice(-6)),t.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-[11px] font-semibold ${Jf[q.status]||Jf.pending}`},ii[q.status]||"Inconnu")),t.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-1"},t.createElement(It,{size:12}),new Date(q.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},t.createElement(ha,{size:14}),q.customer?.name||"Client"),t.createElement("p",{className:"text-xs text-gray-500"},q.customer?.phone),t.createElement("p",{className:"text-xs text-gray-500"},q.customer?.email)),t.createElement("div",{className:"space-y-2 text-sm text-gray-700"},ue.map(He=>t.createElement("div",{key:`${q._id}-${He.product}-${He.snapshot?.title}`,className:"space-y-0.5"},t.createElement("div",{className:"flex items-center justify-between gap-2"},t.createElement("span",{className:"font-medium truncate"},He.snapshot?.title||"Produit"),t.createElement("span",{className:"text-xs text-gray-500"},"x",He.quantity,"  ",Number(He.snapshot?.price||0).toLocaleString()," FCFA")),He.snapshot?.confirmationNumber&&t.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",He.snapshot.confirmationNumber)))),q.deliveryCode&&t.createElement("div",{className:"rounded-xl border-2 border-indigo-200 bg-indigo-50 p-3 mb-3"},t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement(Ca,{size:14,className:"text-indigo-600"}),t.createElement("p",{className:"text-[11px] font-semibold text-indigo-700 uppercase tracking-wide"},"Code de livraison")),t.createElement("div",{className:"text-center"},t.createElement("span",{className:"text-2xl font-black text-indigo-900 tracking-wider font-mono"},q.deliveryCode))),t.createElement("div",{className:"space-y-1 text-sm text-gray-700"},t.createElement("p",{className:"flex items-center gap-1"},t.createElement(Sr,{size:14,className:"text-gray-500"}),q.deliveryCity),t.createElement("p",{className:"text-xs text-gray-500"},q.deliveryAddress),q.trackingNote&&t.createElement("p",{className:"text-xs text-gray-500 italic"},q.trackingNote)),t.createElement("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3 text-xs text-slate-600 space-y-1"},t.createElement("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500"},"Paiement"),t.createElement("p",null,"Acompte vers:"," ",t.createElement("span",{className:"font-semibold text-slate-900"},Bt(ze)," FCFA")),t.createElement("p",null,"Reste  payer:"," ",t.createElement("span",{className:"font-semibold text-slate-900"},Bt(tt)," FCFA")),t.createElement("p",null,"Nom du payeur: ",q.paymentName||"Non renseign"),t.createElement("p",null,"Transaction: ",q.paymentTransactionCode||"Non renseign")),t.createElement("div",{className:"space-y-2"},t.createElement("select",{value:q.status,onChange:He=>Ve(q._id,{status:He.target.value}),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(ii).map(He=>t.createElement("option",{key:He,value:He},ii[He]))),t.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 px-3 py-2"},t.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),t.createElement("p",{className:"text-xs text-gray-700"},q.deliveryGuy?.name||"Non assign"),t.createElement("button",{type:"button",onClick:()=>zt(q),className:"mt-2 text-xs font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),t.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:q.trackingNote||"",onChange:He=>Ve(q._id,{trackingNote:He.target.value})}),t.createElement("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50 p-3"},t.createElement(Xc,{order:q,buttonText:"Contacte l'acheteur",unreadCount:oe[q._id]||0})),q.status==="confirmed"&&t.createElement("button",{type:"button",onClick:()=>ot(q),className:"w-full inline-flex items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100"},t.createElement(ea,{size:14}),"Bon de commande (PDF)"),q.status==="cancelled"&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3 space-y-1"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(_t,{className:"w-4 h-4 text-red-600"}),t.createElement("p",{className:"text-xs font-bold text-red-800"},"Commande annule")),q.cancellationReason&&t.createElement("p",{className:"text-xs text-red-700"},"Raison: ",q.cancellationReason),q.cancelledAt&&t.createElement("p",{className:"text-xs text-red-600"},"Annule le ",new Date(q.cancelledAt).toLocaleString("fr-FR")))))})),t.createElement("div",{className:"hidden md:block overflow-x-auto"},t.createElement("table",{className:"min-w-full divide-y divide-gray-200 text-sm"},t.createElement("thead",{className:"bg-gray-50"},t.createElement("tr",null,t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Commande"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Client"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Livraison"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Statut"),t.createElement("th",{className:"px-3 py-2 text-left font-semibold text-gray-600"},"Actions"))),t.createElement("tbody",{className:"divide-y divide-gray-100"},o.map(q=>{const ue=q.items&&q.items.length?q.items:q.productSnapshot?[{snapshot:q.productSnapshot,quantity:1,product:q.product?._id}]:[],ke=ue.reduce((He,jt)=>{const Nt=Number(jt.snapshot?.price||jt.product?.price||0),St=Number(jt.quantity||1);return He+Nt*St},0),Pe=Number(q.totalAmount??ke),ze=Number(q.paidAmount||0),tt=q.remainingAmount!=null?Number(q.remainingAmount):Math.max(0,Pe-ze);return t.createElement("tr",{key:q._id,className:"hover:bg-gray-50"},t.createElement("td",{className:"px-3 py-3 space-y-2"},t.createElement("div",{className:"font-semibold text-gray-900 flex items-center gap-2"},t.createElement(wt,{size:14,className:"text-gray-400"}),"Commande #",q._id.slice(-6)),t.createElement("div",{className:"space-y-2 text-xs text-gray-600"},ue.map(He=>t.createElement("div",{key:`${q._id}-${He.product}-${He.snapshot?.title}`,className:"space-y-0.5"},t.createElement("div",null,t.createElement("span",{className:"font-semibold text-gray-900"},He.snapshot?.title||"Produit")," ",t.createElement("span",{className:"text-gray-500"},"x",He.quantity,"  ",Number(He.snapshot?.price||0).toLocaleString()," FCFA")),He.snapshot?.confirmationNumber&&t.createElement("span",{className:"block text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",He.snapshot.confirmationNumber)))),t.createElement("div",{className:"text-xs text-gray-400 flex items-center gap-1"},t.createElement(It,{size:12}),"Cre le"," ",new Date(q.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}))),t.createElement("td",{className:"px-3 py-3"},t.createElement("div",{className:"font-medium text-gray-900"},q.customer?.name),t.createElement("div",{className:"text-xs text-gray-500"},q.customer?.email),t.createElement("div",{className:"text-xs text-gray-500"},q.customer?.phone),t.createElement("div",{className:"mt-2 space-y-1 text-[11px] text-gray-500"},t.createElement("div",null,"Acompte vers:"," ",t.createElement("span",{className:"font-semibold text-gray-700"},Bt(ze)," FCFA")),t.createElement("div",null,"Reste  payer:"," ",t.createElement("span",{className:"font-semibold text-gray-700"},Bt(tt)," FCFA")),t.createElement("div",null,"Nom du payeur: ",q.paymentName||"Non renseign"),t.createElement("div",null,"Transaction: ",q.paymentTransactionCode||"Non renseign"))),t.createElement("td",{className:"px-3 py-3 text-xs text-gray-600"},q.deliveryCode&&t.createElement("div",{className:"mb-2 p-2 rounded-lg border border-indigo-200 bg-indigo-50"},t.createElement("div",{className:"flex items-center gap-1 mb-1"},t.createElement(Ca,{size:12,className:"text-indigo-600"}),t.createElement("span",{className:"font-semibold text-indigo-700"},"Code:")),t.createElement("span",{className:"text-lg font-black text-indigo-900 tracking-wider font-mono"},q.deliveryCode)),t.createElement("div",null,q.deliveryAddress),t.createElement("div",{className:"text-gray-500"},q.deliveryCity),q.trackingNote&&t.createElement("div",{className:"mt-1 italic text-gray-500"},q.trackingNote)),t.createElement("td",{className:"px-3 py-3"},t.createElement("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${Jf[q.status]||Jf.pending}`},ii[q.status]||"Inconnu")),t.createElement("td",{className:"px-3 py-3 space-y-2"},t.createElement("select",{value:q.status,onChange:He=>Ve(q._id,{status:He.target.value}),className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Object.keys(ii).map(He=>t.createElement("option",{key:He,value:He},ii[He]))),t.createElement("div",{className:"rounded-lg border border-gray-100 bg-gray-50 px-2 py-2"},t.createElement("div",{className:"text-[11px] uppercase tracking-wide text-gray-500"},"Livreur"),t.createElement("div",{className:"text-xs text-gray-700"},q.deliveryGuy?.name||"Non assign"),t.createElement("button",{type:"button",onClick:()=>zt(q),className:"mt-1 text-[11px] font-semibold text-indigo-600 hover:underline"},"Assigner un livreur")),t.createElement("textarea",{className:"w-full rounded-lg border border-gray-200 px-2 py-1 text-xs text-gray-600 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:2,value:q.trackingNote||"",onChange:He=>Ve(q._id,{trackingNote:He.target.value})}),t.createElement("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50 p-2"},t.createElement(Xc,{order:q,buttonText:"Contacte l'acheteur",unreadCount:oe[q._id]||0})),q.status==="confirmed"&&t.createElement("button",{type:"button",onClick:()=>ot(q),className:"inline-flex w-full items-center justify-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-[11px] font-semibold text-indigo-700 hover:bg-indigo-100"},t.createElement(ea,{size:12}),"Bon de commande (PDF)"),q.status==="cancelled"&&t.createElement("div",{className:"rounded-lg border border-red-200 bg-red-50 p-2 space-y-1"},t.createElement("div",{className:"flex items-center gap-1"},t.createElement(_t,{className:"w-3 h-3 text-red-600"}),t.createElement("p",{className:"text-[11px] font-bold text-red-800"},"Annule")),q.cancellationReason&&t.createElement("p",{className:"text-[10px] text-red-700"},"Raison: ",q.cancellationReason),q.cancelledAt&&t.createElement("p",{className:"text-[10px] text-red-600"},"Le ",new Date(q.cancelledAt).toLocaleDateString("fr-FR"))),t.createElement("div",{className:"text-xs text-indigo-600 space-y-1"},ue.map(He=>He.product?t.createElement(be,{key:`${q._id}-${He.product}-${He.snapshot?.title}-link`,to:or(He.product),...r,className:"block hover:text-indigo-500"},"Voir ",He.snapshot?.title||"Produit",""):t.createElement("span",{key:`${q._id}-${He.snapshot?.title}-text`,className:"block text-gray-500"},He.snapshot?.title||"Produit indisponible")))))})))),t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-t border-gray-100 pt-4"},t.createElement("p",{className:"text-sm text-gray-500"},"Page ",S," sur ",P.totalPages,"  ",P.total," commande",P.total>1?"s":""),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>k(q=>Math.max(1,q-1)),disabled:S<=1,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>k(q=>Math.min(P.totalPages,q+1)),disabled:S>=P.totalPages,className:"px-4 py-2 rounded-xl border text-sm font-semibold text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Suivant"))))))}function eie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(!1),[u,m]=h.useState({name:"",phone:"",active:!0}),[p,f]=h.useState(null),[y,b]=h.useState(""),[E,w]=h.useState(""),[x,N]=h.useState(1),[S,k]=h.useState({total:0,totalPages:1}),P=e.reduce((D,j)=>{D.total+=1,j.active&&(D.active+=1);const L=j.stats||{};return D.assigned+=Number(L.totalAssigned||0),D.delivering+=Number(L.delivering||0),D.delivered+=Number(L.delivered||0),D},{total:0,active:0,assigned:0,delivering:0,delivered:0});P.inactive=Math.max(0,P.total-P.active);const C=async()=>{n(!0),i("");try{const D=new URLSearchParams;D.set("page",x),D.set("limit",12),E&&D.set("search",E);const{data:j}=await ie.get(`/admin/delivery-guys?${D.toString()}`),L=Array.isArray(j)?j:j?.items||[];r(L),k({total:j?.total??L.length,totalPages:j?.totalPages??1}),j?.page&&j.page!==x&&N(j.page)}catch(D){i(D.response?.data?.message||"Impossible de charger les livreurs."),k({total:0,totalPages:1})}finally{n(!1)}};h.useEffect(()=>{C()},[x,E]),h.useEffect(()=>{const D=setTimeout(()=>{w(y.trim())},300);return()=>clearTimeout(D)},[y]),h.useEffect(()=>{N(1)},[E]);const _=()=>{m({name:"",phone:"",active:!0}),f(null)},O=async D=>{if(D.preventDefault(),!!u.name.trim()){d(!0),i("");try{p?await ie.patch(`/admin/delivery-guys/${p}`,{name:u.name.trim(),phone:u.phone.trim(),active:u.active}):await ie.post("/admin/delivery-guys",{name:u.name.trim(),phone:u.phone.trim(),active:u.active}),await C(),_()}catch(j){i(j.response?.data?.message||"Impossible d'enregistrer le livreur.")}finally{d(!1)}}},T=D=>{f(D._id),m({name:D.name||"",phone:D.phone||"",active:!!D.active})},R=async D=>{if(D){d(!0),i("");try{await ie.delete(`/admin/delivery-guys/${D}`),await C(),p===D&&_()}catch(j){i(j.response?.data?.message||"Impossible de supprimer le livreur.")}finally{d(!1)}}};return t.createElement("div",{className:"max-w-5xl mx-auto p-6 space-y-6"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"w-12 h-12 rounded-2xl bg-indigo-100 flex items-center justify-center text-indigo-600"},t.createElement(xr,{size:22})),t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-semibold text-gray-900"},"Gestion des livreurs"),t.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez, modifiez et activez les livreurs disponibles."))),s&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},s),t.createElement("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs font-semibold uppercase text-gray-400"},"Livreurs"),t.createElement("p",{className:"mt-2 text-2xl font-semibold text-gray-900"},P.total),t.createElement("p",{className:"text-xs text-gray-500"},"Total enregistrs")),t.createElement("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/40 p-4"},t.createElement("p",{className:"text-xs font-semibold uppercase text-emerald-500"},"Actifs"),t.createElement("p",{className:"mt-2 text-2xl font-semibold text-emerald-800"},P.active),t.createElement("p",{className:"text-xs text-emerald-700"},P.inactive," inactif(s)")),t.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/40 p-4"},t.createElement("p",{className:"text-xs font-semibold uppercase text-indigo-500"},"Commandes assignes"),t.createElement("p",{className:"mt-2 text-2xl font-semibold text-indigo-800"},P.assigned),t.createElement("p",{className:"text-xs text-indigo-700"},"Toutes priodes")),t.createElement("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/40 p-4"},t.createElement("p",{className:"text-xs font-semibold uppercase text-amber-500"},"En livraison"),t.createElement("p",{className:"mt-2 text-2xl font-semibold text-amber-800"},P.delivering),t.createElement("p",{className:"text-xs text-amber-700"},P.delivered," livre(s)"))),t.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},t.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},p?"Modifier un livreur":"Ajouter un livreur"),t.createElement("form",{className:"mt-4 grid gap-4 md:grid-cols-[1.2fr_1fr_auto]",onSubmit:O},t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Nom"),t.createElement("input",{type:"text",value:u.name,onChange:D=>m(j=>({...j,name:D.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ex: Jean K."})),t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Tlphone"),t.createElement("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2 text-sm focus-within:ring-2 focus-within:ring-indigo-500"},t.createElement(hi,{size:14,className:"text-gray-400"}),t.createElement("input",{type:"text",value:u.phone,onChange:D=>m(j=>({...j,phone:D.target.value})),className:"w-full border-none p-0 text-sm focus:outline-none",placeholder:"06 000 00 00"}))),t.createElement("div",{className:"flex flex-col justify-end gap-2"},t.createElement("label",{className:"flex items-center gap-2 text-sm text-gray-600"},t.createElement("input",{type:"checkbox",checked:u.active,onChange:D=>m(j=>({...j,active:D.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Actif"),t.createElement("button",{type:"submit",disabled:o||!u.name.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50"},p?t.createElement(bm,{size:16}):t.createElement(al,{size:16}),p?"Mettre  jour":"Ajouter")))),t.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-5 shadow-sm"},t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},t.createElement("h2",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Livreurs"),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"relative"},t.createElement(zr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),t.createElement("input",{type:"search",value:y,onChange:D=>b(D.target.value),className:"w-56 rounded-xl border border-gray-200 py-2 pl-9 pr-3 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un livreur"})),t.createElement("span",{className:"text-xs text-gray-400"},S.total," enregistr(s)"))),a?t.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement des livreurs"):e.length===0?t.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun livreur enregistr pour le moment."):t.createElement("div",{className:"mt-4 divide-y divide-gray-100"},e.map(D=>t.createElement("div",{key:D._id,className:"flex flex-wrap items-center justify-between gap-3 py-3"},t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},D.name),t.createElement("p",{className:"text-xs text-gray-500"},D.phone||"Tlphone non renseign"),t.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-gray-500"},t.createElement("span",{className:"rounded-full bg-gray-100 px-2 py-0.5"},"Assignes: ",D.stats?.totalAssigned||0),t.createElement("span",{className:"rounded-full bg-blue-100/70 px-2 py-0.5 text-blue-700"},"En cours: ",D.stats?.delivering||0),t.createElement("span",{className:"rounded-full bg-emerald-100/70 px-2 py-0.5 text-emerald-700"},"Livres: ",D.stats?.delivered||0))),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${D.active?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`},D.active?"Actif":"Inactif"),t.createElement("button",{type:"button",onClick:()=>T(D),className:"inline-flex items-center gap-1 rounded-lg border border-gray-200 px-2 py-1 text-xs font-semibold text-gray-700 hover:bg-gray-50"},t.createElement(Cu,{size:14}),"Modifier"),t.createElement("button",{type:"button",onClick:()=>R(D._id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-2 py-1 text-xs font-semibold text-red-600 hover:bg-red-50"},t.createElement(fo,{size:14}),"Supprimer"))))),S.totalPages>1&&t.createElement("div",{className:"mt-4 flex flex-col gap-3 border-t border-gray-100 pt-4 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",null,"Page ",x," sur ",S.totalPages,"  ",S.total," livreur",S.total>1?"s":""),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>N(D=>Math.max(1,D-1)),disabled:x<=1,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>N(D=>Math.min(S.totalPages,D+1)),disabled:x>=S.totalPages,className:"rounded-full border border-gray-300 px-3 py-1 font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))))}const tie=12;function rie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(1),[u,m]=h.useState(1),p=async()=>{n(!0),i("");try{const{data:f}=await ie.get("/products/public",{params:{sort:"discount",limit:tie,page:o}}),b=(Array.isArray(f?.items)?f.items:Array.isArray(f)?f:[]).filter(E=>Number(E.discount)>0);r(b),m(f?.pagination?.pages||1)}catch(f){i(f.response?.data?.message||f.message||"Impossible de charger les bonnes affaires.")}finally{n(!1)}};return h.useEffect(()=>{p()},[o]),t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Bonnes affaires"),t.createElement("p",{className:"text-sm text-gray-500"},"Dcouvrez les produits au prix le plus bas actuellement approuvs sur la plateforme.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((f,y)=>t.createElement("div",{key:y,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(f=>t.createElement(Aa,{key:f._id,p:f}))),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},t.createElement("span",null,"Page ",o," / ",u),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>d(f=>Math.max(1,f-1)),disabled:o<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>d(f=>Math.min(u,f+1)),disabled:o>=u,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):t.createElement("p",{className:"text-sm text-gray-500"},"Aucune bonne affaire disponible pour le moment. Revenez plus tard !"))}const aie=60,tu=12;function nie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(1),[u,m]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);h.useEffect(()=>{let b=!0;const E=new AbortController;return(async()=>{n(!0),i("");try{const{data:x}=await ie.get("/products/public/highlights",{params:{limit:aie},signal:E.signal});if(!b)return;const N=Array.isArray(x?.topRated)?x.topRated:[];r(N)}catch(x){if(E.signal.aborted)return;i(x.response?.data?.message||x.message||"Impossible de charger les produits mieux nots.")}finally{b&&n(!1)}})(),()=>{b=!1,E.abort()}},[]),h.useEffect(()=>{const b=()=>{typeof window>"u"||m(window.innerWidth<=767)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),h.useEffect(()=>{d(1)},[e.length]),h.useEffect(()=>{if(!u||o>=Math.max(1,Math.ceil(e.length/tu)))return;const b=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&d(w=>Math.min(w+1,Math.max(1,Math.ceil(e.length/tu))))};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[u,e.length,o]);const p=Math.max(1,Math.ceil(e.length/tu));h.useEffect(()=>{o>p&&d(p)},[o,p]);const f=h.useMemo(()=>{const b=o*tu;return e.slice(0,b)},[e,o]),y=()=>{if(u||e.length<=tu)return null;const b=Math.min(5,p),E=Math.floor(b/2);let w=Math.max(1,o-E),x=Math.min(p,w+b-1);w=Math.max(1,x-b+1);const N=Array.from({length:x-w+1},(S,k)=>w+k);return t.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},t.createElement("button",{onClick:()=>d(S=>Math.max(1,S-1)),disabled:o<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),w>1&&t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>d(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),w>2&&t.createElement("span",{className:"px-1 text-gray-500"},"...")),N.map(S=>t.createElement("button",{key:S,onClick:()=>d(S),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===S?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},S)),x<p&&t.createElement(t.Fragment,null,x<p-1&&t.createElement("span",{className:"px-1 text-gray-500"},"..."),t.createElement("button",{onClick:()=>d(p),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===p?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},p)),t.createElement("button",{onClick:()=>d(S=>Math.min(p,S+1)),disabled:o>=p,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Top des valuations"),t.createElement("p",{className:"text-sm text-gray-500"},"Les produits les mieux nots par la communaut, classs par moyenne des avis.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((b,E)=>t.createElement("div",{key:E,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},f.map(b=>t.createElement(Aa,{key:b._id,p:b}))),y()):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit n'a encore reu d'valuations suffisantes. Revenez un peu plus tard !"))}const sie=60,ru=12;function iie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(1),[u,m]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);h.useEffect(()=>{let b=!0;const E=new AbortController;return(async()=>{n(!0),i("");try{const{data:x}=await ie.get("/products/public/highlights",{params:{limit:sie},signal:E.signal});if(!b)return;const N=Array.isArray(x?.favorites)?x.favorites:[];r(N)}catch(x){if(E.signal.aborted)return;i(x.response?.data?.message||x.message||"Impossible de charger les produits favoris.")}finally{b&&n(!1)}})(),()=>{b=!1,E.abort()}},[]),h.useEffect(()=>{d(1)},[e.length]),h.useEffect(()=>{if(!u||o>=Math.max(1,Math.ceil(e.length/ru)))return;const b=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&d(w=>Math.min(w+1,Math.max(1,Math.ceil(e.length/ru))))};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[u,e.length,o]),h.useEffect(()=>{const b=()=>{typeof window>"u"||m(window.innerWidth<=767)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const p=Math.max(1,Math.ceil(e.length/ru));h.useEffect(()=>{o>p&&d(p)},[o,p]);const f=h.useMemo(()=>{const b=o*ru;return e.slice(0,b)},[e,o]),y=()=>{if(u||e.length<=ru)return null;const b=Math.min(5,p),E=Math.floor(b/2);let w=Math.max(1,o-E),x=Math.min(p,w+b-1);w=Math.max(1,x-b+1);const N=Array.from({length:x-w+1},(S,k)=>w+k);return t.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 pb-[88px] md:pb-0"},t.createElement("button",{onClick:()=>d(S=>Math.max(1,S-1)),disabled:o<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),w>1&&t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>d(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),w>2&&t.createElement("span",{className:"px-1 text-gray-500"},"...")),N.map(S=>t.createElement("button",{key:S,onClick:()=>d(S),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===S?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},S)),x<p&&t.createElement(t.Fragment,null,x<p-1&&t.createElement("span",{className:"px-1 text-gray-500"},"..."),t.createElement("button",{onClick:()=>d(p),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${o===p?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},p)),t.createElement("button",{onClick:()=>d(S=>Math.min(p,S+1)),disabled:o>=p,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8 pb-12 md:pb-16"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Favoris de la communaut"),t.createElement("p",{className:"text-sm text-gray-500"},"Les annonces les plus sauvegardes par les acheteurs sur HDMarket.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((b,E)=>t.createElement("div",{key:E,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},f.map(b=>t.createElement(Aa,{key:b._id,p:b}))),y()):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun favori pour le moment. Ajoutez des produits  vos favoris pour les voir ici !"))}const oie=12;function lie(){const e=Kr(),[r,a]=h.useState([]),[n,s]=h.useState(!1),[i,o]=h.useState(""),[d,u]=h.useState(1),[m,p]=h.useState(1),[f,y]=Jc(),b=Number(f.get("page"));h.useEffect(()=>{Number.isInteger(b)&&b>0&&u(b)},[b]);const E=async()=>{s(!0),o("");try{const{data:w}=await ie.get("/products/public/top-sales",{params:{limit:oie,page:d}}),x=Array.isArray(w?.items)?w.items:Array.isArray(w)?w:[];a(x),p(w?.pagination?.pages||1)}catch(w){o(w.response?.data?.message||w.message||"Impossible de charger les produits les plus vendus.")}finally{s(!1)}};return h.useEffect(()=>{E()},[d]),h.useEffect(()=>{y(w=>{const x=new URLSearchParams(w);return d===1?x.delete("page"):x.set("page",String(d)),x},{replace:!0})},[d,y]),t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("main",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6"},t.createElement("header",{className:"bg-gradient-to-br from-orange-50 via-white to-red-50 dark:from-gray-900 dark:via-gray-800 dark:to-orange-950/20 rounded-3xl p-4 sm:p-6 lg:p-8 border border-gray-200/60 dark:border-gray-700/50 shadow-lg"},t.createElement("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour"),t.createElement("div",{className:"flex items-center gap-3 sm:gap-4 mb-4"},t.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(rr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})),t.createElement("div",null,t.createElement("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-black text-gray-900 dark:text-white"},"Produits les plus vendus"),t.createElement("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1"},"Les best-sellers de HDMarket bass sur les ventes relles")))),n?t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},Array.from({length:6}).map((w,x)=>t.createElement("div",{key:x,className:"animate-pulse bg-white rounded-xl border border-gray-200 h-96"}))):i?t.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 sm:p-6 text-center"},t.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},t.createElement(Es,{className:"w-6 h-6 text-red-600"})),t.createElement("p",{className:"text-sm sm:text-base text-red-700 font-semibold"},i)):r.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4"},r.map((w,x)=>t.createElement("div",{key:w._id,className:"relative"},x<3&&t.createElement("div",{className:"absolute -top-2 -left-2 z-30"},t.createElement("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-lg ${x===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":x===1?"bg-gradient-to-br from-gray-300 to-gray-500":"bg-gradient-to-br from-amber-600 to-amber-800"}`},t.createElement(Es,{className:"w-6 h-6 text-white"})),t.createElement("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center"},t.createElement("span",{className:"text-xs font-black text-gray-900"},"#",x+1))),t.createElement(Aa,{p:w,productLink:or(w)})))),m>1&&t.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8"},t.createElement("button",{onClick:()=>u(w=>Math.max(1,w-1)),disabled:d<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),Array.from({length:Math.min(5,m)},(w,x)=>{const N=x+1;return t.createElement("button",{key:N,onClick:()=>u(N),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${d===N?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},N)}),m>5&&t.createElement("span",{className:"px-2 text-gray-500"},"..."),t.createElement("button",{onClick:()=>u(w=>Math.min(m,w+1)),disabled:d>=m,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))):t.createElement("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-200"},t.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},t.createElement(rn,{className:"w-8 h-8 text-gray-400"})),t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Aucun produit vendu"),t.createElement("p",{className:"text-gray-600 text-sm"},"Les produits les plus vendus apparatront ici une fois que des commandes seront confirmes."))))}const cie=12;function die(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(1),[u,m]=h.useState(1),p=async()=>{n(!0),i("");try{const{data:f}=await ie.get("/products/public",{params:{sort:"discount",limit:cie,page:o}}),b=(Array.isArray(f?.items)?f.items:Array.isArray(f)?f:[]).filter(E=>Number(E.discount)>0);r(b),m(f?.pagination?.pages||1)}catch(f){i(f.response?.data?.message||f.message||"Impossible de charger les produits en promotion.")}finally{n(!1)}};return h.useEffect(()=>{p()},[o]),t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Promotions"),t.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez ici les annonces bnficiant des plus fortes rductions actuellement actives.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((f,y)=>t.createElement("div",{key:y,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(f=>t.createElement(Aa,{key:f._id,p:f}))),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},t.createElement("span",null,"Page ",o," / ",u),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>d(f=>Math.max(1,f-1)),disabled:o<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>d(f=>Math.min(u,f+1)),disabled:o>=u,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):t.createElement("p",{className:"text-sm text-gray-500"},"Aucune promotion n'est active pour le moment. Revenez prochainement pour profiter de nouvelles offres."))}const uie=60;function mie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState("");return h.useEffect(()=>{let o=!0;const d=new AbortController;return(async()=>{n(!0),i("");try{const{data:m}=await ie.get("/products/public/highlights",{params:{limit:uie},signal:d.signal});if(!o)return;const p=Array.isArray(m?.newProducts)?m.newProducts:[];r(p)}catch(m){if(d.signal.aborted)return;i(m.response?.data?.message||m.message||"Impossible de charger les produits neufs.")}finally{o&&n(!1)}})(),()=>{o=!1,d.abort()}},[]),t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits Neufs"),t.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les nouveauts rcemment ajoutes sur HDMarket.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((o,d)=>t.createElement("div",{key:d,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(o=>t.createElement(Aa,{key:o._id,p:o}))):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit neuf n'est disponible pour le moment. Revenez bientt pour dcouvrir les nouveauts."))}const fie=60;function pie(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState("");return h.useEffect(()=>{let o=!0;const d=new AbortController;return(async()=>{n(!0),i("");try{const{data:m}=await ie.get("/products/public/highlights",{params:{limit:fie},signal:d.signal});if(!o)return;const p=Array.isArray(m?.usedProducts)?m.usedProducts:[];r(p)}catch(m){if(d.signal.aborted)return;i(m.response?.data?.message||m.message||"Impossible de charger les produits d'occasion.")}finally{o&&n(!1)}})(),()=>{o=!1,d.abort()}},[]),t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 space-y-8"},t.createElement("header",{className:"space-y-2"},t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},"Produits d'occasion"),t.createElement("p",{className:"text-sm text-gray-500"},"Les meilleures affaires d'occasion slectionnes pour vous.")),s&&t.createElement("p",{className:"text-sm text-red-600"},s),a?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Array.from({length:8}).map((o,d)=>t.createElement("div",{key:d,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):e.length?t.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},e.map(o=>t.createElement(Aa,{key:o._id,p:o}))):t.createElement("p",{className:"text-sm text-gray-500"},"Pas encore d'annonces d'occasion disponibles. Revenez plus tard pour dnicher la bonne affaire."))}const gie=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}];function hie(){const{categoryId:e}=go(),r=h.useMemo(()=>dN(e),[e]),a=r?.group??null,[n,s]=Jc(),i=Number(n.get("page")),o=h.useRef(Number.isInteger(i)&&i>0?i:1),[d,u]=h.useState([]),[m,p]=h.useState(!1),[f,y]=h.useState(""),[b,E]=h.useState("new"),[w,x]=h.useState(o.current),[N,S]=h.useState(1),[k,P]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767);h.useEffect(()=>{o.current=1,x(1)},[e]),h.useEffect(()=>{o.current=1,x(1)},[b]),h.useEffect(()=>{if(w===o.current){s(_=>{const O=new URLSearchParams(_);return w===1?O.delete("page"):O.set("page",String(w)),O},{replace:!0});return}s(_=>{const O=new URLSearchParams(_);return w===1?O.delete("page"):O.set("page",String(w)),O},{replace:!1})},[w,s]),h.useEffect(()=>{const _=()=>{typeof window>"u"||P(window.innerWidth<=767)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),h.useEffect(()=>{if(!r){u([]),S(1);return}let _=!0;const O=new AbortController;return(async()=>{p(!0),y("");try{const{data:R}=await ie.get("/products/public",{params:{category:r.value,sort:b,page:w,limit:12},signal:O.signal});if(!_)return;const D=Array.isArray(R)?R:R?.items??[],j=Array.isArray(R)?{pages:1}:R?.pagination??{};u(L=>k&&w>1?[...L,...D]:D),S(Math.max(1,Number(j.pages)||1))}catch(R){if(O.signal.aborted)return;y(R.response?.data?.message||R.message||"Impossible de charger les produits de cette catgorie.")}finally{_&&p(!1)}})(),()=>{_=!1,O.abort()}},[r,b,w,k]),h.useEffect(()=>{u([]),S(1)},[r,b]),h.useEffect(()=>{if(!k||m||w>=N)return;const _=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&x(T=>Math.min(T+1,N))};return window.addEventListener("scroll",_,{passive:!0}),()=>window.removeEventListener("scroll",_)},[k,m,w,N]);const C=()=>{if(N<=1)return null;const _=Math.min(5,N),O=[];for(let T=1;T<=_;T+=1)O.push(t.createElement("button",{key:T,onClick:()=>x(T),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${w===T?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},T));return k?null:t.createElement("div",{className:"flex items-center justify-center gap-2 pt-6 pb-[88px] md:pb-0"},t.createElement("button",{onClick:()=>x(T=>Math.max(1,T-1)),disabled:w<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),O,t.createElement("button",{onClick:()=>x(T=>Math.min(N,T+1)),disabled:w>=N,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""))};return r?t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-6 space-y-6 sm:py-8 sm:space-y-8 pb-24 md:pb-16"},t.createElement("header",{className:"space-y-4"},t.createElement("nav",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(be,{to:"/",className:"hover:text-indigo-600 font-medium"},"Accueil"),t.createElement(Rr,{className:"w-3 h-3"}),a?t.createElement(t.Fragment,null,t.createElement("span",null,a.label),t.createElement(Rr,{className:"w-3 h-3"})):null,t.createElement("span",{className:"text-gray-900 font-semibold"},r.label)),t.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},t.createElement("div",null,t.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900"},r.label),t.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Produits approuvs rcemment ajouts dans cette sous-catgorie.")),t.createElement("div",{className:"w-full md:w-auto flex items-center gap-3"},t.createElement("label",{htmlFor:"category-sort",className:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"Trier"),t.createElement("select",{id:"category-sort",value:b,onChange:_=>E(_.target.value),className:"flex-1 md:flex-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},gie.map(_=>t.createElement("option",{key:_.value,value:_.value},_.label))))),a&&t.createElement("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1"},a.options.map(_=>{const O=_.value===r.value;return t.createElement(be,{key:_.value,to:`/categories/${_.value}`,className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium transition-colors ${O?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 bg-white text-gray-600 hover:border-indigo-200 hover:text-indigo-600"}`},_.label,O?null:t.createElement(Rr,{className:"w-3 h-3"}))}))),f&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},f),m?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},Array.from({length:8}).map((_,O)=>t.createElement("div",{key:O,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-3 space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):d.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5"},d.map(_=>t.createElement(Aa,{key:_._id,p:_}))),C()):t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit disponible dans cette catgorie pour le moment. Revenez plus tard ou explorez dautres sous-catgories.")):t.createElement("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 md:px-8 py-8 space-y-8"},t.createElement("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm"},t.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Catgorie introuvable"),t.createElement("p",{className:"text-sm text-gray-600"},"Cette catgorie nexiste pas ou nest plus disponible. Parcourez nos catgories populaires ci-dessous."),t.createElement("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Vs.map(_=>t.createElement("div",{key:_.id,className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm"},t.createElement("h3",{className:"text-sm font-semibold text-gray-900 mb-3"},_.label),t.createElement("div",{className:"flex flex-wrap gap-2"},_.options.map(O=>t.createElement(be,{key:O.value,to:`/categories/${O.value}`,className:"inline-flex items-center gap-1 rounded-full border border-indigo-100 bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600 hover:bg-indigo-100 transition-colors"},O.label,t.createElement(Rr,{className:"w-3 h-3"}))))))),t.createElement("div",{className:"mt-6"},t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour  laccueil"))))}const yie=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}],bie=12;function xie(){const[e,r]=Jc(),a=(e.get("category")||"").trim(),[n,s]=h.useState([]),[i,o]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState("new"),f=Number(e.get("page")),y=h.useRef(Number.isInteger(f)&&f>0?f:1),[b,E]=h.useState(y.current),[w,x]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),[N,S]=h.useState(1),[k,P]=h.useState(""),[C,_]=h.useState(""),[O,T]=h.useState(a);h.useEffect(()=>{T(a)},[a]);const R=h.useCallback(async()=>{o(!0),u("");try{const $={sort:m,page:b,limit:bie};C&&($.q=C),O&&($.category=O);const{data:J}=await ie.get("/products/public",{params:$}),Q=Array.isArray(J)?J:J?.items||[],X=Array.isArray(J)?{pages:1}:J?.pagination||{};s(H=>w&&b>1?[...H,...Q]:Q),S(Math.max(1,Number(X.pages)||1))}catch($){u($.response?.data?.message||$.message||"Impossible de charger les produits.")}finally{o(!1)}},[b,m,C,O]);h.useEffect(()=>{y.current=1,E(1),s([]),S(1)},[m,C,O]),h.useEffect(()=>{if(!w||i||b>=N)return;const $=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&E(Q=>Math.min(Q+1,N))};return window.addEventListener("scroll",$,{passive:!0}),()=>window.removeEventListener("scroll",$)},[w,i,b,N]),h.useEffect(()=>{const $=()=>{typeof window>"u"||x(window.innerWidth<=767)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),h.useEffect(()=>{b===y.current?r($=>{const J=new URLSearchParams($);return b===1?J.delete("page"):J.set("page",String(b)),J},{replace:!0}):r($=>{const J=new URLSearchParams($);return b===1?J.delete("page"):J.set("page",String(b)),J},{replace:!1})},[b,r]),h.useEffect(()=>{R()},[R]);const D=$=>{$.preventDefault(),_(k.trim())},j=()=>{P(""),_("")},L=h.useMemo(()=>{const $=[],J=Math.min(5,N);for(let Q=1;Q<=J;Q+=1)$.push(t.createElement("button",{key:Q,type:"button",onClick:()=>E(Q),className:`flex h-10 w-10 items-center justify-center rounded-lg border text-sm transition-colors ${b===Q?"border-indigo-600 bg-indigo-600 text-white":"border-gray-200 hover:bg-gray-50"}`},Q));return $},[b,N]),K=h.useMemo(()=>dN(O),[O]),W=h.useCallback(()=>{T("");const $=new URLSearchParams(e);$.delete("category"),r($,{replace:!0})},[e,r]);return t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8 space-y-4 sm:space-y-6"},t.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4"},t.createElement("div",{className:"flex-1"},t.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900"},"Tous les produits"),t.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Parcourez les annonces disponibles sur HDMarket et dcouvrez les nouveauts.")),t.createElement(be,{to:"/search",className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2.5 text-sm font-semibold text-indigo-700 hover:bg-indigo-100 transition-colors"},t.createElement(jp,{className:"w-4 h-4"}),"Recherche avance"),t.createElement("form",{onSubmit:D,className:"w-full md:w-auto flex flex-col sm:flex-row gap-2 sm:items-center"},t.createElement("div",{className:"relative flex-1 sm:min-w-[280px]"},t.createElement("input",{type:"search",value:k,onChange:$=>P($.target.value),placeholder:"Rechercher un produit...",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-base sm:text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700"},"Rechercher"),C&&t.createElement("button",{type:"button",onClick:j,className:"rounded-xl border border-gray-200 px-4 py-2.5 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-100"},"Effacer")))),t.createElement("section",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 sm:gap-3"},t.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-500 flex-wrap"},t.createElement("span",null,n.length," rsultat",n.length>1?"s":""," affich",n.length>1?"s":""),C&&t.createElement("span",{className:"rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700"},"Filtre:",C),O&&t.createElement("button",{type:"button",onClick:W,className:"inline-flex items-center gap-2 rounded-full bg-purple-100 px-3 py-1 text-xs font-semibold text-purple-700 hover:bg-purple-200 transition-colors"},"Catgorie:",K?.label||O,t.createElement("span",{"aria-hidden":"true"},""))),t.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2"},t.createElement("label",{htmlFor:"sort-options",className:"text-xs sm:text-sm text-gray-600"},"Trier par"),t.createElement("select",{id:"sort-options",value:m,onChange:$=>p($.target.value),className:"rounded-lg sm:rounded-xl border border-gray-200 bg-white px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},yie.map($=>t.createElement("option",{key:$.value,value:$.value},$.label))))),d&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d),i?t.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map(($,J)=>t.createElement("div",{key:J,className:"rounded-xl border border-gray-200 bg-white p-2 sm:p-4 shadow-sm"},t.createElement("div",{className:"mb-2 sm:mb-3 aspect-square rounded-lg bg-gray-100 animate-pulse"}),t.createElement("div",{className:"space-y-1.5 sm:space-y-2"},t.createElement("div",{className:"h-3 sm:h-4 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 sm:h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 sm:h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):n.length?t.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},n.map($=>t.createElement(Aa,{key:$._id,p:$,onProductClick:xm}))):t.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucun produit ne correspond  votre recherche pour le moment."),N>1&&t.createElement("div",{className:"flex items-center justify-center gap-2 pt-4"},t.createElement("button",{type:"button",onClick:()=>E($=>Math.max(1,$-1)),disabled:b<=1,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},""),L,t.createElement("button",{type:"button",onClick:()=>E($=>Math.min(N,$+1)),disabled:b>=N,className:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 text-sm hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40"},"")),t.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},t.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'une catgorie spcifique?"),t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retour  la page d'accueil")))))}const RE=["Brazzaville","Pointe-Noire","Ouesso","Oyo"];function vie(){const e=Kr(),[r,a]=Jc(),[n,s]=h.useState([]),[i,o]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState({}),f=h.useRef(new Map),y=Tn(),[b,E]=h.useState(()=>{const x=r.get("city");return RE.includes(x)?x:RE[0]});h.useEffect(()=>{const x=new AbortController;return(async()=>{try{const{data:S}=await ie.get("/products/public/highlights",{params:{limit:12},signal:x.signal});S?.cityHighlights&&typeof S.cityHighlights=="object"&&p(S.cityHighlights)}catch{}})(),()=>x.abort()},[]),h.useEffect(()=>{if(!b)return;const x=f.current.get(b);if(x&&(s(x.items),u(x.error||""),o(!1),x.nextRetry&&Date.now()<x.nextRetry))return;const N=new AbortController;return(async()=>{o(!0),u("");try{const{data:k}=await ie.get("/products/public",{params:{city:b},signal:N.signal}),P=Array.isArray(k)?k:k?.items||[];if(P.length)s(P),f.current.set(b,{items:P,error:"",nextRetry:0});else if(m[b]){const C=m[b];s(C),f.current.set(b,{items:C,error:"",nextRetry:0})}else s([]),f.current.set(b,{items:[],error:"",nextRetry:0})}catch(k){if(N.signal.aborted)return;const P=k.response?.data?.message||k.message||"Impossible de charger les produits.";u(P);const C=f.current.get(b)?.items||m[b]||[];C.length&&s(C),f.current.set(b,{items:C,error:P,nextRetry:Date.now()+60*1e3})}finally{o(!1)}})(),()=>N.abort()},[b,m]),h.useEffect(()=>{if(!n.length&&m[b]?.length){const x=m[b];s(x),f.current.set(b,{items:x,error:"",nextRetry:0})}},[m,b,n.length]),h.useEffect(()=>{b&&a({city:b})},[b,a]);const w=h.useMemo(()=>b?`Produits disponibles  ${b}`:"Produits par ville",[b]);return t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8 space-y-4 sm:space-y-6"},t.createElement("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4"},t.createElement("div",null,t.createElement("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 mb-3 sm:mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour"),t.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900"},w),t.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Consultez les annonces publies depuis nos principales villes de la Rpublique du Congo.")),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("label",{htmlFor:"city-select",className:"text-sm text-gray-600"},"Choisir une ville"),t.createElement("select",{id:"city-select",value:b,onChange:x=>E(x.target.value),className:"rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"},RE.map(x=>t.createElement("option",{key:x,value:x},x))))),d&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},d),i?t.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},Array.from({length:6}).map((x,N)=>t.createElement("div",{key:N,className:"rounded-2xl border border-gray-200 bg-white p-2 sm:p-4 shadow-sm"},t.createElement("div",{className:"mb-2 sm:mb-3 aspect-square rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"space-y-1.5 sm:space-y-2"},t.createElement("div",{className:"h-3 sm:h-4 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 sm:h-4 w-2/3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 sm:h-4 w-1/3 rounded bg-gray-100 animate-pulse"}))))):n.length?t.createElement("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3"},n.map(x=>t.createElement(Aa,{key:x._id,p:x}))):t.createElement("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center text-sm text-gray-500"},"Aucune annonce disponible pour cette ville pour le moment."),t.createElement("section",{className:"rounded-xl border border-indigo-100 bg-white px-4 py-4 text-sm text-indigo-700 sm:px-6 sm:py-5"},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},t.createElement("p",{className:"font-semibold text-indigo-800"},"Besoin d'accder aux annonces d'une catgorie spcifique?"),t.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},t.createElement(be,{to:"/products",...y,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-semibold text-indigo-700 hover:bg-indigo-100"},"Parcourir tous les produits"),t.createElement(be,{to:"/#categories",className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-indigo-600 hover:bg-gray-50"},"Voir les catgories"))))))}function Nr({children:e,role:r,roles:a,allowAccess:n}){const s=hn(),{user:i}=h.useContext(fr);if(!i)return t.createElement(pc,{to:"/login",state:{from:s},replace:!0});if(n&&typeof n=="function")return n(i)?e:t.createElement(pc,{to:"/",replace:!0});const o=(Array.isArray(a)&&a.length?a:null)||(r?[r]:null);return o&&!o.includes(i.role)?t.createElement(pc,{to:"/",replace:!0}):e}function Eie(){const{slug:e}=go(),r=Kr(),a=h.useContext(fr),n=a?.user,s=a?.updateUser,{addItem:i,cart:o}=h.useContext(xl),{toggleFavorite:d,isFavorite:u}=h.useContext(ym),[m,p]=h.useState(null),[f,y]=h.useState(!0),[b,E]=h.useState(""),[w,x]=h.useState(!1),[N,S]=h.useState(""),[k,P]=h.useState(0),[C,_]=h.useState(0),[O,T]=h.useState(0),[R,D]=h.useState([]),[j,L]=h.useState([]),[K,W]=h.useState(!1),[$,J]=h.useState(!1),[Q,X]=h.useState("description"),[H,I]=h.useState([]),[B,G]=h.useState(""),[z,ae]=h.useState(0),[he,ve]=h.useState(0),[_e,ee]=h.useState(!1),[le,pe]=h.useState(!1),[Ne,oe]=h.useState(""),[re,Me]=h.useState(null),[ge,$e]=h.useState(""),[De,Ye]=h.useState(!1),[Je,bt]=h.useState(""),[Ze,nt]=h.useState(!1),[ct,vt]=h.useState(""),[Zt,pt]=h.useState(""),[ut,Lt]=h.useState(!1),[zt,nr]=h.useState(1),[Bt,xt]=h.useState(!1),we=vl(),ot=Tn(),ht=n?.role==="admin",Z=h.useCallback(()=>{typeof a?.logout=="function"&&a.logout(),r("/",{replace:!0})},[a,r]),xe=m?u(m._id):!1,fe=m&&n&&o?.items?.some(Oe=>Oe.product?._id===m._id),ye=m?cN(m,m?.user?.phone):"",Y=m?.user?.phone,U=Y&&n,de=m?.user?.accountType==="shop",Re=m?.user?.shopName,Ve=m?.user?.shopLogo,Qe=m?.user?.shopAddress,Pt=m?.user&&(m.user.slug||m.user._id)?{slug:m.user.slug,_id:m.user._id}:null,q=m?.user?.city||m?.city||"",ue=m?.user?.country||m?.country||"Rpublique du Congo",ke=m?.user&&n&&String(m.user._id||m.user.id)===String(n._id||n.id);h.useEffect(()=>{if(!n||!m?.user?._id){W(!1);return}const Le=(Array.isArray(n.followingShops)?n.followingShops:[]).some(Et=>String(Et)===String(m.user._id));W(Le)},[m?.user?._id,n?.followingShops,n]);const Pe=async()=>{if(m?.user?._id){if(!n){r("/login",{state:{from:`/product/${e}`}});return}if(!(!de||!Ia||ke)){J(!0);try{const Oe=K?await ie.delete(`/users/shops/${m.user._id}/follow`):await ie.post(`/users/shops/${m.user._id}/follow`);if(W(!K),typeof s=="function"){const Et=(Array.isArray(n.followingShops)?n.followingShops:[]).map(wr=>String(wr)),tr=K?Et.filter(wr=>wr!==String(m.user._id)):Array.from(new Set([...Et,String(m.user._id)]));s({followingShops:tr})}Oe?.data?.followersCount!==void 0&&p(Le=>Le&&{...Le,user:{...Le.user,followersCount:Oe.data.followersCount}})}catch(Oe){console.error("Erreur suivi boutique:",Oe)}finally{J(!1)}}}};h.useEffect(()=>{(async()=>{try{y(!0),E("");let Le;console.debug("Loading product",{slug:e});try{Le=(await ie.get(`/products/public/${e}`)).data}catch(Et){const tr=Et?.response?.status;if(tr===404&&n)try{Le=(await ie.get(`/products/${e}`)).data}catch(wr){if(wr?.response?.status===401){Z();return}throw wr}else{if(tr===401){Z();return}throw Et}}if(!Le)throw new Error("Produit non trouv");if(p(Le),_(Le.whatsappClicks||0),T(Le.favoritesCount||0),Le.status==="approved"?await Promise.all([ze(Le.slug||Le._id),He(Le._id)]):(I([]),ve(0),ae(0)),Le.category)try{const Et=await ie.get(`/products/public?category=${Le.category}&limit=4`),wr=(Array.isArray(Et.data?.items)?Et.data.items:[]).filter(Ta=>!(!Ta||Le?._id&&Ta._id&&Ta._id===Le._id||Le?.slug&&Ta.slug&&Ta.slug===Le.slug));D(wr.slice(0,4))}catch(Et){console.error("Erreur chargement produits similaires:",Et),D([])}}catch(Le){if(Le.response?.status===401){Z();return}E(Le.response?.data?.message||"Produit non trouv ou indisponible"),console.error("Erreur chargement produit:",Le)}finally{y(!1)}})()},[e]),h.useEffect(()=>{m?._id&&xm(m)},[m?._id,m?.category]),h.useEffect(()=>{window.scrollTo(0,0),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},0)},[e]),h.useEffect(()=>{if(!we||!m||!de){L([]);return}const Oe=m.user?.slug||m.user?._id;if(!Oe){L([]);return}let Le=!0;return(async()=>{try{const{data:tr}=await ie.get(`/shops/${Oe}`,{params:{limit:12}}),Ta=(Array.isArray(tr?.products)?tr.products:[]).filter(Xa=>!(!Xa||m?._id&&Xa._id&&Xa._id===m._id||m?.slug&&Xa.slug&&Xa.slug===m.slug));Le&&L(Ta)}catch{Le&&L([])}})(),()=>{Le=!1}},[we,de,m?._id,m?.slug,m?.user?._id,m?.user?.slug]),h.useEffect(()=>{vt(""),pt("")},[m?._id]);const ze=async Oe=>{const Le=Oe||e;try{const{data:Et}=await ie.get(`/products/public/${Le}/comments`);I(tt(Array.isArray(Et)?Et:[]));return}catch(Et){if(Et.response?.status===404){I([]);return}console.error("Erreur chargement commentaires:",Et),I([])}},tt=Oe=>{const Le=new Map,Et=[];return Oe.forEach(tr=>{const wr=String(tr._id);Le.set(wr,{...tr,replies:[]})}),Oe.forEach(tr=>{const wr=String(tr._id),Ta=Le.get(wr);if(!Ta)return;const Xa=typeof tr.parent=="string"?tr.parent:tr.parent&&tr.parent._id?String(tr.parent._id):null;if(Xa){const As=Le.get(Xa);if(As){As.replies.push(Ta);return}}Et.push(Ta)}),Et},He=async Oe=>{if(n)try{const Le=Oe;if(!Le)return;const{data:Et}=await ie.get(`/products/${Le}/rating`,{params:{productId:Le}});ve(Et?.value||0),ae(Et?.value||0)}catch(Le){console.error("Erreur chargement note utilisateur:",Le),ve(0),ae(0)}},jt=async()=>{if(!(!m||Ze)){vt(""),pt(""),nt(!0);try{const Oe=!m.certified,{data:Le}=await ie.patch(`/admin/products/${m._id}/certify`,{certified:Oe});p(Et=>Et&&{...Et,certified:Le.certified,certifiedBy:Le.certifiedBy,certifiedAt:Le.certifiedAt}),vt(Oe?"Produit certifi.":"Certification retire.")}catch(Oe){console.error("Erreur certification produit:",Oe),pt(Oe?.response?.data?.message||"Une erreur est survenue.")}finally{nt(!1)}}},Nt=async Oe=>{if(Oe.preventDefault(),!(!n||!B.trim())){ee(!0),oe("");try{const Le={productId:m?._id,message:B.trim()},Et=await ie.post(`/products/${e}/comments`,Le);G(""),await ze(m?.slug||m?._id)}catch(Le){if(Le.response?.status===401){Z();return}console.error("Erreur soumission commentaire:",Le),Le.response?oe(Le.response.data?.message||`Erreur ${Le.response.status}`):Le.request?oe("Erreur rseau - impossible de contacter le serveur"):oe("Erreur inattendue: "+Le.message)}finally{ee(!1)}}},St=async Oe=>{if(!(!n||!ge.trim())){ee(!0),oe("");try{const Le={productId:m?._id,message:ge.trim(),parentId:Oe._id},Et=await ie.post(`/products/${e}/comments`,Le);$e(""),Me(null),await ze(m?.slug||m?._id)}catch(Le){if(Le.response?.status===401){Z();return}console.error("Erreur soumission rponse:",Le),Le.response&&oe(Le.response.data?.message||`Erreur ${Le.response.status}`)}finally{ee(!1)}}},sa=async Oe=>{if(!n){r("/login",{state:{from:`/product/${e}`}});return}pe(!0);try{await ie.put(`/products/${e}/rating`,{value:Oe,productId:m?._id}),ve(Oe);const{data:Le}=await ie.get(`/products/public/${e}`);p(Le)}catch(Le){if(Le.response?.status===401){Z();return}console.error("Erreur soumission note:",Le);const Et=Le.response?.data?.message||Le.message||"Une erreur est survenue lors de lenvoi de votre note.";alert(`Erreur lors de l'ajout de la note : ${Et}`)}finally{pe(!1)}},Xr=async()=>{if(m){if(!n){r("/login",{state:{from:`/product/${e}`}});return}if(!fe){x(!0),S("");try{await i(m._id,1),S(" Ajout au panier !"),setTimeout(()=>S(""),3e3)}catch(Oe){if(Oe.response?.status===401){Z();return}S(" Erreur lors de l'ajout")}finally{x(!1)}}}},La=async()=>{if(m){if(!n){r("/login",{state:{from:`/product/${e}`}});return}try{const Oe=await d(m);Oe===!0?T(Le=>Le+1):Oe===!1&&T(Le=>Math.max(0,Le-1))}catch(Oe){if(Oe.response?.status===401){Z();return}console.error("Erreur favori:",Oe)}}},Yr=async Oe=>{if(m){if(!n){Oe?.preventDefault&&Oe.preventDefault(),alert("Veuillez vous connecter pour contacter le vendeur via WhatsApp."),r("/login",{state:{from:`/product/${e}`}});return}try{const Le=m.slug||m._id,{data:Et}=await ie.post(`/products/public/${Le}/whatsapp-click`);_(Et?.whatsappClicks||C+1)}catch(Le){if(Le.response?.status===401){Z();return}console.error("Erreur comptage WhatsApp:",Le)}}},er=m?.discount>0,Yt=er?m?.priceBeforeDiscount:m?.price,ne=m?.price||0,rt=m?.discount||0,Ke=Number(m?.ratingAverage||0).toFixed(1),dt=m?.ratingCount||0,mt=m?.commentCount||0,Dt=m?.condition==="new"?"Neuf":"Occasion",Be=m?.condition==="new"?"from-emerald-500 to-green-500":"from-amber-500 to-orange-500",Er=m?.createdAt?new Date(m.createdAt):null,Ft=Er?Math.floor((Date.now()-Er.getTime())/(1e3*60*60*24)):0,Eo=Ft<=7,Tr=Array.isArray(m?.images)?m.images.slice(0,3):[],nn=h.useMemo(()=>{const Oe=[];j.forEach(Et=>{(Array.isArray(Et?.images)?Et.images:[]).forEach(wr=>{wr&&Oe.push({src:wr,product:Et})})});const Le=[...Oe];for(let Et=Le.length-1;Et>0;Et-=1){const tr=Math.floor(Math.random()*(Et+1));[Le[Et],Le[tr]]=[Le[tr],Le[Et]]}return Le.slice(0,6)},[j]),Ia=!!m?.user?.shopVerified,Pa=h.useMemo(()=>m?FO(m):window.location.href,[m]);h.useEffect(()=>{if(!Tr.length){k!==0&&P(0);return}k>=Tr.length&&P(0)},[Tr.length,k]);const Cs=Tr[k]||"https://via.placeholder.com/600x600",ts=we?"cursor-pointer":"cursor-zoom-in",se=h.useCallback((Oe=k)=>{P(Oe),Lt(!0)},[k]),Te=h.useCallback(()=>{Lt(!1)},[]),et=h.useCallback(()=>{se(k)},[se,k]),Mt=h.useCallback(Oe=>{Oe.stopPropagation(),se(k)},[se,k]),Br=h.useCallback(Oe=>{P(Oe),se(Oe)},[se]),Ks=h.useCallback(()=>{Tr.length&&P(Oe=>(Oe-1+Tr.length)%Tr.length)},[Tr.length]),_i=h.useCallback(()=>{Tr.length&&P(Oe=>(Oe+1)%Tr.length)},[Tr.length]);h.useEffect(()=>{ut&&nr(1)},[ut,k]);const Xs=h.useCallback(Oe=>{if(we)return;Oe.preventDefault();const Le=Oe.deltaY<0?1:-1,Et=Oe.ctrlKey?.1:.2;nr(tr=>{const wr=tr+Le*Et;return Math.max(1,Math.min(3,Number(wr.toFixed(2))))})},[we]);return h.useEffect(()=>{if(!ut||typeof document>"u")return;const{style:Oe}=document.body,Le=Oe.overflow;return Oe.overflow="hidden",()=>{Oe.overflow=Le}},[ut]),f?t.createElement("div",{className:"min-h-screen bg-gray-50 pt-20"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},t.createElement("div",{className:"animate-pulse"},t.createElement("div",{className:"flex items-center space-x-2 mb-6"},t.createElement("div",{className:"h-4 bg-gray-300 rounded w-24"}),t.createElement(Rr,{size:16,className:"text-gray-400"}),t.createElement("div",{className:"h-4 bg-gray-300 rounded w-32"})),t.createElement("div",{className:"grid lg:grid-cols-2 gap-8"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"aspect-square bg-gray-300 rounded-2xl"}),t.createElement("div",{className:"grid grid-cols-4 gap-2"},[1,2,3,4].map(Oe=>t.createElement("div",{key:Oe,className:"aspect-square bg-gray-300 rounded-xl"})))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),t.createElement("div",{className:"h-6 bg-gray-300 rounded w-1/2"}),t.createElement("div",{className:"h-12 bg-gray-300 rounded w-1/3"}),t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"h-4 bg-gray-300 rounded"}),t.createElement("div",{className:"h-4 bg-gray-300 rounded w-5/6"}))))))):b||!m?t.createElement("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center"},t.createElement("div",{className:"text-center max-w-md mx-auto px-4"},t.createElement(br,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),t.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Produit non trouv"),t.createElement("p",{className:"text-gray-600 mb-6"},b||"Le produit que vous recherchez n'existe pas ou a t supprim."),t.createElement(be,{to:"/",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all"},t.createElement(Cr,{size:20,className:"mr-2"}),"Retour  l'accueil"))):t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},t.createElement("nav",{className:"bg-white/95 backdrop-blur-xl shadow-lg border-b border-gray-200/50 sticky top-0 z-10 sm:z-40"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("button",{onClick:()=>r("/products"),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-3xl bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium transition-all duration-200 active:scale-95"},t.createElement(Cr,{size:18}),t.createElement("span",null,"Retour")),t.createElement("div",{className:"flex items-center justify-end gap-3 w-full sm:w-auto"},t.createElement("div",{className:"relative"},t.createElement("button",{type:"button",onClick:()=>Ye(Oe=>!Oe),className:"p-2 rounded-full hover:bg-gray-100 transition-colors"},t.createElement(I5,{size:20,className:"text-gray-400"})),De&&t.createElement("div",{className:"absolute right-0 mt-2 w-56 rounded-2xl border border-gray-100 bg-white shadow-xl z-20"},t.createElement("div",{className:"p-3 border-b border-gray-100"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Partager ce produit"),t.createElement("p",{className:"text-xs text-gray-500"},"Diffusez lannonce en un clic.")),t.createElement("div",{className:"p-2 flex flex-col gap-1"},t.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(Pa),bt("Lien copi !"),setTimeout(()=>bt(""),2500)}catch{bt("Impossible de copier."),setTimeout(()=>bt(""),2500)}finally{Ye(!1)}},className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors"},"Copier le lien"),t.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Pa)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-blue-50 transition-colors",onClick:()=>Ye(!1)},"Partager sur Facebook"),t.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${m?.title||"Produit"} - ${Pa}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-green-50 transition-colors",onClick:()=>Ye(!1)},"Envoyer sur WhatsApp"),t.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(Pa)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-sky-50 transition-colors",onClick:()=>Ye(!1)},"Partager sur Telegram"),t.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(Pa)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-xl px-3 py-2 text-sm text-gray-700 hover:bg-black/5 transition-colors",onClick:()=>Ye(!1)},"Partager sur TikTok")),Je&&t.createElement("div",{className:"px-3 pb-3 text-xs text-green-600"},Je))))))),t.createElement("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 pb-24 md:pb-8"},t.createElement("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm text-gray-600 mb-6 sm:mb-8"},t.createElement(be,{to:"/",className:"hover:text-indigo-600 transition-colors font-medium"},"Accueil"),t.createElement(Rr,{size:14,className:"text-gray-400"}),t.createElement(be,{to:`/products?category=${m.category}`,className:"hover:text-indigo-600 transition-colors capitalize font-medium"},m.category),t.createElement(Rr,{size:14,className:"text-gray-400"}),t.createElement("span",{className:"text-gray-900 font-bold truncate"},m.title)),t.createElement("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-[1.2fr_1fr] lg:gap-12"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"relative group"},t.createElement("div",{className:`relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl border-2 border-gray-200 overflow-hidden shadow-xl ${ts}`,onClick:et},t.createElement("img",{src:Cs,alt:m?.title||"Produit",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),t.createElement("button",{type:"button",onClick:Oe=>{Oe.stopPropagation(),La()},className:"absolute top-4 right-4 bg-white/95 backdrop-blur-md w-11 h-11 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 active:scale-90 group/fav z-20 border border-gray-200"},t.createElement(Ar,{size:20,className:`transition-all duration-200 ${xe?"text-red-500":"text-gray-600 group-hover/fav:text-red-400"}`,strokeWidth:2,fill:xe?"currentColor":"none"})),t.createElement("div",{className:"absolute top-4 left-4 flex flex-col space-y-2 z-20"},er&&t.createElement("span",{className:"bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50"},"-",rt,"%"),Eo&&t.createElement("span",{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600 text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50"},"Nouveau"),t.createElement("span",{className:`bg-gradient-to-r ${Be} text-white px-4 py-2.5 rounded-2xl text-sm font-black shadow-2xl ring-2 ring-white/50`},Dt),m.certified&&t.createElement("span",{className:"inline-flex items-center gap-1.5 rounded-2xl bg-gradient-to-r from-emerald-500 to-green-600 px-4 py-2.5 text-xs font-black text-white shadow-2xl ring-2 ring-white/50"},t.createElement($r,{className:"w-4 h-4"}),"Certifi HDMarket")),Tr.length>1&&t.createElement("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg z-20"},k+1," / ",Tr.length),t.createElement("button",{type:"button",onClick:Mt,className:"absolute bottom-4 right-4 bg-white/95 backdrop-blur-md w-11 h-11 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 active:scale-90 z-20 border border-gray-200"},t.createElement(Kz,{size:20,className:"text-gray-700"})))),Tr.length>1&&t.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},Tr.map((Oe,Le)=>t.createElement("button",{key:Le,type:"button",onClick:()=>Br(Le),className:`flex-shrink-0 w-16 h-16 sm:w-20 sm:h-20 rounded-xl border-2 overflow-hidden transition-all transform hover:scale-110 ${k===Le?"border-indigo-500 ring-2 ring-indigo-200 shadow-md scale-110":"border-gray-200 hover:border-indigo-300"}`},t.createElement("img",{src:Oe,alt:`${m.title} - Image ${Le+1}`,className:"w-full h-full object-cover"})))),m.video&&t.createElement("div",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white p-4"},t.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800"},t.createElement(QO,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Vido de prsentation")),t.createElement("div",{className:"rounded-xl overflow-hidden border border-gray-100 bg-black"},t.createElement("video",{src:m.video,controls:!0,poster:Tr[0],className:"w-full h-full object-contain"})))),t.createElement("div",{className:"lg:sticky lg:top-24 space-y-6 h-fit"},t.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-100 shadow-xl p-6 sm:p-8 space-y-6"},t.createElement("div",{className:"space-y-4"},t.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 leading-tight"},m.title),t.createElement("div",{className:"flex flex-wrap items-center gap-3"},t.createElement("span",{className:"inline-flex items-center bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-2 rounded-full text-sm font-bold text-indigo-700 border border-indigo-200"},m.category),t.createElement("div",{className:"flex items-center space-x-1.5 text-sm text-gray-600 bg-gray-50 px-3 py-1.5 rounded-full"},t.createElement(It,{size:14}),t.createElement("span",{className:"font-medium"},Ft===0?"Aujourd'hui":Ft===1?"Hier":`Il y a ${Ft} jours`)))),t.createElement("div",{className:"flex flex-wrap items-center gap-4 py-5 border-y-2 border-gray-100"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-50 to-orange-50 px-4 py-2.5 rounded-2xl border-2 border-amber-200"},t.createElement(gr,{className:"w-6 h-6 text-amber-500",fill:"currentColor"}),t.createElement("span",{className:"text-2xl font-black text-gray-900"},Ke),t.createElement("span",{className:"text-gray-600 font-semibold"},"(",dt,")"))),t.createElement("div",{className:"flex flex-wrap items-center gap-4 text-sm"},t.createElement("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-2 rounded-xl border border-blue-100"},t.createElement(pr,{size:16,className:"text-blue-600"}),t.createElement("span",{className:"font-semibold text-gray-700"},mt),t.createElement("span",{className:"text-gray-500"},"commentaires")),t.createElement("div",{className:"flex items-center gap-2 bg-purple-50 px-3 py-2 rounded-xl border border-purple-100"},t.createElement(Jn,{size:16,className:"text-purple-600"}),t.createElement("span",{className:"font-semibold text-gray-700"},m.views||0),t.createElement("span",{className:"text-gray-500"},"vues")),t.createElement("div",{className:"flex items-center gap-2 bg-pink-50 px-3 py-2 rounded-xl border border-pink-100"},t.createElement(Ar,{size:16,className:"text-pink-500",fill:"currentColor"}),t.createElement("span",{className:"font-semibold text-gray-700"},O),t.createElement("span",{className:"text-gray-500"},"favoris")))),t.createElement("div",{className:"space-y-3"},er?t.createElement(t.Fragment,null,t.createElement("div",{className:"flex flex-wrap items-baseline gap-3"},t.createElement("span",{className:"text-4xl sm:text-5xl font-black text-gray-900"},Number(ne).toLocaleString()," FCFA"),t.createElement("span",{className:"text-xl sm:text-2xl text-gray-400 line-through font-bold"},Number(Yt).toLocaleString()," FCFA")),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-xl text-sm font-black shadow-lg"},"conomisez ",Number(Yt-ne).toLocaleString()," FCFA"))):t.createElement("span",{className:"text-4xl sm:text-5xl font-black text-gray-900"},Number(ne).toLocaleString()," FCFA")),m.confirmationNumber&&t.createElement("p",{className:"text-xs text-gray-500"},"Code produit :",t.createElement("span",{className:"font-semibold text-gray-900 ml-1"},m.confirmationNumber),t.createElement("span",{className:"block text-[11px] text-gray-400"},"Mentionnez ce code  ladministrateur lorsque vous validez votre commande.")),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"flex flex-wrap items-center gap-2 text-[11px] sm:text-xs"},m.certified&&t.createElement("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700"},t.createElement($r,{className:"w-4 h-4 text-emerald-500"}),"Produit certifi HDMarket"),m.certifiedBy&&t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-700"},"Certifi par ",m.certifiedBy?.name||"HDMarket"),m.certifiedAt&&t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1 text-gray-600"},new Date(m.certifiedAt).toLocaleDateString("fr-FR"))),ht&&t.createElement("button",{type:"button",onClick:jt,disabled:Ze,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-3xl border border-gray-300 bg-white px-5 py-2.5 text-sm font-semibold text-gray-700 transition-all duration-200 hover:bg-gray-50 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed"},m.certified?"Retirer la certification":"Certifier ce produit")),(ct||Zt)&&t.createElement("p",{className:`text-xs ${Zt?"text-red-600":"text-green-600"}`},Zt||ct)),m.user&&t.createElement("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-3xl p-6 border-2 border-indigo-200 shadow-lg"},t.createElement("div",{className:"flex flex-col gap-5 sm:flex-row sm:items-center"},t.createElement("div",{className:"flex-shrink-0"},Ve?t.createElement("img",{src:Ve,alt:Re||m.user.name,className:"w-16 h-16 rounded-2xl object-cover border-2 border-white shadow-lg"}):t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(vr,{className:"w-8 h-8 text-white"}))),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"flex items-center gap-2 flex-wrap"},t.createElement("h3",{className:"text-lg font-black text-gray-900"},de&&Pt?t.createElement(be,{to:la(Pt),className:"hover:text-indigo-600 transition-colors"},Re||m.user.name):Re||m.user.name),de&&t.createElement(Za,{verified:Ia,showLabel:!1})),(q||Qe)&&t.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-700 bg-white/60 px-3 py-1.5 rounded-xl"},t.createElement(Sr,{size:16,className:"text-indigo-600"}),t.createElement("span",{className:"font-medium"},q?`${q}, ${ue}`:"",Qe?`${q?"  ":""}${Qe}`:"")),t.createElement("p",{className:"text-xs text-gray-600 font-semibold flex items-center gap-2 flex-wrap"},t.createElement("span",{className:"bg-white/60 px-3 py-1 rounded-lg"},"Vendeur ",de?"Professionnel":"Particulier"),de&&t.createElement(Za,{verified:Ia}))),de&&Pt&&t.createElement("div",{className:"flex w-full flex-col gap-3 sm:w-auto"},t.createElement(be,{to:la(Pt),className:"flex w-full items-center justify-center gap-2 px-5 py-3 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm text-sm"},t.createElement(vr,{size:18}),t.createElement("span",null,"Voir la boutique")),!ke&&t.createElement("button",{type:"button",onClick:Pe,disabled:$||!Ia,className:`flex w-full items-center justify-center gap-2 px-5 py-3 rounded-3xl text-sm font-semibold transition-all duration-200 active:scale-95 ${K?"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${!Ia||$?"opacity-60 cursor-not-allowed":""}`},$?"Traitement":K?"Se dsabonner":"Suivre la boutique "))),U&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-indigo-200"},t.createElement("a",{href:`tel:${(Y||"").replace(/\s+/g,"")}`,className:"flex flex-wrap items-center gap-2 text-sm bg-white/80 px-4 py-3 rounded-xl hover:bg-green-50 transition-colors border border-green-200"},t.createElement(hi,{size:18,className:"text-green-600"}),t.createElement("span",{className:"text-gray-900 font-black"},Y),t.createElement("span",{className:"text-xs text-gray-600 font-semibold"}," Contact direct")))),!ke&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},t.createElement("button",{onClick:Xr,disabled:w||fe,className:`flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl font-semibold text-base transition-all duration-200 active:scale-95 shadow-sm ${fe?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-60":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`},t.createElement(rn,{size:20}),t.createElement("span",null,fe?"Dj au panier":w?"Ajout...":"Ajouter au panier")),ye&&t.createElement("a",{href:ye,target:"_blank",rel:"noopener noreferrer",onClick:Yr,className:"flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl border border-gray-300 bg-white text-gray-900 font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(pr,{size:20}),t.createElement("span",null,"WhatsApp"))),fe&&t.createElement(be,{to:"/orders/checkout",className:"flex items-center justify-center space-x-2 px-6 py-3.5 rounded-3xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(rn,{size:20}),t.createElement("span",null,"Passer la commande")),N&&t.createElement("div",{className:`rounded-2xl p-4 text-center font-semibold ${N.includes("")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`},N),ye&&t.createElement("p",{className:"text-center text-sm text-gray-500"},C>0?` Contact ${C} fois via WhatsApp`:" Soyez le premier  contacter ce vendeur")),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},t.createElement("div",{className:"flex items-center space-x-2 bg-green-50 px-4 py-3 rounded-xl border border-green-100"},t.createElement($r,{className:"w-5 h-5 text-green-600"}),t.createElement("span",{className:"text-sm font-semibold text-gray-700"},"Paiement scuris")),t.createElement("div",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-3 rounded-xl border border-blue-100"},t.createElement(xr,{className:"w-5 h-5 text-blue-600"}),t.createElement("span",{className:"text-sm font-semibold text-gray-700"},"Livraison disponible"))),t.createElement("div",{className:"bg-gradient-to-r from-gray-50 to-indigo-50 rounded-2xl p-4 border border-gray-200"},t.createElement("p",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center gap-2"},t.createElement(I5,{size:16,className:"text-indigo-600"}),"Partager ce produit"),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Pa)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#1877F2] text-white font-semibold text-sm hover:bg-[#166FE5] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur Facebook"},t.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})),t.createElement("span",{className:"hidden sm:inline"},"Facebook")),t.createElement("a",{href:`https://wa.me/?text=${encodeURIComponent(`${m?.title||"Produit"} - ${Pa}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#25D366] text-white font-semibold text-sm hover:bg-[#20BD5A] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur WhatsApp"},t.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),t.createElement("span",{className:"hidden sm:inline"},"WhatsApp")),t.createElement("a",{href:`https://t.me/share/url?url=${encodeURIComponent(Pa)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#0088CC] text-white font-semibold text-sm hover:bg-[#007AB8] transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur Telegram"},t.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})),t.createElement("span",{className:"hidden sm:inline"},"Telegram")),t.createElement("a",{href:`https://www.tiktok.com/share?url=${encodeURIComponent(Pa)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-black text-white font-semibold text-sm hover:bg-gray-800 transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur TikTok"},t.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})),t.createElement("span",{className:"hidden sm:inline"},"TikTok")),t.createElement("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(Pa)}&text=${encodeURIComponent(m?.title||"Produit")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-black text-white font-semibold text-sm hover:bg-gray-800 transition-all duration-200 active:scale-95 shadow-sm",title:"Partager sur X (Twitter)"},t.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})),t.createElement("span",{className:"hidden sm:inline"},"X")),t.createElement("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(Pa),bt("Lien copi !"),setTimeout(()=>bt(""),2500)}catch{bt("Impossible de copier."),setTimeout(()=>bt(""),2500)}},className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gray-200 text-gray-700 font-semibold text-sm hover:bg-gray-300 transition-all duration-200 active:scale-95",title:"Copier le lien"},t.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})),t.createElement("span",{className:"hidden sm:inline"},"Copier"))),Je&&t.createElement("p",{className:"mt-2 text-sm font-semibold text-green-600"},Je))))),t.createElement("div",{className:"mt-12 sm:mt-16"},t.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-100 shadow-xl overflow-hidden"},t.createElement("div",{className:"border-b-2 border-gray-100 overflow-x-auto"},t.createElement("nav",{className:"flex flex-wrap gap-2 sm:gap-4 min-w-full px-4 sm:px-6 pt-4"},[{id:"description",label:"Description",icon:Jn},{id:"specifications",label:"Spcifications",icon:$r},{id:"reviews",label:`Avis (${mt})`,icon:gr},{id:"shipping",label:"Livraison",icon:xr}].map(Oe=>{const Le=Oe.icon;return t.createElement("button",{key:Oe.id,onClick:()=>X(Oe.id),className:`flex items-center gap-2 py-2.5 px-5 font-semibold text-sm rounded-3xl transition-all duration-200 active:scale-95 ${Q===Oe.id?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`},t.createElement(Le,{size:18}),t.createElement("span",null,Oe.label))}))),t.createElement("div",{className:"p-6 sm:p-8"},Q==="description"&&t.createElement("div",{className:"prose max-w-none"},t.createElement("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"},t.createElement("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-base sm:text-lg"},m.description))),Q==="specifications"&&t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100"},t.createElement("span",{className:"font-bold text-gray-700"},"Condition"),t.createElement("span",{className:"text-gray-900 font-semibold text-lg"},Dt)),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100"},t.createElement("span",{className:"font-bold text-gray-700"},"Catgorie"),t.createElement("span",{className:"text-gray-900 font-semibold text-lg capitalize"},m.category)),(q||m.user?.shopAddress)&&t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between py-4 px-4 bg-gradient-to-r from-gray-50 to-indigo-50 rounded-xl border border-gray-100 text-sm"},t.createElement("span",{className:"font-bold text-gray-700"},"Localisation"),t.createElement("span",{className:"text-gray-900 font-semibold text-right"},q?`${q}, ${ue}`:"",m.user?.shopAddress?`${q?"  ":""}${m.user.shopAddress}`:""))),Q==="reviews"&&t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 rounded-3xl p-6 sm:p-8 border-2 border-amber-200 shadow-xl"},t.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},t.createElement("div",{className:"text-center lg:text-left"},t.createElement("div",{className:"text-5xl sm:text-6xl font-black text-gray-900 mb-2"},Ke),t.createElement("div",{className:"flex items-center justify-center lg:justify-start gap-1 mb-2"},[1,2,3,4,5].map(Oe=>t.createElement(gr,{key:Oe,size:24,className:`${Oe<=Math.floor(Ke)?"text-amber-500 fill-amber-500":"text-gray-300"}`}))),t.createElement("div",{className:"text-sm text-gray-700 font-bold"},dt," avis  ",mt," commentaires")),t.createElement("div",{className:"flex-1 w-full max-w-md"},t.createElement("h4",{className:"font-black text-gray-900 mb-4 text-lg"},he>0?"Votre note":"Notez ce produit"),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},[1,2,3,4,5].map(Oe=>t.createElement("button",{key:Oe,type:"button",onClick:()=>{ke||sa(Oe)},disabled:le||ke,className:"focus:outline-none disabled:opacity-50 hover:scale-110 transition-transform",title:ke?"Vous ne pouvez pas noter votre propre produit.":void 0},t.createElement(gr,{size:28,className:`${Oe<=he?"text-amber-500 fill-amber-500":"text-gray-300"} ${ke?"cursor-not-allowed":"hover:text-amber-400"} transition-colors`}))),le&&t.createElement("span",{className:"text-sm text-gray-600 font-semibold ml-2"},"Envoi...")),he>0&&t.createElement("p",{className:"text-sm text-green-600 font-bold mt-3 bg-green-50 px-3 py-2 rounded-xl inline-block"}," Vous avez not ",he,"/5")))),t.createElement("div",{className:"bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-200 shadow-lg"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(pr,{className:"w-6 h-6 text-white"})),t.createElement("div",null,t.createElement("h4",{className:"text-xl font-black text-gray-900"},"Commentaires"),t.createElement("p",{className:"text-sm text-gray-600"},H.length," commentaire",H.length>1?"s":""))),Ne&&t.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},t.createElement("p",{className:"text-red-700 text-sm"},Ne)),n&&t.createElement("form",{onSubmit:Nt,className:"mb-6"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},t.createElement("input",{type:"text",value:B,onChange:Oe=>G(Oe.target.value),placeholder:"Laissez un commentaire...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:_e}),t.createElement("button",{type:"submit",disabled:!B.trim()||_e,className:"px-5 py-2.5 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 active:scale-95 shadow-sm w-full sm:w-auto"},_e?"Envoi...":"Commenter"))),t.createElement("div",{className:"space-y-4"},H.length===0?t.createElement("div",{className:"text-center py-8 text-gray-500"},t.createElement(pr,{size:48,className:"mx-auto mb-3 text-gray-300"}),t.createElement("p",null,"Aucun commentaire pour le moment."),!n&&t.createElement("p",{className:"text-sm mt-2"},t.createElement("button",{onClick:()=>r("/login"),className:"text-indigo-600 hover:text-indigo-700"},"Connectez-vous")," ","pour laisser le premier commentaire.")):H.map(Oe=>t.createElement(JP,{key:Oe._id,comment:Oe,user:n,replyingTo:re,setReplyingTo:Me,replyText:ge,setReplyText:$e,onSubmitReply:St,submittingComment:_e}))))),Q==="shipping"&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl border-2 border-blue-200 text-center sm:text-left shadow-md"},t.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0"},t.createElement(xr,{className:"w-7 h-7 text-white"})),t.createElement("div",null,t.createElement("h4",{className:"font-black text-gray-900 text-lg mb-1"},"Options de livraison"),t.createElement("p",{className:"text-sm text-gray-700 font-medium"},"Contactez le vendeur pour les dtails de livraison"))),t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200 text-center sm:text-left shadow-md"},t.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg flex-shrink-0"},t.createElement($r,{className:"w-7 h-7 text-white"})),t.createElement("div",null,t.createElement("h4",{className:"font-black text-gray-900 text-lg mb-1"},"Retour et change"),t.createElement("p",{className:"text-sm text-gray-700 font-medium"},"Politique de retour  discuter avec le vendeur"))))))),m?.pdf&&t.createElement("section",{className:"mt-6 rounded-2xl border border-gray-200 bg-white p-4 sm:p-6"},t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-2"},t.createElement("h3",{className:"text-base font-semibold text-gray-900"},"Fiche produit (JPEG)")),t.createElement("div",{className:"mt-4 relative overflow-hidden rounded-xl border border-gray-100 bg-gray-50"},t.createElement("img",{src:m.pdf,alt:`Fiche produit ${m.title||""}`,className:"w-full h-auto object-contain bg-white",loading:"lazy"}))),we&&de&&t.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},t.createElement("div",{className:"flex items-center justify-between mb-3"},t.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Photos de la boutique"),t.createElement("span",{className:"text-xs text-gray-500"},"Slection alatoire")),nn.length>0?t.createElement("div",{className:"grid grid-cols-3 gap-2"},nn.map(Oe=>t.createElement(be,{key:`${Oe.product?._id||"shop"}-${Oe.src}`,to:or(Oe.product),...ot,className:"aspect-square overflow-hidden rounded-xl border border-gray-100"},t.createElement("img",{src:Oe.src,alt:Oe.product?.title||"Photo boutique",className:"w-full h-full object-cover"})))):t.createElement("div",{className:"grid grid-cols-3 gap-2"},Array.from({length:3}).map((Oe,Le)=>t.createElement("div",{key:`shop-photo-skeleton-${Le}`,className:"aspect-square rounded-xl border border-gray-100 bg-gray-100 animate-pulse"})))),we&&R.length>0&&t.createElement("section",{className:"mt-8 rounded-3xl border-2 border-gray-200 bg-white p-4 sm:p-6 shadow-xl"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",null,t.createElement("h3",{className:"text-lg font-black text-gray-900"},"Produits similaires"),t.createElement("p",{className:"text-xs text-gray-600"},"Dcouvrez d'autres produits")),t.createElement(be,{to:`/products?category=${m.category}`,className:"text-xs font-bold text-indigo-600 hover:text-indigo-700"},"Voir tout ")),t.createElement("div",{className:"grid grid-cols-2 gap-3"},R.map(Oe=>t.createElement(be,{key:Oe._id,to:or(Oe),...ot,className:"group overflow-hidden rounded-2xl border-2 border-gray-200 bg-white transition-all hover:shadow-lg hover:border-indigo-300"},t.createElement("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},t.createElement("img",{src:Oe.images?.[0]||"https://via.placeholder.com/300x300",alt:Oe.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),t.createElement("div",{className:"p-3"},t.createElement("p",{className:"text-xs font-bold text-gray-900 line-clamp-2 mb-2 min-h-[2rem] group-hover:text-indigo-600 transition-colors"},Oe.title),t.createElement("p",{className:"text-sm font-black text-indigo-600"},Number(Oe.price).toLocaleString()," FCFA")))))),we&&t.createElement("section",{className:"mt-8 rounded-2xl border border-gray-200 bg-white p-4"},t.createElement("div",{className:"flex items-center justify-between mb-3"},t.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),t.createElement("button",{type:"button",onClick:()=>xt(!0),className:"text-xs font-semibold text-indigo-600"},"Voir tout")),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},t.createElement("div",{className:"flex items-center gap-1"},t.createElement(gr,{className:"h-4 w-4 text-amber-400"}),t.createElement("span",{className:"font-semibold text-gray-900"},Ke),t.createElement("span",null,"(",dt,")")),t.createElement("div",{className:"flex items-center gap-1"},t.createElement(pr,{className:"h-4 w-4"}),t.createElement("span",null,mt," commentaires"))),H.length>0?t.createElement("div",{className:"mt-4 space-y-3"},H.slice(0,2).map(Oe=>t.createElement("div",{key:Oe._id,className:"rounded-xl border border-gray-100 bg-gray-50 p-3"},t.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},t.createElement("span",{className:"font-semibold text-gray-800"},Oe.user?.name||"Utilisateur"),t.createElement("span",null,new Date(Oe.createdAt).toLocaleDateString("fr-FR"))),t.createElement("p",{className:"mt-2 text-sm text-gray-700 line-clamp-3"},Oe.message)))):t.createElement("p",{className:"mt-4 text-xs text-gray-500"},"Aucun avis pour le moment.")),!we&&R.length>0&&t.createElement("section",{className:"mt-16 sm:mt-20"},t.createElement("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8"},t.createElement("div",null,t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-2"},"Produits similaires"),t.createElement("p",{className:"text-gray-600 text-sm"},"Dcouvrez d'autres produits de la mme catgorie")),t.createElement(be,{to:`/products?category=${m.category}`,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg text-sm"},"Voir tout ",t.createElement(Rr,{size:18}))),t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5"},R.map(Oe=>t.createElement(be,{key:Oe._id,to:or(Oe),...ot,className:"group block bg-white rounded-2xl border-2 border-gray-200 overflow-hidden hover:shadow-2xl hover:border-indigo-300 transition-all hover:-translate-y-1"},t.createElement("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},t.createElement("img",{src:Oe.images?.[0]||"https://via.placeholder.com/300x300",alt:Oe.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})),t.createElement("div",{className:"p-4"},t.createElement("h3",{className:"font-bold text-sm text-gray-900 line-clamp-2 mb-2 min-h-[2.5rem] group-hover:text-indigo-600 transition-colors"},Oe.title),t.createElement("p",{className:"text-lg font-black text-indigo-600"},Number(Oe.price).toLocaleString()," FCFA"))))))),we&&Bt&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/60 px-4 py-6 sm:items-center",onClick:()=>xt(!1)},t.createElement("div",{className:"w-full max-w-lg rounded-2xl bg-white p-4 shadow-xl max-h-[85vh] overflow-y-auto",onClick:Oe=>Oe.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h3",{className:"text-sm font-semibold text-gray-900"},"Avis & notes"),t.createElement("button",{type:"button",onClick:()=>xt(!1),className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200","aria-label":"Fermer"},t.createElement(_t,{className:"h-4 w-4"}))),t.createElement("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-600"},t.createElement("div",{className:"flex items-center gap-1"},t.createElement(gr,{className:"h-4 w-4 text-amber-400"}),t.createElement("span",{className:"font-semibold text-gray-900"},Ke),t.createElement("span",null,"(",dt,")")),t.createElement("div",{className:"flex items-center gap-1"},t.createElement(pr,{className:"h-4 w-4"}),t.createElement("span",null,mt," commentaires"))),t.createElement("div",{className:"mt-4 space-y-4"},H.length===0?t.createElement("p",{className:"text-xs text-gray-500"},"Aucun avis pour le moment."):H.map(Oe=>t.createElement(JP,{key:Oe._id,comment:Oe,user:n,replyingTo:re,setReplyingTo:Me,replyText:ge,setReplyText:$e,onSubmitReply:St,submittingComment:_e}))))),we&&!ke&&m&&t.createElement("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-xl border-t-2 border-gray-200 shadow-2xl md:hidden",style:{paddingBottom:"env(safe-area-inset-bottom)"}},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-3"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex-1"},t.createElement("div",{className:"flex items-baseline gap-2"},er?t.createElement(t.Fragment,null,t.createElement("span",{className:"text-2xl font-black text-gray-900"},Number(ne).toLocaleString()," FCFA"),t.createElement("span",{className:"text-sm text-gray-500 line-through font-bold"},Number(Yt).toLocaleString()," FCFA")):t.createElement("span",{className:"text-2xl font-black text-gray-900"},Number(ne).toLocaleString()," FCFA")),er&&t.createElement("p",{className:"text-xs text-red-600 font-bold"},"conomisez ",Number(Yt-ne).toLocaleString()," FCFA")),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{onClick:Xr,disabled:w||fe,className:`flex items-center justify-center gap-2 px-5 py-3 rounded-3xl font-semibold text-sm transition-all duration-200 active:scale-95 shadow-sm ${fe?"bg-gray-300 text-gray-500 cursor-not-allowed opacity-60":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`},t.createElement(rn,{size:18}),t.createElement("span",null,fe?"Au panier":w?"...":"Ajouter")),ye&&t.createElement("a",{href:ye,target:"_blank",rel:"noopener noreferrer",onClick:Yr,className:"flex items-center justify-center w-12 h-12 rounded-full bg-white text-gray-700 hover:bg-gray-100 border border-gray-300 transition-all duration-200 active:scale-90 shadow-sm"},t.createElement(pr,{size:20})))))),ut&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm px-4 py-6",onClick:Te},t.createElement("div",{className:"relative w-full max-w-5xl",onClick:Oe=>Oe.stopPropagation()},t.createElement("div",{className:"max-h-[85vh] overflow-auto rounded-3xl bg-black shadow-2xl",onWheel:Xs},t.createElement("img",{src:Cs,alt:m?.title||"Produit",className:"block max-w-none object-contain",style:{width:`${zt*100}%`,height:"auto"}})),t.createElement("button",{type:"button",onClick:Te,className:"absolute right-4 top-4 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},t.createElement(_t,{size:20})),Tr.length>1&&t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:Ks,className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},t.createElement(HO,{size:20})),t.createElement("button",{type:"button",onClick:_i,className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-white/95 backdrop-blur-md w-10 h-10 flex items-center justify-center text-gray-700 shadow-md hover:bg-white transition-all duration-200 active:scale-90 z-10 border border-gray-200"},t.createElement(Rr,{size:20})),t.createElement("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 backdrop-blur-md text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg"},t.createElement("span",null,k+1," / ",Tr.length))))))}function JP({comment:e,user:r,replyingTo:a,setReplyingTo:n,replyText:s,setReplyText:i,onSubmitReply:o,submittingComment:d}){return t.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},t.createElement("div",{className:"p-5 sm:p-6"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white"},t.createElement("span",{className:"text-white text-base font-black"},e.user?.name?.charAt(0)||"U")),t.createElement("div",null,t.createElement("span",{className:"font-black text-gray-900 text-base"},e.user?.name||"Utilisateur"),t.createElement("div",{className:"text-xs text-gray-600 font-medium mt-0.5"},new Date(e.createdAt).toLocaleDateString("fr-FR")))),r&&t.createElement("button",{onClick:()=>n(a===e._id?null:e._id),className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-3xl hover:bg-gray-200 transition-all duration-200 active:scale-95 text-sm font-medium"},t.createElement(sz,{size:16}),t.createElement("span",null,"Rpondre"))),t.createElement("p",{className:"text-gray-700 leading-relaxed text-base"},e.message),a===e._id&&t.createElement("div",{className:"mt-4 pl-4 border-l-4 border-indigo-400 bg-indigo-50/50 rounded-r-xl p-4"},t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(T5,{size:16,className:"text-indigo-600"}),t.createElement("span",{className:"text-sm font-bold text-indigo-700"},"Rponse  ",e.user?.name)),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row"},t.createElement("input",{type:"text",value:s,onChange:u=>i(u.target.value),placeholder:`Rpondre  ${e.user?.name}...`,className:"flex-1 px-4 py-2.5 border-2 border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium",disabled:d}),t.createElement("button",{onClick:()=>o(e),disabled:!s.trim()||d,className:"px-5 py-2.5 bg-blue-600 text-white rounded-3xl font-semibold hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed text-sm shadow-sm transition-all duration-200 active:scale-95"},d?"Envoi...":"Envoyer"),t.createElement("button",{onClick:()=>{n(null),i("")},className:"px-5 py-2.5 border border-gray-300 bg-white text-gray-700 rounded-3xl hover:bg-gray-50 text-sm font-medium transition-all duration-200 active:scale-95"},"Annuler")))),e.replies&&e.replies.length>0&&t.createElement("div",{className:"bg-gradient-to-br from-gray-50 to-indigo-50/30 border-t-2 border-gray-200"},e.replies.map(u=>t.createElement("div",{key:u._id,className:"p-4 sm:p-5 border-b border-gray-200 last:border-b-0"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement(T5,{size:16,className:"text-indigo-500"}),t.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-md ring-2 ring-white"},t.createElement("span",{className:"text-white text-sm font-black"},u.user?.name?.charAt(0)||"U")),t.createElement("div",null,t.createElement("span",{className:"font-black text-gray-900 text-sm"},u.user?.name||"Utilisateur"),t.createElement("div",{className:"text-xs text-gray-600 font-medium"},new Date(u.createdAt).toLocaleDateString("fr-FR")))),t.createElement("p",{className:"text-gray-700 text-sm ml-14 leading-relaxed"},u.message)))))}const wie=(e=[])=>{if(!e.length)return null;const r=Math.floor(Math.random()*e.length);return e[r]||null},Nie=(e=[])=>{const r=Array.isArray(e)?e.filter(Boolean):[];return wie(r)||null},pu=e=>e?.slug||e?._id||"",ZP=(e=[],r=new Set)=>{const a=[];return e.forEach(n=>{const s=pu(n);!s||r.has(s)||(r.add(s),a.push(n))}),a},A$=(e=[])=>{const r=[...e];for(let a=r.length-1;a>0;a-=1){const n=Math.floor(Math.random()*(a+1));[r[a],r[n]]=[r[n],r[a]]}return r},eT=(e=[],r=6)=>{const a=e.map(n=>{const s=Nie(n?.images);return s?{image:s,product:n}:null}).filter(Boolean);return A$(a).slice(0,r)},Sie=(e,r=6)=>{const a=Array.isArray(e?.images)?e.images.filter(Boolean):[];return A$(a).slice(0,r).map(n=>({image:n,product:e}))},Zf=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,ep=e=>Number(e||0).toLocaleString("fr-FR");function kie(){const{slug:e}=go(),r=Kr(),a=vl(),[n,s]=h.useState(null),[i,o]=h.useState([]),[d,u]=h.useState(!0),[m,p]=h.useState("");h.useEffect(()=>{if(a)return;const E=e?or({slug:e}):"/";r(E,{replace:!0})},[a,r,e]),h.useEffect(()=>{let E=!0;return e?(async()=>{try{u(!0),p(""),o([]);const x=new Set,{data:N}=await ie.get(`/products/public/${e}`);if(!E)return;s(N);const S=pu(N);S&&x.add(S);let k=[];if(N?.category)try{const{data:P}=await ie.get("/products/public",{params:{category:N.category,limit:12}}),_=(Array.isArray(P?.items)?P.items:[]).filter(R=>!(!R||N?._id&&R._id&&R._id===N._id||N?.slug&&R.slug&&R.slug===N.slug)),O=_.filter(R=>Array.isArray(R.images)&&R.images.length>0),T=ZP(O.length?O:_,x);k=eT(T,6)}catch{}k.length||(k=Sie(N,6)),k.forEach(P=>{const C=pu(P?.product);C&&x.add(C)});try{const{data:P}=await ie.get("/products/public",{params:{boosted:!0,limit:8}}),_=(Array.isArray(P?.items)?P.items:[]).filter(D=>Array.isArray(D?.images)&&D.images.length>0),O=ZP(_,x),T=O.length?O:_,R=eT(T,3);R.length&&(k=[...k,...R])}catch{}E&&o(k)}catch(x){if(!E)return;s(null),o([]),p(x.response?.data?.message||"Produit indisponible.")}finally{E&&u(!1)}})():(u(!1),p("Produit indisponible.")),()=>{E=!1}},[e]),h.useEffect(()=>{n?._id&&xm(n)},[n?._id,n?.category]);const f=h.useMemo(()=>n?.slug?or(n):e?or({slug:e}):"/",[n,e]),y=E=>or(E),b=h.useMemo(()=>{if(!n)return i;const E=pu(n);return i.filter(w=>{const x=pu(w?.product);return x&&x!==E})},[i,n]);return t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-indigo-50/30"},t.createElement("div",{className:"mx-auto w-full max-w-2xl px-3 sm:px-4 pb-20 pt-4 sm:pt-6 space-y-5 sm:space-y-6"},t.createElement("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-3xl bg-white border border-gray-300 text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(Cr,{className:"h-5 w-5"}),"Retour"),d?t.createElement("div",{className:"space-y-6"},t.createElement("div",{className:"animate-pulse rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},t.createElement("div",{className:"flex gap-5"},t.createElement("div",{className:"h-32 w-32 rounded-2xl bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"flex-1 space-y-4"},t.createElement("div",{className:"h-5 w-3/4 rounded-lg bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"h-6 w-1/2 rounded-lg bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"h-4 w-2/3 rounded-lg bg-gray-200 dark:bg-gray-700"}),t.createElement("div",{className:"h-10 w-40 rounded-xl bg-gray-200 dark:bg-gray-700"})))),t.createElement("div",{className:"animate-pulse rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg"},t.createElement("div",{className:"h-5 w-32 rounded-lg bg-gray-200 dark:bg-gray-700 mb-4"}),t.createElement("div",{className:"grid grid-cols-2 gap-4"},[1,2,3,4].map(E=>t.createElement("div",{key:E,className:"aspect-[4/5] rounded-2xl bg-gray-200 dark:bg-gray-700"}))))):m?t.createElement("div",{className:"rounded-3xl border-2 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 p-8 text-center shadow-lg"},t.createElement("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(gc,{className:"w-8 h-8 text-red-600 dark:text-red-400"})),t.createElement("p",{className:"text-red-700 dark:text-red-400 font-semibold text-base"},m)):n?t.createElement("div",{className:"space-y-6"},t.createElement("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-white via-indigo-50/40 to-purple-50/40 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-950/20 border-2 border-indigo-300/60 dark:border-indigo-800/50 shadow-2xl"},t.createElement("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),t.createElement("div",{className:"p-6 sm:p-8"},t.createElement("div",{className:"flex gap-5 sm:gap-6"},t.createElement("div",{className:"relative flex-shrink-0"},t.createElement("div",{className:"h-32 w-32 sm:h-40 sm:w-40 overflow-hidden rounded-3xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 shadow-2xl ring-4 ring-white dark:ring-gray-700"},t.createElement("img",{src:n.images?.[0]||"https://via.placeholder.com/128x128",alt:n.title,className:"h-full w-full object-cover"})),n.discount>0&&t.createElement("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-xs font-black px-3 py-1.5 rounded-full shadow-2xl ring-2 ring-white"},"-",n.discount,"%")),t.createElement("div",{className:"flex-1 min-w-0 space-y-3 sm:space-y-4"},t.createElement("div",null,t.createElement("h1",{className:"text-lg sm:text-xl font-black text-gray-900 dark:text-white line-clamp-2 leading-tight mb-3"},n.title),t.createElement("div",{className:"flex items-baseline gap-3"},t.createElement("p",{className:"text-2xl sm:text-3xl font-black text-indigo-600 dark:text-indigo-400"},Zf(n.price)),n.priceBeforeDiscount&&n.priceBeforeDiscount>n.price&&t.createElement("p",{className:"text-base sm:text-lg text-gray-500 dark:text-gray-400 line-through font-bold"},Zf(n.priceBeforeDiscount)))),n?.user?.shopName&&t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center"},t.createElement(vr,{className:"w-3.5 h-3.5 text-white"})),t.createElement("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 truncate"},n.user.shopName)),(n.ratingAverage||n.commentCount)&&t.createElement("div",{className:"flex items-center gap-3 text-xs"},n.ratingAverage>0&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(gr,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500"}),t.createElement("span",{className:"font-bold text-gray-700 dark:text-gray-300"},Number(n.ratingAverage).toFixed(1)),n.ratingCount>0&&t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"(",ep(n.ratingCount),")")),n.commentCount>0&&t.createElement("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400"},t.createElement(pr,{className:"h-3.5 w-3.5"}),t.createElement("span",null,ep(n.commentCount)))),t.createElement(be,{to:f,className:"inline-flex items-center justify-center gap-2 w-full rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 hover:shadow-md transition-all duration-200 active:scale-95"},t.createElement(Jn,{className:"w-5 h-5"}),"Voir le produit",t.createElement(Rr,{className:"w-5 h-5"})))))),t.createElement("section",{className:"rounded-3xl border-2 border-gray-200/60 dark:border-gray-700/50 bg-white dark:bg-gray-800 shadow-2xl overflow-hidden"},t.createElement("div",{className:"bg-gradient-to-r from-amber-50 via-orange-50 to-yellow-50 dark:from-amber-900/20 dark:to-orange-900/20 px-6 py-5 border-b-2 border-amber-200 dark:border-gray-700"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 via-orange-500 to-amber-600 rounded-2xl flex items-center justify-center shadow-lg ring-2 ring-white"},t.createElement(en,{className:"h-6 w-6 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-black text-gray-900 dark:text-white"},"Inspiration"),t.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium"},"Produits similaires pour vous")))),t.createElement("div",{className:"p-5 sm:p-6"},b.length?t.createElement("div",{className:"grid grid-cols-2 gap-3 sm:gap-4"},b.map((E,w)=>{const x=Number(E.product?.ratingAverage||0).toFixed(1),N=ep(E.product?.ratingCount||0),S=ep(E.product?.commentCount||0),k=E.product?.discount>0&&E.product?.priceBeforeDiscount>E.product?.price;return t.createElement(be,{key:`${E.product?._id||"product"}-${E.image}-${w}`,to:y(E.product),className:"group relative overflow-hidden rounded-3xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-[1.03] active:scale-95"},t.createElement("div",{className:"relative aspect-[4/5] w-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 overflow-hidden"},t.createElement("img",{src:E.image,alt:E.product?.title||"Produit",className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}),k&&t.createElement("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-[11px] font-black px-2.5 py-1.5 rounded-full shadow-2xl ring-2 ring-white"},"-",E.product.discount,"%"),t.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})),t.createElement("div",{className:"p-3 sm:p-4 space-y-2.5"},t.createElement("p",{className:"text-xs sm:text-sm font-black text-gray-900 dark:text-white line-clamp-2 leading-tight min-h-[2.5rem] group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},E.product?.title),t.createElement("div",{className:"flex items-baseline gap-2"},t.createElement("p",{className:"text-base sm:text-lg font-black text-indigo-600 dark:text-indigo-400"},Zf(E.product?.price)),k&&t.createElement("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 line-through font-bold"},Zf(E.product.priceBeforeDiscount))),t.createElement("div",{className:"flex items-center gap-2.5 text-[10px] sm:text-[11px]"},x>0&&t.createElement("span",{className:"inline-flex items-center gap-1 bg-amber-50 px-2 py-1 rounded-lg"},t.createElement(gr,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500"}),t.createElement("span",{className:"font-black text-gray-700 dark:text-gray-300"},x),N>0&&t.createElement("span",{className:"text-gray-500"},"(",N,")")),S>0&&t.createElement("span",{className:"inline-flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-lg"},t.createElement(pr,{className:"h-3.5 w-3.5 text-blue-600"}),t.createElement("span",{className:"font-semibold text-gray-700"},S)))))})):t.createElement("div",{className:"rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 p-12 text-center"},t.createElement("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(en,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})),t.createElement("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1"},"Aucune inspiration pour le moment"),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-500"},"D'autres produits similaires apparatront ici"))))):null))}function Cie(){const{slug:e}=go(),r=Kr(),{user:a}=h.useContext(fr),{showToast:n}=Si(),[s,i]=h.useState(!0),[o,d]=h.useState(!1),[u,m]=h.useState(null),[p,f]=h.useState({title:"",description:"",category:"",discount:0,condition:"used",images:[]}),[y,b]=h.useState(""),E=h.useMemo(()=>{if(!u)return{current:"",before:""};const N=Number(u.price).toLocaleString(),S=u.priceBeforeDiscount?Number(u.priceBeforeDiscount).toLocaleString():u.discount>0?Number((u.price/(1-u.discount/100)).toFixed(0)).toLocaleString():"";return{current:N,before:S}},[u]);h.useEffect(()=>{let N=!0;return(async()=>{try{i(!0);const{data:k}=await ie.get(`/products/${e}`);if(!N)return;const P=k.user?._id||k.user;if(a?.role!=="admin"&&P&&String(P)!==a?.id){b("Vous n'tes pas autoris  modifier cette annonce.");return}m(k);const C=dN(k.category);f({title:k.title||"",description:k.description||"",category:C?.value||k.category||"",discount:k.discount??0,condition:k.condition||"used",images:k.images||[]}),b("")}catch(k){if(!N)return;const P=k.response?.status===403?"Accs refus. Cette annonce ne vous appartient pas.":k.response?.status===404?"Annonce introuvable.":k.response?.data?.message||k.message||"Erreur lors du chargement.";b(P)}finally{N&&i(!1)}})(),()=>{N=!1}},[id]);const w=(N,S)=>{f(k=>({...k,[N]:S}))},x=async N=>{N.preventDefault(),d(!0);try{const S={title:p.title,description:p.description,category:p.category,discount:p.discount,condition:p.condition};await ie.put(`/products/${e}`,S),n("Annonce mise  jour avec succs !",{variant:"success"}),r("/my")}catch(S){const k=S.response?.data?.message||S.message||"Erreur lors de la mise  jour.";n(k,{variant:"error"})}finally{d(!1)}};return s?t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse"},t.createElement(hu,{className:"w-8 h-8 text-white"})),t.createElement("p",{className:"text-gray-500"},"Chargement de l'annonce"))):y?t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},t.createElement("div",{className:"max-w-md mx-auto text-center"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(br,{className:"w-8 h-8 text-white"})),t.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},"Erreur"),t.createElement("p",{className:"text-gray-600 mb-6"},y),t.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour"))):t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-2xl mx-auto px-4 py-6"},t.createElement("div",{className:"flex items-center justify-between mb-8"},t.createElement("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors"},t.createElement(Cr,{className:"w-5 h-5"}),t.createElement("span",{className:"font-medium"},"Retour"))),t.createElement("div",{className:"text-center mb-8"},t.createElement("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(hu,{className:"w-8 h-8 text-white"})),t.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Modifier l'annonce"),t.createElement("p",{className:"text-gray-500"},"Mettez  jour les informations de votre produit")),t.createElement("form",{onSubmit:x,className:"space-y-6 bg-white rounded-2xl p-6 shadow-sm border border-gray-100"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-indigo-500 to-purple-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Informations du produit")),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Titre de l'annonce *")),t.createElement("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",placeholder:"Ex: iPhone 13 Pro Max 256GB - tat neuf",value:p.title,onChange:N=>w("title",N.target.value),required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Description dtaille *")),t.createElement("textarea",{rows:4,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 resize-none",placeholder:"Dcrivez votre produit en dtail : caractristiques, tat, accessoires inclus...",value:p.description,onChange:N=>w("description",N.target.value),required:!0})),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ra,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Catgorie *")),t.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:p.category,onChange:N=>w("category",N.target.value),required:!0},t.createElement("option",{value:""},"Slectionnez une catgorie"),Vs.map((N,S)=>t.createElement("optgroup",{key:S,label:N.label},N.options.map(k=>t.createElement("option",{key:k.value,value:k.value},k.label)))))),t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"block text-sm font-medium text-gray-700"},"tat du produit"),t.createElement("div",{className:"flex space-x-4"},t.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"radio",name:"condition",value:"new",checked:p.condition==="new",onChange:N=>w("condition",N.target.value),className:"sr-only"}),t.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${p.condition==="new"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},p.condition==="new"&&t.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),t.createElement("span",{className:"text-sm text-gray-700"},"Neuf")),t.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"radio",name:"condition",value:"used",checked:p.condition==="used",onChange:N=>w("condition",N.target.value),className:"sr-only"}),t.createElement("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all ${p.condition==="used"?"border-indigo-500 bg-indigo-500":"border-gray-300"}`},p.condition==="used"&&t.createElement("div",{className:"w-2 h-2 bg-white rounded-full"}))),t.createElement("span",{className:"text-sm text-gray-700"},"Occasion")))))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-green-500 to-emerald-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Prix et Promotion")),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.createElement("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 p-4"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center space-x-2"},t.createElement(ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",{className:"text-sm font-medium text-indigo-900"},"Prix actuel")),t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-2xl font-bold text-indigo-600"},E.current," FCFA"),E.before&&t.createElement("p",{className:"text-sm text-gray-500 line-through"},E.before," FCFA")),t.createElement("p",{className:"text-xs text-indigo-700"},"Le prix de vente ne peut pas tre modifi aprs cration"))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ra,{className:"w-4 h-4 text-green-500"}),t.createElement("span",null,"Remise promotionnelle (%)")),t.createElement("input",{type:"number",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",min:"0",max:"99",step:"1",value:p.discount,onChange:N=>w("discount",Number(N.target.value))}),t.createElement("p",{className:"text-xs text-gray-500"},"Appliquez une remise pour mettre en avant votre annonce"),p.discount>0&&t.createElement("div",{className:"text-xs text-green-600 font-medium"},"Nouveau prix: ",Math.round(u.price*(1-p.discount/100)).toLocaleString()," FCFA")))),p.images?.length>0&&t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center space-x-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full"}),t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Images du produit")),t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(rl,{className:"w-4 h-4 text-blue-500"}),t.createElement("span",null,"Images actuelles (",p.images.length,")")),t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3"},p.images.map((N,S)=>t.createElement("div",{key:S,className:"relative group"},t.createElement("img",{src:N,alt:`${p.title} ${S+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),t.createElement("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center"},t.createElement("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity"},"Vue ",S+1))))),t.createElement("p",{className:"text-xs text-gray-500"},"Les images ne peuvent pas tre modifies aprs cration"))),t.createElement("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-100"},t.createElement("button",{type:"button",onClick:()=>r("/my"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors"},"Annuler"),t.createElement("button",{type:"submit",disabled:o,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2"},o?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,"Enregistrement...")):t.createElement(t.Fragment,null,t.createElement(bm,{className:"w-5 h-5"}),t.createElement("span",null,"Enregistrer les modifications")))))))}const $E=({className:e})=>t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:e},t.createElement("path",{d:"M4 7h16"}),t.createElement("path",{d:"M10 11v6"}),t.createElement("path",{d:"M14 11v6"}),t.createElement("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12"}),t.createElement("path",{d:"M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"})),Aie=({className:e})=>t.createElement("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),tT=({className:e})=>t.createElement("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})),Bo=e=>Number(e||0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});function _ie(){const{cart:e,loading:r,error:a,updateItem:n,removeItem:s,clearCart:i}=h.useContext(xl),[o,d]=h.useState({}),[u,m]=h.useState(!1),[p,f]=h.useState({}),y=Tn(),b=e.items||[],E=e.totals||{quantity:0,subtotal:0},w=async(C,_)=>{const O=Math.max(0,Number.isNaN(Number(_))?0:Number(_));d(T=>({...T,[C]:!0}));try{await n(C,O)}catch(T){console.error(T)}finally{d(T=>({...T,[C]:!1}))}},x=async C=>{d(_=>({..._,[C]:!0}));try{await s(C)}catch(_){console.error(_)}finally{d(_=>({..._,[C]:!1}))}},N=async()=>{d({all:!0});try{await i(),m(!1)}catch(C){console.error(C)}finally{d({})}},S=r||o.all,k=b.reduce((C,_)=>{const O=_.product.discount||0,T=_.product.priceBeforeDiscount||_.product.price,R=O>0?(T-_.product.price)*_.quantity:0;return C+R},0);h.useEffect(()=>{const C={};b.forEach(({product:_})=>{C[_._id]=_.whatsappClicks??0}),f(C)},[b]);const P=async(C,_)=>{if(!_)return;const O=C._id;try{await ie.post(`/products/public/${O}/whatsapp-click`),f(T=>({...T,[O]:(T?.[O]??C.whatsappClicks??0)+1}))}catch(T){console.error("Failed to record WhatsApp click:",T)}finally{typeof window<"u"&&window.open(_,"_blank","noopener,noreferrer")}};return t.createElement("main",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},t.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},t.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Mon Panier"),t.createElement("p",{className:"text-gray-600 font-medium"},b.length>0?`${b.length} article${b.length>1?"s":""} dans votre panier`:"Votre panier est vide")),b.length>0&&t.createElement("div",{className:"flex items-center gap-3"},t.createElement("button",{onClick:()=>m(!0),disabled:S,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-semibold text-red-600 bg-white border border-red-300 rounded-3xl hover:bg-red-50 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},t.createElement($E,{className:"w-4 h-4"}),"Vider le panier")))),u&&t.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50"},t.createElement("div",{className:"bg-white rounded-3xl p-6 sm:p-8 max-w-md w-full space-y-6 shadow-2xl border-2 border-gray-100"},t.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-3xl flex items-center justify-center mx-auto"},t.createElement($E,{className:"w-8 h-8 text-red-600"})),t.createElement("div",{className:"text-center space-y-2"},t.createElement("h3",{className:"text-xl font-black text-gray-900"},"Vider le panier"),t.createElement("p",{className:"text-gray-600 text-sm font-medium"},"tes-vous sr de vouloir supprimer tous les articles de votre panier ? Cette action est irrversible.")),t.createElement("div",{className:"flex gap-3 pt-2"},t.createElement("button",{onClick:()=>m(!1),className:"flex-1 px-5 py-3 text-sm font-semibold text-gray-700 bg-gray-100 rounded-3xl hover:bg-gray-200 transition-all duration-200 active:scale-95"},"Annuler"),t.createElement("button",{onClick:N,disabled:o.all,className:"flex-1 px-5 py-3 text-sm font-semibold text-white bg-red-600 rounded-3xl hover:bg-red-700 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},o.all?"Suppression...":"Vider le panier")))),a&&t.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-3xl p-4 sm:p-6 shadow-sm"},t.createElement("p",{className:"text-red-700 text-sm font-semibold"},a)),r&&b.length===0?t.createElement("div",{className:"flex items-center justify-center py-16"},t.createElement("div",{className:"flex items-center gap-3 text-gray-600"},t.createElement("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),t.createElement("span",{className:"font-medium"},"Chargement du panier..."))):b.length===0?t.createElement("div",{className:"text-center py-16 sm:py-20"},t.createElement("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg"},t.createElement(tT,{className:"w-16 h-16 text-gray-400"})),t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-3"},"Panier vide"),t.createElement("p",{className:"text-gray-600 mb-8 max-w-sm mx-auto font-medium"},"Votre panier est vide. Dcouvrez nos produits et ajoutez vos articles prfrs."),t.createElement(be,{to:"/products",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3.5 rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 font-semibold shadow-sm"},t.createElement(tT,{className:"w-5 h-5"}),"Dcouvrir les produits")):t.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-[1fr_420px] gap-6 sm:gap-8"},t.createElement("div",{className:"space-y-4 sm:space-y-5"},b.map(({product:C,quantity:_,lineTotal:O})=>{const T=C.user?.phone||C?.contactPhone,R=cN(C,T),D=C.discount||0,j=C.priceBeforeDiscount||C.price,L=p[C._id]??C.whatsappClicks??0;return t.createElement("div",{key:C._id,className:"group bg-white rounded-xl sm:rounded-3xl border-2 border-gray-200 p-2 sm:p-5 lg:p-6 hover:shadow-xl transition-all duration-300 hover:border-blue-200"},t.createElement("div",{className:"flex flex-col md:flex-row gap-2 sm:gap-5 lg:gap-6"},t.createElement("div",{className:"w-20 sm:w-full md:w-36 lg:w-44 flex-shrink-0"},t.createElement(be,{to:or(C),...y,className:"block relative overflow-hidden rounded-lg sm:rounded-2xl aspect-square bg-gradient-to-br from-gray-100 to-gray-200 group-hover:shadow-lg transition-all duration-300"},t.createElement("img",{src:C.images?.[0]||"https://via.placeholder.com/300",alt:C.title,className:"absolute inset-0 h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),D>0&&t.createElement("div",{className:"absolute top-1 left-1 sm:top-3 sm:left-3 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white text-[9px] sm:text-xs font-black px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-full shadow-lg ring-1 sm:ring-2 ring-white"},"-",D,"%"))),t.createElement("div",{className:"flex-1 space-y-1.5 sm:space-y-4 min-w-0"},t.createElement("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-2 sm:gap-4"},t.createElement("div",{className:"space-y-1.5 sm:space-y-3 flex-1 min-w-0"},t.createElement(be,{to:or(C),...y,className:"text-sm sm:text-xl lg:text-2xl font-black text-gray-900 hover:text-blue-600 transition-colors line-clamp-2"},C.title),t.createElement("p",{className:"text-[10px] sm:text-sm text-gray-600 font-medium"},"Catgorie : ",t.createElement("span",{className:"text-gray-900"},C.category)),t.createElement("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-wrap"},t.createElement("span",{className:"text-sm sm:text-2xl lg:text-3xl font-black text-blue-600"},Bo(C.price)," FCFA"),D>0&&t.createElement(t.Fragment,null,t.createElement("span",{className:"text-xs sm:text-lg text-gray-400 line-through font-bold"},Bo(j)," FCFA"),t.createElement("span",{className:"text-[9px] sm:text-xs bg-gradient-to-r from-green-500 to-emerald-600 text-white px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-full font-black shadow-sm"},"co: ",Bo((j-C.price)*_)," FCFA")))),t.createElement("div",{className:"flex flex-col items-end gap-1.5 sm:gap-4"},t.createElement("div",{className:"flex items-center gap-1 sm:gap-2 bg-gray-50 rounded-xl sm:rounded-3xl p-0.5 sm:p-1 border border-gray-200"},t.createElement("button",{type:"button",className:"w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-gray-700 hover:bg-white disabled:opacity-40 transition-all duration-200 active:scale-90 shadow-sm",onClick:()=>w(C._id,_-1),disabled:S||o[C._id]||_<=1},t.createElement("span",{className:"text-base sm:text-xl font-semibold"},"")),t.createElement("div",{className:"w-10 sm:w-14 text-center"},t.createElement("input",{type:"number",min:"1",className:"w-full bg-transparent border-0 text-center h-7 sm:h-10 font-black text-gray-900 text-xs sm:text-base focus:outline-none",value:_,onChange:K=>w(C._id,K.target.value),disabled:S||o[C._id]})),t.createElement("button",{type:"button",className:"w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-gray-700 hover:bg-white disabled:opacity-40 transition-all duration-200 active:scale-90 shadow-sm",onClick:()=>w(C._id,_+1),disabled:S||o[C._id]},t.createElement("span",{className:"text-base sm:text-xl font-semibold"},"+"))),t.createElement("div",{className:"text-right bg-blue-50 px-2 py-1 sm:px-4 sm:py-2 rounded-lg sm:rounded-2xl border border-blue-100"},t.createElement("span",{className:"text-[9px] sm:text-xs text-gray-600 font-medium block mb-0.5 sm:mb-1"},"Sous-total"),t.createElement("div",{className:"text-sm sm:text-xl lg:text-2xl font-black text-blue-600"},Bo(O)," FCFA")))),t.createElement("div",{className:"flex items-center gap-2 sm:gap-3 pt-2 sm:pt-4 border-t-2 border-gray-100 w-full"},R&&t.createElement("button",{type:"button",onClick:()=>P(C,R),className:"flex-1 min-w-0 inline-flex items-center gap-1.5 sm:gap-2 bg-green-50 border border-green-200 text-green-700 px-2.5 py-2 sm:px-5 sm:py-3 rounded-xl sm:rounded-3xl hover:bg-green-100 transition-all duration-200 active:scale-95 font-semibold text-xs sm:text-sm shadow-sm overflow-hidden"},t.createElement(Aie,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),t.createElement("div",{className:"flex flex-col items-start leading-tight text-left min-w-0 flex-1 overflow-hidden"},t.createElement("span",{className:"text-xs sm:text-sm font-bold truncate w-full"},"Commander"),T&&t.createElement("span",{className:"text-[10px] sm:text-xs text-green-600 font-medium truncate w-full"},T),t.createElement("span",{className:"text-[10px] text-green-500 whitespace-nowrap"},L," clic",L>1?"s":""))),t.createElement("button",{type:"button",onClick:()=>x(C._id),disabled:S||o[C._id],className:"flex-shrink-0 inline-flex items-center justify-center gap-1.5 sm:gap-2 text-red-600 bg-white border border-red-300 px-3 py-2 sm:px-5 sm:py-3 rounded-xl sm:rounded-3xl hover:bg-red-50 transition-all duration-200 active:scale-95 disabled:opacity-60 font-semibold text-xs sm:text-sm shadow-sm"},t.createElement($E,{className:"w-4 h-4 flex-shrink-0"}),t.createElement("span",{className:"hidden sm:inline"},"Supprimer"),t.createElement("span",{className:"sm:hidden"},"Suppr."))))))})),t.createElement("div",{className:"space-y-6"},t.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 p-6 sm:p-8 sticky top-6 shadow-xl"},t.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-6"},"Rsum de la commande"),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-gray-50 rounded-2xl"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Articles (",E.quantity,")"),t.createElement("span",{className:"font-black text-gray-900 text-lg"},Bo(E.subtotal)," FCFA")),k>0&&t.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-green-50 rounded-2xl border border-green-200"},t.createElement("span",{className:"text-green-700 font-semibold"},"conomies"),t.createElement("span",{className:"font-black text-green-600 text-lg"},"-",Bo(k)," FCFA")),t.createElement("div",{className:"flex justify-between items-center py-3 px-4 bg-blue-50 rounded-2xl border border-blue-200"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Livraison estime"),t.createElement("span",{className:"font-black text-blue-600"},"Gratuite")),t.createElement("div",{className:"border-t-2 border-gray-200 pt-5"},t.createElement("div",{className:"flex justify-between items-center"},t.createElement("span",{className:"text-xl font-black text-gray-900"},"Total"),t.createElement("span",{className:"text-3xl font-black text-blue-600"},Bo(E.subtotal)," FCFA"))),t.createElement("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-4"},t.createElement("p",{className:"text-xs text-blue-800 text-center font-medium leading-relaxed"}," Les paiements sont scuriss et grs aprs validation des annonces. Contactez directement les vendeurs pour finaliser vos achats.")),t.createElement("div",{className:"space-y-3 pt-2"},t.createElement(be,{to:"/orders/checkout",className:"block w-full bg-blue-600 text-white text-center py-4 rounded-3xl hover:bg-blue-700 transition-all duration-200 active:scale-95 font-semibold shadow-sm text-base"},"Continuer mes achats")))),t.createElement("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl p-6 text-center border-2 border-gray-200"},t.createElement("h3",{className:"font-black text-gray-900 mb-4"},"Paiement scuris"),t.createElement("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 text-gray-600"},t.createElement("div",{className:"text-xs font-semibold"}," Paiement scuris"),t.createElement("div",{className:"text-xs font-semibold"}," Livraison garantie"),t.createElement("div",{className:"text-xs font-semibold"}," Support 24/7")))))))}const Pie={name:"",email:"",phone:"",password:"",confirmPassword:"",accountType:"person",shopName:"",shopAddress:"",shopDescription:"",address:"",country:"Rpublique du Congo",city:"",gender:""},Tie=(e={})=>({pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...e},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...e},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...e},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...e},cancelled:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0,...e}}),Oie=()=>({pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0},cancelled:{count:0,totalAmount:0}}),LE=()=>({listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0},performance:{views:0,clicks:0,conversion:0},orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:Tie()},sales:{totalCount:0,totalAmount:0,byStatus:Oie()}}}),rT={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine"},Mie={pending:"border-gray-200 bg-gray-50 text-gray-700",confirmed:"border-yellow-200 bg-yellow-50 text-yellow-800",delivering:"border-blue-200 bg-blue-50 text-blue-800",delivered:"border-green-200 bg-green-50 text-green-800"},aT=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation.",icon:It},{id:"confirmed",label:"Commande confirme",description:"Votre commande a t valide et sera prpare pour la livraison.",icon:wt},{id:"delivering",label:"En cours de livraison",description:"Le livreur est en route avec votre colis.",icon:xr},{id:"delivered",label:"Commande termine",description:"La commande est livre et archive par nos quipes.",icon:Kt}],jie=({status:e})=>{const r=aT.findIndex(n=>n.id===e),a=r>=0?r:0;return t.createElement("div",{className:"mt-4 border border-gray-100 rounded-2xl p-3 bg-gray-50"},t.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-3"},"Suivi de lavancement"),t.createElement("div",{className:"space-y-4"},aT.map((n,s)=>{const i=n.icon,o=a>=s,d=a===s;return t.createElement("div",{key:n.id,className:"flex items-start gap-3"},t.createElement("div",{className:`mt-0.5 w-9 h-9 rounded-full border-2 flex items-center justify-center ${o?"border-indigo-600 text-indigo-600 bg-white":"border-gray-200 text-gray-400 bg-white"}`},t.createElement(i,{size:16})),t.createElement("div",{className:"flex-1"},t.createElement("p",{className:`text-sm font-semibold ${o?"text-gray-900":"text-gray-500"}`},n.label,d&&t.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700"},n.id==="pending"?"En attente":n.id==="delivered"?"Termine":"En cours"),!d&&o&&t.createElement("span",{className:"ml-2 text-[11px] px-2 py-0.5 rounded-full bg-green-100 text-green-700"},"Termine")),t.createElement("p",{className:"text-xs text-gray-500"},n.description)))})))},Rie=new Intl.NumberFormat("fr-FR"),dc=e=>{const r=Number(e);return!Number.isFinite(r)||r<0?"0":Rie.format(r)},nT=e=>`${dc(e)} FCFA`,tp=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",D1=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}],wp=()=>D1.map(e=>({day:e.key,label:e.label,open:"",close:"",closed:!0})),$ie=e=>{if(!Array.isArray(e)||!e.length)return wp();const r=new Map;return e.forEach(a=>{if(!a||typeof a!="object")return;const n=typeof a.day=="string"?a.day:"",s=D1.find(o=>o.key===n);if(!s)return;const i=typeof a.closed=="boolean"?a.closed:a.closed==="true"||a.closed==="1"||a.closed===1;r.set(n,{day:n,label:s.label,open:typeof a.open=="string"?a.open:"",close:typeof a.close=="string"?a.close:"",closed:i})}),D1.map(a=>{const n=r.get(a.key);return n?{...n,label:a.label}:{day:a.key,label:a.label,open:"",close:"",closed:!0}})};function Lie(){const{user:e,updateUser:r}=h.useContext(fr),{showToast:a}=Si(),n=Kr(),[s,i]=h.useState(Pie),[o,d]=h.useState(!1),[u,m]=h.useState(""),[p,f]=h.useState(""),[y,b]=h.useState(null),[E,w]=h.useState(""),[x,N]=h.useState(null),[S,k]=h.useState(""),[P,C]=h.useState(()=>wp()),[_,O]=h.useState(()=>LE()),[T,R]=h.useState(!1),[D,j]=h.useState(""),[L,K]=h.useState(!1),[W,$]=h.useState(""),[J,Q]=h.useState(!1),[X,H]=h.useState(!1),[I,B]=h.useState(""),[G,z]=h.useState(""),[ae,he]=h.useState("profile"),[ve,_e]=h.useState([]),[ee,le]=h.useState(!1),[pe,Ne]=h.useState(""),[oe,re]=h.useState(!1),[Me,ge]=h.useState(""),[$e,De]=h.useState(""),[Ye,Je]=h.useState([]),[bt,Ze]=h.useState(!1),[nt,ct]=h.useState(""),[vt,Zt]=h.useState(""),[pt,ut]=h.useState([]),[Lt,zt]=h.useState(!1),[nr,Bt]=h.useState(""),[xt,we]=h.useState(""),[ot,ht]=h.useState(""),[Z,xe]=h.useState(!1),[fe,ye]=h.useState(""),[Y,U]=h.useState(""),[de,Re]=h.useState({total:0,remaining:5}),[Ve,Qe]=h.useState([]),[Pt,q]=h.useState(!1),[ue,ke]=h.useState(""),[Pe,ze]=h.useState(null),tt=e?.accountType==="shop"?la(e):null,He=[{label:"Annonces",value:_.listings?.total||0},{label:"Favoris reus",value:_.engagement?.favoritesReceived||0},{label:"Vues",value:_.performance?.views||0},{label:"WhatsApp",value:_.performance?.clicks||0}],jt={pending:"En attente",in_review:"En cours",resolved:"Rsolue"},Nt={pending:"bg-orange-100 text-orange-700",in_review:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-700"},St=h.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),sa=h.useCallback(se=>{if(!se)return"";const Te=se.replace(/\\/g,"/");return/^https?:\/\//i.test(Te)?Te:`${St}/${Te.replace(/^\/+/,"")}`},[St]);h.useEffect(()=>()=>{E&&E.startsWith("blob:")&&URL.revokeObjectURL(E),S&&S.startsWith("blob:")&&URL.revokeObjectURL(S)},[E,S]),h.useEffect(()=>{if(!e){C(wp());return}i(se=>({...se,name:e.name||"",email:e.email||"",phone:e.phone||"",accountType:e.accountType||"person",shopName:e.shopName||"",shopAddress:e.shopAddress||"",shopDescription:e.shopDescription||"",address:e.address||"",country:e.country||"Rpublique du Congo",city:e.city||"",gender:e.gender||""})),w(e.shopLogo||""),k(e.shopBanner||""),C($ie(e.shopHours))},[e]),h.useEffect(()=>{if(!e){O(LE()),j(""),R(!1),_e([]),re(!1),Ne("");return}let se=!0;return(async()=>{R(!0),j("");try{const{data:et}=await ie.get("/users/profile/stats");if(!se)return;const Mt=LE(),Br=et?.orders?.purchases||{},Ks=et?.orders?.sales||{};O({listings:{...Mt.listings,...et?.listings||{}},engagement:{...Mt.engagement,...et?.engagement||{}},performance:{...Mt.performance,...et?.performance||{}},orders:{purchases:{...Mt.orders.purchases,...Br,byStatus:{...Mt.orders.purchases.byStatus,...Br.byStatus||{}}},sales:{...Mt.orders.sales,...Ks,byStatus:{...Mt.orders.sales.byStatus,...Ks.byStatus||{}}}}})}catch(et){if(!se)return;j(et.response?.data?.message||et.message||"Impossible de charger les statistiques.")}finally{se&&R(!1)}})(),()=>{se=!1}},[e]);const Xr=h.useCallback(async()=>{if(e){le(!0),Ne("");try{const{data:se}=await ie.get("/orders?limit=50"),Te=Array.isArray(se)?se:se?.items||[];_e(Te),re(!0)}catch(se){Ne(se.response?.data?.message||se.message||"Impossible de charger vos commandes.")}finally{le(!1)}}},[e]);h.useEffect(()=>{ae==="orders"&&e&&!oe&&!ee&&Xr()},[ae,e,oe,ee,Xr]);const La=h.useCallback(async()=>{if(!e){ut([]),Bt("");return}zt(!0),Bt("");try{const{data:se}=await ie.get("/users/complaints"),Te=Array.isArray(se)?se.map(et=>({...et,attachments:(Array.isArray(et.attachments)?et.attachments:[]).map(Mt=>({...Mt,url:sa(Mt.path||Mt.url||"")}))})):[];ut(Te)}catch(se){Bt(se.response?.data?.message||se.message||"Impossible de charger vos rclamations.")}finally{zt(!1)}},[sa,e]);h.useEffect(()=>{La()},[La]);const Yr=h.useCallback(async()=>{if(!e){Re({total:0,remaining:5}),Qe([]),ke("");return}q(!0),ke("");try{const{data:se}=await ie.get("/users/feedback"),Te=Array.isArray(se?.items)?se.items:[];Qe(Te),Re({total:Number(se?.total||Te.length||0),remaining:Number.isFinite(Number(se?.remaining))?Number(se.remaining):Math.max(0,5-Number(se?.total||Te.length||0))})}catch(se){Re({total:0,remaining:5}),Qe([]),ke(se.response?.data?.message||se.message||"Impossible de charger vos avis.")}finally{q(!1)}},[e]);h.useEffect(()=>{Yr()},[Yr]);const er=se=>{const{name:Te,value:et}=se.target;if(Te==="accountType"){i(Mt=>({...Mt,accountType:et,shopName:et==="shop"?Mt.shopName:"",shopAddress:et==="shop"?Mt.shopAddress:"",shopDescription:et==="shop"?Mt.shopDescription:""})),et!=="shop"&&(b(null),w(""),N(null),k(""));return}i(Mt=>({...Mt,[Te]:et}))},Yt=se=>{const Te=se.target.files&&se.target.files[0]?se.target.files[0]:null;b(Te),Te&&(E&&E.startsWith("blob:")&&URL.revokeObjectURL(E),w(URL.createObjectURL(Te)))},ne=()=>{b(null),w("")},rt=se=>{const Te=se.target.files&&se.target.files[0]?se.target.files[0]:null;N(Te),Te&&(S&&S.startsWith("blob:")&&URL.revokeObjectURL(S),k(URL.createObjectURL(Te)))},Ke=()=>{N(null),k("")},dt=()=>{C(wp())},mt=(se,Te)=>{C(et=>et.map(Mt=>Mt.day===se?{...Mt,...Te}:Mt))},Dt=(se,Te)=>et=>{mt(se,{[Te]:et.target.value})},Be=(se,Te)=>{mt(se,{closed:Te})},Er=se=>{const Te=Array.from(se.target.files||[]);if(!Te.length)return;const et=Math.max(0,2-Ye.length),Mt=Te.slice(0,et);if(!Mt.length){ct("Vous pouvez ajouter au maximum 2 fichiers."),se.target.value="";return}Te.length>Mt.length?ct("Maximum 2 fichiers autoriss, seuls les premiers ont t ajouts."):ct(""),Je(Br=>[...Br,...Mt]),se.target.value=""},Ft=se=>{Je(Te=>Te.filter((et,Mt)=>Mt!==se)),ct("")},Eo=async()=>{H(!0),B(""),z("");try{await ie.post("/users/password/send-code"),Q(!0),z("Code envoy par email."),a("Code envoy par email.",{variant:"success"})}catch(se){const Te=se.response?.data?.message||se.message||"Impossible denvoyer le code.";B(Te),a(Te,{variant:"error"})}finally{H(!1)}},Tr=async()=>{if(!s.password)return!0;if(!W.trim()){const se="Veuillez saisir le code reu par email avant de modifier le mot de passe.";return B(se),a(se,{variant:"error"}),!1}try{return await ie.post("/users/password/change",{verificationCode:W.trim(),newPassword:s.password}),$(""),Q(!1),B(""),z("Mot de passe mis  jour."),a("Mot de passe mis  jour.",{variant:"success"}),!0}catch(se){const Te=se.response?.data?.message||se.message||"Impossible de modifier le mot de passe.";return B(Te),a(Te,{variant:"error"}),!1}},nn=async se=>{if(se.preventDefault(),s.password&&s.password!==s.confirmPassword){const Te="Les mots de passe ne correspondent pas.";f(Te),a(Te,{variant:"error"});return}if(!s.city||!s.gender){const Te="Veuillez slectionner votre ville et votre genre.";f(Te),a(Te,{variant:"error"});return}if(!s.address.trim()){const Te="Veuillez renseigner votre adresse complte.";f(Te),a(Te,{variant:"error"});return}d(!0),f(""),m("");try{if(s.password&&!await Tr())return;if(s.accountType==="shop"&&(!s.shopName||!s.shopAddress||!s.shopDescription.trim())){const Br="Veuillez renseigner le nom, ladresse et la description de votre boutique.";f(Br),a(Br,{variant:"error"});return}const Te=new FormData,et=P.map(Br=>({day:Br.day,closed:!!Br.closed,open:Br.closed?"":Br.open||"",close:Br.closed?"":Br.close||""}));Te.append("name",s.name),Te.append("email",s.email),Te.append("accountType",s.accountType),Te.append("city",s.city),Te.append("gender",s.gender),Te.append("address",s.address.trim()),s.accountType==="shop"&&(Te.append("shopName",s.shopName),Te.append("shopAddress",s.shopAddress),Te.append("shopDescription",s.shopDescription.trim()),y&&Te.append("shopLogo",y),e?.shopVerified&&x&&Te.append("shopBanner",x),Te.append("shopHours",JSON.stringify(et)));const{data:Mt}=await ie.put("/users/profile",Te,{headers:{"Content-Type":"multipart/form-data"}});r(Mt),m("Profil mis  jour avec succs !"),a("Profil mis  jour avec succs !",{variant:"success"}),i(Br=>({...Br,password:"",confirmPassword:"",accountType:Mt.accountType||"person",shopName:Mt.shopName||"",shopAddress:Mt.shopAddress||"",shopDescription:Mt.shopDescription||"",address:Mt.address||"",country:Mt.country||"Rpublique du Congo",city:Mt.city||"",gender:Mt.gender||""})),w(Mt.shopLogo||""),b(null),k(Mt.shopBanner||""),N(null),$(""),Q(!1),B(""),z(""),setTimeout(()=>{n("/")},2e3)}catch(Te){const et=Te.response?.data?.message||Te.message||"Une erreur est survenue.";f(et),a(et,{variant:"error"})}finally{d(!1)}},Ia=async se=>{if(se.preventDefault(),ye(""),U(""),!xt.trim()){ye("Veuillez renseigner un sujet.");return}if(!ot.trim()){ye("Veuillez dtailler votre avis.");return}if(de.remaining<=0){ye("Vous avez atteint la limite de 5 avis.");return}xe(!0);try{const{data:Te}=await ie.post("/users/feedback",{subject:xt.trim(),body:ot.trim()});U("Merci ! Votre avis a t envoy."),we(""),ht(""),Te?.feedback&&Qe(et=>[Te.feedback,...et].slice(0,5)),typeof Te?.remaining=="number"?Re(et=>({total:et.total+1,remaining:Te.remaining})):await Yr()}catch(Te){const et=Te.response?.data?.message||Te.message||"Impossible denvoyer votre avis.";ye(et)}finally{xe(!1)}},Pa=se=>{se&&ze(se)},Cs=()=>{ze(null)},ts=async se=>{if(se.preventDefault(),ct(""),Zt(""),!$e.trim()){ct("Veuillez dtailler votre rclamation.");return}Ze(!0);try{const Te=new FormData;Te.append("subject",Me.trim()),Te.append("message",$e.trim()),Ye.forEach(et=>Te.append("attachments",et)),await ie.post("/users/complaints",Te,{headers:{"Content-Type":"multipart/form-data"}}),Zt("Votre rclamation a bien t envoye."),ge(""),De(""),Je([]),a("Rclamation envoye",{variant:"success"}),await La()}catch(Te){const et=Te.response?.data?.message||Te.message||"Une erreur est survenue.";ct(et),a(et,{variant:"error"})}finally{Ze(!1)}};return e?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},t.createElement("div",{className:"text-center mb-8"},t.createElement("div",{className:"w-20 h-20 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(ha,{className:"w-10 h-10 text-white"})),t.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Mon Profil"),t.createElement("p",{className:"text-gray-500"},"Grez vos informations et consultez vos statistiques"),e?.address?t.createElement("p",{className:"mt-2 flex items-center justify-center text-sm text-gray-600 gap-2"},t.createElement(Sr,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,e.address)):null,tt&&t.createElement(be,{to:tt,className:"inline-flex items-center gap-2 mt-4 px-4 py-2 rounded-xl border border-indigo-200 text-sm font-semibold text-indigo-600 hover:bg-indigo-50 transition-colors"},t.createElement(vr,{className:"w-4 h-4"}),"Voir ma boutique publique"),t.createElement("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:hidden"},He.map(({label:se,value:Te})=>t.createElement("div",{key:se,className:"bg-white border border-gray-100 rounded-2xl p-3 shadow-sm flex flex-col"},t.createElement("span",{className:"text-[11px] uppercase tracking-wide text-gray-400"},se),t.createElement("span",{className:"text-lg font-bold text-gray-900"},dc(Te)))))),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-1 bg-white rounded-2xl p-2 sm:p-1 shadow-sm border border-gray-100 mb-6"},[{id:"profile",label:"Profil",icon:ha},{id:"stats",label:"Statistiques",icon:Gn},{id:"performance",label:"Performance",icon:rr},{id:"orders",label:"Mes commandes",icon:ea}].map(se=>{const Te=se.icon;return t.createElement("button",{key:se.id,onClick:()=>he(se.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl font-medium transition-all flex-1 w-full text-left sm:text-center ${ae===se.id?"bg-indigo-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`},t.createElement(Te,{className:"w-4 h-4"}),t.createElement("span",null,se.label))})),ae==="profile"&&t.createElement(t.Fragment,null,t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},t.createElement("div",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),t.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Informations personnelles")),t.createElement("form",{onSubmit:nn,className:"space-y-6"},t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(ha,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Nom complet *")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"name",value:s.name,onChange:er,disabled:o,required:!0}),t.createElement(ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(uo,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Adresse email *")),t.createElement("div",{className:"relative"},t.createElement("input",{type:"email",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"email",value:s.email,onChange:er,disabled:o,required:!0}),t.createElement(uo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(hi,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Tlphone")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:s.phone,readOnly:!0,disabled:!0}),t.createElement("span",{className:"absolute top-2 right-3 text-[11px] text-gray-500"},"Non modifiable"),t.createElement(hi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Sr,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Pays *")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-100 border border-gray-200 rounded-xl text-gray-500",value:"Rpublique du Congo",readOnly:!0,disabled:!0}),t.createElement(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Sr,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Ville *")),t.createElement("div",{className:"relative"},t.createElement("select",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"city",value:s.city,onChange:er,disabled:o,required:!0},t.createElement("option",{value:""},"Choisissez votre ville"),["Brazzaville","Pointe-Noire","Ouesso","Oyo"].map(se=>t.createElement("option",{key:se,value:se},se))),t.createElement(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2 md:col-span-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Sr,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Adresse complte *")),t.createElement("div",{className:"relative"},t.createElement("textarea",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400",rows:2,name:"address",value:s.address,onChange:er,disabled:o,placeholder:"Quartier, rue, numro de parcelle...",required:!0}),t.createElement(Sr,{className:"absolute left-4 top-4 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2 md:col-span-2"},t.createElement("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2"},t.createElement(Ns,{className:"w-4 h-4 text-indigo-500"}),"Genre *",t.createElement("span",{className:"text-[11px] text-gray-500"},"Non modifiable")),t.createElement("div",{className:"grid grid-cols-2 gap-3"},[{value:"homme",label:"Homme"},{value:"femme",label:"Femme"}].map(se=>t.createElement("label",{key:se.value,className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${s.gender===se.value?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 bg-gray-50 text-gray-600"}`},t.createElement("input",{type:"radio",name:"gender",value:se.value,checked:s.gender===se.value,className:"sr-only",disabled:!0}),se.label)))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement($r,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Type de compte")),e?.accountType==="shop"?t.createElement("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"accountType",value:s.accountType,onChange:er,disabled:o},t.createElement("option",{value:"shop"},"Boutique"),t.createElement("option",{value:"person"},"Particulier")):t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-600",value:"Particulier",disabled:!0,readOnly:!0}),t.createElement("div",{className:"absolute right-4 top-1/2 -translate-y-1/2"},t.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"},"Basique"))))),s.accountType==="shop"&&t.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},t.createElement("div",{className:"flex items-center space-x-3 flex-wrap gap-y-2"},t.createElement("div",{className:"w-2 h-6 bg-amber-600 rounded-full"}),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Informations de la boutique"),t.createElement(Za,{verified:!!e?.shopVerified}),t.createElement("span",{className:"text-xs text-gray-500"},e?.shopVerified?"Boutique vrifie par lquipe HDMarket.":"Contactez un administrateur pour faire vrifier votre boutique.")),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(vr,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null,"Nom de la boutique *")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopName",value:s.shopName,onChange:er,disabled:o,required:!0}),t.createElement(vr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Sr,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null,"Adresse *")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"shopAddress",value:s.shopAddress,onChange:er,disabled:o,required:!0}),t.createElement(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Cu,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null," propos de la boutique *")),t.createElement("textarea",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-gray-400 text-sm",rows:4,name:"shopDescription",value:s.shopDescription,onChange:er,placeholder:"Dcrivez vos engagements, types de produits, services...",disabled:o,required:!0}),t.createElement("p",{className:"text-xs text-gray-500"},"Ce texte saffiche sur votre page publique pour rassurer vos clients.")),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900"},t.createElement(It,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null,"Horaires d'ouverture")),t.createElement("button",{type:"button",onClick:dt,disabled:o,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-500 disabled:opacity-50 transition-colors"},"Rinitialiser")),t.createElement("p",{className:"text-xs text-gray-500"},"Ces horaires sont indiqus aux acheteurs sur votre boutique publique."),t.createElement("div",{className:"space-y-2"},P.map(se=>t.createElement("div",{key:se.day,className:"flex flex-col gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-900"},se.label),t.createElement("p",{className:"text-xs text-gray-500"},se.closed?"Ferm":se.open&&se.close?`${se.open}  ${se.close}`:"Horaires partiels")),t.createElement("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3"},t.createElement("input",{type:"time",value:se.open,onChange:Dt(se.day,"open"),disabled:se.closed||o,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),t.createElement("span",{className:"text-xs text-gray-400"},""),t.createElement("input",{type:"time",value:se.close,onChange:Dt(se.day,"close"),disabled:se.closed||o,className:"h-10 w-24 rounded-xl border border-gray-200 bg-gray-50 px-3 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"}),t.createElement("label",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement("input",{type:"checkbox",checked:se.closed,onChange:Te=>Be(se.day,Te.target.checked),disabled:o,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),t.createElement("span",null,"Ferm")))))),t.createElement("p",{className:"text-xs text-gray-500"},"Laissez un jour en ferme si vous ntes pas disponible ou si aucun horaire nest dfini.")),t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(UO,{className:"w-4 h-4 text-amber-500"}),t.createElement("span",null,"Logo de la boutique")),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},E?t.createElement("div",{className:"text-center"},t.createElement("img",{src:E,alt:"Logo boutique",className:"w-24 h-24 rounded-2xl object-cover mx-auto mb-3 border-2 border-amber-200"}),t.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Logo actuel"),t.createElement("button",{type:"button",onClick:ne,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):t.createElement("label",{className:"text-center cursor-pointer"},t.createElement(Ji,{className:"w-8 h-8 text-gray-400 group-hover:text-amber-500 transition-colors mb-2 mx-auto"}),t.createElement("span",{className:"text-sm text-gray-500"},t.createElement("span",{className:"text-amber-600 font-medium"},"Cliquez pour uploader"),t.createElement("br",null),t.createElement("span",{className:"text-xs"},"PNG, JPG - 200x200px recommand")),t.createElement("input",{type:"file",accept:"image/*",onChange:Yt,className:"hidden"})))),e?.shopVerified?t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(rl,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",null,"Bannire de la boutique")),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-2xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors group p-6"},S?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:S,alt:"Bannire boutique",className:"h-32 w-full rounded-2xl object-cover mx-auto mb-3 border-2 border-indigo-200"}),t.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Bannire actuelle"),t.createElement("button",{type:"button",onClick:Ke,className:"text-sm text-red-600 hover:text-red-500"},"Supprimer")):t.createElement("label",{className:"text-center cursor-pointer"},t.createElement(Ji,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-500 transition-colors mb-2 mx-auto"}),t.createElement("span",{className:"text-sm text-gray-500"},t.createElement("span",{className:"text-indigo-600 font-medium"},"Cliquez pour uploader"),t.createElement("br",null),t.createElement("span",{className:"text-xs"},"PNG, JPG - 1200x400px recommand")),t.createElement("input",{type:"file",accept:"image/*",onChange:rt,className:"hidden"})))):t.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/50 p-4 text-xs text-indigo-700"},"La bannire est disponible uniquement pour les boutiques certifies.")),t.createElement("div",{className:"space-y-6 pt-6 border-t border-gray-100"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:"w-2 h-6 bg-emerald-600 rounded-full"}),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Scurit")),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(An,{className:"w-4 h-4 text-green-500"}),t.createElement("span",null,"Nouveau mot de passe")),t.createElement("div",{className:"relative"},t.createElement("input",{type:L?"text":"password",className:"w-full px-4 py-3 pl-11 pr-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"password",value:s.password,onChange:er,disabled:o,placeholder:"Laisser vide pour conserver"}),t.createElement(An,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.createElement("button",{type:"button",onClick:()=>K(!L),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},L?t.createElement(Q0,{className:"w-4 h-4"}):t.createElement(Jn,{className:"w-4 h-4"})))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(An,{className:"w-4 h-4 text-green-500"}),t.createElement("span",null,"Confirmer le mot de passe")),t.createElement("div",{className:"relative"},t.createElement("input",{type:L?"text":"password",className:"w-full px-4 py-3 pl-11 pr-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",name:"confirmPassword",value:s.confirmPassword,onChange:er,disabled:o,placeholder:"Confirmez le mot de passe"}),t.createElement(An,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})))),t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-4 space-y-3"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-700"},"Code de vrification email"),t.createElement("p",{className:"text-xs text-gray-500"},"Un code est requis pour confirmer la modification du mot de passe.")),t.createElement("button",{type:"button",onClick:Eo,disabled:X||o,className:"px-4 py-2 rounded-xl border border-indigo-200 text-indigo-600 font-semibold hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},X?"Envoi...":J?"Renvoyer le code":"Envoyer le code")),t.createElement("div",{className:"relative"},t.createElement("input",{className:"w-full px-4 py-3 pl-11 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Code reu par email",value:W,onChange:se=>$(se.target.value),disabled:o}),t.createElement($r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})),I&&t.createElement("p",{className:"text-sm text-red-600"},I),G&&t.createElement("p",{className:"text-sm text-emerald-600"},G)),t.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-500 cursor-pointer"},t.createElement("input",{type:"checkbox",checked:L,onChange:()=>K(!L),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),t.createElement("span",null,"Afficher les mots de passe"))),t.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-gray-100"},t.createElement("div",{className:"flex-1"},p&&t.createElement("div",{className:"flex items-center space-x-2 text-red-600"},t.createElement(mn,{className:"w-4 h-4"}),t.createElement("span",{className:"text-sm"},p)),u&&t.createElement("div",{className:"flex items-center space-x-2 text-green-600"},t.createElement(Kt,{className:"w-4 h-4"}),t.createElement("span",{className:"text-sm"},u))),t.createElement("button",{type:"submit",disabled:o,className:"px-8 py-3 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2 shadow-lg"},o?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,"Enregistrement...")):t.createElement(t.Fragment,null,t.createElement(bm,{className:"w-5 h-5"}),t.createElement("span",null,"Sauvegarder les modifications"))))),t.createElement("div",{className:"mt-6 space-y-3 border-t border-gray-100 pt-6"},t.createElement("div",{className:"flex items-center justify-between text-sm font-semibold text-gray-700"},t.createElement("span",null,"Suivi de mes rclamations"),Lt&&t.createElement("span",{className:"text-xs font-normal text-gray-500"},"Chargement")),Lt?t.createElement("p",{className:"text-xs text-gray-500"},"Chargement des rclamations en cours"):nr?t.createElement("p",{className:"text-xs text-red-600"},nr):pt.length?t.createElement("ul",{className:"space-y-3"},pt.map(se=>t.createElement("li",{key:se._id,className:"space-y-2 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-sm text-gray-600 shadow-sm"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"},t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-gray-900"},se.subject||"Sans objet"),t.createElement("p",{className:"text-[11px] text-gray-500"},tp(se.createdAt))),t.createElement("span",{className:`rounded-full px-3 py-1 text-[11px] font-semibold ${Nt[se.status]||"bg-gray-100 text-gray-600"}`},jt[se.status]||se.status)),t.createElement("p",{className:"text-gray-600 whitespace-pre-line break-words"},se.message),se.attachments?.length?t.createElement("div",{className:"flex flex-wrap gap-2"},se.attachments.filter(Te=>Te.url).map((Te,et)=>t.createElement("a",{key:`${Te.filename}-${et}`,href:Te.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-xl border border-gray-200 bg-gray-50 px-3 py-1 text-xs font-medium text-gray-600 hover:border-rose-200"},t.createElement(bp,{className:"w-3 h-3"}),Te.originalName||Te.filename))):null))):t.createElement("p",{className:"text-xs text-gray-500"},"Vous navez encore dpos aucune rclamation."))),t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},t.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-emerald-600 rounded-full"}),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Avis sur lamlioration"),t.createElement("p",{className:"text-sm text-gray-500"},"Partagez vos ides pour amliorer HDMarket. Limit  5 avis par utilisateur."))),t.createElement("div",{className:"space-y-3 mb-6"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Vos avis envoys"),t.createElement("span",{className:"text-xs font-semibold text-gray-500"},de.total," / 5")),Pt?t.createElement("div",{className:"space-y-2"},Array.from({length:2}).map((se,Te)=>t.createElement("div",{key:`improvement-skeleton-${Te}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},t.createElement("div",{className:"h-4 w-1/2 rounded bg-gray-200"}),t.createElement("div",{className:"mt-2 h-3 w-3/4 rounded bg-gray-200"})))):ue?t.createElement("p",{className:"text-sm text-red-600"},ue):Ve.length===0?t.createElement("p",{className:"text-sm text-gray-500"},"Aucun avis envoy pour le moment."):t.createElement("div",{className:"space-y-2"},Ve.map(se=>{const Te=!!se.readAt;return t.createElement("button",{type:"button",key:se._id,onClick:()=>Pa(se),className:"w-full text-left rounded-2xl border border-gray-100 bg-white px-4 py-3 shadow-sm hover:border-emerald-200 transition-colors"},t.createElement("div",{className:"flex items-start justify-between gap-2"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-900"},se.subject),t.createElement("p",{className:"text-xs text-gray-500"},tp(se.createdAt))),t.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${Te?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},Te?"Lu":"Non lu")),t.createElement("p",{className:"mt-2 text-xs text-gray-600 line-clamp-2"},se.body))}))),t.createElement("form",{onSubmit:Ia,className:"space-y-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-emerald-500"}),t.createElement("span",null,"Sujet *")),t.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",placeholder:"Ex : Nouvelle fonctionnalit",value:xt,onChange:se=>{we(se.target.value),fe&&ye(""),Y&&U("")},maxLength:150,disabled:Z,required:!0})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(pr,{className:"w-4 h-4 text-emerald-500"}),t.createElement("span",null,"Votre avis *")),t.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:ot,onChange:se=>{ht(se.target.value),fe&&ye(""),Y&&U("")},placeholder:"Expliquez votre ide ou votre suggestion.",disabled:Z,maxLength:2e3,required:!0})),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},t.createElement("span",null,de.remaining>0?`Il vous reste ${de.remaining} avis sur 5.`:"Limite atteinte : 5 avis envoys."),t.createElement("span",null,de.total," envoy",de.total>1?"s":"")),(fe||Y)&&t.createElement("div",{className:`flex items-center gap-2 text-sm ${fe?"text-red-600":"text-green-600"}`},fe?t.createElement(vp,{className:"w-4 h-4"}):t.createElement(Kt,{className:"w-4 h-4"}),t.createElement("span",null,fe||Y)),t.createElement("div",{className:"flex justify-end"},t.createElement("button",{type:"submit",disabled:Z||de.remaining<=0,className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-60 disabled:cursor-not-allowed"},Z?t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),t.createElement("span",null,"Envoi...")):t.createElement(t.Fragment,null,t.createElement(pr,{className:"w-4 h-4"}),t.createElement("span",null,"Envoyer lavis")))))),Pe&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:Cs}),t.createElement("div",{className:"relative w-full max-w-lg rounded-3xl bg-white shadow-xl border border-gray-100 p-6",onClick:se=>se.stopPropagation()},t.createElement("div",{className:"flex items-start justify-between gap-3"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},"Avis sur lamlioration"),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},Pe.subject)),t.createElement("button",{type:"button",onClick:Cs,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},"X")),t.createElement("div",{className:"mt-4 space-y-3"},t.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},t.createElement("span",null,tp(Pe.createdAt)),t.createElement("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold ${Pe.readAt?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`},Pe.readAt?"Lu":"Non lu")),t.createElement("p",{className:"text-sm text-gray-700 whitespace-pre-line"},Pe.body),Pe.readAt&&t.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",tp(Pe.readAt))))),t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mt-6"},t.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-4"},t.createElement("div",{className:"w-2 h-6 bg-rose-600 rounded-full"}),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Rclamations"),t.createElement("p",{className:"text-sm text-gray-500"},"Signalez un problme ou partagez une capture dcran : vous pouvez joindre deux fichiers."))),t.createElement("form",{onSubmit:ts,className:"space-y-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(Ga,{className:"w-4 h-4 text-rose-500"}),t.createElement("span",null,"Objet (facultatif)")),t.createElement("div",{className:"relative"},t.createElement("input",{type:"text",className:"w-full px-4 py-3 pl-11 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all",placeholder:"Ex : Annonce non conforme",value:Me,onChange:se=>{ge(se.target.value),nt&&ct("")},disabled:bt,maxLength:150}),t.createElement(Ga,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(pr,{className:"w-4 h-4 text-rose-500"}),t.createElement("span",null,"Description *")),t.createElement("textarea",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all placeholder-gray-400",rows:4,value:$e,onChange:se=>{De(se.target.value),nt&&ct("")},placeholder:"Expliquez en dtail votre problme pour que nos quipes puissent investiguer.",disabled:bt,required:!0,maxLength:1500})),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700"},t.createElement(bp,{className:"w-4 h-4 text-rose-500"}),t.createElement("span",null,"Fichiers (max 2)")),t.createElement("label",{className:"flex items-center justify-between rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-3 text-xs font-semibold text-gray-600 hover:border-rose-300 hover:bg-rose-50 cursor-pointer"},t.createElement("span",null,"Ajouter un fichier"),t.createElement("span",{className:"text-[11px] text-gray-400"},"PNG, JPG, PDF"),t.createElement("input",{type:"file",multiple:!0,className:"hidden",onChange:Er,disabled:bt})),t.createElement("p",{className:"text-xs text-gray-500"},"Les pices jointes sont visibles uniquement par nos modrateurs.")),Ye.length>0&&t.createElement("div",{className:"space-y-2"},Ye.map((se,Te)=>t.createElement("div",{key:`${se.name}-${se.size}-${Te}`,className:"flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm text-gray-600"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(bp,{className:"w-4 h-4 text-gray-400"}),t.createElement("span",{className:"truncate"},se.name)),t.createElement("button",{type:"button",onClick:()=>Ft(Te),disabled:bt,className:"text-xs font-semibold text-red-600 hover:text-red-500"},"Supprimer")))),(nt||vt)&&t.createElement("div",{className:`flex items-center gap-2 text-sm ${nt?"text-red-600":"text-green-600"}`},nt?t.createElement(vp,{className:"w-4 h-4"}):t.createElement(Kt,{className:"w-4 h-4"}),t.createElement("span",null,nt||vt)),t.createElement("div",{className:"flex justify-end"},t.createElement("button",{type:"submit",disabled:bt,className:"inline-flex items-center gap-2 rounded-xl bg-rose-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-rose-700 disabled:opacity-60 disabled:cursor-not-allowed"},bt?t.createElement("div",{className:"flex items-center gap-2"},t.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),t.createElement("span",null,"Rclamation...")):t.createElement(t.Fragment,null,t.createElement(vp,{className:"w-4 h-4"}),t.createElement("span",null,"Envoyer la rclamation"))))))),ae==="stats"&&t.createElement("div",{className:"space-y-6"},t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},t.createElement("div",{className:"w-2 h-6 bg-blue-600 rounded-full"}),t.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Vue d'ensemble")),T?t.createElement("div",{className:"flex justify-center py-8"},t.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-indigo-600 border-t-transparent"})):D?t.createElement("div",{className:"text-center py-8 text-red-600"},t.createElement(mn,{className:"w-12 h-12 mx-auto mb-3"}),t.createElement("p",null,D)):t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[{label:"Annonces totales",value:_.listings.total,icon:wt,color:"bg-blue-600"},{label:"Favoris reus",value:_.engagement.favoritesReceived,icon:Ar,color:"bg-pink-600"},{label:"Commentaires",value:_.engagement.commentsReceived,icon:pr,color:"bg-emerald-600"},{label:"Vues totales",value:_.performance.views,icon:rr,color:"bg-purple-600"}].map((se,Te)=>{const et=se.icon;return t.createElement("div",{key:Te,className:`${se.color} text-white rounded-2xl p-6 shadow-lg`},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement(et,{className:"w-8 h-8 text-white opacity-90"}),t.createElement("span",{className:"text-2xl font-bold"},dc(se.value))),t.createElement("p",{className:"text-white text-opacity-90 text-sm font-medium"},se.label))}))),!T&&!D&&t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},t.createElement(wt,{className:"w-5 h-5 text-blue-500"}),t.createElement("span",null,"Statut des annonces")),t.createElement("div",{className:"space-y-4"},[{label:"Approuves",value:_.listings.approved,color:"bg-green-500",icon:Kt},{label:"En attente",value:_.listings.pending,color:"bg-yellow-500",icon:It},{label:"Rejetes",value:_.listings.rejected,color:"bg-red-500",icon:mn},{label:"Dsactives",value:_.listings.disabled,color:"bg-gray-500",icon:wt}].map((se,Te)=>(se.icon,t.createElement("div",{key:Te,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement("div",{className:`w-3 h-3 rounded-full ${se.color}`}),t.createElement("span",{className:"text-sm font-medium text-gray-700"},se.label)),t.createElement("span",{className:"text-lg font-bold text-gray-900"},dc(se.value))))))),t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},t.createElement(Ns,{className:"w-5 h-5 text-purple-500"}),t.createElement("span",null,"Engagement")),t.createElement("div",{className:"space-y-4"},[{label:"Favoris enregistrs",value:_.engagement.favoritesSaved,icon:Ar},{label:"Taux de conversion",value:`${_.performance.conversion}%`,icon:rr},{label:"Clicks WhatsApp",value:_.performance.clicks,icon:pr}].map((se,Te)=>{const et=se.icon;return t.createElement("div",{key:Te,className:"flex items-center justify-between p-3 rounded-xl bg-gray-50"},t.createElement("div",{className:"flex items-center space-x-3"},t.createElement(et,{className:"w-4 h-4 text-gray-600"}),t.createElement("span",{className:"text-sm font-medium text-gray-700"},se.label)),t.createElement("span",{className:"text-lg font-bold text-gray-900"},se.value))}))),t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2"},t.createElement(ea,{className:"w-5 h-5 text-indigo-500"}),t.createElement("span",null,"Commandes")),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"space-y-2"},t.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Achats"),[{label:"Total",value:_.orders?.purchases?.totalCount||0},{label:"En attente",value:_.orders?.purchases?.byStatus?.pending?.count||0},{label:"Confirmes",value:_.orders?.purchases?.byStatus?.confirmed?.count||0},{label:"En livraison",value:_.orders?.purchases?.byStatus?.delivering?.count||0},{label:"Livres",value:_.orders?.purchases?.byStatus?.delivered?.count||0}].map(se=>t.createElement("div",{key:`purchases-${se.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},t.createElement("span",{className:"text-xs font-medium text-gray-700"},se.label),t.createElement("span",{className:"text-sm font-semibold text-gray-900"},dc(se.value)))),[{label:"Montant total",value:_.orders?.purchases?.totalAmount||0},{label:"Acompte pay",value:_.orders?.purchases?.paidAmount||0},{label:"Reste  payer",value:_.orders?.purchases?.remainingAmount||0}].map(se=>t.createElement("div",{key:`purchases-amount-${se.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-indigo-50/60"},t.createElement("span",{className:"text-xs font-medium text-gray-700"},se.label),t.createElement("span",{className:"text-sm font-semibold text-indigo-700"},nT(se.value))))),e?.accountType==="shop"&&t.createElement("div",{className:"space-y-2 pt-3 border-t border-gray-100"},t.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},"Ventes"),[{label:"Total",value:_.orders?.sales?.totalCount||0},{label:"En attente",value:_.orders?.sales?.byStatus?.pending?.count||0},{label:"Confirmes",value:_.orders?.sales?.byStatus?.confirmed?.count||0},{label:"En livraison",value:_.orders?.sales?.byStatus?.delivering?.count||0},{label:"Livres",value:_.orders?.sales?.byStatus?.delivered?.count||0}].map(se=>t.createElement("div",{key:`sales-${se.label}`,className:"flex items-center justify-between p-2 rounded-xl bg-gray-50"},t.createElement("span",{className:"text-xs font-medium text-gray-700"},se.label),t.createElement("span",{className:"text-sm font-semibold text-gray-900"},dc(se.value)))),t.createElement("div",{className:"flex items-center justify-between p-2 rounded-xl bg-emerald-50/60"},t.createElement("span",{className:"text-xs font-medium text-gray-700"},"Chiffre daffaires"),t.createElement("span",{className:"text-sm font-semibold text-emerald-700"},nT(_.orders?.sales?.totalAmount||0)))))))),ae==="performance"&&t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center sm:gap-3 mb-6"},t.createElement("div",{className:"w-2 h-6 bg-purple-600 rounded-full"}),t.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Performance et Insights")),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-6"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},t.createElement(rr,{className:"w-5 h-5 text-purple-500"}),t.createElement("span",null,"Vos performances")),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-purple-50 border border-purple-100"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-purple-900"},"Score d'engagement"),t.createElement("p",{className:"text-2xl font-bold text-purple-600"},Math.round((_.engagement.favoritesReceived+_.engagement.commentsReceived)/Math.max(_.listings.approved,1)))),t.createElement(Es,{className:"w-8 h-8 text-purple-500"})),t.createElement("div",{className:"flex items-center justify-between p-4 rounded-xl bg-blue-50 border border-blue-100"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-blue-900"},"Taux d'approbation"),t.createElement("p",{className:"text-2xl font-bold text-blue-600"},_.listings.total>0?`${Math.round(_.listings.approved/_.listings.total*100)}%`:"0%")),t.createElement(Kt,{className:"w-8 h-8 text-blue-500"})))),t.createElement("div",{className:"space-y-6"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2"},t.createElement(gr,{className:"w-5 h-5 text-amber-500"}),t.createElement("span",null,"Recommandations")),t.createElement("div",{className:"space-y-3"},_.listings.pending>0&&t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-amber-50 border border-amber-200"},t.createElement(It,{className:"w-4 h-4 text-amber-600"}),t.createElement("p",{className:"text-sm text-amber-800"},"Vous avez ",_.listings.pending," annonce(s) en attente de validation")),_.engagement.favoritesReceived===0&&_.listings.approved>0&&t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-blue-50 border border-blue-200"},t.createElement(Ar,{className:"w-4 h-4 text-blue-600"}),t.createElement("p",{className:"text-sm text-blue-800"},"Amliorez vos photos pour augmenter les favoris")),_.listings.approved>5&&t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 rounded-xl bg-green-50 border border-green-200"},t.createElement(rr,{className:"w-4 h-4 text-green-600"}),t.createElement("p",{className:"text-sm text-green-800"},"Excellent ! Pensez  promouvoir vos meilleures annonces")))))),ae==="orders"&&t.createElement("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6"},t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-indigo-600"},t.createElement(ea,{className:"w-4 h-4"}),"Historique des commandes"),t.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Mes commandes"),t.createElement("p",{className:"text-sm text-gray-500"},"Retrouvez toutes les commandes cres par ladministrateur.")),t.createElement("div",{className:"flex items-center gap-3 flex-wrap"},t.createElement(be,{to:"/orders/draft",className:"inline-flex items-center gap-2 px-4 py-2 rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 text-amber-700 text-sm font-semibold hover:from-amber-100 hover:to-orange-100 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(It,{className:"w-4 h-4"}),"Brouillons"),t.createElement("span",{className:"text-sm text-gray-500"},"Total : ",ve.length),t.createElement("button",{type:"button",onClick:Xr,disabled:ee,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 text-sm font-medium text-gray-600 hover:bg-gray-50 disabled:opacity-60"},ee?t.createElement(t.Fragment,null,t.createElement("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none"},t.createElement("circle",{cx:"12",cy:"12",r:"10",stroke:"#c7d2fe",strokeWidth:"4",opacity:"0.3"}),t.createElement("path",{d:"M22 12a10 10 0 00-10-10",stroke:"#6366f1",strokeWidth:"4",strokeLinecap:"round"})),"Chargement"):t.createElement(t.Fragment,null,t.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582M20 20v-5h-.581M5 9a7 7 0 0114 0M19 15a7 7 0 01-14 0"})),"Actualiser")))),pe&&t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-600 mb-6"},pe),!ee&&!pe&&ve.length===0&&t.createElement("div",{className:"text-center py-10 border border-dashed border-gray-200 rounded-2xl"},t.createElement("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-3"},t.createElement(ea,{className:"w-8 h-8 text-gray-400"})),t.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Aucune commande disponible"),t.createElement("p",{className:"text-sm text-gray-500 max-w-md mx-auto"},"Un gestionnaire enregistre vos commandes depuis ladmin. Ds quune commande est cre, elle saffichera ici avec son statut.")),(ee||ve.length>0)&&t.createElement("div",{className:"space-y-4"},ee&&ve.length===0?Array.from({length:2}).map((se,Te)=>t.createElement("div",{key:Te,className:"animate-pulse border border-gray-100 rounded-2xl p-5 bg-gray-50"})):ve.map(se=>{const Te=se.items&&se.items.length?se.items:se.productSnapshot?[{snapshot:se.productSnapshot,quantity:1}]:[];return t.createElement("div",{key:se._id,className:"border border-gray-100 rounded-2xl p-5 shadow-sm"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm text-gray-500"},"Commande #",se._id.slice(-6)),t.createElement("div",{className:"mt-1 space-y-1 text-sm text-gray-700"},Te.map((et,Mt)=>t.createElement("div",{key:`${se._id}-${Mt}`,className:"space-y-0.5"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:"font-medium text-gray-900"},et.snapshot?.title||"Produit"),t.createElement("span",{className:"text-xs text-gray-500"},"x",et.quantity,"  ",Number(et.snapshot?.price||0).toLocaleString()," FCFA")),et.snapshot?.confirmationNumber&&t.createElement("span",{className:"text-[11px] text-indigo-600 font-semibold uppercase tracking-wide"},"Code produit : ",et.snapshot.confirmationNumber)))),t.createElement("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-gray-500"},t.createElement("span",{className:"inline-flex items-center gap-1"},t.createElement($r,{className:"w-3.5 h-3.5 text-indigo-500"}),"Gestionnaire : ",se.createdBy?.name||se.createdBy?.email||"Admin HDMarket"),t.createElement("span",{className:"hidden sm:block text-gray-300"},""),t.createElement("span",{className:"font-semibold text-gray-700"},"Statut : ",rT[se.status]||"Enregistre"))),t.createElement("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold border ${Mie[se.status]||"border-gray-200 bg-gray-50 text-gray-600"}`},se.status==="pending"&&t.createElement(It,{size:14}),se.status==="confirmed"&&t.createElement(wt,{size:14}),se.status==="delivering"&&t.createElement(xr,{size:14}),se.status==="delivered"&&t.createElement(Kt,{size:14}),rT[se.status]||"Statut inconnu")),t.createElement("div",{className:"mt-4 grid gap-3 md:grid-cols-2 text-sm text-gray-600"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Adresse de livraison"),t.createElement("p",{className:"font-medium text-gray-900"},se.deliveryAddress),t.createElement("p",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5"},t.createElement(Sr,{size:13}),se.deliveryCity)),t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-400"},"Suivi"),se.trackingNote?t.createElement("p",null,se.trackingNote):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune note ajoute pour le moment."))),t.createElement(jie,{status:se.status}),t.createElement("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-gray-500"},t.createElement("span",{className:"inline-flex items-center gap-1"},t.createElement(It,{size:12}),"Cre le ",new Date(se.createdAt).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})),se.shippedAt&&t.createElement("span",{className:"inline-flex items-center gap-1"},t.createElement(xr,{size:12}),"Expdie le ",new Date(se.shippedAt).toLocaleDateString("fr-FR")),se.deliveredAt&&t.createElement("span",{className:"inline-flex items-center gap-1"},t.createElement(Kt,{size:12}),"Livre le ",new Date(se.deliveredAt).toLocaleDateString("fr-FR"))))}))))):t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(ha,{className:"w-8 h-8 text-white"})),t.createElement("p",{className:"text-gray-500"},"Vous devez tre connect pour accder  votre profil.")))}const sT={product_comment:!0,reply:!0,favorite:!0,rating:!0,product_approval:!0,product_rejection:!0,promotional:!0,shop_review:!0,shop_follow:!0,payment_pending:!0,order_created:!0,order_received:!0,order_reminder:!0,order_delivering:!0,order_delivered:!0,order_cancelled:!0,feedback_read:!0},Iie=e=>{if(!e)return"";const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const n=new Date-r,s=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),o=Math.floor(n/(1e3*60*60*24));return s<1?" l'instant":s<60?`Il y a ${s} min`:i<24?`Il y a ${i} h`:o===1?"Hier":o<7?`Il y a ${o} j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:o>365?"numeric":void 0})},Die=({preferences:e,onUpdate:r})=>{const[a,n]=h.useState(!1),[s,i]=h.useState(!1),o=async d=>{i(!0);const u={...e,[d]:!e[d]};try{const{data:m}=await ie.patch("/users/notification-preferences",u);r(m?.preferences??u)}catch(m){console.error("Failed to update preferences:",m)}finally{i(!1)}};return t.createElement("div",{className:"relative"},t.createElement("button",{onClick:()=>n(!a),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 text-sm font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md active:scale-95"},t.createElement(Au,{className:"w-4 h-4"}),t.createElement("span",{className:"hidden sm:inline"},"Prfrences"),t.createElement(hs,{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`})),a&&t.createElement(t.Fragment,null,t.createElement("div",{className:"fixed inset-0 z-40 bg-black/20 backdrop-blur-sm",onClick:()=>n(!1)}),t.createElement("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border-2 border-gray-200 dark:border-gray-700 z-50 overflow-hidden"},t.createElement("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-600 to-purple-600 px-6 py-5"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("h3",{className:"font-bold text-white text-base flex items-center gap-2"},t.createElement(en,{className:"w-4 h-4"}),"Prfrences"),t.createElement("p",{className:"text-indigo-100 text-xs mt-1"},"Personnalisez vos alertes")),t.createElement("button",{onClick:()=>n(!1),className:"text-white/80 hover:text-white transition-colors p-1.5 rounded-lg hover:bg-white/10 active:scale-95"},t.createElement(_t,{className:"w-5 h-5"})))),t.createElement("div",{className:"max-h-96 overflow-y-auto p-4 space-y-1.5"},[{key:"product_comment",label:"Nouveaux commentaires",icon:ra},{key:"reply",label:"Rponses  mes commentaires",icon:ra},{key:"favorite",label:"Ajouts aux favoris",icon:Ar},{key:"rating",label:"Nouvelles notes",icon:gr},{key:"product_approval",label:"Approbations d'annonce",icon:ys},{key:"product_rejection",label:"Rejets d'annonce",icon:mn},{key:"promotional",label:"Promotions appliques",icon:Ra},{key:"shop_review",label:"Avis sur ma boutique",icon:gr},{key:"shop_follow",label:"Nouveaux abonns",icon:Ns},{key:"payment_pending",label:"Paiements  valider",icon:vs},{key:"order_created",label:"Commandes confirmes",icon:Kn},{key:"order_delivering",label:"Commandes en livraison",icon:xr},{key:"order_received",label:"Nouvelles commandes",icon:wt},{key:"order_reminder",label:"Relances commandes",icon:gw},{key:"order_delivered",label:"Commandes livres",icon:ys},{key:"order_cancelled",label:"Commandes annules",icon:mn},{key:"feedback_read",label:"Avis lus",icon:Ko}].map(({key:d,label:u,icon:m})=>t.createElement("div",{key:d,className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all duration-200 ${e[d]?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-900/50":"bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`},t.createElement(m,{className:"w-4 h-4"})),t.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200"},u)),t.createElement("button",{onClick:()=>o(d),disabled:s,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 ${e[d]?"bg-indigo-600 dark:bg-indigo-500":"bg-gray-300 dark:bg-gray-600"}`},t.createElement("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${e[d]?"translate-x-6":"translate-x-1"}`}))))))))};function Fie(){const e=Kr(),{user:r}=h.useContext(fr),{counts:a,loading:n,error:s,refresh:i}=IO(!!r),o=a.alerts||[],[d,u]=h.useState(!1),[m,p]=h.useState(""),[f,y]=h.useState("all"),[b,E]=h.useState(()=>({...sT})),[w,x]=h.useState(!1);h.useEffect(()=>{if(a?.preferences){const j={...sT};Object.keys(j).forEach(L=>{typeof a.preferences[L]=="boolean"&&(j[L]=a.preferences[L])}),E(L=>Object.keys(j).some(W=>j[W]!==L[W])?j:L)}},[a?.preferences]);const N={product_comment:{label:"Commentaire",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:t.createElement(ra,{className:"w-4 h-4"})},reply:{label:"Rponse",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",icon:t.createElement(ra,{className:"w-4 h-4"})},favorite:{label:"Favori",badgeClass:"bg-rose-50 text-rose-700 border border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800",icon:t.createElement(Ar,{className:"w-4 h-4"})},rating:{label:"Note",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",icon:t.createElement(gr,{className:"w-4 h-4"})},product_approval:{label:"Approbation",badgeClass:"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:t.createElement(ys,{className:"w-4 h-4"})},product_rejection:{label:"Rejet",badgeClass:"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:t.createElement(mn,{className:"w-4 h-4"})},promotional:{label:"Promotion",badgeClass:"bg-orange-50 text-orange-700 border border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",icon:t.createElement(Ra,{className:"w-4 h-4"})},shop_review:{label:"Avis boutique",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",icon:t.createElement(vr,{className:"w-4 h-4"})},shop_follow:{label:"Abonns boutique",badgeClass:"bg-cyan-50 text-cyan-700 border border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",icon:t.createElement(Ns,{className:"w-4 h-4"})},payment_pending:{label:"Paiement en attente",badgeClass:"bg-yellow-50 text-yellow-700 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",icon:t.createElement(vs,{className:"w-4 h-4"})},order_created:{label:"Commande en attente",badgeClass:"bg-blue-50 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",icon:t.createElement(Kn,{className:"w-4 h-4"})},order_delivering:{label:"Commande en livraison",badgeClass:"bg-indigo-50 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",icon:t.createElement(xr,{className:"w-4 h-4"})},order_received:{label:"Nouvelle commande",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:t.createElement(wt,{className:"w-4 h-4"})},order_reminder:{label:"Relance commande",badgeClass:"bg-amber-50 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",icon:t.createElement(gw,{className:"w-4 h-4"})},order_delivered:{label:"Commande livre",badgeClass:"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",icon:t.createElement(ys,{className:"w-4 h-4"})},order_cancelled:{label:"Commande annule",badgeClass:"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",icon:t.createElement(mn,{className:"w-4 h-4"})},feedback_read:{label:"Avis lu",badgeClass:"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",icon:t.createElement(Ko,{className:"w-4 h-4"})}},S=h.useMemo(()=>{let j=o;return f==="all"?j=j.filter(L=>b[L.type]!==!1):f==="unread"?j=j.filter(L=>b[L.type]!==!1).filter(L=>L.isNew):j=j.filter(L=>L.type===f),j},[o,b,f]),k=h.useMemo(()=>S.filter(j=>j.isNew),[S]),P=h.useMemo(()=>S.filter(j=>!j.isNew),[S]),C=(j,L)=>{const K=j.product?.status,W=N[j.type]||{label:"Notification",badgeClass:"bg-gray-100 text-gray-700 border border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600",icon:t.createElement(ci,{className:"w-4 h-4"})};return t.createElement("div",{key:j._id,className:`group relative rounded-2xl transition-all duration-300 overflow-hidden ${L?"bg-gradient-to-br from-white via-white to-indigo-50/30 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-900/10 border-2 border-indigo-300 dark:border-indigo-700 shadow-md hover:shadow-xl":"bg-white/80 dark:bg-gray-800/80 border-2 border-gray-200/80 dark:border-gray-700/80 hover:bg-white dark:hover:bg-gray-800 hover:shadow-lg hover:border-gray-300 dark:hover:border-gray-600"}`},L&&t.createElement("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600"}),t.createElement("div",{className:"p-4 sm:p-5"},t.createElement("div",{className:"flex flex-col gap-3 sm:gap-4"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-start justify-between gap-3 mb-2.5 sm:mb-3"},t.createElement("div",{className:"flex items-center gap-2 flex-wrap flex-1 min-w-0"},t.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold ${W.badgeClass}`},W.icon,t.createElement("span",{className:"hidden sm:inline"},W.label)),t.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400"},t.createElement(It,{className:"w-3.5 h-3.5"}),t.createElement("span",{className:"font-medium"},Iie(j.createdAt))),L&&t.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold bg-gradient-to-r from-red-100 to-pink-100 dark:from-red-900/30 dark:to-pink-900/30 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800"},t.createElement("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse"}),t.createElement("span",{className:"hidden sm:inline"},"Nouveau"))),t.createElement("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},L&&t.createElement("button",{onClick:()=>O([j._id]),className:"p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-all duration-200 active:scale-95",title:"Marquer comme lu"},t.createElement(Ko,{className:"w-4 h-4"})),t.createElement("button",{onClick:()=>T(j._id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 active:scale-95",title:"Supprimer"},t.createElement(fo,{className:"w-4 h-4"})))),j.user?.name&&t.createElement("div",{className:"flex items-center gap-2.5 mb-3"},t.createElement("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-md ring-2 ring-white dark:ring-gray-800"},j.user.name.charAt(0).toUpperCase()),t.createElement("span",{className:"text-sm font-semibold text-gray-900 dark:text-white"},j.user.name)),j.type==="reply"&&j.parent?.message&&t.createElement("div",{className:"mb-3.5 p-3.5 bg-gradient-to-br from-gray-50 to-gray-100/50 dark:from-gray-700/50 dark:to-gray-700/30 rounded-xl border-l-4 border-indigo-400"},t.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},t.createElement(ra,{className:"w-3 h-3"}),"Votre commentaire"),t.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed"},'"',j.parent.message,'"')),t.createElement("p",{className:"text-sm sm:text-base text-gray-800 dark:text-gray-200 leading-relaxed mb-3.5 font-medium"},j.message),j.type==="shop_review"&&j.metadata?.rating&&t.createElement("div",{className:"flex items-center gap-2 mb-3 px-3.5 py-2.5 bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-900/20 dark:to-amber-900/10 rounded-xl border border-amber-200 dark:border-amber-800"},t.createElement(gr,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),t.createElement("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400"},"Note : ",Number(j.metadata.rating).toFixed(1),"/5")),j.type==="shop_review"&&j.metadata?.comment&&t.createElement("div",{className:"p-3.5 bg-gradient-to-br from-gray-50 to-gray-100/50 dark:from-gray-700/50 dark:to-gray-700/30 rounded-xl border-l-4 border-indigo-400 mb-3.5"},t.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},t.createElement(ra,{className:"w-3 h-3"}),"Commentaire"),t.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed"},'"',j.metadata.comment,'"')),j.type==="payment_pending"&&(r?.role==="admin"||r?.role==="manager")&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},t.createElement(be,{to:"/admin",className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg active:scale-95"},t.createElement(vs,{className:"w-4 h-4"}),t.createElement("span",{className:"truncate"},"Vrifier paiements"))),j.type==="order_delivered"&&j.metadata?.orderId&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},t.createElement(be,{to:`/orders/delivered?orderId=${j.metadata.orderId}`,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-emerald-700 dark:text-emerald-400 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-900/10 hover:from-emerald-100 hover:to-emerald-100 dark:hover:from-emerald-900/30 dark:hover:to-emerald-900/20 transition-all duration-200 border-2 border-emerald-200 dark:border-emerald-800 active:scale-95"},t.createElement(ys,{className:"w-4 h-4"}),t.createElement("span",{className:"truncate"},"Voir commande livre"))),j.type==="order_cancelled"&&t.createElement("div",{className:"mt-4 space-y-3"},j.metadata?.reason&&t.createElement("div",{className:"p-3.5 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 rounded-xl border-l-4 border-red-400"},t.createElement("p",{className:"text-xs text-red-600 dark:text-red-400 mb-1.5 font-semibold uppercase tracking-wide flex items-center gap-1.5"},t.createElement(mn,{className:"w-3 h-3"}),"Raison de l'annulation"),t.createElement("p",{className:"text-sm text-red-700 dark:text-red-300 italic leading-relaxed"},'"',j.metadata.reason,'"')),j.metadata?.orderId&&t.createElement("div",{className:"pt-4 border-t-2 border-gray-200 dark:border-gray-700"},t.createElement(be,{to:`/orders?status=cancelled&orderId=${j.metadata.orderId}`,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-red-700 dark:text-red-400 bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 hover:from-red-100 hover:to-red-100 dark:hover:from-red-900/30 dark:hover:to-red-900/20 transition-all duration-200 border-2 border-red-200 dark:border-red-800 active:scale-95"},t.createElement(mn,{className:"w-4 h-4"}),"Voir commande annule"))),j.product&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700 space-y-2"},t.createElement("button",{type:"button",onClick:()=>{e(or(j.product)),L&&O([j._id])},className:"w-full sm:w-auto inline-flex items-center justify-center sm:justify-start gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-indigo-700 dark:text-indigo-400 bg-gradient-to-br from-indigo-50 to-indigo-100/50 dark:from-indigo-900/20 dark:to-indigo-900/10 hover:from-indigo-100 hover:to-indigo-100 dark:hover:from-indigo-900/30 dark:hover:to-indigo-900/20 transition-all duration-200 border-2 border-indigo-200 dark:border-indigo-800 group/link active:scale-95"},t.createElement(wt,{className:"w-4 h-4 flex-shrink-0"}),t.createElement("span",{className:"truncate flex-1 text-left"},t.createElement("span",{className:"hidden sm:inline"},"Voir l'annonce : "),j.product.title)),K&&K!=="approved"&&t.createElement("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},t.createElement(br,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 flex-shrink-0"}),t.createElement("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-400"},"Annonce actuellement  ",K==="pending"?"En attente":K," "))),!j.product&&j.shop&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700"},t.createElement(be,{to:la(j.shop),className:"w-full sm:w-auto inline-flex items-center justify-center sm:justify-start gap-2 px-4 py-2.5 rounded-xl text-sm font-bold text-indigo-700 dark:text-indigo-400 bg-gradient-to-br from-indigo-50 to-indigo-100/50 dark:from-indigo-900/20 dark:to-indigo-900/10 hover:from-indigo-100 hover:to-indigo-100 dark:hover:from-indigo-900/30 dark:hover:to-indigo-900/20 transition-all duration-200 border-2 border-indigo-200 dark:border-indigo-800 group/link active:scale-95"},t.createElement(vr,{className:"w-4 h-4 flex-shrink-0"}),t.createElement("span",{className:"truncate flex-1 text-left"},t.createElement("span",{className:"hidden sm:inline"},"Voir la boutique : "),j.shop.shopName||j.shop.name||"Boutique")))))))},_=async()=>{if(!(!k.length||d)){u(!0),p("");try{await ie.patch("/users/notifications/read"),xy(),await i()}catch(j){console.error(j),p(j.response?.data?.message||j.message||"Impossible de marquer les notifications comme lues.")}finally{u(!1)}}},O=async j=>{if(!(!Array.isArray(j)||!j.length))try{await ie.patch("/users/notifications/read",{notificationIds:j}),xy(),await i()}catch(L){console.error("Failed to mark notification as read:",L)}},T=async j=>{try{await ie.delete(`/users/notifications/${j}`),xy(),await i()}catch(L){console.error("Failed to delete notification:",L)}},R=[{key:"all",label:"Toutes",count:o.length,icon:ci},{key:"unread",label:"Non lues",count:k.length,icon:P5},{key:"product_comment",label:"Commentaires",count:o.filter(j=>j.type==="product_comment").length,icon:ra},{key:"reply",label:"Rponses",count:o.filter(j=>j.type==="reply").length,icon:ra},{key:"favorite",label:"Favoris",count:o.filter(j=>j.type==="favorite").length,icon:Ar},{key:"rating",label:"Notes",count:o.filter(j=>j.type==="rating").length,icon:gr},{key:"product_approval",label:"Approbations",count:o.filter(j=>j.type==="product_approval").length,icon:ys},{key:"product_rejection",label:"Rejets",count:o.filter(j=>j.type==="product_rejection").length,icon:mn},{key:"promotional",label:"Promotions",count:o.filter(j=>j.type==="promotional").length,icon:Ra},{key:"shop_review",label:"Avis boutique",count:o.filter(j=>j.type==="shop_review").length,icon:vr},{key:"payment_pending",label:"Paiements",count:o.filter(j=>j.type==="payment_pending").length,icon:vs},{key:"order_created",label:"Commandes confirmes",count:o.filter(j=>j.type==="order_created").length,icon:Kn},{key:"order_delivering",label:"En livraison",count:o.filter(j=>j.type==="order_delivering").length,icon:xr},{key:"order_received",label:"Nouvelles commandes",count:o.filter(j=>j.type==="order_received").length,icon:wt},{key:"order_reminder",label:"Relances",count:o.filter(j=>j.type==="order_reminder").length,icon:gw},{key:"order_delivered",label:"Livres",count:o.filter(j=>j.type==="order_delivered").length,icon:ys},{key:"order_cancelled",label:"Annules",count:o.filter(j=>j.type==="order_cancelled").length,icon:mn},{key:"feedback_read",label:"Avis lus",count:o.filter(j=>j.type==="feedback_read").length,icon:Ko}],D=({variant:j="stack",closeOnSelect:L=!1}={})=>R.map(({key:K,label:W,count:$,icon:J})=>{const Q=f===K,X=j==="pills",H=X?`flex-shrink-0 inline-flex items-center gap-2 whitespace-nowrap rounded-full border-2 px-3.5 py-2 text-sm font-bold transition-all duration-200 active:scale-95 ${Q?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-transparent shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-md"}`:`w-full flex items-center justify-between px-3.5 py-3 rounded-xl text-sm font-semibold transition-all duration-200 active:scale-[0.98] ${Q?"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-700 dark:text-indigo-400 border-2 border-indigo-300 dark:border-indigo-700 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent hover:border-gray-200 dark:hover:border-gray-700"}`,I=X?`text-xs font-bold px-2 py-0.5 rounded-full ${Q?"bg-white/25 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`:`px-2 py-0.5 rounded-full text-xs font-bold ${Q?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`;return t.createElement("button",{key:`${j}-${K}`,onClick:()=>{y(K),L&&x(!1)},className:H},t.createElement("span",{className:"flex items-center gap-2"},J&&t.createElement(J,{className:"w-4 h-4"}),W),t.createElement("span",{className:I},$))});return r?t.createElement("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/30 dark:from-gray-900 dark:via-gray-900 dark:to-indigo-950/20"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 space-y-6"},t.createElement("header",{className:"bg-gradient-to-br from-white via-white to-indigo-50/50 dark:from-gray-800 dark:via-gray-800 dark:to-indigo-900/20 rounded-3xl p-6 sm:p-8 border-2 border-gray-200/60 dark:border-gray-700/50 shadow-xl"},t.createElement("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between"},t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg ring-4 ring-indigo-100 dark:ring-indigo-900/30"},t.createElement(ci,{className:"w-7 h-7 text-white"})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl sm:text-4xl font-black bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 dark:from-white dark:via-indigo-200 dark:to-purple-200 bg-clip-text text-transparent"},"Notifications"),t.createElement("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 font-medium"},k.length>0?`${k.length} nouvelle${k.length>1?"s":""} notification${k.length>1?"s":""}`:"Toutes vos notifications sont  jour")))),t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},t.createElement(Die,{preferences:b,onUpdate:E}),k.length>0&&t.createElement("button",{type:"button",onClick:_,disabled:d,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-3 text-sm font-bold text-white transition-all hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl active:scale-95"},d?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.createElement("span",null,"Traitement...")):t.createElement(t.Fragment,null,t.createElement(Ko,{className:"w-5 h-5"}),t.createElement("span",null,"Tout marquer comme lu")))))),t.createElement("div",{className:"space-y-4 lg:hidden"},t.createElement("div",{className:"grid grid-cols-2 gap-4"},t.createElement("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl p-5 text-white shadow-xl"},t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement(ci,{className:"w-5 h-5 opacity-90"}),t.createElement("p",{className:"text-xs uppercase tracking-wide text-white/80 font-bold"},"Total")),t.createElement("p",{className:"text-4xl font-black"},o.length)),t.createElement("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl p-5 text-white shadow-xl"},t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.createElement("p",{className:"text-xs uppercase tracking-wide text-white/80 font-bold"},"Non lues")),t.createElement("p",{className:"text-4xl font-black"},k.length))),t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border-2 border-gray-200 dark:border-gray-700 p-5 shadow-lg"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(ws,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),t.createElement("h3",{className:"text-base font-bold text-gray-900 dark:text-white"},"Filtres")),t.createElement("button",{type:"button",onClick:()=>x(j=>!j),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors active:scale-95"},w?"Masquer":"Voir tout",t.createElement(hs,{className:`w-4 h-4 transition-transform duration-200 ${w?"rotate-180":""}`}))),t.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},D({variant:"pills"})),w&&t.createElement("div",{className:"mt-4 pt-4 border-t-2 border-gray-200 dark:border-gray-700 space-y-1.5"},D({variant:"stack",closeOnSelect:!0})))),t.createElement("div",{className:"flex flex-col lg:flex-row gap-6"},t.createElement("div",{className:"hidden lg:block lg:w-80 flex-shrink-0"},t.createElement("div",{className:"sticky top-6 space-y-4"},t.createElement("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 rounded-3xl p-6 text-white shadow-2xl"},t.createElement("div",{className:"flex items-center gap-3 mb-5"},t.createElement("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center ring-2 ring-white/30"},t.createElement(P5,{className:"w-6 h-6"})),t.createElement("h3",{className:"font-black text-xl"},"Aperu")),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex justify-between items-center p-4 bg-white/15 backdrop-blur-sm rounded-xl border border-white/20"},t.createElement("span",{className:"text-white/90 font-semibold"},"Total"),t.createElement("span",{className:"font-black text-2xl"},o.length)),t.createElement("div",{className:"flex justify-between items-center p-4 bg-white/15 backdrop-blur-sm rounded-xl border border-white/20"},t.createElement("span",{className:"text-white/90 font-semibold"},"Non lues"),t.createElement("span",{className:"font-black text-2xl bg-white/30 backdrop-blur-sm px-3 py-1 rounded-lg"},k.length)))),t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border-2 border-gray-200 dark:border-gray-700 p-5 shadow-lg"},t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement(ws,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),t.createElement("h3",{className:"font-bold text-gray-900 dark:text-white"},"Filtrer par")),t.createElement("div",{className:"space-y-1.5 max-h-[600px] overflow-y-auto"},D())))),t.createElement("div",{className:"flex-1 min-w-0"},n&&t.createElement("div",{className:"flex items-center justify-center py-20"},t.createElement("div",{className:"flex flex-col items-center gap-4"},t.createElement("div",{className:"w-14 h-14 border-4 border-indigo-200 dark:border-indigo-800 border-t-indigo-600 dark:border-t-indigo-400 rounded-full animate-spin"}),t.createElement("span",{className:"text-gray-600 dark:text-gray-400 font-semibold"},"Chargement des notifications..."))),s&&t.createElement("div",{className:"bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-900/20 dark:to-red-900/10 border-2 border-red-300 dark:border-red-800 rounded-3xl p-8 text-center shadow-xl"},t.createElement("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4"},t.createElement(br,{className:"w-8 h-8 text-red-600 dark:text-red-400"})),t.createElement("p",{className:"text-red-700 dark:text-red-400 font-bold text-lg mb-2"},"Erreur de chargement"),t.createElement("p",{className:"text-red-600 dark:text-red-500 text-sm"},s)),m&&t.createElement("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-2xl p-4 mb-6"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(br,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),t.createElement("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium"},m))),k.length>0&&(f==="all"||f==="unread")&&t.createElement("section",{className:"space-y-4 mb-8"},t.createElement("div",{className:"flex items-center gap-3 mb-4"},t.createElement("div",{className:"w-1.5 h-10 bg-gradient-to-b from-indigo-600 to-purple-600 rounded-full shadow-lg"}),t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white"},"Non lues"),t.createElement("span",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white text-xs font-bold px-3.5 py-1.5 rounded-full shadow-lg ring-2 ring-red-100 dark:ring-red-900/30"},k.length)),t.createElement("div",{className:"space-y-4"},k.map(j=>C(j,!0)))),P.length>0&&(f==="all"||f!=="unread")&&t.createElement("section",{className:"space-y-4"},t.createElement("div",{className:"flex items-center gap-3 mb-4"},t.createElement("div",{className:"w-1.5 h-10 bg-gray-400 rounded-full"}),t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white"},f==="all"?"Notifications lues":"Notifications")),t.createElement("div",{className:"space-y-4"},P.map(j=>C(j,!1)))),!n&&!s&&S.length===0&&t.createElement("div",{className:"text-center py-20"},t.createElement("div",{className:"w-28 h-28 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl"},t.createElement(k9,{className:"w-14 h-14 text-gray-400 dark:text-gray-500"})),t.createElement("h3",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white mb-3"},f==="all"?"Aucune notification":"Aucune notification correspondante"),t.createElement("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed"},f==="all"?"Les notifications concernant vos annonces et commentaires apparatront ici.":"Aucune notification ne correspond aux filtres slectionns.")))))):t.createElement("main",{className:"max-w-4xl mx-auto p-6"},t.createElement("div",{className:"text-center py-16 sm:py-20"},t.createElement("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl"},t.createElement(ci,{className:"w-10 h-10 sm:w-12 sm:h-12 text-indigo-600 dark:text-indigo-400"})),t.createElement("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 dark:text-white mb-3"},"Connectez-vous"),t.createElement("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto leading-relaxed"},"Connectez-vous  votre compte pour consulter vos notifications et rester inform des dernires activits.")))}const IE=12;function zie(){const e=Kr(),{favorites:r,loading:a}=h.useContext(ym),[n,s]=h.useState(1),[i,o]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<=767),d=r.length>0,u=Math.max(1,Math.ceil(r.length/IE));h.useEffect(()=>{s(1)},[r.length]),h.useEffect(()=>{const f=()=>{typeof window>"u"||o(window.innerWidth<=767)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),h.useEffect(()=>{if(!i||n>=u)return;const f=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&s(b=>Math.min(b+1,u))};return window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)},[i,n,u]),h.useEffect(()=>{n>u&&s(u)},[n,u]);const m=h.useMemo(()=>{const f=n*IE;return r.slice(0,f)},[r,n]),p=()=>{if(i||r.length<=IE)return null;const f=Math.min(5,u),y=Math.floor(f/2);let b=Math.max(1,n-y),E=Math.min(u,b+f-1);b=Math.max(1,E-f+1);const w=Array.from({length:E-b+1},(x,N)=>b+N);return t.createElement("div",{className:"flex justify-center items-center space-x-2 mt-8 mb-4 pb-[88px] md:pb-0"},t.createElement("button",{onClick:()=>s(x=>Math.max(1,x-1)),disabled:n<=1,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""),b>1&&t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>s(1),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===1?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},"1"),b>2&&t.createElement("span",{className:"px-1 text-gray-500"},"...")),w.map(x=>t.createElement("button",{key:x,onClick:()=>s(x),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===x?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},x)),E<u&&t.createElement(t.Fragment,null,E<u-1&&t.createElement("span",{className:"px-1 text-gray-500"},"..."),t.createElement("button",{onClick:()=>s(u),className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-colors ${n===u?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"}`},u)),t.createElement("button",{onClick:()=>s(x=>Math.min(u,x+1)),disabled:n>=u,className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"},""))};return t.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 space-y-4 sm:space-y-8 pb-12 md:pb-16"},t.createElement("header",{className:"text-center sm:text-left"},t.createElement("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour"),t.createElement("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold"},"Vos favoris"),t.createElement("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 mt-1"},"Articles enregistrs"),t.createElement("p",{className:"text-xs sm:text-base text-gray-600 mt-2"},"Retrouvez rapidement les produits que vous avez ajouts  votre liste de souhaits.")),a?t.createElement("div",{className:"rounded-3xl border border-dashed border-gray-200 bg-white px-6 py-12 text-center shadow-sm"},t.createElement("p",{className:"text-gray-600"},"Chargement de vos favoris")):d?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 lg:gap-5"},m.map(f=>t.createElement(Aa,{key:f._id,p:f}))),p()):t.createElement("div",{className:"rounded-3xl border border-dashed border-gray-300 bg-white px-6 py-12 text-center shadow-sm"},t.createElement("p",{className:"text-lg font-semibold text-gray-700"},"Aucun favori pour le moment"),t.createElement("p",{className:"text-gray-500 mt-2"},"Explorez le catalogue et cliquez sur le coeur d'un produit pour le retrouver ici."),t.createElement(be,{to:"/",className:"inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-3 font-medium text-white mt-6 hover:bg-indigo-700 transition"},"Dcouvrir les produits")))}const Bie={monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sunday:"Dimanche"},_$=new Intl.NumberFormat("fr-FR"),au=e=>{const r=Number(e);return Number.isFinite(r)?_$.format(r):"0"},iT=e=>{const r=Number(e);return Number.isFinite(r)?`${_$.format(r)} FCFA`:"0 FCFA"},DE=e=>{if(!e)return"Date inconnue";const r=new Date(e);return Number.isNaN(r.getTime())?"Date inconnue":r.toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})},oc=e=>{const r=Number(e);return Number.isFinite(r)?r.toFixed(1).replace(".",","):"0,0"},qie=[5,4,3,2,1];function Uie(){const{slug:e}=go(),{user:r,updateUser:a}=h.useContext(fr),n=Kr(),[s,i]=h.useState(null),[o,d]=h.useState([]),[u,m]=h.useState([]),[p,f]=h.useState(!0),[y,b]=h.useState(""),[E,w]=h.useState("all"),[x,N]=h.useState(0),[S,k]=h.useState(!1),[P,C]=h.useState(!1),[_,O]=h.useState(0),[T,R]=h.useState({rating:0,comment:""}),[D,j]=h.useState(!1),[L,K]=h.useState(""),[W,$]=h.useState(""),[J,Q]=h.useState(null),[X,H]=h.useState(!0),[I,B]=h.useState(!1),[G,z]=h.useState([]),[ae,he]=h.useState(!1),[ve,_e]=h.useState(""),[ee,le]=h.useState([]),[pe,Ne]=h.useState(!1),[oe,re]=h.useState(""),Me=s?.slug||s?._id||e,ge=Tn();h.useEffect(()=>{let we=!0;return(async()=>{try{f(!0);const{data:ht}=await ie.get(`/shops/${e}`);if(!we)return;i(ht.shop);const Z=Array.isArray(ht.products)?ht.products:[];if(d(Z),m(Array.isArray(ht.recentReviews)?ht.recentReviews:[]),b(""),Z.length>0){const xe=Z.filter(fe=>Number(fe.salesCount||0)>0).sort((fe,ye)=>Number(ye.salesCount||0)-Number(fe.salesCount||0)).slice(0,5);le(xe),Ne(!1)}}catch(ht){if(!we)return;b(ht.response?.data?.message||ht.message||"Boutique introuvable."),i(null),d([]),m([]),le([]),Ne(!1)}finally{we&&f(!1)}})(),()=>{we=!1}},[e,_]),h.useEffect(()=>{if(!s?._id||ee.length>0)return;if(o.length>0){const Z=o.filter(xe=>Number(xe.salesCount||0)>0).sort((xe,fe)=>Number(fe.salesCount||0)-Number(xe.salesCount||0)).slice(0,5);if(Z.length>0){le(Z);return}}let we=!0;const ot=async()=>{Ne(!0),re("");try{const{data:Z}=await ie.get(`/shops/${e}`,{params:{limit:100}});if(!we)return;const xe=Array.isArray(Z?.products)?Z.products:[],fe=[...o,...xe],ye=Array.from(new Map(fe.map(U=>[String(U._id),U])).values()),Y=ye.filter(U=>Number(U.salesCount||0)>0).sort((U,de)=>Number(de.salesCount||0)-Number(U.salesCount||0)).slice(0,5);le(Y),Y.length===0&&ye.length>0&&re("Aucun produit avec des ventes enregistres.")}catch(Z){if(!we)return;console.error("Error fetching top selling products:",Z),re("Impossible de charger les produits les plus vendus.")}finally{we&&Ne(!1)}};return o.filter(Z=>Number(Z.salesCount||0)>0).length<5&&ot(),()=>{we=!1}},[s?._id,e]),h.useEffect(()=>{w("all")},[e]),h.useEffect(()=>{K(""),$("")},[e,r]),h.useEffect(()=>{let we=!0;return!s?._id||!r?(Q(null),R({rating:0,comment:""}),()=>{we=!1}):((async()=>{try{const{data:ht}=await ie.get(`/shops/${Me}/reviews/user`);if(!we)return;Q(ht),R({rating:ht.rating||0,comment:ht.comment||""}),H(!ht.comment?.trim())}catch(ht){if(!we)return;ht.response?.status===404&&(Q(null),R({rating:0,comment:""}),H(!0))}})(),()=>{we=!1})},[s?._id,e,r,_]),h.useEffect(()=>{if(!s){N(0);return}N(Number(s.followersCount??0))},[s?.followersCount,s]),h.useEffect(()=>{if(!s?._id||!r){k(!1);return}const ot=(Array.isArray(r.followingShops)?r.followingShops:[]).some(ht=>String(ht)===String(s._id));k(ot)},[s?._id,r?.followingShops]);const $e=h.useMemo(()=>{const we=new Set;return o.reduce((ot,ht)=>{const Z=ht?.category,xe=typeof Z=="string"?Z.trim():"";return!xe||we.has(xe)||(we.add(xe),ot.push(xe)),ot},[])},[o]),De=h.useMemo(()=>!E||E==="all"?o:o.filter(we=>{const ot=we?.category;return(typeof ot=="string"?ot.trim():"")===E}),[E,o]),Ye=!!J?.comment?.trim(),Je=!Ye||X;if(p)return t.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10"},t.createElement("p",{className:"text-gray-600"},"Chargement de la boutique"));if(y)return t.createElement("main",{className:"max-w-5xl mx-auto px-4 py-10 space-y-3"},t.createElement("p",{className:"text-red-600 font-semibold"},y),t.createElement(be,{to:"/",className:"text-indigo-600 underline"},"Retourner  l'accueil"));if(!s)return null;s.phone&&(r?s.phone:`${e}`);const bt=Number(s.ratingAverage||0),Ze=Number(s.ratingCount||0),nt=Array.isArray(s.shopHours)?s.shopHours:[],ct=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()]||"monday";s.productCount??o.length;const vt=r&&s.phone?t.createElement("a",{href:`tel:${s.phone}`,className:"group inline-flex items-center justify-center gap-2 rounded-xl bg-white/20 px-6 py-3 text-sm font-bold text-white backdrop-blur-md transition-all duration-300 hover:bg-white/30 hover:scale-105 hover:shadow-lg"},t.createElement(hi,{size:18,className:"transition-transform duration-300 group-hover:scale-110"}),"Appeler la boutique"):t.createElement(be,{to:"/login",state:{from:`/shop/${e}`},className:"inline-flex items-center justify-center gap-2 rounded-xl border-2 border-white/60 bg-white/10 px-6 py-3 text-sm font-bold text-white backdrop-blur-md transition-all duration-300 hover:border-white hover:bg-white/20 hover:scale-105"},t.createElement(hi,{size:18}),"Connectez-vous pour appeler"),Zt=s?.shopVerified?S?"Boutique suivie":"Suivre la boutique":"Boutique non certifie",pt=async()=>{if(!(!s?._id||P)){if(!r){n("/login",{state:{from:`/shop/${e}`}});return}if(s.shopVerified){C(!0);try{const we=S?await ie.delete(`/users/shops/${s._id}/follow`):await ie.post(`/users/shops/${s._id}/follow`);if(k(!S),N(we.data?.followersCount??x),typeof a=="function"){const ht=(Array.isArray(r.followingShops)?r.followingShops:[]).map(xe=>String(xe)),Z=S?ht.filter(xe=>xe!==String(s._id)):Array.from(new Set([...ht,String(s._id)]));a({followingShops:Z})}}catch(we){console.error(we)}finally{C(!1)}}}},ut=t.createElement("button",{type:"button",onClick:pt,disabled:P||!s?.shopVerified,className:`group inline-flex items-center justify-center gap-2 rounded-xl border-2 px-6 py-3 text-sm font-bold transition-all duration-300 ${S?"border-white/60 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 text-white backdrop-blur-md hover:from-emerald-500/40 hover:to-teal-500/40 hover:scale-105 hover:shadow-lg":"border-white/60 bg-white/10 text-white backdrop-blur-md hover:bg-white/20 hover:scale-105"} ${!s?.shopVerified||P?"opacity-50 cursor-not-allowed hover:scale-100":""}`},t.createElement(Ar,{size:18,className:`transition-all duration-300 ${S?"fill-white text-white":""} ${P?"":"group-hover:scale-110"}`}),P?"Traitement...":Zt),Lt=async()=>{he(!0),_e("");try{const{data:we}=await ie.get(`/shops/${Me}/reviews`,{params:{page:1,limit:50}});z(Array.isArray(we.reviews)?we.reviews:[])}catch(we){_e(we.response?.data?.message||we.message||"Impossible de charger les commentaires.")}finally{he(!1)}},zt=async()=>{B(!0),await Lt()},nr=()=>{B(!1)},Bt=async we=>{if(we.preventDefault(),!r){n("/login",{state:{from:`/shop/${e}`}});return}const ot=!!T.rating,ht=!!T.comment?.trim();if(!ot&&!ht){K("Ajoutez une note ou un commentaire pour continuer.");return}j(!0),K(""),$("");try{const Z=Me,{data:xe}=await ie.post(`/shops/${Z}/reviews`,T);Q(xe),R({rating:xe.rating||0,comment:xe.comment||""}),H(!xe.comment?.trim()),$("Votre avis a bien t enregistr."),O(fe=>fe+1)}catch(Z){K(Z.response?.data?.message||Z.message||"Impossible d'enregistrer votre avis pour l'instant.")}finally{j(!1)}},xt=we=>{H(!0),R({rating:we.rating||0,comment:we.comment||""}),$(""),K("")};return t.createElement("main",{className:"bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 py-8"},t.createElement("div",{className:"mx-auto flex max-w-7xl flex-col gap-8 px-4 sm:px-6 lg:px-8 text-slate-900"},t.createElement("section",{className:"relative overflow-hidden rounded-[32px] bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white shadow-2xl"},s.shopBanner&&t.createElement("div",{className:"absolute inset-0"},t.createElement("img",{src:s.shopBanner,alt:`Bannire ${s.shopName}`,className:"h-full w-full object-cover"}),t.createElement("div",{className:"absolute inset-0 bg-slate-950/70"})),t.createElement("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at top right, rgba(255,255,255,0.3), transparent 60%), radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15), transparent 45%)"}}),t.createElement("div",{className:"relative z-10 flex flex-col gap-8 px-6 py-10 md:px-10 md:py-12"},t.createElement("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between"},t.createElement("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:items-start sm:gap-5"},t.createElement("div",{className:"h-24 w-24 overflow-hidden rounded-2xl border border-white/40 bg-white/20"},s.shopLogo?t.createElement("img",{src:s.shopLogo,alt:`Logo ${s.shopName}`,className:"h-full w-full object-cover"}):t.createElement("div",{className:"flex h-full w-full items-center justify-center text-xl font-semibold uppercase tracking-wide text-white/90"},s.shopName?.charAt(0)||"B")),t.createElement("div",{className:"w-full space-y-1 text-center text-white sm:text-left"},t.createElement("p",{className:"text-xs uppercase tracking-[0.4em] text-white/80"},"Boutique"),t.createElement("div",{className:"flex flex-col items-center justify-center gap-1 sm:flex-row sm:items-center sm:justify-start"},t.createElement("h1",{className:"text-3xl font-bold leading-tight text-white"},s.shopName),t.createElement(Za,{verified:s.shopVerified})),t.createElement("p",{className:"text-sm text-white/80"},"Gre par ",s.ownerName))),t.createElement("div",{className:"flex flex-col gap-2 text-sm text-white/80"},t.createElement("div",{className:"flex items-center gap-1"},t.createElement(It,{className:"h-4 w-4"}),t.createElement("span",null,"Cre le ",DE(s.createdAt))),t.createElement("div",{className:"flex items-center gap-1"},t.createElement(Sr,{className:"h-4 w-4"}),t.createElement("span",null,s.shopAddress||"Adresse non renseigne")))),t.createElement("p",{className:"max-w-2xl text-sm text-white/80"},s.shopDescription||"Aucune description publique na encore t ajoute  cette boutique."),t.createElement("div",{className:"grid gap-4 text-xs uppercase tracking-[0.2em] text-white/80 sm:grid-cols-3"},t.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},t.createElement("p",{className:"text-[10px]"},"Prod. disponibles"),t.createElement("p",{className:"mt-2 text-lg font-semibold"},au(s.productCount??o.length))),t.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},t.createElement("p",{className:"text-[10px]"},"Avis"),t.createElement("p",{className:"mt-2 text-lg font-semibold"},oc(bt))),t.createElement("div",{className:"rounded-2xl border border-white/30 bg-white/5 px-4 py-3 text-center backdrop-blur"},t.createElement("p",{className:"text-[10px]"},"Abonns"),t.createElement("p",{className:"mt-2 text-lg font-semibold"},au(x)))),t.createElement("div",{className:"flex flex-wrap items-center gap-3 justify-center"},vt,ut,t.createElement(be,{to:"/shops/verified",className:"inline-flex items-center justify-center rounded-full border border-white/60 bg-white/10 px-5 py-2 text-sm font-semibold text-white transition hover:border-white"},"Dcouvrir dautres boutiques")))),t.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 p-8 shadow-xl"},t.createElement("article",{className:"space-y-6"},t.createElement("div",{className:"flex items-start justify-between gap-4"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100"},t.createElement(gr,{size:24,className:"text-amber-600 fill-amber-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-2xl font-bold text-gray-900"},"Avis & Commentaires"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},Ze," avis  Note moyenne ",oc(bt),"/5"))),t.createElement("button",{type:"button",onClick:zt,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300 hover:scale-105"},t.createElement(pr,{size:16}),"Voir tous les commentaires")),Ze>0&&t.createElement("div",{className:"rounded-2xl border border-gray-200 bg-white p-6"},t.createElement("div",{className:"flex items-center justify-center gap-3 mb-4"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"text-5xl font-black bg-gradient-to-r from-amber-500 to-orange-500 bg-clip-text text-transparent"},oc(bt)),t.createElement("div",{className:"flex items-center justify-center gap-1 mt-2"},[1,2,3,4,5].map(we=>t.createElement(gr,{key:we,size:20,className:we<=Math.round(bt)?"text-amber-400 fill-amber-400":"text-gray-300"}))),t.createElement("p",{className:"text-sm text-gray-600 mt-2"},au(Ze)," avis vrifis")))),W&&t.createElement("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-4 flex items-center gap-3"},t.createElement(Kt,{size:20,className:"text-emerald-600 flex-shrink-0"}),t.createElement("p",{className:"text-sm font-medium text-emerald-800"},W)),Je&&t.createElement("form",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white p-6",onSubmit:Bt},t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"text-sm font-bold text-gray-900"},"Votre note"),t.createElement("div",{className:"flex items-center gap-2"},qie.map(we=>t.createElement("button",{type:"button",key:`rating-${we}`,onClick:()=>R(ot=>({...ot,rating:we})),className:`group flex items-center gap-1.5 rounded-xl border-2 px-4 py-2.5 text-sm font-bold transition-all duration-200 ${T.rating===we?"border-amber-500 bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 scale-105 shadow-md":"border-gray-200 bg-white text-gray-600 hover:border-amber-300 hover:bg-amber-50"}`},t.createElement(gr,{size:16,className:T.rating===we?"text-amber-500 fill-amber-500":"text-gray-400"}),t.createElement("span",null,we))))),t.createElement("div",{className:"space-y-3"},t.createElement("label",{className:"text-sm font-bold text-gray-900"},"Votre commentaire"),t.createElement("textarea",{value:T.comment,onChange:we=>R(ot=>({...ot,comment:we.target.value})),rows:4,className:"w-full rounded-xl border-2 border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 transition-all duration-200 focus:border-indigo-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100",placeholder:"Partagez votre exprience avec cette boutique..."})),t.createElement("div",{className:"flex flex-col gap-2"},L&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-3"},t.createElement("p",{className:"text-xs font-medium text-red-800"},L)),!r&&t.createElement("p",{className:"text-xs text-gray-600"},t.createElement(be,{to:"/login",state:{from:`/shop/${e}`},className:"font-semibold text-indigo-600 hover:text-indigo-700"},"Connectez-vous")," ","pour laisser un commentaire.")),t.createElement("button",{type:"submit",disabled:D||!r,className:"w-full rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-3 text-sm font-bold text-white shadow-lg transition-all duration-200 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},D?"Envoi en cours":J?"Mettre  jour mon avis":"Publier mon avis")),!Je&&Ye&&t.createElement("div",{className:"flex items-center justify-between rounded-xl border border-emerald-200 bg-emerald-50 px-5 py-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(Kt,{size:20,className:"text-emerald-600"}),t.createElement("p",{className:"text-sm font-semibold text-emerald-900"},"Votre commentaire est publi.")),t.createElement("button",{type:"button",onClick:()=>H(!0),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-300 bg-white px-3 py-2 text-xs font-semibold text-emerald-700 transition-all duration-200 hover:bg-emerald-100"},t.createElement(Cu,{size:14}),"Modifier")),t.createElement("div",{className:"space-y-4"},u.length?u.map(we=>{const ot=!!r&&!!we.user?._id&&String(we.user._id)===String(r.id);return t.createElement("div",{key:we._id,className:"group rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-200 hover:shadow-md hover:border-indigo-200"},t.createElement("div",{className:"flex items-start justify-between gap-4"},t.createElement("div",{className:"flex items-start gap-3 flex-1"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement("span",{className:"text-sm font-bold text-indigo-600"},(we.user?.name||we.user?.shopName||"U").charAt(0).toUpperCase())),t.createElement("div",{className:"flex-1"},t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement("div",{className:"flex items-center gap-1"},[1,2,3,4,5].map(ht=>t.createElement(gr,{key:ht,size:14,className:ht<=we.rating?"text-amber-400 fill-amber-400":"text-gray-300"}))),t.createElement("span",{className:"text-sm font-bold text-gray-900"},oc(we.rating))),t.createElement("p",{className:"text-xs font-semibold text-gray-700 mb-1"},we.user?.name||we.user?.shopName||"Utilisateur"),t.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},we.comment||"Pas de commentaire fourni."))),t.createElement("div",{className:"flex flex-col items-end gap-2"},t.createElement("span",{className:"text-xs text-gray-400"},DE(we.createdAt)),ot&&t.createElement("button",{type:"button",onClick:()=>xt(we),className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-500 transition-all duration-200 hover:bg-gray-100 hover:text-indigo-600"},t.createElement(Cu,{size:14})))))}):t.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-8 text-center"},t.createElement(pr,{size:32,className:"text-gray-400 mx-auto mb-3"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun commentaire publi pour le moment."))))),t.createElement("section",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,0.7fr)]"},t.createElement("div",{className:"space-y-6"},t.createElement("article",{className:"overflow-hidden rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/30 shadow-xl"},t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-gray-200 bg-gradient-to-r from-indigo-50/50 via-white to-purple-50/30 px-6 py-5"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(It,{className:"h-6 w-6 text-indigo-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Horaires d'ouverture"),t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Planification communique par la boutique"))),t.createElement("span",{className:"rounded-full bg-indigo-100 px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider text-indigo-700 border border-indigo-200"},"Donnes directes")),nt.length?t.createElement("div",{className:"space-y-3 px-6 py-5"},nt.map(we=>{const ot=Bie[we.day]||we.day||"Jour",ht=we.closed?"Ferm":we.open&&we.close?`${we.open}  ${we.close}`:"Horaires partiels",Z=we.day===ct;return t.createElement("div",{key:`${we.day}-${we.open}-${we.close}`,className:`flex flex-wrap items-center justify-between gap-3 rounded-2xl border px-4 py-3 shadow-sm ${Z?"border-indigo-200 bg-indigo-50/60":"border-slate-100 bg-white"}`},t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2"},t.createElement("p",{className:"text-sm font-semibold text-slate-900"},ot),Z&&t.createElement("span",{className:"rounded-full bg-indigo-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.2em] text-indigo-600"},"Aujourd'hui")),t.createElement("p",{className:"text-xs text-slate-500"},ht)),t.createElement("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${we.closed?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-700"}`},t.createElement("span",{className:`h-2 w-2 rounded-full ${we.closed?"bg-rose-500":"bg-emerald-500"}`}),we.closed?"Ferm":"Ouvert"))})):t.createElement("div",{className:"px-6 py-5"},t.createElement("p",{className:"text-sm text-slate-500"},"Pas encore dhoraire organis."))),t.createElement("article",{className:"rounded-3xl border border-gray-100 bg-white p-6 shadow-sm text-center"},t.createElement("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500"},"Note moyenne"),t.createElement("div",{className:"mt-3 flex items-center justify-center gap-2"},t.createElement(gr,{className:"h-6 w-6 text-yellow-500"}),t.createElement("span",{className:"text-4xl font-bold text-gray-900"},oc(bt))),t.createElement("p",{className:"mt-2 text-xs text-gray-500"},au(Ze)," avis vrifis")))),t.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-emerald-50/30 via-white to-teal-50/20 p-8 shadow-xl"},t.createElement("div",{className:"flex items-center justify-between gap-4 mb-6"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-100 to-teal-100 shadow-md"},t.createElement(rr,{size:24,className:"text-emerald-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Produits les plus vendus"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Les 5 meilleures ventes de cette boutique"))),t.createElement("div",{className:"hidden sm:flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-100 to-teal-100 px-4 py-2 border border-emerald-200 shadow-sm"},t.createElement(Es,{size:18,className:"text-emerald-600"}),t.createElement("span",{className:"text-xs font-bold text-emerald-700"},"Top Ventes"))),pe?t.createElement("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-5"},[1,2,3,4,5].map(we=>t.createElement("div",{key:we,className:"animate-pulse rounded-2xl border border-gray-200 bg-gray-100 aspect-square"}))):oe&&ee.length===0?t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},t.createElement(_t,{size:20,className:"text-red-600 flex-shrink-0"}),t.createElement("p",{className:"text-sm font-medium text-red-800"},oe)):ee.length>0?t.createElement("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-5"},ee.map((we,ot)=>t.createElement("div",{key:we._id,className:"group relative overflow-hidden rounded-2xl border-2 border-gray-200 bg-white shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:scale-105"},t.createElement("div",{className:"absolute top-2 left-2 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 text-white shadow-lg ring-2 ring-white"},t.createElement("span",{className:"text-sm font-black"},"#",ot+1)),t.createElement(be,{to:or(we),...ge,className:"block aspect-square overflow-hidden bg-gray-100"},t.createElement("img",{src:we.images?.[0]||we.image||"/api/placeholder/200/200",alt:we.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"})),t.createElement("div",{className:"p-3 space-y-2"},t.createElement(be,{to:or(we),...ge,className:"block"},t.createElement("h3",{className:"text-xs font-bold text-gray-900 line-clamp-2 group-hover:text-emerald-600 transition-colors"},we.title)),t.createElement("div",{className:"flex items-baseline gap-1"},t.createElement("span",{className:"text-sm font-black text-gray-900"},iT(we.price)),we.priceBeforeDiscount&&we.priceBeforeDiscount>we.price&&t.createElement("span",{className:"text-[10px] text-gray-400 line-through"},iT(we.priceBeforeDiscount))),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-1 rounded-full bg-emerald-100 px-2 py-1 border border-emerald-200"},t.createElement(rr,{size:10,className:"text-emerald-600"}),t.createElement("span",{className:"text-[10px] font-bold text-emerald-700"},au(we.salesCount||0)," vente",we.salesCount>1?"s":"")),we.ratingAverage>0&&t.createElement("div",{className:"flex items-center gap-0.5"},t.createElement(gr,{size:10,className:"text-amber-400 fill-amber-400"}),t.createElement("span",{className:"text-[10px] font-semibold text-gray-600"},Number(we.ratingAverage).toFixed(1)))))))):t.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-8 text-center"},t.createElement(rr,{size:32,className:"text-gray-400 mx-auto mb-3"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun produit vendu pour le moment."))),t.createElement("section",{className:"rounded-3xl border border-gray-200/60 bg-gradient-to-br from-white to-gray-50/30 p-8 shadow-xl"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(wt,{size:24,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Produits de la boutique"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},De.length," produit",De.length>1?"s":""," disponible",De.length>1?"s":""))),$e.length>0&&t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>w("all"),className:`inline-flex items-center gap-2 rounded-xl border-2 px-4 py-2 text-xs font-bold transition-all duration-200 ${E==="all"?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 shadow-md scale-105":"border-gray-200 bg-white text-gray-600 hover:border-indigo-300 hover:bg-indigo-50"}`},t.createElement(oN,{size:14}),"Tous"),$e.map(we=>t.createElement("button",{key:we,type:"button",onClick:()=>w(we),className:`inline-flex items-center gap-2 rounded-xl border-2 px-4 py-2 text-xs font-bold transition-all duration-200 ${E===we?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 shadow-md scale-105":"border-gray-200 bg-white text-gray-600 hover:border-indigo-300 hover:bg-indigo-50"}`},we)))),De.length?t.createElement("div",{className:"mt-6 grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"},De.map(we=>t.createElement(Aa,{key:we._id,p:we,hideMobileDiscountBadge:!0}))):t.createElement("div",{className:"mt-6 rounded-2xl border border-dashed border-gray-300 bg-slate-50 px-6 py-12 text-center"},t.createElement("p",{className:"text-lg font-semibold text-gray-700"},$e.length&&E!=="all"?`Aucun produit dans la catgorie ${E}.`:"Aucun produit publi pour le moment."),t.createElement(be,{to:"/",className:"mt-4 inline-flex items-center justify-center rounded-full bg-indigo-600 px-6 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700"},"Retour  laccueil"))),I&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8"},t.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl border border-gray-200 bg-white shadow-2xl max-h-[90vh] flex flex-col"},t.createElement("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-4 border-b border-gray-200 bg-white px-6 py-5 rounded-t-3xl"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-amber-100 to-orange-100"},t.createElement(pr,{size:20,className:"text-amber-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Tous les commentaires"),t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},G.length," commentaire",G.length>1?"s":""))),t.createElement("button",{type:"button",onClick:nr,className:"flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 text-gray-500 transition-all duration-200 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","aria-label":"Fermer"},t.createElement(_t,{size:20}))),t.createElement("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4"},ae?t.createElement("div",{className:"flex items-center justify-center py-12"},t.createElement("div",{className:"flex flex-col items-center gap-3"},t.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Chargement des commentaires"))):ve?t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 flex items-center gap-3"},t.createElement(_t,{size:20,className:"text-red-600 flex-shrink-0"}),t.createElement("p",{className:"text-sm font-medium text-red-800"},ve)):G.length?G.map(we=>t.createElement("div",{key:`modal-${we._id}`,className:"group rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-200 hover:shadow-md hover:border-indigo-200"},t.createElement("div",{className:"flex items-start gap-4"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex-shrink-0"},t.createElement("span",{className:"text-base font-bold text-indigo-600"},(we.user?.name||we.user?.shopName||"U").charAt(0).toUpperCase())),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center justify-between gap-3 mb-2"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement("p",{className:"text-sm font-bold text-gray-900"},we.user?.name||we.user?.shopName||"Utilisateur"),t.createElement("div",{className:"flex items-center gap-1"},[1,2,3,4,5].map(ot=>t.createElement(gr,{key:ot,size:14,className:ot<=we.rating?"text-amber-400 fill-amber-400":"text-gray-300"}))),t.createElement("span",{className:"text-xs font-semibold text-gray-600"},oc(we.rating))),t.createElement("span",{className:"text-xs text-gray-400 whitespace-nowrap"},DE(we.createdAt))),t.createElement("p",{className:"text-sm text-gray-700 leading-relaxed"},we.comment||"Pas de commentaire."))))):t.createElement("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 p-12 text-center"},t.createElement(pr,{size:48,className:"text-gray-400 mx-auto mb-4"}),t.createElement("p",{className:"text-sm font-medium text-gray-600"},"Aucun commentaire pour cette boutique.")))))))}const rp=[{title:"Paiements scuriss",description:"Tous les paiements vers ETS HD Tech Filial sont vrifis manuellement avant la mise en ligne dune annonce."},{title:"Vendeurs vrifis",description:"Les boutiques et les particuliers doivent fournir des informations valides pour publier sur HDMarket."},{title:"Service client ractif",description:"Notre support rpond sous 24h ouvres par email ou WhatsApp pour toute rclamation ou assistance."}];function nu(e=[]){const r=Date.now();return e.map((a,n)=>({...a,id:a.id||`condition-${r}-${n}`}))}function oT(e=[]){return e.map(({title:r,description:a})=>({title:(r||"").trim(),description:(a||"").trim()}))}function Vie(){const{user:e}=h.useContext(fr),r=e?.role==="admin",[a,n]=h.useState("ETS HD Tech Filial"),[s,i]=h.useState(()=>nu(rp)),[o,d]=h.useState({title:"",description:""}),[u,m]=h.useState(null),[p,f]=h.useState(""),[y,b]=h.useState(!0),[E,w]=h.useState(!1),[x,N]=h.useState("");h.useEffect(()=>{let T=!0;return(async()=>{b(!0);try{const{data:D}=await ie.get("/support/help-center");if(!T)return;const j=Array.isArray(D?.conditions)&&D.conditions.length?D.conditions:rp;n(D?.companyName||"ETS HD Tech Filial"),i(nu(j)),N("")}catch(D){if(!T)return;i(nu(rp)),N(D.response?.data?.message||D.message||"Impossible de charger les conditions pour le moment.")}finally{T&&b(!1)}})(),()=>{T=!1}},[]),h.useEffect(()=>{if(!p)return;const T=setTimeout(()=>f(""),3e3);return()=>clearTimeout(T)},[p]);const S=h.useMemo(()=>[{label:"Entreprise",value:a},{label:"Sige social",value:"Brazzaville, Congo"},{label:"Support 24/7",value:"support@hdmarket.cg"},{label:"WhatsApp",value:"+242 06 000 00 00"}],[a]),k=h.useCallback(async(T,R)=>{if(!r)return f("Seuls les administrateurs peuvent enregistrer des changements."),!1;w(!0);try{const D={companyName:a,conditions:oT(T)},{data:j}=await ie.put("/support/help-center",D),L=Array.isArray(j?.conditions)&&j.conditions.length?j.conditions:oT(T);return i(nu(L)),n(j?.companyName||a),f(R||"Modifications enregistres."),N(""),!0}catch(D){return f(D.response?.data?.message||D.message||"Impossible denregistrer les modifications."),!1}finally{w(!1)}},[a,r]),P=T=>{if(!r){f("Seuls les administrateurs peuvent modifier les conditions.");return}m(T.id),d({title:T.title,description:T.description})},C=async T=>{if(T.preventDefault(),!r){f("Seuls les administrateurs peuvent enregistrer des changements.");return}if(!o.title.trim()||!o.description.trim()){f("Merci de renseigner un titre et un contenu.");return}const R={title:o.title.trim(),description:o.description.trim()},D=u?s.map(L=>L.id===u?{...L,...R}:L):[{id:`condition-${Date.now()}`,...R},...s];await k(D,u?"Condition mise  jour avec succs.":"Nouvelle condition ajoute.")&&(d({title:"",description:""}),m(null))},_=()=>{m(null),d({title:"",description:""})},O=async()=>{if(!r){f("Seuls les administrateurs peuvent restaurer la version officielle.");return}const T=nu(rp);await k(T,"Conditions par dfaut restaures.")&&(m(null),d({title:"",description:""}))};return t.createElement("div",{className:"bg-gray-50 min-h-screen"},t.createElement("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-10"},t.createElement("header",{className:"space-y-3"},t.createElement("p",{className:"text-xs font-semibold uppercase tracking-widest text-indigo-600"},a),t.createElement("h1",{className:"text-3xl font-extrabold text-gray-900"},"Aide et service client"),t.createElement("p",{className:"text-sm text-gray-600 max-w-2xl"},"Retrouvez les conditions d'utilisation de la plateforme HDMarket, gre par ETS HD Tech Filial, et mettez-les  jour facilement grce au formulaire ddi.")),x&&t.createElement("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700"},x),t.createElement("section",{className:"grid gap-4 sm:grid-cols-2"},t.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"rounded-xl bg-indigo-100 p-3 text-indigo-600"},t.createElement($r,{size:20})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Conditions vrifies"),t.createElement("p",{className:"text-sm text-gray-500"},"Politique de confiance et modration."))),t.createElement("ul",{className:"mt-4 space-y-2 text-sm text-gray-700"},S.map(T=>t.createElement("li",{key:T.label},t.createElement("span",{className:"font-semibold"},T.label," :")," ",T.value)))),t.createElement("article",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Contactez-nous"),t.createElement("div",{className:"space-y-3 text-sm text-gray-700"},t.createElement("p",{className:"flex items-center gap-2"},t.createElement(uo,{size:16,className:"text-indigo-600"}),"support@hdmarket.cg"),t.createElement("p",{className:"flex items-center gap-2"},t.createElement(hi,{size:16,className:"text-green-600"}),"+242 06 000 00 00"),t.createElement("p",{className:"flex items-center gap-2"},t.createElement(ra,{size:16,className:"text-emerald-600"}),"Assistance WhatsApp disponible 7j/7")),t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner aux annonces"))),t.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm space-y-4"},t.createElement("div",{className:"flex items-center justify-between flex-wrap gap-2"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2"},t.createElement(Ga,{size:20,className:"text-indigo-600"}),"Conditions d'utilisation actuelles"),r?t.createElement("button",{type:"button",onClick:O,className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-1.5 text-xs font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:E},t.createElement(Sc,{size:14}),"Restaurer la version officielle"):t.createElement("p",{className:"text-xs font-medium text-gray-500"},"Lecture seule  modifiable par les administrateurs.")),t.createElement("ul",{className:"space-y-4"},y?t.createElement("li",{className:"rounded-xl border border-dashed border-gray-200 bg-gray-50 p-4 text-sm text-gray-500"},"Chargement des conditions"):s.map(T=>t.createElement("li",{key:T.id,className:"rounded-xl border border-gray-100 bg-gray-50 p-4 text-sm text-gray-700 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between gap-3"},t.createElement("p",{className:"text-base font-semibold text-gray-900"},T.title),r&&t.createElement("button",{type:"button",onClick:()=>P(T),className:"inline-flex items-center gap-1 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},t.createElement(Cu,{size:14}),"Modifier")),t.createElement("p",{className:"mt-2 text-gray-600"},T.description))))),r&&t.createElement("section",{className:"rounded-2xl border border-indigo-100 bg-white p-5 shadow-lg space-y-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"rounded-xl bg-indigo-50 p-3 text-indigo-600"},t.createElement(Ga,{size:20})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Ajouter ou mettre  jour une condition"),t.createElement("p",{className:"text-sm text-gray-500"},"Ce formulaire vous permet de garder les conditions  jour sans crire de code."))),p&&t.createElement("div",{className:"flex items-center gap-2 rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-800"},t.createElement(br,{size:16}),p),t.createElement("form",{className:"space-y-4",onSubmit:C},t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Titre"),t.createElement("input",{type:"text",value:o.title,onChange:T=>d(R=>({...R,title:T.target.value})),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Ex: Politique de remboursement"})),t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Description"),t.createElement("textarea",{value:o.description,onChange:T=>d(R=>({...R,description:T.target.value})),rows:4,className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Dcrivez clairement la condition d'utilisation."})),t.createElement("div",{className:"flex flex-wrap items-center gap-3"},t.createElement("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-60",disabled:E},t.createElement(bm,{size:16}),E?"Enregistrement":u?"Mettre  jour":"Ajouter la condition"),u&&t.createElement("button",{type:"button",onClick:_,className:"text-sm font-semibold text-gray-600 hover:text-gray-800",disabled:E},"Annuler la modification"))))))}function Hie(){const{user:e}=h.useContext(fr),r=e?.role==="admin",[a,n]=h.useState([]),[s,i]=h.useState([]),o=h.useMemo(()=>a.length?a.reduce(($,J)=>{if(!$)return J;const Q=Number($.ratingCount??0),X=Number(J.ratingCount??0);if(X>Q)return J;if(X===Q){const H=Number($.ratingAverage??0);return Number(J.ratingAverage??0)>H?J:$}return $},null):null,[a]),d=h.useMemo(()=>a.length?[...a].sort(($,J)=>Number(J.followersCount??0)-Number($.followersCount??0)).slice(0,3):[],[a]),[u,m]=h.useState({}),[p,f]=h.useState(!0),[y,b]=h.useState(""),[E,w]=h.useState(new Map),[x,N]=h.useState(!1),[S,k]=h.useState("");h.useEffect(()=>{let $=!0;return(async()=>{f(!0),b("");try{const{data:Q}=await ie.get("/shops",{params:{withImages:!0,imageLimit:6}}),X=Array.isArray(Q)?Q:[],H=X.filter(G=>G.shopVerified),I=X.filter(G=>!G.shopVerified);if(!$)return;n(H),i(I);const B=new Map;if(await Promise.all(H.slice(0,20).map(async G=>{try{const z=G.slug||G._id;if(!z)return;const{data:ae}=await ie.get(`/shops/${z}`,{params:{limit:6}});if($&&ae?.products){const he=Array.isArray(ae.products)?ae.products:[];B.set(G._id,he.slice(0,6))}}catch{}})),$&&w(B),r)try{const{data:G}=await ie.get("/admin/shops/verified");if(!$)return;const z={};(G||[]).forEach(ae=>{z[ae.id]=ae}),m(z)}catch(G){console.error("Erreur chargement meta admin:",G)}else m({})}catch(Q){if(!$)return;b(Q.response?.data?.message||Q.message||"Impossible de charger les boutiques."),n([]),i([])}finally{$&&f(!1)}})(),()=>{$=!1}},[r]),h.useMemo(()=>r?"Boutiques vrifies (Admin)":"Boutiques vrifies",[r]);const P=h.useMemo(()=>"https://hdmarket-backend.onrender.com/api".replace(/\/api\/?$/,""),[]),C=h.useMemo(()=>$=>{if(!$)return"";if(/^https?:\/\//i.test($))return $;const J=$.replace(/\\/g,"/");return`${P}/${J.replace(/^\/+/,"")}`},[P]),_=h.useMemo(()=>{const $=new Map;return a.forEach(J=>{const Q=Array.isArray(J.sampleImages)?J.sampleImages:[],X=J.shopBanner?C(J.shopBanner):"",H=J.shopLogo?C(J.shopLogo):"",B=[...Q.filter(Boolean).map(C).filter(z=>z&&z!==X&&z!==H)];for(let z=B.length-1;z>0;z-=1){const ae=Math.floor(Math.random()*(z+1));[B[z],B[ae]]=[B[ae],B[z]]}const G=B.slice(0,6);$.set(J._id,G)}),$},[a,C]),O=h.useMemo(()=>Number(a.length||0).toLocaleString("fr-FR"),[a.length]),T=h.useMemo(()=>{if(!a.length)return[];const $=[...a];for(let J=$.length-1;J>0;J-=1){const Q=Math.floor(Math.random()*(J+1));[$[J],$[Q]]=[$[Q],$[J]]}return $},[a]),R=$=>{if(!$)return"Rcemment";const J=new Date,Q=new Date($),X=J-Q,H=Math.floor(X/(1e3*60*60*24));return H<1?"Aujourd'hui":H===1?"Hier":H<7?`Il y a ${H} jours`:H<30?`Il y a ${Math.floor(H/7)} semaines`:Q.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},D=$=>`${Number($||0).toLocaleString("fr-FR")} FCFA`,j=$=>Number($||0).toLocaleString("fr-FR"),L=h.useMemo(()=>{const $=[...a,...s];if(!S.trim())return $;const J=S.toLowerCase().trim();return $.filter(Q=>Q.shopName?.toLowerCase().includes(J)||Q.shopAddress?.toLowerCase().includes(J)||Q.name?.toLowerCase().includes(J))},[a,s,S]),K=h.useMemo(()=>L.filter($=>$.shopVerified),[L]),W=h.useMemo(()=>L.filter($=>!$.shopVerified),[L]);return t.createElement("div",{className:"min-h-screen bg-white"},t.createElement("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 shadow-sm"},t.createElement("div",{className:"max-w-2xl mx-auto px-4 py-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement($r,{className:"w-5 h-5 text-emerald-600"}),t.createElement("h1",{className:"text-lg font-black text-gray-900"},r?"Boutiques Vrifies (Admin)":"Boutiques Vrifies")),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"text-xs text-gray-500 font-semibold"},O," boutiques"),t.createElement("button",{onClick:()=>N(!0),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-1.5 text-xs font-semibold text-indigo-700 hover:bg-indigo-100 hover:border-indigo-300 transition-all duration-200"},t.createElement(oN,{size:14}),"Voir toutes les boutiques"))))),t.createElement("div",{className:"max-w-2xl mx-auto px-4 py-4 space-y-4"},p?t.createElement("div",{className:"space-y-4"},[1,2,3].map($=>t.createElement("div",{key:$,className:"bg-white rounded-2xl border border-gray-200 p-4 animate-pulse"},t.createElement("div",{className:"flex gap-3 mb-4"},t.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),t.createElement("div",{className:"flex-1 space-y-2"},t.createElement("div",{className:"h-4 w-32 bg-gray-200 rounded"}),t.createElement("div",{className:"h-3 w-24 bg-gray-200 rounded"}))),t.createElement("div",{className:"grid grid-cols-3 gap-2 mb-4"},[1,2,3,4,5,6].map(J=>t.createElement("div",{key:J,className:"aspect-square bg-gray-200 rounded-xl"})))))):y?t.createElement("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6 text-center"},t.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},t.createElement($r,{className:"w-6 h-6 text-red-600"})),t.createElement("p",{className:"text-red-700 font-semibold"},y)):a.length?t.createElement("div",{className:"space-y-4"},T.map($=>{const J=u[String($._id)],Q=E.get($._id)||[],X=_.get($._id)||[],H=Q.length>0?Q:X.slice(0,6).map((ae,he)=>({images:[ae],_id:`img-${he}`})),I=Q.length>0&&Q[0]?.createdAt?R(Q[0].createdAt):$.createdAt?R($.createdAt):"Rcemment",B=d.findIndex(ae=>ae._id===$._id),G=B>=0&&B<3,z=o?._id===$._id;return t.createElement("div",{key:$._id,className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow"},t.createElement("div",{className:"p-4 border-b border-gray-100"},t.createElement("div",{className:"flex items-start justify-between gap-3"},t.createElement("div",{className:"flex items-center gap-3 flex-1 min-w-0"},t.createElement("div",{className:"relative flex-shrink-0"},t.createElement("img",{src:$.shopLogo||"/api/placeholder/60/60",alt:$.shopName,className:"w-12 h-12 rounded-full object-cover border-2 border-indigo-200"}),t.createElement("div",{className:"absolute -bottom-1 -left-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-lg"},"Vrifi")),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},$.shopName),t.createElement(Za,{verified:!0,showLabel:!1}),G&&t.createElement("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full"},t.createElement(Es,{className:"w-3 h-3"}),"TOP",B+1),z&&t.createElement("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full"},t.createElement(tF,{className:"w-3 h-3"}),"#1")),t.createElement("div",{className:"flex items-center gap-2 text-xs text-gray-500"},t.createElement(Wn,{className:"w-3 h-3"}),t.createElement("span",null,I)))),t.createElement("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors"},t.createElement(oF,{className:"w-5 h-5"})))),H.length>0&&t.createElement("div",{className:"p-4"},t.createElement("div",{className:"grid grid-cols-3 gap-2"},H.slice(0,6).map((ae,he)=>{const ve=ae.images?.[0]||ae.image||"/api/placeholder/200/200",_e=ae.slug?or({slug:ae.slug,_id:ae._id}):la($),ee=ae.title||ae.price;return t.createElement(be,{key:ae._id||`product-${he}`,to:_e,className:"group relative aspect-square overflow-hidden rounded-xl bg-gray-100"},t.createElement("img",{src:ve,alt:ae.title||`Produit ${he+1}`,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}),ae.discount>0&&t.createElement("div",{className:"absolute top-1 left-1 bg-gradient-to-r from-red-500 to-pink-500 text-white text-[9px] font-black px-1.5 py-0.5 rounded shadow-lg z-10"},"-",ae.discount,"%"),ee&&t.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20"},t.createElement("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 text-white"},ae.title&&t.createElement("p",{className:"text-xs font-bold mb-1.5 line-clamp-2 leading-tight"},ae.title),ae.price&&t.createElement("div",{className:"flex items-baseline gap-2 mb-2"},t.createElement("p",{className:"text-sm font-black text-white"},D(ae.price)),ae.priceBeforeDiscount&&ae.priceBeforeDiscount>ae.price&&t.createElement("p",{className:"text-[10px] text-gray-300 line-through"},D(ae.priceBeforeDiscount))),t.createElement("div",{className:"flex items-center gap-3 text-[10px]"},ae.ratingAverage>0&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(gr,{className:"w-3 h-3 text-amber-400 fill-amber-400"}),t.createElement("span",{className:"font-semibold"},Number(ae.ratingAverage).toFixed(1)),ae.ratingCount>0&&t.createElement("span",{className:"text-gray-300"},"(",j(ae.ratingCount),")")),ae.commentCount>0&&t.createElement("div",{className:"flex items-center gap-1 text-gray-300"},t.createElement(pr,{className:"w-3 h-3"}),t.createElement("span",null,j(ae.commentCount)))),t.createElement("div",{className:"mt-2 pt-2 border-t border-white/20"},t.createElement("p",{className:"text-[9px] text-white/80 font-medium"},"Cliquer pour voir ")))))}))),t.createElement("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50/50"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-600"},t.createElement("span",{className:"flex items-center gap-1.5"},t.createElement(Ar,{className:"w-4 h-4 text-pink-500"}),t.createElement("span",{className:"font-semibold"},j($.followersCount||0))),t.createElement("span",{className:"flex items-center gap-1.5"},t.createElement(rn,{className:"w-4 h-4 text-indigo-500"}),t.createElement("span",{className:"font-semibold"},j($.productCount||0))),t.createElement("span",{className:"flex items-center gap-1.5"},t.createElement(Jn,{className:"w-4 h-4 text-gray-500"}),t.createElement("span",{className:"font-semibold"},j(Math.floor(($.productCount||0)*12.5))))),t.createElement(be,{to:la($),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-sm hover:shadow-md"},"Voir boutique",t.createElement(Rr,{className:"w-3 h-3"})))),r&&J?.shopVerifiedBy&&t.createElement("div",{className:"px-4 py-3 border-t border-gray-100 bg-indigo-50/50"},t.createElement("div",{className:"flex items-center gap-2 text-xs text-indigo-700"},t.createElement(ha,{className:"w-3.5 h-3.5"}),t.createElement("span",{className:"font-semibold"},"Vrifie par ",J.shopVerifiedBy.name),J.shopVerifiedAt&&t.createElement("span",{className:"text-indigo-600"}," ",new Date(J.shopVerifiedAt).toLocaleDateString("fr-FR")))))})):t.createElement("div",{className:"bg-white rounded-2xl border-2 border-dashed border-gray-300 p-12 text-center"},t.createElement(vr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.createElement("p",{className:"text-gray-600 font-semibold"},"Aucune boutique vrifie pour le moment.")),!p&&!y&&s.length>0&&t.createElement("section",{className:"mt-10 space-y-4"},t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase font-semibold text-amber-600 flex items-center gap-2"},t.createElement($r,{size:16,className:"text-amber-500"}),"Boutiques en attente de vrification"),t.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-1"},"Soumissions rcentes"),t.createElement("p",{className:"text-sm text-gray-500"},"Ces boutiques seront examines prochainement par lquipe HDMarket.")),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},s.map($=>t.createElement(be,{key:`pending-${$._id}`,to:la($),className:"rounded-2xl border border-amber-100 bg-white p-4 hover:border-amber-200 hover:shadow-md transition-all space-y-3"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("img",{src:$.shopLogo||"/api/placeholder/80/80",alt:$.shopName,className:"w-14 h-14 rounded-2xl object-cover border border-amber-100"}),t.createElement("div",{className:"min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 truncate"},$.shopName||$.name),t.createElement("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1"},t.createElement(Sr,{size:12}),$.shopAddress||"Adresse en cours"))),t.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},t.createElement("span",null,$.productCount||0," annonce",$.productCount>1?"s":""),t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2 py-1 text-amber-700 border border-amber-100"},"En revue")))))),t.createElement("div",{className:"text-center"},t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-indigo-500"},"Retourner  l'accueil"))),x&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/50 backdrop-blur-sm p-4",onClick:()=>{N(!1),k("")}},t.createElement("div",{className:"relative w-full max-w-5xl rounded-3xl bg-white shadow-2xl border border-gray-200 max-h-[90vh] flex flex-col",onClick:$=>$.stopPropagation()},t.createElement("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-4 p-6 border-b border-gray-200 bg-white rounded-t-3xl"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(vr,{size:24,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Toutes les boutiques"),t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},L.length," boutique",L.length>1?"s":""," au total"))),t.createElement("button",{onClick:()=>{N(!1),k("")},className:"flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 text-gray-500 hover:bg-gray-50 hover:border-gray-300 transition-all duration-200","aria-label":"Fermer"},t.createElement(_t,{size:20}))),t.createElement("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50"},t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.createElement("input",{type:"text",value:S,onChange:$=>k($.target.value),placeholder:"Rechercher une boutique par nom ou adresse...",className:"w-full pl-11 pr-4 py-3 rounded-xl border border-gray-200 bg-white text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-100 transition-all duration-200"}))),t.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-8"},K.length>0&&t.createElement("section",{className:"space-y-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-emerald-100 to-teal-100"},t.createElement(Kt,{size:18,className:"text-emerald-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Boutiques certifies"),t.createElement("p",{className:"text-xs text-gray-500"},K.length," boutique",K.length>1?"s":""," vrifie",K.length>1?"s":""))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},K.map($=>t.createElement(be,{key:`certified-${$._id}`,to:la($),onClick:()=>{N(!1),k("")},className:"group relative rounded-2xl border border-emerald-100 bg-gradient-to-br from-white to-emerald-50/30 p-4 hover:border-emerald-200 hover:shadow-lg transition-all duration-200"},t.createElement("div",{className:"flex items-start gap-3 mb-3"},t.createElement("div",{className:"relative flex-shrink-0"},t.createElement("img",{src:$.shopLogo||"/api/placeholder/60/60",alt:$.shopName,className:"w-14 h-14 rounded-xl object-cover border-2 border-emerald-200"}),t.createElement("div",{className:"absolute -bottom-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-emerald-500 to-teal-500 shadow-lg"},t.createElement(Kt,{size:12,className:"text-white"}))),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},$.shopName||$.name),t.createElement(Za,{verified:!0,showLabel:!1})),t.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500"},t.createElement(Sr,{size:12}),t.createElement("span",{className:"truncate"},$.shopAddress||"Adresse non renseigne")))),t.createElement("div",{className:"flex items-center justify-between text-xs"},t.createElement("div",{className:"flex items-center gap-3 text-gray-600"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(rn,{size:12,className:"text-indigo-500"}),t.createElement("span",{className:"font-semibold"},j($.productCount||0))),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(Ar,{size:12,className:"text-pink-500"}),t.createElement("span",{className:"font-semibold"},j($.followersCount||0)))),t.createElement(Rr,{size:14,className:"text-gray-400 group-hover:text-indigo-600 transition-colors"})))))),W.length>0&&t.createElement("section",{className:"space-y-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-amber-100 to-orange-100"},t.createElement(It,{size:18,className:"text-amber-600"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Boutiques non certifies"),t.createElement("p",{className:"text-xs text-gray-500"},W.length," boutique",W.length>1?"s":""," en attente de vrification"))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},W.map($=>t.createElement(be,{key:`non-certified-${$._id}`,to:la($),onClick:()=>{N(!1),k("")},className:"group relative rounded-2xl border border-amber-100 bg-gradient-to-br from-white to-amber-50/30 p-4 hover:border-amber-200 hover:shadow-lg transition-all duration-200"},t.createElement("div",{className:"flex items-start gap-3 mb-3"},t.createElement("div",{className:"relative flex-shrink-0"},t.createElement("img",{src:$.shopLogo||"/api/placeholder/60/60",alt:$.shopName,className:"w-14 h-14 rounded-xl object-cover border-2 border-amber-200"}),t.createElement("div",{className:"absolute -bottom-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-amber-400 to-orange-400 shadow-lg"},t.createElement(It,{size:12,className:"text-white"}))),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("p",{className:"font-bold text-gray-900 truncate text-sm"},$.shopName||$.name),t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2 py-0.5 text-[10px] font-semibold text-amber-700 border border-amber-200"},"En attente")),t.createElement("div",{className:"flex items-center gap-1.5 text-xs text-gray-500"},t.createElement(Sr,{size:12}),t.createElement("span",{className:"truncate"},$.shopAddress||"Adresse non renseigne")))),t.createElement("div",{className:"flex items-center justify-between text-xs"},t.createElement("div",{className:"flex items-center gap-3 text-gray-600"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(rn,{size:12,className:"text-indigo-500"}),t.createElement("span",{className:"font-semibold"},j($.productCount||0))),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(Ar,{size:12,className:"text-pink-500"}),t.createElement("span",{className:"font-semibold"},j($.followersCount||0)))),t.createElement(Rr,{size:14,className:"text-gray-400 group-hover:text-indigo-600 transition-colors"})))))),L.length===0&&t.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-center"},t.createElement("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 mb-4"},t.createElement(zr,{size:32,className:"text-gray-400"})),t.createElement("p",{className:"text-sm font-semibold text-gray-900 mb-1"},"Aucune boutique trouve"),t.createElement("p",{className:"text-xs text-gray-500"},"Essayez de modifier votre recherche"))))))}const Wie=new Intl.NumberFormat("fr-FR"),Jt=e=>{const r=Number(e);return!Number.isFinite(r)||r<0?"0":Wie.format(r)},Ls=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,Un={listings:{total:0,approved:0,pending:0,rejected:0,disabled:0},engagement:{favoritesReceived:0,commentsReceived:0,favoritesSaved:0,shopsFollowed:0},performance:{views:0,clicks:0,conversion:0},breakdown:{categories:[],conditions:[]},timeline:[],topProducts:[],advertismentSpend:0,orders:{purchases:{totalCount:0,totalAmount:0,paidAmount:0,remainingAmount:0,totalItems:0,byStatus:{pending:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},confirmed:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivering:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},delivered:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0},cancelled:{count:0,totalAmount:0,paidAmount:0,remainingAmount:0,items:0}}},sales:{totalCount:0,totalAmount:0,byStatus:{pending:{count:0,totalAmount:0},confirmed:{count:0,totalAmount:0},delivering:{count:0,totalAmount:0},delivered:{count:0,totalAmount:0},cancelled:{count:0,totalAmount:0}}}}},ap=({icon:e,label:r,value:a,subtitle:n,gradient:s,iconBg:i,trend:o})=>t.createElement("div",{className:"group relative overflow-hidden rounded-2xl bg-white border border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300"},t.createElement("div",{className:`absolute inset-0 ${s.replace("from-","bg-").split(" ")[0]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),t.createElement("div",{className:"relative p-6"},t.createElement("div",{className:"flex items-start justify-between mb-4"},t.createElement("div",{className:`p-3 rounded-xl ${i} shadow-sm`},t.createElement(e,{className:"w-6 h-6 text-white"})),o&&t.createElement("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-50 border border-emerald-200"},t.createElement(rr,{className:"w-3 h-3 text-emerald-600"}),t.createElement("span",{className:"text-xs font-bold text-emerald-700"},o))),t.createElement("div",{className:"space-y-1"},t.createElement("p",{className:"text-sm font-medium text-gray-600"},r),t.createElement("p",{className:"text-3xl font-bold text-gray-900"},a),n&&t.createElement("p",{className:"text-xs text-gray-500 mt-2"},n)))),Yi=({title:e,value:r,subtitle:a,icon:n,color:s="indigo"})=>{const i={indigo:{icon:"bg-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100",text:"text-indigo-600"},emerald:{icon:"bg-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",text:"text-emerald-600"},amber:{icon:"bg-amber-600",bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-600"},purple:{icon:"bg-purple-600",bg:"bg-purple-50",border:"border-purple-100",text:"text-purple-600"},rose:{icon:"bg-rose-600",bg:"bg-rose-50",border:"border-rose-100",text:"text-rose-600"}},o=i[s]||i.indigo;return t.createElement("div",{className:`rounded-xl border ${o.border} ${o.bg} p-4`},t.createElement("div",{className:"flex items-center justify-between mb-2"},t.createElement("div",{className:`p-2 rounded-lg ${o.icon}`},t.createElement(n,{className:"w-4 h-4 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},r)),t.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide"},e),a&&t.createElement("p",{className:"text-xs text-gray-500 mt-1"},a))};function Gie(){const{user:e}=h.useContext(fr),r=Kr(),[a,n]=h.useState(Un),[s,i]=h.useState(!0),[o,d]=h.useState(""),[u,m]=h.useState([]),[p,f]=h.useState(!1),[y,b]=h.useState(!1),[E,w]=h.useState(!1),[x,N]=h.useState([]),[S,k]=h.useState(!1),[P,C]=h.useState(""),[_,O]=h.useState(!1),[T,R]=h.useState([]),[D,j]=h.useState(!1),[L,K]=h.useState(""),W=e?.accountType==="shop"?la(e):null;h.useEffect(()=>{if(!e)return;let I=!0;return(async()=>{i(!0),d("");try{const{data:G}=await ie.get("/users/profile/stats");if(!I)return;n(z=>({...Un,...G,listings:{...Un.listings,...G?.listings||{}},engagement:{...Un.engagement,...G?.engagement||{}},performance:{...Un.performance,...G?.performance||{}},breakdown:{categories:G?.breakdown?.categories||[],conditions:G?.breakdown?.conditions||[]},timeline:G?.timeline||[],topProducts:G?.topProducts||[],advertismentSpend:G?.advertismentSpend??z.advertismentSpend??0,followedShops:Array.isArray(G?.followedShops)?G.followedShops:[],orders:{...Un.orders,...G?.orders||{},purchases:{...Un.orders.purchases,...G?.orders?.purchases||{},byStatus:{...Un.orders.purchases.byStatus,...G?.orders?.purchases?.byStatus||{}}},sales:{...Un.orders.sales,...G?.orders?.sales||{},byStatus:{...Un.orders.sales.byStatus,...G?.orders?.sales?.byStatus||{}}}}}))}catch(G){if(!I)return;d(G.response?.data?.message||G.message||"Impossible de charger les statistiques.")}finally{I&&i(!1)}})(),()=>{I=!1}},[e]),h.useEffect(()=>{let I=!0;return(async()=>{if(!e){m([]);return}f(!0);try{const{data:G}=await ie.get("/users/search-history");if(!I)return;m(Array.isArray(G)?G:[])}catch{if(!I)return;m([])}finally{I&&f(!1)}})(),()=>{I=!1}},[e]);const $=h.useMemo(()=>Array.isArray(a.followedShops)?a.followedShops:[],[a.followedShops]);h.useEffect(()=>{!e&&!s&&r("/login")},[e,s,r]),h.useEffect(()=>{if(!E)return;let I=!0;return(async()=>{k(!0),C("");try{const{data:G}=await ie.get("/orders?limit=100");if(!I)return;const z=Array.isArray(G)?G:G?.items||[],ae=new Map;z.forEach(ve=>{(Array.isArray(ve.items)?ve.items:[]).forEach(ee=>{const le=ee.product?._id||ee.product||"",pe=ee.snapshot?.title||ee.product?.title||"Produit",Ne=le||pe,oe=Number(ee.quantity||1),Me=Number(ee.snapshot?.price||ee.product?.price||0)*oe,ge=ae.get(Ne);if(ge){ge.quantity+=oe,ge.totalSpent+=Me;return}ae.set(Ne,{key:Ne,product:ee.product||null,title:pe,image:ee.snapshot?.image||ee.product?.images?.[0]||null,quantity:oe,totalSpent:Me})})});const he=Array.from(ae.values()).sort((ve,_e)=>_e.totalSpent-ve.totalSpent);N(he)}catch(G){if(!I)return;C(G.response?.data?.message||"Impossible de charger les produits commands."),N([])}finally{I&&k(!1)}})(),()=>{I=!1}},[E]),h.useEffect(()=>{if(!_)return;let I=!0;return(async()=>{j(!0),K("");try{const{data:G}=await ie.get("/orders/seller?limit=100");if(!I)return;const z=Array.isArray(G)?G:G?.items||[],ae=new Map;z.forEach(ve=>{(Array.isArray(ve.items)?ve.items:[]).forEach(ee=>{const le=ee.product?._id||ee.product||"",pe=ee.snapshot?.title||ee.product?.title||"Produit",Ne=le||pe,oe=Number(ee.quantity||1),Me=Number(ee.snapshot?.price||ee.product?.price||0)*oe,ge=ae.get(Ne);if(ge){ge.quantity+=oe,ge.totalEarned+=Me;return}ae.set(Ne,{key:Ne,product:ee.product||null,title:pe,image:ee.snapshot?.image||ee.product?.images?.[0]||null,quantity:oe,totalEarned:Me})})});const he=Array.from(ae.values()).sort((ve,_e)=>_e.totalEarned-ve.totalEarned);R(he)}catch(G){if(!I)return;K(G.response?.data?.message||"Impossible de charger les produits vendus."),R([])}finally{I&&j(!1)}})(),()=>{I=!1}},[_]);const J=h.useMemo(()=>a.breakdown.categories.reduce((I,B)=>Math.max(I,B.count||0),0)||1,[a.breakdown.categories]),Q=h.useMemo(()=>a.timeline||[],[a.timeline]),X=h.useMemo(()=>a.orders?.purchases||Un.orders.purchases,[a.orders]),H=h.useMemo(()=>a.orders?.sales||Un.orders.sales,[a.orders]);return e?s?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),t.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(I=>t.createElement("div",{key:I,className:"h-40 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):o?t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-16"},t.createElement("div",{className:"max-w-md w-full bg-white rounded-2xl border border-red-200 shadow-xl p-8 text-center"},t.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},t.createElement(_t,{className:"w-8 h-8 text-red-600"})),t.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-gray-600 mb-6"},o),t.createElement("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors"},"Ressayer"))):t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"bg-indigo-600 text-white"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(Gn,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Tableau de bord"),t.createElement("h1",{className:"text-3xl font-bold"},"Statistiques & Performance"))),t.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Analysez vos performances, suivez votre croissance et optimisez votre prsence sur HDMarket.")),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement(be,{to:"/my",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},t.createElement(wt,{className:"w-4 h-4"}),"Mes annonces"),W&&t.createElement(be,{to:W,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},t.createElement(vr,{className:"w-4 h-4"}),"Ma boutique"),t.createElement(be,{to:"/profile",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},t.createElement(Ns,{className:"w-4 h-4"}),"Mon profil"))))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},t.createElement(ap,{icon:wt,label:"Annonces totales",value:Jt(a.listings.total),subtitle:`${Jt(a.listings.approved)} approuves`,gradient:"bg-indigo-600",iconBg:"bg-indigo-600"}),t.createElement(ap,{icon:Ar,label:"Favoris reus",value:Jt(a.engagement.favoritesReceived),subtitle:`${Jt(a.engagement.commentsReceived)} commentaires`,gradient:"bg-pink-600",iconBg:"bg-pink-600"}),t.createElement(ap,{icon:Jn,label:"Vues totales",value:Jt(a.performance.views),subtitle:`${Jt(a.performance.clicks)} clics WhatsApp`,gradient:"bg-purple-600",iconBg:"bg-purple-600"}),t.createElement(ap,{icon:ca,label:"Budget annonces",value:Ls(a.advertismentSpend),subtitle:"Total des frais confirms",gradient:"bg-emerald-600",iconBg:"bg-emerald-600"})),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-indigo-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},t.createElement(Kn,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Mes commandes"),t.createElement("p",{className:"text-sm text-gray-600"},Jt(X.totalCount)," commande(s)"))),X.totalItems>0&&t.createElement("button",{type:"button",onClick:()=>w(!0),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Voir dtails"))),t.createElement("div",{className:"p-6"},t.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4"},t.createElement(Yi,{title:"Total dpens",value:Ls(X.totalAmount),icon:ca,color:"indigo"}),t.createElement(Yi,{title:"Acompte vers",value:Ls(X.paidAmount),icon:Kt,color:"emerald"})),t.createElement("div",{className:"grid grid-cols-2 gap-4"},t.createElement(Yi,{title:"Reste  payer",value:Ls(X.remainingAmount),icon:pw,color:"amber"}),t.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4"},t.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2"},"Statuts"),t.createElement("div",{className:"space-y-1 text-xs text-gray-600"},t.createElement("div",{className:"flex justify-between"},t.createElement("span",null,"En attente:"),t.createElement("span",{className:"font-semibold"},Jt(X.byStatus?.pending?.count||0))),t.createElement("div",{className:"flex justify-between"},t.createElement("span",null,"Confirmes:"),t.createElement("span",{className:"font-semibold"},Jt(X.byStatus?.confirmed?.count||0))),t.createElement("div",{className:"flex justify-between"},t.createElement("span",null,"En cours:"),t.createElement("span",{className:"font-semibold"},Jt(X.byStatus?.delivering?.count||0))),t.createElement("div",{className:"flex justify-between"},t.createElement("span",null,"Livres:"),t.createElement("span",{className:"font-semibold"},Jt(X.byStatus?.delivered?.count||0))),t.createElement("div",{className:"flex justify-between pt-1 border-t border-gray-200"},t.createElement("span",{className:"text-red-600"},"Annules:"),t.createElement("span",{className:"font-semibold text-red-600"},Jt(X.byStatus?.cancelled?.count||0)))))))),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-emerald-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-emerald-600"},t.createElement(rr,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Mes ventes"),t.createElement("p",{className:"text-sm text-gray-600"},Jt(H.totalCount)," commande(s)"))),H.totalCount>0&&t.createElement("button",{type:"button",onClick:()=>O(!0),className:"text-xs font-semibold text-emerald-600 hover:text-emerald-700"},"Voir dtails"))),t.createElement("div",{className:"p-6"},t.createElement("div",{className:"grid grid-cols-2 gap-4 mb-4"},t.createElement(Yi,{title:"Gains estims",value:Ls(H.totalAmount),icon:ca,color:"emerald"}),t.createElement(Yi,{title:"Commandes",value:Jt(H.totalCount),icon:wt,color:"purple"})),t.createElement("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-4"},t.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-3"},"Rpartition par statut"),t.createElement("div",{className:"grid grid-cols-2 gap-3 text-xs"},t.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},t.createElement("span",{className:"text-gray-600"},"En attente"),t.createElement("span",{className:"font-bold text-gray-900"},Jt(H.byStatus?.pending?.count||0))),t.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},t.createElement("span",{className:"text-gray-600"},"Confirmes"),t.createElement("span",{className:"font-bold text-gray-900"},Jt(H.byStatus?.confirmed?.count||0))),t.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},t.createElement("span",{className:"text-gray-600"},"En cours"),t.createElement("span",{className:"font-bold text-gray-900"},Jt(H.byStatus?.delivering?.count||0))),t.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white"},t.createElement("span",{className:"text-gray-600"},"Livres"),t.createElement("span",{className:"font-bold text-gray-900"},Jt(H.byStatus?.delivered?.count||0))),t.createElement("div",{className:"flex justify-between items-center p-2 rounded-lg bg-red-50 border border-red-200 col-span-2"},t.createElement("span",{className:"text-red-600 font-semibold"},"Annules"),t.createElement("span",{className:"font-bold text-red-700"},Jt(H.byStatus?.cancelled?.count||0)))))))),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-purple-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-purple-600"},t.createElement(vr,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Boutiques suivies"),t.createElement("p",{className:"text-sm text-gray-600"},Jt(a.engagement.shopsFollowed)," boutique(s)"))),$.length>0&&t.createElement("button",{type:"button",onClick:()=>b(!0),className:"text-xs font-semibold text-purple-600 hover:text-purple-700"},"Voir toutes"))),t.createElement("div",{className:"p-6"},s?t.createElement("div",{className:"space-y-3"},[1,2].map(I=>t.createElement("div",{key:I,className:"h-16 rounded-xl bg-gray-100 animate-pulse"}))):$.length?t.createElement("div",{className:"space-y-3"},$.slice(0,3).map(I=>t.createElement(be,{key:I._id||I.id,to:la(I),className:"flex items-center gap-3 rounded-xl border border-gray-100 p-3 hover:border-purple-200 hover:bg-purple-50/50 transition-all group"},t.createElement("div",{className:"h-12 w-12 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0"},I.shopLogo?t.createElement("img",{src:I.shopLogo,alt:I.shopName||I.name,className:"h-full w-full object-cover"}):t.createElement("div",{className:"h-full w-full bg-purple-100 flex items-center justify-center text-purple-600 text-sm font-bold"},(I.shopName||I.name)?.charAt(0)||"B")),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 group-hover:text-purple-600 transition-colors truncate"},I.shopName||I.name),t.createElement("p",{className:"text-xs text-gray-500"},Jt(I.followersCount||0)," abonn(s)")),I.shopVerified&&t.createElement(Es,{className:"w-5 h-5 text-emerald-600 flex-shrink-0"}))),$.length>3&&t.createElement("button",{type:"button",onClick:()=>b(!0),className:"w-full text-center text-sm font-semibold text-purple-600 hover:text-purple-700 py-2"},"Voir ",$.length-3," autre(s) boutique(s)")):t.createElement("div",{className:"text-center py-8"},t.createElement(vr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Aucune boutique suivie"),t.createElement(be,{to:"/shops/verified",className:"inline-flex items-center gap-2 text-sm font-semibold text-purple-600 hover:text-purple-700"},"Explorer les boutiques",t.createElement(Cr,{className:"w-4 h-4 rotate-180"}))))),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-blue-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-blue-600"},t.createElement(BO,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Performance"),t.createElement("p",{className:"text-sm text-gray-600"},"Indicateurs cls")))),t.createElement("div",{className:"p-6"},t.createElement("div",{className:"grid grid-cols-2 gap-4"},t.createElement(Yi,{title:"Taux de conversion",value:`${a.performance.conversion}%`,subtitle:"Bas sur vos annonces",icon:pw,color:"blue"}),t.createElement(Yi,{title:"Commentaires",value:Jt(a.engagement.commentsReceived),subtitle:"Interactions clients",icon:pr,color:"purple"}),t.createElement(Yi,{title:"Favoris sauvegards",value:Jt(a.engagement.favoritesSaved),subtitle:"Dans votre liste",icon:Ar,color:"rose"}),t.createElement("div",{className:"rounded-xl border border-amber-100 bg-amber-50 p-4"},t.createElement("div",{className:"flex items-center justify-between mb-2"},t.createElement("div",{className:"p-2 rounded-lg bg-amber-600"},t.createElement(gc,{className:"w-4 h-4 text-white"}))),t.createElement("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1"},"Statut annonces"),t.createElement("p",{className:"text-sm text-gray-600"},Jt(a.listings.pending)," en attente"),t.createElement("p",{className:"text-sm text-gray-600"},Jt(a.listings.rejected)," rejetes")))))),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-indigo-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},t.createElement(Gn,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Catgories actives"),t.createElement("p",{className:"text-sm text-gray-600"},"Rpartition de vos annonces")))),t.createElement("div",{className:"p-6"},a.breakdown.categories.length===0?t.createElement("div",{className:"text-center py-8"},t.createElement(Gn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.createElement("p",{className:"text-sm text-gray-500"},"Publiez des annonces pour voir vos catgories")):t.createElement("div",{className:"space-y-4"},a.breakdown.categories.map(I=>t.createElement("div",{key:I.category,className:"space-y-2"},t.createElement("div",{className:"flex items-center justify-between text-sm"},t.createElement("span",{className:"font-semibold text-gray-900 capitalize"},I.category),t.createElement("span",{className:"text-gray-600 font-bold"},Jt(I.count))),t.createElement("div",{className:"h-2.5 rounded-full bg-gray-100 overflow-hidden"},t.createElement("div",{className:"h-full rounded-full bg-indigo-600 transition-all duration-500",style:{width:`${Math.min(I.count/J*100,100)}%`}}))))))),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-pink-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-pink-600"},t.createElement(Wn,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Activit mensuelle"),t.createElement("p",{className:"text-sm text-gray-600"},"Publications rcentes")))),t.createElement("div",{className:"p-6"},Q.length===0?t.createElement("div",{className:"text-center py-8"},t.createElement(Wn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.createElement("p",{className:"text-sm text-gray-500"},"Publiez vos premires annonces")):t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},Q.map(I=>t.createElement("div",{key:`${I.year}-${I.month}`,className:"rounded-xl border border-gray-100 bg-white p-4 text-center hover:border-pink-200 transition-colors"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2"},I.label),t.createElement("p",{className:"text-2xl font-bold text-gray-900 mb-1"},Jt(I.count)),t.createElement("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-500"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(Ar,{className:"w-3 h-3 text-pink-500"}),Jt(I.favorites)),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(pr,{className:"w-3 h-3 text-green-500"}),Jt(I.clicks))))))))),a.topProducts.length>0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"bg-amber-50 border-b border-gray-100 px-6 py-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-amber-600"},t.createElement(gr,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Meilleures annonces"),t.createElement("p",{className:"text-sm text-gray-600"},"Vos produits les plus performants")))),t.createElement("div",{className:"p-6"},t.createElement("div",{className:"space-y-4"},a.topProducts.map((I,B)=>t.createElement("div",{key:I._id,className:"flex items-center gap-4 p-4 rounded-xl border border-gray-100 hover:border-amber-200 hover:bg-amber-50/30 transition-all group"},t.createElement("div",{className:"flex-shrink-0"},t.createElement("div",{className:"w-12 h-12 rounded-lg bg-amber-600 flex items-center justify-center text-white font-bold text-sm"},"#",B+1)),t.createElement("img",{src:I.image||"/api/placeholder/80/80",alt:I.title,className:"w-16 h-16 rounded-xl object-cover border border-gray-200"}),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement(be,{to:or(I),className:"font-semibold text-gray-900 hover:text-amber-600 transition-colors block truncate"},I.title),t.createElement("p",{className:"text-sm text-gray-500 capitalize truncate"},I.category||"Sans catgorie"),t.createElement("p",{className:"text-sm font-bold text-gray-900 mt-1"},Ls(I.price||0))),t.createElement("div",{className:"flex items-center gap-4 text-sm"},t.createElement("div",{className:"flex items-center gap-1 text-pink-600"},t.createElement(Ar,{className:"w-4 h-4"}),t.createElement("span",{className:"font-semibold"},Jt(I.favorites))),t.createElement("div",{className:"flex items-center gap-1 text-green-600"},t.createElement(pr,{className:"w-4 h-4"}),t.createElement("span",{className:"font-semibold"},Jt(I.whatsappClicks)))))))))),y&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>b(!1)}),t.createElement("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:I=>I.stopPropagation()},t.createElement("div",{className:"bg-purple-600 text-white px-6 py-5"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(vr,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Boutiques suivies"),t.createElement("h3",{className:"text-xl font-bold mt-1"},$.length?`${$.length} boutique(s)`:"Aucune boutique suivie"))),t.createElement("button",{type:"button",onClick:()=>b(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},t.createElement(_t,{size:20})))),t.createElement("div",{className:"flex-1 overflow-y-auto p-6"},s?t.createElement("div",{className:"space-y-4"},[1,2,3,4].map(I=>t.createElement("div",{key:I,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):$.length?t.createElement("div",{className:"grid gap-4 sm:grid-cols-2"},$.map(I=>t.createElement(be,{key:I._id||I.id,to:la(I),className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-purple-300 hover:shadow-lg transition-all duration-200",onClick:()=>b(!1)},t.createElement("div",{className:"relative flex-shrink-0"},t.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden ring-2 ring-gray-100 group-hover:ring-purple-200 transition-all"},I.shopLogo?t.createElement("img",{src:I.shopLogo,alt:I.shopName||I.name,className:"h-full w-full object-cover"}):t.createElement("div",{className:"h-full w-full bg-purple-100 flex items-center justify-center text-purple-600 text-lg font-bold"},(I.shopName||I.name)?.charAt(0)||"B")),I.shopVerified&&t.createElement("div",{className:"absolute -top-1 -right-1 p-1 bg-white rounded-full shadow-md"},t.createElement(Es,{className:"w-4 h-4 text-emerald-600"}))),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-bold text-gray-900 truncate group-hover:text-purple-600 transition-colors"},I.shopName||I.name),t.createElement("div",{className:"flex items-center gap-3 mt-1 flex-wrap"},I.city&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(Sr,{className:"w-3 h-3 text-gray-400"}),t.createElement("p",{className:"text-xs text-gray-500"},I.city)),t.createElement("div",{className:"flex items-center gap-1"},t.createElement(Ns,{className:"w-3 h-3 text-gray-400"}),t.createElement("p",{className:"text-xs text-gray-500"},Jt(I.followersCount||0)," abonn(s)")))),t.createElement(Cr,{className:"w-5 h-5 text-gray-300 group-hover:text-purple-600 rotate-180 transition-colors flex-shrink-0"})))):t.createElement("div",{className:"text-center py-12"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-purple-100 flex items-center justify-center mb-4"},t.createElement(vr,{className:"w-10 h-10 text-purple-600"})),t.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune boutique suivie"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Commencez  suivre vos boutiques prfres pour les retrouver facilement"),t.createElement(be,{to:"/shops/verified",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-purple-600 text-white font-semibold hover:bg-purple-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>b(!1)},t.createElement(vr,{className:"w-4 h-4"}),"Explorer les boutiques"))))),E&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>w(!1)}),t.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:I=>I.stopPropagation()},t.createElement("div",{className:"bg-indigo-600 text-white px-6 py-5"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(Kn,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Produits commands"),t.createElement("h3",{className:"text-xl font-bold mt-1"},X.totalItems?`${Jt(X.totalItems)} produit(s)`:"Aucun produit command"),t.createElement("p",{className:"text-sm text-white/80 mt-1"},"Total dpens: ",Ls(X.totalAmount)))),t.createElement("button",{type:"button",onClick:()=>w(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},t.createElement(_t,{size:20})))),t.createElement("div",{className:"flex-1 overflow-y-auto p-6"},S?t.createElement("div",{className:"space-y-4"},[1,2,3,4,5].map(I=>t.createElement("div",{key:I,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):P?t.createElement("div",{className:"text-center py-12"},t.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},t.createElement(_t,{className:"w-8 h-8 text-red-600"})),t.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},P)):x.length?t.createElement("div",{className:"space-y-3"},x.map((I,B)=>{const G=t.createElement("div",{className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-indigo-300 hover:shadow-lg transition-all duration-200"},t.createElement("div",{className:"flex-shrink-0"},t.createElement("div",{className:"w-12 h-12 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold text-sm"},"#",B+1)),t.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 ring-2 ring-gray-100 group-hover:ring-indigo-200 transition-all"},I.image?t.createElement("img",{src:I.image,alt:I.title,className:"h-full w-full object-cover"}):t.createElement("div",{className:"h-full w-full bg-indigo-100 flex items-center justify-center text-indigo-600 text-sm font-bold"},I.title?.charAt(0)||"P")),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-bold text-gray-900 truncate group-hover:text-indigo-600 transition-colors"},I.title),t.createElement("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(wt,{className:"w-3 h-3"}),Jt(I.quantity)," article(s)"),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(ca,{className:"w-3 h-3"}),Ls(I.totalSpent)))),I.product&&t.createElement(Cr,{className:"w-5 h-5 text-gray-300 group-hover:text-indigo-600 rotate-180 transition-colors flex-shrink-0"}));return I.product?t.createElement(be,{key:I.key,to:or(I.product),className:"block"},G):t.createElement("div",{key:I.key},G)})):t.createElement("div",{className:"text-center py-12"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},t.createElement(Kn,{className:"w-10 h-10 text-indigo-600"})),t.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun produit command"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Vos produits commands apparatront ici"),t.createElement(be,{to:"/orders",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>w(!1)},t.createElement(Kn,{className:"w-4 h-4"}),"Voir mes commandes"))))),_&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity",onClick:()=>O(!1)}),t.createElement("div",{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl border border-gray-100 max-h-[90vh] overflow-hidden flex flex-col",onClick:I=>I.stopPropagation()},t.createElement("div",{className:"bg-emerald-600 text-white px-6 py-5"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(rr,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Produits vendus"),t.createElement("h3",{className:"text-xl font-bold mt-1"},H.totalCount?`${Jt(H.totalCount)} commande(s)`:"Aucune vente"),t.createElement("p",{className:"text-sm text-white/80 mt-1"},"Gains estims: ",Ls(H.totalAmount)))),t.createElement("button",{type:"button",onClick:()=>O(!1),className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-all","aria-label":"Fermer"},t.createElement(_t,{size:20})))),t.createElement("div",{className:"flex-1 overflow-y-auto p-6"},D?t.createElement("div",{className:"space-y-4"},[1,2,3,4,5].map(I=>t.createElement("div",{key:I,className:"h-20 rounded-xl bg-gray-100 animate-pulse"}))):L?t.createElement("div",{className:"text-center py-12"},t.createElement("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mb-4"},t.createElement(_t,{className:"w-8 h-8 text-red-600"})),t.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},L)):T.length?t.createElement("div",{className:"space-y-3"},T.map((I,B)=>{const G=t.createElement("div",{className:"group flex items-center gap-4 rounded-xl border-2 border-gray-100 bg-white p-4 hover:border-emerald-300 hover:shadow-lg transition-all duration-200"},t.createElement("div",{className:"flex-shrink-0"},t.createElement("div",{className:"w-12 h-12 rounded-lg bg-emerald-600 flex items-center justify-center text-white font-bold text-sm"},"#",B+1)),t.createElement("div",{className:"h-16 w-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 ring-2 ring-gray-100 group-hover:ring-emerald-200 transition-all"},I.image?t.createElement("img",{src:I.image,alt:I.title,className:"h-full w-full object-cover"}):t.createElement("div",{className:"h-full w-full bg-emerald-100 flex items-center justify-center text-emerald-600 text-sm font-bold"},I.title?.charAt(0)||"P")),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-bold text-gray-900 truncate group-hover:text-emerald-600 transition-colors"},I.title),t.createElement("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(wt,{className:"w-3 h-3"}),Jt(I.quantity)," article(s)"),t.createElement("span",{className:"flex items-center gap-1 font-semibold text-emerald-600"},t.createElement(ca,{className:"w-3 h-3"}),Ls(I.totalEarned)))),I.product&&t.createElement(Cr,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-600 rotate-180 transition-colors flex-shrink-0"}));return I.product?t.createElement(be,{key:I.key,to:or(I.product),className:"block"},G):t.createElement("div",{key:I.key},G)})):t.createElement("div",{className:"text-center py-12"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-emerald-100 flex items-center justify-center mb-4"},t.createElement(rr,{className:"w-10 h-10 text-emerald-600"})),t.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun produit vendu"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Vos produits vendus apparatront ici une fois que vous recevrez des commandes"),t.createElement(be,{to:"/seller/orders",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-emerald-600 text-white font-semibold hover:bg-emerald-700 shadow-lg hover:shadow-xl transition-all",onClick:()=>O(!1)},t.createElement(rr,{className:"w-4 h-4"}),"Voir mes ventes")))))):t.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-16"},t.createElement("div",{className:"max-w-md w-full text-center space-y-6"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-600 flex items-center justify-center shadow-xl"},t.createElement(Gn,{className:"w-10 h-10 text-white"})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Accs aux statistiques"),t.createElement("p",{className:"text-gray-600"},"Connectez-vous pour visualiser vos performances et insights personnaliss.")),t.createElement(be,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200"},t.createElement(Cr,{className:"w-4 h-4"}),"Se connecter")))}function P$({deadline:e,remainingMs:r,isActive:a,onExpire:n}){const[s,i]=h.useState(r||0),[o,d]=h.useState(!1);if(h.useEffect(()=>{if(!a||s<=0){d(!0),n&&n();return}const b=setInterval(()=>{if(e){const E=Date.now(),x=new Date(e).getTime()-E;x<=0?(i(0),d(!0),n&&n(),clearInterval(b)):i(x)}else i(E=>{const w=E-1e3;return w<=0?(d(!0),n&&n(),clearInterval(b),0):w})},1e3);return()=>clearInterval(b)},[e,a,n]),!a||o)return null;const u=Math.floor(s/1e3),m=Math.floor(u/60),p=u%60,f=m<5,y=(b,E)=>`${String(b).padStart(2,"0")}:${String(E).padStart(2,"0")}`;return t.createElement("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border-2 ${f?"bg-red-50 border-red-300 text-red-700 dark:bg-red-900/20 dark:border-red-700 dark:text-red-400":"bg-amber-50 border-amber-300 text-amber-700 dark:bg-amber-900/20 dark:border-amber-700 dark:text-amber-400"}`},t.createElement(It,{size:18,className:`${f?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`}),t.createElement("div",{className:"flex-1"},t.createElement("div",{className:"text-xs font-semibold uppercase tracking-wide mb-0.5"},"Dlai d'annulation"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("span",{className:"text-lg font-black tabular-nums"},y(m,p)),t.createElement("span",{className:"text-xs font-medium"},"restant",m>1?"s":""))),f&&t.createElement(br,{size:16,className:"text-red-600 dark:text-red-400 animate-pulse"}))}const Kie=["Brazzaville","Pointe-Noire","Ouesso","Oyo"];function Xie({isOpen:e,onClose:r,order:a,onSave:n}){const[s,i]=h.useState(""),[o,d]=h.useState("Brazzaville"),[u,m]=h.useState(!1),[p,f]=h.useState("");if(h.useEffect(()=>{e&&a&&(i(a.deliveryAddress||""),d(a.deliveryCity||"Brazzaville"),f(""))},[e,a]),!e)return null;const y=async E=>{if(E.preventDefault(),f(""),!s.trim()||s.trim().length<4){f("L'adresse doit contenir au moins 4 caractres.");return}m(!0);try{await n({deliveryAddress:s.trim(),deliveryCity:o}),r()}catch(w){f(w.response?.data?.message||"Impossible de modifier l'adresse.")}finally{m(!1)}},b=a&&a.status!=="delivering"&&a.status!=="delivered"&&a.status!=="cancelled";return t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"},t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md"},t.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30"},t.createElement(Sr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})),t.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Modifier l'adresse de livraison")),t.createElement("button",{type:"button",onClick:r,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},t.createElement(_t,{size:20}))),t.createElement("form",{onSubmit:y,className:"p-6 space-y-4"},!b&&t.createElement("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},t.createElement(br,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300"},"Modification impossible"),t.createElement("p",{className:"text-xs text-red-700 dark:text-red-400 mt-1"},"L'adresse ne peut tre modifie que pour les commandes en attente ou confirmes, avant l'expdition."))),p&&t.createElement("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},t.createElement("p",{className:"text-sm text-red-700 dark:text-red-300"},p)),b&&t.createElement(t.Fragment,null,a&&t.createElement("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600"},t.createElement("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"},"Adresse actuelle"),t.createElement("p",{className:"text-sm font-medium text-gray-900 dark:text-white"},a.deliveryAddress),t.createElement("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1"},a.deliveryCity)),t.createElement("div",null,t.createElement("label",{htmlFor:"deliveryAddress",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Nouvelle adresse de livraison *"),t.createElement("textarea",{id:"deliveryAddress",value:s,onChange:E=>i(E.target.value),placeholder:"Entrez la nouvelle adresse complte...",rows:3,required:!0,minLength:4,maxLength:300,className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"}),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Minimum 4 caractres, maximum 300 caractres")),t.createElement("div",null,t.createElement("label",{htmlFor:"deliveryCity",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Ville *"),t.createElement("select",{id:"deliveryCity",value:o,onChange:E=>d(E.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"},Kie.map(E=>t.createElement("option",{key:E,value:E},E)))),t.createElement("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"},t.createElement("p",{className:"text-xs text-blue-800 dark:text-blue-300"},t.createElement("span",{className:"font-semibold"},"Note :")," La modification de l'adresse sera notifie aux vendeurs concerns."))),t.createElement("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("button",{type:"button",onClick:r,disabled:u,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all disabled:opacity-50"},"Annuler"),b&&t.createElement("button",{type:"submit",disabled:u||!s.trim(),className:"flex-1 px-4 py-2.5 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"},u?"Enregistrement...":"Enregistrer")))))}const np={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine",cancelled:"Commande annule"},sp={pending:{header:"bg-gray-600",card:"bg-gray-50 border-gray-200 text-gray-700"},confirmed:{header:"bg-amber-600",card:"bg-amber-50 border-amber-200 text-amber-800"},delivering:{header:"bg-blue-600",card:"bg-blue-50 border-blue-200 text-blue-800"},delivered:{header:"bg-emerald-600",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},cancelled:{header:"bg-red-600",card:"bg-red-50 border-red-200 text-red-800"}},lT={pending:It,confirmed:wt,delivering:xr,delivered:Kt,cancelled:_t},Yie=[{key:"all",label:"Toutes",icon:ea,count:null},{key:"pending",label:"En attente",icon:It,count:null},{key:"confirmed",label:"Confirmes",icon:wt,count:null},{key:"delivering",label:"En livraison",icon:xr,count:null},{key:"delivered",label:"Livres",icon:Kt,count:null},{key:"cancelled",label:"Annules",icon:_t,count:null}],su=6,FE=[{id:"pending",label:"Commande en attente",description:"Votre commande est enregistre et en attente de validation par nos quipes.",icon:It,color:"gray"},{id:"confirmed",label:"Commande confirme",description:"Un gestionnaire a valid votre commande et prpare l'expdition.",icon:wt,color:"amber"},{id:"delivering",label:"En cours de livraison",description:"Le colis est pris en charge par le livreur et se dirige vers votre adresse.",icon:xr,color:"blue"},{id:"delivered",label:"Commande termine",description:"La commande est livre avec succs et archive par nos quipes.",icon:Kt,color:"emerald"},{id:"cancelled",label:"Commande annule",description:"Cette commande a t annule et ne sera pas livre.",icon:_t,color:"red"}],iu=e=>e?new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,Is=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,Qie=({status:e})=>{const r=FE.findIndex(n=>n.id===e),a=r>=0?r:0;return t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-5"},t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},t.createElement(rr,{className:"w-4 h-4 text-white"})),t.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Suivi de commande")),t.createElement("div",{className:"relative"},t.createElement("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},t.createElement("div",{className:"absolute top-0 left-0 w-full bg-indigo-600 transition-all duration-500",style:{height:`${a/(FE.length-1)*100}%`}})),t.createElement("div",{className:"space-y-6 relative"},FE.map((n,s)=>{const i=n.icon,o=a>=s,d=a===s,u={gray:"bg-gray-600",amber:"bg-amber-600",blue:"bg-blue-600",emerald:"bg-emerald-600"};return t.createElement("div",{key:n.id,className:"flex items-start gap-4 relative"},t.createElement("div",{className:`relative z-10 flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${o?`${u[n.color]} border-transparent text-white shadow-lg scale-110`:"border-gray-300 text-gray-400 bg-white"}`},t.createElement(i,{size:16}),d&&t.createElement("div",{className:`absolute inset-0 rounded-full ${u[n.color]} animate-ping opacity-75`})),t.createElement("div",{className:"flex-1 pt-1"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("p",{className:`text-sm font-bold ${o?"text-gray-900":"text-gray-500"}`},n.label),d&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${u[n.color]} text-white`},"En cours"),!d&&o&&t.createElement("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-emerald-100 text-emerald-700"},"Termin")),t.createElement("p",{className:`text-xs ${o?"text-gray-600":"text-gray-400"}`},n.description)))}))))};function cT(){const e=Tn(),{user:r}=h.useContext(fr),[a,n]=h.useState([]),[s,i]=h.useState(!1),[o,d]=h.useState(""),[u,m]=h.useState(1),[p,f]=h.useState({total:0,totalPages:1}),[y,b]=h.useState({total:0,totalAmount:0,byStatus:{}}),[E,w]=h.useState(!1),[x,N]=h.useState(!1),[S,k]=h.useState(null),[P,C]=h.useState(!1),[_,O]=h.useState(""),[T,R]=h.useState(""),[D,j]=h.useState({}),[L,K]=h.useState(!1),[W,$]=h.useState({dateFrom:"",dateTo:"",amountMin:"",amountMax:"",shopName:""}),[J,Q]=h.useState([]),[X,H]=h.useState("card"),[I,B]=h.useState(!1),[G,z]=h.useState(navigator.onLine),[ae,he]=h.useState(null),[ve,_e]=h.useState(null),[ee,le]=h.useState(null),pe=h.useRef(0),Ne=h.useRef(0),[oe,re]=h.useState(0),Me=h.useRef(null),{status:ge}=go(),{addItem:$e}=h.useContext(xl),De=Kr(),Ye=h.useMemo(()=>ge&&Object.keys(np).includes(ge)?ge:"all",[ge]);h.useEffect(()=>{const Z=()=>z(!0),xe=()=>z(!1);return window.addEventListener("online",Z),window.addEventListener("offline",xe),()=>{window.removeEventListener("online",Z),window.removeEventListener("offline",xe)}},[]),h.useEffect(()=>{if(a.length>0&&G)try{localStorage.setItem("cached_orders",JSON.stringify({orders:a,timestamp:Date.now(),status:Ye}))}catch(Z){console.warn("Failed to cache orders:",Z)}},[a,G,Ye]),h.useEffect(()=>{if(!G&&a.length===0)try{const Z=localStorage.getItem("cached_orders");if(Z){const{orders:xe}=JSON.parse(Z);n(xe)}}catch(Z){console.warn("Failed to load cached orders:",Z)}},[G,a.length]);const Je=h.useCallback(Z=>{Me.current?.scrollTop===0&&(pe.current=Z.touches[0].clientY)},[]),bt=h.useCallback(Z=>{if(pe.current===0)return;Ne.current=Z.touches[0].clientY;const xe=Ne.current-pe.current;xe>0&&xe<150&&re(xe)},[]),Ze=h.useCallback(async()=>{if(oe>80&&!I&&G){B(!0);try{const Z=new URLSearchParams;Z.set("page",u),Z.set("limit",su),Ye!=="all"&&Z.set("status",Ye);const{data:xe}=await ie.get(`/orders?${Z.toString()}`),fe=Array.isArray(xe)?xe:xe?.items||[];n(fe),f({total:xe?.total??fe.length,totalPages:Math.max(1,Number(xe?.totalPages)||1)})}catch(Z){console.error("Refresh failed:",Z)}finally{B(!1)}}pe.current=0,Ne.current=0,re(0)},[oe,I,G,u,Ye]),nt=50,ct=(Z,xe)=>{le(null),_e(Z.targetTouches[0].clientX),he(xe)},vt=Z=>{le(Z.targetTouches[0].clientX)},Zt=Z=>{if(!ve||!ee)return;ve-ee>nt&&Z.cancellationWindow?.isActive&&Z.status!=="cancelled"&&confirm("Annuler cette commande ?")&&Bt(Z._id),he(null),_e(null),le(null)};h.useEffect(()=>{m(1)},[Ye]),h.useEffect(()=>{let Z=!0;return(async()=>{w(!0);try{const{data:fe}=await ie.get("/orders?limit=1000");if(!Z)return;const ye=Array.isArray(fe)?fe:fe?.items||[],Y=ye.length,U=ye.reduce((Ve,Qe)=>{const q=(Qe.items||(Qe.productSnapshot?[{snapshot:Qe.productSnapshot,quantity:1}]:[])).reduce((ue,ke)=>ue+Number(ke.snapshot?.price||0)*Number(ke.quantity||1),0);return Ve+Number(Qe.totalAmount??q)},0),de=ye.reduce((Ve,Qe)=>{const Pt=Qe.status||"pending";return Ve[Pt]=(Ve[Pt]||0)+1,Ve},{});b({total:Y,totalAmount:U,byStatus:de});const Re=new Set;ye.forEach(Ve=>{(Ve.items||(Ve.productSnapshot?[{snapshot:Ve.productSnapshot}]:[])).forEach(Pt=>{Pt.snapshot?.shopName&&Re.add(Pt.snapshot.shopName)})}),Q(Array.from(Re).sort())}catch(fe){console.error("Error loading stats:",fe)}finally{Z&&w(!1)}})(),()=>{Z=!1}},[]);const pt=async Z=>{if(!Z||Z.length===0||!r?._id)return{};try{return(await Promise.all(Z.map(async fe=>{try{const{data:ye}=await ie.get(`/orders/${fe}/messages`),Y=Array.isArray(ye)?ye.filter(U=>String(U.recipient?._id)===String(r._id)&&!U.readAt):[];return{orderId:fe,count:Y.length}}catch{return{orderId:fe,count:0}}}))).reduce((fe,{orderId:ye,count:Y})=>(fe[ye]=Y,fe),{})}catch{return{}}};h.useEffect(()=>{(async()=>{i(!0),d("");try{const xe=new URLSearchParams;xe.set("page",u),xe.set("limit",su),Ye!=="all"&&xe.set("status",Ye);const{data:fe}=await ie.get(`/orders?${xe.toString()}`),ye=Array.isArray(fe)?fe:fe?.items||[],Y=Math.max(1,Number(fe?.totalPages)||1);n(ye);const U=ye.map(Ve=>Ve._id),de=await pt(U);j(de),f({total:fe?.total??ye.length,totalPages:Y});const Re=Number(fe?.page);Number.isFinite(Re)&&Re>0&&Re!==u&&m(Re)}catch(xe){d(xe.response?.data?.message||"Impossible de charger vos commandes."),n([]),f({total:0,totalPages:1})}finally{i(!1)}})()},[Ye,u,T,r?._id]),h.useEffect(()=>{const Z=setTimeout(()=>{R(_.trim())},400);return()=>clearTimeout(Z)},[_]),h.useEffect(()=>{m(1)},[Ye,T]);const ut=h.useMemo(()=>a.filter(Z=>{if(W.dateFrom){const Y=new Date(Z.createdAt),U=new Date(W.dateFrom);if(U.setHours(0,0,0,0),Y<U)return!1}if(W.dateTo){const Y=new Date(Z.createdAt),U=new Date(W.dateTo);if(U.setHours(23,59,59,999),Y>U)return!1}const fe=(Z.items||(Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1}]:[])).reduce((Y,U)=>Y+Number(U.snapshot?.price||0)*Number(U.quantity||1),0),ye=Number(Z.totalAmount??fe);return!(W.amountMin&&ye<Number(W.amountMin)||W.amountMax&&ye>Number(W.amountMax)||W.shopName&&!(Z.items||(Z.productSnapshot?[{snapshot:Z.productSnapshot}]:[])).some(de=>de.snapshot?.shopName?.toLowerCase().includes(W.shopName.toLowerCase())))}),[a,W]),Lt=W.dateFrom||W.dateTo||W.amountMin||W.amountMax||W.shopName,zt=()=>{$({dateFrom:"",dateTo:"",amountMin:"",amountMax:"",shopName:""})},nr=Lt?"Aucune commande ne correspond  vos critres de filtrage.":Ye==="all"?"Vous n'avez pas encore de commande.":`Aucune commande ${np[Ye].toLowerCase()} pour le moment.`,Bt=async Z=>{if(confirm("tes-vous sr de vouloir annuler cette commande ? Cette action est irrversible."))try{await ie.patch(`/orders/${Z}/status`,{status:"cancelled"});const xe=new URLSearchParams;xe.set("page",u),xe.set("limit",su),Ye!=="all"&&xe.set("status",Ye);const{data:fe}=await ie.get(`/orders?${xe.toString()}`),ye=Array.isArray(fe)?fe:fe?.items||[],Y=Math.max(1,Number(fe?.totalPages)||1);n(ye),f({total:fe?.total??ye.length,totalPages:Y})}catch(xe){alert(xe.response?.data?.message||"Impossible d'annuler la commande.")}},xt=Z=>{k(Z),N(!0)},we=async Z=>{if(S)try{await ie.patch(`/orders/${S._id}/address`,Z);const xe=new URLSearchParams;xe.set("page",u),xe.set("limit",su),Ye!=="all"&&xe.set("status",Ye);const{data:fe}=await ie.get(`/orders?${xe.toString()}`),ye=Array.isArray(fe)?fe:fe?.items||[],Y=Math.max(1,Number(fe?.totalPages)||1);n(ye),f({total:fe?.total??ye.length,totalPages:Y}),N(!1),k(null)}catch(xe){throw xe}},ot=async Z=>{if(!Z||!Z.items||Z.items.length===0)return;C(!0);const xe=[],fe=[];try{for(const ye of Z.items){const Y=ye.product?._id||ye.product,U=ye.quantity||1;if(!Y){fe.push(ye.snapshot?.title||"Produit inconnu");continue}try{await $e(Y,U),xe.push(ye.snapshot?.title||"Produit")}catch{fe.push(ye.snapshot?.title||"Produit inconnu")}}if(xe.length>0){const ye=fe.length>0?`${xe.length} article(s) ajout(s) au panier. ${fe.length} article(s) non disponible(s).`:"Tous les articles ont t ajouts au panier !";alert(ye),xe.length>0&&De("/cart")}else fe.length>0&&alert("Aucun article n'a pu tre ajout au panier. Les produits peuvent tre indisponibles ou supprims.")}catch{alert("Erreur lors de l'ajout des articles au panier. Veuillez ressayer.")}finally{C(!1)}},ht=Z=>{const xe=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1}]:[],fe=xe.reduce((q,ue)=>{const ke=Number(ue.snapshot?.price||0),Pe=Number(ue.quantity||1);return q+ke*Pe},0),ye=Number(Z.totalAmount??fe),Y=Number(Z.paidAmount||0);Number(Z.remainingAmount??Math.max(0,ye-Y));const U=q=>String(q??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),de=xe.map((q,ue)=>{const ke=U(q.snapshot?.title||"Produit"),Pe=U(q.snapshot?.shopName||""),ze=U(q.snapshot?.confirmationNumber||""),tt=Number(q.quantity||1),He=Is(q.snapshot?.price||0),jt=Is((q.snapshot?.price||0)*tt);return`
          <tr>
            <td>${ue+1}</td>
            <td>
              <div class="title">${ke}</div>
              ${Pe?`<div class="meta">Boutique: ${Pe}</div>`:""}
              ${ze?`<div class="meta">Code: ${ze}</div>`:""}
            </td>
            <td class="right">x${tt}</td>
            <td class="right">${He}</td>
            <td class="right">${jt}</td>
          </tr>
        `}).join("");U(Z._id||"");const Re=U(Z._id?.slice(-6)||""),Ve=`${window.location.origin}/favicon.svg`,Qe=`
      <!doctype html>
      <html lang="fr">
        <head>
          <meta charset="utf-8" />
          <title>Bon de commande ${Re}</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body { font-family: "Helvetica Neue", Arial, sans-serif; margin: 32px; color: #111827; }
            .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e5e7eb; padding-bottom: 16px; }
            .brand { display: flex; align-items: center; gap: 12px; }
            .logo { width: 40px; height: 40px; border-radius: 10px; border: 1px solid #e5e7eb; padding: 6px; }
            .title { font-size: 22px; font-weight: 700; }
            .badge { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #6b7280; }
            table { width: 100%; border-collapse: collapse; margin-top: 24px; }
            th, td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; font-size: 13px; }
            th { background: #f9fafb; font-size: 12px; text-transform: uppercase; letter-spacing: 0.15em; color: #6b7280; }
            .right { text-align: right; }
            .total-row td { font-weight: 700; border-top: 2px solid #111827; }
            @media print {
              body { margin: 0; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="brand">
              <img src="${Ve}" alt="HDMarket" class="logo" />
              <div>
                <div class="title">Bon de commande</div>
                <div class="badge">HDMarket</div>
              </div>
            </div>
            <div class="right">
              <div class="badge">Commande #${Re}</div>
              <div>${U(new Date(Z.createdAt).toLocaleDateString("fr-FR"))}</div>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Article</th>
                <th class="right">Qt</th>
                <th class="right">Prix</th>
                <th class="right">Total</th>
              </tr>
            </thead>
            <tbody>
              ${de}
              <tr class="total-row">
                <td colspan="4" class="right">Total commande</td>
                <td class="right">${Is(ye)}</td>
              </tr>
            </tbody>
          </table>
        </body>
      </html>
    `,Pt=window.open("","_blank");if(!Pt){const q=new Blob([Qe],{type:"text/html"}),ue=URL.createObjectURL(q);window.location.href=ue,setTimeout(()=>URL.revokeObjectURL(ue),1500);return}Pt.document.open(),Pt.document.write(Qe),Pt.document.close(),Pt.focus()};return s&&a.length===0?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},[1,2,3].map(Z=>t.createElement("div",{key:Z,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),t.createElement("div",{className:"space-y-4"},[1,2].map(Z=>t.createElement("div",{key:Z,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):t.createElement("div",{className:"min-h-screen bg-gray-50",ref:Me,onTouchStart:Je,onTouchMove:bt,onTouchEnd:Ze},oe>0&&t.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-indigo-600 text-white transition-all duration-200",style:{height:Math.min(oe,80)}},t.createElement(mo,{className:`w-5 h-5 transition-transform ${oe>80?"animate-spin":""}`,style:{transform:`rotate(${oe*2}deg)`}}),t.createElement("span",{className:"ml-2 text-sm font-medium"},oe>80?"Relchez pour actualiser":"Tirez pour actualiser")),I&&t.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-indigo-600 text-white py-3"},t.createElement(mo,{className:"w-5 h-5 animate-spin"}),t.createElement("span",{className:"ml-2 text-sm font-medium"},"Actualisation...")),!G&&t.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center gap-2 bg-amber-500 text-white py-2 px-4"},t.createElement(JO,{className:"w-4 h-4"}),t.createElement("span",{className:"text-sm font-medium"},"Mode hors ligne - Donnes en cache")),t.createElement("div",{className:`bg-indigo-600 text-white ${G?"":"mt-10"}`},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(ea,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Mes commandes"),t.createElement("h1",{className:"text-3xl font-bold"},"Suivi de vos commandes"))),t.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Consultez l'tat de vos commandes, suivez les livraisons et accdez  tous les dtails de vos achats.")),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},t.createElement(Cr,{className:"w-4 h-4"}),"Accueil"),t.createElement(be,{to:"/my/stats",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},t.createElement(rr,{className:"w-4 h-4"}),"Statistiques"))))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!E&&y.total>0&&t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},t.createElement(ea,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},y.total)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total commandes"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes vos commandes")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},t.createElement(ca,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},Is(y.totalAmount))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total dpens"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant total de vos achats")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},t.createElement(It,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},y.byStatus.pending||0)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Commandes en cours de traitement"))),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8 space-y-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"relative flex-1 max-w-md"},t.createElement(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.createElement("input",{type:"text",placeholder:"Rechercher par produit, boutique, adresse...",value:_,onChange:Z=>O(Z.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border-2 border-gray-200 bg-white text-sm font-medium text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200",title:"Rechercher par nom de produit, nom de boutique, adresse de livraison ou code de livraison"}),_&&t.createElement("button",{type:"button",onClick:()=>O(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},t.createElement(_t,{className:"w-4 h-4"}))),t.createElement("button",{type:"button",onClick:()=>K(!L),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${L||Lt?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`},t.createElement(ws,{className:"w-4 h-4"}),t.createElement("span",null,"Filtres"),Lt&&t.createElement("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-bold bg-white/20"},[W.dateFrom||W.dateTo,W.amountMin||W.amountMax,W.shopName].filter(Boolean).length),L?t.createElement(iN,{className:"w-4 h-4"}):t.createElement(hs,{className:"w-4 h-4"})),t.createElement("div",{className:"flex items-center rounded-xl border border-gray-200 bg-gray-50 p-1"},t.createElement("button",{type:"button",onClick:()=>H("card"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${X==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Vue carte"},t.createElement(yp,{className:"w-4 h-4"}),t.createElement("span",{className:"hidden sm:inline"},"Carte")),t.createElement("button",{type:"button",onClick:()=>H("list"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${X==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Vue liste"},t.createElement(WO,{className:"w-4 h-4"}),t.createElement("span",{className:"hidden sm:inline"},"Liste")))),L&&t.createElement("div",{className:"border-t border-gray-100 pt-4 space-y-4"},t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},t.createElement(Wn,{className:"w-3.5 h-3.5"}),"Priode"),t.createElement("div",{className:"flex flex-col gap-2"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"date",value:W.dateFrom,onChange:Z=>$(xe=>({...xe,dateFrom:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Du"}),t.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Du")),t.createElement("div",{className:"relative"},t.createElement("input",{type:"date",value:W.dateTo,onChange:Z=>$(xe=>({...xe,dateTo:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Au"}),t.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Au")))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},t.createElement(ca,{className:"w-3.5 h-3.5"}),"Montant (FCFA)"),t.createElement("div",{className:"flex flex-col gap-2"},t.createElement("div",{className:"relative"},t.createElement("input",{type:"number",value:W.amountMin,onChange:Z=>$(xe=>({...xe,amountMin:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Minimum",min:"0"}),t.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Min")),t.createElement("div",{className:"relative"},t.createElement("input",{type:"number",value:W.amountMax,onChange:Z=>$(xe=>({...xe,amountMax:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Maximum",min:"0"}),t.createElement("span",{className:"absolute -top-2 left-2 px-1 bg-white text-[10px] text-gray-500"},"Max")))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 uppercase tracking-wide"},t.createElement(vr,{className:"w-3.5 h-3.5"}),"Vendeur/Boutique"),t.createElement("select",{value:W.shopName,onChange:Z=>$(xe=>({...xe,shopName:Z.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all bg-white"},t.createElement("option",{value:""},"Toutes les boutiques"),J.map(Z=>t.createElement("option",{key:Z,value:Z},Z)))),t.createElement("div",{className:"space-y-2"},t.createElement("label",{className:"text-xs font-bold text-transparent"},"Actions"),t.createElement("button",{type:"button",onClick:zt,disabled:!Lt,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border-2 border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},t.createElement(L5,{className:"w-4 h-4"}),"Rinitialiser"))),Lt&&t.createElement("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-100"},t.createElement("span",{className:"text-xs font-semibold text-gray-500"},"Filtres actifs:"),(W.dateFrom||W.dateTo)&&t.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200 text-xs font-medium text-indigo-700"},t.createElement(Wn,{className:"w-3 h-3"}),W.dateFrom&&W.dateTo?`${new Date(W.dateFrom).toLocaleDateString("fr-FR")} - ${new Date(W.dateTo).toLocaleDateString("fr-FR")}`:W.dateFrom?`Depuis ${new Date(W.dateFrom).toLocaleDateString("fr-FR")}`:`Jusqu'au ${new Date(W.dateTo).toLocaleDateString("fr-FR")}`,t.createElement("button",{type:"button",onClick:()=>$(Z=>({...Z,dateFrom:"",dateTo:""})),className:"ml-1 hover:text-indigo-900"},t.createElement(_t,{className:"w-3 h-3"}))),(W.amountMin||W.amountMax)&&t.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-emerald-50 border border-emerald-200 text-xs font-medium text-emerald-700"},t.createElement(ca,{className:"w-3 h-3"}),W.amountMin&&W.amountMax?`${Number(W.amountMin).toLocaleString("fr-FR")} - ${Number(W.amountMax).toLocaleString("fr-FR")} FCFA`:W.amountMin?`Min ${Number(W.amountMin).toLocaleString("fr-FR")} FCFA`:`Max ${Number(W.amountMax).toLocaleString("fr-FR")} FCFA`,t.createElement("button",{type:"button",onClick:()=>$(Z=>({...Z,amountMin:"",amountMax:""})),className:"ml-1 hover:text-emerald-900"},t.createElement(_t,{className:"w-3 h-3"}))),W.shopName&&t.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-amber-50 border border-amber-200 text-xs font-medium text-amber-700"},t.createElement(vr,{className:"w-3 h-3"}),W.shopName,t.createElement("button",{type:"button",onClick:()=>$(Z=>({...Z,shopName:""})),className:"ml-1 hover:text-amber-900"},t.createElement(_t,{className:"w-3 h-3"}))))),t.createElement("div",{className:"flex flex-wrap gap-2"},Yie.map(Z=>{const xe=Z.key===Ye,fe=Z.key==="all"?"/orders":`/orders/${Z.key}`,ye=Z.icon,Y=Z.key==="all"?y.total:y.byStatus[Z.key]||0;return t.createElement(be,{key:Z.key,to:fe,className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${xe?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},t.createElement(ye,{className:"w-4 h-4"}),t.createElement("span",null,Z.label),Y>0&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${xe?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},Y))}))),o?t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(br,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.createElement("div",null,t.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},o)))):ut.length===0?t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},Lt?t.createElement(ws,{className:"w-10 h-10 text-gray-400"}):t.createElement(ea,{className:"w-10 h-10 text-gray-400"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},Lt?"Aucun rsultat":"Aucune commande"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},nr),t.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3"},Lt&&t.createElement("button",{type:"button",onClick:zt,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-all"},t.createElement(L5,{className:"w-4 h-4"}),"Rinitialiser les filtres"),t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(en,{className:"w-4 h-4"}),"Dcouvrir nos produits"))):t.createElement(t.Fragment,null,X==="list"&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"},t.createElement("div",{className:"hidden md:grid md:grid-cols-12 gap-4 px-6 py-3 bg-gray-50 border-b border-gray-100 text-xs font-bold text-gray-500 uppercase tracking-wide"},t.createElement("div",{className:"col-span-1"},"N"),t.createElement("div",{className:"col-span-3"},"Produit(s)"),t.createElement("div",{className:"col-span-2"},"Boutique"),t.createElement("div",{className:"col-span-2"},"Date"),t.createElement("div",{className:"col-span-2"},"Montant"),t.createElement("div",{className:"col-span-2"},"Statut")),t.createElement("div",{className:"divide-y divide-gray-100"},ut.map(Z=>{const xe=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1,product:Z.product}]:[],fe=xe.reduce((Pt,q)=>Pt+Number(q.snapshot?.price||0)*Number(q.quantity||1),0),ye=Number(Z.totalAmount??fe),Y=lT[Z.status]||It,U=sp[Z.status]||sp.pending,de=xe[0],Re=de?.snapshot?.shopName||"N/A",Ve=de?.snapshot?.title||"Produit",Qe=xe.length;return t.createElement(be,{key:Z._id,to:`/orders/${Z.status}`,className:"grid grid-cols-1 md:grid-cols-12 gap-2 md:gap-4 px-4 md:px-6 py-4 hover:bg-gray-50 transition-colors items-center"},t.createElement("div",{className:"col-span-1 flex items-center gap-2 md:block"},t.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"N:"),t.createElement("span",{className:"font-bold text-gray-900 text-sm"},"#",Z._id.slice(-6))),t.createElement("div",{className:"col-span-3 flex items-center gap-3"},de?.snapshot?.image?t.createElement("img",{src:de.snapshot.image,alt:Ve,className:"w-10 h-10 rounded-lg object-cover border border-gray-200 flex-shrink-0"}):t.createElement("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center flex-shrink-0"},t.createElement(wt,{className:"w-5 h-5 text-indigo-600"})),t.createElement("div",{className:"min-w-0"},t.createElement("p",{className:"font-semibold text-gray-900 text-sm truncate"},Ve),Qe>1&&t.createElement("p",{className:"text-xs text-gray-500"},"+",Qe-1," autre",Qe>2?"s":""))),t.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},t.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Boutique:"),t.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},t.createElement(vr,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),t.createElement("span",{className:"truncate"},Re))),t.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},t.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Date:"),t.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},t.createElement(Wn,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),t.createElement("span",null,new Date(Z.createdAt).toLocaleDateString("fr-FR")))),t.createElement("div",{className:"col-span-2 flex items-center gap-2 md:block"},t.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Montant:"),t.createElement("span",{className:"font-bold text-gray-900 text-sm"},Is(ye))),t.createElement("div",{className:"col-span-2 flex items-center gap-2"},t.createElement("span",{className:"md:hidden text-xs font-medium text-gray-500"},"Statut:"),t.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold border ${U.card}`},t.createElement(Y,{className:"w-3.5 h-3.5"}),np[Z.status])))}))),X==="card"&&t.createElement("div",{className:"space-y-6"},ut.map(Z=>{const xe=Z.items&&Z.items.length?Z.items:Z.productSnapshot?[{snapshot:Z.productSnapshot,quantity:1,product:Z.product}]:[],fe=xe.reduce((Pe,ze)=>Pe+Number(ze.snapshot?.price||0)*Number(ze.quantity||1),0),ye=Number(Z.totalAmount??fe),Y=Number(Z.paidAmount||0),U=Number(Z.remainingAmount??Math.max(0,ye-Y)),de=!!(Y||Z.paymentTransactionCode||Z.paymentName),Ve=(Z.createdBy?._id&&Z.customer?._id?Z.createdBy._id===Z.customer._id:!1)?"Vous":Z.createdBy?.name||Z.createdBy?.email||"Admin HDMarket",Qe=lT[Z.status]||It,Pt=sp[Z.status]||sp.pending,q=ae===Z._id&&ve&&ee,ue=q?ve-ee:0,ke=Z.cancellationWindow?.isActive&&Z.status!=="cancelled";return t.createElement("div",{key:Z._id,className:"relative overflow-hidden"},ke&&t.createElement("div",{className:"md:hidden absolute inset-y-0 right-0 w-24 bg-red-500 flex items-center justify-center"},t.createElement("div",{className:"flex flex-col items-center text-white"},t.createElement(fo,{className:"w-5 h-5"}),t.createElement("span",{className:"text-xs mt-1 font-medium"},"Annuler"))),t.createElement("div",{className:"bg-white rounded-2xl border-2 border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden relative",style:{transform:ue>0?`translateX(-${Math.min(ue,100)}px)`:"translateX(0)",transition:q?"none":"transform 0.3s ease"},onTouchStart:Pe=>ke&&ct(Pe,Z._id),onTouchMove:ke?vt:void 0,onTouchEnd:()=>ke&&Zt(Z)},t.createElement("div",{className:`${Pt.header} text-white px-6 py-4`},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm"},t.createElement(Qe,{className:"w-5 h-5"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Commande"),t.createElement("h3",{className:"text-lg font-bold"},"#",Z._id.slice(-6)))),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("span",{className:"px-3 py-1.5 rounded-lg bg-white/20 backdrop-blur-sm text-xs font-bold uppercase tracking-wide"},np[Z.status]),t.createElement("button",{type:"button",onClick:()=>ht(Z),className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-all",title:"Tlcharger le bon de commande"},t.createElement(Mp,{className:"w-4 h-4"}))))),t.createElement("div",{className:"p-6 space-y-6"},Z.cancellationWindow?.isActive&&Z.status!=="cancelled"&&t.createElement("div",{className:"space-y-3"},t.createElement(P$,{deadline:Z.cancellationWindow.deadline,remainingMs:Z.cancellationWindow.remainingMs,isActive:Z.cancellationWindow.isActive,onExpire:()=>{const Pe=new URLSearchParams;Pe.set("page",u),Pe.set("limit",su),Ye!=="all"&&Pe.set("status",Ye),ie.get(`/orders?${Pe.toString()}`).then(({data:ze})=>{const tt=Array.isArray(ze)?ze:ze?.items||[];n(tt)})}}),t.createElement("button",{type:"button",onClick:()=>Bt(Z._id),className:"w-full px-6 py-3 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2"},t.createElement(_t,{className:"w-5 h-5"}),"Annuler la commande"),t.createElement("p",{className:"text-xs text-gray-500 text-center"},"Vous pouvez annuler cette commande dans les 30 minutes suivant sa cration. Le vendeur ne pourra pas modifier le statut pendant ce dlai.")),t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement(wt,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Articles commands")),t.createElement("div",{className:"space-y-3"},xe.map((Pe,ze)=>t.createElement("div",{key:`${Z._id}-${Pe.product||Pe.snapshot?.title||ze}`,className:"flex items-start gap-4 p-4 rounded-xl border border-gray-100 bg-gray-50/50 hover:bg-gray-100/50 transition-colors"},Pe.snapshot?.image||Pe.product?.images?.[0]?t.createElement("img",{src:Pe.snapshot?.image||Pe.product?.images?.[0],alt:Pe.snapshot?.title||"Produit",className:"w-16 h-16 rounded-xl object-cover border border-gray-200 flex-shrink-0"}):t.createElement("div",{className:"w-16 h-16 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0"},t.createElement(wt,{className:"w-6 h-6 text-indigo-600"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},Pe.product?t.createElement(be,{to:or(Pe.product),...e,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate"},Pe.snapshot?.title||"Produit"):t.createElement("span",{className:"font-bold text-gray-900"},Pe.snapshot?.title||"Produit"),t.createElement("span",{className:"text-sm font-bold text-gray-900 whitespace-nowrap"},Is((Pe.snapshot?.price||0)*(Pe.quantity||1)))),t.createElement("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-1"},t.createElement("span",null,"Quantit: ",Pe.quantity||1),t.createElement("span",null,""),t.createElement("span",null,"Prix unitaire: ",Is(Pe.snapshot?.price||0))),Pe.snapshot?.shopName&&t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(vr,{className:"w-3 h-3"}),t.createElement("span",null,Pe.snapshot.shopName)),Pe.snapshot?.confirmationNumber&&t.createElement("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200"},t.createElement("span",{className:"text-[10px] font-bold text-indigo-700 uppercase tracking-wide"},"Code: ",Pe.snapshot.confirmationNumber))))))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-4"},Z.deliveryCode&&t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(Ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Code de livraison")),t.createElement("div",{className:"p-5 rounded-xl border-2 border-indigo-200 bg-indigo-50"},t.createElement("p",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-2"},"Prsentez ce code au livreur"),t.createElement("div",{className:"flex items-center justify-center"},t.createElement("span",{className:"text-4xl font-black text-indigo-900 tracking-wider font-mono"},Z.deliveryCode)),t.createElement("p",{className:"text-xs text-indigo-600 mt-3 text-center"},"Ce code est requis pour recevoir votre commande"))),t.createElement("div",{className:"flex items-center justify-between mb-3"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Sr,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Adresse de livraison")),(Z.status==="pending"||Z.status==="confirmed")&&t.createElement("button",{type:"button",onClick:()=>xt(Z),className:"px-3 py-1.5 rounded-lg border border-indigo-200 bg-indigo-50 text-indigo-700 text-xs font-semibold hover:bg-indigo-100 transition-all"},"Modifier")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},Z.deliveryAddress||"Non renseigne"),t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(Sr,{className:"w-3 h-3"}),t.createElement("span",null,Z.deliveryCity||"Ville non renseigne")),Z.deliveryGuy&&t.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},t.createElement("div",{className:"flex items-center gap-2 text-xs"},t.createElement(xr,{className:"w-3 h-3 text-blue-600"}),t.createElement("span",{className:"font-semibold text-gray-700"},"Livreur:"),t.createElement("span",{className:"text-gray-600"},Z.deliveryGuy.name||"Non assign"),Z.deliveryGuy.phone&&t.createElement(t.Fragment,null,t.createElement("span",null,""),t.createElement("span",{className:"text-gray-600"},Z.deliveryGuy.phone))))),Z.trackingNote&&t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement(lN,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Note de suivi")),t.createElement("div",{className:"p-4 rounded-xl border border-blue-100 bg-blue-50/50"},t.createElement("p",{className:"text-sm text-gray-700"},Z.trackingNote)))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(vs,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Informations de paiement")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-sm text-gray-600"},"Total commande"),t.createElement("span",{className:"text-lg font-bold text-gray-900"},Is(ye))),de&&t.createElement(t.Fragment,null,t.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},t.createElement("span",{className:"text-sm text-gray-600"},"Acompte vers"),t.createElement("span",{className:"text-sm font-semibold text-emerald-700"},Is(Y))),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-sm text-gray-600"},"Reste  payer"),t.createElement("span",{className:"text-sm font-semibold text-amber-700"},Is(U))),(Z.paymentName||Z.paymentTransactionCode)&&t.createElement("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-500"},Z.paymentName&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(ha,{className:"w-3 h-3"}),t.createElement("span",null,"Payeur: ",Z.paymentName)),Z.paymentTransactionCode&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(GO,{className:"w-3 h-3"}),t.createElement("span",null,"Transaction: ",Z.paymentTransactionCode))))),t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement(Ca,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Gestionnaire")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},Ve),Z.createdBy?.email&&t.createElement("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},t.createElement(uo,{className:"w-3 h-3"}),Z.createdBy.email))))),Z.status==="cancelled"&&t.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 p-4 space-y-2"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(br,{className:"w-5 h-5 text-red-600"}),t.createElement("p",{className:"text-sm font-bold text-red-800"},"Commande annule")),Z.cancellationReason&&t.createElement("p",{className:"text-sm text-red-700"},"Raison: ",Z.cancellationReason),Z.cancelledAt&&t.createElement("p",{className:"text-xs text-red-600"},"Annule le ",iu(Z.cancelledAt))),Z.status!=="cancelled"&&t.createElement(Qie,{status:Z.status}),t.createElement("div",{className:"mt-4 space-y-3"},t.createElement(Xc,{order:Z,buttonText:"Contacter le vendeur",unreadCount:D[Z._id]||0}),Z.status==="delivered"&&Z.items&&Z.items.length>0&&t.createElement("button",{type:"button",onClick:()=>ot(Z),disabled:P,className:"w-full px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},P?t.createElement(t.Fragment,null,t.createElement(It,{className:"w-5 h-5 animate-spin"}),t.createElement("span",null,"Ajout au panier...")):t.createElement(t.Fragment,null,t.createElement(en,{className:"w-5 h-5"}),t.createElement("span",null,"Commander  nouveau"))),Z.status==="delivered"&&t.createElement("p",{className:"text-xs text-gray-500 text-center"},"Ajoute tous les articles de cette commande  votre panier")),t.createElement("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t border-gray-100 text-xs text-gray-500"},t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(Wn,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Cre:"),t.createElement("span",null,iu(Z.createdAt))),Z.shippedAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(xr,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Expdie:"),t.createElement("span",null,iu(Z.shippedAt))),Z.deliveredAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(Kt,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Livre:"),t.createElement("span",null,iu(Z.deliveredAt))),Z.cancelledAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(_t,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Annule:"),t.createElement("span",null,iu(Z.cancelledAt)))))))})),p.totalPages>1&&t.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("p",{className:"text-sm text-gray-600"},"Page ",t.createElement("span",{className:"font-bold text-gray-900"},u)," sur"," ",t.createElement("span",{className:"font-bold text-gray-900"},p.totalPages)," "," ",t.createElement("span",{className:"font-bold text-gray-900"},p.total)," commande",p.total>1?"s":""),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>m(Z=>Math.max(1,Z-1)),disabled:u<=1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>m(Z=>Math.min(p.totalPages,Z+1)),disabled:u>=p.totalPages,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant")))),t.createElement(Xie,{isOpen:x,onClose:()=>{N(!1),k(null)},order:S,onSave:we})))}const zE={pending:"En attente",confirmed:"Commande confirme",delivering:"En cours de livraison",delivered:"Commande termine",cancelled:"Commande annule"},dT={pending:{header:"bg-gray-600",card:"bg-gray-50 border-gray-200 text-gray-700"},confirmed:{header:"bg-amber-600",card:"bg-amber-50 border-amber-200 text-amber-800"},delivering:{header:"bg-blue-600",card:"bg-blue-50 border-blue-200 text-blue-800"},delivered:{header:"bg-emerald-600",card:"bg-emerald-50 border-emerald-200 text-emerald-800"},cancelled:{header:"bg-red-600",card:"bg-red-50 border-red-200 text-red-800"}},Jie={pending:It,confirmed:wt,delivering:xr,delivered:Kt,cancelled:_t},Zie=[{key:"all",label:"Toutes",icon:ea,count:null},{key:"pending",label:"En attente",icon:It,count:null},{key:"confirmed",label:"Confirmes",icon:wt,count:null},{key:"delivering",label:"En livraison",icon:xr,count:null},{key:"delivered",label:"Livres",icon:Kt,count:null},{key:"cancelled",label:"Annules",icon:_t,count:null}],eoe=6,BE=[{id:"pending",label:"Commande en attente",description:"La commande est enregistre et en attente de confirmation.",icon:It,color:"gray"},{id:"confirmed",label:"Commande confirme",description:"La commande est confirme et prte pour la prparation.",icon:wt,color:"amber"},{id:"delivering",label:"En cours de livraison",description:"Le colis est pris en charge par le livreur.",icon:xr,color:"blue"},{id:"delivered",label:"Commande termine",description:"La commande est livre avec succs.",icon:Kt,color:"emerald"},{id:"cancelled",label:"Commande annule",description:"Cette commande a t annule et ne sera pas livre.",icon:_t,color:"red"}],ou=e=>e?new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,lc=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,toe=({status:e})=>{const r=BE.findIndex(n=>n.id===e),a=r>=0?r:0;return t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 p-5"},t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement("div",{className:"p-2 rounded-lg bg-indigo-600"},t.createElement(rr,{className:"w-4 h-4 text-white"})),t.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Suivi de commande")),t.createElement("div",{className:"relative"},t.createElement("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},t.createElement("div",{className:"absolute top-0 left-0 w-full bg-indigo-600 transition-all duration-500",style:{height:`${a/(BE.length-1)*100}%`}})),t.createElement("div",{className:"space-y-6 relative"},BE.map((n,s)=>{const i=n.icon,o=a>=s,d={gray:"bg-gray-600",amber:"bg-amber-600",blue:"bg-blue-600",emerald:"bg-emerald-600",red:"bg-red-600"},u=d[n.color]||d.gray;return t.createElement("div",{key:n.id,className:"flex items-start gap-4"},t.createElement("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${o?`${u} text-white shadow-lg scale-110`:"bg-gray-200 text-gray-400"}`},t.createElement(i,{className:"w-4 h-4"})),t.createElement("div",{className:"flex-1 pt-1"},t.createElement("p",{className:`text-sm font-bold mb-1 ${o?"text-gray-900":"text-gray-400"}`},n.label),t.createElement("p",{className:`text-xs ${o?"text-gray-600":"text-gray-400"}`},n.description)))}))))};function uT(){const{user:e}=h.useContext(fr),{showToast:r}=Si(),a=Tn(),[n,s]=h.useState([]),[i,o]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState(1),[f,y]=h.useState({total:0,totalPages:1}),[b,E]=h.useState(""),[w,x]=h.useState({id:"",message:""}),[N,S]=h.useState(!1),[k,P]=h.useState(null),[C,_]=h.useState(""),[O,T]=h.useState(!1),[R,D]=h.useState({total:0,totalAmount:0,byStatus:{}}),[j,L]=h.useState(!1),[K,W]=h.useState({}),{status:$}=go();if(e?.role==="admin")return t.createElement(pc,{to:"/admin/orders",replace:!0});const J=h.useMemo(()=>$&&Object.keys(zE).includes($)?$:"all",[$]);h.useEffect(()=>{p(1)},[J]),h.useEffect(()=>{let z=!0;return(async()=>{L(!0);try{const{data:he}=await ie.get("/orders/seller?limit=1000");if(!z)return;const ve=Array.isArray(he)?he:he?.items||[],_e=ve.length,ee=ve.reduce((pe,Ne)=>{const re=(Ne.items||[]).reduce((Me,ge)=>Me+Number(ge.snapshot?.price||0)*Number(ge.quantity||1),0);return pe+Number(Ne.totalAmount??re)},0),le=ve.reduce((pe,Ne)=>{const oe=Ne.status||"pending";return pe[oe]=(pe[oe]||0)+1,pe},{});D({total:_e,totalAmount:ee,byStatus:le})}catch(he){console.error("Error loading stats:",he)}finally{z&&L(!1)}})(),()=>{z=!1}},[]);const Q=async z=>{if(!z||z.length===0||!e?._id)return{};try{return(await Promise.all(z.map(async he=>{try{const{data:ve}=await ie.get(`/orders/${he}/messages`),_e=Array.isArray(ve)?ve.filter(ee=>String(ee.recipient?._id)===String(e._id)&&!ee.readAt):[];return{orderId:he,count:_e.length}}catch{return{orderId:he,count:0}}}))).reduce((he,{orderId:ve,count:_e})=>(he[ve]=_e,he),{})}catch{return{}}};h.useEffect(()=>{(async()=>{o(!0),u("");try{const ae=new URLSearchParams;ae.set("page",m),ae.set("limit",eoe),J!=="all"&&ae.set("status",J);const{data:he}=await ie.get(`/orders/seller?${ae.toString()}`),ve=Array.isArray(he)?he:he?.items||[],_e=Math.max(1,Number(he?.totalPages)||1);s(ve);const ee=ve.map(Ne=>Ne._id),le=await Q(ee);W(le),y({total:he?.total??ve.length,totalPages:_e});const pe=Number(he?.page);Number.isFinite(pe)&&pe>0&&pe!==m&&p(pe)}catch(ae){u(ae.response?.data?.message||"Impossible de charger les commandes clients."),s([]),y({total:0,totalPages:1})}finally{o(!1)}})()},[J,m,e?._id]);const X=async(z,ae)=>{E(z),x({id:"",message:""});try{const{data:he}=await ie.patch(`/orders/seller/${z}/status`,{status:ae});s(le=>le.map(pe=>pe._id===z?he:pe)),r("Statut de la commande mis  jour.",{variant:"success"});const{data:ve}=await ie.get("/orders/seller?limit=1000"),ee=(Array.isArray(ve)?ve:ve?.items||[]).reduce((le,pe)=>{const Ne=pe.status||"pending";return le[Ne]=(le[Ne]||0)+1,le},{});D(le=>({...le,byStatus:ee}))}catch(he){const ve=he.response?.data?.message||"Impossible de mettre  jour le statut.";x({id:z,message:ve}),r(ve,{variant:"error"})}finally{E("")}},H=z=>{P(z),_(""),S(!0)},I=()=>{S(!1),P(null),_("")},B=async()=>{if(!k)return;const z=C.trim();if(!z||z.length<5){r("Veuillez fournir une raison d'annulation (minimum 5 caractres).",{variant:"error"});return}T(!0);try{const{data:ae}=await ie.post(`/orders/seller/${k}/cancel`,{reason:z});s(ee=>ee.map(le=>le._id===k?ae:le)),r("Commande annule avec succs. Le client a t notifi.",{variant:"success"}),I();const{data:he}=await ie.get("/orders/seller?limit=1000"),_e=(Array.isArray(he)?he:he?.items||[]).reduce((ee,le)=>{const pe=le.status||"pending";return ee[pe]=(ee[pe]||0)+1,ee},{});D(ee=>({...ee,byStatus:_e}))}catch(ae){const he=ae.response?.data?.message||ae.response?.data?.details?.[0]||"Impossible d'annuler la commande.";r(he,{variant:"error"})}finally{T(!1)}},G=J==="all"?"Aucune commande client pour le moment.":`Aucune commande ${zE[J].toLowerCase()} pour le moment.`;return i&&n.length===0?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},[1,2,3].map(z=>t.createElement("div",{key:z,className:"h-32 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),t.createElement("div",{className:"space-y-4"},[1,2].map(z=>t.createElement("div",{key:z,className:"h-64 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"bg-indigo-600 text-white"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(ea,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Commandes clients"),t.createElement("h1",{className:"text-3xl font-bold"},"Gestion des commandes"))),t.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Suivez les commandes passes sur vos produits, mettez  jour leur statut et grez les livraisons.")),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all"},t.createElement(Cr,{className:"w-4 h-4"}),"Accueil"),t.createElement(be,{to:"/my/stats",className:"inline-flex items-center gap-2 rounded-xl bg-white text-indigo-600 px-4 py-2.5 text-sm font-semibold hover:bg-white/90 transition-all shadow-lg"},t.createElement(rr,{className:"w-4 h-4"}),"Statistiques"))))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},!j&&R.total>0&&t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},t.createElement(ea,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},R.total)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Total commandes"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Toutes les commandes clients")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},t.createElement(ca,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},lc(R.totalAmount))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Chiffre d'affaires"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Montant total des commandes")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-amber-600"},t.createElement(It,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},R.byStatus.pending||0)),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"En attente"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Commandes en cours de traitement"))),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},t.createElement("div",{className:"flex flex-wrap gap-2"},Zie.map(z=>{const ae=z.key===J,he=z.key==="all"?"/seller/orders":`/seller/orders/${z.key}`,ve=z.icon,_e=z.key==="all"?R.total:R.byStatus[z.key]||0;return t.createElement(be,{key:z.key,to:he,className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200 ${ae?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200"}`},t.createElement(ve,{className:"w-4 h-4"}),t.createElement("span",null,z.label),_e>0&&t.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${ae?"bg-white/20 text-white":"bg-indigo-100 text-indigo-700"}`},_e))}))),d?t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(br,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.createElement("div",null,t.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},d)))):n.length===0?t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-gray-100 flex items-center justify-center mb-4"},t.createElement(ea,{className:"w-10 h-10 text-gray-400"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune commande"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},G),t.createElement(be,{to:"/my",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(en,{className:"w-4 h-4"}),"Grer mes annonces")):t.createElement(t.Fragment,null,t.createElement("div",{className:"space-y-6"},n.map(z=>{const ae=Array.isArray(z.items)?z.items:[],he=ae.reduce((oe,re)=>oe+Number(re.snapshot?.price||0)*Number(re.quantity||1),0),ve=Number(z.totalAmount??he),_e=Number(z.paidAmount||0),ee=Number(z.remainingAmount??Math.max(0,ve-_e)),le=!!(_e||z.paymentTransactionCode||z.paymentName),pe=Jie[z.status]||It,Ne=dT[z.status]||dT.pending;return t.createElement("div",{key:z._id,className:"bg-white rounded-2xl border-2 border-gray-100 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden"},t.createElement("div",{className:`${Ne.header} text-white px-6 py-4`},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm"},t.createElement(pe,{className:"w-5 h-5"})),t.createElement("div",null,t.createElement("p",{className:"text-xs font-medium text-white/80 uppercase tracking-wide"},"Commande"),t.createElement("h3",{className:"text-lg font-bold"},"#",z._id.slice(-6)))),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("span",{className:"px-3 py-1.5 rounded-lg bg-white/20 backdrop-blur-sm text-xs font-bold uppercase tracking-wide"},zE[z.status])))),t.createElement("div",{className:"p-6 space-y-6"},t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-4"},t.createElement(wt,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Articles commands")),t.createElement("div",{className:"space-y-3"},ae.map((oe,re)=>t.createElement("div",{key:`${z._id}-${oe.product||oe.snapshot?.title||re}`,className:"flex items-start gap-4 p-4 rounded-xl border border-gray-100 bg-gray-50/50 hover:bg-gray-100/50 transition-colors"},oe.snapshot?.image||oe.product?.images?.[0]?t.createElement("img",{src:oe.snapshot?.image||oe.product?.images?.[0],alt:oe.snapshot?.title||"Produit",className:"w-16 h-16 rounded-xl object-cover border border-gray-200 flex-shrink-0"}):t.createElement("div",{className:"w-16 h-16 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0"},t.createElement(wt,{className:"w-6 h-6 text-indigo-600"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},oe.product?t.createElement(be,{to:or(oe.product),...a,className:"font-bold text-gray-900 hover:text-indigo-600 transition-colors truncate"},oe.snapshot?.title||"Produit"):t.createElement("span",{className:"font-bold text-gray-900"},oe.snapshot?.title||"Produit"),t.createElement("span",{className:"text-sm font-bold text-gray-900 whitespace-nowrap"},lc((oe.snapshot?.price||0)*(oe.quantity||1)))),t.createElement("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-1"},t.createElement("span",null,"Quantit: ",oe.quantity||1),t.createElement("span",null,""),t.createElement("span",null,"Prix unitaire: ",lc(oe.snapshot?.price||0))),oe.snapshot?.confirmationNumber&&t.createElement("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 border border-indigo-200"},t.createElement("span",{className:"text-[10px] font-bold text-indigo-700 uppercase tracking-wide"},"Code: ",oe.snapshot.confirmationNumber))))))),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.createElement("div",{className:"space-y-4"},z.deliveryCode&&t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(Ca,{className:"w-4 h-4 text-indigo-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Code de livraison")),t.createElement("div",{className:"p-5 rounded-xl border-2 border-indigo-200 bg-indigo-50"},t.createElement("p",{className:"text-xs font-semibold text-indigo-700 uppercase tracking-wide mb-2"},"Code pour le livreur"),t.createElement("div",{className:"flex items-center justify-center"},t.createElement("span",{className:"text-4xl font-black text-indigo-900 tracking-wider font-mono"},z.deliveryCode)),t.createElement("p",{className:"text-xs text-indigo-600 mt-3 text-center"},"Le client doit prsenter ce code pour recevoir la commande"))),t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(ha,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Client")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},z.customer?.name||"Client"),z.customer?.phone&&t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(hi,{className:"w-3 h-3"}),t.createElement("span",null,z.customer.phone)),z.customer?.email&&t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(uo,{className:"w-3 h-3"}),t.createElement("span",null,z.customer.email))),t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(Sr,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Adresse de livraison")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-2"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},z.deliveryAddress||"Non renseigne"),t.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},t.createElement(Sr,{className:"w-3 h-3"}),t.createElement("span",null,z.deliveryCity||"Ville non renseigne")),z.deliveryGuy&&t.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},t.createElement("div",{className:"flex items-center gap-2 text-xs"},t.createElement(xr,{className:"w-3 h-3 text-blue-600"}),t.createElement("span",{className:"font-semibold text-gray-700"},"Livreur:"),t.createElement("span",{className:"text-gray-600"},z.deliveryGuy.name||"Non assign"),z.deliveryGuy.phone&&t.createElement(t.Fragment,null,t.createElement("span",null,""),t.createElement("span",{className:"text-gray-600"},z.deliveryGuy.phone))))),z.trackingNote&&t.createElement("div",null,t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement(lN,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Note de suivi")),t.createElement("div",{className:"p-4 rounded-xl border border-blue-100 bg-blue-50/50"},t.createElement("p",{className:"text-sm text-gray-700"},z.trackingNote)))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(vs,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Informations de paiement")),t.createElement("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-sm text-gray-600"},"Total commande"),t.createElement("span",{className:"text-lg font-bold text-gray-900"},lc(ve))),le&&t.createElement(t.Fragment,null,t.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},t.createElement("span",{className:"text-sm text-gray-600"},"Acompte vers"),t.createElement("span",{className:"text-sm font-semibold text-emerald-700"},lc(_e))),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"text-sm text-gray-600"},"Reste  payer"),t.createElement("span",{className:"text-sm font-semibold text-amber-700"},lc(ee))),(z.paymentName||z.paymentTransactionCode)&&t.createElement("div",{className:"pt-2 border-t border-gray-200 space-y-1 text-xs text-gray-500"},z.paymentName&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(ha,{className:"w-3 h-3"}),t.createElement("span",null,"Payeur: ",z.paymentName)),z.paymentTransactionCode&&t.createElement("div",{className:"flex items-center gap-1"},t.createElement(GO,{className:"w-3 h-3"}),t.createElement("span",null,"Transaction: ",z.paymentTransactionCode))))),z.cancellationWindow?.isActive&&z.status!=="cancelled"&&t.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-amber-50 p-4 space-y-3"},t.createElement(P$,{deadline:z.cancellationWindow.deadline,remainingMs:z.cancellationWindow.remainingMs,isActive:z.cancellationWindow.isActive}),t.createElement("div",{className:"flex items-start gap-2 p-3 rounded-xl bg-amber-100 border border-amber-200"},t.createElement(br,{className:"w-4 h-4 text-amber-700 flex-shrink-0 mt-0.5"}),t.createElement("p",{className:"text-xs text-amber-800"},t.createElement("span",{className:"font-semibold"},"Dlai d'annulation actif :")," Vous ne pouvez pas modifier le statut de cette commande pendant les 30 premires minutes. Le client peut annuler sa commande pendant ce dlai."))),t.createElement("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50 p-4"},t.createElement(Xc,{order:z,buttonText:"Contacter l'acheteur",unreadCount:K[z._id]||0})),z.status!=="cancelled"&&z.status!=="delivered"&&t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gray-50 p-4 space-y-3"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Ca,{className:"w-4 h-4 text-gray-500"}),t.createElement("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Mettre  jour le statut")),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("button",{type:"button",onClick:()=>X(z._id,"confirmed"),disabled:z.status!=="pending"||b===z._id||z.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs font-semibold text-amber-700 hover:bg-amber-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},t.createElement(wt,{size:12}),"Confirmer"),t.createElement("button",{type:"button",onClick:()=>X(z._id,"delivering"),disabled:z.status!=="confirmed"||b===z._id||z.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-3 py-2 text-xs font-semibold text-blue-700 hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},t.createElement(xr,{size:12}),"En livraison"),t.createElement("button",{type:"button",onClick:()=>X(z._id,"delivered"),disabled:z.status!=="delivering"||b===z._id||z.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-green-200 bg-green-50 px-3 py-2 text-xs font-semibold text-green-700 hover:bg-green-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},t.createElement(Kt,{size:12}),"Marquer livre"),t.createElement("button",{type:"button",onClick:()=>H(z._id),disabled:z.status==="delivered"||b===z._id||z.cancellationWindow?.isActive,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs font-semibold text-red-700 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},t.createElement(_t,{size:12}),"Annuler")),w.id===z._id&&t.createElement("p",{className:"text-xs text-red-600"},w.message),z.cancellationWindow?.isActive&&t.createElement("p",{className:"text-xs text-amber-700 font-medium"}," Les modifications de statut sont temporairement dsactives pendant le dlai d'annulation.")))),z.status==="cancelled"&&t.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 p-5 space-y-3"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-red-600"},t.createElement(br,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-bold text-red-800"},"Commande annule"),z.cancelledAt&&t.createElement("p",{className:"text-xs text-red-600 mt-1"},"Annule le ",ou(z.cancelledAt)))),z.cancellationReason&&t.createElement("div",{className:"p-4 rounded-xl border border-red-200 bg-red-100/50"},t.createElement("p",{className:"text-xs font-semibold text-red-700 uppercase tracking-wide mb-2"},"Raison de l'annulation"),t.createElement("p",{className:"text-sm text-red-800 font-medium"},z.cancellationReason))),z.status!=="cancelled"&&t.createElement(toe,{status:z.status}),t.createElement("div",{className:"flex flex-wrap items-center gap-4 pt-4 border-t border-gray-100 text-xs text-gray-500"},t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(Wn,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Cre:"),t.createElement("span",null,ou(z.createdAt))),z.shippedAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(xr,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Expdie:"),t.createElement("span",null,ou(z.shippedAt))),z.deliveredAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(Kt,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Livre:"),t.createElement("span",null,ou(z.deliveredAt))),z.cancelledAt&&t.createElement("div",{className:"flex items-center gap-1.5"},t.createElement(_t,{className:"w-3 h-3"}),t.createElement("span",{className:"font-semibold"},"Annule:"),t.createElement("span",null,ou(z.cancelledAt))))))})),N&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6"},t.createElement("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:I}),t.createElement("div",{className:"relative w-full max-w-md rounded-3xl bg-white shadow-2xl border border-gray-100 p-6",onClick:z=>z.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-lg bg-red-600"},t.createElement(br,{className:"w-5 h-5 text-white"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Annuler la commande"),t.createElement("p",{className:"text-xs text-gray-500"},"Commande #",k?.slice(-6)))),t.createElement("button",{type:"button",onClick:I,className:"h-9 w-9 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 hover:border-gray-300","aria-label":"Fermer"},t.createElement(_t,{size:16}))),t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3"},t.createElement("p",{className:"text-xs font-semibold text-amber-800 mb-1"}," Attention"),t.createElement("p",{className:"text-xs text-amber-700"},"Cette action est irrversible. Le client sera notifi de l'annulation.")),t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-900 mb-2"},"Raison de l'annulation ",t.createElement("span",{className:"text-red-600"},"*")),t.createElement("textarea",{value:C,onChange:z=>_(z.target.value),placeholder:"Expliquez la raison de l'annulation (minimum 5 caractres)...",className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0,minLength:5}),C.length>0&&C.length<5&&t.createElement("p",{className:"mt-1 text-xs text-red-600"},"La raison doit contenir au moins 5 caractres.")),t.createElement("div",{className:"flex gap-3"},t.createElement("button",{type:"button",onClick:I,disabled:O,className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50"},"Annuler"),t.createElement("button",{type:"button",onClick:B,disabled:O||!C.trim()||C.trim().length<5,className:"flex-1 px-4 py-2.5 rounded-xl bg-red-600 text-white text-sm font-semibold hover:bg-red-700 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},O?"Annulation...":"Confirmer l'annulation"))))),f.totalPages>1&&t.createElement("div",{className:"mt-8 flex flex-col items-center gap-4 sm:flex-row sm:justify-between bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("p",{className:"text-sm text-gray-600"},"Page ",t.createElement("span",{className:"font-bold text-gray-900"},m)," sur"," ",t.createElement("span",{className:"font-bold text-gray-900"},f.totalPages)," "," ",t.createElement("span",{className:"font-bold text-gray-900"},f.total)," commande",f.total>1?"s":""),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>p(z=>Math.max(1,z-1)),disabled:m<=1,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>p(z=>Math.min(f.totalPages,z+1)),disabled:m>=f.totalPages,className:"px-5 py-2.5 rounded-xl border border-gray-200 text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant"))))))}const oi=e=>Number(e||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0});function roe(){const{cart:e,clearCart:r}=h.useContext(xl),{user:a}=h.useContext(fr),{showToast:n}=Si(),s=Kr(),[i,o]=h.useState({}),[d,u]=h.useState(!1),[m,p]=h.useState(""),[f,y]=h.useState(!1),b=e.totals||{subtotal:0},E=h.useMemo(()=>Math.round((b.subtotal||0)*.25),[b.subtotal]),w=Math.max(0,Number(b.subtotal||0)-E),x=e.items||[],N=h.useMemo(()=>{const P=new Map;return x.forEach(C=>{const _=C?.product?.user||null,O=_?._id,T=O?String(O):"unknown",R=_?.shopName||_?.name||"Vendeur",D=_?.phone||C?.product?.contactPhone||"";P.has(T)||P.set(T,{sellerId:T,sellerName:R,sellerPhone:D,items:[],subtotal:0});const j=P.get(T);j.items.push(C),j.subtotal+=Number(C?.lineTotal||0)}),Array.from(P.values())},[x]);h.useEffect(()=>{o(P=>{const C={};return N.forEach(_=>{const O=_.sellerId,T=P[O]||{};C[O]={payerName:T.payerName??a?.name??"",transactionCode:T.transactionCode??""}}),C})},[N,a?.name]);const S=async P=>{if(P.preventDefault(),!x.length){p("Votre panier est vide.");return}if(N.some(O=>!O.sellerId||O.sellerId==="unknown")){p("Impossible de dterminer le vendeur pour certains articles.");return}if(N.some(O=>{const T=i[O.sellerId]||{};return!T.payerName?.trim()||!T.transactionCode?.trim()})){p(N.length>1?"Veuillez renseigner le nom et le code de transaction pour chaque vendeur.":"Veuillez renseigner le nom et le code de transaction.");return}u(!0),p("");try{await ie.post("/orders/checkout",{payments:N.map(O=>{const T=i[O.sellerId]||{};return{sellerId:O.sellerId,payerName:T.payerName.trim(),transactionCode:T.transactionCode.trim()}})}),await r(),n("Commande enregistre. Elle est en attente de validation.",{variant:"success"}),s("/orders")}catch(O){const T=O.response?.data?.message||"Impossible de confirmer la commande.";p(T),n(T,{variant:"error"})}finally{u(!1)}},k=(P,C,_)=>{o(O=>({...O,[P]:{...O[P]||{},[C]:_}}))};return h.useEffect(()=>{if(!a||!x.length)return;(async()=>{try{const{data:C}=await ie.get("/orders/draft");if(C.items&&C.items.length>0){const _={};C.items.forEach(O=>{O.draftPayments&&O.draftPayments.length>0&&O.draftPayments.forEach(T=>{T.sellerId&&(_[String(T.sellerId)]={payerName:T.payerName||"",transactionCode:T.transactionCode||""})})}),Object.keys(_).length>0&&o(O=>({...O,..._}))}}catch(C){console.error("Failed to load draft payments:",C)}})()},[a,x.length]),h.useEffect(()=>{if(!a||!x.length||d||f)return;const P=async()=>{try{const C=N.map(_=>{const O=i[_.sellerId]||{};return{sellerId:_.sellerId,payerName:O.payerName?.trim()||"",transactionCode:O.transactionCode?.trim()||""}});await ie.post("/orders/draft",{payments:C})}catch(C){console.error("Failed to save draft order:",C)}};return()=>{f||P()}},[a,x.length,N,i,d,f]),x.length?t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},t.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},t.createElement(be,{to:"/cart",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors"},t.createElement(Cr,{size:18}),t.createElement("span",{className:"font-medium text-sm"},"Retour au panier")),t.createElement("div",{className:"space-y-3"},t.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Confirmer votre commande"),t.createElement("p",{className:"text-gray-600 font-medium"},"Un acompte de 25% est requis pour confirmer votre commande."))),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_0.9fr] gap-6 sm:gap-8"},t.createElement("section",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},t.createElement("div",{className:"flex items-center gap-3 mb-4"},t.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(Kn,{size:20,className:"text-white"})),t.createElement("h2",{className:"text-xl font-black text-gray-900"},"Rsum de la commande")),t.createElement("div",{className:"space-y-3"},x.map(({product:P,quantity:C,lineTotal:_})=>t.createElement("div",{key:P._id,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-200"},t.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 flex-shrink-0 rounded-xl overflow-hidden bg-gray-200"},t.createElement("img",{src:P.images?.[0]||"https://via.placeholder.com/80",alt:P.title,className:"w-full h-full object-cover"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"font-black text-gray-900 text-sm sm:text-base line-clamp-2 mb-1"},P.title),t.createElement("p",{className:"text-xs text-gray-600 font-medium mb-1"},"Quantit: x",C),t.createElement("p",{className:"text-xs text-gray-500"},"Vendeur: ",P.user?.phone||P.contactPhone||"")),t.createElement("div",{className:"text-right"},t.createElement("span",{className:"font-black text-blue-600 text-base sm:text-lg"},oi(_)," FCFA"))))),t.createElement("div",{className:"border-t-2 border-gray-200 pt-4 space-y-3"},t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Total commande"),t.createElement("span",{className:"font-black text-gray-900 text-lg"},oi(b.subtotal)," FCFA")),t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-blue-50 rounded-xl border border-blue-200"},t.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),t.createElement("span",{className:"font-black text-blue-600 text-lg"},oi(E)," FCFA")),t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),t.createElement("span",{className:"font-black text-gray-900 text-lg"},oi(w)," FCFA"))),t.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-4 text-xs sm:text-sm text-blue-800 flex items-start gap-3"},t.createElement(Ca,{size:16}),t.createElement("span",null,"Le paiement de lacompte confirme la commande. Le solde sera rgl  la livraison."))),t.createElement("section",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-5 sm:p-6 space-y-5"},t.createElement("div",{className:"flex items-center gap-3 mb-4"},t.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(vs,{size:20,className:"text-white"})),t.createElement("h2",{className:"text-xl font-black text-gray-900"},"Informations de paiement")),t.createElement("form",{className:"space-y-5",onSubmit:S},N.map(P=>{const C=i[P.sellerId]||{},_=Math.round(Number(P.subtotal||0)*.25),O=Math.max(0,Number(P.subtotal||0)-_);return t.createElement("div",{key:P.sellerId,className:"rounded-3xl border-2 border-gray-200 bg-gradient-to-br from-gray-50 to-blue-50/30 p-5 sm:p-6 space-y-4 shadow-md"},t.createElement("div",{className:"flex items-start justify-between gap-3 pb-3 border-b-2 border-gray-200"},t.createElement("div",{className:"space-y-1.5"},t.createElement("p",{className:"text-xs font-bold uppercase text-gray-500 tracking-wide"},"Paiement vendeur"),t.createElement("p",{className:"text-base sm:text-lg font-black text-gray-900"},P.sellerName),P.sellerPhone&&t.createElement("p",{className:"text-xs text-gray-600 font-medium"}," ",P.sellerPhone)),t.createElement("div",{className:"text-right bg-blue-100 px-3 py-2 rounded-xl border border-blue-200"},t.createElement("p",{className:"text-base sm:text-lg font-black text-blue-600"},oi(_)," FCFA"),t.createElement("p",{className:"text-xs text-gray-600 font-medium"},"Acompte (25%)"))),t.createElement("div",{className:"space-y-4"},t.createElement("div",null,t.createElement("label",{className:"block text-xs font-bold uppercase text-gray-700 mb-2"},"Nom du payeur"),t.createElement("input",{type:"text",value:C.payerName||"",onChange:T=>k(P.sellerId,"payerName",T.target.value),className:"w-full rounded-3xl border-2 border-gray-300 px-4 py-3 text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",placeholder:a?.name||"Ex: Jean K."})),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-bold uppercase text-gray-700 mb-2"},"Code transaction"),t.createElement("div",{className:"flex items-center gap-3 rounded-3xl border-2 border-gray-300 px-4 py-3 bg-white focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all"},t.createElement(vs,{size:18,className:"text-gray-400 flex-shrink-0"}),t.createElement("input",{type:"text",value:C.transactionCode||"",onChange:T=>k(P.sellerId,"transactionCode",T.target.value),className:"w-full border-none p-0 text-sm font-medium focus:outline-none",placeholder:"Ex: TRX123456"})))),t.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 px-4 py-3 space-y-2 text-xs sm:text-sm"},t.createElement("div",{className:"flex justify-between items-center"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Sous-total vendeur"),t.createElement("span",{className:"font-black text-gray-900"},oi(P.subtotal)," FCFA")),t.createElement("div",{className:"flex justify-between items-center"},t.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),t.createElement("span",{className:"font-black text-blue-600"},oi(_)," FCFA")),t.createElement("div",{className:"flex justify-between items-center pt-2 border-t border-blue-200"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),t.createElement("span",{className:"font-black text-gray-900"},oi(O)," FCFA"))))}),t.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 px-4 py-3 text-xs sm:text-sm text-amber-800 flex items-start gap-3"},t.createElement(Kt,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),N.length>1?"Merci de payer lacompte indiqu pour chaque vendeur avant validation.":`Merci de payer exactement ${oi(E)} FCFA avant validation.`),m&&t.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 px-4 py-3 flex items-start gap-3"},t.createElement(br,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),t.createElement("p",{className:"text-sm text-red-700 font-semibold"},m)),t.createElement("button",{type:"submit",disabled:d,className:"w-full inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-4 text-sm sm:text-base font-semibold text-white hover:bg-blue-700 disabled:opacity-60 transition-all duration-200 active:scale-95 shadow-sm"},d?t.createElement(t.Fragment,null,t.createElement("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Confirmation..."):t.createElement(t.Fragment,null,t.createElement(An,{size:18}),"Confirmer la commande"))))))):t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50 flex items-center justify-center px-4 py-10"},t.createElement("div",{className:"max-w-md w-full text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-3xl bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center mb-6 shadow-lg border-2 border-blue-100"},t.createElement(ea,{size:32,className:"text-blue-600"})),t.createElement("h1",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-3"},"Votre panier est vide"),t.createElement("p",{className:"text-gray-600 font-medium mb-8"},"Ajoutez des produits avant de confirmer une commande."),t.createElement(be,{to:"/products",className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(Kn,{size:18}),"Explorer le march")))}const ip=e=>Number(e||0).toLocaleString("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0});function aoe(){const{user:e}=h.useContext(fr),r=Kr(),[a,n]=h.useState([]),[s,i]=h.useState(!0),[o,d]=h.useState(""),[u,m]=h.useState({});h.useEffect(()=>{if(!e){r("/login");return}p()},[e,r]);const p=async()=>{i(!0),d("");try{const{data:y}=await ie.get("/orders/draft");n(y.items||[])}catch(y){d(y.response?.data?.message||"Impossible de charger les brouillons.")}finally{i(!1)}},f=async y=>{if(confirm("tes-vous sr de vouloir supprimer ce brouillon ?")){m(b=>({...b,[y]:!0}));try{await ie.delete(`/orders/draft/${y}`),n(b=>b.filter(E=>E._id!==y))}catch(b){alert(b.response?.data?.message||"Impossible de supprimer le brouillon.")}finally{m(b=>({...b,[y]:!1}))}}};return e?s?t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50 flex items-center justify-center"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.createElement("p",{className:"text-gray-600 font-medium"},"Chargement..."))):t.createElement("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 via-white to-gray-50"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8"},t.createElement("header",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-6 sm:p-8 border-2 border-blue-100 shadow-lg"},t.createElement(be,{to:"/profile",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors"},t.createElement(Cr,{size:18}),t.createElement("span",{className:"font-medium text-sm"},"Retour au profil")),t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(ea,{size:24,className:"text-white"})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl sm:text-4xl font-black text-gray-900"},"Mes commandes en brouillon"),t.createElement("p",{className:"text-gray-600 font-medium mt-1"},"Commandes non finalises que vous pouvez complter")))),o&&t.createElement("div",{className:"rounded-2xl border-2 border-red-200 bg-red-50 px-4 py-3 flex items-start gap-3"},t.createElement(br,{size:18,className:"text-red-600 flex-shrink-0 mt-0.5"}),t.createElement("p",{className:"text-sm text-red-700 font-semibold"},o)),a.length===0?t.createElement("div",{className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl p-8 sm:p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mb-6 shadow-lg"},t.createElement(ea,{size:32,className:"text-gray-400"})),t.createElement("h2",{className:"text-2xl font-black text-gray-900 mb-3"},"Aucun brouillon"),t.createElement("p",{className:"text-gray-600 font-medium mb-8"},"Vous n'avez pas de commandes en brouillon pour le moment."),t.createElement(be,{to:"/cart",className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(rn,{size:18}),"Voir mon panier")):t.createElement("div",{className:"space-y-4 sm:space-y-6"},a.map(y=>{const b=Math.round((y.totalAmount||0)*.25),E=Math.max(0,(y.totalAmount||0)-b),w=y.draftPayments?.[0]||{};return t.createElement("div",{key:y._id,className:"bg-white rounded-3xl border-2 border-gray-200 shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300"},t.createElement("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-b-2 border-amber-200 px-5 sm:px-6 py-4 flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg"},t.createElement(It,{size:20,className:"text-white"})),t.createElement("div",null,t.createElement("h3",{className:"text-lg font-black text-gray-900"},"Brouillon"),t.createElement("p",{className:"text-xs text-gray-600 font-medium"},"Cr le ",new Date(y.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})))),t.createElement("button",{onClick:()=>f(y._id),disabled:u[y._id],className:"p-2 rounded-full bg-white border border-red-200 text-red-600 hover:bg-red-50 transition-all duration-200 active:scale-95"},t.createElement(fo,{size:18}))),t.createElement("div",{className:"p-5 sm:p-6 space-y-5"},t.createElement("div",{className:"space-y-3"},t.createElement("h4",{className:"text-sm font-bold uppercase text-gray-500 tracking-wide"},"Articles"),t.createElement("div",{className:"space-y-2"},y.items?.map((x,N)=>t.createElement("div",{key:N,className:"flex items-start gap-3 p-3 bg-gray-50 rounded-2xl border border-gray-200"},t.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 flex-shrink-0 rounded-xl overflow-hidden bg-gray-200"},t.createElement("img",{src:x.snapshot?.image||x.product?.images?.[0]||"https://via.placeholder.com/80",alt:x.snapshot?.title||x.product?.title,className:"w-full h-full object-cover"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement(be,{to:or(x.product),className:"font-black text-gray-900 text-sm sm:text-base line-clamp-2 mb-1 hover:text-blue-600 transition-colors"},x.snapshot?.title||x.product?.title),t.createElement("p",{className:"text-xs text-gray-600 font-medium mb-1"},"Quantit: x",x.quantity),t.createElement("p",{className:"text-sm font-black text-blue-600"},ip((x.snapshot?.price||x.product?.price||0)*(x.quantity||1))," FCFA")))))),w.payerName||w.transactionCode?t.createElement("div",{className:"rounded-2xl border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-4 space-y-2"},t.createElement("h4",{className:"text-xs font-bold uppercase text-blue-700 tracking-wide"},"Informations de paiement"),w.payerName&&t.createElement("p",{className:"text-sm text-gray-700"},t.createElement("span",{className:"font-semibold"},"Payeur:")," ",w.payerName),w.transactionCode&&t.createElement("p",{className:"text-sm text-gray-700"},t.createElement("span",{className:"font-semibold"},"Code transaction:")," ",w.transactionCode)):t.createElement("div",{className:"rounded-2xl border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 p-4 flex items-start gap-3"},t.createElement(br,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),t.createElement("p",{className:"text-sm text-amber-800 font-medium"},"Les informations de paiement n'ont pas encore t renseignes.")),t.createElement("div",{className:"border-t-2 border-gray-200 pt-4 space-y-3"},t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Total commande"),t.createElement("span",{className:"font-black text-gray-900 text-lg"},ip(y.totalAmount)," FCFA")),t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-blue-50 rounded-xl border border-blue-200"},t.createElement("span",{className:"text-blue-700 font-semibold"},"Acompte (25%)"),t.createElement("span",{className:"font-black text-blue-600 text-lg"},ip(b)," FCFA")),t.createElement("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-xl"},t.createElement("span",{className:"text-gray-700 font-semibold"},"Reste  payer"),t.createElement("span",{className:"font-black text-gray-900 text-lg"},ip(E)," FCFA"))),t.createElement("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t-2 border-gray-200"},t.createElement(be,{to:"/orders/checkout",className:"flex-1 inline-flex items-center justify-center gap-2 rounded-3xl bg-blue-600 px-6 py-3.5 text-sm font-semibold text-white hover:bg-blue-700 transition-all duration-200 active:scale-95 shadow-sm"},t.createElement(vs,{size:18}),"Continuer la commande"),t.createElement("button",{onClick:()=>f(y._id),disabled:u[y._id],className:"inline-flex items-center justify-center gap-2 rounded-3xl border border-red-300 bg-white text-red-600 px-6 py-3.5 text-sm font-semibold hover:bg-red-50 transition-all duration-200 active:scale-95 shadow-sm disabled:opacity-60"},t.createElement(fo,{size:18}),"Supprimer"))))})))):null}function noe(e=767){h.useEffect(()=>{if(typeof window>"u"||typeof document>"u")return;const r=window.matchMedia(`(max-width: ${e}px)`),a=s=>{if(typeof s.composedPath=="function")return s.composedPath().find(o=>o instanceof HTMLElement&&(o.tagName==="A"||o.tagName==="AREA")&&o.getAttribute("target")==="_blank");const i=s.target;return i&&typeof i.closest=="function"?i.closest('a[target="_blank"],area[target="_blank"]'):null},n=s=>{if(!r.matches)return;const i=a(s);if(!i)return;const o=i.getAttribute("href");if(!o)return;const d=new URL(o,window.location.href);d.origin===window.location.origin&&(s.preventDefault(),window.location.assign(d.pathname+d.search+d.hash))};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[e])}function soe(){const e=hn();return h.useEffect(()=>{typeof window>"u"||(window.requestAnimationFrame(()=>{window.scrollTo({top:0,behavior:"instant"})}),window.scrollTo(0,0))},[e.pathname]),null}const Ws=Object.create(null);Ws.open="0";Ws.close="1";Ws.ping="2";Ws.pong="3";Ws.message="4";Ws.upgrade="5";Ws.noop="6";const Np=Object.create(null);Object.keys(Ws).forEach(e=>{Np[Ws[e]]=e});const F1={type:"error",data:"parser error"},T$=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",O$=typeof ArrayBuffer=="function",M$=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,b2=({type:e,data:r},a,n)=>T$&&r instanceof Blob?a?n(r):mT(r,n):O$&&(r instanceof ArrayBuffer||M$(r))?a?n(r):mT(new Blob([r]),n):n(Ws[e]+(r||"")),mT=(e,r)=>{const a=new FileReader;return a.onload=function(){const n=a.result.split(",")[1];r("b"+(n||""))},a.readAsDataURL(e)};function fT(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let qE;function ioe(e,r){if(T$&&e.data instanceof Blob)return e.data.arrayBuffer().then(fT).then(r);if(O$&&(e.data instanceof ArrayBuffer||M$(e.data)))return r(fT(e.data));b2(e,!1,a=>{qE||(qE=new TextEncoder),r(qE.encode(a))})}const pT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<pT.length;e++)gu[pT.charCodeAt(e)]=e;const ooe=e=>{let r=e.length*.75,a=e.length,n,s=0,i,o,d,u;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const m=new ArrayBuffer(r),p=new Uint8Array(m);for(n=0;n<a;n+=4)i=gu[e.charCodeAt(n)],o=gu[e.charCodeAt(n+1)],d=gu[e.charCodeAt(n+2)],u=gu[e.charCodeAt(n+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|d>>2,p[s++]=(d&3)<<6|u&63;return m},loe=typeof ArrayBuffer=="function",x2=(e,r)=>{if(typeof e!="string")return{type:"message",data:j$(e,r)};const a=e.charAt(0);return a==="b"?{type:"message",data:coe(e.substring(1),r)}:Np[a]?e.length>1?{type:Np[a],data:e.substring(1)}:{type:Np[a]}:F1},coe=(e,r)=>{if(loe){const a=ooe(e);return j$(a,r)}else return{base64:!0,data:e}},j$=(e,r)=>r==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,R$="",doe=(e,r)=>{const a=e.length,n=new Array(a);let s=0;e.forEach((i,o)=>{b2(i,!1,d=>{n[o]=d,++s===a&&r(n.join(R$))})})},uoe=(e,r)=>{const a=e.split(R$),n=[];for(let s=0;s<a.length;s++){const i=x2(a[s],r);if(n.push(i),i.type==="error")break}return n};function moe(){return new TransformStream({transform(e,r){ioe(e,a=>{const n=a.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),r.enqueue(s),r.enqueue(a)})}})}let UE;function op(e){return e.reduce((r,a)=>r+a.length,0)}function lp(e,r){if(e[0].length===r)return e.shift();const a=new Uint8Array(r);let n=0;for(let s=0;s<r;s++)a[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),a}function foe(e,r){UE||(UE=new TextDecoder);const a=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,d){for(a.push(o);;){if(n===0){if(op(a)<1)break;const u=lp(a,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(op(a)<2)break;const u=lp(a,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(op(a)<8)break;const u=lp(a,8),m=new DataView(u.buffer,u.byteOffset,u.length),p=m.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(F1);break}s=p*Math.pow(2,32)+m.getUint32(4),n=3}else{if(op(a)<s)break;const u=lp(a,s);d.enqueue(x2(i?u:UE.decode(u),r)),n=0}if(s===0||s>e){d.enqueue(F1);break}}}})}const $$=4;function da(e){if(e)return poe(e)}function poe(e){for(var r in da.prototype)e[r]=da.prototype[r];return e}da.prototype.on=da.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};da.prototype.once=function(e,r){function a(){this.off(e,a),r.apply(this,arguments)}return a.fn=r,this.on(e,a),this};da.prototype.off=da.prototype.removeListener=da.prototype.removeAllListeners=da.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+e];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<a.length;s++)if(n=a[s],n===r||n.fn===r){a.splice(s,1);break}return a.length===0&&delete this._callbacks["$"+e],this};da.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),a=this._callbacks["$"+e],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(a){a=a.slice(0);for(var n=0,s=a.length;n<s;++n)a[n].apply(this,r)}return this};da.prototype.emitReserved=da.prototype.emit;da.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};da.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Tg=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,a)=>a(r,0),Hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),goe="arraybuffer";function L$(e,...r){return r.reduce((a,n)=>(e.hasOwnProperty(n)&&(a[n]=e[n]),a),{})}const hoe=Hn.setTimeout,yoe=Hn.clearTimeout;function Og(e,r){r.useNativeTimers?(e.setTimeoutFn=hoe.bind(Hn),e.clearTimeoutFn=yoe.bind(Hn)):(e.setTimeoutFn=Hn.setTimeout.bind(Hn),e.clearTimeoutFn=Hn.clearTimeout.bind(Hn))}const boe=1.33;function xoe(e){return typeof e=="string"?voe(e):Math.ceil((e.byteLength||e.size)*boe)}function voe(e){let r=0,a=0;for(let n=0,s=e.length;n<s;n++)r=e.charCodeAt(n),r<128?a+=1:r<2048?a+=2:r<55296||r>=57344?a+=3:(n++,a+=4);return a}function I$(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Eoe(e){let r="";for(let a in e)e.hasOwnProperty(a)&&(r.length&&(r+="&"),r+=encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return r}function woe(e){let r={},a=e.split("&");for(let n=0,s=a.length;n<s;n++){let i=a[n].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return r}class Noe extends Error{constructor(r,a,n){super(r),this.description=a,this.context=n,this.type="TransportError"}}class v2 extends da{constructor(r){super(),this.writable=!1,Og(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,a,n){return super.emitReserved("error",new Noe(r,a,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const a=x2(r,this.socket.binaryType);this.onPacket(a)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,a={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const a=Eoe(r);return a.length?"?"+a:""}}class Soe extends v2{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const a=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||a()})),this.writable||(n++,this.once("drain",function(){--n||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const a=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};uoe(r,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,doe(r,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=I$()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(r,a)}}let D$=!1;try{D$=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const koe=D$;function Coe(){}class Aoe extends Soe{constructor(r){if(super(r),typeof location<"u"){const a=location.protocol==="https:";let n=location.port;n||(n=a?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,a){const n=this.request({method:"POST",data:r});n.on("success",a),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(a,n)=>{this.onError("xhr poll error",a,n)}),this.pollXhr=r}}class Us extends da{constructor(r,a,n){super(),this.createRequest=r,Og(this,n),this._opts=n,this._method=n.method||"GET",this._uri=a,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const a=L$(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(a);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Us.requestsCount++,Us.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Coe,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Us.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Us.requestsCount=0;Us.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",gT);else if(typeof addEventListener=="function"){const e="onpagehide"in Hn?"pagehide":"unload";addEventListener(e,gT,!1)}}function gT(){for(let e in Us.requests)Us.requests.hasOwnProperty(e)&&Us.requests[e].abort()}const _oe=(function(){const e=F$({xdomain:!1});return e&&e.responseType!==null})();class Poe extends Aoe{constructor(r){super(r);const a=r&&r.forceBase64;this.supportsBinary=_oe&&!a}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Us(F$,this.uri(),r)}}function F$(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||koe))return new XMLHttpRequest}catch{}if(!r)try{return new Hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const z$=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Toe extends v2{get name(){return"websocket"}doOpen(){const r=this.uri(),a=this.opts.protocols,n=z$?{}:L$(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,a,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const n=r[a],s=a===r.length-1;b2(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Tg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=I$()),this.supportsBinary||(a.b64=1),this.createUri(r,a)}}const VE=Hn.WebSocket||Hn.MozWebSocket;class Ooe extends Toe{createSocket(r,a,n){return z$?new VE(r,a,n):a?new VE(r,a):new VE(r)}doWrite(r,a){this.ws.send(a)}}class Moe extends v2{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const a=foe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(a).getReader(),s=moe();s.readable.pipeTo(r.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:d,value:u})=>{d||(this.onPacket(u),i())}).catch(d=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let a=0;a<r.length;a++){const n=r[a],s=a===r.length-1;this._writer.write(n).then(()=>{s&&Tg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const joe={websocket:Ooe,webtransport:Moe,polling:Poe},Roe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$oe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function z1(e){if(e.length>8e3)throw"URI too long";const r=e,a=e.indexOf("["),n=e.indexOf("]");a!=-1&&n!=-1&&(e=e.substring(0,a)+e.substring(a,n).replace(/:/g,";")+e.substring(n,e.length));let s=Roe.exec(e||""),i={},o=14;for(;o--;)i[$oe[o]]=s[o]||"";return a!=-1&&n!=-1&&(i.source=r,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Loe(i,i.path),i.queryKey=Ioe(i,i.query),i}function Loe(e,r){const a=/\/{2,9}/g,n=r.replace(a,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ioe(e,r){const a={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(a[s]=i)}),a}const B1=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sp=[];B1&&addEventListener("offline",()=>{Sp.forEach(e=>e())},!1);class io extends da{constructor(r,a){if(super(),this.binaryType=goe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(a=r,r=null),r){const n=z1(r);a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)}else a.host&&(a.hostname=z1(a.host).host);Og(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=woe(this.opts.query)),B1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const a=Object.assign({},this.opts.query);a.EIO=$$,a.transport=r,this.id&&(a.sid=this.id);const n=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&io.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(r);a.open(),this.setTransport(a)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",io.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=r.data,this._onError(a);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(a+=xoe(s)),n>0&&a>this._maxPayload)return this.writeBuffer.slice(0,n);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Tg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,a,n){return this._sendPacket("message",r,a,n),this}send(r,a,n){return this._sendPacket("message",r,a,n),this}_sendPacket(r,a,n,s){if(typeof a=="function"&&(s=a,a=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:r,data:a,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),r()},n=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if(io.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),B1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Sp.indexOf(this._offlineEventListener);n!==-1&&Sp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,a),this.writeBuffer=[],this._prevBufferLen=0}}}io.protocol=$$;class Doe extends io{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let a=this.createTransport(r),n=!1;io.priorWebsocketSuccess=!1;const s=()=>{n||(a.send([{type:"ping",data:"probe"}]),a.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;io.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=a.name,this.emitReserved("upgradeError",y)}}))};function i(){n||(n=!0,p(),a.close(),a=null)}const o=f=>{const y=new Error("probe error: "+f);y.transport=a.name,i(),this.emitReserved("upgradeError",y)};function d(){o("transport closed")}function u(){o("socket closed")}function m(f){a&&f.name!==a.name&&i()}const p=()=>{a.removeListener("open",s),a.removeListener("error",o),a.removeListener("close",d),this.off("close",u),this.off("upgrading",m)};a.once("open",s),a.once("error",o),a.once("close",d),this.once("close",u),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||a.open()},200):a.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const a=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&a.push(r[n]);return a}}let Foe=class extends Doe{constructor(r,a={}){const n=typeof r=="object"?r:a;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>joe[s]).filter(s=>!!s)),super(r,n)}};function zoe(e,r="",a){let n=e;a=a||typeof location<"u"&&location,e==null&&(e=a.protocol+"//"+a.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=a.protocol+e:e=a.host+e),/^(https?|wss?):\/\//.test(e)||(typeof a<"u"?e=a.protocol+"//"+e:e="https://"+e),n=z1(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+r,n.href=n.protocol+"://"+i+(a&&a.port===n.port?"":":"+n.port),n}const Boe=typeof ArrayBuffer=="function",qoe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,B$=Object.prototype.toString,Uoe=typeof Blob=="function"||typeof Blob<"u"&&B$.call(Blob)==="[object BlobConstructor]",Voe=typeof File=="function"||typeof File<"u"&&B$.call(File)==="[object FileConstructor]";function E2(e){return Boe&&(e instanceof ArrayBuffer||qoe(e))||Uoe&&e instanceof Blob||Voe&&e instanceof File}function kp(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let a=0,n=e.length;a<n;a++)if(kp(e[a]))return!0;return!1}if(E2(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return kp(e.toJSON(),!0);for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&kp(e[a]))return!0;return!1}function Hoe(e){const r=[],a=e.data,n=e;return n.data=q1(a,r),n.attachments=r.length,{packet:n,buffers:r}}function q1(e,r){if(!e)return e;if(E2(e)){const a={_placeholder:!0,num:r.length};return r.push(e),a}else if(Array.isArray(e)){const a=new Array(e.length);for(let n=0;n<e.length;n++)a[n]=q1(e[n],r);return a}else if(typeof e=="object"&&!(e instanceof Date)){const a={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=q1(e[n],r));return a}return e}function Woe(e,r){return e.data=U1(e.data,r),delete e.attachments,e}function U1(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let a=0;a<e.length;a++)e[a]=U1(e[a],r);else if(typeof e=="object")for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(e[a]=U1(e[a],r));return e}const q$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Goe=5;var Ht;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ht||(Ht={}));class Koe{constructor(r){this.replacer=r}encode(r){return(r.type===Ht.EVENT||r.type===Ht.ACK)&&kp(r)?this.encodeAsBinary({type:r.type===Ht.EVENT?Ht.BINARY_EVENT:Ht.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let a=""+r.type;return(r.type===Ht.BINARY_EVENT||r.type===Ht.BINARY_ACK)&&(a+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(a+=r.nsp+","),r.id!=null&&(a+=r.id),r.data!=null&&(a+=JSON.stringify(r.data,this.replacer)),a}encodeAsBinary(r){const a=Hoe(r),n=this.encodeAsString(a.packet),s=a.buffers;return s.unshift(n),s}}class w2 extends da{constructor(r){super(),this.reviver=r}add(r){let a;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(r);const n=a.type===Ht.BINARY_EVENT;n||a.type===Ht.BINARY_ACK?(a.type=n?Ht.EVENT:Ht.ACK,this.reconstructor=new Xoe(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(E2(r)||r.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(r),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let a=0;const n={type:Number(r.charAt(0))};if(Ht[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ht.BINARY_EVENT||n.type===Ht.BINARY_ACK){const i=a+1;for(;r.charAt(++a)!=="-"&&a!=r.length;);const o=r.substring(i,a);if(o!=Number(o)||r.charAt(a)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(r.charAt(a+1)==="/"){const i=a+1;for(;++a&&!(r.charAt(a)===","||a===r.length););n.nsp=r.substring(i,a)}else n.nsp="/";const s=r.charAt(a+1);if(s!==""&&Number(s)==s){const i=a+1;for(;++a;){const o=r.charAt(a);if(o==null||Number(o)!=o){--a;break}if(a===r.length)break}n.id=Number(r.substring(i,a+1))}if(r.charAt(++a)){const i=this.tryParse(r.substr(a));if(w2.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,a){switch(r){case Ht.CONNECT:return D0(a);case Ht.DISCONNECT:return a===void 0;case Ht.CONNECT_ERROR:return typeof a=="string"||D0(a);case Ht.EVENT:case Ht.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&q$.indexOf(a[0])===-1);case Ht.ACK:case Ht.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Xoe{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const a=Woe(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Yoe(e){return typeof e=="string"}const Qoe=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Joe(e){return e===void 0||Qoe(e)}function D0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zoe(e,r){switch(e){case Ht.CONNECT:return r===void 0||D0(r);case Ht.DISCONNECT:return r===void 0;case Ht.EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&q$.indexOf(r[0])===-1);case Ht.ACK:return Array.isArray(r);case Ht.CONNECT_ERROR:return typeof r=="string"||D0(r);default:return!1}}function ele(e){return Yoe(e.nsp)&&Joe(e.id)&&Zoe(e.type,e.data)}const tle=Object.freeze(Object.defineProperty({__proto__:null,Decoder:w2,Encoder:Koe,get PacketType(){return Ht},isPacketValid:ele,protocol:Goe},Symbol.toStringTag,{value:"Module"}));function ps(e,r,a){return e.on(r,a),function(){e.off(r,a)}}const rle=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class U$ extends da{constructor(r,a,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=a,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[ps(r,"open",this.onopen.bind(this)),ps(r,"packet",this.onpacket.bind(this)),ps(r,"error",this.onerror.bind(this)),ps(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...a){var n,s,i;if(rle.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(a.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const o={type:Ht.EVENT,data:a};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const p=this.ids++,f=a.pop();this._registerAckCallback(p,f),o.id=p}const d=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!d||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(r,a){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[r]=a;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);a.call(this,new Error("operation has timed out"))},s),o=(...d)=>{this.io.clearTimeoutFn(i),a.apply(this,d)};o.withError=!0,this.acks[r]=o}emitWithAck(r,...a){return new Promise((n,s)=>{const i=(o,d)=>o?s(o):n(d);i.withError=!0,a.push(i),this.emit(r,...a)})}_addToQueue(r){let a;typeof r[r.length-1]=="function"&&(a=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((s,...i)=>(this._queue[0],s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(s)):(this._queue.shift(),a&&a(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!r||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ht.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ht.EVENT:case Ht.BINARY_EVENT:this.onevent(r);break;case Ht.ACK:case Ht.BINARY_ACK:this.onack(r);break;case Ht.DISCONNECT:this.ondisconnect();break;case Ht.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const a=r.data||[];r.id!=null&&a.push(this.ack(r.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const n of a)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const a=this;let n=!1;return function(...s){n||(n=!0,a.packet({type:Ht.ACK,id:r,data:s}))}}onack(r){const a=this.acks[r.id];typeof a=="function"&&(delete this.acks[r.id],a.withError&&r.data.unshift(null),a.apply(this,r.data))}onconnect(r,a){this.id=r,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const a=this._anyListeners;for(let n=0;n<a.length;n++)if(r===a[n])return a.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const a=this._anyOutgoingListeners;for(let n=0;n<a.length;n++)if(r===a[n])return a.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const n of a)n.apply(this,r.data)}}}function dd(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}dd.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),a=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-a:e+a}return Math.min(e,this.max)|0};dd.prototype.reset=function(){this.attempts=0};dd.prototype.setMin=function(e){this.ms=e};dd.prototype.setMax=function(e){this.max=e};dd.prototype.setJitter=function(e){this.jitter=e};class V1 extends da{constructor(r,a){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(a=r,r=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,Og(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((n=a.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new dd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=r;const s=a.parser||tle;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var a;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(a=this.backoff)===null||a===void 0||a.setMin(r),this)}randomizationFactor(r){var a;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(a=this.backoff)===null||a===void 0||a.setJitter(r),this)}reconnectionDelayMax(r){var a;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(a=this.backoff)===null||a===void 0||a.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Foe(this.uri,this.opts);const a=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=ps(a,"open",function(){n.onopen(),r&&r()}),i=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),r?r(d):this.maybeReconnectOnOpen()},o=ps(a,"error",i);if(this._timeout!==!1){const d=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),a.close()},d);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(ps(r,"ping",this.onping.bind(this)),ps(r,"data",this.ondata.bind(this)),ps(r,"error",this.onerror.bind(this)),ps(r,"close",this.onclose.bind(this)),ps(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(a){this.onclose("parse error",a)}}ondecoded(r){Tg(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,a){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new U$(this,r,a),this.nsps[r]=n),n}_destroy(r){const a=Object.keys(this.nsps);for(const n of a)if(this.nsps[n].active)return;this._close()}_packet(r){const a=this.encoder.encode(r);for(let n=0;n<a.length;n++)this.engine.write(a[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,a){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(s=>{s?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",s)):r.onreconnect()}))},a);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const lu={};function Cp(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const a=zoe(e,r.path||"/socket.io"),n=a.source,s=a.id,i=a.path,o=lu[s]&&i in lu[s].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||o;let u;return d?u=new V1(n,r):(lu[s]||(lu[s]=new V1(n,r)),u=lu[s]),a.query&&!r.query&&(r.query=a.queryKey),u.socket(a.path,r)}Object.assign(Cp,{Manager:V1,Socket:U$,io:Cp,connect:Cp});const ale=e=>{const r=new Date(e);return Number.isNaN(r.getTime())?"":r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},nle=e=>{const r=new Date(e),a=new Date,n=new Date(a);return n.setDate(n.getDate()-1),r.toDateString()===a.toDateString()?"Aujourd'hui":r.toDateString()===n.toDateString()?"Hier":r.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},HE={id:"welcome",from:"support",text:"Bonjour !  Bienvenue sur le support HDMarket. Comment pouvons-nous vous aider ?",createdAt:new Date().toISOString()},hT=768,yT=70,sle=22,ile=18,ole=56,lle=()=>{const{user:e}=h.useContext(fr),r=e?.token,[a,n]=h.useState(!1),[s,i]=h.useState([HE]),[o,d]=h.useState([]),[u,m]=h.useState(!1),[p,f]=h.useState(""),[y,b]=h.useState(!1),[E,w]=h.useState(0),[x,N]=h.useState(!1),S=h.useRef(null),k=h.useRef(null),P=h.useRef(null),C=h.useRef(null),_="https://hdmarket-backend.onrender.com/api".replace(/\/api$/,"");h.useEffect(()=>{if(!r){P.current&&(P.current.disconnect(),P.current=null),m(!1);return}const I=Cp(_,{auth:r?{token:r}:void 0,transports:["websocket"]});return P.current=I,I.on("message",B=>{if(B.from==="user"&&C.current&&B.text===C.current){C.current=null;return}i(G=>[...G,B]),!a&&B.from==="support"&&w(G=>G+1),b(!1)}),I.on("typing",()=>b(!0)),I.on("stopTyping",()=>b(!1)),I.on("connect",()=>m(!0)),I.on("disconnect",()=>m(!1)),I.on("connect_error",()=>m(!1)),()=>{I.disconnect(),P.current=null}},[r,_,a]),h.useEffect(()=>{if(!r){d([]);return}(async()=>{try{const{data:B}=await ie.get("/chat/templates");d(Array.isArray(B)?B:[])}catch(B){console.error("Templates load error:",B)}})()},[r]);const[O,T]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<hT),[R,D]=h.useState(!1);h.useEffect(()=>{if(typeof window>"u")return;const I=()=>{T(window.innerWidth<hT)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),h.useEffect(()=>{if(typeof window>"u")return;const I=B=>{const G=!!B?.detail?.visible;D(G)};return window.addEventListener("hdmarket:scroll-top-visibility",I),()=>window.removeEventListener("hdmarket:scroll-top-visibility",I)},[]),h.useEffect(()=>{if(!r){i([HE]);return}(async()=>{try{const{data:B}=await ie.get("/chat/history?limit=100");i(B.length?B:[HE])}catch(B){console.error("Chat history load error:",B)}})()},[r]),h.useEffect(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[s,a]),h.useEffect(()=>{a&&(w(0),k.current?.focus())},[a]);const j=()=>{if(!S.current)return;const{scrollTop:I,scrollHeight:B,clientHeight:G}=S.current;N(B-I-G>100)},L=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},K=I=>{if(!P.current||!I.trim())return;const B=I.trim();C.current=B,P.current.emit("sendMessage",{text:B});const G={id:`local-user-${Date.now()}`,from:"user",text:B,createdAt:new Date().toISOString(),status:"sent"};i(z=>[...z,G]),f("")},W=I=>{if(!P.current||!I?.question)return;const B=I.question.trim();C.current=B,P.current.emit("sendMessage",{text:B});const G={id:`local-response-${I._id}-${Date.now()}`,from:"support",text:I.response||"Le support vous rpondra bientt.",createdAt:new Date().toISOString()},z={id:`local-user-${I._id}-${Date.now()}`,from:"user",text:B,createdAt:new Date().toISOString(),status:"sent"};i(ae=>[...ae,z,G])},$=I=>{I.preventDefault(),K(p)},J=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),K(p))},Q=h.useMemo(()=>o.slice(0,4),[o]),X=R?yT+ile+ole:yT+sle,H=h.useMemo(()=>{const I=[];let B=null;return s.forEach(G=>{const z=new Date(G.createdAt).toDateString();z!==B&&(B=z,I.push({type:"date",date:G.createdAt})),I.push({type:"message",...G})}),I},[s]);return r?t.createElement("div",{className:"fixed right-4 z-50 flex flex-col items-end sm:right-6",style:{bottom:O?`calc(env(safe-area-inset-bottom, 0px) + ${X}px)`:"24px"}},a&&t.createElement("div",{className:"mb-3 w-[340px] max-w-[calc(100vw-2rem)] rounded-2xl border border-gray-200 bg-white shadow-2xl transition-all duration-300 dark:border-gray-700 dark:bg-gray-900"},t.createElement("div",{className:"relative overflow-hidden rounded-t-2xl bg-gradient-to-r from-indigo-600 via-indigo-500 to-purple-600 px-4 py-4"},t.createElement("div",{className:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-white/10 blur-2xl"}),t.createElement("div",{className:"absolute -left-6 -bottom-6 h-20 w-20 rounded-full bg-purple-400/20 blur-xl"}),t.createElement("div",{className:"relative flex items-start justify-between"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"relative"},t.createElement("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(wF,{className:"h-5 w-5 text-white"})),t.createElement("span",{className:`absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full border-2 border-indigo-600 ${u?"bg-emerald-400":"bg-gray-400"}`})),t.createElement("div",null,t.createElement("h3",{className:"font-semibold text-white"},"Support HDMarket"),t.createElement("div",{className:"flex items-center gap-1.5 text-xs text-white/80"},u?t.createElement(t.Fragment,null,t.createElement(Vz,{className:"h-3 w-3"}),t.createElement("span",null,"En ligne  Rponse rapide")):t.createElement(t.Fragment,null,t.createElement(JO,{className:"h-3 w-3"}),t.createElement("span",null,"Hors ligne"))))),t.createElement("button",{type:"button",onClick:()=>n(!1),className:"rounded-lg p-1.5 text-white/80 transition-colors hover:bg-white/20 hover:text-white","aria-label":"Fermer le chat"},t.createElement(_t,{className:"h-5 w-5"}))),t.createElement("div",{className:"relative mt-3 flex items-center gap-2 rounded-lg bg-white/10 px-3 py-1.5 backdrop-blur-sm"},t.createElement(An,{className:"h-3.5 w-3.5 text-emerald-300"}),t.createElement("span",{className:"text-xs text-white/90"},"Conversation scurise et chiffre"))),t.createElement("div",{ref:S,onScroll:j,className:"relative flex max-h-[320px] min-h-[200px] flex-col gap-1 overflow-y-auto bg-gradient-to-b from-gray-50 to-white p-4 dark:from-gray-800 dark:to-gray-900"},H.map((I,B)=>{if(I.type==="date")return t.createElement("div",{key:`date-${B}`,className:"my-3 flex items-center justify-center"},t.createElement("div",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-500 dark:bg-gray-700 dark:text-gray-400"},nle(I.date)));const G=I.from==="user";return t.createElement("div",{key:I.id,className:`flex ${G?"justify-end":"justify-start"} mb-1`},t.createElement("div",{className:`group relative max-w-[85%] rounded-2xl px-3.5 py-2 ${G?"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white":"bg-white text-gray-800 shadow-sm ring-1 ring-gray-100 dark:bg-gray-800 dark:text-gray-200 dark:ring-gray-700"}`},!G&&t.createElement("div",{className:"mb-1 flex items-center gap-1.5"},t.createElement($r,{className:"h-3 w-3 text-indigo-500"}),t.createElement("span",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400"},"Support")),t.createElement("p",{className:"text-sm leading-relaxed whitespace-pre-wrap"},I.text),t.createElement("div",{className:`mt-1 flex items-center gap-1.5 text-[10px] ${G?"justify-end text-indigo-200":"text-gray-400"}`},t.createElement("span",null,ale(I.createdAt)),G&&t.createElement("span",null,I.status==="read"?t.createElement(VO,{className:"h-3 w-3 text-emerald-300"}):t.createElement(Ko,{className:"h-3 w-3"})))))}),y&&t.createElement("div",{className:"flex justify-start mb-1"},t.createElement("div",{className:"flex items-center gap-1.5 rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-100 dark:bg-gray-800 dark:ring-gray-700"},t.createElement("div",{className:"flex gap-1"},t.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0ms"}}),t.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"150ms"}}),t.createElement("span",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"300ms"}})),t.createElement("span",{className:"ml-1 text-xs text-gray-500"},"Support crit..."))),x&&t.createElement("button",{type:"button",onClick:L,className:"sticky bottom-2 left-1/2 -translate-x-1/2 rounded-full bg-white p-2 shadow-lg ring-1 ring-gray-200 transition-all hover:bg-gray-50 dark:bg-gray-800 dark:ring-gray-700"},t.createElement(hs,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}))),Q.length>0&&t.createElement("div",{className:"border-t border-gray-100 bg-gray-50/50 px-3 py-2 dark:border-gray-700 dark:bg-gray-800/50"},t.createElement("p",{className:"mb-2 flex items-center gap-1.5 text-xs font-medium text-gray-500 dark:text-gray-400"},t.createElement(en,{className:"h-3 w-3"}),"Rponses rapides"),t.createElement("div",{className:"flex flex-wrap gap-1.5"},Q.map(I=>t.createElement("button",{key:I._id,type:"button",onClick:()=>W(I),className:"rounded-full border border-indigo-200 bg-white px-3 py-1.5 text-xs font-medium text-indigo-600 transition-all hover:border-indigo-300 hover:bg-indigo-50 dark:border-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300 dark:hover:bg-indigo-900/50"},I.question)))),t.createElement("form",{onSubmit:$,className:"border-t border-gray-100 p-3 dark:border-gray-700"},t.createElement("div",{className:"flex items-end gap-2"},t.createElement("div",{className:"relative flex-1"},t.createElement("input",{ref:k,type:"text",value:p,onChange:I=>f(I.target.value),onKeyDown:J,placeholder:"crivez votre message...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 pr-10 text-sm text-gray-800 placeholder-gray-400 transition-all focus:border-indigo-300 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:border-indigo-500 dark:focus:ring-indigo-900/50",disabled:!u})),t.createElement("button",{type:"submit",disabled:!p.trim()||!u,className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-r from-indigo-500 to-indigo-600 text-white shadow-md shadow-indigo-500/30 transition-all hover:from-indigo-600 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-400 disabled:shadow-none dark:disabled:from-gray-600 dark:disabled:to-gray-700"},t.createElement(J0,{className:"h-4 w-4"}))),t.createElement("p",{className:"mt-2 flex items-center justify-center gap-1.5 text-[10px] text-gray-400 dark:text-gray-500"},t.createElement($r,{className:"h-3 w-3"}),"Messages protgs par chiffrement de bout en bout"))),t.createElement("button",{type:"button",onClick:()=>n(I=>!I),className:"group relative flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 px-5 py-3 text-white shadow-lg shadow-indigo-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/40"},E>0&&t.createElement("span",{className:"absolute -right-1 -top-1 flex h-5 w-5"},t.createElement("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-red-400 opacity-75"}),t.createElement("span",{className:"relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold"},E>9?"9+":E)),t.createElement(pr,{className:`h-5 w-5 transition-transform duration-300 ${a?"rotate-12":"group-hover:scale-110"}`}),t.createElement("span",{className:"font-medium"},a?"Fermer":"Support"),t.createElement("span",{className:`flex h-2.5 w-2.5 rounded-full ${u?"bg-emerald-400":"bg-gray-400"}`},u&&t.createElement("span",{className:"animate-ping absolute inline-flex h-2.5 w-2.5 rounded-full bg-emerald-400 opacity-75"})))):null},bT=768,cle=120,dle=["/","/products","/notifications","/suggestions"],ule=70,mle=18;function fle(){const e=hn(),[r,a]=h.useState(()=>typeof window>"u"?!1:window.innerWidth<bT),[n,s]=h.useState(!1),i=h.useMemo(()=>dle.includes(e.pathname),[e.pathname]);return h.useEffect(()=>{if(typeof window>"u")return;const o=()=>{a(window.innerWidth<bT)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),h.useEffect(()=>{if(!i||!r||typeof window>"u"){s(!1);return}const o=()=>{const d=window.scrollY||window.pageYOffset,u=window.innerHeight,m=document.documentElement?.scrollHeight||document.body?.scrollHeight||0,p=d+u>=m-cle;s(p)};return o(),window.addEventListener("scroll",o,{passive:!0}),()=>window.removeEventListener("scroll",o)},[i,r]),h.useEffect(()=>{if(typeof window>"u")return;const o=new CustomEvent("hdmarket:scroll-top-visibility",{detail:{visible:n}});window.dispatchEvent(o)},[n]),n?t.createElement("button",{type:"button",onClick:()=>{typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Remonter en haut",style:{bottom:`calc(env(safe-area-inset-bottom, 0px) + ${ule+mle}px)`},className:"fixed right-4 z-40 inline-flex h-12 w-12 items-center justify-center rounded-full bg-indigo-600/95 text-white shadow-xl shadow-indigo-500/40 transition hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-indigo-500"},t.createElement(P9,{className:"h-5 w-5"})):null}function ple(){const[e,r]=h.useState([]),[a,n]=h.useState(""),[s,i]=h.useState(""),[o,d]=h.useState(!1),[u,m]=h.useState(!1),[p,f]=h.useState(""),[y,b]=h.useState(null),[E,w]=h.useState(""),[x,N]=h.useState(""),S=async()=>{d(!0);try{const{data:O}=await ie.get("/chat/templates");r(Array.isArray(O)?O:[])}catch(O){console.error("Templates load error:",O),f("Impossible de charger les modles.")}finally{d(!1)}};h.useEffect(()=>{S()},[]);const k=async O=>{if(O.preventDefault(),!a.trim()||!s.trim()){f("Question et rponse requises.");return}m(!0);try{await ie.post("/admin/chat/templates",{question:a.trim(),response:s.trim()}),n(""),i(""),f(""),await S()}catch(T){console.error("Template save error:",T),f(T.response?.data?.message||"Impossible de crer le modle.")}finally{m(!1)}},P=O=>{b(O._id),w(O.question),N(O.response),f("")},C=async O=>{if(O.preventDefault(),!E.trim()||!x.trim()){f("Question et rponse requises.");return}m(!0);try{await ie.patch(`/chat/templates/${y}`,{question:E.trim(),response:x.trim()}),b(null),w(""),N(""),await S()}catch(T){console.error("Template edit error:",T),f(T.response?.data?.message||"Impossible de mettre  jour.")}finally{m(!1)}},_=async O=>{try{await ie.delete(`/chat/templates/${O}`),await S()}catch(T){console.error("Template delete error:",T),f("Impossible de supprimer le modle.")}};return t.createElement("div",{className:"mx-auto max-w-4xl space-y-6 px-4"},t.createElement("header",{className:"space-y-3 rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50 flex items-center gap-2"},t.createElement(ra,{className:"h-6 w-6 text-indigo-600"}),"Gestion des modles de chat"),t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ajoutez des questions et rponses standards pour guider le support en conversation.")),t.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("form",{className:"space-y-4",onSubmit:k},t.createElement("div",null,t.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),t.createElement("input",{value:a,onChange:O=>n(O.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Exemple : Quels sont vos dlais de livraison ?"})),t.createElement("div",null,t.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),t.createElement("textarea",{rows:3,value:s,onChange:O=>i(O.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800",placeholder:"Rponse par dfaut du support."})),p&&t.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},p),t.createElement("button",{type:"submit",disabled:u,className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60"},u?"Enregistrement...":"Crer le modle"))),y&&t.createElement("section",{className:"rounded-2xl border border-yellow-200 bg-yellow-50 p-5 shadow-sm dark:border-yellow-700 dark:bg-yellow-900/80"},t.createElement("h3",{className:"text-base font-semibold text-yellow-800 dark:text-yellow-200"},"Modifier le modle"),t.createElement("form",{className:"mt-3 space-y-3",onSubmit:C},t.createElement("div",null,t.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Question"),t.createElement("input",{value:E,onChange:O=>w(O.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),t.createElement("div",null,t.createElement("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},"Rponse"),t.createElement("textarea",{rows:3,value:x,onChange:O=>N(O.target.value),className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{className:"inline-flex items-center justify-center rounded-2xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60",disabled:u,type:"submit"},u?"Sauvegarde...":"Sauvegarder"),t.createElement("button",{type:"button",onClick:()=>{b(null),w(""),N(""),f("")},className:"inline-flex items-center justify-center rounded-2xl border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:border-gray-400 dark:border-gray-600 dark:text-gray-200"},"Annuler")))),t.createElement("section",{className:"rounded-2xl border border-gray-200 bg-white/80 p-6 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50"},"Modles existants"),o?t.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Chargement..."):e.length?t.createElement("div",{className:"mt-4 space-y-3"},e.map(O=>t.createElement("div",{key:O._id,className:"rounded-2xl border border-gray-100 p-4 text-sm text-gray-800 dark:border-gray-700 dark:text-gray-100"},t.createElement("p",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2"},t.createElement(ra,{className:"h-4 w-4 text-indigo-500"}),O.question),t.createElement("p",{className:"mt-2 text-gray-600 dark:text-gray-300"},O.response),t.createElement("div",{className:"mt-3 flex gap-2"},t.createElement("button",{type:"button",onClick:()=>P(O),className:"rounded-full border border-indigo-200 px-3 py-1 text-xs text-indigo-600 hover:bg-indigo-50 dark:border-gray-700 dark:text-indigo-200"},"diter"),t.createElement("button",{type:"button",onClick:()=>_(O._id),className:"rounded-full border border-red-200 px-3 py-1 text-xs text-red-600 hover:bg-red-50 dark:border-gray-700 dark:text-red-400"},"Supprimer"))))):t.createElement("p",{className:"mt-4 text-sm text-gray-500"},"Aucun modle renseign pour le moment.")))}const gle=12;function hle(){const[e,r]=h.useState([]),[a,n]=h.useState([]),[s,i]=h.useState(!1),[o,d]=h.useState(!1),[u,m]=h.useState(""),[p,f]=h.useState(""),[y,b]=h.useState(1),[E,w]=h.useState(1),[x,N]=h.useState(1),[S,k]=h.useState(1),[P,C]=h.useState(null),[_,O]=h.useState(""),T=$=>{O($.target.value),b(1),w(1)},R=h.useCallback(async({boostedFilter:$,pageNumber:J,searchQuery:Q,setItems:X,setTotalPages:H,setLoading:I,setError:B})=>{I(!0),B("");try{const{data:G}=await ie.get("/admin/products/boosts",{params:{q:Q,page:J,limit:gle,boosted:$}});X(Array.isArray(G?.items)?G.items:[]),H(G?.pagination?.pages||1)}catch(G){console.error("Boosts load error",G),X([]),H(1),B($?"Impossible de charger les produits boosts.":"Impossible de charger les produits  booster.")}finally{I(!1)}},[]);h.useEffect(()=>{R({boostedFilter:!0,pageNumber:y,searchQuery:_,setItems:r,setTotalPages:N,setLoading:i,setError:m})},[_,y,R]),h.useEffect(()=>{R({boostedFilter:!1,pageNumber:E,searchQuery:_,setItems:n,setTotalPages:k,setLoading:d,setError:f})},[_,E,R]);const D=async $=>{C($);try{await ie.patch(`/admin/products/${$}/boost`),await Promise.all([R({boostedFilter:!0,pageNumber:y,searchQuery:_,setItems:r,setTotalPages:N,setLoading:i,setError:m}),R({boostedFilter:!1,pageNumber:E,searchQuery:_,setItems:n,setTotalPages:k,setLoading:d,setError:f})])}catch(J){console.error("Toggle boost error",J);const Q="Impossible de modifier le boost.";m(Q),f(Q)}finally{C(null)}},j=($,J,Q,X)=>Q<=1?null:Array.from({length:Q},(H,I)=>t.createElement("button",{key:`${$}-${I+1}`,type:"button",onClick:()=>X(I+1),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${J===I+1?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200"}`},I+1)),L=$=>{const J=$.images?.[0]||$.image||"https://via.placeholder.com/400x400?text=HDMarket",Q=$.description?`${$.description.slice(0,120)}...`:"Aucune description disponible.",X=Number($.price),H=Number.isFinite(X)?X.toLocaleString("fr-FR"):"-",I=$.createdAt?new Date($.createdAt).toLocaleDateString("fr-FR"):"-";return t.createElement("article",{key:$._id,className:"rounded-2xl border border-gray-100 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("div",{className:"mb-4 h-40 overflow-hidden rounded-2xl bg-gray-100"},t.createElement("img",{src:J,alt:$.title,className:"h-full w-full object-cover",loading:"lazy"})),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},$.category),t.createElement("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white"},$.title)),t.createElement("div",{className:"text-right text-xs text-gray-500"},t.createElement("p",{className:"text-gray-900 dark:text-gray-100 font-bold"},H," FCFA"),t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},I))),t.createElement("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300"},Q),t.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},t.createElement("span",null,"Boost : ",$.boosted?"Oui":"Non"),t.createElement("button",{onClick:()=>D($._id),disabled:P===$._id,className:"rounded-full bg-indigo-600 px-4 py-1 text-white transition hover:bg-indigo-500 disabled:opacity-60"},$.boosted?"Retirer boost":"Booster")))},K=j("boosted",y,x,b),W=j("non-boosted",E,S,w);return t.createElement("div",{className:"max-w-6xl mx-auto space-y-6 px-4 py-6"},t.createElement("header",{className:"flex items-center gap-3 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement(ra,{className:"h-6 w-6 text-indigo-600"}),t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"},"Promotion"),t.createElement("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white"},"Boosts produits"))),t.createElement("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(zr,{className:"h-4 w-4 text-gray-500"}),t.createElement("input",{value:_,onChange:T,placeholder:"Recherche par titre ou catgorie...",className:"w-full rounded-2xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800"})),t.createElement("p",{className:"text-xs text-gray-500"},"Affiche les produits valids avec tri par boost.")),t.createElement("section",{className:"space-y-8"},t.createElement("div",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"},"Boost"),t.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Produits boosts")),t.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Page ",y,"/",x)),u&&t.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},u),t.createElement("div",{className:"grid gap-4 lg:grid-cols-2"},s?t.createElement("div",{className:"col-span-full rounded-2xl border border-dashed border-gray-300 bg-white/60 p-6 text-center text-sm text-gray-500 dark:border-gray-700"},"Chargement des produits boosts..."):e.length?e.map($=>L($)):t.createElement("div",{className:"col-span-full rounded-2xl border border-gray-100 bg-white/80 p-6 text-sm text-gray-500 dark:border-gray-800 dark:bg-gray-900/80"},"Aucun produit boost pour le moment.")),K&&t.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4"},K)),t.createElement("div",{className:"space-y-5 rounded-2xl border border-gray-200 bg-white/80 p-5 shadow-sm dark:border-gray-800 dark:bg-gray-900/80"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400"}," booster"),t.createElement("h2",{className:"text-xl font-bold text-gray-900 dark:text-white"},"Produits non boosts")),t.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Page ",E,"/",S)),p&&t.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},p),t.createElement("div",{className:"grid gap-4 lg:grid-cols-2"},o?t.createElement("div",{className:"col-span-full rounded-2xl border border-dashed border-gray-300 bg-white/60 p-6 text-center text-sm text-gray-500 dark:border-gray-700"},"Chargement des produits  booster..."):a.length?a.map($=>L($)):t.createElement("div",{className:"col-span-full rounded-2xl border border-gray-100 bg-white/80 p-6 text-sm text-gray-500 dark:border-gray-800 dark:bg-gray-900/80"},"Aucun produit disponible pour le moment.")),W&&t.createElement("div",{className:"flex flex-wrap justify-center gap-2 pt-4"},W))))}const xT={pending:"En attente",approved:"Valide",rejected:"Rejete",disabled:"Dsactive"},yle={pending:"bg-yellow-100 text-yellow-800",approved:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800",disabled:"bg-gray-100 text-gray-600"},ble=[{value:"recent",label:"Plus rcents"},{value:"price_asc",label:"Prix croissants"},{value:"price_desc",label:"Prix dcroissants"},{value:"discount",label:"Meilleure remise"}],xle=20,WE=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,vT=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}):"",cp=({title:e,value:r,helper:a,icon:n,highlight:s,trend:i})=>{const o=s?"from-indigo-500 to-purple-600":"from-gray-400 to-gray-500";return t.createElement("div",{className:`group relative overflow-hidden rounded-2xl border transition-all duration-300 ${s?"border-indigo-200/60 bg-gradient-to-br from-indigo-50/50 via-white to-purple-50/30 shadow-md hover:shadow-lg":"border-gray-200/60 bg-gradient-to-br from-white to-gray-50/50 shadow-sm hover:shadow-md hover:border-indigo-200/40"}`},t.createElement("div",{className:"p-5"},t.createElement("div",{className:"flex items-start justify-between mb-3"},t.createElement("div",{className:"flex-1"},t.createElement("p",{className:`text-xs font-semibold uppercase tracking-wider mb-1 ${s?"text-indigo-700":"text-gray-600"}`},e),t.createElement("p",{className:`text-3xl font-bold mb-1 ${s?"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent":"text-gray-900"}`},r),a&&t.createElement("p",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-1"},i&&t.createElement(rr,{size:12,className:i>0?"text-green-500":"text-red-500"}),a)),n&&t.createElement("div",{className:`ml-3 flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${o} text-white shadow-sm transition-transform duration-300 group-hover:scale-110 group-hover:shadow-md`},t.createElement(n,{size:22,strokeWidth:2.5})))),s&&t.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/0 via-purple-500/0 to-pink-500/0 transition-opacity duration-300 group-hover:from-indigo-500/5 group-hover:via-purple-500/5 group-hover:to-pink-500/5"}))},vle=Vs.flatMap(e=>e.options.map(r=>({value:r.value,label:`${e.label}  ${r.label}`})));function Ele(){const{user:e}=h.useContext(fr),r=e?.role==="admin",[a,n]=h.useState([]),[s,i]=h.useState(null),[o,d]=h.useState(!1),[u,m]=h.useState(""),[p,f]=h.useState(1),[y,b]=h.useState(1),[E,w]=h.useState(0),[x,N]=h.useState(""),[S,k]=h.useState(""),[P,C]=h.useState(""),[_,O]=h.useState(""),[T,R]=h.useState("recent"),[D,j]=h.useState(null),[L,K]=h.useState(""),[W,$]=h.useState(""),[J,Q]=h.useState(!1),X=h.useCallback(async()=>{d(!0),m("");try{const z={page:p,limit:xle,sort:T};x&&(z.status=x),S&&(z.category=S),P&&(z.certified=P),_&&(z.search=_.trim());const{data:ae}=await ie.get("/admin/products",{params:z});n(Array.isArray(ae?.items)?ae.items:[]),b(ae?.pagination?.pages||1),w(ae?.pagination?.total||0),i(ae?.stats||null)}catch(z){console.error("Erreur chargement produits admin",z),m(z?.response?.data?.message||z.message||"Impossible de charger les produits.")}finally{d(!1)}},[p,x,S,P,_,T]);h.useEffect(()=>{const z=setTimeout(()=>{X()},250);return()=>clearTimeout(z)},[X]);const H=()=>{N(""),k(""),C(""),O(""),R("recent"),f(1)},I=async()=>{if(!(!D||J)){K(""),$(""),Q(!0);try{const z=!D.certified,{data:ae}=await ie.patch(`/admin/products/${D._id}/certify`,{certified:z}),he={...D,certified:ae.certified,certifiedBy:ae.certifiedBy,certifiedAt:ae.certifiedAt};j(he),n(ve=>ve.map(_e=>_e._id===he._id?{..._e,...he}:_e)),i(ve=>{if(!ve)return ve;const _e=ae.certified?1:-1,ee=-_e;return{...ve,certifiedCount:Math.max(0,(ve.certifiedCount||0)+_e),uncertifiedCount:Math.max(0,(ve.uncertifiedCount||0)+ee)}}),K(ae.certified?"Produit certifi.":"Certification retire.")}catch(z){console.error("Erreur certification",z),$(z?.response?.data?.message||"Une erreur est survenue.")}finally{Q(!1)}}},B=h.useMemo(()=>{if(!s)return[];const z=ae=>s.statusCounts?.[ae]||0;return[{title:"En attente",value:z("pending")},{title:"Valides",value:z("approved")},{title:"Rejetes",value:z("rejected")},{title:"Dsactives",value:z("disabled")}]},[s]),G=s?.topCategories||[];return t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},t.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},t.createElement(wt,{size:24,className:"text-white",strokeWidth:2.5})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},"Gestion des produits"),t.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Visualisez les annonces, filtrez-les et certifiez celles qui respectent la charte HDMarket.")))),t.createElement("div",{className:"flex flex-wrap gap-3"},t.createElement(be,{to:"/admin",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},t.createElement(Cr,{size:16}),"Retour au tableau"),t.createElement("button",{type:"button",onClick:X,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2.5 text-sm font-semibold text-indigo-700 transition-all duration-200 hover:bg-indigo-100 hover:border-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},t.createElement(Sc,{size:16,className:"transition-transform duration-300 hover:rotate-180"}),"Actualiser"))),t.createElement("section",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},t.createElement(cp,{title:"Produits total",value:E,helper:`${y} page(s)`,icon:wt}),t.createElement(cp,{title:"Produits certifis",value:s?.certifiedCount??0,helper:`${s?.uncertifiedCount??0} non certifis`,icon:Ca,highlight:!0}),t.createElement(cp,{title:"Certifications en attente",value:B[0]?.value||0,helper:"Suivre les validations",icon:It}),t.createElement(cp,{title:"Produits dsactivs",value:B[3]?.value||0,helper:"Vrifier les suspensions",icon:br})),t.createElement("section",{className:"rounded-2xl border border-gray-200/60 bg-gradient-to-br from-white to-indigo-50/20 p-6 shadow-sm"},t.createElement("div",{className:"flex flex-col gap-4"},t.createElement("div",{className:"flex items-center justify-between gap-3"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100"},t.createElement(ws,{size:20,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Filtres rapides"),t.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},"Recherchez et filtrez les produits"))),t.createElement("button",{type:"button",onClick:H,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2 text-xs font-semibold text-gray-600 shadow-sm transition-all duration-200 hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700"},t.createElement(_t,{size:14}),"Rinitialiser")),t.createElement("div",{className:"flex flex-col gap-4"},t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.createElement("input",{value:_,onChange:z=>{O(z.target.value),f(1)},placeholder:"Rechercher par titre ou description...",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 pl-11 text-sm shadow-sm transition-all duration-200 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-100"})),t.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-5"},t.createElement("select",{value:x,onChange:z=>{N(z.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},t.createElement("option",{value:""},"Tous les statuts"),t.createElement("option",{value:"pending"},"En attente"),t.createElement("option",{value:"approved"},"Valids"),t.createElement("option",{value:"rejected"},"Rejets"),t.createElement("option",{value:"disabled"},"Dsactivs")),t.createElement("select",{value:P,onChange:z=>{C(z.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},t.createElement("option",{value:""},"Tous les produits"),t.createElement("option",{value:"true"},"Certifis"),t.createElement("option",{value:"false"},"Non certifis")),t.createElement("select",{value:S,onChange:z=>{k(z.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},t.createElement("option",{value:""},"Toutes les catgories"),vle.map(z=>t.createElement("option",{key:z.value,value:z.value},z.label))),t.createElement("select",{value:T,onChange:z=>{R(z.target.value),f(1)},className:"rounded-2xl border border-gray-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"},ble.map(z=>t.createElement("option",{key:z.value,value:z.value},z.label))))))),t.createElement("section",{className:"space-y-4"},u&&t.createElement("p",{className:"text-sm text-red-600"},u),o?t.createElement("div",{className:"space-y-3"},Array.from({length:3}).map((z,ae)=>t.createElement("div",{key:ae,className:"animate-pulse rounded-2xl border border-gray-100 bg-white px-4 py-5"},t.createElement("div",{className:"h-4 w-2/5 bg-gray-200 mb-3 rounded"}),t.createElement("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2"},t.createElement("div",{className:"h-8 bg-gray-200 rounded"}),t.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):a.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-1 gap-4"},a.map(z=>t.createElement("article",{key:z._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},t.createElement("div",{className:"flex items-start gap-3"},t.createElement("div",{className:"h-20 w-20 rounded-2xl bg-gray-100 overflow-hidden"},t.createElement("img",{src:z.images?.[0]||"/api/placeholder/120/120",alt:z.title,className:"h-full w-full object-cover",loading:"lazy"})),t.createElement("div",null,t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},z.category||""),t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},z.title),t.createElement("p",{className:"text-xs text-gray-500"},z.user?.shopName||z.user?.name||"Vendeur indisponible"))),t.createElement("div",{className:"flex items-center gap-3 text-right"},t.createElement("div",null,t.createElement("p",{className:"text-sm text-gray-500"},"Prix"),t.createElement("p",{className:"text-lg font-semibold text-gray-900"},WE(z.price))),t.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${yle[z.status]||"bg-gray-100 text-gray-600"}`},xT[z.status]||z.status))),t.createElement("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-gray-500"},z.certified?t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-1 text-emerald-600"},t.createElement(Ca,{className:"w-4 h-4"}),"Certifi"):t.createElement("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-3 py-1 text-gray-600"},t.createElement($r,{className:"w-4 h-4"}),"Non certifi"),t.createElement("button",{type:"button",onClick:()=>{j(z),K(""),$("")},className:"inline-flex items-center gap-2 text-xs font-semibold text-indigo-600 hover:text-indigo-500"},"Dtails",t.createElement(Rr,{className:"w-3 h-3"})))))),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},t.createElement("span",null,"Page ",p," / ",y,"  ",E," annonce",E>1?"s":""),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>f(z=>Math.max(1,z-1)),disabled:p<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>f(z=>Math.min(y,z+1)),disabled:p>=y,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):t.createElement("p",{className:"rounded-2xl border border-dashed border-gray-300 bg-white p-6 text-center text-sm text-gray-500"},"Aucun produit ne correspond aux filtres actuels.")),G.length>0&&t.createElement("section",{className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between mb-3 text-xs uppercase tracking-wide text-gray-500"},t.createElement("span",null,"Catgories les plus populaires"),t.createElement(Ra,{className:"h-4 w-4 text-indigo-500"})),t.createElement("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4"},G.map(z=>t.createElement("div",{key:z.category,className:"rounded-2xl border border-gray-100 p-3 text-xs font-semibold text-gray-700"},t.createElement("p",{className:"text-sm text-gray-900"},z.category),t.createElement("p",{className:"text-xs text-gray-500"},z.count," annonces")))))),D&&t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/40 p-4",onClick:()=>{j(null),K(""),$("")}},t.createElement("div",{className:"w-full max-w-4xl rounded-2xl bg-white p-6 shadow-2xl",onClick:z=>z.stopPropagation()},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-500"},"Dtail produit"),t.createElement("h2",{className:"text-lg font-bold text-gray-900"},D.title)),t.createElement("button",{type:"button",onClick:()=>{j(null),K(""),$("")},className:"text-xs font-semibold uppercase tracking-wide text-gray-500 transition hover:text-gray-900"},"Fermer ",t.createElement(_t,{className:"inline-block h-4 w-4"}))),t.createElement("div",{className:"mt-4 grid gap-4 lg:grid-cols-[1fr,1fr]"},t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"grid grid-cols-3 gap-2"},(D.images||[]).slice(0,3).map((z,ae)=>t.createElement("img",{key:`modal-img-${ae}`,src:z,alt:`${D.title} ${ae+1}`,className:"h-24 w-full rounded-2xl object-cover border border-gray-200"})),!D.images?.length&&t.createElement("div",{className:"col-span-3 h-24 rounded-2xl border border-gray-200 bg-gray-100"})),t.createElement("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500"},D.category),t.createElement("p",{className:"text-sm text-gray-600"},D.description)),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between text-xs text-gray-500"},t.createElement("span",null,"Prix"),t.createElement("span",{className:"text-gray-900 font-semibold"},WE(D.price))),t.createElement("div",{className:"flex items-center justify-between"},t.createElement("span",{className:"rounded-full px-3 py-1 text-xs font-semibold"},xT[D.status]||D.status),t.createElement("span",{className:"text-xs text-gray-500"},"Cr le ",vT(D.createdAt))),t.createElement("div",{className:"border-t border-gray-100 pt-3 space-y-2 text-xs text-gray-500"},t.createElement("p",null,"Vendeur: ",D.user?.shopName||D.user?.name||""),t.createElement("p",null,"Email: ",D.user?.email||""),t.createElement("p",null,"Tlphone: ",D.user?.phone||"")),t.createElement("div",{className:"border-t border-gray-100 pt-3"},D.certified?t.createElement("div",{className:"text-xs text-emerald-700"},t.createElement("span",{className:"flex items-center gap-2 text-emerald-600"},t.createElement(Ca,{className:"w-4 h-4"}),"Produit certifi"),D.certifiedBy?t.createElement("p",null,"Valid par ",D.certifiedBy.name||"Admin"," (",D.certifiedBy.email||"",")"):null,D.certifiedAt?t.createElement("p",null,"Le ",vT(D.certifiedAt)):null):t.createElement("div",{className:"text-xs text-gray-500"},t.createElement("span",{className:"flex items-center gap-2"},t.createElement($r,{className:"w-4 h-4"}),"Produit non certifi"))),r&&t.createElement("div",{className:"space-y-2"},t.createElement("button",{type:"button",onClick:I,disabled:J,className:"w-full rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white hover:bg-indigo-500 disabled:opacity-60"},D.certified?"Retirer la certification":"Certifier ce produit"),(L||W)&&t.createElement("p",{className:`text-xs ${W?"text-red-600":"text-green-600"}`},W||L)),D.payment&&t.createElement("div",{className:"border-t border-gray-100 pt-3 text-xs text-gray-500 space-y-1"},t.createElement("p",{className:"font-semibold text-gray-900 text-sm"},"Paiement"),t.createElement("p",null,"Status: ",D.payment.status),t.createElement("p",null,"Montant: ",WE(D.payment.amount)),t.createElement("p",null,"Oprateur: ",D.payment.operator)))))))}const ET=[{key:"all",label:"Tous"},{key:"unread",label:"Non lus"},{key:"read",label:"Lus"}],wT=12,cu=e=>e?new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";function wle(){const{user:e}=h.useContext(fr),r=e?.role==="admin",[a,n]=h.useState([]),[s,i]=h.useState("unread"),[o,d]=h.useState(""),[u,m]=h.useState(""),[p,f]=h.useState(1),[y,b]=h.useState({total:0,totalPages:1}),[E,w]=h.useState(!1),[x,N]=h.useState(""),[S,k]=h.useState(""),[P,C]=h.useState(!1),[_,O]=h.useState(""),[T,R]=h.useState([]),[D,j]=h.useState(!1),[L,K]=h.useState(!1),[W,$]=h.useState(""),[J,Q]=h.useState(!1),[X,H]=h.useState([]),I=h.useCallback(async()=>{w(!0),N("");try{const ee=new URLSearchParams;ee.set("page",p),ee.set("limit",wT),s!=="all"&&ee.set("status",s),u&&ee.set("search",u);const{data:le}=await ie.get(`/admin/feedback?${ee.toString()}`),pe=Array.isArray(le?.items)?le.items:[];n(pe),b({total:le?.total??pe.length,totalPages:le?.totalPages??1})}catch(ee){N(ee.response?.data?.message||ee.message||"Impossible de charger les avis."),n([]),b({total:0,totalPages:1})}finally{w(!1)}},[p,u,s]);h.useEffect(()=>{I()},[I]),h.useEffect(()=>{const ee=setTimeout(()=>{m(o.trim())},300);return()=>clearTimeout(ee)},[o]),h.useEffect(()=>{f(1)},[s,u]);const B=h.useCallback(async ee=>{if(ee){k(ee);try{const{data:le}=await ie.patch(`/admin/feedback/${ee}/read`),pe=le?.feedback;pe&&(n(Ne=>Ne.map(oe=>oe._id===pe._id?pe:oe)),window.dispatchEvent(new CustomEvent("hdmarket:admin-counts-refresh")),s==="unread"&&(n(Ne=>Ne.filter(oe=>oe._id!==pe._id)),b(Ne=>({...Ne,total:Math.max(0,(Ne.total||0)-1),totalPages:Math.max(1,Math.ceil(Math.max(0,(Ne.total||0)-1)/wT))}))))}catch(le){N(le.response?.data?.message||"Impossible de marquer comme lu.")}finally{k("")}}},[s]),G=async()=>{C(!0);try{const ee=(await tl(async()=>{const{default:$e}=await import("./jspdf.es.min-BG99aWEl.js").then(De=>De.j);return{default:$e}},[])).default,le=(await tl(async()=>{const{default:$e}=await import("./jspdf.plugin.autotable-CBbcTuFj.js");return{default:$e}},[])).default,pe=new URLSearchParams;s!=="all"&&pe.set("status",s),u&&pe.set("search",u);const{data:Ne}=await ie.get(`/admin/feedback/export-pdf?${pe.toString()}`),oe=Ne.items||[],re=new ee;re.setFontSize(18),re.setFont(void 0,"bold"),re.text("Avis sur l'amelioration",14,20),re.setFontSize(10),re.setFont(void 0,"normal"),re.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,28),re.text(`Total: ${oe.length} avis`,14,34),re.text(`Filtre: ${ET.find($e=>$e.key===s)?.label||"Tous"}`,14,40);const Me=oe.map(($e,De)=>[De+1,$e.subject||"-",($e.body||"-").substring(0,100)+($e.body?.length>100?"...":""),$e.user?.name||"N/A",$e.user?.phone||"-",$e.readAt?"Oui":"Non",cu($e.createdAt)]);le(re,{startY:48,head:[["#","Sujet","Contenu","Utilisateur","Telephone","Lu","Date"]],body:Me,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[79,70,229],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:48}});const ge=`avis-amelioration-${s}-${new Date().toISOString().split("T")[0]}.pdf`;re.save(ge)}catch(ee){console.error("Export PDF error:",ee),alert("Impossible d'exporter en PDF: "+(ee.response?.data?.message||ee.message))}finally{C(!1)}},z=async ee=>{O(ee._id);try{const le=(await tl(async()=>{const{default:nt}=await import("./jspdf.es.min-BG99aWEl.js").then(ct=>ct.j);return{default:nt}},[])).default,pe=new le;pe.setFontSize(20),pe.setFont(void 0,"bold"),pe.text("Avis d'amelioration",14,20),pe.setLineWidth(.5),pe.setDrawColor(79,70,229),pe.line(14,25,196,25);let Ne=35;const oe=7,re=180;pe.setFontSize(14),pe.setFont(void 0,"bold"),pe.text("Sujet:",14,Ne),pe.setFont(void 0,"normal"),pe.setFontSize(12);const Me=pe.splitTextToSize(ee.subject||"-",re-30);pe.text(Me,40,Ne),Ne+=Me.length*oe+5,pe.setFontSize(10),pe.setTextColor(100,100,100);const ge=ee.user?.name||ee.user?.email||"Utilisateur",$e=ee.user?.phone||"N/A";pe.text(`Auteur: ${ge} - Tel: ${$e}`,14,Ne),Ne+=oe,pe.text(`Date: ${cu(ee.createdAt)}`,14,Ne),Ne+=oe;const De=ee.readAt?`Lu le ${cu(ee.readAt)}`:"Non lu",Ye=ee.readBy?.name?` par ${ee.readBy.name}`:"";pe.text(`Statut: ${De}${Ye}`,14,Ne),Ne+=oe+8,pe.setFontSize(12),pe.setTextColor(0,0,0),pe.setFont(void 0,"bold"),pe.text("Contenu:",14,Ne),Ne+=oe,pe.setFont(void 0,"normal"),pe.setFontSize(11);const Je=pe.splitTextToSize(ee.body||"-",re);pe.text(Je,14,Ne);const bt=pe.internal.getNumberOfPages();for(let nt=1;nt<=bt;nt++)pe.setPage(nt),pe.setFontSize(8),pe.setTextColor(150,150,150),pe.text(`Page ${nt} sur ${bt} - Exporte le ${new Date().toLocaleDateString("fr-FR")}`,14,pe.internal.pageSize.height-10);const Ze=`avis-${ee._id}-${new Date().toISOString().split("T")[0]}.pdf`;pe.save(Ze)}catch(le){console.error("Export single PDF error:",le),alert("Impossible d'exporter en PDF: "+le.message)}finally{O("")}},ae=async()=>{K(!0);try{const{data:ee}=await ie.get("/admin/feedback-readers");R(ee.readers||[])}catch(ee){console.error("Load readers error:",ee)}finally{K(!1)}},he=async ee=>{if(console.log("Toggle feedback reader - userId:",ee),console.log("userId type:",typeof ee),console.log("userId length:",ee?.length),!ee||typeof ee!="string"){console.error("Invalid userId - not a string:",ee),alert("ID utilisateur invalide");return}if(!/^[0-9a-fA-F]{24}$/.test(ee)){console.error("Invalid MongoDB ObjectId format:",ee),alert(`Format d'ID invalide: ${ee}`);return}try{console.log("Making API request to:",`/admin/feedback-readers/${ee}/toggle`);const{data:le}=await ie.patch(`/admin/feedback-readers/${ee}/toggle`);alert(le.message||"Statut mis a jour"),await ae(),H([]),$("")}catch(le){console.error("Toggle feedback reader error:",le),console.error("Error response:",le.response?.data),alert(le.response?.data?.message||"Erreur lors de la mise a jour")}},ve=async()=>{if(W.trim()){Q(!0);try{const{data:ee}=await ie.get(`/admin/users?search=${encodeURIComponent(W.trim())}&limit=10`),le=Array.isArray(ee)?ee.filter(pe=>pe.role!=="admin"):[];console.log("Search results:",le),console.log("First user structure:",le[0]),H(le)}catch(ee){console.error("Search users error:",ee),H([])}finally{Q(!1)}}},_e=h.useMemo(()=>{if(!y.total)return"0 avis";const ee=(y.total>1,"avis");return`${y.total} ${ee}`},[y.total]);return t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},t.createElement("header",{className:"flex flex-col gap-3"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Avis sur l'amelioration"),t.createElement("p",{className:"text-sm text-gray-500"},"Centralisez les retours utilisateurs et marquez-les comme lus.")),t.createElement("div",{className:"inline-flex items-center gap-2 rounded-full bg-white border border-gray-200 px-3 py-2 text-xs font-semibold text-gray-600"},t.createElement(ws,{className:"h-4 w-4"}),_e)),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("button",{type:"button",onClick:G,disabled:P||a.length===0,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-3xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-semibold shadow-sm hover:shadow-md active:scale-95 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},t.createElement(Ga,{className:"w-4 h-4"}),t.createElement("span",{className:"hidden sm:inline"},P?"Export en cours...":"Exporter en PDF"),t.createElement("span",{className:"sm:hidden"},P?"Export...":"PDF")),r&&t.createElement("button",{type:"button",onClick:()=>{j(!D),!D&&T.length===0&&ae()},className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-3xl bg-white border-2 border-indigo-200 text-indigo-700 text-sm font-semibold hover:bg-indigo-50 active:scale-95 transition-all duration-200"},t.createElement(ha,{className:"w-4 h-4"}),t.createElement("span",{className:"hidden sm:inline"},"Gerer les lecteurs"),t.createElement("span",{className:"sm:hidden"},"Lecteurs")))),r&&D&&t.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-4"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Lecteurs d'avis autorises"),t.createElement("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600 transition-colors"},"")),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex gap-2"},t.createElement("input",{type:"text",placeholder:"Rechercher un utilisateur (nom, email, telephone)...",value:W,onChange:ee=>$(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&ve(),className:"flex-1 px-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),t.createElement("button",{onClick:ve,disabled:J||!W.trim(),className:"px-4 py-2 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50"},t.createElement(zr,{className:"w-4 h-4"}))),X.length>0&&t.createElement("div",{className:"space-y-2 max-h-48 overflow-y-auto"},t.createElement("p",{className:"text-xs text-gray-500 font-semibold"},"Resultats de recherche:"),X.map(ee=>t.createElement("div",{key:ee._id||ee.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 bg-gray-50"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},ee.name),t.createElement("p",{className:"text-xs text-gray-500 truncate"},ee.email,"  ",ee.phone)),t.createElement("button",{onClick:()=>he(ee._id||ee.id),className:"ml-3 inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 active:scale-95 transition-all"},t.createElement(YO,{className:"w-3.5 h-3.5"}),"Ajouter")))),t.createElement("div",{className:"pt-3 border-t border-gray-200"},t.createElement("p",{className:"text-xs text-gray-500 font-semibold mb-2"},"Lecteurs actuels (",T.length,"):"),L?t.createElement("p",{className:"text-sm text-gray-500"},"Chargement..."):T.length===0?t.createElement("p",{className:"text-sm text-gray-500"},"Aucun lecteur autorise pour le moment."):t.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},T.map(ee=>t.createElement("div",{key:ee._id||ee.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 truncate"},ee.name),t.createElement("p",{className:"text-xs text-gray-500 truncate"},ee.email,"  ",ee.phone)),t.createElement("button",{onClick:()=>he(ee._id||ee.id),className:"ml-3 inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-600 text-white text-xs font-semibold hover:bg-red-700 active:scale-95 transition-all"},t.createElement(XO,{className:"w-3.5 h-3.5"}),"Retirer"))))))),t.createElement("section",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 space-y-4"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"flex flex-wrap gap-2"},ET.map(ee=>t.createElement("button",{key:ee.key,type:"button",onClick:()=>i(ee.key),className:`rounded-full px-4 py-2 text-xs font-semibold transition ${s===ee.key?"bg-indigo-600 text-white shadow":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},ee.label))),t.createElement("div",{className:"relative w-full sm:max-w-xs"},t.createElement(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),t.createElement("input",{type:"text",className:"w-full pl-9 pr-3 py-2 rounded-xl border border-gray-200 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un avis",value:o,onChange:ee=>d(ee.target.value)}))),x&&t.createElement("p",{className:"text-sm text-red-600"},x),E?t.createElement("div",{className:"space-y-3"},Array.from({length:4}).map((ee,le)=>t.createElement("div",{key:`skeleton-${le}`,className:"animate-pulse rounded-2xl border border-gray-100 bg-gray-50 p-4"},t.createElement("div",{className:"h-4 w-1/3 rounded bg-gray-200"}),t.createElement("div",{className:"mt-3 h-3 w-full rounded bg-gray-200"}),t.createElement("div",{className:"mt-2 h-3 w-4/5 rounded bg-gray-200"})))):a.length===0?t.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Aucun avis disponible pour ce filtre."):t.createElement("div",{className:"space-y-4"},a.map(ee=>{const le=!!ee.readAt,pe=ee.user?.name||ee.user?.email||"Utilisateur";return t.createElement("article",{key:ee._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm space-y-3"},t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-1"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement(ra,{className:"h-4 w-4 text-indigo-500"}),t.createElement("h3",{className:"text-base font-semibold text-gray-900"},ee.subject)),t.createElement("p",{className:"text-xs text-gray-500"},"Envoye le ",cu(ee.createdAt))),t.createElement("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${le?"bg-green-50 text-green-700 border border-green-200":"bg-amber-50 text-amber-700 border border-amber-200"}`},le?"Lu":"Non lu")),t.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-line break-words"},ee.body),t.createElement("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"text-xs text-gray-500 flex items-center gap-2"},t.createElement(ha,{className:"h-4 w-4 text-gray-400"}),t.createElement("span",null,pe),ee.user?.phone?t.createElement("span",null,"- ",ee.user.phone):null),t.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>z(ee),disabled:_===ee._id,className:"inline-flex items-center gap-1.5 rounded-full border border-purple-200 bg-purple-50 px-3 py-1.5 text-xs font-semibold text-purple-700 hover:bg-purple-100 disabled:opacity-60 transition-all",title:"Exporter cet avis en PDF"},t.createElement(gF,{className:"h-3.5 w-3.5"}),_===ee._id?"Export...":"PDF"),le?t.createElement("p",{className:"text-xs text-gray-500"},"Lu le ",cu(ee.readAt),ee.readBy?.name?` - ${ee.readBy.name}`:""):t.createElement("button",{type:"button",onClick:()=>B(ee._id),disabled:S===ee._id,className:"inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-3 py-2 text-xs font-semibold text-indigo-700 hover:bg-indigo-100 disabled:opacity-60"},t.createElement(Kt,{className:"h-4 w-4"}),S===ee._id?"Mise a jour...":"Marquer comme lu"))))})),y.totalPages>1&&t.createElement("div",{className:"flex items-center justify-between pt-2"},t.createElement("button",{type:"button",onClick:()=>f(ee=>Math.max(1,ee-1)),disabled:p<=1,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Precedent"),t.createElement("span",{className:"text-xs text-gray-500"},"Page ",p," / ",y.totalPages),t.createElement("button",{type:"button",onClick:()=>f(ee=>Math.min(y.totalPages,ee+1)),disabled:p>=y.totalPages,className:"rounded-full border border-gray-200 px-4 py-2 text-xs font-semibold text-gray-600 hover:border-gray-300 disabled:opacity-50"},"Suivant")))))}const Nle=new Intl.NumberFormat("fr-FR"),Jr=e=>{const r=Number(e);return Number.isFinite(r)?Nle.format(r):"0"},GE=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,Sle=({label:e,value:r,helper:a})=>t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-white px-4 py-5 shadow-sm"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},e),t.createElement("p",{className:"text-2xl font-semibold text-gray-900"},r),a?t.createElement("p",{className:"text-xs text-gray-400 mt-1"},a):null),kle=({label:e,value:r,helper:a})=>t.createElement("div",{className:"rounded-2xl border border-gray-100 bg-gradient-to-br from-indigo-600 to-blue-600 px-4 py-5 text-white shadow-lg"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-indigo-100"},e),t.createElement("p",{className:"text-3xl font-semibold"},r),a?t.createElement("p",{className:"text-xs text-indigo-100/80 mt-1"},a):null),Cle=({title:e,onClose:r,children:a})=>t.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6"},t.createElement("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl bg-white p-5 shadow-2xl"},t.createElement("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3"},t.createElement("h3",{className:"text-lg font-semibold text-gray-900"},e),t.createElement("button",{type:"button",onClick:r,className:"text-xs font-semibold uppercase tracking-wide text-gray-500 hover:text-gray-800"},"Fermer")),t.createElement("div",{className:"mt-4 max-h-[70vh] overflow-y-auto pr-1"},a)));function Ale(){const{id:e}=go(),r=6,[a,n]=h.useState(null),[s,i]=h.useState(!1),[o,d]=h.useState(""),[u,m]=h.useState(null),[p,f]=h.useState(1);h.useEffect(()=>{if(!e)return;const R=new AbortController;let D=!0;return i(!0),d(""),ie.get(`/admin/users/${e}/stats`,{signal:R.signal}).then(j=>{D&&n(j.data)}).catch(j=>{D&&d(j.response?.data?.message||j.message||"Impossible de charger les statistiques.")}).finally(()=>{D&&i(!1)}),()=>{D=!1,R.abort()}},[e]);const y=h.useMemo(()=>a?.timeline||[],[a]),b=h.useMemo(()=>a?.breakdown?.categories||[],[a]),E=h.useMemo(()=>a?.topProducts||[],[a]),w=h.useMemo(()=>a?[{label:"Annonces totales",value:Jr(a.listings.total),helper:`${Jr(a.listings.approved)} publies`},{label:"Favoris reus",value:Jr(a.engagement.favoritesReceived)},{label:"Commentaires reus",value:Jr(a.engagement.commentsReceived)},{label:"Favoris enregistrs",value:Jr(a.engagement.favoritesSaved)},{label:"Boutiques suivies",value:Jr(a.engagement.shopsFollowed)},{label:"Budget annonces",value:GE(a.advertismentSpend)}]:[],[a]),x=h.useMemo(()=>a?[{label:"Contacts WhatsApp",value:Jr(a.performance.clicks),helper:"Nombre de clics gnrs"},{label:"Vues totales",value:Jr(a.performance.views),helper:"Rponses aux annonces"},{label:"Conversion",value:`${Jr(a.performance.conversion)} %`,helper:"Annonces approuves"}]:[],[a]),N=R=>m(R),S=()=>m(null),k=()=>{if(!u||!a)return null;switch(u){case"summary":return t.createElement("dl",{className:"space-y-3"},w.map(R=>t.createElement("div",{key:R.label,className:"flex items-center justify-between border-b border-gray-100 pb-2"},t.createElement("dt",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),t.createElement("dd",{className:"text-sm font-semibold text-gray-900"},R.helper?`${R.value}  ${R.helper}`:R.value))));case"highlights":return t.createElement("div",{className:"space-y-3"},x.map(R=>t.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-gray-50 p-4"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),t.createElement("p",{className:"text-xl font-semibold text-gray-900"},R.value),R.helper?t.createElement("p",{className:"text-xs text-gray-500"},R.helper):null)));case"timeline":return y.length?t.createElement("div",{className:"space-y-3"},y.map(R=>t.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),t.createElement("p",{className:"text-sm font-semibold text-gray-900"},Jr(R.count)," annonces"),t.createElement("p",{className:"text-xs text-gray-500"},Jr(R.favorites)," favoris  ",Jr(R.clicks)," contacts")))):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune activit rcente.");case"categories":return b.length?t.createElement("div",{className:"flex flex-wrap gap-2"},b.map(R=>t.createElement("span",{key:R.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},R.category,"  ",Jr(R.count)," annonces"))):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible.");case"topProducts":return E.length?t.createElement("div",{className:"space-y-3"},E.map(R=>t.createElement("div",{key:R._id,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("p",{className:"text-sm font-semibold text-gray-900"},R.title),t.createElement("span",{className:"text-xs text-gray-500"},R.category||"Catgorie inconnue")),t.createElement("p",{className:"text-[11px] uppercase tracking-wide text-gray-400"},R.status||"Statut inconnu"),t.createElement("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(Ar,{className:"h-3 w-3 text-pink-500"}),Jr(R.favorites)),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(pr,{className:"h-3 w-3 text-purple-500"}),Jr(R.whatsappClicks)),t.createElement("span",{className:"text-xs text-gray-400"},GE(R.price)))))):t.createElement("p",{className:"text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.");default:return null}},P=h.useMemo(()=>a?.followedShops||[],[a]),C=Math.max(1,Math.ceil(P.length/r)),_=h.useMemo(()=>{const R=(p-1)*r;return P.slice(R,R+r)},[P,p]);h.useEffect(()=>{f(R=>{const D=Math.max(1,Math.ceil(P.length/r));return Math.min(R,D)})},[P.length]);const T=u?{summary:"Vue densemble",highlights:"Performances",timeline:"Timeline dtaille",categories:"Rpartition par catgorie",topProducts:"Produits les plus engags"}[u]:"";return s?t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},t.createElement("div",{className:"animate-pulse rounded-2xl border border-gray-200 bg-white p-6 text-center text-sm text-gray-500"},"Chargement des statistiques")):t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6"},t.createElement("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-500"},t.createElement(be,{to:"/admin",className:"inline-flex items-center gap-2 rounded-full border border-gray-200 px-4 py-1 text-xs font-semibold text-gray-600 hover:border-indigo-300 hover:text-indigo-700"},t.createElement(Cr,{className:"h-4 w-4"}),"Retour au back office"),a?.user?t.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques de ",a.user.name):t.createElement("span",{className:"text-sm font-semibold text-gray-900"},"Statistiques utilisateur")),a?.user?t.createElement("div",{className:"text-right text-xs text-gray-500"},t.createElement("p",null,a.user.email),t.createElement("p",null,a.user.accountType==="shop"?"Boutique":"Particulier"," "," ",a.user.role==="manager"?"Gestionnaire":"Utilisateur")):null),o?t.createElement("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700"},o):null,!a&&!o?t.createElement("p",{className:"text-sm text-gray-500"},"Slectionnez un utilisateur pour afficher ses statistiques."):null,a?t.createElement(t.Fragment,null,t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Vue densemble"),t.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("summary")},"Voir les rsultats")),t.createElement("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3"},w.map(R=>t.createElement(Sle,{key:R.label,label:R.label,value:R.value,helper:R.helper})))),t.createElement("div",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Performances"),t.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("highlights")},"Voir les rsultats")),t.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3"},x.map(R=>t.createElement(kle,{key:R.label,label:R.label,value:R.value,helper:R.helper})))),t.createElement("section",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Boutiques suivies"),t.createElement("p",{className:"text-xs text-gray-400"},P.length," boutique(s)")),P.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"space-y-2"},_.map(R=>t.createElement(be,{key:R.id,to:la(R),className:"flex items-center justify-between rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs font-semibold text-gray-700 transition hover:border-indigo-200 hover:text-indigo-800"},t.createElement("div",{className:"min-w-0 space-y-0.5"},t.createElement("p",{className:"truncate text-sm font-semibold text-gray-900"},R.name),t.createElement("p",{className:"truncate text-[11px] text-gray-500"},R.city||"Localisation inconnue")),t.createElement("span",{className:"flex-shrink-0 text-[11px] text-gray-400"},Jr(R.followersCount)," abonns")))),t.createElement("div",{className:"flex items-center justify-between text-[11px] text-gray-500"},t.createElement("span",null,"Affichage"," ",Math.min((p-1)*r+1,P.length),"-",Math.min(p*r,P.length)," sur ",P.length),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>f(R=>Math.max(1,R-1)),disabled:p<=1,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>f(R=>Math.min(C,R+1)),disabled:p>=C,className:"rounded border border-gray-200 px-2 py-1 font-semibold text-gray-600 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune boutique suivie.")),t.createElement("section",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Timeline"),t.createElement("p",{className:"text-xs text-gray-400"},"6 derniers mois")),t.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("timeline")},"Voir les rsultats")),t.createElement("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3"},y.length?y.map(R=>t.createElement("div",{key:R.label,className:"rounded-2xl border border-gray-100 bg-white p-4 shadow-sm"},t.createElement("p",{className:"text-xs uppercase tracking-wide text-gray-500"},R.label),t.createElement("p",{className:"text-lg font-semibold text-gray-900"},Jr(R.count)," annonces"),t.createElement("p",{className:"text-xs text-gray-500"},Jr(R.favorites)," favoris  ",Jr(R.clicks)," contacts"))):t.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucune activit rcente."))),t.createElement("section",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Rpartition par catgorie"),t.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("categories")},"Voir les rsultats")),t.createElement("div",{className:"flex flex-wrap gap-2"},b.length?b.map(R=>t.createElement("span",{key:R.category,className:"rounded-full border border-gray-200 bg-white px-4 py-1 text-xs font-semibold text-gray-600"},R.category,"  ",Jr(R.count)," annonces")):t.createElement("p",{className:"text-xs text-gray-500"},"Aucune donne catgorielle disponible."))),t.createElement("section",{className:"space-y-3"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Produits les plus engags"),t.createElement("p",{className:"text-xs text-gray-400"},"Favoris + clics")),t.createElement("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800",onClick:()=>N("topProducts")},"Voir les rsultats")),t.createElement("div",{className:"space-y-3"},E.length?E.map(R=>t.createElement(be,{key:R._id,to:or(R),className:"flex flex-col gap-2 rounded-2xl border border-gray-100 bg-white p-4 shadow-sm transition hover:border-indigo-200 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",null,t.createElement("p",{className:"text-sm font-semibold text-gray-900"},R.title),t.createElement("p",{className:"text-xs text-gray-500"},R.category||"Catgorie inconnue","  ",R.status||"Statut inconnu")),t.createElement("div",{className:"flex items-center gap-4 text-xs text-gray-500"},t.createElement("span",{className:"flex items-center gap-1"},t.createElement(Ar,{className:"h-3 w-3 text-pink-500"}),Jr(R.favorites)),t.createElement("span",{className:"flex items-center gap-1"},t.createElement(pr,{className:"h-3 w-3 text-purple-500"}),Jr(R.whatsappClicks)),t.createElement("span",{className:"text-xs text-gray-400"},GE(R.price))))):t.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 bg-white/70 p-4 text-xs text-gray-500"},"Aucun produit avec suffisamment d'engagement.")))):null,u&&t.createElement(Cle,{title:T,onClose:S},k()))}function _le(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(!1),[u,m]=h.useState([]),p=h.useCallback(async()=>{n(!0);try{const{data:b}=await ie.get("/admin/payment-verifiers");r(b.verifiers||[])}catch(b){console.error("Load verifiers error:",b)}finally{n(!1)}},[]);h.useEffect(()=>{p()},[p]);const f=async b=>{if(!b||typeof b!="string"){alert("ID utilisateur invalide");return}if(!/^[0-9a-fA-F]{24}$/.test(b)){alert(`Format d'ID invalide: ${b}`);return}try{const{data:E}=await ie.patch(`/admin/payment-verifiers/${b}/toggle`);alert(E.message||"Statut mis  jour"),await p(),m([]),i("")}catch(E){console.error("Toggle verifier error:",E),alert(E.response?.data?.message||"Erreur lors de la mise  jour")}},y=async()=>{if(s.trim()){d(!0);try{const{data:b}=await ie.get(`/admin/users?search=${encodeURIComponent(s.trim())}&limit=10`),E=Array.isArray(b)?b.filter(w=>w.role!=="admin"):[];m(E)}catch(b){console.error("Search users error:",b),m([])}finally{d(!1)}}};return t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},t.createElement("div",{className:"max-w-5xl mx-auto px-4 py-8"},t.createElement("header",{className:"mb-8"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement(ca,{className:"w-8 h-8 text-indigo-600"}),t.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Vrificateurs de paiements")),t.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Grez les utilisateurs autoriss  vrifier les paiements")),t.createElement("section",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 space-y-6"},t.createElement("div",{className:"space-y-3"},t.createElement("h2",{className:"text-lg font-bold text-gray-900 dark:text-white"},"Ajouter un vrificateur"),t.createElement("div",{className:"flex gap-2"},t.createElement("input",{type:"text",placeholder:"Rechercher un utilisateur (nom, email, tlphone)...",value:s,onChange:b=>i(b.target.value),onKeyDown:b=>b.key==="Enter"&&y(),className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),t.createElement("button",{onClick:y,disabled:o||!s.trim(),className:"px-4 py-2.5 rounded-xl bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50"},t.createElement(zr,{className:"w-4 h-4"}))),u.length>0&&t.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold"},"Rsultats de recherche:"),u.map(b=>t.createElement("div",{key:b._id||b.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},b.name),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},b.email,"  ",b.phone)),t.createElement("button",{onClick:()=>f(b._id||b.id),className:"ml-3 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 active:scale-95 transition-all"},t.createElement(YO,{className:"w-3.5 h-3.5"}),"Ajouter"))))),t.createElement("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600"},t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-semibold mb-3"},"Vrificateurs actuels (",e.length,"):"),a?t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Chargement..."):e.length===0?t.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Aucun vrificateur de paiements pour le moment."):t.createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},e.map(b=>t.createElement("div",{key:b.id,className:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate"},b.name),t.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate"},b.email,"  ",b.phone)),t.createElement("button",{onClick:()=>f(b.id),className:"ml-3 inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-600 text-white text-xs font-semibold hover:bg-red-700 active:scale-95 transition-all"},t.createElement(XO,{className:"w-3.5 h-3.5"}),"Retirer"))))))))}const NT=e=>`${Number(e||0).toLocaleString("fr-FR")} FCFA`,Ple=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",ST={MTN:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",Airtel:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Orange:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",Moov:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Other:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};function Tle(){const[e,r]=h.useState([]),[a,n]=h.useState(!1),[s,i]=h.useState(""),[o,d]=h.useState(""),u=h.useCallback(async()=>{n(!0);try{const f=new URLSearchParams;f.set("status","waiting"),s.trim()&&f.set("search",s.trim());const{data:y}=await ie.get(`/payments/admin?${f.toString()}`);r(Array.isArray(y)?y:[])}catch(f){console.error("Load payments error:",f),r([])}finally{n(!1)}},[s]);h.useEffect(()=>{u()},[u]),h.useEffect(()=>{const f=()=>{u()},y=()=>{document.visibilityState==="visible"&&u()};return window.addEventListener("paymentStatusChanged",f),document.addEventListener("visibilitychange",y),window.addEventListener("focus",f),()=>{window.removeEventListener("paymentStatusChanged",f),document.removeEventListener("visibilitychange",y),window.removeEventListener("focus",f)}},[u]);const m=async f=>{if(confirm("Voulez-vous vrifier ce paiement ? Le produit sera approuv.")){d(f);try{await ie.put(`/payments/admin/${f}/verify`),alert("Paiement vrifi avec succs"),await u(),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:f,status:"verified"}}))}catch(y){console.error("Verify payment error:",y),alert(y.response?.data?.message||"Erreur lors de la vrification")}finally{d("")}}},p=async f=>{if(confirm("Voulez-vous rejeter ce paiement ? Le produit sera rejet.")){d(f);try{await ie.put(`/payments/admin/${f}/reject`),alert("Paiement rejet"),await u(),window.dispatchEvent(new CustomEvent("paymentStatusChanged",{detail:{paymentId:f,status:"rejected"}}))}catch(y){console.error("Reject payment error:",y),alert(y.response?.data?.message||"Erreur lors du rejet")}finally{d("")}}};return t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},t.createElement("header",{className:"mb-8"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement(ca,{className:"w-8 h-8 text-indigo-600"}),t.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Vrification des paiements"),e.length>0&&t.createElement("div",{className:"relative"},t.createElement("div",{className:"absolute -top-2 -right-2 flex items-center justify-center min-w-[24px] h-6 px-2 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg border-2 border-white dark:border-gray-800 animate-pulse"},e.length>99?"99+":e.length))),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("p",{className:"text-gray-600 dark:text-gray-400"},e.length," paiement",e.length!==1?"s":""," en attente de vrification"),e.length>0&&t.createElement("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs font-semibold border border-amber-200 dark:border-amber-800"},t.createElement("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),"Action requise"))),t.createElement("div",{className:"mb-6"},t.createElement("div",{className:"relative max-w-md"},t.createElement(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.createElement("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rechercher un produit...",value:s,onChange:f=>i(f.target.value)}))),a?t.createElement("div",{className:"grid grid-cols-1 gap-4"},Array.from({length:3}).map((f,y)=>t.createElement("div",{key:y,className:"animate-pulse rounded-2xl border border-gray-100 bg-white p-4"},t.createElement("div",{className:"h-4 w-2/3 rounded bg-gray-200 mb-3"}),t.createElement("div",{className:"h-3 w-full rounded bg-gray-200 mb-2"}),t.createElement("div",{className:"h-3 w-4/5 rounded bg-gray-200"})))):e.length===0?t.createElement("div",{className:"rounded-2xl border border-dashed border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-8 text-center text-sm text-gray-500 dark:text-gray-400"},"Aucun paiement en attente de vrification."):t.createElement("div",{className:"space-y-4"},e.map(f=>t.createElement("article",{key:f._id,className:"rounded-2xl border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-sm"},t.createElement("div",{className:"flex flex-col lg:flex-row gap-4"},f.product?.images?.[0]&&t.createElement("div",{className:"w-full lg:w-32 h-32 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0"},t.createElement("img",{src:f.product.images[0],alt:f.product.title,className:"w-full h-full object-cover"})),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-start justify-between gap-3 mb-3"},t.createElement("div",{className:"flex-1"},t.createElement("div",{className:"flex items-center gap-2 mb-2"},t.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},f.product?.title||"Produit supprim"),f.product?.slug&&t.createElement(be,{to:`/product/${f.product.slug}`,target:"_blank",className:"text-gray-400 hover:text-indigo-600 transition-colors",title:"Voir le produit"},t.createElement(cF,{size:16}))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-3"},t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Payeur:")," ",t.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},f.payerName)),t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Vendeur:")," ",t.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},f.user?.name||"Utilisateur inconnu")),t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Transaction:")," ",t.createElement("span",{className:"font-mono text-xs font-semibold text-gray-900 dark:text-white"},f.transactionNumber)),t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Oprateur:")," ",t.createElement("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-semibold ${ST[f.operator]||ST.Other}`},f.operator))),t.createElement("div",{className:"flex flex-wrap items-center gap-3 text-sm"},t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Montant pay:")," ",t.createElement("span",{className:"font-bold text-indigo-600 dark:text-indigo-400"},NT(f.amount))),t.createElement("span",{className:"text-gray-300 dark:text-gray-600"},""),t.createElement("div",null,t.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"Prix produit:")," ",t.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},NT(f.product?.price))),t.createElement("span",{className:"text-gray-300 dark:text-gray-600"},""),t.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400"},"Soumis le ",Ple(f.submittedAt))))),t.createElement("div",{className:"flex flex-wrap gap-2"},t.createElement("button",{onClick:()=>m(f._id),disabled:o===f._id,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 active:scale-95 transition-all disabled:opacity-60"},t.createElement(Kt,{className:"w-4 h-4"}),o===f._id?"Vrification...":"Vrifier"),t.createElement("button",{onClick:()=>p(f._id),disabled:o===f._id,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700 active:scale-95 transition-all disabled:opacity-60"},t.createElement(mn,{className:"w-4 h-4"}),o===f._id?"Rejet...":"Rejeter")))))))))}const Ole=[{value:"today",label:"Aujourd'hui"},{value:"week",label:"Cette semaine"},{value:"month",label:"Ce mois"},{value:"year",label:"Cette anne"},{value:"custom",label:"Priode personnalise"}];function Mle(){const[e,r]=h.useState("month"),[a,n]=h.useState(""),[s,i]=h.useState(""),[o,d]=h.useState(null),[u,m]=h.useState(!1),[p,f]=h.useState(""),y=h.useCallback(async()=>{m(!0),f("");try{const w=new URLSearchParams({period:e});if(e==="custom"){if(!a||!s){f("Veuillez slectionner une date de dbut et de fin"),m(!1);return}w.set("startDate",a),w.set("endDate",s)}const{data:x}=await ie.get(`/admin/reports?${w.toString()}`);d(x)}catch(w){console.error("Generate report error:",w),f(w.response?.data?.message||"Erreur lors de la gnration du rapport")}finally{m(!1)}},[e,a,s]),b=h.useCallback(async()=>{if(o)try{const{jsPDF:w}=await tl(async()=>{const{jsPDF:P}=await import("./jspdf.es.min-BG99aWEl.js").then(C=>C.j);return{jsPDF:P}},[]),{default:x}=await tl(async()=>{const{default:P}=await import("./jspdf.plugin.autotable-CBbcTuFj.js");return{default:P}},[]),N=new w;let S=20;if(N.setFontSize(20),N.setFont(void 0,"bold"),N.text("Rapport HDMarket",105,S,{align:"center"}),S+=10,N.setFontSize(12),N.setFont(void 0,"normal"),N.text(o.period.label,105,S,{align:"center"}),S+=5,N.setFontSize(10),N.text(`Gnr le ${new Date(o.generatedAt).toLocaleDateString("fr-FR")}`,105,S,{align:"center"}),S+=15,N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Utilisateurs",14,S),S+=7,x(N,{startY:S,head:[["Mtrique","Valeur"]],body:[["Total utilisateurs",o.users.total.toLocaleString()],["Nouveaux utilisateurs",o.users.new.toLocaleString()],["Convertis en boutique",o.users.convertedToShop.toLocaleString()],["Utilisateurs suspendus",o.users.suspended.toLocaleString()],["Utilisateurs vrifis",o.users.verified.toLocaleString()]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),S=N.lastAutoTable.finalY+10,S>250&&(N.addPage(),S=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Commandes",14,S),S+=7,x(N,{startY:S,head:[["Mtrique","Valeur"]],body:[["Total commandes",o.orders.total.toLocaleString()],["Nouvelles commandes",o.orders.new.toLocaleString()],["Valeur totale",`${o.orders.totalValue.toLocaleString()} FCFA`],["Valeur moyenne",`${Math.round(o.orders.averageValue).toLocaleString()} FCFA`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),S=N.lastAutoTable.finalY+10,S>250&&(N.addPage(),S=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Annonces",14,S),S+=7,x(N,{startY:S,head:[["Mtrique","Valeur"]],body:[["Total annonces",o.products.total.toLocaleString()],["Nouvelles annonces",o.products.new.toLocaleString()],["Annonces approuves",(o.products.byStatus.approved||0).toLocaleString()],["Annonces en attente",(o.products.byStatus.pending||0).toLocaleString()],["Annonces rejetes",(o.products.byStatus.rejected||0).toLocaleString()]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),S=N.lastAutoTable.finalY+10,S>250&&(N.addPage(),S=20),N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Paiements",14,S),S+=7,x(N,{startY:S,head:[["Mtrique","Valeur"]],body:[["Total paiements",o.payments.total.toLocaleString()],["Nouveaux paiements",o.payments.new.toLocaleString()],["Montant total",`${o.payments.totalValue.toLocaleString()} FCFA`],["Montant moyen",`${Math.round(o.payments.averageValue).toLocaleString()} FCFA`],["Taux de vrification",`${o.payments.verificationRate}%`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),S=N.lastAutoTable.finalY+10,S>250&&(N.addPage(),S=20),o.growth&&(N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Croissance",14,S),S+=7,x(N,{startY:S,head:[["Mtrique","Taux de croissance"]],body:[["Utilisateurs",`${o.growth.monthlyGrowthRate.users>=0?"+":""}${o.growth.monthlyGrowthRate.users}%`],["Annonces",`${o.growth.monthlyGrowthRate.products>=0?"+":""}${o.growth.monthlyGrowthRate.products}%`],["Commandes",`${o.growth.monthlyGrowthRate.orders>=0?"+":""}${o.growth.monthlyGrowthRate.orders}%`],["Paiements",`${o.growth.monthlyGrowthRate.payments>=0?"+":""}${o.growth.monthlyGrowthRate.payments}%`]],theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}}),S=N.lastAutoTable.finalY+10),S>250&&(N.addPage(),S=20),o.content){N.setFontSize(14),N.setFont(void 0,"bold"),N.text("Mtriques de contenu",14,S),S+=7;const P=[["Photos moyennes par annonce",o.content.avgPhotosPerListing.toFixed(2)],["Longueur moyenne des descriptions",`${o.content.avgDescriptionLength} caractres`]];o.content.avgPriceByCategory&&Object.keys(o.content.avgPriceByCategory).length>0&&(P.push(["",""]),P.push(["Prix moyen par catgorie",""]),Object.entries(o.content.avgPriceByCategory).sort((C,_)=>_[1]-C[1]).slice(0,8).forEach(([C,_])=>{P.push([C,`${Math.round(_).toLocaleString()} FCFA`])})),x(N,{startY:S,head:[["Mtrique","Valeur"]],body:P,theme:"grid",headStyles:{fillColor:[79,70,229]},margin:{left:14}})}const k=N.internal.getNumberOfPages();for(let P=1;P<=k;P++)N.setPage(P),N.setFontSize(8),N.setFont(void 0,"normal"),N.text(`Page ${P} sur ${k} - HDMarket Admin`,105,N.internal.pageSize.height-10,{align:"center"});N.save(`rapport-hdmarket-${o.period.type}-${new Date().toISOString().split("T")[0]}.pdf`)}catch(w){console.error("PDF export error:",w),alert("Erreur lors de l'export PDF")}},[o]),E=h.useCallback(async()=>{if(o)try{const w=(await tl(async()=>{const{default:O}=await import("./exceljs.min-BnU_nq_s.js").then(T=>T.e);return{default:O}},[])).default,x=new w.Workbook,N=x.addWorksheet("Rsum");N.columns=[{header:"Catgorie",key:"category",width:30},{header:"Mtrique",key:"metric",width:30},{header:"Valeur",key:"value",width:20}],N.addRow({category:"Priode",metric:o.period.label,value:""}),N.addRow({category:"Gnr le",metric:new Date(o.generatedAt).toLocaleString("fr-FR"),value:""}),N.addRow({}),N.addRow({category:"UTILISATEURS",metric:"",value:""}),N.addRow({category:"",metric:"Total utilisateurs",value:o.users.total}),N.addRow({category:"",metric:"Nouveaux utilisateurs",value:o.users.new}),N.addRow({category:"",metric:"Convertis en boutique",value:o.users.convertedToShop}),N.addRow({category:"",metric:"Utilisateurs suspendus",value:o.users.suspended}),N.addRow({category:"",metric:"Utilisateurs vrifis",value:o.users.verified}),N.addRow({}),N.addRow({category:"COMMANDES",metric:"",value:""}),N.addRow({category:"",metric:"Total commandes",value:o.orders.total}),N.addRow({category:"",metric:"Nouvelles commandes",value:o.orders.new}),N.addRow({category:"",metric:"Valeur totale (FCFA)",value:o.orders.totalValue}),N.addRow({category:"",metric:"Valeur moyenne (FCFA)",value:Math.round(o.orders.averageValue)}),N.addRow({}),N.addRow({category:"ANNONCES",metric:"",value:""}),N.addRow({category:"",metric:"Total annonces",value:o.products.total}),N.addRow({category:"",metric:"Nouvelles annonces",value:o.products.new}),N.addRow({category:"",metric:"Annonces approuves",value:o.products.byStatus.approved||0}),N.addRow({category:"",metric:"Annonces en attente",value:o.products.byStatus.pending||0}),N.addRow({category:"",metric:"Annonces rejetes",value:o.products.byStatus.rejected||0}),N.addRow({}),N.addRow({category:"PAIEMENTS",metric:"",value:""}),N.addRow({category:"",metric:"Total paiements",value:o.payments.total}),N.addRow({category:"",metric:"Nouveaux paiements",value:o.payments.new}),N.addRow({category:"",metric:"Montant total (FCFA)",value:o.payments.totalValue}),N.addRow({category:"",metric:"Montant moyen (FCFA)",value:Math.round(o.payments.averageValue)}),N.addRow({category:"",metric:"Taux de vrification (%)",value:o.payments.verificationRate}),N.addRow({}),o.growth&&(N.addRow({category:"CROISSANCE",metric:"",value:""}),N.addRow({category:"",metric:"Taux croissance utilisateurs (%)",value:o.growth.monthlyGrowthRate.users}),N.addRow({category:"",metric:"Taux croissance annonces (%)",value:o.growth.monthlyGrowthRate.products}),N.addRow({category:"",metric:"Taux croissance commandes (%)",value:o.growth.monthlyGrowthRate.orders}),N.addRow({category:"",metric:"Taux croissance paiements (%)",value:o.growth.monthlyGrowthRate.payments}),N.addRow({})),o.content&&(N.addRow({category:"CONTENU",metric:"",value:""}),N.addRow({category:"",metric:"Photos moyennes par annonce",value:o.content.avgPhotosPerListing.toFixed(2)}),N.addRow({category:"",metric:"Longueur moyenne descriptions",value:o.content.avgDescriptionLength}),N.addRow({}),o.content.avgPriceByCategory&&Object.keys(o.content.avgPriceByCategory).length>0&&(N.addRow({category:"PRIX MOYEN PAR CATGORIE",metric:"",value:""}),Object.entries(o.content.avgPriceByCategory).sort((O,T)=>T[1]-O[1]).forEach(([O,T])=>{N.addRow({category:"",metric:O,value:Math.round(T)})}))),N.getRow(1).font={bold:!0},N.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}},N.getRow(1).font={color:{argb:"FFFFFFFF"},bold:!0};const S=x.addWorksheet("Par Ville");S.columns=[{header:"Ville",key:"city",width:20},{header:"Utilisateurs",key:"users",width:15}],Object.entries(o.users.byCity).forEach(([O,T])=>{S.addRow({city:O,users:T})}),S.getRow(1).font={bold:!0},S.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F46E5"}},S.getRow(1).font={color:{argb:"FFFFFFFF"},bold:!0};const k=await x.xlsx.writeBuffer(),P=new Blob([k],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),C=window.URL.createObjectURL(P),_=document.createElement("a");_.href=C,_.download=`rapport-hdmarket-${o.period.type}-${new Date().toISOString().split("T")[0]}.xlsx`,_.click(),window.URL.revokeObjectURL(C)}catch(w){console.error("Excel export error:",w),alert("Erreur lors de l'export Excel")}},[o]);return t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 dark:from-gray-900 dark:to-gray-800"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-8"},t.createElement("header",{className:"mb-8"},t.createElement("div",{className:"flex items-center gap-3 mb-2"},t.createElement(Ga,{className:"w-8 h-8 text-indigo-600"}),t.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent"},"Rapports Administratifs")),t.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Gnrez des rapports dtaills sur l'activit de votre plateforme")),t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 mb-6"},t.createElement("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Configuration du rapport"),t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Priode"),t.createElement("select",{value:e,onChange:w=>r(w.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},Ole.map(w=>t.createElement("option",{key:w.value,value:w.value},w.label)))),e==="custom"&&t.createElement(t.Fragment,null,t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Date de dbut"),t.createElement("input",{type:"date",value:a,onChange:w=>n(w.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),t.createElement("div",null,t.createElement("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Date de fin"),t.createElement("input",{type:"date",value:s,onChange:w=>i(w.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})))),p&&t.createElement("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm"},p),t.createElement("div",{className:"flex flex-wrap gap-3"},t.createElement("button",{onClick:y,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-60"},t.createElement(Wn,{className:"w-4 h-4"}),u?"Gnration...":"Gnrer le rapport"),o&&t.createElement(t.Fragment,null,t.createElement("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700 active:scale-95 transition-all"},t.createElement(Mp,{className:"w-4 h-4"}),"Exporter PDF"),t.createElement("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-600 text-white text-sm font-semibold hover:bg-green-700 active:scale-95 transition-all"},t.createElement(Mp,{className:"w-4 h-4"}),"Exporter Excel")))),o&&t.createElement("div",{className:"space-y-6"},t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},t.createElement(dp,{icon:Ns,title:"Utilisateurs",value:o.users.total,change:o.users.new,color:"blue"}),t.createElement(dp,{icon:wt,title:"Annonces",value:o.products.total,change:o.products.new,color:"purple"}),t.createElement(dp,{icon:ca,title:"Paiements",value:`${Math.round(o.payments.totalValue).toLocaleString()} FCFA`,change:o.payments.new,color:"green"}),t.createElement(dp,{icon:rr,title:"Commandes",value:o.orders.total,change:o.orders.new,color:"orange"})),t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},t.createElement(ds,{title:"Utilisateurs",icon:Ns},t.createElement(kt,{label:"Total",value:o.users.total.toLocaleString()}),t.createElement(kt,{label:"Nouveaux",value:o.users.new.toLocaleString(),highlight:!0}),t.createElement(kt,{label:"Convertis en boutique",value:o.users.convertedToShop.toLocaleString()}),t.createElement(kt,{label:"Suspendus",value:o.users.suspended.toLocaleString()}),t.createElement(kt,{label:"Vrifis",value:o.users.verified.toLocaleString()}),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par genre"),Object.entries(o.users.byGender).map(([w,x])=>t.createElement(kt,{key:w,label:w==="homme"?"Hommes":"Femmes",value:x.toLocaleString(),small:!0}))),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par ville"),Object.entries(o.users.byCity).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:x.toLocaleString(),small:!0})))),t.createElement(ds,{title:"Commandes",icon:rr},t.createElement(kt,{label:"Total",value:o.orders.total.toLocaleString()}),t.createElement(kt,{label:"Nouvelles",value:o.orders.new.toLocaleString(),highlight:!0}),t.createElement(kt,{label:"Valeur totale",value:`${Math.round(o.orders.totalValue).toLocaleString()} FCFA`}),t.createElement(kt,{label:"Valeur moyenne",value:`${Math.round(o.orders.averageValue).toLocaleString()} FCFA`}),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),Object.entries(o.orders.byStatus).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:x.toLocaleString(),small:!0})))),t.createElement(ds,{title:"Annonces",icon:wt},t.createElement(kt,{label:"Total",value:o.products.total.toLocaleString()}),t.createElement(kt,{label:"Nouvelles",value:o.products.new.toLocaleString(),highlight:!0}),t.createElement(kt,{label:"Avec paiement",value:o.products.withPayment.toLocaleString()}),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),t.createElement(kt,{label:"Approuves",value:(o.products.byStatus.approved||0).toLocaleString(),small:!0}),t.createElement(kt,{label:"En attente",value:(o.products.byStatus.pending||0).toLocaleString(),small:!0}),t.createElement(kt,{label:"Rejetes",value:(o.products.byStatus.rejected||0).toLocaleString(),small:!0})),Object.keys(o.products.byCategory).length>0&&t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par catgorie"),Object.entries(o.products.byCategory).slice(0,5).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:x.toLocaleString(),small:!0})))),t.createElement(ds,{title:"Paiements",icon:ca},t.createElement(kt,{label:"Total",value:o.payments.total.toLocaleString()}),t.createElement(kt,{label:"Nouveaux",value:o.payments.new.toLocaleString(),highlight:!0}),t.createElement(kt,{label:"Montant total",value:`${Math.round(o.payments.totalValue).toLocaleString()} FCFA`}),t.createElement(kt,{label:"Montant moyen",value:`${Math.round(o.payments.averageValue).toLocaleString()} FCFA`}),t.createElement(kt,{label:"Taux de vrification",value:`${o.payments.verificationRate}%`}),t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par oprateur"),Object.entries(o.payments.byOperator).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:x.toLocaleString(),small:!0})))),t.createElement(ds,{title:"Avis d'amlioration",icon:ra},t.createElement(kt,{label:"Total",value:o.feedback.total.toLocaleString()}),t.createElement(kt,{label:"Nouveaux",value:o.feedback.new.toLocaleString(),highlight:!0}),t.createElement(kt,{label:"Lus",value:o.feedback.read.toLocaleString()}),t.createElement(kt,{label:"Non lus",value:o.feedback.unread.toLocaleString()})),t.createElement(ds,{title:"Rclamations",icon:br},t.createElement(kt,{label:"Total",value:o.complaints.total.toLocaleString()}),t.createElement(kt,{label:"Nouvelles",value:o.complaints.new.toLocaleString(),highlight:!0}),Object.keys(o.complaints.byStatus).length>0&&t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Par statut"),Object.entries(o.complaints.byStatus).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:x.toLocaleString(),small:!0})))),t.createElement(ds,{title:"Boutiques",icon:vr},t.createElement(kt,{label:"Total",value:o.shops.total.toLocaleString()}),t.createElement(kt,{label:"Vrifies",value:o.shops.verified.toLocaleString()}),t.createElement(kt,{label:"Taux de conversion",value:`${o.shops.conversionRate}%`}),o.shops.topShops.length>0&&t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Top boutiques"),o.shops.topShops.map((w,x)=>t.createElement(kt,{key:x,label:w.name,value:`${w.followers} followers`,small:!0})))),t.createElement(ds,{title:"Mtriques cls",icon:rr},t.createElement(kt,{label:"Taux d'approbation",value:`${o.metrics.approvalRate}%`}),t.createElement(kt,{label:"Taux de vrification",value:`${o.metrics.verificationRate}%`}),t.createElement(kt,{label:"Taux de conversion boutique",value:`${o.metrics.shopConversionRate}%`}),t.createElement(kt,{label:"Valeur moyenne commande",value:`${Math.round(o.metrics.averageOrderValue).toLocaleString()} FCFA`}),t.createElement(kt,{label:"Valeur moyenne paiement",value:`${Math.round(o.metrics.averagePaymentValue).toLocaleString()} FCFA`}))),o.growth&&t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},t.createElement(ds,{title:"Croissance",icon:rr},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Taux de croissance mensuel"),t.createElement(kt,{label:"Utilisateurs",value:`${o.growth.monthlyGrowthRate.users>=0?"+":""}${o.growth.monthlyGrowthRate.users}%`}),t.createElement(kt,{label:"Annonces",value:`${o.growth.monthlyGrowthRate.products>=0?"+":""}${o.growth.monthlyGrowthRate.products}%`}),t.createElement(kt,{label:"Commandes",value:`${o.growth.monthlyGrowthRate.orders>=0?"+":""}${o.growth.monthlyGrowthRate.orders}%`}),t.createElement(kt,{label:"Paiements",value:`${o.growth.monthlyGrowthRate.payments>=0?"+":""}${o.growth.monthlyGrowthRate.payments}%`}),o.growth.growthByCity&&Object.keys(o.growth.growthByCity).length>0&&t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Croissance par ville"),Object.entries(o.growth.growthByCity).slice(0,5).map(([w,x])=>t.createElement("div",{key:w,className:"mb-2"},t.createElement("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1"},w),t.createElement(kt,{label:"Utilisateurs",value:`${x.users>=0?"+":""}${x.users}%`,small:!0}),t.createElement(kt,{label:"Annonces",value:`${x.products>=0?"+":""}${x.products}%`,small:!0}))))),o.growth.seasonalTrends&&t.createElement(ds,{title:"Tendances saisonnires",icon:Wn},t.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3"},"volution sur les 12 derniers mois"),o.growth.seasonalTrends.users&&o.growth.seasonalTrends.users.length>0&&t.createElement("div",{className:"mb-4"},t.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Utilisateurs"),t.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},o.growth.seasonalTrends.users.slice(-6).map((w,x)=>t.createElement(kt,{key:x,label:w.period,value:w.count.toLocaleString(),small:!0})))),o.growth.seasonalTrends.products&&o.growth.seasonalTrends.products.length>0&&t.createElement("div",{className:"mb-4"},t.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Annonces"),t.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},o.growth.seasonalTrends.products.slice(-6).map((w,x)=>t.createElement(kt,{key:x,label:w.period,value:w.count.toLocaleString(),small:!0})))),o.growth.seasonalTrends.orders&&o.growth.seasonalTrends.orders.length>0&&t.createElement("div",null,t.createElement("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Commandes"),t.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},o.growth.seasonalTrends.orders.slice(-6).map((w,x)=>t.createElement(kt,{key:x,label:w.period,value:`${w.count} (${Math.round(w.totalValue).toLocaleString()} FCFA)`,small:!0})))))),o.content&&t.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},t.createElement(ds,{title:"Mtriques de contenu",icon:wt},t.createElement(kt,{label:"Photos moyennes par annonce",value:o.content.avgPhotosPerListing.toFixed(2)}),t.createElement(kt,{label:"Longueur moyenne des descriptions",value:`${o.content.avgDescriptionLength} caractres`}),o.content.avgPriceByCategory&&Object.keys(o.content.avgPriceByCategory).length>0&&t.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},t.createElement("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Prix moyen par catgorie"),Object.entries(o.content.avgPriceByCategory).sort((w,x)=>x[1]-w[1]).slice(0,8).map(([w,x])=>t.createElement(kt,{key:w,label:w,value:`${Math.round(x).toLocaleString()} FCFA`,small:!0}))))))))}function dp({icon:e,title:r,value:a,change:n,color:s}){const i={blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",purple:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",green:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400",orange:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"};return t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6"},t.createElement("div",{className:"flex items-center gap-3 mb-3"},t.createElement("div",{className:`p-3 rounded-xl ${i[s]}`},t.createElement(e,{className:"w-6 h-6"})),t.createElement("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400"},r)),t.createElement("p",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1"},typeof a=="number"?a.toLocaleString():a),n!==void 0&&t.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},"+",typeof n=="number"?n.toLocaleString():n," nouveaux"))}function ds({title:e,icon:r,children:a}){return t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm p-6"},t.createElement("div",{className:"flex items-center gap-3 mb-4"},t.createElement(r,{className:"w-5 h-5 text-indigo-600"}),t.createElement("h3",{className:"text-lg font-bold text-gray-900 dark:text-white"},e)),t.createElement("div",{className:"space-y-2"},a))}function kt({label:e,value:r,highlight:a,small:n}){return t.createElement("div",{className:`flex items-center justify-between ${n?"text-sm":""} ${a?"font-semibold":""}`},t.createElement("span",{className:`${a?"text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-gray-400"}`},e),t.createElement("span",{className:`${a?"text-indigo-900 dark:text-indigo-300":"text-gray-900 dark:text-white"} font-semibold`},r))}const up=e=>{if(!e)return"";const r=new Date(e);return Number.isNaN(r.getTime())?"":r.toISOString().slice(0,10)};function jle(){const{showToast:e}=Si(),[r,a]=h.useState(null),[n,s]=h.useState(""),[i,o]=h.useState(!1),[d,u]=h.useState(""),[m,p]=h.useState(""),[f,y]=h.useState(null),[b,E]=h.useState(""),[w,x]=h.useState(!1),[N,S]=h.useState(""),[k,P]=h.useState(""),[C,_]=h.useState(null),[O,T]=h.useState(""),[R,D]=h.useState(!1),[j,L]=h.useState(""),[K,W]=h.useState(""),[$,J]=h.useState(null),[Q,X]=h.useState(""),[H,I]=h.useState(null),[B,G]=h.useState(""),[z,ae]=h.useState(""),[he,ve]=h.useState(""),[_e,ee]=h.useState(""),[le,pe]=h.useState(!1),[Ne,oe]=h.useState(""),[re,Me]=h.useState(""),[ge,$e]=h.useState([]),[De,Ye]=h.useState(""),[Je,bt]=h.useState(!1),[Ze,nt]=h.useState(""),[ct,vt]=h.useState(""),[Zt,pt]=h.useState(!0);h.useEffect(()=>{let fe=!0;return(async()=>{pt(!0);try{const[Y,U,de,Re]=await Promise.all([ie.get("/settings/hero-banner"),ie.get("/settings/app-logo"),ie.get("/settings/promo-banner"),ie.get("/admin/prohibited-words").catch(()=>({data:[]}))]);if(!fe)return;T(Y?.data?.heroBanner||""),s(U?.data?.appLogoDesktop||""),E(U?.data?.appLogoMobile||""),X(de?.data?.promoBanner||""),G(de?.data?.promoBannerMobile||""),ae(de?.data?.promoBannerLink||""),ve(up(de?.data?.promoBannerStartAt)),ee(up(de?.data?.promoBannerEndAt)),$e(Array.isArray(Re?.data)?Re.data:[])}catch(Y){if(!fe)return;e(Y.response?.data?.message||"Erreur chargement paramtres.",{variant:"error"})}finally{fe&&pt(!1)}})(),()=>{fe=!1}},[e]),h.useEffect(()=>()=>{[O,n,b,Q,B].forEach(ye=>{ye&&typeof ye=="string"&&ye.startsWith("blob:")&&URL.revokeObjectURL(ye)})},[O,n,b,Q,B]);const ut=fe=>{const ye=fe.target.files?.[0]??null;a(ye),u(""),p(""),ye&&(n?.startsWith?.("blob:")&&URL.revokeObjectURL(n),s(URL.createObjectURL(ye)))},Lt=fe=>{const ye=fe.target.files?.[0]??null;y(ye),S(""),P(""),ye&&(b?.startsWith?.("blob:")&&URL.revokeObjectURL(b),E(URL.createObjectURL(ye)))},zt=fe=>{const ye=fe.target.files?.[0]??null;_(ye),L(""),W(""),ye&&(O?.startsWith?.("blob:")&&URL.revokeObjectURL(O),T(URL.createObjectURL(ye)))},nr=fe=>{const ye=fe.target.files?.[0]??null;J(ye),oe(""),Me(""),ye&&(Q?.startsWith?.("blob:")&&URL.revokeObjectURL(Q),X(URL.createObjectURL(ye)))},Bt=fe=>{const ye=fe.target.files?.[0]??null;I(ye),oe(""),Me(""),ye&&(B?.startsWith?.("blob:")&&URL.revokeObjectURL(B),G(URL.createObjectURL(ye)))},xt=h.useCallback(async()=>{if(!C){L("Veuillez slectionner une image pour la bannire.");return}D(!0),L(""),W("");try{const fe=new FormData;fe.append("heroBanner",C);const{data:ye}=await ie.put("/admin/hero-banner",fe,{headers:{"Content-Type":"multipart/form-data"}});T(ye?.heroBanner??O),_(null),W("Bannire mise  jour avec succs."),e("Bannire HERO mise  jour.",{variant:"success"})}catch(fe){const ye=fe.response?.data?.message||"Impossible d'enregistrer la bannire.";L(ye),e(ye,{variant:"error"})}finally{D(!1)}},[C,O,e]),we=h.useCallback(async()=>{if(he&&_e){const fe=new Date(he),ye=new Date(_e);if(Number.isNaN(fe.getTime())||Number.isNaN(ye.getTime())){oe("Dates de bannire invalides.");return}if(ye<fe){oe("La date de fin doit tre aprs la date de dbut.");return}}pe(!0),oe(""),Me("");try{const fe=new FormData;$&&fe.append("promoBanner",$),H&&fe.append("promoBannerMobile",H),fe.append("promoBannerLink",z.trim()),fe.append("promoBannerStartAt",he),fe.append("promoBannerEndAt",_e);const{data:ye}=await ie.put("/admin/promo-banner",fe,{headers:{"Content-Type":"multipart/form-data"}});X(ye?.promoBanner??Q),G(ye?.promoBannerMobile??B),ae(ye?.promoBannerLink??z),ve(up(ye?.promoBannerStartAt)),ee(up(ye?.promoBannerEndAt)),J(null),I(null),Me("Bannire publicitaire mise  jour avec succs."),e("Bannire publicitaire mise  jour.",{variant:"success"})}catch(fe){const ye=fe.response?.data?.message||"Impossible d'enregistrer la bannire publicitaire.";oe(ye),e(ye,{variant:"error"})}finally{pe(!1)}},[$,H,z,he,_e,Q,B,e]),ot=h.useCallback(async()=>{if(!r){u("Veuillez slectionner un logo desktop.");return}o(!0),u(""),p("");try{const fe=new FormData;fe.append("appLogoDesktop",r);const{data:ye}=await ie.put("/admin/app-logo/desktop",fe,{headers:{"Content-Type":"multipart/form-data"}});s(ye?.appLogoDesktop??n),a(null),p("Logo desktop mis  jour avec succs."),e("Logo desktop mis  jour.",{variant:"success"})}catch(fe){const ye=fe.response?.data?.message||"Impossible d'enregistrer le logo desktop.";u(ye),e(ye,{variant:"error"})}finally{o(!1)}},[r,n,e]),ht=h.useCallback(async()=>{if(!f){S("Veuillez slectionner un logo mobile.");return}x(!0),S(""),P("");try{const fe=new FormData;fe.append("appLogoMobile",f);const{data:ye}=await ie.put("/admin/app-logo/mobile",fe,{headers:{"Content-Type":"multipart/form-data"}});E(ye?.appLogoMobile??b),y(null),P("Logo mobile mis  jour avec succs."),e("Logo mobile mis  jour.",{variant:"success"})}catch(fe){const ye=fe.response?.data?.message||"Impossible d'enregistrer le logo mobile.";S(ye),e(ye,{variant:"error"})}finally{x(!1)}},[f,b,e]),Z=h.useCallback(async fe=>{if(fe.preventDefault(),!!De.trim()){nt(""),vt("");try{const{data:ye}=await ie.post("/admin/prohibited-words",{word:De.trim()});$e(Y=>[...Y,ye]),Ye(""),vt("Mot ajout  la liste."),e("Mot interdit ajout.",{variant:"success"})}catch(ye){const Y=ye.response?.data?.message||ye.message||"chec de l'ajout du mot interdit.";nt(Y),e(Y,{variant:"error"})}}},[De,e]),xe=h.useCallback(async fe=>{nt(""),vt("");try{await ie.delete(`/admin/prohibited-words/${fe}`),$e(ye=>ye.filter(Y=>Y.id!==fe)),vt("Mot supprim de la liste."),e("Mot interdit supprim.",{variant:"success"})}catch(ye){const Y=ye.response?.data?.message||ye.message||"Impossible de supprimer le mot.";nt(Y),e(Y,{variant:"error"})}},[e]);return Zt?t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},t.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8 sm:px-6 lg:px-8"},t.createElement("div",{className:"flex flex-col items-center justify-center py-24"},t.createElement("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),t.createElement("p",{className:"mt-4 text-sm font-medium text-gray-600"},"Chargement des paramtres")))):t.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-indigo-50/20"},t.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-8 sm:px-6 lg:px-8"},t.createElement("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-200/60"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 shadow-lg"},t.createElement(rl,{size:24,className:"text-white",strokeWidth:2.5})),t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-indigo-900 to-purple-900 bg-clip-text text-transparent"},"App Settings"),t.createElement("p",{className:"text-sm text-gray-600 mt-0.5"},"Logo, bannire HERO et bannire publicitaire"))),t.createElement(be,{to:"/admin",className:"inline-flex items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 hover:border-indigo-300 hover:text-indigo-700 transition-all"},t.createElement(Cr,{size:16}),"Retour au tableau de bord")),t.createElement("section",{className:"space-y-8"},t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100"},t.createElement($5,{size:20,className:"text-amber-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Logos de lapplication"),t.createElement("p",{className:"text-sm text-gray-500"},"Utiliss dans la barre de navigation (desktop et mobile)."))),t.createElement("div",{className:"grid gap-6 md:grid-cols-2"},t.createElement("div",{className:"space-y-3 rounded-xl border border-gray-100 bg-gray-50/50 p-4"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},t.createElement($5,{size:16})," Logo desktop"),d&&t.createElement("p",{className:"text-sm text-red-600"},d),m&&t.createElement("p",{className:"text-sm text-emerald-600"},m),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-white p-6 cursor-pointer hover:bg-gray-50 transition-colors"},n?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:n,alt:"Logo desktop",className:"h-16 w-auto max-w-full object-contain mx-auto mb-2"}),t.createElement("p",{className:"text-xs text-gray-500"},"Logo actuel")):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),t.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},t.createElement(Ji,{size:20,className:"text-gray-400"}),t.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),t.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG, WEBP  format horizontal"),t.createElement("input",{type:"file",accept:"image/*",onChange:ut,className:"hidden"}))),t.createElement("button",{type:"button",onClick:ot,disabled:i||!r,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},i?"Mise  jour":"Enregistrer le logo desktop")),t.createElement("div",{className:"space-y-3 rounded-xl border border-gray-100 bg-gray-50/50 p-4"},t.createElement("p",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2"},t.createElement(KO,{size:16})," Logo mobile"),N&&t.createElement("p",{className:"text-sm text-red-600"},N),k&&t.createElement("p",{className:"text-sm text-emerald-600"},k),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-white p-6 cursor-pointer hover:bg-gray-50 transition-colors"},b?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:b,alt:"Logo mobile",className:"h-16 w-16 rounded-xl object-contain mx-auto mb-2 border border-gray-200"}),t.createElement("p",{className:"text-xs text-gray-500"},"Logo actuel")):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun logo dfini."),t.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},t.createElement(Ji,{size:20,className:"text-gray-400"}),t.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),t.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG, WEBP  format carr"),t.createElement("input",{type:"file",accept:"image/*",onChange:Lt,className:"hidden"}))),t.createElement("button",{type:"button",onClick:ht,disabled:w||!f,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},w?"Mise  jour":"Enregistrer le logo mobile")))),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-100"},t.createElement(rl,{size:20,className:"text-indigo-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Bannire du HERO (Accueil)"),t.createElement("p",{className:"text-sm text-gray-500"},"Image en arrire-plan du HERO sur la page daccueil. 1600600px recommand."))),j&&t.createElement("p",{className:"text-sm text-red-600 mb-2"},j),K&&t.createElement("p",{className:"text-sm text-emerald-600 mb-2"},K),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},O?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:O,alt:"Bannire HERO",className:"h-32 w-full rounded-xl object-cover mx-auto mb-2 border-2 border-indigo-200"}),t.createElement("p",{className:"text-sm text-gray-600"},"Bannire actuelle")):t.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire dfinie."),t.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},t.createElement(Ji,{size:20,className:"text-gray-400"}),t.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Cliquez pour uploader"),t.createElement("span",{className:"text-xs text-gray-400"},"PNG, JPG  1600600px recommand"),t.createElement("input",{type:"file",accept:"image/*",onChange:zt,className:"hidden"}))),t.createElement("button",{type:"button",onClick:xt,disabled:R||!C,className:"mt-4 w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},R?"Mise  jour":"Enregistrer la bannire HERO")),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-pink-100"},t.createElement(rl,{size:20,className:"text-pink-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Bannire publicitaire"),t.createElement("p",{className:"text-sm text-gray-500"},"Bannire sur la page daccueil. Lien optionnel et plage de dates."))),Ne&&t.createElement("p",{className:"text-sm text-red-600 mb-2"},Ne),re&&t.createElement("p",{className:"text-sm text-emerald-600 mb-2"},re),t.createElement("div",{className:"space-y-4 mb-6"},t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Lien du banner"),t.createElement("input",{type:"text",value:z,onChange:fe=>ae(fe.target.value),placeholder:"https://exemple.com/promo ou /products",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),t.createElement("div",{className:"grid gap-3 sm:grid-cols-2"},t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de dbut"),t.createElement("input",{type:"date",value:he,onChange:fe=>ve(fe.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),t.createElement("div",null,t.createElement("label",{className:"text-xs font-semibold uppercase text-gray-500"},"Date de fin"),t.createElement("input",{type:"date",value:_e,onChange:fe=>ee(fe.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),t.createElement("p",{className:"text-xs text-gray-500"},"Hors priode, la bannire par dfaut saffiche.")),t.createElement("div",{className:"grid gap-4 lg:grid-cols-2 mb-6"},t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},Q?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:Q,alt:"Bannire publicitaire",className:"h-28 w-full rounded-xl object-cover mx-auto mb-2 border border-gray-200"}),t.createElement("p",{className:"text-xs text-gray-600"},"Desktop")):t.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire desktop."),t.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},t.createElement(Ji,{size:18,className:"text-gray-400"}),t.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Upload"),t.createElement("input",{type:"file",accept:"image/*",onChange:nr,className:"hidden"}))),t.createElement("div",{className:"flex flex-col items-center justify-center w-full border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-6 cursor-pointer hover:bg-gray-100 transition-colors"},B?t.createElement("div",{className:"text-center w-full"},t.createElement("img",{src:B,alt:"Bannire publicitaire mobile",className:"h-28 w-full rounded-xl object-cover mx-auto mb-2 border border-gray-200"}),t.createElement("p",{className:"text-xs text-gray-600"},"Mobile")):t.createElement("p",{className:"text-sm text-gray-500"},"Aucune bannire mobile."),t.createElement("label",{className:"mt-2 flex flex-col items-center gap-1 cursor-pointer"},t.createElement(Ji,{size:18,className:"text-gray-400"}),t.createElement("span",{className:"text-xs text-indigo-600 font-medium"},"Upload"),t.createElement("input",{type:"file",accept:"image/*",onChange:Bt,className:"hidden"})))),t.createElement("button",{type:"button",onClick:we,disabled:le,className:"w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},le?"Mise  jour":"Enregistrer la bannire publicitaire")),t.createElement("div",{className:"rounded-2xl border border-gray-200/60 bg-white p-6 shadow-sm"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-100"},t.createElement($r,{size:20,className:"text-amber-600"})),t.createElement("div",null,t.createElement("h2",{className:"text-lg font-semibold text-gray-900"},"Mots interdits"),t.createElement("p",{className:"text-sm text-gray-500"},"Ajoutez les mots que les vendeurs ne doivent pas utiliser dans leurs annonces. Les annonces contenant ces mots seront bloques."))),t.createElement("form",{onSubmit:Z,className:"flex flex-col gap-3 sm:flex-row mb-4"},t.createElement("div",{className:"relative flex-1"},t.createElement(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.createElement("input",{type:"text",placeholder:"Ex : contrefaon, interdit...",value:De,onChange:fe=>Ye(fe.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 bg-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:Je})),t.createElement("button",{type:"submit",disabled:Je||!De.trim(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},Je?t.createElement(t.Fragment,null,t.createElement("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Ajout..."):t.createElement(t.Fragment,null,t.createElement($r,{size:16}),"Ajouter"))),ct&&t.createElement("p",{className:"text-sm text-emerald-600 mb-2"},ct),Ze&&t.createElement("p",{className:"text-sm text-red-600 mb-2"},Ze),t.createElement("div",{className:"flex flex-wrap gap-2"},ge.map(fe=>t.createElement("span",{key:fe.id,className:"flex items-center gap-2 rounded-full border border-gray-200 bg-gray-50 px-3 py-1.5 text-xs font-semibold text-gray-700"},fe.word,t.createElement("button",{type:"button",onClick:()=>xe(fe.id),className:"text-[11px] text-red-600 hover:text-red-500 transition-colors"},t.createElement(_t,{size:12})))),!ge.length&&t.createElement("p",{className:"text-sm text-gray-400"},"Aucun mot interdit dfini pour l'instant."))))))}const Rle=12;function $le(){const e=Kr(),[r,a]=h.useState([]),[n,s]=h.useState(!1),[i,o]=h.useState(""),[d,u]=h.useState(1),[m,p]=h.useState(1),f=async()=>{s(!0),o("");try{const{data:y}=await ie.get("/products/public",{params:{certified:!0,sort:"new",limit:Rle,page:d}}),E=(Array.isArray(y?.items)?y.items:Array.isArray(y)?y:[]).filter(w=>w?.certified);a(E),p(y?.pagination?.pages||1)}catch(y){console.error("Erreur chargement certifis",y),o(y.response?.data?.message||y.message||"Impossible de charger les produits certifis.")}finally{s(!1)}};return h.useEffect(()=>{f()},[d]),t.createElement("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 space-y-4 sm:space-y-8 pb-8"},t.createElement("header",{className:"space-y-2"},t.createElement("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 mb-4 text-sm font-semibold text-gray-600 hover:text-indigo-600 transition-colors"},t.createElement(Cr,{className:"w-4 h-4"}),"Retour"),t.createElement("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900"},"Produits certifis"),t.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},"Toutes les annonces approuves par nos quipes certifies HDMarket.")),i&&t.createElement("p",{className:"text-sm text-red-600"},i),n?t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4"},Array.from({length:8}).map((y,b)=>t.createElement("div",{key:b,className:"rounded-2xl border border-gray-100 bg-white p-2 sm:p-4 shadow-sm"},t.createElement("div",{className:"h-32 rounded-xl bg-gray-100 animate-pulse"}),t.createElement("div",{className:"mt-2 sm:mt-3 space-y-1.5 sm:space-y-2"},t.createElement("div",{className:"h-3 rounded bg-gray-100 animate-pulse"}),t.createElement("div",{className:"h-3 w-24 rounded bg-gray-100 animate-pulse"}))))):r.length?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4"},r.map(y=>t.createElement(Aa,{key:y._id,p:y}))),t.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-gray-100 bg-white px-4 py-3 text-xs text-gray-500"},t.createElement("span",null,"Page ",d," / ",m),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>u(y=>Math.max(1,y-1)),disabled:d<=1,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>u(y=>Math.min(m,y+1)),disabled:d>=m,className:"rounded-full border border-gray-200 px-3 py-1 font-semibold text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},"Suivant")))):t.createElement("p",{className:"text-sm text-gray-500"},"Aucun produit certifi nest disponible pour le moment. Revenez plus tard."))}const KE=12,Lle=4,Ile=e=>new Set(e.map(r=>String(r?.id)).filter(Boolean)),XE=e=>{const r=Number(e);return!Number.isFinite(r)||r<0?"0":r.toLocaleString("fr-FR")},Dle={lectronique:"lectronique","Mode & Accessoires":"Mode","Maison & Jardin":"Maison",Vhicules:"Vhicules","Sports & Loisirs":"Sports",Services:"Services",Autre:"Autre"};function Fle(){const e=vl();Tn();const{user:r}=h.useContext(fr),[a,n]=h.useState([]),[s,i]=h.useState([]),[o,d]=h.useState(!1),[u,m]=h.useState(""),[p,f]=h.useState({}),[y,b]=h.useState({}),[E,w]=h.useState(!0),[x,N]=h.useState(!1);h.useEffect(()=>{let T=!0;return(async()=>{if(!r){T&&n(Uo());return}try{const D=await z5();T&&n(D.length?D:Uo())}catch{T&&n(Uo())}})(),()=>{T=!1}},[r]);const S=h.useMemo(()=>aB(a,Lle),[a]),k=h.useMemo(()=>Ile(a),[a]),P=r?._id||r?.id||null;h.useEffect(()=>{i([]),m(""),f({}),b({}),w(S.length>0)},[S]);const C=h.useCallback(async()=>{if(o||!E||!S.length)return;d(!0),m("");const T=new Set(s.map(K=>String(K?._id))),R={...p},D={...y},j=[];for(const K of S){if(j.length>=KE)break;if(D[K])continue;const W=R[K]||1;try{const{data:$}=await ie.get("/products/public",{params:{category:K,page:W,limit:KE,sort:"new"}}),J=Array.isArray($)?$:$?.items||[],Q=Array.isArray($)?1:$?.pagination?.pages||1;J.forEach(X=>{if(j.length>=KE||!X?._id)return;const H=String(X._id),I=X.user?._id||X.user?.id||X.user;P&&I&&String(I)===String(P)||k.has(H)||T.has(H)||j.some(B=>String(B._id)===H)||j.push(X)}),W>=Q?D[K]=!0:R[K]=W+1}catch($){m($.response?.data?.message||$.message||"Erreur de chargement.");break}}i(K=>[...K,...j]),f(R),b(D),S.some(K=>!D[K])||w(!1),d(!1)},[o,E,S,s,p,y,k,P]);h.useEffect(()=>{S.length&&C()},[S,C]),h.useEffect(()=>{if(!e||o||!E)return;const T=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-200&&C()};return window.addEventListener("scroll",T,{passive:!0}),()=>window.removeEventListener("scroll",T)},[e,o,E,C]);const _=async()=>{if(N(!0),i([]),f({}),b({}),w(!0),m(""),r)try{const T=await z5();n(T.length?T:Uo())}catch{n(Uo())}else n(Uo());N(!1)},O=h.useMemo(()=>{const T={};return S.forEach(R=>{const D=s.filter(j=>j.category===R);T[R]=D.length}),T},[S,s]);return o&&s.length===0?t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 py-12"},t.createElement("div",{className:"space-y-8"},t.createElement("div",{className:"space-y-4"},t.createElement("div",{className:"h-8 bg-gray-200 rounded-xl w-64 animate-pulse"}),t.createElement("div",{className:"h-4 bg-gray-200 rounded-lg w-96 animate-pulse"})),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},[1,2,3,4,5,6,7,8].map(T=>t.createElement("div",{key:T,className:"h-80 bg-white rounded-2xl border border-gray-100 animate-pulse"})))))):t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"bg-indigo-600 text-white"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},t.createElement("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},t.createElement("div",{className:"space-y-2"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(en,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("p",{className:"text-sm font-medium text-white/80 uppercase tracking-wide"},"Suggestions personnalises"),t.createElement("h1",{className:"text-3xl font-bold"},"Dcouvrez pour vous"))),t.createElement("p",{className:"text-white/90 text-sm max-w-2xl"},"Des produits slectionns spcialement pour vous, bass sur vos recherches et consultations rcentes.")),t.createElement("button",{type:"button",onClick:_,disabled:x||o,className:"inline-flex items-center gap-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2.5 text-sm font-semibold text-white hover:bg-white/20 transition-all disabled:opacity-50"},t.createElement(mo,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Actualiser")))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12"},a.length>0&&t.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-indigo-600"},t.createElement(Jn,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},XE(a.length))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Produits consults"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Vos vues rcentes")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-purple-600"},t.createElement(pw,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},XE(S.length))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Catgories prfres"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Bas sur vos intrts")),t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6"},t.createElement("div",{className:"flex items-center justify-between mb-4"},t.createElement("div",{className:"p-3 rounded-xl bg-emerald-600"},t.createElement(Kn,{className:"w-5 h-5 text-white"})),t.createElement("span",{className:"text-2xl font-bold text-gray-900"},XE(s.length))),t.createElement("p",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide"},"Suggestions"),t.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Produits recommands"))),S.length>0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-8"},t.createElement("div",{className:"flex items-center gap-2 mb-3"},t.createElement(ws,{className:"w-4 h-4 text-gray-500"}),t.createElement("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide"},"Catgories suggres")),t.createElement("div",{className:"flex flex-wrap gap-2"},S.map(T=>t.createElement("div",{key:T,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-50 border border-indigo-200"},t.createElement(rr,{className:"w-4 h-4 text-indigo-600"}),t.createElement("span",{className:"text-sm font-semibold text-indigo-700"},Dle[T]||T),O[T]>0&&t.createElement("span",{className:"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold"},O[T]))))),u&&t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-8"},t.createElement("div",{className:"flex items-center gap-3"},t.createElement(br,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.createElement("div",null,t.createElement("h3",{className:"text-sm font-bold text-red-800 mb-1"},"Erreur de chargement"),t.createElement("p",{className:"text-sm text-red-600"},u)))),!S.length&&!o&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4"},t.createElement(zr,{className:"w-10 h-10 text-indigo-600"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune suggestion disponible"),t.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Consultez quelques produits pour obtenir des suggestions personnalises bases sur vos intrts."),t.createElement("div",{className:"flex flex-wrap gap-3 justify-center"},t.createElement(be,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(Kn,{className:"w-4 h-4"}),"Explorer les produits"),t.createElement(be,{to:"/shops/verified",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl border-2 border-indigo-200 bg-white text-indigo-600 font-semibold hover:bg-indigo-50 transition-all"},t.createElement(Es,{className:"w-4 h-4"}),"Boutiques vrifies"))),!o&&s.length===0&&S.length>0&&t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement("div",{className:"mx-auto w-20 h-20 rounded-2xl bg-amber-100 flex items-center justify-center mb-4"},t.createElement(gc,{className:"w-10 h-10 text-amber-600"})),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucune suggestion disponible"),t.createElement("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto"},"Nous avons analys vos prfrences, mais aucun nouveau produit ne correspond  vos critres pour le moment."),t.createElement("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(mo,{className:"w-4 h-4"}),"Actualiser les suggestions")),s.length>0&&t.createElement(t.Fragment,null,t.createElement("div",{className:"flex items-center justify-between mb-6"},t.createElement("div",null,t.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Produits recommands"),t.createElement("p",{className:"text-sm text-gray-500 mt-1"},s.length," produit",s.length>1?"s":""," suggr",s.length>1?"s":""," pour vous"))),t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},s.map(T=>t.createElement(Aa,{key:T._id,p:T})))),o&&s.length>0&&t.createElement("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},[1,2,3,4].map(T=>t.createElement("div",{key:T,className:"h-80 bg-white rounded-2xl border border-gray-100 animate-pulse"}))),!e&&E&&!o&&s.length>0&&t.createElement("div",{className:"mt-8 text-center"},t.createElement("button",{type:"button",onClick:C,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-xl transition-all"},t.createElement(qO,{className:"w-4 h-4"}),"Charger plus de suggestions")),!E&&s.length>0&&t.createElement("div",{className:"mt-8 text-center"},t.createElement("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gray-100 text-gray-600 text-sm"},t.createElement(Kt,{className:"w-4 h-4"}),t.createElement("span",null,"Toutes les suggestions ont t charges")))))}const zle=["Brazzaville","Pointe-Noire","Ouesso","Oyo"],Ble=[{value:"new",label:"Neuf"},{value:"used",label:"Occasion"}],qle=[{value:"new",label:"Plus rcents"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix dcroissant"},{value:"discount",label:"Meilleures remises"}],Ule=12;function Vle(){const{showToast:e}=Si();Kr();const[r,a]=Jc(),[n,s]=h.useState(r.get("q")||""),[i,o]=h.useState(r.get("category")||""),[d,u]=h.useState(r.get("city")||""),[m,p]=h.useState(r.get("condition")||""),[f,y]=h.useState(r.get("minPrice")||""),[b,E]=h.useState(r.get("maxPrice")||""),[w,x]=h.useState(r.get("certified")||""),[N,S]=h.useState(r.get("shopVerified")||""),[k,P]=h.useState(r.get("hasDiscount")==="true"),[C,_]=h.useState(r.get("minRating")||""),[O,T]=h.useState(r.get("minFavorites")||""),[R,D]=h.useState(r.get("minSales")||""),[j,L]=h.useState(r.get("sort")||"new"),[K,W]=h.useState(Number(r.get("page"))||1),[$,J]=h.useState(!1),[Q,X]=h.useState({basic:!0,price:!1,quality:!1,location:!1}),[H,I]=h.useState([]),[B,G]=h.useState(!1),[z,ae]=h.useState(""),[he,ve]=h.useState(1),[_e,ee]=h.useState(0),le=h.useCallback(()=>{const ge=new URLSearchParams;return n&&ge.set("q",n),i&&ge.set("category",i),d&&ge.set("city",d),m&&ge.set("condition",m),f&&ge.set("minPrice",f),b&&ge.set("maxPrice",b),w&&ge.set("certified",w),N&&ge.set("shopVerified",N),k&&ge.set("hasDiscount","true"),C&&ge.set("minRating",C),O&&ge.set("minFavorites",O),R&&ge.set("minSales",R),j&&ge.set("sort",j),K>1&&ge.set("page",String(K)),ge},[n,i,d,m,f,b,w,N,k,C,O,R,j,K]);h.useEffect(()=>{const ge=le();a(ge,{replace:!0})},[le,a]);const pe=h.useCallback(async()=>{G(!0),ae("");try{const ge=le();ge.delete("page");const $e={};ge.forEach((bt,Ze)=>{Ze!=="page"&&($e[Ze]=bt)}),$e.page=K,$e.limit=Ule;const{data:De}=await ie.get("/products/public",{params:$e}),Ye=Array.isArray(De)?De:De?.items||[],Je=De?.pagination||{};I(Ye),ee(Je.total||Ye.length),ve(Math.max(1,Number(Je.pages)||1))}catch(ge){ae(ge.response?.data?.message||ge.message||"Impossible de charger les produits."),e("Erreur lors de la recherche",{variant:"error"})}finally{G(!1)}},[le,K,e]);h.useEffect(()=>{pe()},[pe]);const Ne=h.useMemo(()=>{let ge=0;return n&&ge++,i&&ge++,d&&ge++,m&&ge++,(f||b)&&ge++,w&&ge++,N&&ge++,k&&ge++,C&&ge++,O&&ge++,R&&ge++,ge},[n,i,d,m,f,b,w,N,k,C,O,R]),oe=()=>{s(""),o(""),u(""),p(""),y(""),E(""),x(""),S(""),P(!1),_(""),T(""),D(""),L("new"),W(1)},re=ge=>{X($e=>({...$e,[ge]:!$e[ge]}))},Me=({title:ge,icon:$e,section:De,children:Ye})=>{const Je=Q[De];return t.createElement("div",{className:"border-b border-gray-200 last:border-b-0"},t.createElement("button",{type:"button",onClick:()=>re(De),className:"w-full flex items-center justify-between px-4 py-3 text-left hover:bg-gray-50 transition-colors"},t.createElement("div",{className:"flex items-center gap-2"},t.createElement($e,{className:"w-4 h-4 text-gray-500"}),t.createElement("span",{className:"font-semibold text-gray-900"},ge)),Je?t.createElement(iN,{className:"w-4 h-4 text-gray-500"}):t.createElement(hs,{className:"w-4 h-4 text-gray-500"})),Je&&t.createElement("div",{className:"px-4 pb-4 space-y-3"},Ye))};return t.createElement("div",{className:"min-h-screen bg-gray-50"},t.createElement("div",{className:"bg-indigo-600 text-white"},t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},t.createElement("div",{className:"flex items-center gap-3 mb-6"},t.createElement("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm"},t.createElement(zr,{className:"w-6 h-6"})),t.createElement("div",null,t.createElement("h1",{className:"text-3xl font-bold"},"Recherche avance"),t.createElement("p",{className:"text-white/90 text-sm mt-1"},"Trouvez exactement ce que vous cherchez avec nos filtres avancs"))),t.createElement("div",{className:"relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.createElement("input",{type:"text",value:n,onChange:ge=>{s(ge.target.value),W(1)},placeholder:"Rechercher un produit...",className:"w-full pl-12 pr-4 py-4 rounded-xl bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/50 shadow-lg"})))),t.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},t.createElement("div",{className:"flex flex-col lg:flex-row gap-6"},t.createElement("aside",{className:`lg:w-80 flex-shrink-0 ${$?"block":"hidden lg:block"}`},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm sticky top-4"},t.createElement("div",{className:"p-4 border-b border-gray-200"},t.createElement("div",{className:"flex items-center justify-between mb-2"},t.createElement("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2"},t.createElement(jp,{className:"w-5 h-5"}),"Filtres"),Ne>0&&t.createElement("button",{type:"button",onClick:oe,className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700"},"Tout effacer")),Ne>0&&t.createElement("p",{className:"text-xs text-gray-500"},Ne," filtre",Ne>1?"s":""," actif",Ne>1?"s":"")),t.createElement("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto"},t.createElement(Me,{title:"Catgorie",icon:Ra,section:"basic"},t.createElement("select",{value:i,onChange:ge=>{o(ge.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},t.createElement("option",{value:""},"Toutes les catgories"),Vs.map(ge=>t.createElement("optgroup",{key:ge.id,label:ge.label},ge.options.map($e=>t.createElement("option",{key:$e.value,value:$e.value},$e.label)))))),t.createElement(Me,{title:"Prix",icon:ca,section:"price"},t.createElement("div",{className:"grid grid-cols-2 gap-2"},t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-1"},"Min (FCFA)"),t.createElement("input",{type:"number",value:f,onChange:ge=>{y(ge.target.value),W(1)},placeholder:"0",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-1"},"Max (FCFA)"),t.createElement("input",{type:"number",value:b,onChange:ge=>{E(ge.target.value),W(1)},placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})))),t.createElement(Me,{title:"Qualit & Options",icon:en,section:"quality"},t.createElement("div",{className:"space-y-3"},t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"tat"),t.createElement("div",{className:"space-y-2"},Ble.map(ge=>t.createElement("label",{key:ge.value,className:"flex items-center gap-2 cursor-pointer"},t.createElement("input",{type:"radio",name:"condition",value:ge.value,checked:m===ge.value,onChange:$e=>{p($e.target.value),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),t.createElement("span",{className:"text-sm text-gray-700"},ge.label))),t.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},t.createElement("input",{type:"radio",name:"condition",value:"",checked:m==="",onChange:()=>{p(""),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),t.createElement("span",{className:"text-sm text-gray-700"},"Tous")))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Certification"),t.createElement("select",{value:w,onChange:ge=>{x(ge.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},t.createElement("option",{value:""},"Tous"),t.createElement("option",{value:"true"},"Certifis uniquement"),t.createElement("option",{value:"false"},"Non certifis"))),t.createElement("div",null,t.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},t.createElement("input",{type:"checkbox",checked:N==="true",onChange:ge=>{S(ge.target.checked?"true":""),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),t.createElement("span",{className:"text-sm text-gray-700 flex items-center gap-1"},t.createElement(Kt,{className:"w-4 h-4 text-emerald-500"}),"Boutiques vrifies uniquement"))),t.createElement("div",null,t.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},t.createElement("input",{type:"checkbox",checked:k,onChange:ge=>{P(ge.target.checked),W(1)},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 rounded"}),t.createElement("span",{className:"text-sm text-gray-700 flex items-center gap-1"},t.createElement(Ra,{className:"w-4 h-4 text-amber-500"}),"Avec remise"))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Note minimum"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement(gr,{className:"w-4 h-4 text-amber-400 fill-amber-400"}),t.createElement("input",{type:"number",min:"0",max:"5",step:"0.5",value:C,onChange:ge=>{_(ge.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Minimum de favoris"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement(Ar,{className:"w-4 h-4 text-red-500"}),t.createElement("input",{type:"number",min:"0",value:O,onChange:ge=>{T(ge.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),t.createElement("div",null,t.createElement("label",{className:"block text-xs font-medium text-gray-700 mb-2"},"Minimum de ventes"),t.createElement("div",{className:"flex items-center gap-2"},t.createElement(rr,{className:"w-4 h-4 text-emerald-500"}),t.createElement("input",{type:"number",min:"0",value:R,onChange:ge=>{D(ge.target.value),W(1)},placeholder:"0",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))))),t.createElement(Me,{title:"Localisation",icon:Sr,section:"location"},t.createElement("select",{value:d,onChange:ge=>{u(ge.target.value),W(1)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},t.createElement("option",{value:""},"Toutes les villes"),zle.map(ge=>t.createElement("option",{key:ge,value:ge},ge))))))),t.createElement("main",{className:"flex-1 min-w-0"},t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-4 mb-6"},t.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},t.createElement("div",null,t.createElement("h2",{className:"text-lg font-bold text-gray-900"},B?"Recherche en cours...":`${_e} rsultat${_e>1?"s":""}`),Ne>0&&t.createElement("p",{className:"text-sm text-gray-500 mt-1"},Ne," filtre",Ne>1?"s":""," appliqu",Ne>1?"s":"")),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("button",{type:"button",onClick:()=>J(!$),className:"lg:hidden inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50"},t.createElement(ws,{className:"w-4 h-4"}),"Filtres",Ne>0&&t.createElement("span",{className:"px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold"},Ne)),t.createElement("select",{value:j,onChange:ge=>{L(ge.target.value),W(1)},className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},qle.map(ge=>t.createElement("option",{key:ge.value,value:ge.value},ge.label)))))),z&&t.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6"},t.createElement("p",{className:"text-sm text-red-700"},z)),B&&H.length===0?t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Array.from({length:6}).map((ge,$e)=>t.createElement("div",{key:$e,className:"bg-white rounded-2xl border border-gray-100 p-4 animate-pulse"},t.createElement("div",{className:"h-48 bg-gray-200 rounded-xl mb-4"}),t.createElement("div",{className:"h-4 bg-gray-200 rounded mb-2"}),t.createElement("div",{className:"h-4 bg-gray-200 rounded w-2/3"})))):H.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},H.map(ge=>t.createElement(Aa,{key:ge._id,p:ge,onProductClick:xm}))),he>1&&t.createElement("div",{className:"mt-8 flex items-center justify-center gap-2"},t.createElement("button",{type:"button",onClick:()=>W(ge=>Math.max(1,ge-1)),disabled:K<=1,className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Prcdent"),t.createElement("span",{className:"px-4 py-2 text-sm text-gray-600"},"Page ",K," sur ",he),t.createElement("button",{type:"button",onClick:()=>W(ge=>Math.min(he,ge+1)),disabled:K>=he,className:"px-4 py-2 rounded-xl border border-gray-200 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Suivant"))):t.createElement("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-12 text-center"},t.createElement(zr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Aucun rsultat"),t.createElement("p",{className:"text-sm text-gray-500 mb-6"},"Aucun produit ne correspond  vos critres de recherche."),t.createElement("button",{type:"button",onClick:oe,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors"},t.createElement(mo,{className:"w-4 h-4"}),"Rinitialiser les filtres"))))))}const kT={pending:"En attente",confirmed:"Confirme",delivering:"En livraison",delivered:"Livre",cancelled:"Annule"},CT={pending:"bg-gray-100 text-gray-700 border-gray-200",confirmed:"bg-amber-100 text-amber-800 border-amber-200",delivering:"bg-blue-100 text-blue-800 border-blue-200",delivered:"bg-emerald-100 text-emerald-800 border-emerald-200",cancelled:"bg-red-100 text-red-800 border-red-200"},Hle={pending:It,confirmed:wt,delivering:xr,delivered:Kt,cancelled:_t},Wle=12;function Gle(){const{user:e}=h.useContext(fr),[r,a]=h.useState([]),[n,s]=h.useState(!1),[i,o]=h.useState(""),[d,u]=h.useState(1),[m,p]=h.useState({total:0,totalPages:1}),[f,y]=h.useState(null),[b,E]=h.useState(""),[w,x]=h.useState("all"),[N,S]=h.useState(0);h.useEffect(()=>{k(),P()},[d]);const k=async()=>{s(!0),o("");try{const T=new URLSearchParams;T.set("page",d),T.set("limit",Wle);const{data:R}=await ie.get(`/orders/messages/conversations?${T.toString()}`);a(Array.isArray(R.items)?R.items:[]),p({total:R.total||0,totalPages:R.totalPages||1})}catch(T){o(T.response?.data?.message||"Impossible de charger les conversations."),a([])}finally{s(!1)}},P=async()=>{try{const{data:T}=await ie.get("/orders/messages/unread");S(T.count||0)}catch(T){console.error("Error loading unread count:",T)}},C=T=>{if(!T)return"";const R=new Date(T);if(Number.isNaN(R.getTime()))return"";const j=new Date-R,L=Math.floor(j/(1e3*60)),K=Math.floor(j/(1e3*60*60)),W=Math.floor(j/(1e3*60*60*24));return L<1?" l'instant":L<60?`${L} min`:K<24?`${K}h`:W<7?`${W}j`:R.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},_=r.filter(T=>{if(b.trim()){const R=b.toLowerCase();if(!(T.productInfo?.title?.toLowerCase().includes(R)||T.productInfo?.shopName?.toLowerCase().includes(R)||T.latestMessage?.text?.toLowerCase().includes(R)||T.orderCode?.toLowerCase().includes(R)))return!1}return!(w==="unread"&&(!T.unreadCount||T.unreadCount===0))}),O=()=>{y(null),k(),P()};return n&&r.length===0?t.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},t.createElement("div",{className:"flex items-center justify-center h-96"},t.createElement("div",{className:"text-center"},t.createElement("div",{className:"w-16 h-16 rounded-full border-4 border-indigo-100 border-t-indigo-600 animate-spin mx-auto mb-4"}),t.createElement("p",{className:"text-gray-600 dark:text-gray-400"},"Chargement des conversations..."))))):t.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900"},t.createElement("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white"},t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},t.createElement("div",{className:"flex items-center justify-between"},t.createElement("div",{className:"flex items-center gap-4"},t.createElement(be,{to:"/orders",className:"p-2 rounded-xl hover:bg-white/20 transition-colors"},t.createElement(Cr,{className:"w-5 h-5"})),t.createElement("div",{className:"flex items-center gap-3"},t.createElement("div",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm"},t.createElement(pr,{className:"w-7 h-7"})),t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold"},"Messages"),t.createElement("p",{className:"text-sm text-white/80"},m.total," conversation",m.total>1?"s":"","  ",N," non lu",N>1?"s":"")))),t.createElement("div",{className:"hidden sm:flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm"},t.createElement(An,{className:"w-4 h-4 text-emerald-300"}),t.createElement("span",{className:"text-sm"},"Messages scuriss"))))),t.createElement("div",{className:"max-w-6xl mx-auto px-4 py-6"},t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6"},t.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},t.createElement("div",{className:"flex-1 relative"},t.createElement(zr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.createElement("input",{type:"text",placeholder:"Rechercher par produit, boutique, message...",value:b,onChange:T=>E(T.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"}),b&&t.createElement("button",{type:"button",onClick:()=>E(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},t.createElement(_t,{className:"w-5 h-5"}))),t.createElement("div",{className:"flex items-center gap-2"},t.createElement("button",{type:"button",onClick:()=>x("all"),className:`px-4 py-2.5 rounded-xl text-sm font-semibold transition-all ${w==="all"?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`},t.createElement("span",{className:"flex items-center gap-2"},t.createElement(PF,{className:"w-4 h-4"}),"Tous")),t.createElement("button",{type:"button",onClick:()=>x("unread"),className:`px-4 py-2.5 rounded-xl text-sm font-semibold transition-all ${w==="unread"?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`},t.createElement("span",{className:"flex items-center gap-2"},t.createElement(ci,{className:"w-4 h-4"}),"Non lus",N>0&&t.createElement("span",{className:"px-1.5 py-0.5 rounded-full bg-red-500 text-white text-xs"},N)))))),i&&t.createElement("div",{className:"mb-6 p-4 rounded-2xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-center gap-3"},t.createElement("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/30"},t.createElement(_t,{className:"w-5 h-5 text-red-600"})),t.createElement("p",{className:"text-sm text-red-700 dark:text-red-300"},i)),_.length===0?t.createElement("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm p-12 text-center"},t.createElement("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center mx-auto mb-6"},t.createElement(pr,{className:"w-12 h-12 text-indigo-500"})),t.createElement("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"Aucune conversation"),t.createElement("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto"},b?"Aucune conversation ne correspond  votre recherche.":w==="unread"?"Vous avez lu tous vos messages.":"Vous n'avez pas encore de messages. Commencez une conversation depuis une commande."),t.createElement(be,{to:"/orders",className:"inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg"},t.createElement(wt,{className:"w-5 h-5"}),"Voir mes commandes")):t.createElement("div",{className:"space-y-3"},_.map(T=>{const R=Hle[T.status]||It,D=CT[T.status]||CT.pending,j=T.unreadCount>0,L=e?.role==="admin"||e?.role==="manager",K=T.customerId&&String(T.customerId)===String(e?._id),W=T.sellerId&&String(T.sellerId)===String(e?._id);let $=T.productInfo?.shopName||"Vendeur",J="Contacter le vendeur";return L||W?($="Client",J="Contacter l'acheteur"):K&&($=T.productInfo?.shopName||"Vendeur",J="Contacter le vendeur"),t.createElement("div",{key:T.orderId,className:`group bg-white dark:bg-gray-800 rounded-2xl border-2 transition-all duration-300 hover:shadow-lg cursor-pointer ${j?"border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/10":"border-gray-100 dark:border-gray-700 hover:border-indigo-200 dark:hover:border-indigo-800"}`},t.createElement("div",{className:"p-4"},t.createElement("div",{className:"flex gap-4"},t.createElement("div",{className:"relative flex-shrink-0"},T.productInfo?.image?t.createElement("img",{src:T.productInfo.image,alt:T.productInfo.title,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl object-cover"}):t.createElement("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 flex items-center justify-center"},t.createElement(wt,{className:"w-8 h-8 text-indigo-500"})),j&&t.createElement("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-white text-xs font-bold flex items-center justify-center shadow-lg animate-pulse"},T.unreadCount>9?"9+":T.unreadCount)),t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("div",{className:"flex items-start justify-between gap-2 mb-1"},t.createElement("div",{className:"flex-1 min-w-0"},t.createElement("h3",{className:`font-bold text-gray-900 dark:text-white truncate ${j?"text-indigo-900 dark:text-indigo-100":""}`},T.productInfo?.title||"Produit"),t.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},t.createElement("span",null,$),t.createElement("span",null,""),t.createElement("span",null,"#",T.orderCode))),t.createElement("div",{className:`hidden sm:inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg border text-xs font-semibold ${D}`},t.createElement(R,{className:"w-3 h-3"}),kT[T.status]||"Inconnu")),T.latestMessage?t.createElement("div",{className:"mt-2"},t.createElement("div",{className:"flex items-center gap-2 mb-1"},t.createElement("span",{className:`text-xs font-medium ${j?"text-indigo-600 dark:text-indigo-400":"text-gray-500 dark:text-gray-400"}`},T.latestMessage.sender?.shopName||T.latestMessage.sender?.name||"Utilisateur"),t.createElement("span",{className:"text-xs text-gray-400 dark:text-gray-500"},C(T.latestMessage.createdAt))),t.createElement("p",{className:`text-sm line-clamp-2 ${j?"text-gray-900 dark:text-white font-medium":"text-gray-600 dark:text-gray-300"}`},T.latestMessage.text)):t.createElement("p",{className:"text-sm text-gray-400 dark:text-gray-500 italic mt-2"},"Aucun message pour le moment"),t.createElement("div",{className:`sm:hidden inline-flex items-center gap-1.5 px-2 py-1 rounded-lg border text-xs font-semibold mt-2 ${D}`},t.createElement(R,{className:"w-3 h-3"}),kT[T.status]||"Inconnu"),t.createElement("div",{className:"mt-3",onClick:Q=>Q.stopPropagation()},t.createElement(Xc,{order:{_id:T.orderId,items:[{snapshot:T.productInfo}],customer:{_id:T.customerId||e?._id},status:T.status,deliveryCode:T.orderCode},buttonText:J,unreadCount:T.unreadCount||0,onClose:O}))),t.createElement("div",{className:"hidden sm:flex items-center"},t.createElement(Rr,{className:"w-5 h-5 text-gray-300 dark:text-gray-600 group-hover:text-indigo-500 transition-colors"})))))})),m.totalPages>1&&t.createElement("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 p-4"},t.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"Page ",t.createElement("span",{className:"font-bold text-gray-900 dark:text-white"},d)," sur"," ",t.createElement("span",{className:"font-bold text-gray-900 dark:text-white"},m.totalPages)),t.createElement("div",{className:"flex gap-2"},t.createElement("button",{type:"button",onClick:()=>u(T=>Math.max(1,T-1)),disabled:d<=1,className:"px-5 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Prcdent"),t.createElement("button",{type:"button",onClick:()=>u(T=>Math.min(m.totalPages,T+1)),disabled:d>=m.totalPages,className:"px-5 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},"Suivant"))),t.createElement("div",{className:"mt-8 text-center"},t.createElement("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm"},t.createElement($r,{className:"w-4 h-4 text-emerald-500"}),t.createElement("span",null,"Tous vos messages sont chiffrs et scuriss")))),f&&t.createElement(Xc,{order:f,onClose:O}))}const qo=hm("PushNotifications",{});function Kle(e){const r=h.useRef(!1);h.useEffect(()=>{if(!e?.token||!Nc.isNativePlatform()||r.current)return;r.current=!0;let a=!0;(async()=>{(await qo.checkPermissions()).receive!=="granted"&&(await qo.requestPermissions()).receive!=="granted"||await qo.register()})().catch(()=>{});const s=qo.addListener("registration",async m=>{if(!(!a||!m?.value))try{await ie.post("/users/push-tokens",{token:m.value,platform:Nc.getPlatform()})}catch{}}),i=qo.addListener("registrationError",()=>{}),o=m=>{const p=m?.notification?.data||m?.data||{},f=p.url||p.link||p.deeplink||p.path;if(!f||typeof f!="string")return null;const y=f.trim();return y?y.startsWith("http")||y.startsWith("/")?y:`/${y}`:null},d=qo.addListener("pushNotificationReceived",m=>{const p=o(m);p&&typeof window<"u"&&window.dispatchEvent(new CustomEvent("hdmarket:notification-link",{detail:{link:p},bubbles:!0,cancelable:!1})),typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))}),u=qo.addListener("pushNotificationActionPerformed",m=>{const p=o(m);if(p&&typeof window<"u"){window.location.assign(p);return}typeof window<"u"&&window.dispatchEvent(new Event("hdmarket:notifications-refresh"))});return()=>{a=!1,s.remove(),i.remove(),d.remove(),u.remove()}},[e?.token])}function Xle(){const{user:e}=h.useContext(fr);return Kle(e),null}var AT={};const V$=function(e){const r=[];let a=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?r[a++]=s:s<2048?(r[a++]=s>>6|192,r[a++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[a++]=s>>18|240,r[a++]=s>>12&63|128,r[a++]=s>>6&63|128,r[a++]=s&63|128):(r[a++]=s>>12|224,r[a++]=s>>6&63|128,r[a++]=s&63|128)}return r},Yle=function(e){const r=[];let a=0,n=0;for(;a<e.length;){const s=e[a++];if(s<128)r[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[a++];r[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[a++],o=e[a++],d=e[a++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|d&63)-65536;r[n++]=String.fromCharCode(55296+(u>>10)),r[n++]=String.fromCharCode(56320+(u&1023))}else{const i=e[a++],o=e[a++];r[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return r.join("")},H$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,d=o?e[s+1]:0,u=s+2<e.length,m=u?e[s+2]:0,p=i>>2,f=(i&3)<<4|d>>4;let y=(d&15)<<2|m>>6,b=m&63;u||(b=64,o||(y=64)),n.push(a[p],a[f],a[y],a[b])}return n.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(V$(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):Yle(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const a=r?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=a[e.charAt(s++)],d=s<e.length?a[e.charAt(s)]:0;++s;const m=s<e.length?a[e.charAt(s)]:64;++s;const f=s<e.length?a[e.charAt(s)]:64;if(++s,i==null||d==null||m==null||f==null)throw new Qle;const y=i<<2|d>>4;if(n.push(y),m!==64){const b=d<<4&240|m>>2;if(n.push(b),f!==64){const E=m<<6&192|f;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jle=function(e){const r=V$(e);return H$.encodeByteArray(r,!0)},W$=function(e){return Jle(e).replace(/\./g,"")},Zle=function(e){try{return H$.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};function ece(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tce=()=>ece().__FIREBASE_DEFAULTS__,rce=()=>{if(typeof process>"u"||typeof AT>"u")return;const e=AT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ace=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&Zle(e[1]);return r&&JSON.parse(r)},nce=()=>{try{return tce()||rce()||ace()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},G$=()=>{var e;return(e=nce())===null||e===void 0?void 0:e.config};class sce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}wrapCallback(r){return(a,n)=>{a?this.reject(a):this.resolve(n),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(a):r(a,n))}}}function K$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((e,r)=>{try{let a=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),a||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{a=!1},s.onerror=()=>{var i;r(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(a){r(a)}})}function X$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ice="FirebaseError";class Cl extends Error{constructor(r,a,n){super(a),this.code=r,this.customData=n,this.name=ice,Object.setPrototypeOf(this,Cl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mg.prototype.create)}}class Mg{constructor(r,a,n){this.service=r,this.serviceName=a,this.errors=n}create(r,...a){const n=a[0]||{},s=`${this.service}/${r}`,i=this.errors[r],o=i?oce(i,n):"Error",d=`${this.serviceName}: ${o} (${s}).`;return new Cl(s,d,n)}}function oce(e,r){return e.replace(lce,(a,n)=>{const s=r[n];return s!=null?String(s):`<${n}?>`})}const lce=/\{\$([^}]+)}/g;function F0(e,r){if(e===r)return!0;const a=Object.keys(e),n=Object.keys(r);for(const s of a){if(!n.includes(s))return!1;const i=e[s],o=r[s];if(_T(i)&&_T(o)){if(!F0(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!a.includes(s))return!1;return!0}function _T(e){return e!==null&&typeof e=="object"}const cce=1e3,dce=2,uce=14400*1e3,mce=.5;function PT(e,r=cce,a=dce){const n=r*Math.pow(a,e),s=Math.round(mce*n*(Math.random()-.5)*2);return Math.min(uce,n+s)}function jg(e){return e&&e._delegate?e._delegate:e}class po{constructor(r,a,n){this.name=r,this.instanceFactory=a,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const Wo="[DEFAULT]";class fce{constructor(r,a){this.name=r,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const a=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(a)){const n=new sce;if(this.instancesDeferred.set(a,n),this.isInitialized(a)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:a});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(r){var a;const n=this.normalizeInstanceIdentifier(r?.identifier),s=(a=r?.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(gce(r))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[a,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(r=Wo){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...r.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Wo){return this.instances.has(r)}getOptions(r=Wo){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:a={}}=r,n=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:a});for(const[i,o]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(i);n===d&&o.resolve(s)}return s}onInit(r,a){var n;const s=this.normalizeInstanceIdentifier(a),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(r),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&r(o,s),()=>{i.delete(r)}}invokeOnInitCallbacks(r,a){const n=this.onInitCallbacks.get(a);if(n)for(const s of n)try{s(r,a)}catch{}}getOrInitializeService({instanceIdentifier:r,options:a={}}){let n=this.instances.get(r);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:pce(r),options:a}),this.instances.set(r,n),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(n,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,n)}catch{}return n||null}normalizeInstanceIdentifier(r=Wo){return this.component?this.component.multipleInstances?r:Wo:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pce(e){return e===Wo?void 0:e}function gce(e){return e.instantiationMode==="EAGER"}class hce{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const a=this.getProvider(r.name);if(a.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);a.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const a=new fce(r,this);return this.providers.set(r,a),a}getProviders(){return Array.from(this.providers.values())}}var Dr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Dr||(Dr={}));const yce={debug:Dr.DEBUG,verbose:Dr.VERBOSE,info:Dr.INFO,warn:Dr.WARN,error:Dr.ERROR,silent:Dr.SILENT},bce=Dr.INFO,xce={[Dr.DEBUG]:"log",[Dr.VERBOSE]:"log",[Dr.INFO]:"info",[Dr.WARN]:"warn",[Dr.ERROR]:"error"},vce=(e,r,...a)=>{if(r<e.logLevel)return;const n=new Date().toISOString(),s=xce[r];if(s)console[s](`[${n}]  ${e.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Y${constructor(r){this.name=r,this._logLevel=bce,this._logHandler=vce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Dr))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?yce[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Dr.DEBUG,...r),this._logHandler(this,Dr.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Dr.VERBOSE,...r),this._logHandler(this,Dr.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Dr.INFO,...r),this._logHandler(this,Dr.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Dr.WARN,...r),this._logHandler(this,Dr.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Dr.ERROR,...r),this._logHandler(this,Dr.ERROR,...r)}}const Ece=(e,r)=>r.some(a=>e instanceof a);let TT,OT;function wce(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nce(){return OT||(OT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q$=new WeakMap,H1=new WeakMap,J$=new WeakMap,YE=new WeakMap,k2=new WeakMap;function Sce(e){const r=new Promise((a,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{a(oo(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return r.then(a=>{a instanceof IDBCursor&&Q$.set(a,e)}).catch(()=>{}),k2.set(r,e),r}function kce(e){if(H1.has(e))return;const r=new Promise((a,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{a(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});H1.set(e,r)}let W1={get(e,r,a){if(e instanceof IDBTransaction){if(r==="done")return H1.get(e);if(r==="objectStoreNames")return e.objectStoreNames||J$.get(e);if(r==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return oo(e[r])},set(e,r,a){return e[r]=a,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function Cce(e){W1=e(W1)}function Ace(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...a){const n=e.call(QE(this),r,...a);return J$.set(n,r.sort?r.sort():[r]),oo(n)}:Nce().includes(e)?function(...r){return e.apply(QE(this),r),oo(Q$.get(this))}:function(...r){return oo(e.apply(QE(this),r))}}function _ce(e){return typeof e=="function"?Ace(e):(e instanceof IDBTransaction&&kce(e),Ece(e,wce())?new Proxy(e,W1):e)}function oo(e){if(e instanceof IDBRequest)return Sce(e);if(YE.has(e))return YE.get(e);const r=_ce(e);return r!==e&&(YE.set(e,r),k2.set(r,e)),r}const QE=e=>k2.get(e);function Z$(e,r,{blocked:a,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(e,r),d=oo(o);return n&&o.addEventListener("upgradeneeded",u=>{n(oo(o.result),u.oldVersion,u.newVersion,oo(o.transaction),u)}),a&&o.addEventListener("blocked",u=>a(u.oldVersion,u.newVersion,u)),d.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Pce=["get","getKey","getAll","getAllKeys","count"],Tce=["put","add","delete","clear"],JE=new Map;function MT(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(JE.get(r))return JE.get(r);const a=r.replace(/FromIndex$/,""),n=r!==a,s=Tce.includes(a);if(!(a in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Pce.includes(a)))return;const i=async function(o,...d){const u=this.transaction(o,s?"readwrite":"readonly");let m=u.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[a](...d),s&&u.done]))[0]};return JE.set(r,i),i}Cce(e=>({...e,get:(r,a,n)=>MT(r,a)||e.get(r,a,n),has:(r,a)=>!!MT(r,a)||e.has(r,a)}));class Oce{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(Mce(a)){const n=a.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(a=>a).join(" ")}}function Mce(e){const r=e.getComponent();return r?.type==="VERSION"}const G1="@firebase/app",jT="0.10.13";const Ei=new Y$("@firebase/app"),jce="@firebase/app-compat",Rce="@firebase/analytics-compat",$ce="@firebase/analytics",Lce="@firebase/app-check-compat",Ice="@firebase/app-check",Dce="@firebase/auth",Fce="@firebase/auth-compat",zce="@firebase/database",Bce="@firebase/data-connect",qce="@firebase/database-compat",Uce="@firebase/functions",Vce="@firebase/functions-compat",Hce="@firebase/installations",Wce="@firebase/installations-compat",Gce="@firebase/messaging",Kce="@firebase/messaging-compat",Xce="@firebase/performance",Yce="@firebase/performance-compat",Qce="@firebase/remote-config",Jce="@firebase/remote-config-compat",Zce="@firebase/storage",ede="@firebase/storage-compat",tde="@firebase/firestore",rde="@firebase/vertexai-preview",ade="@firebase/firestore-compat",nde="firebase";const K1="[DEFAULT]",sde={[G1]:"fire-core",[jce]:"fire-core-compat",[$ce]:"fire-analytics",[Rce]:"fire-analytics-compat",[Ice]:"fire-app-check",[Lce]:"fire-app-check-compat",[Dce]:"fire-auth",[Fce]:"fire-auth-compat",[zce]:"fire-rtdb",[Bce]:"fire-data-connect",[qce]:"fire-rtdb-compat",[Uce]:"fire-fn",[Vce]:"fire-fn-compat",[Hce]:"fire-iid",[Wce]:"fire-iid-compat",[Gce]:"fire-fcm",[Kce]:"fire-fcm-compat",[Xce]:"fire-perf",[Yce]:"fire-perf-compat",[Qce]:"fire-rc",[Jce]:"fire-rc-compat",[Zce]:"fire-gcs",[ede]:"fire-gcs-compat",[tde]:"fire-fst",[ade]:"fire-fst-compat",[rde]:"fire-vertex","fire-js":"fire-js",[nde]:"fire-js-all"};const dm=new Map,ide=new Map,X1=new Map;function RT(e,r){try{e.container.addComponent(r)}catch(a){Ei.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,a)}}function hl(e){const r=e.name;if(X1.has(r))return Ei.debug(`There were multiple attempts to register component ${r}.`),!1;X1.set(r,e);for(const a of dm.values())RT(a,e);for(const a of ide.values())RT(a,e);return!0}function Rg(e,r){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(r)}const ode={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Mg("app","Firebase",ode);class lde{constructor(r,a,n){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}function eL(e,r={}){let a=e;typeof r!="object"&&(r={name:r});const n=Object.assign({name:K1,automaticDataCollectionEnabled:!1},r),s=n.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(a||(a=G$()),!a)throw lo.create("no-options");const i=dm.get(s);if(i){if(F0(a,i.options)&&F0(n,i.config))return i;throw lo.create("duplicate-app",{appName:s})}const o=new hce(s);for(const u of X1.values())o.addComponent(u);const d=new lde(a,n,o);return dm.set(s,d),d}function cde(e=K1){const r=dm.get(e);if(!r&&e===K1&&G$())return eL();if(!r)throw lo.create("no-app",{appName:e});return r}function $T(){return Array.from(dm.values())}function co(e,r,a){var n;let s=(n=sde[e])!==null&&n!==void 0?n:e;a&&(s+=`-${a}`);const i=s.match(/\s|\//),o=r.match(/\s|\//);if(i||o){const d=[`Unable to register library "${s}" with version "${r}":`];i&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&d.push("and"),o&&d.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Ei.warn(d.join(" "));return}hl(new po(`${s}-version`,()=>({library:s,version:r}),"VERSION"))}const dde="firebase-heartbeat-database",ude=1,um="firebase-heartbeat-store";let ZE=null;function tL(){return ZE||(ZE=Z$(dde,ude,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(um)}catch(a){console.warn(a)}}}}).catch(e=>{throw lo.create("idb-open",{originalErrorMessage:e.message})})),ZE}async function mde(e){try{const a=(await tL()).transaction(um),n=await a.objectStore(um).get(rL(e));return await a.done,n}catch(r){if(r instanceof Cl)Ei.warn(r.message);else{const a=lo.create("idb-get",{originalErrorMessage:r?.message});Ei.warn(a.message)}}}async function LT(e,r){try{const n=(await tL()).transaction(um,"readwrite");await n.objectStore(um).put(r,rL(e)),await n.done}catch(a){if(a instanceof Cl)Ei.warn(a.message);else{const n=lo.create("idb-set",{originalErrorMessage:a?.message});Ei.warn(n.message)}}}function rL(e){return`${e.name}!${e.options.appId}`}const fde=1024,pde=720*60*60*1e3;class gde{constructor(r){this.container=r,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new yde(a),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var r,a;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IT();return((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const d=new Date(o.date).valueOf();return Date.now()-d<=pde}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ei.warn(n)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=IT(),{heartbeatsToSend:n,unsentEntries:s}=hde(this._heartbeatsCache.heartbeats),i=W$(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=a,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(a){return Ei.warn(a),""}}}function IT(){return new Date().toISOString().substring(0,10)}function hde(e,r=fde){const a=[];let n=e.slice();for(const s of e){const i=a.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),DT(a)>r){i.dates.pop();break}}else if(a.push({agent:s.agent,dates:[s.date]}),DT(a)>r){a.pop();break}n=n.slice(1)}return{heartbeatsToSend:a,unsentEntries:n}}class yde{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await mde(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var a;if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:s.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var a;if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...r.heartbeats]})}else return}}function DT(e){return W$(JSON.stringify({version:2,heartbeats:e})).length}function bde(e){hl(new po("platform-logger",r=>new Oce(r),"PRIVATE")),hl(new po("heartbeat",r=>new gde(r),"PRIVATE")),co(G1,jT,e),co(G1,jT,"esm2017"),co("fire-js","")}bde("");var xde="firebase",vde="10.14.1";co(xde,vde,"app");const aL="@firebase/installations",C2="0.6.9";const nL=1e4,sL=`w:${C2}`,iL="FIS_v2",Ede="https://firebaseinstallations.googleapis.com/v1",wde=3600*1e3,Nde="installations",Sde="Installations";const kde={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yl=new Mg(Nde,Sde,kde);function oL(e){return e instanceof Cl&&e.code.includes("request-failed")}function lL({projectId:e}){return`${Ede}/projects/${e}/installations`}function cL(e){return{token:e.token,requestStatus:2,expiresIn:Ade(e.expiresIn),creationTime:Date.now()}}async function dL(e,r){const n=(await r.json()).error;return yl.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function uL({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Cde(e,{refreshToken:r}){const a=uL(e);return a.append("Authorization",_de(r)),a}async function mL(e){const r=await e();return r.status>=500&&r.status<600?e():r}function Ade(e){return Number(e.replace("s","000"))}function _de(e){return`${iL} ${e}`}async function Pde({appConfig:e,heartbeatServiceProvider:r},{fid:a}){const n=lL(e),s=uL(e),i=r.getImmediate({optional:!0});if(i){const m=await i.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const o={fid:a,authVersion:iL,appId:e.appId,sdkVersion:sL},d={method:"POST",headers:s,body:JSON.stringify(o)},u=await mL(()=>fetch(n,d));if(u.ok){const m=await u.json();return{fid:m.fid||a,registrationStatus:2,refreshToken:m.refreshToken,authToken:cL(m.authToken)}}else throw await dL("Create Installation",u)}function fL(e){return new Promise(r=>{setTimeout(r,e)})}function Tde(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Ode=/^[cdef][\w-]{21}$/,Y1="";function Mde(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const a=jde(e);return Ode.test(a)?a:Y1}catch{return Y1}}function jde(e){return Tde(e).substr(0,22)}function $g(e){return`${e.appName}!${e.appId}`}const pL=new Map;function gL(e,r){const a=$g(e);hL(a,r),Rde(a,r)}function hL(e,r){const a=pL.get(e);if(a)for(const n of a)n(r)}function Rde(e,r){const a=$de();a&&a.postMessage({key:e,fid:r}),Lde()}let Zo=null;function $de(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=e=>{hL(e.data.key,e.data.fid)}),Zo}function Lde(){pL.size===0&&Zo&&(Zo.close(),Zo=null)}const Ide="firebase-installations-database",Dde=1,bl="firebase-installations-store";let ew=null;function A2(){return ew||(ew=Z$(Ide,Dde,{upgrade:(e,r)=>{r===0&&e.createObjectStore(bl)}})),ew}async function z0(e,r){const a=$g(e),s=(await A2()).transaction(bl,"readwrite"),i=s.objectStore(bl),o=await i.get(a);return await i.put(r,a),await s.done,(!o||o.fid!==r.fid)&&gL(e,r.fid),r}async function yL(e){const r=$g(e),n=(await A2()).transaction(bl,"readwrite");await n.objectStore(bl).delete(r),await n.done}async function Lg(e,r){const a=$g(e),s=(await A2()).transaction(bl,"readwrite"),i=s.objectStore(bl),o=await i.get(a),d=r(o);return d===void 0?await i.delete(a):await i.put(d,a),await s.done,d&&(!o||o.fid!==d.fid)&&gL(e,d.fid),d}async function _2(e){let r;const a=await Lg(e.appConfig,n=>{const s=Fde(n),i=zde(e,s);return r=i.registrationPromise,i.installationEntry});return a.fid===Y1?{installationEntry:await r}:{installationEntry:a,registrationPromise:r}}function Fde(e){const r=e||{fid:Mde(),registrationStatus:0};return bL(r)}function zde(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(yl.create("app-offline"));return{installationEntry:r,registrationPromise:s}}const a={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},n=Bde(e,a);return{installationEntry:a,registrationPromise:n}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:qde(e)}:{installationEntry:r}}async function Bde(e,r){try{const a=await Pde(e,r);return z0(e.appConfig,a)}catch(a){throw oL(a)&&a.customData.serverCode===409?await yL(e.appConfig):await z0(e.appConfig,{fid:r.fid,registrationStatus:0}),a}}async function qde(e){let r=await FT(e.appConfig);for(;r.registrationStatus===1;)await fL(100),r=await FT(e.appConfig);if(r.registrationStatus===0){const{installationEntry:a,registrationPromise:n}=await _2(e);return n||a}return r}function FT(e){return Lg(e,r=>{if(!r)throw yl.create("installation-not-found");return bL(r)})}function bL(e){return Ude(e)?{fid:e.fid,registrationStatus:0}:e}function Ude(e){return e.registrationStatus===1&&e.registrationTime+nL<Date.now()}async function Vde({appConfig:e,heartbeatServiceProvider:r},a){const n=Hde(e,a),s=Cde(e,a),i=r.getImmediate({optional:!0});if(i){const m=await i.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const o={installation:{sdkVersion:sL,appId:e.appId}},d={method:"POST",headers:s,body:JSON.stringify(o)},u=await mL(()=>fetch(n,d));if(u.ok){const m=await u.json();return cL(m)}else throw await dL("Generate Auth Token",u)}function Hde(e,{fid:r}){return`${lL(e)}/${r}/authTokens:generate`}async function P2(e,r=!1){let a;const n=await Lg(e.appConfig,i=>{if(!xL(i))throw yl.create("not-registered");const o=i.authToken;if(!r&&Kde(o))return i;if(o.requestStatus===1)return a=Wde(e,r),i;{if(!navigator.onLine)throw yl.create("app-offline");const d=Yde(i);return a=Gde(e,d),d}});return a?await a:n.authToken}async function Wde(e,r){let a=await zT(e.appConfig);for(;a.authToken.requestStatus===1;)await fL(100),a=await zT(e.appConfig);const n=a.authToken;return n.requestStatus===0?P2(e,r):n}function zT(e){return Lg(e,r=>{if(!xL(r))throw yl.create("not-registered");const a=r.authToken;return Qde(a)?Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}):r})}async function Gde(e,r){try{const a=await Vde(e,r),n=Object.assign(Object.assign({},r),{authToken:a});return await z0(e.appConfig,n),a}catch(a){if(oL(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await yL(e.appConfig);else{const n=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});await z0(e.appConfig,n)}throw a}}function xL(e){return e!==void 0&&e.registrationStatus===2}function Kde(e){return e.requestStatus===2&&!Xde(e)}function Xde(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+wde}function Yde(e){const r={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:r})}function Qde(e){return e.requestStatus===1&&e.requestTime+nL<Date.now()}async function Jde(e){const r=e,{installationEntry:a,registrationPromise:n}=await _2(r);return n?n.catch(console.error):P2(r).catch(console.error),a.fid}async function Zde(e,r=!1){const a=e;return await eue(a),(await P2(a,r)).token}async function eue(e){const{registrationPromise:r}=await _2(e);r&&await r}function tue(e){if(!e||!e.options)throw tw("App Configuration");if(!e.name)throw tw("App Name");const r=["projectId","apiKey","appId"];for(const a of r)if(!e.options[a])throw tw(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function tw(e){return yl.create("missing-app-config-values",{valueName:e})}const vL="installations",rue="installations-internal",aue=e=>{const r=e.getProvider("app").getImmediate(),a=tue(r),n=Rg(r,"heartbeat");return{app:r,appConfig:a,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},nue=e=>{const r=e.getProvider("app").getImmediate(),a=Rg(r,vL).getImmediate();return{getId:()=>Jde(a),getToken:s=>Zde(a,s)}};function sue(){hl(new po(vL,aue,"PUBLIC")),hl(new po(rue,nue,"PRIVATE"))}sue();co(aL,C2);co(aL,C2,"esm2017");const B0="analytics",iue="firebase_id",oue="origin",lue=60*1e3,cue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T2="https://www.googletagmanager.com/gtag/js";const Ka=new Y$("@firebase/analytics");const due={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Mg("analytics","Analytics",due);function uue(e){if(!e.startsWith(T2)){const r=_n.create("invalid-gtag-resource",{gtagURL:e});return Ka.warn(r.message),""}return e}function EL(e){return Promise.all(e.map(r=>r.catch(a=>a)))}function mue(e,r){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(e,r)),a}function fue(e,r){const a=mue("firebase-js-sdk-policy",{createScriptURL:uue}),n=document.createElement("script"),s=`${T2}?l=${e}&id=${r}`;n.src=a?a?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function pue(e){let r=[];return Array.isArray(window[e])?r=window[e]:window[e]=r,r}async function gue(e,r,a,n,s,i){const o=n[s];try{if(o)await r[o];else{const u=(await EL(a)).find(m=>m.measurementId===s);u&&await r[u.appId]}}catch(d){Ka.error(d)}e("config",s,i)}async function hue(e,r,a,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const d=await EL(a);for(const u of o){const m=d.find(f=>f.measurementId===u),p=m&&r[m.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(r)),await Promise.all(i),e("event",n,s||{})}catch(i){Ka.error(i)}}function yue(e,r,a,n){async function s(i,...o){try{if(i==="event"){const[d,u]=o;await hue(e,r,a,d,u)}else if(i==="config"){const[d,u]=o;await gue(e,r,a,n,d,u)}else if(i==="consent"){const[d,u]=o;e("consent",d,u)}else if(i==="get"){const[d,u,m]=o;e("get",d,u,m)}else if(i==="set"){const[d]=o;e("set",d)}else e(i,...o)}catch(d){Ka.error(d)}}return s}function bue(e,r,a,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=yue(i,e,r,a),{gtagCore:i,wrappedGtag:window[s]}}function xue(e){const r=window.document.getElementsByTagName("script");for(const a of Object.values(r))if(a.src&&a.src.includes(T2)&&a.src.includes(e))return a;return null}const vue=30,Eue=1e3;class wue{constructor(r={},a=Eue){this.throttleMetadata=r,this.intervalMillis=a}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,a){this.throttleMetadata[r]=a}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const wL=new wue;function Nue(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Sue(e){var r;const{appId:a,apiKey:n}=e,s={method:"GET",headers:Nue(n)},i=cue.replace("{app-id}",a),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let d="";try{const u=await o.json();!((r=u.error)===null||r===void 0)&&r.message&&(d=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:o.status,responseMessage:d})}return o.json()}async function kue(e,r=wL,a){const{appId:n,apiKey:s,measurementId:i}=e.options;if(!n)throw _n.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw _n.create("no-api-key")}const o=r.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new _ue;return setTimeout(async()=>{d.abort()},lue),NL({appId:n,apiKey:s,measurementId:i},o,d,r)}async function NL(e,{throttleEndTimeMillis:r,backoffCount:a},n,s=wL){var i;const{appId:o,measurementId:d}=e;try{await Cue(n,r)}catch(u){if(d)return Ka.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:d};throw u}try{const u=await Sue(e);return s.deleteThrottleMetadata(o),u}catch(u){const m=u;if(!Aue(m)){if(s.deleteThrottleMetadata(o),d)return Ka.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:o,measurementId:d};throw u}const p=Number((i=m?.customData)===null||i===void 0?void 0:i.httpStatus)===503?PT(a,s.intervalMillis,vue):PT(a,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+p,backoffCount:a+1};return s.setThrottleMetadata(o,f),Ka.debug(`Calling attemptFetch again in ${p} millis`),NL(e,f,n,s)}}function Cue(e,r){return new Promise((a,n)=>{const s=Math.max(r-Date.now(),0),i=setTimeout(a,s);e.addEventListener(()=>{clearTimeout(i),n(_n.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function Aue(e){if(!(e instanceof Cl)||!e.customData)return!1;const r=Number(e.customData.httpStatus);return r===429||r===500||r===503||r===504}class _ue{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function Pue(e,r,a,n,s){if(s&&s.global){e("event",a,n);return}else{const i=await r,o=Object.assign(Object.assign({},n),{send_to:i});e("event",a,o)}}async function Tue(e,r,a,n){{const s=await r;e("config",s,{update:!0,user_id:a})}}async function Oue(e,r,a,n){{const s=await r;e("config",s,{update:!0,user_properties:a})}}async function Mue(){if(N2())try{await S2()}catch(e){return Ka.warn(_n.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return Ka.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jue(e,r,a,n,s,i,o){var d;const u=kue(e);u.then(b=>{a[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&Ka.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Ka.error(b)),r.push(u);const m=Mue().then(b=>{if(b)return n.getId()}),[p,f]=await Promise.all([u,m]);xue(i)||fue(i,p.measurementId),s("js",new Date);const y=(d=o?.config)!==null&&d!==void 0?d:{};return y[oue]="firebase",y.update=!0,f!=null&&(y[iue]=f),s("config",p.measurementId,y),p.measurementId}class Rue{constructor(r){this.app=r}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},BT=[];const qT={};let rw="dataLayer",$ue="gtag",UT,Ig,VT=!1;function Lue(){const e=[];if(K$()&&e.push("This is a browser extension environment."),X$()||e.push("Cookies are not available."),e.length>0){const r=e.map((n,s)=>`(${s+1}) ${n}`).join(" "),a=_n.create("invalid-analytics-context",{errorInfo:r});Ka.warn(a.message)}}function Iue(e,r,a){Lue();const n=e.options.appId;if(!n)throw _n.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ka.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(ll[n]!=null)throw _n.create("already-exists",{id:n});if(!VT){pue(rw);const{wrappedGtag:i,gtagCore:o}=bue(ll,BT,qT,rw,$ue);Ig=i,UT=o,VT=!0}return ll[n]=jue(e,BT,qT,r,UT,rw,a),new Rue(e)}function Due(e=cde()){e=jg(e);const r=Rg(e,B0);return r.isInitialized()?r.getImmediate():Fue(e)}function Fue(e,r={}){const a=Rg(e,B0);if(a.isInitialized()){const s=a.getImmediate();if(F0(r,a.getOptions()))return s;throw _n.create("already-initialized")}return a.initialize({options:r})}async function zue(){if(K$()||!X$()||!N2())return!1;try{return await S2()}catch{return!1}}function HT(e,r,a){e=jg(e),Tue(Ig,ll[e.app.options.appId],r).catch(n=>Ka.error(n))}function WT(e,r,a){e=jg(e),Oue(Ig,ll[e.app.options.appId],r).catch(n=>Ka.error(n))}function SL(e,r,a,n){e=jg(e),Pue(Ig,ll[e.app.options.appId],r,a,n).catch(s=>Ka.error(s))}const GT="@firebase/analytics",KT="0.10.8";function Bue(){hl(new po(B0,(r,{options:a})=>{const n=r.getProvider("app").getImmediate(),s=r.getProvider("installations-internal").getImmediate();return Iue(n,s,a)},"PUBLIC")),hl(new po("analytics-internal",e,"PRIVATE")),co(GT,KT),co(GT,KT,"esm2017");function e(r){try{const a=r.getProvider(B0).getImmediate();return{logEvent:(n,s,i)=>SL(a,n,s,i)}}catch(a){throw _n.create("interop-component-reg-failed",{reason:a})}}}Bue();const que={apiKey:"AIzaSyChYexMhZDqZ-8DaI-ynht7q_OL8M2260M",authDomain:"hdmarketcg.firebaseapp.com",projectId:"hdmarketcg",storageBucket:"hdmarketcg.firebasestorage.app",messagingSenderId:"882664621680",appId:"1:882664621680:web:976a95b6708fe409f0d6b5",measurementId:"G-NCC0QWVJQB"};let XT=null,mp=null;const Uue=async()=>{if(typeof window>"u")return!1;try{return await zue()}catch{return!1}},kL=async()=>mp||(mp=(async()=>{if(!await Uue())return null;const r=$T().length?$T()[0]:eL(que);return XT=Due(r),XT})(),mp),Vue=async({path:e,title:r})=>{const a=await kL();if(!a)return;const n=e||window.location.pathname;SL(a,"page_view",{page_path:n,page_location:window.location.href,page_title:r||document.title||"HDMarket"})},Hue=async e=>{const r=await kL();if(!r)return;if(!e){HT(r,null),WT(r,{});return}const a=e._id||e.id||null;a&&HT(r,String(a)),WT(r,{account_type:e.accountType||"person",role:e.role||"user"})};function Wue(){const e=hn(),{user:r}=h.useContext(fr);return h.useEffect(()=>{Hue(r)},[r]),h.useEffect(()=>{const a=`${e.pathname}${e.search||""}`;Vue({path:a})},[e]),null}function Gue(){return noe(),t.createElement(sD,null,t.createElement(Xle,null),t.createElement(Wue,null),t.createElement(soe,null),t.createElement(Yz,null),t.createElement("main",{className:"pt-20 sm:pt-24 md:pt-32 pb-24 md:pb-0",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 5rem)"}},t.createElement(Y8,null,t.createElement(Tt,{path:"/",element:t.createElement(Dq,null)}),t.createElement(Tt,{path:"/login",element:t.createElement(Fq,null)}),t.createElement(Tt,{path:"/register",element:t.createElement(zq,null)}),t.createElement(Tt,{path:"/forgot-password",element:t.createElement(Bq,null)}),t.createElement(Tt,{path:"/product/:slug",element:t.createElement(Eie,null)}),t.createElement(Tt,{path:"/product-preview/:slug",element:t.createElement(kie,null)}),t.createElement(Tt,{path:"/shop/:slug",element:t.createElement(Uie,null)}),t.createElement(Tt,{path:"/shops/verified",element:t.createElement(Hie,null)}),t.createElement(Tt,{path:"/help",element:t.createElement(Vie,null)}),t.createElement(Tt,{path:"/top-deals",element:t.createElement(rie,null)}),t.createElement(Tt,{path:"/top-ranking",element:t.createElement(nie,null)}),t.createElement(Tt,{path:"/top-favorites",element:t.createElement(iie,null)}),t.createElement(Tt,{path:"/top-discounts",element:t.createElement(die,null)}),t.createElement(Tt,{path:"/top-new",element:t.createElement(mie,null)}),t.createElement(Tt,{path:"/top-used",element:t.createElement(pie,null)}),t.createElement(Tt,{path:"/top-sales",element:t.createElement(lie,null)}),t.createElement(Tt,{path:"/products",element:t.createElement(xie,null)}),t.createElement(Tt,{path:"/search",element:t.createElement(Vle,null)}),t.createElement(Tt,{path:"/cities",element:t.createElement(vie,null)}),t.createElement(Tt,{path:"/categories/:categoryId",element:t.createElement(hie,null)}),t.createElement(Tt,{path:"/suggestions",element:t.createElement(Fle,null)}),t.createElement(Tt,{path:"/favorites",element:t.createElement(Nr,null,t.createElement(zie,null))}),t.createElement(Tt,{path:"/product/:slug/edit",element:t.createElement(Nr,null,t.createElement(Cie,null))}),t.createElement(Tt,{path:"/profile",element:t.createElement(Nr,null,t.createElement(Lie,null))}),t.createElement(Tt,{path:"/notifications",element:t.createElement(Nr,null,t.createElement(Fie,null))}),t.createElement(Tt,{path:"/cart",element:t.createElement(Nr,null,t.createElement(_ie,null))}),t.createElement(Tt,{path:"/my",element:t.createElement(Nr,null,t.createElement(Wq,null))}),t.createElement(Tt,{path:"/my/stats",element:t.createElement(Nr,null,t.createElement(Gie,null))}),t.createElement(Tt,{path:"/orders",element:t.createElement(Nr,null,t.createElement(cT,null))}),t.createElement(Tt,{path:"/orders/checkout",element:t.createElement(Nr,null,t.createElement(roe,null))}),t.createElement(Tt,{path:"/orders/draft",element:t.createElement(Nr,null,t.createElement(aoe,null))}),t.createElement(Tt,{path:"/orders/:status",element:t.createElement(Nr,null,t.createElement(cT,null))}),t.createElement(Tt,{path:"/orders/messages",element:t.createElement(Nr,null,t.createElement(Gle,null))}),t.createElement(Tt,{path:"/seller/orders",element:t.createElement(Nr,null,t.createElement(uT,null))}),t.createElement(Tt,{path:"/seller/orders/:status",element:t.createElement(Nr,null,t.createElement(uT,null))}),t.createElement(Tt,{path:"/admin/chat-templates",element:t.createElement(Nr,{roles:["admin"]},t.createElement(ple,null))}),t.createElement(Tt,{path:"/admin",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(Wse,null))}),t.createElement(Tt,{path:"/admin/payments",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(Gse,null))}),t.createElement(Tt,{path:"/admin/orders",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(Zse,null))}),t.createElement(Tt,{path:"/admin/delivery-guys",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(eie,null))}),t.createElement(Tt,{path:"/admin/users",element:t.createElement(Nr,{role:"admin"},t.createElement(Kse,null))}),t.createElement(Tt,{path:"/admin/users/:id/stats",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(Ale,null))}),t.createElement(Tt,{path:"/admin/product-boosts",element:t.createElement(Nr,{roles:["admin"]},t.createElement(hle,null))}),t.createElement(Tt,{path:"/admin/products",element:t.createElement(Nr,{roles:["admin","manager"]},t.createElement(Ele,null))}),t.createElement(Tt,{path:"/admin/feedback",element:t.createElement(Nr,{allowAccess:e=>e.role==="admin"||e.canReadFeedback===!0},t.createElement(wle,null))}),t.createElement(Tt,{path:"/admin/payment-verifiers",element:t.createElement(Nr,{roles:["admin"]},t.createElement(_le,null))}),t.createElement(Tt,{path:"/admin/payment-verification",element:t.createElement(Nr,{allowAccess:e=>e.role==="admin"||e.canVerifyPayments===!0},t.createElement(Tle,null))}),t.createElement(Tt,{path:"/admin/reports",element:t.createElement(Nr,{roles:["admin"]},t.createElement(Mle,null))}),t.createElement(Tt,{path:"/admin/settings",element:t.createElement(Nr,{roles:["admin"]},t.createElement(jle,null))}),t.createElement(Tt,{path:"/certified-products",element:t.createElement($le,null)}))),t.createElement(Qz,null),t.createElement(lle,null),t.createElement(fle,null))}i8.createRoot(document.getElementById("root")).render(t.createElement(t.StrictMode,null,t.createElement(u9,null,t.createElement(m9,null,t.createElement(f9,null,t.createElement(qq,null,t.createElement(Gue,null)))))));export{nN as W,tl as _,Tf as c,Pr as g};
